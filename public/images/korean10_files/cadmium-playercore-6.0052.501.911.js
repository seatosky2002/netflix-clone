U7QY0[70768]=(function(){var Q38=2;for(;Q38 !== 9;){switch(Q38){case 2:Q38=typeof globalThis === '\u006f\u0062\x6a\x65\u0063\u0074'?1:5;break;case 5:var m_z;try{var I28=2;for(;I28 !== 6;){switch(I28){case 2:Object['\x64\u0065\u0066\x69\x6e\x65\u0050\u0072\x6f\x70\u0065\u0072\x74\u0079'](Object['\x70\x72\x6f\u0074\u006f\u0074\x79\u0070\x65'],'\x71\x6b\u0046\x54\x72',{'\x67\x65\x74':function(){return this;},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});m_z=qkFTr;m_z['\u0056\x65\u0052\x77\u0041']=m_z;I28=4;break;case 4:I28=typeof VeRwA === '\x75\u006e\u0064\x65\u0066\x69\x6e\x65\x64'?3:9;break;case 9:delete m_z['\u0056\x65\u0052\x77\u0041'];var Z5J=Object['\x70\u0072\x6f\x74\u006f\u0074\x79\x70\x65'];delete Z5J['\x71\x6b\u0046\x54\u0072'];I28=6;break;case 3:throw "";I28=9;break;}}}catch(e7g){m_z=window;}return m_z;break;case 1:return globalThis;break;}}})();U7QY0[621982]=U7QY0[2369];U7QY0[2369]=(function(E_N){return {b1D8cog:function(){var z3P,U3C=arguments;switch(E_N){case 12:z3P=U3C[0] + U3C[2] - U3C[1];break;case 1:z3P=U3C[1] / U3C[0];break;case 16:z3P=U3C[1] < U3C[0];break;case 7:z3P=U3C[1] + U3C[0];break;case 13:z3P=(U3C[1] + U3C[3]) / U3C[0] - U3C[2];break;case 8:z3P=U3C[0] instanceof U3C[1];break;case 3:z3P=U3C[1] - U3C[4] + U3C[3] + U3C[2] - U3C[0];break;case 2:z3P=U3C[1] * U3C[0] / U3C[2];break;case 23:z3P=-U3C[0] * U3C[1] - U3C[3] + U3C[2] + U3C[4];break;case 0:z3P=U3C[1] - U3C[0];break;case 19:z3P=U3C[0] * U3C[4] - U3C[2] + U3C[3] - U3C[1];break;case 6:z3P=U3C[0] == U3C[1];break;case 9:z3P=-U3C[1] + U3C[0];break;case 11:z3P=U3C[2] - U3C[0] + U3C[1];break;case 18:z3P=U3C[3] / U3C[1] + U3C[2] + U3C[0];break;case 15:z3P=U3C[1] * U3C[0];break;case 5:z3P=U3C[0] === U3C[1];break;case 4:z3P=U3C[2] / U3C[1] - U3C[0];break;case 20:z3P=(U3C[2] / U3C[0] | U3C[3]) * U3C[1];break;case 17:z3P=U3C[0] <= U3C[1];break;case 22:z3P=U3C[2] / U3C[0] | U3C[1];break;case 14:z3P=U3C[3] - U3C[0] - U3C[1] + U3C[2];break;case 21:z3P=U3C[0] + U3C[3] / U3C[2] * U3C[1];break;case 10:z3P=(U3C[4] + U3C[2]) * U3C[3] + U3C[0] - U3C[1];break;}return z3P;},K1frZvU:function(L2L){E_N=L2L;}};})();U7QY0.S7f=function(){return typeof U7QY0[2369].b1D8cog === 'function'?U7QY0[2369].b1D8cog.apply(U7QY0[2369],arguments):U7QY0[2369].b1D8cog;};function U7QY0(){}U7QY0[336820]=false;U7QY0.T$6=function(){return typeof U7QY0[2369].K1frZvU === 'function'?U7QY0[2369].K1frZvU.apply(U7QY0[2369],arguments):U7QY0[2369].K1frZvU;};U7QY0.x0M=function(){return typeof U7QY0[2369].K1frZvU === 'function'?U7QY0[2369].K1frZvU.apply(U7QY0[2369],arguments):U7QY0[2369].K1frZvU;};U7QY0[437284]=U7QY0[2369];U7QY0[192146]=961;U7QY0[255]=false;U7QY0[224773]=false;U7QY0[618371]=U7QY0[70768];U7QY0[553287]=U7QY0[70768];U7QY0.F8S=function(){return typeof U7QY0[2369].b1D8cog === 'function'?U7QY0[2369].b1D8cog.apply(U7QY0[2369],arguments):U7QY0[2369].b1D8cog;};U7QY0[70768].r944=U7QY0;(function(){(function(Ba,Lb){(function(){var fb,Ga,tb,Eb,db,Fb,vb,Za,Gb;function qb(ia){var sa;sa=0;return function(){return sa < ia.length?{done:!1,value:ia[sa++]}:{done:!0};};}function Ma(ia,sa){var va,b;if(sa)a:{va=Ga;ia=ia.split(".");for(var t=0;t < ia.length - 1;t++){b=ia[t];if(!((b in va)))break a;va=va[b];}ia=ia[ia.length - 1];t=va[ia];sa=sa(t);sa != t && null != sa && fb(va,ia,{configurable:!0,writable:!0,value:sa});}}function rb(ia){ia={next:ia};ia[Symbol.iterator]=function(){return this;};return ia;}function Ea(ia){var sa;sa="undefined" != typeof Symbol && Symbol.iterator && ia[Symbol.iterator];return sa?sa.call(ia):{next:qb(ia)};}function sb(ia){for(var sa,va=[];!(sa=ia.next()).done;)va.push(sa.value);return va;}function za(ia){return ia instanceof Array?ia:sb(Ea(ia));}function Ia(ia,sa){var t;ia.prototype=tb(sa.prototype);ia.prototype.constructor=ia;if(Za)Za(ia,sa);else for(var va in sa)if("prototype" != va)if(Object.defineProperties){t=Object.getOwnPropertyDescriptor(sa,va);t && Object.defineProperty(ia,va,t);}else ia[va]=sa[va];ia.V3c=sa.prototype;}function gb(){this.D8=!1;this.wL=null;this.rS=void 0;this.oo=1;this.yob=this.$U=0;this.nN=null;}function hb(ia){if(ia.D8)throw new TypeError("Generator is already running");ia.D8=!0;}function ab(ia,sa,va){ia.oo=va;return {value:sa};}function Bb(ia){ia.oo=2;ia.$U=0;}function ib(ia){var sa;ia.$U=0;sa=ia.nN.Jnb;ia.nN=null;return sa;}function jb(ia){this.Ug=new gb();this.jBc=ia;}function Cb(ia,sa){var va;hb(ia.Ug);va=ia.Ug.wL;if(va)return kb(ia,("return" in va)?va["return"]:function(t){return {value:t,done:!0};},sa,ia.Ug.return);ia.Ug.return(sa);return bb(ia);}function kb(ia,sa,va,t){var b,a;try{b=sa.call(ia.Ug.wL,va);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (ia.Ug.D8=!1,b);a=b.value;}catch(d){return (ia.Ug.wL=null,ia.Ug.cca(d),bb(ia));}ia.Ug.wL=null;t.call(ia.Ug,a);return bb(ia);}function bb(ia){var sa;for(;ia.Ug.oo;)try{sa=ia.jBc(ia.Ug);if(sa)return (ia.Ug.D8=!1,{value:sa.value,done:!1});}catch(va){ia.Ug.rS=void 0;ia.Ug.cca(va);}ia.Ug.D8=!1;if(ia.Ug.nN){sa=ia.Ug.nN;ia.Ug.nN=null;if(sa.roc)throw sa.Jnb;return {value:sa.return,done:!0};}return {value:void 0,done:!0};}function Db(ia){this.next=function(sa){return ia.c$(sa);};this.throw=function(sa){return ia.cca(sa);};this.return=function(sa){return Cb(ia,sa);};this[Symbol.iterator]=function(){return this;};}function Ta(ia,sa){sa=new Db(new jb(sa));Za && ia.prototype && Za(sa,ia.prototype);return sa;}function cb(ia,sa,va){if(null == ia)throw new TypeError("The 'this' value for String.prototype." + va + " must not be null or undefined");if(sa instanceof RegExp)throw new TypeError("First argument to String.prototype." + va + " must not be a regular expression");return ia + "";}function Ua(ia,sa){return Object.prototype.hasOwnProperty.call(ia,sa);}function ub(ia,sa,va){var a;ia instanceof String && (ia=String(ia));for(var t=ia.length,b=0;b < t;b++){a=ia[b];if(sa.call(va,a,b,ia))return {KOa:b,Jca:a};}return {KOa:-1,Jca:void 0};}function lb(ia,sa){var va,t,b;ia instanceof String && (ia+="");va=0;t=!1;b={next:function(){var a;if(!t && va < ia.length){a=va++;return {value:sa(a,ia[a]),done:!1};}t=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}fb="function" == typeof Object.defineProperties?Object.defineProperty:function(ia,sa,va){if(ia == Array.prototype || ia == Object.prototype)return ia;ia[sa]=va.value;return ia;};Ga=(function(ia){var va;ia=["object" == typeof globalThis && globalThis,ia,"object" == typeof Ba && Ba,"object" == typeof self && self,"object" == typeof global && global];for(var sa=0;sa < ia.length;++sa){va=ia[sa];if(va && va.Math == Math)return va;}throw Error("Cannot find global object");})(this);Ma("Symbol",function(ia){var t;function sa(b){if(this instanceof sa)throw new TypeError("Symbol is not a constructor");return new va("jscomp_symbol_" + (b || "") + "_" + t++,b);}function va(b,a){this.hMb=b;fb(this,"description",{configurable:!0,writable:!0,value:a});}if(ia)return ia;va.prototype.toString=function(){return this.hMb;};t=0;return sa;});Ma("Symbol.iterator",function(ia){var t;if(ia)return ia;ia=Symbol("Symbol.iterator");for(var sa=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),va=0;va < sa.length;va++){t=Ga[sa[va]];"function" === typeof t && "function" != typeof t.prototype[ia] && fb(t.prototype,ia,{configurable:!0,writable:!0,value:function(){return rb(qb(this));}});}return ia;});tb="function" == typeof Object.create?Object.create:function(ia){function sa(){}sa.prototype=ia;return new sa();};Eb=(function(){var sa;function ia(){function va(){}new va();Reflect.construct(va,[],function(){});return new va() instanceof va;}if("undefined" != typeof Reflect && Reflect.construct){if(ia())return Reflect.construct;sa=Reflect.construct;return function(va,t,b){va=sa(va,t);b && Reflect.setPrototypeOf(va,b.prototype);return va;};}return function(va,t,b){void 0 === b && (b=va);b=tb(b.prototype || Object.prototype);return Function.prototype.apply.call(va,b,t) || b;};})();if("function" == typeof Object.setPrototypeOf)db=Object.setPrototypeOf;else {a:{Fb={a:!0};vb={};try{vb.__proto__=Fb;db=vb.a;break a;}catch(ia){}db=!1;}db=db?function(ia,sa){ia.__proto__=sa;if(ia.__proto__ !== sa)throw new TypeError(ia + " is not extensible");return ia;}:null;}Za=db;gb.prototype.c$=function(ia){this.rS=ia;};gb.prototype.cca=function(ia){this.nN={Jnb:ia,roc:!0};this.oo=this.$U || this.yob;};gb.prototype.return=function(ia){this.nN={return:ia};this.oo=this.yob;};jb.prototype.c$=function(ia){hb(this.Ug);if(this.Ug.wL)return kb(this,this.Ug.wL.next,ia,this.Ug.c$);this.Ug.c$(ia);return bb(this);};jb.prototype.cca=function(ia){hb(this.Ug);if(this.Ug.wL)return kb(this,this.Ug.wL["throw"],ia,this.Ug.c$);this.Ug.cca(ia);return bb(this);};Ma("Reflect",function(ia){return ia?ia:{};});Ma("Reflect.construct",function(){return Eb;});Ma("Reflect.setPrototypeOf",function(ia){return ia?ia:Za?function(sa,va){try{return (Za(sa,va),!0);}catch(t){return !1;}}:null;});Ma("Promise",function(ia){var b,a;function sa(d){var n;this.ZZ=0;this.Naa=void 0;this.xY=[];this.Iub=!1;n=this.nJa();try{d(n.resolve,n.reject);}catch(c){n.reject(c);}}function va(){this.eI=null;}function t(d){return d instanceof sa?d:new sa(function(n){n(d);});}if(ia)return ia;va.prototype.xhb=function(d){var n;if(null == this.eI){this.eI=[];n=this;this.yhb(function(){n.Gdc();});}this.eI.push(d);};b=Ga.setTimeout;va.prototype.yhb=function(d){b(d,0);};va.prototype.Gdc=function(){var d,c;for(;this.eI && this.eI.length;){d=this.eI;this.eI=[];for(var n=0;n < d.length;++n){c=d[n];d[n]=null;try{c();}catch(g){this.j1b(g);}}}this.eI=null;};va.prototype.j1b=function(d){this.yhb(function(){throw d;});};sa.prototype.nJa=function(){var n,c;function d(g){return function(f){c || (c=!0,g.call(n,f));};}n=this;c=!1;return {resolve:d(this.hEc),reject:d(this.oVa)};};sa.prototype.hEc=function(d){var n;if(d === this)this.oVa(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof sa)this.gHc(d);else {a:switch(typeof d){case "object":n=null != d;break a;case "function":n=!0;break a;default:n=!1;}n?this.gEc(d):this.spb(d);}};sa.prototype.gEc=function(d){var n;n=void 0;try{n=d.then;}catch(c){this.oVa(c);return;}"function" == typeof n?this.hHc(n,d):this.spb(d);};sa.prototype.oVa=function(d){this.IGb(2,d);};sa.prototype.spb=function(d){this.IGb(1,d);};sa.prototype.IGb=function(d,n){if(0 != this.ZZ)throw Error("Cannot settle(" + d + ", " + n + "): Promise already settled in state" + this.ZZ);this.ZZ=d;this.Naa=n;2 === this.ZZ && this.fFc();this.Hdc();};sa.prototype.fFc=function(){var d;d=this;b(function(){var n;if(d.uvc()){n=Ga.console;"undefined" !== typeof n && n.error(d.Naa);}},1);};sa.prototype.uvc=function(){var d,n,c;if(this.Iub)return !1;d=Ga.CustomEvent;n=Ga.Event;c=Ga.dispatchEvent;if("undefined" === typeof c)return !0;"function" === typeof d?d=new d("unhandledrejection",{cancelable:!0}):"function" === typeof n?d=new n("unhandledrejection",{cancelable:!0}):(d=Ga.document.createEvent("CustomEvent"),d.initCustomEvent("unhandledrejection",!1,!0,d));d.promise=this;d.reason=this.Naa;return c(d);};sa.prototype.Hdc=function(){if(null != this.xY){for(var d=0;d < this.xY.length;++d)a.xhb(this.xY[d]);this.xY=null;}};a=new va();sa.prototype.gHc=function(d){var n;n=this.nJa();d.Ria(n.resolve,n.reject);};sa.prototype.hHc=function(d,n){var c;c=this.nJa();try{d.call(n,c.resolve,c.reject);}catch(g){c.reject(g);}};sa.prototype.then=function(d,n){var g,f,e;function c(h,l){return "function" == typeof h?function(k){try{g(h(k));}catch(m){f(m);}}:l;}e=new sa(function(h,l){g=h;f=l;});this.Ria(c(d,g),c(n,f));return e;};sa.prototype.catch=function(d){return this.then(void 0,d);};sa.prototype.Ria=function(d,n){var g;function c(){switch(g.ZZ){case 1:d(g.Naa);break;case 2:n(g.Naa);break;default:throw Error("Unexpected state: " + g.ZZ);}}g=this;null == this.xY?a.xhb(c):this.xY.push(c);this.Iub=!0;};sa.resolve=t;sa.reject=function(d){return new sa(function(n,c){c(d);});};sa.race=function(d){return new sa(function(n,c){for(var g=Ea(d),f=g.next();!f.done;f=g.next())t(f.value).Ria(n,c);});};sa.all=function(d){var n,c;n=Ea(d);c=n.next();return c.done?t([]):new sa(function(g,f){var h,l;function e(k){return function(m){h[k]=m;l--;0 == l && g(h);};}h=[];l=0;do (h.push(void 0),l++,t(c.value).Ria(e(h.length - 1),f),c=n.next());while(!c.done);});};return sa;});Ma("String.prototype.repeat",function(ia){return ia?ia:function(sa){var va;va=cb(this,null,"repeat");if(0 > sa || 1342177279 < sa)throw new RangeError("Invalid count value");sa|=0;for(var t="";sa;)if((sa & 1 && (t+=va),sa>>>=1))va+=va;return t;};});Ma("String.prototype.padEnd",function(ia){return ia?ia:function(sa,va){var t;t=cb(this,null,"padStart");sa-=t.length;va=void 0 !== va?String(va):" ";va=0 < sa && va?va.repeat(Math.ceil(sa / va.length)).substring(0,sa):"";return t + va;};});Ma("Object.values",function(ia){return ia?ia:function(sa){var va,t;va=[];for(t in sa)Ua(sa,t) && va.push(sa[t]);return va;};});Ma("Object.is",function(ia){return ia?ia:function(sa,va){return sa === va?0 !== sa || 1 / sa === 1 / va:sa !== sa && va !== va;};});Ma("Array.prototype.includes",function(ia){return ia?ia:function(sa,va){var t,b,a;t=this;t instanceof String && (t=String(t));b=t.length;va=va || 0;for(0 > va && (va=Math.max(va + b,0));va < b;va++){a=t[va];if(a === sa || Object.is(a,sa))return !0;}return !1;};});Ma("String.prototype.includes",function(ia){return ia?ia:function(sa,va){return -1 !== cb(this,sa,"includes").indexOf(sa,va || 0);};});Ma("WeakMap",function(ia){var d,n;function sa(c){this.V7=(n+=Math.random() + 1).toString();if(c){c=Ea(c);for(var g;!(g=c.next()).done;)(g=g.value,this.set(g[0],g[1]));}}function va(){}function t(c){var g;g=typeof c;return "object" === g && null !== c || "function" === g;}function b(c){var g;if(!Ua(c,d)){g=new va();fb(c,d,{value:g});}}function a(c){var g;g=Object[c];g && (Object[c]=function(f){if(f instanceof va)return f;Object.isExtensible(f) && b(f);return g(f);});}if((function(){var c,g,f;if(!ia || !Object.seal)return !1;try{c=Object.seal({});g=Object.seal({});f=new ia([[c,2],[g,3]]);if(2 != f.get(c) || 3 != f.get(g))return !1;f.delete(c);f.set(g,4);return !f.has(c) && 4 == f.get(g);}catch(e){return !1;}})())return ia;d="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");n=0;sa.prototype.set=function(c,g){if(!t(c))throw Error("Invalid WeakMap key");b(c);if(!Ua(c,d))throw Error("WeakMap key fail: " + c);c[d][this.V7]=g;return this;};sa.prototype.get=function(c){return t(c) && Ua(c,d)?c[d][this.V7]:void 0;};sa.prototype.has=function(c){return t(c) && Ua(c,d) && Ua(c[d],this.V7);};sa.prototype.delete=function(c){return t(c) && Ua(c,d) && Ua(c[d],this.V7)?delete c[d][this.V7]:!1;};return sa;});Ma("Map",function(ia){var a,d;function sa(){var n;n={};return n.Fp=n.next=n.head=n;}function va(n,c){var g;g=n.nF;return rb(function(){if(g){for(;g.head != n.nF;)g=g.Fp;for(;g.next != g.head;)return (g=g.next,{done:!1,value:c(g)});g=null;}return {done:!0,value:void 0};});}function t(n,c){var g,f,e;g=c && typeof c;"object" == g || "function" == g?a.has(c)?g=a.get(c):(g="" + ++d,a.set(c,g)):g="p_" + c;f=n.IE[g];if(f && Ua(n.IE,g))for(n=0;n < f.length;n++){e=f[n];if(c !== c && e.key !== e.key || c === e.key)return {id:g,list:f,index:n,entry:e};}return {id:g,list:f,index:-1,entry:void 0};}function b(n){this.IE={};this.nF=sa();this.size=0;if(n){n=Ea(n);for(var c;!(c=n.next()).done;)(c=c.value,this.set(c[0],c[1]));}}if((function(){var n,c,g,f;if(!ia || "function" != typeof ia || !ia.prototype.entries || "function" != typeof Object.seal)return !1;try{n=Object.seal({x:4});c=new ia(Ea([[n,"s"]]));if("s" != c.get(n) || 1 != c.size || c.get({x:4}) || c.set({x:4},"t") != c || 2 != c.size)return !1;g=c.entries();f=g.next();if(f.done || f.value[0] != n || "s" != f.value[1])return !1;f=g.next();return f.done || 4 != f.value[0].x || "t" != f.value[1] || !g.next().done?!1:!0;}catch(e){return !1;}})())return ia;a=new WeakMap();b.prototype.set=function(n,c){var g;n=0 === n?0:n;g=t(this,n);g.list || (g.list=this.IE[g.id]=[]);g.entry?g.entry.value=c:(g.entry={next:this.nF,Fp:this.nF.Fp,head:this.nF,key:n,value:c},g.list.push(g.entry),this.nF.Fp.next=g.entry,this.nF.Fp=g.entry,this.size++);return this;};b.prototype.delete=function(n){n=t(this,n);return n.entry && n.list?(n.list.splice(n.index,1),n.list.length || delete this.IE[n.id],n.entry.Fp.next=n.entry.next,n.entry.next.Fp=n.entry.Fp,n.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.IE={};this.nF=this.nF.Fp=sa();this.size=0;};b.prototype.has=function(n){return !!t(this,n).entry;};b.prototype.get=function(n){return (n=t(this,n).entry) && n.value;};b.prototype.entries=function(){return va(this,function(n){return [n.key,n.value];});};b.prototype.keys=function(){return va(this,function(n){return n.key;});};b.prototype.values=function(){return va(this,function(n){return n.value;});};b.prototype.forEach=function(n,c){for(var g=this.entries(),f;!(f=g.next()).done;)(f=f.value,n.call(c,f[1],f[0],this));};b.prototype[Symbol.iterator]=b.prototype.entries;d=0;return b;});Ma("Set",function(ia){function sa(va){this.XB=new Map();if(va){va=Ea(va);for(var t;!(t=va.next()).done;)this.add(t.value);}this.size=this.XB.size;}if((function(){var va,t,b,a;if(!ia || "function" != typeof ia || !ia.prototype.entries || "function" != typeof Object.seal)return !1;try{va=Object.seal({x:4});t=new ia(Ea([va]));if(!t.has(va) || 1 != t.size || t.add(va) != t || 1 != t.size || t.add({x:4}) != t || 2 != t.size)return !1;b=t.entries();a=b.next();if(a.done || a.value[0] != va || a.value[1] != va)return !1;a=b.next();return a.done || a.value[0] == va || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(d){return !1;}})())return ia;sa.prototype.add=function(va){va=0 === va?0:va;this.XB.set(va,va);this.size=this.XB.size;return this;};sa.prototype.delete=function(va){va=this.XB.delete(va);this.size=this.XB.size;return va;};sa.prototype.clear=function(){this.XB.clear();this.size=0;};sa.prototype.has=function(va){return this.XB.has(va);};sa.prototype.entries=function(){return this.XB.entries();};sa.prototype.values=function(){return this.XB.values();};sa.prototype.keys=sa.prototype.values;sa.prototype[Symbol.iterator]=sa.prototype.values;sa.prototype.forEach=function(va,t){var b;b=this;this.XB.forEach(function(a){return va.call(t,a,a,b);});};return sa;});Ma("Array.prototype.find",function(ia){return ia?ia:function(sa,va){return ub(this,sa,va).Jca;};});Ma("Number.isFinite",function(ia){return ia?ia:function(sa){return "number" !== typeof sa?!1:!isNaN(sa) && Infinity !== sa && -Infinity !== sa;};});Gb="function" == typeof Object.assign?Object.assign:function(ia,sa){var t;for(var va=1;va < arguments.length;va++){t=arguments[va];if(t)for(var b in t)Ua(t,b) && (ia[b]=t[b]);}return ia;};Ma("Object.assign",function(ia){return ia || Gb;});Ma("Object.entries",function(ia){return ia?ia:function(sa){var va,t;va=[];for(t in sa)Ua(sa,t) && va.push([t,sa[t]]);return va;};});Ma("Array.prototype.keys",function(ia){return ia?ia:function(){return lb(this,function(sa){return sa;});};});Ma("Array.prototype.entries",function(ia){return ia?ia:function(){return lb(this,function(sa,va){return [sa,va];});};});Ma("Array.prototype.findIndex",function(ia){return ia?ia:function(sa,va){return ub(this,sa,va).KOa;};});Ma("Promise.prototype.finally",function(ia){return ia?ia:function(sa){return this.then(function(va){return Promise.resolve(sa()).then(function(){return va;});},function(va){return Promise.resolve(sa()).then(function(){throw va;});});};});Ma("Number.parseInt",function(ia){return ia || parseInt;});Ma("String.prototype.startsWith",function(ia){return ia?ia:function(sa,va){var t,b,a;t=cb(this,sa,"startsWith");sa+="";b=t.length;a=sa.length;va=Math.max(0,Math.min(va | 0,t.length));for(var d=0;d < a && va < b;)if(t[va++] != sa[d++])return !1;return d >= a;};});Ma("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});Ma("Array.prototype.values",function(ia){return ia?ia:function(){return lb(this,function(sa,va){return va;});};});Ma("String.prototype.endsWith",function(ia){return ia?ia:function(sa,va){var t;t=cb(this,sa,"endsWith");sa+="";void 0 === va && (va=t.length);va=Math.max(0,Math.min(va | 0,t.length));for(var b=sa.length;0 < b && 0 < va;)if(t[--va] != sa[--b])return !1;return 0 >= b;};});Ma("Array.from",function(ia){return ia?ia:function(sa,va,t){var b,a;va=null != va?va:function(n){return n;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && sa[Symbol.iterator];if("function" == typeof a){sa=a.call(sa);for(var d=0;!(a=sa.next()).done;)b.push(va.call(t,a.value,d++));}else for((a=sa.length,d=0);d < a;d++)b.push(va.call(t,sa[d],d));return b;};});Ma("Number.isNaN",function(ia){return ia?ia:function(sa){return "number" === typeof sa && isNaN(sa);};});Ma("globalThis",function(ia){return ia || Ga;});Ma("Reflect.apply",function(ia){var sa;if(ia)return ia;sa=Function.prototype.apply;return function(va,t,b){return sa.call(va,t,b);};});Ma("Object.getOwnPropertySymbols",function(ia){return ia?ia:function(){return [];};});Ma("Reflect.getPrototypeOf",function(ia){return ia || Object.getPrototypeOf;});Ma("Math.tanh",function(ia){return ia?ia:function(sa){var va;sa=Number(sa);if(0 === sa)return sa;va=Math.exp(-2 * Math.abs(sa));va=(1 - va) / (1 + va);return 0 > sa?-va:va;};});Ma("String.fromCodePoint",function(ia){return ia?ia:function(sa){var b;for(var va="",t=0;t < arguments.length;t++){b=Number(arguments[t]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?va+=String.fromCharCode(b):(b-=65536,va+=String.fromCharCode(b >>> 10 & 1023 | 55296),va+=String.fromCharCode(b & 1023 | 56320));}return va;};});Ma("Object.setPrototypeOf",function(ia){return ia || Za;});(function(){var sa,va;function ia(t){var b;b=va[t];if(void 0 !== b)return b.exports;b=va[t]={exports:{}};sa[t].call(b.exports,b,b.exports,ia);return b.exports;}sa={99061:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},35097:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.b0a=void 0;d=a(22970);t=(function(n){function c(){return n.call(this,Ba.crypto) || this;}d.__extends(c,n);return c;})(a(14362).c0a);b.b0a=t;},14362:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.c0a=void 0;d=a(22970);n=a(78212);c=["encrypt","decrypt"];g={name:"HMAC",hash:{name:"SHA-256"}};f={name:"RSA-OAEP"};t=(function(){function e(h){this.webCrypto=h;this.OG=this.webCrypto.subtle;}e.prototype.$fc=function(){throw Error("not implemented");};e.prototype.sac=function(){throw Error("not implemented");};e.prototype.getRandomValues=function(h){h=new Uint8Array(h);return this.webCrypto.getRandomValues(h);};e.prototype.Zib=function(h,l){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("AES-CBC" !== h.algorithm)throw Error("mismatched key algorithm");if("secret" !== h.Oz.type)throw Error("invalid platformKey");if(16 !== l.byteLength)throw Error("iv wrong size");return [2];});});};e.Dkb=function(h){return {name:"AES-CBC",iv:h};};e.prototype.a0b=function(h,l,k){return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:return [4,this.Zib(h,l)];case 1:return (p.S(),[4,this.OG.encrypt(e.Dkb(l),h.Oz,k)]);case 2:return (m=p.S(),[2,new Uint8Array(m)]);}});});};e.prototype.$_b=function(h,l,k){return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:return [4,this.Zib(h,l)];case 1:return (p.S(),[4,this.OG.decrypt(e.Dkb(l),h.Oz,k)]);case 2:return (m=p.S(),[2,new Uint8Array(m)]);}});});};e.prototype.$ib=function(h,l){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("AES-GCM" !== h.algorithm)throw Error("mismatched key algorithm");if("secret" !== h.Oz.type)throw Error("invalid platformKey");if(12 !== l.byteLength)throw Error("iv wrong size");return [2,Promise.resolve()];});});};e.Ekb=function(h,l){return {name:"AES-GCM",iv:h,additionalData:l,tagLength:128};};e.prototype.c0b=function(h,l,k,m){return d.__awaiter(this,void 0,void 0,function(){var p;return d.__generator(this,function(r){switch(r.label){case 0:return [4,this.$ib(h,l)];case 1:return (r.S(),[4,this.OG.encrypt(e.Ekb(l,k),h.Oz,m)]);case 2:return (p=r.S(),[2,new Uint8Array(p)]);}});});};e.prototype.b0b=function(h,l,k,m){return d.__awaiter(this,void 0,void 0,function(){var p;return d.__generator(this,function(r){switch(r.label){case 0:return [4,this.$ib(h,l)];case 1:r.S();if(16 > m.byteLength)throw Error("ciphertext too short");return [4,this.OG.decrypt(e.Ekb(l,k),h.Oz,m)];case 2:return (p=r.S(),[2,new Uint8Array(p)]);}});});};e.prototype.H4b=function(h){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("HMAC-SHA256" !== h.algorithm)throw Error("mismatched key algorithm");if("secret" !== h.Oz.type)throw Error("invalid platformKey");return [2,Promise.resolve()];});});};e.prototype.vmc=function(h,l){return d.__awaiter(this,void 0,void 0,function(){var k;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.H4b(h)];case 1:return (m.S(),[4,this.OG.sign(g,h.Oz,l)]);case 2:return (k=m.S(),[2,new Uint8Array(k)]);}});});};e.prototype.SOa=function(h,l){return d.__awaiter(this,void 0,void 0,function(){var k,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:k=l.byteLength;switch(h){case "AES-GCM":m={name:"AES-GCM"};p=c;if(16 !== k)throw Error("invalid import key length");break;case "AES-CBC":m={name:"AES-CBC"};p=c;if(16 !== k)throw Error("invalid import key length");break;case "HMAC-SHA256":m=g;p=["sign","verify"];if(16 !== k && 32 !== k)throw Error("invalid import key length");break;default:throw Error("invalid import algorithm");}return [4,this.OG.importKey("raw",l,m,!1,p)];case 1:return (r=q.S(),[2,n.mda.qV(h,r)]);}});});};e.prototype.egc=function(){return d.__awaiter(this,void 0,void 0,function(){var h,l,k,m;return d.__generator(this,function(p){switch(p.label){case 0:return (h={name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},[4,this.OG.generateKey(h,!1,c)]);case 1:return (l=p.S(),k=n.mda.nV("RSA-OAEP",l.privateKey),m=n.mda.oV("RSA-OAEP",l.publicKey),[2,new n.d0a(k,m)]);}});});};e.prototype.Wnb=function(h){return d.__awaiter(this,void 0,void 0,function(){var l,k;return d.__generator(this,function(m){switch(m.label){case 0:if("RSA-OAEP" !== h.algorithm)throw Error("invalid export key algorithm");l=h.publicKey.Oz;if("public" !== l.type)throw Error("invalid export key type");return [4,this.OG.exportKey("spki",l)];case 1:return (k=m.S(),[2,new Uint8Array(k)]);}});});};e.prototype.Q4b=function(h){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("RSA-OAEP" !== h.algorithm)throw Error("mismatched key algorithm");if("private" !== h.Oz.type)throw Error("invalid platformKey");return [2,Promise.resolve()];});});};e.prototype.HEc=function(h,l){return d.__awaiter(this,void 0,void 0,function(){var k;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.Q4b(h)];case 1:return (m.S(),[4,this.OG.decrypt(f,h.Oz,l)]);case 2:return (k=m.S(),[2,new Uint8Array(k)]);}});});};return e;})();b.c0a=t;},78212:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.d0a=b.mda=b.e0a=b.Z_a=void 0;(function(a){a.AES_GCM="AES-GCM";a.AES_CBC="AES-CBC";a.HMAC_SHA256="HMAC-SHA256";a.RSA_OAEP="RSA-OAEP";a.DIFFIE_HELLMAN="DIFFIE-HELLMAN";a.DERIVE="DERIVE";})(b.Z_a || (b.Z_a={}));(function(a){a[a.SECRET=0]="SECRET";a[a.PRIVATE=1]="PRIVATE";a[a.PUBLIC=2]="PUBLIC";})(b.e0a || (b.e0a={}));b.mda=(function(){function a(d,n,c){this.algorithm=d;this.Oz=n;this.type=c;}a.qV=function(d,n){if("RSA-OAEP" === d || "DIFFIE-HELLMAN" === d)throw Error("incompatible algorithm for secret key");return new a(d,n,0);};a.nV=function(d,n){if("RSA-OAEP" !== d && "DIFFIE-HELLMAN" !== d)throw Error("incompatible algorithm for private key");return new a(d,n,1);};a.oV=function(d,n){if("RSA-OAEP" !== d && "DIFFIE-HELLMAN" !== d)throw Error("incompatible algorithm for public key");return new a(d,n,2);};return a;})();b.d0a=(function(){return function(a,d){if(1 !== a.type)throw Error("wrong key type for private key");if(2 !== d.type)throw Error("wrong key type for public key");if(a.algorithm !== d.algorithm)throw Error("algorithm mismatch between public and private key");this.algorithm=a.algorithm;this.privateKey=a;this.publicKey=d;};})();},7379:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.f0a=void 0;d=a(22970);n=a(84032);c=a(20408);g=a(2802);f=a(31178);e=a(80462);h=a(11038);l=a(12346);t=(function(){function k(m){k.iFc(m);switch(m.keyx){case g.AleKeyxScheme.CLEAR:this.Bna=new f.Z5a(m.crypto,m.Yf,m.scheme);break;case g.AleKeyxScheme.RSA_OAEP_256:this.Bna=new h.a6a(m.crypto,m.Yf,m.scheme);break;case g.AleKeyxScheme.AUTH_DH:if(!m.Li || !m.bKa)throw Error("missing config for AUTH-DH keyx scheme");this.Bna=new l.Y5a(m.crypto,m.Yf,m.Li,m.bKa);break;default:throw Error("unsupported key exchange scheme");}this.config=d.__assign({},m);}k.iFc=function(m){if(m.scheme === g.AleScheme.A128CBC_HS256_NRD && m.keyx !== g.AleKeyxScheme.AUTH_DH || m.keyx === g.AleKeyxScheme.AUTH_DH && m.scheme !== g.AleScheme.A128CBC_HS256_NRD)throw Error("ALE scheme and Keyx scheme are incompatible");};k.prototype.Pjc=function(){return d.__awaiter(this,void 0,void 0,function(){var m,p;return d.__generator(this,function(r){switch(r.label){case 0:return (p={ver:e.k9a,scheme:this.config.scheme,type:this.config.nkb},[4,this.Bna.TMa()]);case 1:return (m=(p.keyx=r.S(),p),[2,JSON.stringify(m)]);}});});};k.prototype.createSession=function(m){return d.__awaiter(this,void 0,void 0,function(){var p,r,q,u,v;return d.__generator(this,function(w){switch(w.label){case 0:p=(0,c.PAb)(m);if(p.ver !== c.l9a)throw Error("incompatible provisioning response version");if(p.scheme !== this.config.scheme)throw Error("inconsistent scheme in provisioning response");if(p.keyx.scheme !== this.config.keyx)throw Error("inconsistent keyx scheme in provisioning response");return [4,this.Bna.DUa(p.keyx)];case 1:return (r=w.S(),q=new Date(),q.setSeconds(q.getSeconds() + p.ttl),u=void 0 === p.rw?this.h6b(p.ttl):p.rw,v=new Date(q.getTime()),v.setSeconds(v.getSeconds() - u),[2,new n.g0a(p.token,q,v,r,this.config.Yf)]);}});});};k.prototype.h6b=function(m){return Math.min(Math.floor(m / 3),86400);};return k;})();b.f0a=t;},84032:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.g0a=void 0;d=a(22970);t=(function(){function n(c,g,f,e,h){this.token=c;this.Sha=e;this.Yf=h;c=new Date();this.Mka=g < c?c:g;this.zra=f < c?c:f;this.zra=this.zra > this.Mka?this.Mka:this.zra;}n.prototype.decrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.Lka();return [2,this.Sha.decrypt(c)];});});};n.prototype.M$b=function(c){return d.__awaiter(this,void 0,void 0,function(){var g;return d.__generator(this,function(f){switch(f.label){case 0:return (this.Lka(),[4,this.Sha.decrypt(c)]);case 1:return (g=f.S(),[2,this.Yf.QZa(g)]);}});});};n.prototype.encrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){var g;return d.__generator(this,function(){this.Lka();g="string" === typeof c?this.Yf.Kba(c):c;return [2,this.Sha.encrypt(g)];});});};n.prototype.Lka=function(){if(this.uub(this.Mka))throw Error("session expired");};n.prototype.Vcc=function(c){return d.__awaiter(this,void 0,void 0,function(){var g;return d.__generator(this,function(){this.Lka();g=this.Yf.Kba(c);return [2,this.Sha.encrypt(g)];});});};n.prototype.Tj=function(){return this.Mka;};n.prototype.pba=function(){return this.uub(this.zra);};n.prototype.uub=function(c){var g;g=new Date().getTime();c=c.getTime();return 1E3 >= Math.abs(g - c) || g >= c;};return n;})();b.g0a=t;},1084:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yU=void 0;b.yU=function(a,d,n){return a.slice?a.slice(d,n):new Uint8Array(a.buffer.slice(d || 0,n || a.buffer.byteLength));};},49217:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.h0a=void 0;t=(function(){function a(){}a.prototype.Kba=function(d){return new TextEncoder().encode(d);};a.prototype.QZa=function(d){return new TextDecoder().decode(d);};a.prototype.PU=function(d){return btoa(String.fromCharCode.apply(null,d)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"");};a.prototype.yN=function(d){d=d.replace(/-/g,"+").replace(/_/g,"/").padEnd(d.length + (4 - d.length % 4) % 4,"=");d=atob(d);for(var n=d.length,c=new Uint8Array(n),g=0;g < n;g++)c[g]=d.charCodeAt(g);return c;};return a;})();b.h0a=t;},44191:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.cya=void 0;d=a(22970);t=(function(){function n(c,g,f,e,h){this.xYa="";this.crypto=g;this.Yf=f;this.enc=c.toString();this.kid=e;this.hvb=h;}n.prototype.encrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){var g,f,e,h,l,k,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:return (g=this.pic(),f=this.crypto.getRandomValues(this.hvb),e=this.Yf.PU(f),h=this.Yf.Kba(g),[4,this.Cmb(c,h,f)]);case 1:return (l=q.S(),k=l.AE,m=l.tag,p=this.Yf.PU(k),r=this.Yf.PU(m),[2,g + ".." + e + "." + p + "." + r]);}});});};n.prototype.decrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){var g,f,e,h,l,k,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:if(!c.length)throw Error("empty input");g=c.split(".");if(5 !== g.length)throw Error("malformed JWE envelope");if(0 !== g[1].length)throw Error("expected no CEK");f=this.Yf.Kba(g[0]);e=this.Yf.yN(g[2]);h=this.Yf.yN(g[3]);l=this.Yf.yN(g[4]);if(e.byteLength !== this.hvb)throw Error("iv wrong length");if(16 !== l.byteLength)throw Error("tag wrong length");return [4,this.Bmb(e,f,h,l)];case 1:return (k=q.S(),m=this.Yf.QZa(f),p=this.Yf.yN(m),r=this.Yf.QZa(p),this.Vxc(r),[2,k]);}});});};n.prototype.Vxc=function(c){var g;try{g=JSON.parse(c);}catch(f){throw Error("malformed JWE header");}if(!n.Doc(g))throw Error("unexpected JWE header contents");c=g;if("dir" !== c.alg || c.enc !== this.enc)throw Error("incompatible JWE header");if(c.kid !== this.kid)throw Error("mismatched kid");};n.prototype.Nib=function(c){var g,h;if(!c.length)return new Uint8Array();g=c.reduce(function(l,k){return l + k.length;},0);g=new Uint8Array(g);for(var f=0,e=0;e < c.length;e++){h=c[e];g.set(h,f);f+=h.length;}return g;};n.prototype.pic=function(){var c;c=this.oic();c=this.Yf.Kba(c);return this.Yf.PU(c);};n.prototype.oic=function(){var c;if("" !== this.xYa){c=this.xYa;this.xYa="";return c;}return JSON.stringify({alg:"dir",enc:this.enc,kid:this.kid});};n.Doc=function(c){return ("alg" in c) && ("enc" in c) && ("kid" in c) && "string" === typeof c.alg && "string" === typeof c.enc && "string" === typeof c.kid;};return n;})();b.cya=t;},88501:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.O1=void 0;d=a(22970);t=a(44191);n=a(1084);a=(function(c){function g(f,e,h,l,k,m){f=c.call(this,f,e,h,l,16) || this;if("AES-CBC" !== k.algorithm)throw Error("invalid AES-CBC key");if("HMAC-SHA256" !== m.algorithm)throw Error("invalid HMAC-SHA256 key");f.KKa=k;f.aJ=m;return f;}d.__extends(g,c);g.prototype.Cmb=function(f,e,h){return d.__awaiter(this,void 0,void 0,function(){var l,k;return d.__generator(this,function(m){switch(m.label){case 0:return (m.qc.push([0,2,,3]),[4,this.crypto.a0b(this.KKa,h,f)]);case 1:return (l=m.S(),[3,3]);case 2:throw (m.S(),Error("Internal encrypt error: Cipher job failed"));case 3:return [4,this.hkb(e,h,l)];case 4:return (k=m.S(),[2,{AE:l,tag:k}]);}});});};g.prototype.Bmb=function(f,e,h,l){return d.__awaiter(this,void 0,void 0,function(){var k;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.hkb(e,f,h)];case 1:k=m.S();if(!this.KLc(l,k))throw Error("JWE is untrusted");m.label=2;case 2:return (m.qc.push([2,4,,5]),[4,this.crypto.$_b(this.KKa,f,h)]);case 3:return [2,m.S()];case 4:throw (m.S(),Error("Internal decrypt error: Cipher job failed"));case 5:return [2];}});});};g.prototype.hkb=function(f,e,h){return d.__awaiter(this,void 0,void 0,function(){var l,k;return d.__generator(this,function(m){switch(m.label){case 0:(l=this.f6b(f,e,h),m.label=1);case 1:return (m.qc.push([1,3,,4]),[4,this.crypto.vmc(this.aJ,l)]);case 2:return (k=m.S(),[3,4]);case 3:throw (m.S(),Error(g.mea));case 4:return [2,(0,n.yU)(k,0,16)];}});});};g.prototype.f6b=function(f,e,h){var l;l=this.TKc((8 * f.byteLength).valueOf());return this.Nib([f,e,h,l]);};g.prototype.TKc=function(f){var e;e=new ArrayBuffer(8);e=new DataView(e);e.setUint32(4,f);e.setUint32(0,0);return new Uint8Array(e.buffer);};g.prototype.KLc=function(f,e){var h;h=!0;f.length !== e.length && (h=!1);for(var l=0;l < f.length;l++)f[l] !== e[l] && (h=!1);return h;};g.mea="Internal hmac error: Cipher job failed";g.B4a="invalid HMAC key";return g;})(t.cya);b.O1=a;},36045:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Q5a=void 0;d=a(22970);n=a(88501);c=a(2802);t=(function(g){function f(e,h,l,k,m){return g.call(this,c.AleScheme.A128CBC_HS256,e,h,l,k,m) || this;}d.__extends(f,g);f.create=function(e,h,l,k,m){if("HMAC-SHA256" !== m.algorithm)throw Error(n.O1.B4a);return new f(e,h,l,k,m);};return f;})(n.O1);b.Q5a=t;},1101:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.R5a=void 0;d=a(22970);n=a(88501);c=a(2802);t=(function(g){function f(e,h,l,k,m){return g.call(this,c.AleScheme.A128CBC_HS256_NRD,e,h,l,k,m) || this;}d.__extends(f,g);f.create=function(e,h,l,k,m){if("HMAC-SHA256" !== m.algorithm)throw Error(n.O1.B4a);return new f(e,h,l,k,m);};return f;})(n.O1);b.R5a=t;},51708:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.S5a=void 0;d=a(22970);t=a(44191);n=a(1084);c=a(2802);a=(function(g){function f(e,h,l,k){e=g.call(this,c.AleScheme.A128GCM,e,h,l,12) || this;e.key=k;return e;}d.__extends(f,g);f.create=function(e,h,l,k){if("AES-GCM" !== k.algorithm)throw Error("invalid AES-GCM key");return new f(e,h,l,k);};f.prototype.Cmb=function(e,h,l){return d.__awaiter(this,void 0,void 0,function(){var k,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:return (q.qc.push([0,2,,3]),[4,this.crypto.c0b(this.key,l,h,e)]);case 1:return (k=q.S(),[3,3]);case 2:throw (q.S(),Error("Internal encrypt error: Cipher job failed"));case 3:return (m=k.byteLength - 16,p=(0,n.yU)(k,0,m),r=(0,n.yU)(k,m),[2,{AE:p,tag:r}]);}});});};f.prototype.Bmb=function(e,h,l,k){return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:(m=this.Nib([l,k]),p.label=1);case 1:return (p.qc.push([1,3,,4]),[4,this.crypto.b0b(this.key,e,h,m)]);case 2:return [2,p.S()];case 3:throw (p.S(),Error("Internal decrypt error: Cipher job failed"));case 4:return [2];}});});};return f;})(t.cya);b.S5a=a;},56707:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.zea=void 0;d=a(22970);n=a(2802);c=a(1084);g=a(51708);f=a(36045);t=(function(){function e(h,l,k,m){this.crypto=l;this.Yf=k;this.yGa=m;}e.prototype.Nkb=function(h,l){return d.__awaiter(this,void 0,void 0,function(){var k,m,p,r,q,u;return d.__generator(this,function(v){switch(v.label){case 0:k=this.yGa;switch(k){case n.AleScheme.A128GCM:return [3,1];case n.AleScheme.A128CBC_HS256:return [3,3];}return [3,6];case 1:if(16 !== h.byteLength)throw Error("bad key size for " + this.yGa.toString());return [4,this.crypto.SOa("AES-GCM",h)];case 2:return (m=v.S(),[2,g.S5a.create(this.crypto,this.Yf,l,m)]);case 3:if(32 !== h.byteLength)throw Error("bad key size for " + this.yGa.toString());p=(0,c.yU)(h,16);r=(0,c.yU)(h,0,16);return [4,this.crypto.SOa("AES-CBC",p)];case 4:return (q=v.S(),[4,this.crypto.SOa("HMAC-SHA256",r)]);case 5:return (u=v.S(),[2,f.Q5a.create(this.crypto,this.Yf,l,q,u)]);case 6:throw Error("invalid ALE scheme");case 7:return [2];}});});};return e;})();b.zea=t;},12346:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Y5a=b.Vda=void 0;d=a(22970);n=a(2802);t=a(56707);c=a(1101);(function(f){f[f.PSK=0]="PSK";f[f.MGK=1]="MGK";})(g=b.Vda || (b.Vda={}));a=(function(f){function e(h,l,k,m){h=f.call(this,n.AleKeyxScheme.AUTH_DH,h,l,n.AleScheme.A128CBC_HS256_NRD) || this;h.Hac=k;h.bKa=m;return h;}d.__extends(e,f);e.prototype.TMa=function(){return d.__awaiter(this,void 0,void 0,function(){var h,l,k;return d.__generator(this,function(m){switch(m.label){case 0:return (h=this,[4,this.crypto.$fc()]);case 1:return (h.AJ=m.S(),[4,this.crypto.Wnb(this.AJ)]);case 2:return (l=m.S(),this.yBc=this.Yf.PU(l),k={scheme:n.AleKeyxScheme.AUTH_DH,data:{n1c:this.Hac,OCb:this.yBc}},this.lua?(k.data.QJ=n.d0.GDa,k.data.lua=this.lua):k.data.QJ=this.bKa === g.m9a?n.d0.m9a:n.d0.rSc,[2,k]);}});});};e.prototype.DUa=function(h){return d.__awaiter(this,void 0,void 0,function(){var l,k,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:if(!this.AJ)throw Error("no key pair, did not call getKeyxRequestData()");if(h.scheme !== n.AleKeyxScheme.AUTH_DH)throw Error("incompatible key response scheme");l=h.kid;if(!e.Wnc(h.data))throw Error("invalid key response data");k=h.data;m=k.lua;p=k.OCb;this.Yf.yN(p);return [4,this.crypto.sac()];case 1:return (r=q.S(),this.lua=m,[2,c.R5a.create(this.crypto,this.Yf,l,r.KKa,r.aJ)]);}});});};e.Wnc=function(h){return "object" === typeof h && ("wrapdata" in h) && "string" === typeof h.wrapdata && ("pubkey" in h) && "string" === typeof h.pubkey;};return e;})(t.zea);b.Y5a=a;},31178:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Z5a=void 0;d=a(22970);n=a(2802);t=(function(c){function g(f,e,h){return c.call(this,n.AleKeyxScheme.CLEAR,f,e,h) || this;}d.__extends(g,c);g.prototype.TMa=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return [2,{scheme:n.AleKeyxScheme.CLEAR}];});});};g.prototype.DUa=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,h,l,k;return d.__generator(this,function(){if(f.scheme !== n.AleKeyxScheme.CLEAR)throw Error("incompatible key response scheme");e=f.kid;if(!g.goc(f.data))throw Error("incompatible key response data");h=f.data;l=h.key;k=this.Yf.yN(l);return [2,this.Nkb(k,e)];});});};g.goc=function(f){return "object" === typeof f && ("key" in f) && "string" === typeof f.key;};return g;})(a(56707).zea);b.Z5a=t;},11038:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.a6a=void 0;d=a(22970);n=a(2802);t=(function(c){function g(f,e,h){return c.call(this,n.AleKeyxScheme.RSA_OAEP_256,f,e,h) || this;}d.__extends(g,c);g.prototype.yrb=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return [4,this.Sb()];case 1:return (f.S(),[2,this.AJ.publicKey]);}});});};g.prototype.TMa=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return [4,this.Sb()];case 1:return (f.S(),[2,{scheme:n.AleKeyxScheme.RSA_OAEP_256,data:{OCb:this.PCb}}]);}});});};g.prototype.DUa=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,h,l,k,m;return d.__generator(this,function(p){switch(p.label){case 0:if(f.scheme !== n.AleKeyxScheme.RSA_OAEP_256)throw Error("incompatible key response scheme");e=f.kid;if(!g.bpc(f.data))throw Error("incompatible key response data");h=f.data;l=h.n5c;k=this.Yf.yN(l);if(!this.AJ)throw Error("no key pair");return [4,this.crypto.HEc(this.AJ.privateKey,k)];case 1:return (m=p.S(),[2,this.Nkb(m,e)]);}});});};g.prototype.Sb=function(){return d.__awaiter(this,void 0,void 0,function(){var f,e;return d.__generator(this,function(h){switch(h.label){case 0:if(this.AJ && this.PCb)return [3,3];f=this;return [4,this.crypto.egc()];case 1:return (f.AJ=h.S(),[4,this.crypto.Wnb(this.AJ)]);case 2:(e=h.S(),this.PCb=this.Yf.PU(e),h.label=3);case 3:return [2];}});});};g.bpc=function(f){return "object" === typeof f && ("wrappedkey" in f) && "string" === typeof f.wrappedkey;};return g;})(a(56707).zea);b.a6a=t;},80462:function(t,b,a){var n;function d(c){return "object" === typeof c && ("scheme" in c) && (0,n.uPa)(c.scheme) && (!(("data" in c)) || "object" === typeof c.data);}Object.defineProperty(b,"__esModule",{value:!0});b.Foc=b.Eoc=b.k9a=void 0;n=a(2802);b.k9a=1;b.Eoc=function(c){return "object" === typeof c && ("ver" in c) && ("scheme" in c) && ("type" in c) && ("keyx" in c) && (0,n.vPa)(c.scheme) && "string" == typeof c.type && d(c.keyx);};b.Foc=d;},20408:function(t,b,a){var n;function d(c){return "object" === typeof c && ("scheme" in c) && ("data" in c) && ("kid" in c) && (0,n.uPa)(c.scheme) && "string" === typeof c.kid && "object" === typeof c.data;}Object.defineProperty(b,"__esModule",{value:!0});b.PAb=b.Goc=b.l9a=void 0;n=a(2802);b.l9a=1;b.Goc=d;b.PAb=function(c){var g;try{g=JSON.parse(c);}catch(f){throw Error("malformed JSON");}c=g;if(!("object" === typeof c && ("token" in c) && ("scheme" in c) && ("ttl" in c) && ("keyx" in c) && ("ver" in c) && "string" === typeof c.token && (0,n.vPa)(c.scheme) && "number" === typeof c.ttl) || void 0 !== c.rw && "number" !== typeof c.rw || "object" !== typeof c.keyx || !d(c.keyx) || "number" !== typeof c.ver)throw Error("unexpected key provision response contents");return g;};},2802:function(t,b){var d;function a(n){return function(c){return -1 !== Object.values(n).indexOf(c);};}Object.defineProperty(b,"__esModule",{value:!0});b.uPa=b.vPa=b.d0=b.AleKeyxScheme=b.AleScheme=void 0;(function(n){n.A128GCM="A128GCM";n.A128CBC_HS256="A128CBC-HS256";n.A128CBC_HS256_NRD="A128CBC-HS256-NRD";})(t=b.AleScheme || (b.AleScheme={}));(function(n){n.CLEAR="CLEAR";n.RSA_OAEP_256="RSA-OAEP-256";n.AUTH_DH="AUTH-DH";n.WIDEVINE="WIDEVINE";})(d=b.AleKeyxScheme || (b.AleKeyxScheme={}));(function(n){n.PSK="PSK";n.MGK="MGK";n.WRAP="WRAP";})(b.d0 || (b.d0={}));b.vPa=a(t);b.uPa=a(d);},73608:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Vda=void 0;t=a(22970);t.__exportStar(a(99061),b);t.__exportStar(a(78212),b);t.__exportStar(a(7379),b);t.__exportStar(a(84032),b);t.__exportStar(a(1084),b);t.__exportStar(a(2802),b);d=a(12346);Object.defineProperty(b,"DeviceKeyType",{enumerable:!0,get:function(){return d.Vda;}});},97685:function(t,b){var g,f;function a(){return "UNKNOWN";}function d(){}function n(){return Promise.resolve();}function c(e){var k;if(!Array.isArray(e))return e;for(var h={},l=0;l < e.length;l++){k=e[l];h[k]=k;}return h;}Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});t=c(["MANUAL_TEST","INTEGRATION_TEST","SIMULATION","CUSTOMER"]);g=c(("AUTHENTICATED_AWAITING_OPEN CLOSED CONNECTING_AWAITING_TOKEN OPEN_AWAITING_TOKEN ERRORED READY UNAVAILABLE").split(" "));f={$Ga:n,connect:n,close:n,enable:d,tYc:d,log:d,A3c:d,P3c:d,V_c:!1,W_c:!1,state:"UNAVAILABLE"};b.HUc=t;b.LUc=g;b.hk="UNKNOWN";b.Qe=d;b.pXc=a;b.rZc=a;b.sZc=a;b.mvb=function(){return 0;};b.Fna=f;b.t4c=function(){return "UNKNOWN";};b.u4c=function(){return "";};},71501:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.E5a="Injector";b.uD=145152E5;b.xT="ProfileSymbol";},66523:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sJc=b.yzb=void 0;b.Wu=function(a,d){var n;n=Object.getOwnPropertyDescriptor(a,d);n && Object.defineProperty(a,d,{configurable:n.configurable,enumerable:!1,value:n.value,writable:n.writable});};b.flatten=function(a){return [].concat.apply([],za(a));};b.yzb=function(a,d){return a - d;};b.sJc=function(a,d){return a.localeCompare(d);};},24747:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nda="ApiInfoSymbol";},99198:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.Zgb=void 0;d=a(7700);n=a(24747);t=a(22674);c=a(71501);g=a(4203);b.Zgb=new t.je(function(f){f(n.nda).to(d.Qua).pa();});b.profile=new t.je(function(f){f(c.xT).gL(function(e){return (e=e.Hb.get(g.Cc)()) && e.RE?"browsertest":"browser";});});},7700:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p){l=f.Ef.call(this,l,void 0 === p?"AppInfoConfigImpl":p) || this;l.config=k;l.YYa=m;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Qua=void 0;t=a(22970);n=a(22674);c=a(34231);g=a(12501);f=a(64174);e=a(83767);a=a(70865);Ia(d,f.Ef);d.prototype.ijc=function(l){return "" + this.znb + (this.uR(l)?"/msl_v1":"");};d.prototype.Ajc=function(l){return "" + this.host + (this.uR(l)?"/msl":"") + "/playapi";};d.prototype.uR=function(l){return this.YYa.uR(l);};Ga.Object.defineProperties(d.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},znb:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},ynb:{configurable:!0,enumerable:!0,get:function(){var l;switch(this.config.sO){case c.xA.XCa:case c.xA.Wxa:l="logs.test.netflix.com";break;default:l="logs.netflix.com";}return "https://" + l + "/log";}},host:{configurable:!0,enumerable:!0,get:function(){var l;switch(this.config.sO){case c.xA.aVb:l="www.stage";break;case c.xA.XCa:l="www-qa.test";break;case c.xA.Wxa:l="www-int.test";break;default:l="www";}return "https://" + l + ".netflix.com";}},dib:{configurable:!0,enumerable:!0,get:function(){return "pbo_config";}}});h=d;b.Qua=h;t.__decorate([g.config(g.string,"apiEndpoint")],h.prototype,"endpoint",null);t.__decorate([g.config(g.string,"nqEndpoint")],h.prototype,"znb",null);t.__decorate([g.config(g.string,"logsEndpoint")],h.prototype,"ynb",null);t.__decorate([g.config(g.string,"bindService")],h.prototype,"dib",null);b.Qua=h=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(e.Fn)),t.__param(1,(0,n.l)(c.Vr)),t.__param(2,(0,n.l)(a.bga)),t.__param(3,(0,n.l)(e.Ida)),t.__param(3,(0,n.optional)())],h);},85405:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.q0a="AseIntegrationFactorySymbol";},31034:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.S8a="OpenConnectSideChannelSymbol";b.L7a="MediaRequestDownloaderSymbol";},13494:function(t,b){function a(n,c,g){var f,e,h,l;f=[];n.forEach(function(k){-1 == f.indexOf(k.me) && f.push(k.me);});e=null;h=null;c.forEach(function(k){null === e?h=e=k.bitrate:h < k.bitrate?h=k.bitrate:e > k.bitrate && (e=k.bitrate);});l=[];f.forEach(function(k){var m;m={ranges:[],profile:k};e && h && (m.ranges.push({min:e,max:h}),g && (m.disallowed=g.filter(function(p){return p.stream.me === k;}).map(function(p){return {stream:{bitrate:p.stream.bitrate},disallowedBy:p.aka};})),l.push(m));});return l;}function d(n,c){var g;g=void 0;return {vob:n.filter(function(f){var e;e=c(f);e && (g=g || [],g.push({stream:f,aka:e}));return !e;}),Tac:g};}Object.defineProperty(b,"__esModule",{value:!0});b.hlc=function(n,c){c=d(n,c);return a(n,c.vob,c.Tac);};b.sXc=a;b.mB=d;},92692:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Xa=void 0;t=a(22674);d=a(67263);n=a(13005);c=a(24240);g=a(22806);f=a(31034);e=a(76457);h=a(77425);l=a(51790);k=a(89936);b.Xa=new t.je(function(m){m(d.vwa).to(n.uwa).pa();m(c.F7a).to(g.sza).pa();m(f.S8a).to(e.gAa).pa();m(f.L7a).to(h.xza).pa();m(l.K7a).to(k.wza).pa();});},67263:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vwa=b.W2a=void 0;b.W2a=function(){this.X=0;this.V=1;this.NPb=2;this.Se=function(){};};b.vwa="DownloadTrackConstructorFactorySymbol";},24240:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.F7a="MediaHttpSymbol";},51790:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.K7a="MediaRequestConstructorFactorySymbol";},48220:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ae=void 0;b.ae=a;a.Al={F8a:"mr1",E8a:"mr2",G8a:"mr3",q2:"mr4",xSb:"mr5",mH:"mr6"};a.Md={UNSENT:0,OPENED:1,ED:2,Gl:3,DONE:5,Av:7,name:("UNSENT OPENED SENT RECEIVING PAUSED DONE FAILED ABORTED").split(" ")};a.lD={NO_ERROR:-1,zOb:0,v2a:1,LOb:2,DOb:3,ONb:4,J1a:5,H1a:6,PNb:7,QNb:8,RNb:9,LNb:10,NNb:11,I1a:12,MNb:13,KNb:14,SPb:15,E4a:16,D4a:17,Bxa:18,nea:19,Cxa:20,F1:21,UPb:22,oea:23,F4a:24,TPb:25,GOb:26,AOb:27,NUb:28,qOb:29,rOb:30,sOb:31,tOb:32,uOb:33,vOb:34,wOb:35,xOb:36,yOb:37,BOb:38,COb:39,EOb:40,FOb:41,HOb:42,IOb:43,JOb:44,KOb:45,MOb:46,NOb:47,MUb:48,TIMEOUT:49,QPb:50,Axa:51,RPb:52,H4a:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.eg={QVa:{hPc:!0,pCa:!1,WSc:!0}};},92720:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A;function d(z,B,C,D,F){var H;H=this;this.rb=z;this.j=B;this.debug=C;this.U0b=F;this.m3=this.Mj=this.SD=!1;this.I3=this.H3=void 0;this.Nra=!1;z={};this.vz=(z[v.v.X]={},z[v.v.V]={},z[v.v.Aa]={},z[v.v.Im]={},z);this.reb=void 0;this.Sl=function(){var E,G,K,N,I,L;H.debug.assert(H.oa,"has access to asePlaygraph");H.debug.assert(H.Zc,"has access to internalLogger");H.debug.assert(H.zz,"has access to mediaBufferGetLogFields");I=H.us;L=null === (G=null === (E=H.ed.get()) || void 0 === E?void 0:E.ob) || void 0 === G?void 0:G.Da;E={type:"logdata",target:"startplay",fields:{hasasereport:H.j.QV,hashindsight:!1,buffCompleteReason:I.reason,actualbw:L,initSelReason:null !== (K=I.initSelReason) && void 0 !== K?K:"unknown",bcVBufferLevelMs:I.vBufferLevelMs,bcABufferLevelMs:I.aBufferLevelMs}};(0,e.RGa)({gLa:E,mr:H.mr,loadTime:H.loadTime});H.oa.bZa("startplay",n.Mc.sl);null !== (N=H.Cb) && void 0 !== N && N.Jd?(H.Zc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:I},H.zz()),H.j.us=I,H.j.qs.set(h.Pg.mf),H.efc || (H.efc=!0,H.j.Kg("pb")),[n.Wb.Lfa,n.Wb.by,n.Wb.gi].includes(H.Lg.value) || H.play()):H.Zc.error("Shim received buffering complete but player has no position (player " + (H.Cb?"":"un") + "defined, state " + H.j.state + ")");};this.nJb=function(){var E,G;H.debug.assert(H.Zc,"has access to internalLogger");!1;H.H3=void 0;H.I3=void 0;H.j.paused.value && H.sQ && (H.sQ=!1,H.j.paused.set(!1,{Gz:!0}));null === (E=H.j.Qd) || void 0 === E?void 0:E.c6b();null === (G=H.eAb) || void 0 === G?void 0:G.call(H);H.eAb=void 0;};this.events=new A();this.he=new u.DDa(this.nB.bind(this),function(E){return H.j.YQ(E);},function(E,G){return H.j.ZQ(E,G);});}b.Wya=void 0;n=a(45247);c=a(90745);g=a(32219);f=a(36129);e=a(30326);h=a(85001);l=a(29204);k=a(32687);m=a(5021);p=a(64302);r=a(8825);q=a(81734);u=a(64213);a(2762);v=a(26388);w=a(45240);x=a(26668);y=a(91176);A=a(17187).EventEmitter;d.prototype.Qe=function(){var z;!1;this.m3=!1;this.ed.ssa(null);this.debug.assert(this.Cj,"has access to streamingEngine");this.oa && this.Cj.zC(this.oa);this.Cb && this.Cj.pVa(this.Cb);this.Cj.SDb(this.he.Yq(this.rb.ea.J));this.he.clear();null === (z=this.Ch) || void 0 === z?void 0:z.Cs();};d.prototype.iHc=function(z){var B,C,D,F,H,E,G,K,N,I,L,O;B=z.config;C=z.fu;D=z.Zc;F=z.Cf;H=z.zz;E=z.bm;G=z.kba;z=z.kR;this.Zc=D;this.log=D.lV("AseIntegrationImpl");!1;this.uhb=new x.C0a(this.Zc);this.zz=H;this.kba=G;this.kR=z;H=this.j.ea;this.debug.assert(H,"has a playback segment");this.debug.assert(B,"has access to config");this.debug.assert(F,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(C,"has access to aseGlobals");this.debug.assert(C.Cj,"has access to streamingEngine");this.debug.assert(H.Pc,"has access to parsedManifest");this.debug.assert(H.U,"has access to manifest");this.config=B;this.Cj=C.Cj;C.Rl.set(a(87141)(B),!0,E("ASE"));C.Rl.set({maxNumberTitlesScheduled:null !== (N=null === (K=B.Izc) || void 0 === K?void 0:K.maxNumberTitlesScheduled) && void 0 !== N?N:1},!0,D);B.P6b && !H.Fc.xa && 3E5 > H.U.ya.duration?C.Rl.mTa({expandDownloadTime:!1},!0,D):C.Rl.mTa({expandDownloadTime:C.Rl.Oyc().expandDownloadTime},!0,D);B=null === (O=null === (L=null === (I=H.ja.sh) || void 0 === I?void 0:I.streams) || void 0 === L?void 0:L[0]) || void 0 === O?void 0:O.me;C.Rl.mTa((0,l.l6b)(!!H.jb.Ag,!!H.jb.NB,B),!0,D);D=F.cY({},(0,l.HIa)(H.We));H.Fc.xa && (D=F.cY(D,(0,l.HIa)("live")));this.Rl=C.Rl.xs(D);n.platform.events.emit("networkchange",H.Pc.YFc);this.SD=!0;};d.prototype.d8=function(z){var B,C;this.debug.assert(this.Cj,"has access to streamingEngine");B=this.j.el(z.L);this.debug.assert(B.Pc,"has access to playback parsedManifest");!1;C=z.flags;this.ed.reset();this.jh=new Set([v.v.X,v.v.V]);(C.oLb || C.gWc) && this.jh.delete(C.oLb?v.v.X:v.v.V);this.$R=[B.Pc.O$b,B.Pc.X$b,B.Pc.V$b];this.nB(B.R,void 0,z.x5);this.Cnc(z);this.mV();};d.prototype.qL=function(z){var B;!1;null === (B=this.oa) || void 0 === B?void 0:B.qL(z);};d.prototype.m2b=function(z){var B,C,D;B=this;C=z.loadTime;D=z.mr;this.debug.assert(this.oa,"has access to asePlaygraph");this.debug.assert(this.Cb,"has access to asePlayer");!1;this.mr=D;this.loadTime=C;z=this.oa.events;z.addListener("error",function(F){!1;"NFErr_MC_StreamingFailure" === F.error && (B.Zc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(F)),B.Zc.trace("StreamingFailure, buffer status:" + JSON.stringify(B.zz())),(0,g.yh)(function(){var H,E,G;H=f.aa.qMb;E=F.nativeCode;G=F.context;"adBreakHydration" === (null === G || void 0 === G?void 0:G.type) && (H=f.aa.eM,E=f.W.BMb);B.j.Pf(H,{Ma:E,df:F.errormsg,Uq:F.httpCode,RF:F.networkErrorCode,yg:F.httpCode});}));});z.addListener("logdata",function(F){var H;!1;"string" === typeof F.target && "object" === typeof F.fields && (F.fields.aseApiVersion=null === (H=B.oa) || void 0 === H?void 0:H.s0b,(0,e.RGa)({gLa:F,mr:D,loadTime:C}));});z.addListener("bufferingStarted",function(){!1;B.j.qs.set(h.Pg.Df);});z.addListener("bufferingComplete",function(F){!1;B.us=F;});this.j.paused.addListener(function(F){var H;B.debug.assert(B.Zc,"has access to internalLogger");null !== (H=F.Xl) && void 0 !== H && H.Gz || !B.SD || (F.newValue && [n.Wb.bg,n.Wb.gi].includes(B.Lg.value)?(B.Lg.set(n.Wb.gi),B.kh.emit("paused",{type:"paused",pts:B.kh.Xc})):F.newValue || B.Lg.value !== n.Wb.gi || (B.Lg.set(n.Wb.bg),B.kh.emit("playing",{type:"playing",pts:B.kh.Xc})));F.newValue || (B.sQ=!1);B.Zc.info("Paused changed",{From:F.oldValue,To:F.newValue,MediaTime:(0,r.Ij)(B.j.mediaTime.value)});});this.j.ja.addListener([v.v.X],function(F){var H,E,G,K;if(B.SD)if((B.debug.assert(B.Zc,"has access to internalLogger"),F.kE))B.Zc.trace("Not processing already applied track",null === (H=F.gx) || void 0 === H?void 0:H.trackId);else {K=F.gx;B.yIb({iu:K.trackId,toJSON:function(){return K.ai;}})?B.Zc.trace("ASE accepted the audio track switch",null === (G=F.gx) || void 0 === G?void 0:G.trackId):(B.Zc.trace("ASE rejected the audio track switch",null === (E=F.gx) || void 0 === E?void 0:E.trackId),F.$u && F.$u.trackId !== K.trackId && B.j.ja.bA(F.$u,{kE:!0}));}});this.j.Fc.xa && this.j.ja.addListener([v.v.Aa],function(F){var H,E,G,K;if(B.SD)if((B.debug.assert(B.Zc,"has access to internalLogger"),null === F || void 0 === F?0:F.kE))B.Zc.trace("Not processing already applied track",null === (H=F.jn) || void 0 === H?void 0:H.trackId);else {K=F.jn;B.yIb({FIb:K.trackId,toJSON:function(){return K.ai;}})?B.Zc.trace("ASE accepted the text track switch",null === (G=F.jn) || void 0 === G?void 0:G.trackId):(B.Zc.trace("ASE rejected the text track switch",null === (E=F.jn) || void 0 === E?void 0:E.trackId),F.jx && F.jx.trackId !== K.trackId && B.j.ja.yo(F.jx,{kE:!0}));}});z.addListener("serverSwitch",function(F){var H;!1;B.j.fireEvent(h.ha.gba,F);if(F.mediatype === v.XP[v.v.X])H=v.v.X;else F.mediatype === v.XP[v.v.V]?H=v.v.V:F.mediatype === v.XP[v.v.Aa] && (H=v.v.Aa);(0,k.$c)(H) && B.kba(F.segmentId,F.server,H);});z.addListener("streamSelected",function(F){var H,E,G,K;!1;if(B.m3){E=F.manifest.Zd;if(!B.j.cmc(E) && B.config.hec)return B.j.Pf(f.aa.ZQb,{j6:E});E=(null === (H=B.oa) || void 0 === H?void 0:H.Hw(F.position)).Ua.G;H=[];if(F.mediaType === v.v.V){G=B.j.Msb(F.streamId);K=B.j.mg;H=B.j.XI();}else F.mediaType === v.v.X && (G=B.j.ssb(F.streamId),K=B.j.Hi,H=B.j.xgc());G && K?(!1,K.set(G,{GN:E,F4:F.bandwidth})):F.mediaType !== v.v.Aa && B.Zc.error("no matching stream for streamSelected event",{streamId:F.streamId,mediaType:F.mediaType,streamList:H,cachedManifest:B.j.EN});}});z.addListener("segmentNormalized",function(F){var H,E,G,K,N;!1;H=F.segmentId;E=Math.floor(F.viewableContentEnd.G);F=Math.floor(F.viewableEarliestContentEnd.G);E=(0,m.ac)(E);F=(0,m.ac)(F);B.li && B.li.$[H] && (G=B.li.$[H]);K=B.j.Hsb(H);N=G && B.j.J7(G.J);K?N && B.j.lna() && (K=B.j.xk(G.J),K.L === "placeholder-segmentId-" + G.J && (!1,K.L=H)):(!1,B.u8b(H));if(G=B.j.el(H))(B.debug.assert(G.L === H,"segmentNormalized: playbackViewableData segmentId should match the value in the event. playbackViewableData.segmentId: " + (G.L + " event.segmentId: ") + (H + " ")),G.FE=E,G.Cxb=F);B.j.yr || (B.j.Fc.xa && Infinity === E.la(m.wa)?B.j.yr=m.fa:B.j.yr=E);H=B.j.yr.la(m.wa);G=E.la(m.wa);B.j.Fc.xa && Infinity !== G && G > H && (!1,B.j.yr=E);});z.addListener("locationSelected",function(F){!1;B.j.fireEvent(h.ha.b9,F);});z.addListener("aseReportEnabled",function(){!1;B.j.QV=!0;});z.addListener("logblob",function(F){!1;B.j.fireEvent(h.ha.CU,F);});z.addListener("mediaRequestComplete",function(F){F=null === F || void 0 === F?void 0:F.FDc;(F=null === F || void 0 === F?void 0:F.cadmiumResponse) && B.j.fireEvent(h.ha.ZN,{response:F,R:B.j.ea.R});});z.addListener("transportReport",function(F){var H;(F=null === (H=F.wdc) || void 0 === H?void 0:H.cadmiumResponse) && B.j.fireEvent(h.ha.ZN,{response:F,R:B.j.ea.R});});z.addListener("liveEventTimesUpdated",function(F){var H,E;H=F.L;E=F.startTime;F=F.endTime;B.j.Hsb(H) && (H=B.j.el(H),H.Fc.xa && H.Fc.SWa(E,F));});z.addListener("liveLoggingInfoUpdated",function(F){var H,E,G;H=F.mediaType;F=F.info;E=B.vz[H];B.vz[H]=F;G=B.vz[H].Au !== E.Au && void 0 !== E.Au;(B.vz[H].zu !== E.zu && void 0 !== E.zu || G) && B.j.fireEvent(h.ha.Zna,{mediaType:H,Fp:E,current:B.vz[H],uWa:F.uWa,Yb:F.Yb});});z.addListener("livePostplayUpdated",function(F){B.j.fireEvent(h.ha.qwb,{J:F.J,Q$:F.Q$,action:F.action});});this.bib();};d.prototype.bib=function(){var z,B;z=this;this.debug.assert(this.Cb,"has access to asePlayer");!1;B=this.Cb.events;B.addListener("logdata",function(C){!1;"string" === typeof C.target && "object" === typeof C.fields && (0,e.RGa)({gLa:C,mr:z.mr,loadTime:z.loadTime});});B.addListener("segmentPresenting",function(C){var D,F,H,E;!1;z.debug.assert(z.oa,"has access to asePlaygraph");z.debug.assert(z.Cb,"has access to asePlayer");z.debug.assert(z.kR,"has access to segmentPresentingHandler");F=z.oa.Hw(C.position);H=void 0;E=null === (D=C.inner) || void 0 === D?void 0:D.position;E && z.li && (H=z.li.$[E.L]);z.rb.pX() && (z.rb.Vh=C.position.L);z.kR({J:F.J,KN:H,rP:!1});D=C.metrics;z.vqa && D && (F=D.segment,D.srcsegment !== z.vqa.K6.L || F !== z.vqa.ica.L || "seamless" !== D.transitionType && "perfect" !== D.transitionType || (D.transitionType="long",z.vqa=void 0));z.j.fireEvent(h.ha.LK,{type:"segmentPresenting",position:{segmentId:C.position.L,offset:C.position.offset},playerTimestamp:C.playerTimestamp,metrics:C.metrics});!1;z.reb=z.Cb.Js();});B.addListener("ptsChanged",function(C){var D;!1;D=z.kh.Xc;z.j.Qd.xBc({Anc:C.initialTimestamp.lC});C.inNonSeamlessTransition?z.kh.emit("clockAdjusted",{type:"clockAdjusted",re:z.kh.Xc}):z.kh.emit("skipped",{type:"skipped",re:z.kh.Xc,wUa:D});});B.addListener("fragmentsMissing",function(C){var D,F;F=null === (D=z.oa) || void 0 === D?void 0:D.Hw(C.nextAvailableGraphPosition);z.j.Qd.seek(F.Ua.G,h.Dc.R0,C.nextAvailableGraphPosition.L);});};d.prototype.u8b=function(z){var B,C,D,F;if(this.li && this.li.$[z]){B=this.li.$[z];z=this.j.iRa;C=z.U;if(null === C || void 0 === C?0:C.$o)D=null === C || void 0 === C?void 0:C.$o.find(function(H){return H.ya.R === B.J;});D || (D=this.j.uqb(B.J));if(!D && (null === C || void 0 === C?0:C.ya.Bb)){F=this.U0b.Ijc({Bb:null === C || void 0 === C?void 0:C.ya.Bb,kd:z.R,J:B.J});F && (D=F.U);}D && D.ya.Bb === (null === C || void 0 === C?void 0:C.ya.Bb) && this.j.blb(B.J,{Mf:{Bb:D.ya.Bb,kd:z.R}},z.Ha,D);}};d.prototype.Js=function(){var z,B,C,D,F,H,E,G,K;G=null === (z=this.Cb) || void 0 === z?void 0:z.vma();z=(null !== (B=this.reb) && void 0 !== B?B:G && this.Cb.Js()) || ({});B=z.K;G=z.Wd;K=z.CQ;z=z.fv;return {id:String(null === B || void 0 === B?void 0:B.id),oHa:null !== (C=null === G || void 0 === G?void 0:G.G) && void 0 !== C?C:0,mja:null !== (D=null === B || void 0 === B?void 0:B.lb.G) && void 0 !== D?D:Infinity,B6b:null !== (F=null === B || void 0 === B?void 0:B.Ub.G) && void 0 !== F?F:0,lzc:null !== (H=null === K || void 0 === K?void 0:K.G) && void 0 !== H?H:Infinity,ZTa:null !== (E=null === z || void 0 === z?void 0:z.G) && void 0 !== E?E:0};};d.prototype.Xtb=function(){var z,B;this.debug.assert(this.oa,"has access to asePlaygraph");z={};B=this.oa.PO();z.vbuflmsec=B.totalvbuflmsecs;z.vbuflbytes=B.vbuflbytes;z.abuflmsec=B.totalabuflmsecs;z.abuflbytes=B.abuflbytes;z.tbuflmsec=B.totaltbuflmsecs;z.tbuflbytes=B.tbuflbytes;return z;};d.prototype.paused=function(){};d.prototype.ezc=function(){!1;this.kh.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.kh.Xc});};d.prototype.ps=function(z,B){var C;this.debug.assert(this.j.U,"has access to playback manifest");this.debug.assert(this.uhb,"has access to ASE utils");C=this.$R[v.v.X];return z.R === this.j.U.ya.R?C:this.uhb.Kec(this.j.U.ya.Ay[C],B);};d.prototype.iA=function(z,B){this.debug.assert(this.j.U,"has access to playback manifest");if(this.j.Fc.xa && (z=this.$R[v.v.Aa],(B=B[z]) && (!B.Qw || B.u8)))return z;};d.prototype.yIb=function(z){var B,C,D,F,H,E;this.debug.assert(this.Zc,"has access to internalLogger");this.debug.assert(this.Cb,"has access to asePlayer");this.debug.assert(this.j.U,"has access to playback manifest");if(this.RYa)return (!1,!1);C=z.iu;D=this.$R[v.v.X];if(void 0 === C)F=D;else if(!this.j.U.ya.audio_tracks.some(function(G,K){if(G.new_track_id === C)return (F=K,!0);}))return (!1,!1);H=z.FIb;z=this.$R[v.v.Aa];if(void 0 === H)E=z;else if(!this.j.U.ya.timedtexttracks.some(function(G,K){if(G.new_track_id === H)return (E=K,!0);}))return (!1,!1);!1;this.H3=F;this.I3=E;null === (B=this.j.Qd) || void 0 === B?void 0:B.RIc();this.j.paused.value || (this.Cb.pause([v.v.X,v.v.Aa]),this.sQ=!0,this.j.paused.set(!0,{Gz:!0}));this.debug.gia(this.H3,"has access to valid requestedAudioTrackIndex number");this.$R[v.v.X]=this.H3;this.debug.gia(this.I3,"has access to valid requestedTextTrackIndex number");this.$R[v.v.Aa]=this.I3;(this.Ax() || this.sQ) && this.Cb.resume(this.sQ?[v.v.X,v.v.Aa]:void 0);this.tL(this.nJb);return !0;};d.prototype.Ax=function(){var z;z=this;this.debug.assert(this.oa,"has access to asePlaygraph");return this.oa.Ax({nR:this.ps.bind(this)},{nR:function(){return z.$R[v.v.V];}},{nR:this.iA.bind(this)});};d.prototype.Ejc=function(){var z,B;z=this;if(!this.Nra){B={type:"playbackEnding",cancel:function(){z.Nra=!0;}};this.kh.emit(B.type,B);}B=this.Nra;this.Nra=!1;return B;};d.prototype.Zp=function(){var z;!1;this.Lg.set(n.Wb.Fl);null === (z=this.oa) || void 0 === z?void 0:z.bZa("intrplay",n.Mc.Zp);this.kh.emit("underflow",{type:"underflow",pts:this.kh.Xc});this.tL(this.Sl);};d.prototype.ysa=function(z,B){this.Zta.ysa(z,B);};d.prototype.open=function(){var z,B;if(!this.m3){this.debug.assert(this.oa,"has access to asePlaygraph");this.debug.assert(this.Cb,"has access to asePlayer");!1;this.m3=this.Mj=!0;this.oa.open();this.debug.assert(this.JC,"invalid start position relative to playgraph");this.oa.JK(this.JC,n.I.Ca(this.j.Db));this.Lg.set(n.Wb.Df);this.tL(this.Sl);this.oa.zy(this.Cb);this.iwb();B=null === (z=this.Wm()) || void 0 === z?void 0:z.ft.mF();z=this.j.ea.R.toString();(null === B || void 0 === B?0:B.result[z]) && this.events.emit("adMetadataUpdated",{type:"adMetadataUpdated",$ha:[z]});}};d.prototype.play=function(){this.debug.assert(this.oa,"has access to asePlaygraph");this.debug.assert(this.Cb,"has access to asePlayer");!1;0 !== this.oa.state && (this.Cb.resume(this.sQ?[v.v.X,v.v.Aa]:void 0),this.Lg.set(n.Wb.bg),this.kh.emit("playing",{type:"playing",pts:this.kh.Xc}));};d.prototype.stop=function(){var z;!1;this.Lg.set(n.Wb.Lfa);null === (z=this.Cb) || void 0 === z?void 0:z.pause();this.events.emit("stop");this.kh.emit("paused",{type:"paused",pts:this.kh.Xc});};d.prototype.flush=function(){this.debug.assert(this.oa,"has access to asePlaygraph");this.debug.assert(this.Cj,"has access to streamingEngine");!1;this.m3 && this.Lg.value !== n.Wb.by && this.Lg.value !== n.Wb.Lfa && this.stop();this.oa.bZa("endplay",n.Mc.wk);this.oa.$g();this.Cj.fl.save();this.Cj.XJ.save();};d.prototype.Wm=function(){var z;return null === (z=this.oa) || void 0 === z?void 0:z.Oc;};d.prototype.TIa=function(z){var B;this.debug.assert(this.oa,"has access to asePlaygraph");B=n.I.Ca(z);return (B=this.oa.Dp(B,{kIc:!0,jIc:!0}))?this.oa.Z.$[B.L].cb + Number(B.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + z);};d.prototype.VIa=function(z,B){this.debug.assert(this.oa,"has access to asePlaygraph");this.debug.assert(this.Zc,"has access to internalLogger");!1;this.oa.Z.$[z] || (z=this.wLa(B));this.debug.hia(z,"has access to segmentId");z={L:z,offset:n.I.Ca(B - this.oa.Z.$[z].cb)};if(z=this.oa.GB(z))return z.G;!1;return B;};d.prototype.O3b=function(z,B){var C,D,F,H;this.debug.assert(this.oa,"has access to asePlaygraph");this.debug.assert(this.Cb,"has access to asePlayer");!1;B && this.oa.Z.$[B] || (B=null !== (C=this.wLa(z)) && void 0 !== C?C:null === (D=this.Cb) || void 0 === D?void 0:D.xh.L);B=this.j.el(B);z={Ua:n.I.Ca(z),J:B.R};return null === (H=null === (F=this.oa.Hu(z)) || void 0 === F?void 0:F.sa) || void 0 === H?void 0:H.G;};d.prototype.hka=function(z){var B;B=void 0 === B?!0:B;!1;this.Mj?Number.isFinite(z) && (this.debug.assert(this.Cb,"has access to asePlayer"),B?this.Cb.fGb(z):this.Cb.eGb(z)):this.fail("Must call open prior to drmReady");};d.prototype.Csb=function(){var z;return null !== (z=this.Cb) && void 0 !== z && z.Jd?this.Cb.o8(this.rb.ea.J):!1;};d.prototype.sk=function(z){var B,C,D;!1;if(!this.Cb)return (!1,!1);z=n.I.Ca(z);D=null !== (C=null === (B=this.Wm()) || void 0 === B?void 0:B.sk(z)) && void 0 !== C?C:!0;return this.Cb.sk(z) && D;};d.prototype.nFc=function(z,B){var C;this.debug.assert(this.oa,"has access to asePlaygraph");this.debug.assert(this.Cb,"has access to asePlayer");!1;B && this.oa.Z.$[B] || (B=null !== (C=this.wLa(z)) && void 0 !== C?C:this.rb.Vh);this.debug.hia(B,"has access to segmentId");this.debug.assert(this.oa.Z.$[B],"segment exists in playgraph map");B={L:B,offset:n.I.Ca(z - this.oa.Z.$[B].cb)};this.oa.JK(B,n.I.Ca(z));this.Cb.resume();this.Lg.set(n.Wb.Df);this.tL(this.Sl);z=this.oa.fFb(B);this.debug.assert(z,"Valid position must be provided for seek");};d.prototype.addEventListener=function(z,B){this.events.addListener(z,B);return this;};d.prototype.removeEventListener=function(z,B){this.events.removeListener(z,B);return this;};d.prototype.iMc=function(z,B){var C;!1;C={};this.oa.Kk((C[z]=B,C));};d.prototype.Wia=function(z,B){var C,D;this.debug.assert(this.Zc,"has access to internalLogger");this.debug.assert(this.oa,"has access to asePlaygraph");this.debug.assert(this.Cb,"has access to asePlayer");!1;C=this.Js().id;D=this.oa.j7(C,z);if(B){if(!D.jNc)return (this.Zc.warn("chooseNextSegment, seamless transition, invalid destination: " + (z + " for current segment: " + C)),!1);if(void 0 !== D.kSa && (!1,D.kSa !== z))return !1;this.oa.ym(C,z,!1,B);return !0;}if(void 0 !== D.kSa)return (!1,!1);D.N4 && (this.Cb.reset(),this.oa.ym(C,z,!1,B),this.Cb.resume(),this.Lg.set(n.Wb.Df),this.tL(this.Sl));return !!D.N4;};d.prototype.ym=function(z,B,C,D){this.debug.assert(this.oa,"has access to asePlaygraph");!1;this.oa.ym(z,B,C,D);};d.prototype.VK=function(){var z;this.debug.assert(this.Zc,"has access to internalLogger");!1;z=this.kh.Xc;!1;this.kh.emit("skipped",{type:"skipped",pts:z});return new n.P2(Promise.resolve()).oEc;};d.prototype.Mla=function(z,B){var C;return null === (C=this.oa) || void 0 === C?void 0:C.Mla(z,B);};d.prototype.oNa=function(){var z;return null === (z=this.oa) || void 0 === z?void 0:z.oNa();};d.prototype.wLa=function(z){var B,C,D,F,H,E,G,K;this.debug.assert(this.oa,"has access to asePlaygraph");this.debug.assert(this.Zc,"has access to internalLogger");!1;B=this.oa.Z;C=[];D=Infinity;for(F in B.$){H=B.$[F];E=H.cb;H=H.ib;G=z < Number(null !== H && void 0 !== H?H:Infinity);if(E <= z && G)(!1,C.push(F));else if((E=Math.min(Math.abs(z - E),Math.abs(z - H)),E < D)){D=E;K=F;}}z=C[0] || K;this.debug.hia(z,"has access to locatedSegmentId");!1;return z;};d.prototype.iwb=function(){var z,B;z=this;this.debug.assert(this.j.kc,"has access to mediaElement");B=this.j.kc.Ga;this.debug.assert(B,"has access to videoElement");B.addEventListener("play",function(){z.Lg.value === n.Wb.gi && (z.Lg.set(n.Wb.bg),z.kh.emit("playing",{type:"playing",pts:z.kh.Xc}));});B.addEventListener("pause",function(){z.Lg.value === n.Wb.bg && (z.Lg.set(n.Wb.gi),z.kh.emit("paused",{type:"paused",pts:z.kh.Xc}));});};d.prototype.fail=function(z){var B;null === (B=this.oa) || void 0 === B?void 0:B.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:z});};d.prototype.tL=function(z){var B,C,D,F,H,E,G,K;B=this;if(z !== this.nJb && this.RYa)(!1,this.eAb=z);else {K=null === (C=this.Cb) || void 0 === C?void 0:C.lo.value;C=null === (D=this.oa) || void 0 === D?void 0:D.Xd.value;D=!0 === K;K=C === n.Dd.Po;!1;null === (F=this.Cb) || void 0 === F?void 0:F.lo.removeListener(this.Hxb);null === (H=this.oa) || void 0 === H?void 0:H.Xd.removeListener(this.tib);D && K?z():(this.Hxb=function(){return B.tL(z);},this.tib=function(){return B.tL(z);},null === (E=this.Cb) || void 0 === E?void 0:E.lo.addListener(this.Hxb),null === (G=this.oa) || void 0 === G?void 0:G.Xd.addListener(this.tib));}};d.prototype.Apb=function(z){var B,C;B=this;z=this.j.xk(z);return Promise.resolve(null !== (C=z.U) && void 0 !== C?C:this.nra(z)).then(function(D){var F,H;D=D.ya;return {U:D,jB:D.pma && !D.$I,config:B.Rl,jh:[].concat(za(B.jh)),zr:null !== (H=null === (F=B.oa) || void 0 === F?void 0:F.id) && void 0 !== H?H:-1};});};d.prototype.nra=function(z){var B,C,D,F,H;B=this;!1;F=Promise.resolve();if(null === (C=z.ke) || void 0 === C?0:C.kd){C=z.ke.kd;(H=null === (D=this.j.xk(C).U) || void 0 === D?void 0:D.ya)?z.ke.z$=H:F=this.he.Yq(C).Ct.then(function(E){return E.U;}).then(function(E){z.ke.z$=E;}).catch(function(){return B.j.Pf(f.aa.eM,f.W.CMb);});}return F.then(function(){return B.j.nra(z);}).then(function(){return z.U;});};d.prototype.nB=function(z,B,C){var D,F,H,E,G,K,N,I,L,O,J,Q,P;D=this;this.debug.assert(this.Cj,"has access to streamingEngine");!1;L={J:z,kd:null === (F=null === B || void 0 === B?void 0:B.Mf) || void 0 === F?void 0:F.kd,Bb:null === (H=null === B || void 0 === B?void 0:B.Mf) || void 0 === H?void 0:H.Bb};if(!this.he.has(L)){if(!this.j.J7(z) && (null === (E=null === B || void 0 === B?void 0:B.Mf) || void 0 === E?0:E.kd) && this.j.J7(null === (G=null === B || void 0 === B?void 0:B.Mf) || void 0 === G?void 0:G.kd)){F=this.j.xk(null === (K=B.Mf) || void 0 === K?void 0:K.kd);K=null === (N=F.U) || void 0 === N?void 0:N.ya.Bb;N=this.j.uqb(z);(null === (I=null === N || void 0 === N?void 0:N.ya) || void 0 === I?0:I.Bb) && N.ya.Bb === K && (O=N);this.j.blb(z,B,F.Ha,O);}this.j.J7(z) && (J=this.j.xk(z));Q=C?C.Ha:J?J.Ha:void 0;I=C?C.yi:J?J.correlationId:void 0;this.he.store(L,{ZU:function(){},equals:function(S){return S && S.J === L.J && (Q === S.Ha || !S.Ha || !Q);},get Ct() {P || (P=D.Apb(z));return P;},set Ct(S) {P=S;},events:new c.EventEmitter(),Ha:Q,J:L.J,Aw:!1,gta:!1});this.Rl.jO && this.Cj.OZ(this.he.Yq(L.J,B),{Ha:Q,yi:I,lKa:null === C || void 0 === C?void 0:C.CI});}};d.prototype.G_=function(z){var B,C,D;this.debug.assert(this.Cj,"has access to streamingEngine");!1;B=this.j.el(z);C=B.ke;z=this.rb.Ks(z).J;if(!this.he.has({J:B.R,kd:null === C || void 0 === C?void 0:C.kd,Bb:null === C || void 0 === C?void 0:C.Bb}))return Promise.resolve();C && (D={Mf:{Bb:null === C || void 0 === C?void 0:C.Bb,kd:C.kd}});B=this.he.Yq(z,D);B.Ct=this.Apb(z);return this.Cj.G_(B);};d.prototype.j7=function(z){var B;this.debug.assert(this.Cb,"has access to asePlayer");this.debug.assert(this.oa,"has access to asePlaygraph");return this.oa.j7(null === (B=this.Cb.Js().K) || void 0 === B?void 0:B.id,z);};d.prototype.Ym=function(z){var B;z=null === (B=this.oa) || void 0 === B?void 0:B.Ym(z);!1;return z;};d.prototype.Cnc=function(z){var B,C;B=z.x5;C=z.L;this.debug.assert(this.Cj,"has access to streamingEngine");this.debug.assert(this.Zc,"has access to internalLogger");!1;z=this.j.el(C);z=this.rb.YO(z);C=z.$[C];this.debug.assert(C,"segment exists");this.JC=(0,p.ukc)(C.J,z,this.j.Db,C.cb);B=Object.create(this.Rl,{CI:{value:B.CI},XV:{value:this.j.background.value}});this.Lg=new q.tc(n.Wb.Oo);this.oa=this.Cj.f4(z,this.Rl.tzc,B,this.he);this.Zta=new n.T2(this.Zc);B=this.oa.t5(this.Zta);z=this.oa.s5();this.oa.dXa(z,B);this.Ax();this.sQ=!1;};d.prototype.mV=function(){var z,B,C;z=this;this.debug.assert(this.Cj,"has access to streamingEngine");this.debug.assert(this.j.U,"has access to playback manifest");!1;C=null === (B=this.j.U) || void 0 === B?void 0:B.ya;B=void 0 !== this.iA(C,C.SR);C=[].concat(za(this.jh));B && C.push(v.v.Aa);B=Object.create(this.Rl,{jh:{value:C},cNa:{value:function(){return z.ojc();}}});this.kh=this.pjc();this.Cb=this.Cj.u_b(this.kh,B);};d.prototype.pjc=function(){var z,B,C,D;z=this;if(this.kh)return this.kh;C=Object.create(new c.EventEmitter(),{rl:{get:function(){return z.j.xj.la(m.wa);}},Xc:{get:function(){z.debug.gia(z.j.mediaTime.value,"has access to mediaTime.value");return n.I.Ca(z.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(z.j.playbackRate.value,.01);}},Ric:{value:function(){z.debug.assert(z.j.kc,"has access to mediaElement");return z.j.kc;}}});D=null === (B=this.j.ea.U) || void 0 === B?void 0:B.ya.Jf;this.config.Acc && !(0,y.Ow)(D) && (this.debug.assert(this.Zc,"has access to internalLogger"),this.BEb=new w.uab(this.j,this.config,this.Zc),Object.defineProperties(C,{lw:{value:function(F){var H;H=z.BEb.lw(F);H.lw || (z.vqa={K6:F.K6,ica:F.ica});return H;}},Uc:{value:function(F,H){return z.BEb.Uc(F,H);}}}));return C;};d.prototype.lEc=function(z){var B;B=this;return new Promise(function(C){B.iwb();B.Dac();B.mV();B.debug.assert(B.Cb,"asePlayer should have been re-created");B.bib();B.oa.zy(B.Cb);return z.then(function(){B.play();B.Lg.set(n.Wb.Df);B.tL(function(){B.j.paused.value && B.j.paused.set(!1,{Gz:!0});B.Sl();!1;C();});}).catch(function(D){B.debug.assert(B.log,"log should exist");B.log.error("Restart player for non-seamless transition failed.",{error:D});return B.j.Pf(f.aa.$8a,D);});});};d.prototype.Dac=function(){var z;null === (z=this.oa) || void 0 === z?void 0:z.Eac();this.Cj.pVa(this.Cb);this.Ch=this.Cb=void 0;};d.prototype.ojc=function(){this.Ch || (this.Ch=new n.platform.MediaSource(this.kh),this.Ch.eg || (this.Ch.eg=n.platform.MediaSource.eg));return this.Ch;};Ga.Object.defineProperties(d.prototype,{RYa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.H3 && void 0 !== this.I3;}},ed:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Cj,"has access to streamingEngine");return this.Cj.ed;}},li:{configurable:!0,enumerable:!0,get:function(){for(var z,B=null === (z=this.oa) || void 0 === z?void 0:z.li;null === B || void 0 === B?0:B.li;)B=B.li;return null === B || void 0 === B?void 0:B.Z;}},Xjb:{configurable:!0,enumerable:!0,get:function(){for(var z=this.Cb;null === z || void 0 === z?0:z.e8;)z=z.e8;return z;}},ulb:{configurable:!0,enumerable:!0,get:function(){var z,B,C;if(null === (z=this.Xjb) || void 0 === z?0:z.Jd){C=(z=this.Xjb.xh) && (null === (B=this.li) || void 0 === B?void 0:B.$[z.L]);if(C)return {Ua:n.I.Ca(z.offset.G + C.cb),J:C.J};}}},nib:{configurable:!0,enumerable:!0,get:function(){var z;return null === (z=this.Cb) || void 0 === z?void 0:z.AP.value.G;}}});b.Wya=d;},13005:function(t,b,a){var n,c,g,f;function d(e){function h(l,k){this.xb=l;this.zWb=k;this.qLa=!1;this.emit=f.prototype.emit;this.addListener=f.prototype.addListener;this.on=f.prototype.on;this.once=f.prototype.once;this.removeListener=f.prototype.removeListener;this.removeAllListeners=f.prototype.removeAllListeners;this.listeners=f.prototype.listeners;this.listenerCount=f.prototype.listenerCount;f.call(this);this.cg=e.qb("DownloadTrack");}h.prototype.Cs=function(){!1;this.P3=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.P3 + " config: " + JSON.stringify(this.xb);};h.prototype.toJSON=function(){return "Download Track id:" + this.P3 + " config: " + JSON.stringify(this.xb);};h.prototype.tX=function(){return void 0 === this.P3?!1:!0;};h.prototype.iVa=function(l){this.xb.connections !== l.connections && (this.xb=l);};Ga.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.P3;}},Vl:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.P3;}},config:{configurable:!0,enumerable:!0,get:function(){return this.xb;}},Cqa:{configurable:!0,enumerable:!0,get:function(){return this.cg;}},F9:{configurable:!0,enumerable:!0,get:function(){return this.zWb.F9;}},wIb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});this.K0=Object.assign(h,new g.W2a());}Object.defineProperty(b,"__esModule",{value:!0});b.uwa=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(67263);f=a(17187).EventEmitter;b.uwa=d;b.uwa=d=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb))],d);},22806:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r,q,u,v){this.BU=p;this.Je=q;this.Zb=u;this.Oa=v;this.log=r.qb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.sza=void 0;t=a(22970);n=a(48220);c=a(24550);g=a(36129);f=a(87386);e=a(22674);h=a(32934);l=a(42207);k=a(81918);m=a(5021);d.prototype.TO=function(){return this.Oa.uc().la(m.wa);};d.prototype.kvc=function(p,r){p.nvc({mediaRequest:p,timestamp:r});};d.prototype.Mpa=function(p){var r,q;q=p.mediaRequest.TJ;q.mzb(Object.assign(Object.assign({},p),{timestamp:p.connect?p.timestamp:this.TO(),connect:null !== (r=p.connect) && void 0 !== r?r:!1,mediaRequest:q,readyState:q.readyState}));};d.prototype.tY=function(p){this.kvc(p.mediaRequest.TJ,p.timestamp);};d.prototype.jQ=function(p){var r,q;r=p.mediaRequest.TJ;q=p.bytes;"undefined" === typeof r?!1:(r.readyState === n.ae.Md.ED && this.Mpa(p),this.Zb.Ln(q) && (p.mediaRequest=r,p.timestamp=this.TO(),q > r.bytesReceived && (p.newBytes=q - r.bytesReceived,p.bytesLoaded=q,r.qvc(p))));};d.prototype.o$=function(p){var r,q,u,v;r=p.mediaRequest;q=p.errorcode;u=p.httpcode;v=n.ae.lD;if("undefined" === typeof r)!1;else if((r=r.TJ,"undefined" === typeof r))!1;else if(q === g.W.UL)(p.mediaRequest=r,p.readyState=r.readyState,r.ivc(p));else {switch(q){case g.W.H1:u=v.H1a;break;case g.W.Dxa:u=v.Bxa;break;case g.W.D1:u=400 < u && 500 > u?452 === u?v.H4a:v.nea:500 <= u?v.F1:v.Bxa;break;case g.W.E1:u=v.Cxa;break;case g.W.C1:u=v.I1a;break;case g.W.G1:u=v.oea;break;case g.W.VL:u=v.oea;break;case g.W.G4a:u=v.F4a;break;case g.W.C4a:u=v.nea;break;case g.W.POb:u=v.Cxa;break;default:u=v.oea;}p.mediaRequest=r;p.readyState=r.readyState;p.errorcode=u;p.nativecode=q;r.wSa(p);}};d.prototype.aK=function(p,r){var q,u;q=r.request.TJ;if(q)if(r.success){if((!1,p.j && q.readyState !== n.ae.Md.DONE)){switch(q.readyState){case n.ae.Md.Av:!1;return;case n.ae.Md.Gl:break;case n.ae.Md.ED:this.Mpa({mediaRequest:r.request,responseHeaders:r.headers,httpCode:r.Vj});break;default:!1;}if(!q.gf){u={mediaRequest:q,readyState:q.readyState,timestamp:this.TO(),cadmiumResponse:r};p.j.QYa+=1;q.Skc();q.Yoc() && (p.j.PVa+=1,r.yp.pl=Math.ceil(q.ELa),r.yp.rv=Math.ceil(q.LN),r.yp.hG=Math.floor(q.IJ));q.e6b=u;q.oY(u);}}}else (!1,q.readyState === n.ae.Md.Av?!1:this.o$({mediaRequest:r.request,errorcode:r.Ma,httpcode:r.Uq,responseHeaders:r.headers,cadmiumResponse:r}));};d.prototype.download=function(p,r){var q;q=this;r=this.Je.download(p,r);p.TJ && p.TJ.readyState === n.ae.Md.OPENED && r.FGc(function(u){q.tY(u);});r.Aha(function(u){q.aK(p,u);});r.SGc(function(u){q.jQ(u);});return r;};a=d;b.sza=a;b.sza=a=t.__decorate([(0,e.Y)(),t.__param(0,(0,e.l)(c.f0)),t.__param(1,(0,e.l)(f.wb)),t.__param(2,(0,e.l)(h.AA)),t.__param(3,(0,e.l)(l.ei)),t.__param(4,(0,e.l)(k.Sd))],a);},77425:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x,y){this.Oa=q;this.bF=u;this.config=v;this.Je=x;this.rtc=y;this.log=w.qb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(32934);f=a(24240);e=a(51344);h=a(48220);l=a(81918);k=a(5021);m=a(34231);p=a(4203);r=a(26388);d.prototype.ila=function(q,u,v){var x,y,A;function w(){var z;q.removeEventListener(h.ae.Al.mH,w);if(q.aborted)x.log.debug("MediaRequest aborted, not retrying (" + q + ")");else {z=x.config().bec;void 0 === q.iW?q.iW=0:q.iW++;q.iW >= z.length && (q.iW=z.length - 1);Ba.clearTimeout(q.pLa);q.pLa=Ba.setTimeout(function(){q.yJ();},z[q.iW]);}}x=this;q.T_c=!0;q.aborted=!1;y=0 === u.start && -1 === u.end;u={url:q.url,responseType:this.Je.yfa.U0a,withCredentials:!1,wI:q.mediaType === r.v.X?"audio":"video",offset:y?void 0:u.start,length:y?void 0:q.Vp,track:{type:q.mediaType === r.v.X?e.Jm.audio:e.Jm.video},stream:{Yb:q.Jb,bitrate:q.bitrate},Kc:{id:q.Qc},TJ:q,HC:v,Ix:this.bF.Ix || !y && void 0 !== q.nO,zx:q.zx};v=q.nO;void 0 !== v && void 0 !== v.Bj && void 0 !== v.SB && void 0 !== v.Vw && (u.nO=[v.Vw,v.SB,v.Bj,v.Hjb]);A=this.TO();u=this.rtc.download(u,function(z){z.success && q.readyState !== h.ae.Md.DONE && (q.readyState === h.ae.Md.Av?!1:(q.readyState === h.ae.Md.ED?q.mzb({mediaRequest:q,readyState:q.readyState,timestamp:q.gf?A:x.TO(),connect:!1,responseHeaders:z.headers,httpCode:z.Vj}):q.readyState !== h.ae.Md.ED && q.readyState !== h.ae.Md.Gl && !1,z={mediaRequest:q,readyState:q.readyState,timestamp:x.TO(),cadmiumResponse:z,response:z.content},q.e6b=z,q.oY(z)));});q.addEventListener(h.ae.Al.mH,w);q.GOa=u.abort;};d.prototype.mN=function(q){try{q.aborted=!0;Ba.clearTimeout(q.pLa);q.pLa=void 0;q.iW=void 0;q.GOa();}catch(u){this.log.warn("exception aborting request");}};d.prototype.TO=function(){return this.Oa.uc().la(k.wa);};a=d;b.xza=a;b.xza=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(l.Sd)),t.__param(1,(0,n.l)(m.Vr)),t.__param(2,(0,n.l)(p.Cc)),t.__param(3,(0,n.l)(c.wb)),t.__param(4,(0,n.l)(g.AA)),t.__param(5,(0,n.l)(f.F7a))],a);},89936:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r,q,u,v,w,x){function y(z,B){this.track=z;this.label=B;this.dg=k.ae.Md.UNSENT;this.bytesReceived=0;this.jG=[];}function A(z,B,C){this.requestId=x.GE().toString();this.Zb=u;this.log=q.qb("MediaRequest");this.config=r;this.$b=new l.Bl();this.label=B;"notification" === this.label?this.config().jO && (this.F9=v):this.F9=w;C && (this.mediaType=C.mediaType,this.Jb=C.Jb,this.bitrate=C.bitrate,this.Qc=C.Qc || 0,this.lz=C.lz,this.L=C.L);this.g8=this.Lia=this.Mia=void 0;this.track=z;this.OU=this.url=this.responseType=void 0;this.dg=k.ae.Md.UNSENT;this.Xg=this.XE=this.ah=this.status=void 0;this.bytesReceived=0;this.connect=this.ELa=this.LN=this.IJ=this.tQa=this.Qi=this.DLa=this.loadTime=this.Uo=void 0;this.jG=[];this.Vl=!1;!1;}y.prototype.addEventListener=function(z,B,C){this.$b.addListener.call(this,z,B,C);};y.prototype.removeEventListener=function(z,B){this.$b.removeListener.call(this,z,B);};y.prototype.emit=function(z,B,C){this.$b.bd.call(this,z,B,C);};y.prototype.nvc=function(z){this.dg === k.ae.Md.OPENED && (this.g8=!0,this.loadTime=this.Qi=z.timestamp,!1,this.dg=k.ae.Md.ED,this.emit(k.ae.Al.F8a,z));};y.prototype.mzb=function(z){var B;z.responseHeaders && (this.Lra=z.responseHeaders);z.httpCode && (this.status=z.httpCode);if(this.dg < k.ae.Md.Gl){this.jG=[];B=z.timestamp - this.loadTime;!this.gf && 0 < B && (this.connect=!0,this.jG.push(B));!0 === this.config().Qmc?this.DLa=z.timestamp:this.DLa=this.Qi=z.timestamp;!1;this.dg=k.ae.Md.Gl;200 <= this.status && 299 >= this.status && this.emit(k.ae.Al.E8a,z);}};y.prototype.qvc=function(z){this.dg === k.ae.Md.Gl && (!1,this.tQa=this.Qi=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.Zb.Xh(this.tQa) && 200 <= this.status && 299 >= this.status && this.emit(k.ae.Al.G8a,z));};y.prototype.oY=function(z){var B;if(-1 < [k.ae.Md.ED,k.ae.Md.Gl].indexOf(this.dg)){this.g8=!1;!1;this.Qi=z.timestamp;this.dg=k.ae.Md.DONE;B=this.bytesReceived;this.bytesReceived=z.cadmiumResponse.yp.Rm;(0,p.qa)(this.bytesReceived === this.Vp,"bytesReceived do not match expected totalBytes.");z.newBytes=this.Vp - B;this.Zb.Xh(this.LN) && (this.Qi=this.LN,0 === z.newBytes && (this.tQa=this.LN));this.Zb.Xh(this.IJ) && (this.loadTime=this.IJ);this.Uo=z.response;this.emit(k.ae.Al.q2,z);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",FDc:z});}};y.prototype.ivc=function(z){this.g8=!1;!1;this.emit(k.ae.Al.xSb,z);};y.prototype.wSa=function(z){var B,C;this.Qi=z.timestamp;this.status=null !== (B=z.httpcode) && void 0 !== B?B:this.status;this.Lra=null !== (C=z.responseHeaders) && void 0 !== C?C:this.Lra;this.ah=z.errorcode;this.XE=k.ae.lD.name[this.ah];this.Xg=z.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",wdc:z});this.emit(k.ae.Al.mH,z);this.g8=!1;};y.prototype.open=function(z,B,C,D,F,H,E,G,K){this.Cx=!1;this.OU=B;this.HC=E;this.zx=G;this.nO=K;this.url=z;this.responseType=C;!1;return this.url?this.yJ():(!1,!1);};y.prototype.yJ=function(){this.dg=k.ae.Md.OPENED;this.status=this.bytesReceived=0;this.Xg=this.XE=this.ah=this.Lra=void 0;this.F9.ila(this,this.OU,this.HC);return !0;};y.prototype.Qe=function(){!1;-1 !== [k.ae.Md.OPENED,k.ae.Md.ED,k.ae.Md.Gl].indexOf(this.dg) && this.abort();return !0;};y.prototype.l_=function(z){!1;this.url=z;return this.dg > k.ae.Md.UNSENT?(this.abort(),this.yJ()):!0;};y.prototype.abort=function(){this.dg=k.ae.Md.Av;this.F9.mN(this);return !0;};y.prototype.pause=function(){};y.prototype.getResponseHeader=function(z){var B,C;return null !== (C=null === (B=this.Lra) || void 0 === B?void 0:B[z.toLowerCase()]) && void 0 !== C?C:null;};y.prototype.getAllResponseHeaders=function(){return "";};y.prototype.lZ=function(){};y.prototype.ti=function(){return this.requestId;};y.prototype.toString=function(){var z;z={requestId:this.ti(),segmentId:this.L,isHeader:this.gf,ptsStart:this.tK,ptsOffset:this.eaa,responseType:this.responseType,duration:this.Ig,readystate:this.dg,bitrate:this.bitrate};return JSON.stringify(z);};y.prototype.toJSON=function(){return this.toString();};y.prototype.Skc=function(){var z,B;if(this.config().UKb && f.DA && f.DA.getEntriesByType && (!this.Zb.Xh(this.IJ) || !this.Zb.Xh(this.LN) && this.Zb.Xh(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.Mia + "-" + this.Lia + "*");B=new RegExp(z);z=f.DA.getEntriesByType("resource").filter(function(C){return B.exec(C.name);})[0];this.Zb.Xh(z) && (0 < z.startTime && (this.IJ=z.startTime,0 < z.requestStart && (this.IJ=Math.max(this.IJ,z.requestStart))),0 < z.responseStart && (this.ELa=z.responseStart),0 < z.responseEnd && (this.LN=z.responseEnd));}};y.prototype.Yoc=function(){return this.Zb.Xh(this.IJ) && this.Zb.Xh(this.LN) && this.Zb.Xh(this.ELa);};Ga.Object.defineProperties(y.prototype,{Vp:{configurable:!0,enumerable:!0,get:function(){return 0 === this.OU.start && -1 === this.OU.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.OU.end - this.OU.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.Lia - this.Mia + 1;}},Ylc:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},gf:{configurable:!0,enumerable:!0,get:function(){return !this.lz;}},response:{configurable:!0,enumerable:!0,get:function(){return this.Uo;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.dg;}}});Object.getOwnPropertyNames(y.prototype).forEach(function(z){var B;B=Object.getOwnPropertyDescriptor(y.prototype,z);Object.defineProperty(A.prototype,z,B);});this.Cl=Object.assign(A,k.ae);}Object.defineProperty(b,"__esModule",{value:!0});b.wza=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(4203);f=a(22365);e=a(42207);h=a(31034);l=a(94886);k=a(48220);m=a(62665);p=a(45146);b.wza=d;b.wza=d=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Cc)),t.__param(1,(0,n.l)(c.wb)),t.__param(2,(0,n.l)(e.ei)),t.__param(3,(0,n.l)(h.S8a)),t.__param(4,(0,n.l)(h.L7a)),t.__param(5,(0,n.l)(m.sD))],d);},76457:function(t,b,a){var n,c,g;function d(f,e){this.Je=e;this.log=f.qb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.gAa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(32934);d.prototype.ila=function(f,e,h){e={url:f.url,jFc:h};!1;f.GOa=this.Je.RHc(e);};d.prototype.mN=function(f){try{f.GOa();}catch(e){this.log.warn("exception aborting request");}};g=d;b.gAa=g;b.gAa=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(a.AA))],g);},45240:function(t,b,a){var n,c,g,f;function d(e,h,l){this.j=e;this.config=h;this.Xa=this.j.Xa;this.log=l.lV("RestartManagerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.CPb=b.uab=void 0;n=a(45247);c=a(85001);g=a(36129);d.prototype.lw=function(e){var h;h=e.mediaType;return h === n.v.X?{lw:!0}:h === n.v.V?this.g4b(e):{lw:!1,reason:"not-audio-not-video"};};d.prototype.Uc=function(e,h){var l,k,m,p;l=this;!1;void 0 === (null !== (k=h[n.v.V]) && void 0 !== k?k:h[n.v.X]) && this.log.warn("No fromSegment for audio/video given in playgraph restart");this.j.paused.value || this.j.paused.set(!0,{Gz:!0});null === (m=this.j.Qd) || void 0 === m?void 0:m.IIc();this.Xa.stop();p=new Promise(function(r){l.j.addEventListener(c.ha.Sna,r);});return this.j.lCc().then(function(){return l.Xa.lEc(p);}).catch(function(r){l.log.error("Restart player for non-seamless transition failed.",{error:r,restartContext:{mediaAttributesRecord:e,fromSegments:h}});return l.j.Pf(g.aa.$8a,r);});};d.prototype.g4b=function(e){var h,l,k,m,p;h=!0;l=e.K6;k=e.ica;m=e.from;p=e.to;if(l.L !== k.L && this.EHc(l,k))return (h=!1,{lw:h,reason:h?void 0:"testing-forced-ads-content"});e=this.config.DNc;return 0 < e.length?(e.some(function(r){r=new RegExp(r);if(r.test(m.profile) && !r.test(p.profile) || r.test(p.profile) && !r.test(m.profile))return (!1,h=!1,!0);}),{lw:h,reason:h?void 0:{mediaType:"video",Ec:"mismatch",details:"codec"}}):{lw:h};};d.prototype.EHc=function(e,h){e=e.L;h=h.L;h=e.includes("ad-")?h.includes("ad-")?f.SZb:h.includes("pad")?f.UZb:f.TZb:e.includes("pad")?h.includes("ad-")?f.Oxc:h.includes("pad")?f.Qxc:f.Pxc:h.includes("ad-")?f.F6b:h.includes("pad")?f.H6b:f.G6b;return this.config.xFc.includes(h);};b.uab=d;(function(e){e.SZb="adToAd";e.UZb="adToPadding";e.TZb="adToContent";e.Qxc="paddingToPadding";e.Pxc="paddingToContent";e.Oxc="paddingToAd";e.H6b="contentToPadding";e.F6b="contentToAd";e.G6b="contentToContent";})(f || (b.CPb=f={}));},64213:function(t,b,a){var n,c,g,f;function d(e,h,l){this.nB=void 0 === e?function(){}:e;this.DDc=h;this.GDc=l;this.WC=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.DDa=void 0;n=a(22970);c=a(45247);g=a(45146);f=a(31149);d.prototype.store=function(e,h){var l,p;l=this.generateKey(e);this.WC.has(l) && this.uSa(this.WC.get(l),!0);if(!e.kd)for(var k=Ea(this.WC),m=k.next();!m.done;m=k.next()){p=Ea(m.value);m=p.next().value;p=p.next().value;m.includes(":" + e.J + ":") && (this.uSa(p,!0),this.WC.delete(m));}this.WC.set(l,h);};d.prototype.Yq=function(e,h){var l,k,m;m=null === (l=null === h || void 0 === h?void 0:h.Mf) || void 0 === l?void 0:l.Bb;l=null === (k=null === h || void 0 === h?void 0:h.Mf) || void 0 === k?void 0:k.kd;k={J:e,kd:l,Bb:m};this.has(k) || this.nB(e,h);return this.get(k);};d.prototype.YQ=function(e,h){return n.__awaiter(this,void 0,void 0,function k(){var m,p,r;p=this;return Ta(k,function(q){if(1 == q.oo)return ((0,g.qa)(h.Mf,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,g.qa)(!!h.Mf.Bb,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),q.$U=2,ab(q,p.DDc(h),4));if(2 != q.oo)return q.return(q.rS);r=ib(q);throw new c.jfa("Could not hydrate adBreak",{Nn:0,fIb:0,errorCode:null !== (m=r.code) && void 0 !== m?m:0,context:{error:r instanceof f.ue?r.toJSON():r,type:"adBreakHydration"}});});});};d.prototype.ZQ=function(e,h){return n.__awaiter(this,void 0,void 0,function k(){var m,p,r;p=this;return Ta(k,function(q){if(1 == q.oo)return (q.$U=2,ab(q,p.GDc(e,h),4));if(2 != q.oo)return q.return(q.rS);r=ib(q);throw new c.jfa("Could not prefetch dai",{Nn:0,fIb:0,errorCode:null !== (m=r.code) && void 0 !== m?m:0,context:{error:r instanceof f.ue?r.toJSON():r,type:"daiPrefetch"}});});});};d.prototype.has=function(e){e=this.generateKey(e);return this.WC.has(e) && !this.WC.get(e).Aw;};d.prototype.clear=function(){var e;e=this;this.WC.forEach(function(h){e.uSa(h,!1);});this.WC.clear();};d.prototype.get=function(e){return this.WC.get(this.generateKey(e));};d.prototype.generateKey=function(e){var h,l;h=e.Bb;l=e.kd;return e.J.toString() + (l?":" + l:"") + (h?":" + h:"");};d.prototype.uSa=function(e,h){var l;null === (l=e.events) || void 0 === l?void 0:l.emit("viewableEvicted",{type:"viewableEvicted"});e.gta=h;};b.DDa=d;},30326:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.RGa=function(n){var c,g,f,e;c=n.mr;g=n.loadTime;n=n.gLa;f=(0,d.ec)(g)?g:0;e=c[n.target] || ({});c[n.target] !== e && (c[n.target]=e);Object.entries(n.fields).forEach(function(h){var l,k,m,p;l=Ea(h);h=l.next().value;l=l.next().value;if("object" !== typeof l || null === l)e[h]=l;else {k=l.type;if("count" === k)(void 0 === e[h] && (e[h]=0),++e[h]);else if(void 0 !== l.value){if("array" === k){k=e[h];m=l.adjust;p=l.value;k || (k=e[h]=[]);m && 0 < m.length && m.forEach(function(r){p[r]-=f || 0;});k.push(p);}else e[h]="sum" === k?(e[h] || 0) + l.value:l.value;}else e[h]=l;}});};d=a(32687);},64302:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.ukc=function(c,g,f,e){return g.$[g.ff].cb === e?(c=(0,d.ws)(g,c,d.I.Ca(f)),(0,n.qa)(c,"has valid start position relative to playgraph"),c):{L:g.ff,offset:d.I.fa};};d=a(45247);n=a(45146);},26668:function(t,b){function a(d){this.log=d.lV("AseUtilsImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.C0a=void 0;a.prototype.Kec=function(d,n){var c,g,f;!1;c=n.slice(0).sort(function(e,h){var l,k;return (null !== (l=e.wc) && void 0 !== l?l:0) - (null !== (k=h.wc) && void 0 !== k?k:0);}).sort(function(e,h){var l,k,m;l=e.profile === d.profile?0:1;k=h.profile === d.profile?0:1;m=l - k;if(0 !== l && 0 !== k || 0 === m)l=m;else return m;0 === l && (l=(e.language === d.language || "zxx" === e.language?0:1) - (h.language === d.language || "zxx" === h.language?0:1));0 === l && (l=(e.Ci === d.Ci?0:1) - (h.Ci === d.Ci?0:1));return l;});g=0;f=Ea(c).next().value;f && n.some(function(e,h){if(e === f)return (g=h,!0);});!1;return g;};b.C0a=a;},11479:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fj="AsyncComponentLoaderSymbol";},87284:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.zhb=void 0;t=a(22674);d=a(31073);n=a(11479);b.zhb=new t.je(function(c){c(n.Fj).to(d.iva).pa();});},31073:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u;function d(v,w,x,y,A,z){var B;B=this;this.xn=v;this.config=x;this.Gp=y;this.debug=A;this.Oa=z;this.aJb=[];this.tf={};this.log=w.qb("loadAsync");this.gsc=(0,r.EPb)(function(C){B.QCc=!0;B.startTime=B.Oa.uc().la(m.wa);B.load(B.aJb).then(function(){B.endTime=B.Oa.uc().la(m.wa);C(u.Jj);}).catch(function(D){B.endTime=B.Oa.uc().la(m.wa);C(D);});});}Object.defineProperty(b,"__esModule",{value:!0});b.iva=void 0;t=a(22970);n=a(77134);c=a(36129);g=a(96813);f=a(63156);e=a(22674);h=a(87386);l=a(4203);k=a(59818);m=a(5021);p=a(90597);r=a(22894);q=a(81918);u=a(33096);d.prototype.Z8=function(v){this.gsc(v);};d.prototype.register=function(v,w){this.debug.assert(!this.QCc);this.aJb.push({Crc:this.X3b(w),errorCode:v});};d.prototype.Kg=function(v){this.debug.assert(void 0 === this.tf[v]);this.tf[v]=this.Oa.uc().la(m.wa);};d.prototype.load=function(v){var w;w=this;return (0,g.HAc)(v).then(function(x){w.xn.mark(f.It.Km.zMb);return x.reduce(function(y,A){return y.then(function(){return w.Arc(A);});},Promise.resolve()).then(function(){w.xn.mark(f.It.Km.xMb);});});};d.prototype.Arc=function(v){var w,x;w=this;x=v.Crc;!1;return this.Gp.ot((0,m.ac)(this.config().i1b),x()).catch(function(y){w.log.error("Failed to load component " + v.errorCode,y);w.xn.mark(f.It.Km.yMb);if(y instanceof k.Pv)throw {Ma:c.W.wMb,errorCode:v.errorCode};y.errorCode=y.errorCode || v.errorCode;y.Ma=y.Ma || c.W.vMb;throw y;});};d.prototype.X3b=function(v){return function(){return new Promise(function(w,x){v(function(y){y.success?w():x(y);});});};};a=d;b.iva=a;b.iva=a=t.__decorate([(0,e.Y)(),t.__param(0,(0,e.l)(n.IT)),t.__param(1,(0,e.l)(h.wb)),t.__param(2,(0,e.l)(l.Cc)),t.__param(3,(0,e.l)(k.CD)),t.__param(4,(0,e.l)(p.iD)),t.__param(5,(0,e.l)(q.Sd))],a);},96813:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.HAc=function(g){return new Promise(function(f,e){var h;h=c.tSb(g);h && e(h);(h=c.sSb(g)) && e(h);f(g.sort(function(l,k){return n.indexOf(l.errorCode) - n.indexOf(k.errorCode);}));});};d=a(36129);n=[d.aa.qQb,d.aa.m5a,d.aa.n5a,d.aa.r5a,d.aa.i5a,d.aa.g5a,d.aa.Mxa,d.aa.uQb,d.aa.j5a,d.aa.h5a,d.aa.bH,d.aa.d5a,d.aa.f5a,d.aa.o5a,d.aa.p5a,d.aa.q5a,d.aa.k5a,d.aa.e5a,d.aa.l5a];(function(g){g.sSb=function(f){var l;for(var e={},h=0;h < f.length;h++){l=f[h];if(e[l.errorCode])return {errorCode:l.errorCode,Ma:d.W.tMb};e[l.errorCode]=1;}};g.tSb=function(f){var h;for(var e=0;e < f.length;e++){h=f[e];if(-1 === n.indexOf(h.errorCode))return {errorCode:h.errorCode,Ma:d.W.uMb};}};})(c || (c={}));},41674:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.AbortSignal=b.AbortController=void 0;b.AbortController=a.wW.AbortController;b.AbortSignal=a.wW.AbortSignal;b.AbortSignal.prototype.throwIfAborted || (b.AbortSignal.prototype.MIb=function(){if(this.aborted)throw this.reason;});},81918:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sd="ApplicationSymbol";},6405:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.FL="Base16EncoderSymbol";},2248:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yl="Base64EncoderSymbol";},22816:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zS="BrowserInfoSymbol";},33258:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jva="CachedErrorsSymbol";},30869:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.di="ClockSymbol";},87061:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$1a="ClockConfigSymbol";},58098:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.n2a="CsvEncoderSymbol";},34043:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qda="DebouncerFactorySymbol";},90597:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.D2a="DebugConfigSymbol";b.iD="DebugSymbol";},2762:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.FQc={};t.OTc="PboDebugEvent";t.QTc="PlaygraphEvent";b.EQc={CSc:"Manifest",Event:"Event",lSc:"Logblob"};b.RTc={iVc:"UX",jQc:"Combined_1",kQc:"Combined_2"};},28131:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma,R,M,V,ba,ha,ca,la,ra,ta,ja,W,ea,ka,pa,qa,na,Aa,Ha,oa,wa,ya;Object.defineProperty(b,"__esModule",{value:!0});b.lB=void 0;t=a(22674);d=a(63368);n=a(30869);c=a(53085);g=a(62665);f=a(10306);e=a(61909);h=a(11629);l=a(67525);k=a(691);m=a(84408);p=a(6405);r=a(2248);q=a(74870);u=a(42207);v=a(15160);w=a(59818);x=a(67572);y=a(53399);A=a(33543);z=a(30033);B=a(24900);C=a(4734);D=a(76564);F=a(31811);H=a(55099);E=a(88490);G=a(57180);K=a(9002);N=a(81918);I=a(58098);L=a(76928);O=a(69997);J=a(90597);Q=a(85125);P=a(87386);S=a(87061);Y=a(84183);X=a(77134);T=a(1639);U=a(91591);Z=a(69216);aa=a(49721);da=a(45842);fa=a(22365);ma=a(78789);R=a(20483);M=a(77687);V=a(6214);ba=a(31298);ha=a(4203);ca=a(91581);la=a(79274);ra=a(22816);ta=a(66057);ja=a(44720);W=a(95947);ea=a(4246);ka=a(84130);pa=a(34043);qa=a(61453);na=a(90030);Aa=a(2010);Ha=a(75236);oa=a(76892);wa=a(33258);ya=a(19699);b.lB=new t.je(function(ua){ua(d.ifa).gL(function(){return {};}).pa();ua(d.$S).Bo(JSON);ua(d.ndb).Bo(Ba);ua(f.Kbb).Bo(Math);ua(d.M6a).Bo(fa.Sea);ua(d.gfa).Bo(fa.DA);ua(d.Lcb).Bo(fa.nT);ua(d.C2a).Bo(Date);ua(d.n2).Bo(fa.ng);ua(d.ORb).Bo(fa.kM);ua(S.$1a).to(Y.Rva).pa();ua(N.Sd).to(K.Uua).pa();ua(n.di).to(k.Sva).pa();ua(c.Pk).to(e.sCa).pa();ua(g.sD).to(h.Pxa).pa();ua(w.CD).to(C.NBa).pa();ua(f.Afa).to(l.UBa).pa();ua(J.iD).to(O.iwa).pa();ua(J.D2a).to(Q.hwa).pa();ua(m.LD).to(y.uDa).pa();ua(p.FL).to(A.ova).pa();ua(r.yl).to(z.pva).pa();ua(q.Il).to(B.vDa).pa();ua(u.ei).Bo(D.ZL);ua(ja.Q0).to(W.Ywa).pa();ua(v.Zwa).to(F.Bl).TOa();ua(v.Rda).to(F.Bl).pa();ua(v.O2a).to(F.Bl).pa();ua(v.nxa).to(F.Bl).pa();ua(E.Hbb).to(G.FT).pa();ua(I.n2a).to(L.Wva).pa();ua(X.IT).to(T.Zfa).pa();ua(X.i2).to(T.Zfa).pa();ua("Factory<LoggerFactory>").$Ib(P.wb);ua(U.lwa).to(Z.kwa).pa();ua(da.rH).Kf(function(xa){return function(Ca){return new aa.YCa(xa.Hb.get(N.Sd),xa.Hb.get(c.Pk),Ca);};});ua(pa.Qda).Kf(function(xa){return function(Ca){return new qa.gwa(xa.Hb.get(c.Pk),Ca);};});ua(ma.LBa).WKc(R.ofa);ua(ma.bUb).Kf(function(xa){var Ca;Ca=xa.Hb.get(ma.LBa);return function(){return new Ca(!1);};});ua(ma.cUb).Kf(function(xa){var Ca;Ca=xa.Hb.get(ma.LBa);return function(){return new Ca(!0);};});ua(M.Icb).Kf(function(){return function(xa){return new V.Jcb(xa);};});ua(la.v2).Kf(function(xa){return function(Ca,Ja,Ka){return new ba.n$a(xa.Hb.get(J.iD),xa.Hb.get(ha.Cc),xa.Hb.get(ca.Yr),Ca,Ja,Ka);};});ua(x.Q8a).Kf(function(){return function(xa){return new H.R8a(xa);};});ua(ra.zS).to(ta.wva);ua(Ha.dga).to(oa.rDa).pa();ua(Ha.Kcb).to(oa.qDa).pa();ua(ea.M2).Kf(function(xa){return function(Ca,Ja){return new ka.aDa(xa.Hb.get(c.Pk),Ca,Ja);};});ua(na.B3a).to(Aa.Uwa).pa();ua(wa.Jva).to(ya.Hva).pa();});},90030:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ej="_ANY_";b.B3a="EnricherSymbol";},15160:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zwa="EventSourceSymbol";b.nxa="GlobalEventSourceSymbol";b.Rda="DebugEventSourceSymbol";b.O2a="DiagnosticsEventSourceSymbol";},44720:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q0="EventSourceFactorySymbol";},62665:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sD="IdProviderSymbol";},42207:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ei="IsTypeSymbol";},43193:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.aT={};t[t.QPc=8]="Backspace";t[t.YUc=9]="Tab";t[t.jRc=13]="Enter";t[t.JUc=16]="Shift";t[t.oQc=17]="Ctrl";t[t.mPc=18]="Alt";t[t.NTc=19]="PauseBreak";t[t.gQc=20]="CapsLock";t[t.lRc=27]="Escape";t[t.MUc=32]="Space";t[t.MTc=33]="PageUp";t[t.LTc=34]="PageDown";t[t.iRc=35]="End";t[t.PRc=36]="Home";t[t.jSc=37]="LeftArrow";t[t.jVc=38]="UpArrow";t[t.YTc=39]="RightArrow";t[t.JQc=40]="DownArrow";t[t.eSc=45]="Insert";t[t.HQc=46]="Delete";t[t.xVc=48]="Zero";t[t.xTc=49]="One";t[t.aVc=50]="Two";t[t.ZUc=51]="Three";t[t.HRc=52]="Four";t[t.FRc=53]="Five";t[t.KUc=54]="Six";t[t.IUc=55]="Seven";t[t.hRc=56]="Eight";t[t.gTc=57]="Nine";t[t.bPc=65]="A";t[t.uda=66]="B";t[t.VPc=67]="C";t[t.eOb=68]="D";t[t.E=69]="E";t[t.mRc=70]="F";t[t.lxa=71]="G";t[t.NRc=72]="H";t[t.QRc=73]="I";t[t.fSc=74]="J";t[t.dya=75]="K";t[t.PQb=76]="L";t[t.Wya=77]="M";t[t.HSc=78]="N";t[t.tTc=79]="O";t[t.zTc=80]="P";t[t.Q=81]="Q";t[t.TTc=82]="R";t[t.$Tc=83]="S";t[t.fVb=84]="T";t[t.bVc=85]="U";t[t.kVc=86]="V";t[t.pVc=87]="W";t[t.sVc=88]="X";t[t.vVc=89]="Y";t[t.wVc=90]="Z";t[t.kSc=91]="LeftWindowKey";t[t.ZTc=92]="RightWindowKey";t[t.FUc=93]="SelectKey";t[t.jTc=96]="Numpad0";t[t.kTc=97]="Numpad1";t[t.lTc=98]="Numpad2";t[t.mTc=99]="Numpad3";t[t.nTc=100]="Numpad4";t[t.oTc=101]="Numpad5";t[t.pTc=102]="Numpad6";t[t.qTc=103]="Numpad7";t[t.rTc=104]="Numpad8";t[t.sTc=105]="Numpad9";t[t.GSc=106]="Multiply";t[t.lPc=107]="Add";t[t.SUc=109]="Subtract";t[t.GQc=110]="DecimalPoint";t[t.IQc=111]="Divide";t[t.nRc=112]="F1";t[t.rRc=113]="F2";t[t.sRc=114]="F3";t[t.tRc=115]="F4";t[t.uRc=116]="F5";t[t.vRc=117]="F6";t[t.wRc=118]="F7";t[t.xRc=119]="F8";t[t.yRc=120]="F9";t[t.oRc=121]="F10";t[t.pRc=122]="F11";t[t.qRc=123]="F12";t[t.hTc=144]="NumLock";t[t.DUc=145]="ScrollLock";t[t.GUc=186]="SemiColon";t[t.kRc=187]="Equals";t[t.lQc=188]="Comma";t[t.DQc=189]="Dash";t[t.PTc=190]="Period";t[t.GRc=191]="ForwardSlash";t[t.$Uc=192]="Tilde";t[t.yTc=219]="OpenBracket";t[t.PPc=220]="BackSlash";t[t.iQc=221]="CloseBracket";t[t.STc=222]="Quote";},67572:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q8a="OneWayCounterFactorySymbol";},91591:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lwa="DecoderTimeoutPathologistSymbol";},91581:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yr="PlatformSymbol";},63368:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ndb="WindowTimersSymbol";b.$S="JSONSymbol";b.Lcb="UserAgentSymbol";b.n2="NavigatorSymbol";b.ORb="MediaSourceSymbol";b.M6a="LocationSymbol";b.C2a="DateSymbol";b.gfa="PerformanceSymbol";b.ifa="PlatformExtraInfoSymbol";},79274:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.v2="PlayerErrorFactorySymbol";},78789:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LBa="PrioritizedSetOfListsSymbol";b.bUb="PrioritizedSetOfListsFactorySymbol";b.cUb="PrioritizedSetOfSetsFactorySymbol";},59818:function(t,b){function a(d){var n;n=Error.call(this,"TimeoutError");this.message=n.message;("stack" in n) && (this.stack=n.stack);this.interval=d;}Object.defineProperty(b,"__esModule",{value:!0});b.CD=b.Pv=void 0;Ia(a,Error);b.Pv=a;b.CD="PromiseTimerSymbol";},10306:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kbb="SystemRandomSymbol";b.Afa="RandomGeneratorSymbol";},53085:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pk="SchedulerSymbol";},88490:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hbb="StringUtilsSymbol";},14423:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;n=a(22365);d.urb=function(){var c;c=n.jH && n.jH.height;return c?1080 <= c?1080:720:720;};b.TCa=d;},45842:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rH="ThrottleFactorySymbol";},4246:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M2="TimeoutMonitorFactorySymbol";},77134:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IT="TimingApiSymbol";b.i2="MilestoneTimingApiSymbol";},77687:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Icb="UrlFactorySymbol";},84408:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LD="Utf8EncoderSymbol";},74870:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Il="UtilitiesSymbol";},36258:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L9a="PboPlaydataValidatorSymbol";b.H9a="PboPlaydataArrayValidatorSymbol";b.I9a="PboPlaydataCollectionValidatorSymbol";},63156:function(t,b){var d,n,c,g;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.It=b.gb=b.Km=void 0;(function(f){f[f.oq=0]="STANDARD";f[f.cH=1]="LIMITED";f[f.ETc=2]="PREVIEW";})(d || (d={}));(function(f){f[f.HAVE_NOTHING=0]="HAVE_NOTHING";f[f.HAVE_METADATA=1]="HAVE_METADATA";f[f.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";f[f.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";f[f.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(n || (n={}));(function(f){f.zMb="asl_start";f.xMb="asl_comp";f.jPc="asl_exc";f.yMb="asl_fail";f.QUb="stf_creat";f.gQb="idb_open";f.dQb="idb_block";f.nQb="idb_upgr";f.mQb="idb_succ";f.eQb="idb_error";f.fQb="idb_invalid_state";f.iQb="idb_open_timeout";f.kQb="idb_open_wrkarnd";f.lQb="idb_storelen_exc";f.hQb="idb_open_exc";f.jQb="idb_timeout_invalid_storelen";f.FRb="msl_load_data";f.HRb="msl_load_no_data";f.GRb="msl_load_failed";})(c || (b.Km=c={}));(function(f){f.mAa="PlaybackRequestStart";f.lAa="PlaybackRequestEnd";f.xfa="RequestPrefetchManifestStart";f.wfa="RequestPrefetchManifestEnd";f.vfa="RequestManifestStart";f.ufa="RequestManifestEnd";f.tfa="RequestLicenseStart";f.sfa="RequestLicenseEnd";f.r0="RequestTimedTextUrlStart";f.q0="RequestTimedTextUrlEnd";f.p0="RequestAudioUrlStart";f.o0="RequestAudioUrlEnd";f.t0="RequestVideoUrlStart";f.s0="RequestVideoUrlEnd";f.rua="AppendBufferStart";f.qua="AppendBufferEnd";f.hCa="SetMediaKeysStart";f.gCa="SetMediaKeysEnd";f.gea="GenerateChallengeStart";f.fea="GenerateChallengeEnd";f.gda="ApplyLicenseStart";f.fda="ApplyLicenseEnd";})(g || (b.gb=g={}));b.It=a;a.Km=c;a.aH=n;},36129:function(t,b){var a,d,n;Object.defineProperty(b,"__esModule",{value:!0});b.pD=b.G3a=b.F3a=b.Wwa=b.E3a=b.cea=b.Oea=b.pea=b.uPb=b.W=b.aa=void 0;(function(c){c[c.hk=7001]="UNKNOWN";c[c.wcb=7002]="UNHANDLED_EXCEPTION";c[c.qQb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";c[c.OPb=7004]="HLS_NOT_SUPPORTED";c[c.Lxa=7010]="INIT_ASYNCCOMPONENT";c[c.uQb=7011]="INIT_HTTP";c[c.oQb=7014]="INIT_BADMOVIEID";c[c.t5a=7020]="INIT_PLAYBACK_LOCK";c[c.u5a=7022]="INIT_SESSION_LOCK";c[c.vQb=7029]="INIT_POSTAUTHORIZE";c[c.s5a=7031]="INIT_HEADER_MEDIA";c[c.wQb=7034]="INIT_TIMEDTEXT_TRACK";c[c.qMb=7037]="ASE_SESSION_ERROR";c[c.pMb=7038]="ASE_SEEK_THREW";c[c.rMb=7039]="ASE_SKIPPED_THREW";c[c.sMb=7040]="ASE_UNDERFLOW_THREW";c[c.rQb=7041]="INIT_CORE_OBJECTS1";c[c.sQb=7042]="INIT_CORE_OBJECTS2";c[c.tQb=7043]="INIT_CORE_OBJECTS3";c[c.m5a=7053]="INIT_COMPONENT_STORAGE";c[c.n5a=7054]="INIT_COMPONENT_STORAGELOCK";c[c.i5a=7058]="INIT_COMPONENT_MAINTHREADMONITOR";c[c.Mxa=7059]="INIT_COMPONENT_DEVICE";c[c.j5a=7063]="INIT_COMPONENT_MSL";c[c.h5a=7066]="INIT_COMPONENT_LOGBLOBBATCHER";c[c.bH=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";c[c.r5a=7083]="INIT_COMPONENT_WEBCRYPTO";c[c.g5a=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";c[c.e5a=7088]="INIT_COMPONENT_BATTERY_MANAGER";c[c.d5a=7089]="INIT_COMPONENT_ASE";c[c.VRc=7091]="INIT_COMPONENT_DRM_CACHE";c[c.pQb=7092]="INIT_COMPONENT_DRM";c[c.f5a=7094]="INIT_COMPONENT_FTL";c[c.k5a=7095]="INIT_COMPONENT_PREPARE_MODEL";c[c.o5a=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";c[c.p5a=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";c[c.q5a=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";c[c.l5a=7099]="INIT_COMPONENT_SOCKETROUTER";c[c.eM=7111]="MANIFEST";c[c.ZQb=7114]="MANIFEST_MISTMATCH";c[c.Y6a=7117]="MANIFEST_VERIFY";c[c.PUb=7120]="START";c[c.g6a=7121]="LICENSE";c[c.WTc=7122]="RELEASE";c[c.D2=7123]="STOP";c[c.eya=7125]="KEEPALIVE";c[c.hTb=7131]="PING";c[c.oPb=7134]="ENGAGE";c[c.UQb=7137]="LOGBLOB";c[c.ATc=7138]="PAUSE";c[c.XTc=7139]="RESUME";c[c.Hab=7140]="SPLICE";c[c.TMb=7142]="BIND";c[c.UMb=7144]="BIND_DEVICE";c[c.GPb=7145]="GENERATE_SCREENSHOTS";c[c.o_a=7146]="AD_EVENT";c[c.$8a=7147]="PLAYER_RESTART";c[c.jMb=7148]="ALE_PROVISION_FAILURE";c[c.hUc=7200]="SOCKET_ROUTER_FAILURE";c[c.mTb=7202]="PLAY_INIT_EXCEPTION";c[c.nAa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";c[c.tTb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";c[c.b9a=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";c[c.uTb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";c[c.oAa=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";c[c.sTb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";c[c.d9a=7351]="PLAY_MSE_NOTSUPPORTED";c[c.a9a=7353]="PLAY_MSE_DECODER_TIMEOUT";c[c.pAa=7355]="PLAY_MSE_SOURCEADD";c[c.nTb=7356]="PLAY_MSE_CREATE_MEDIAKEYS";c[c.wTb=7357]="PLAY_MSE_GENERATEKEYREQUEST";c[c.c9a=7361]="PLAY_MSE_EVENT_ERROR";c[c.e9a=7362]="PLAY_MSE_SETMEDIAKEYS";c[c.dfa=7363]="PLAY_MSE_EVENT_KEYERROR";c[c.vTb=7364]="PLAY_MSE_EME_SESSION_CLOSE";c[c.xTb=7365]="PLAY_MSE_GETCURRENTTIME";c[c.yTb=7367]="PLAY_MSE_SETCURRENTTIME";c[c.zTb=7371]="PLAY_MSE_SOURCEAPPEND";c[c.DTb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";c[c.CTb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";c[c.BTb=7377]="PLAY_MSE_UNEXPECTED_REWIND";c[c.ATb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";c[c.g9a=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";c[c.oTb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";c[c.pTb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";c[c.qTb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";c[c.BTc=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";c[c.CTc=7395]="PLAY_MSE_EME_MISSING_PSSH";c[c.DTc=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";c[c.rTb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";c[c.f9a=7399]="PLAY_MSE_SET_LICENSE_ERROR";c[c.t3a=7400]="EXTERNAL";c[c.cfa=7500]="PAUSE_TIMEOUT";c[c.rea=7502]="INACTIVITY_TIMEOUT";c[c.AMb=7510]="AUTHORIZATION_EXPIRED";c[c.iPb=7700]="EME_INVALID_KEYSYSTEM";c[c.i3a=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";c[c.Dwa=7702]="EME_CREATE_MEDIAKEYS_FAILED";c[c.Zda=7703]="EME_GENERATEREQUEST_FAILED";c[c.o3a=7704]="EME_UPDATE_FAILED";c[c.PQc=7705]="EME_KEYSESSION_ERROR";c[c.m3a=7706]="EME_KEYMESSAGE_EMPTY";c[c.$Qc=7707]="EME_REMOVE_FAILED";c[c.SQc=7708]="EME_LOAD_FAILED";c[c.gPb=7709]="EME_CREATE_SESSION_FAILED";c[c.Fwa=7710]="EME_LDL_RENEWAL_ERROR";c[c.k3a=7711]="EME_INVALID_INITDATA_DATA";c[c.l3a=7712]="EME_INVALID_LICENSE_DATA";c[c.RQc=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";c[c.h3a=7716]="EME_CLOSE_FAILED";c[c.Gwa=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";c[c.lPb=7718]="EME_SET_SERVER_CERTIFICATE";c[c.iTb=7800]="PLAYDATA_STORE_FAILURE";c[c.i0=7900]="BRANCH_PLAY_FAILURE";c[c.j0=7901]="BRANCH_QUEUE_FAILURE";c[c.X0a=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";c[c.aNb=7903]="BRANCH_CHOICE_MAP_MISSING";c[c.TSb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a || (b.aa=a={}));(function(c){c[c.hk=1001]="UNKNOWN";c[c.fq=1003]="EXCEPTION";c[c.AQb=1004]="INVALID_DI";c[c.vMb=1011]="ASYNCLOAD_EXCEPTION";c[c.wMb=1013]="ASYNCLOAD_TIMEOUT";c[c.iPc=1015]="ASYNCLOAD_BADCONFIG";c[c.tMb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";c[c.uMb=1017]="ASYNCLOAD_COMPONENT_MISSING";c[c.H1=1101]="HTTP_UNKNOWN";c[c.Dxa=1102]="HTTP_XHR";c[c.D1=1103]="HTTP_PROTOCOL";c[c.C1=1104]="HTTP_OFFLINE";c[c.G1=1105]="HTTP_TIMEOUT";c[c.VL=1106]="HTTP_READTIMEOUT";c[c.UL=1107]="HTTP_ABORT";c[c.G4a=1108]="HTTP_PARSE";c[c.C4a=1110]="HTTP_BAD_URL";c[c.E1=1111]="HTTP_PROXY";c[c.bza=1203]="MSE_AUDIO";c[c.cza=1204]="MSE_VIDEO";c[c.ARb=1250]="MSE_MEDIA_ERR_BASE";c[c.tSc=1251]="MSE_MEDIA_ERR_ABORTED";c[c.wSc=1252]="MSE_MEDIA_ERR_NETWORK";c[c.uSc=1253]="MSE_MEDIA_ERR_DECODE";c[c.xSc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";c[c.vSc=1255]="MSE_MEDIA_ERR_ENCRYPTED";c[c.LS=1260]="EME_MEDIA_KEYERR_BASE";c[c.YQc=1261]="EME_MEDIA_KEYERR_UNKNOWN";c[c.TQc=1262]="EME_MEDIA_KEYERR_CLIENT";c[c.XQc=1263]="EME_MEDIA_KEYERR_SERVICE";c[c.WQc=1264]="EME_MEDIA_KEYERR_OUTPUT";c[c.VQc=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";c[c.UQc=1266]="EME_MEDIA_KEYERR_DOMAIN";c[c.ZQc=1269]="EME_MEDIA_UNAVAILABLE_CDM";c[c.hPb=1270]="EME_INTERNAL_ERROR";c[c.fPb=1271]="EME_CLOSED_BY_APPLICATION";c[c.jPb=1272]="EME_RELEASE_ACKNOWLEDGED";c[c.Ewa=1273]="EME_HARDWARE_CONTEXT_RESET";c[c.kPb=1274]="EME_RESOURCE_EVICTED";c[c.NQc=1280]="EME_ERROR_NODRMSESSSION";c[c.MQc=1281]="EME_ERROR_NODRMREQUESTS";c[c.LQc=1282]="EME_ERROR_INDIV_FAILED";c[c.OQc=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";c[c.bRc=1284]="EME_TIMEOUT_MESSAGE";c[c.aRc=1285]="EME_TIMEOUT_KEYCHANGE";c[c.n3a=1286]="EME_UNDEFINED_DATA";c[c.$da=1287]="EME_INVALID_STATE";c[c.QQc=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";c[c.j3a=1289]="EME_EMPTY_DATA";c[c.L0=1290]="EME_TIMEOUT";c[c.PSc=1303]="NCCP_METHOD_NOT_SUPPORTED";c[c.SSc=1305]="NCCP_PARSEXML";c[c.GTb=1309]="PROCESS_EXCEPTION";c[c.RSc=1311]="NCCP_NETFLIXID_MISSING";c[c.TSc=1312]="NCCP_SECURENETFLIXID_MISSING";c[c.MSc=1313]="NCCP_HMAC_MISSING";c[c.LSc=1315]="NCCP_HMAC_MISMATCH";c[c.KSc=1317]="NCCP_HMAC_FAILED";c[c.JSc=1321]="NCCP_CLIENTTIME_MISSING";c[c.ISc=1323]="NCCP_CLIENTTIME_MISMATCH";c[c.$3a=1331]="GENERIC";c[c.YRb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";c[c.ZRb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";c[c.USc=1341]="NCCP_TRANSACTION";c[c.NSc=1343]="NCCP_INVALID_DRMTYPE";c[c.OSc=1344]="NCCP_INVALID_LICENCE_RESPONSE";c[c.QSc=1345]="NCCP_MISSING_PAYLOAD";c[c.JTc=1346]="PROTOCOL_NOT_INITIALIZED";c[c.ITc=1347]="PROTOCOL_MISSING_FIELD";c[c.HTc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";c[c.FD=1402]="STORAGE_NODATA";c[c.kUc=1403]="STORAGE_EXCEPTION";c[c.sUc=1405]="STORAGE_QUOTA_NOT_GRANTED";c[c.tUc=1407]="STORAGE_QUOTA_TO_SMALL";c[c.Kab=1411]="STORAGE_LOAD_ERROR";c[c.RUb=1412]="STORAGE_LOAD_TIMEOUT";c[c.Lab=1414]="STORAGE_SAVE_ERROR";c[c.UUb=1415]="STORAGE_SAVE_TIMEOUT";c[c.oCa=1417]="STORAGE_DELETE_ERROR";c[c.Jab=1418]="STORAGE_DELETE_TIMEOUT";c[c.rUc=1421]="STORAGE_FS_REQUESTFILESYSTEM";c[c.oUc=1423]="STORAGE_FS_GETDIRECTORY";c[c.qUc=1425]="STORAGE_FS_READENTRIES";c[c.lUc=1427]="STORAGE_FS_FILEREAD";c[c.nUc=1429]="STORAGE_FS_FILEWRITE";c[c.mUc=1431]="STORAGE_FS_FILEREMOVE";c[c.pUc=1432]="STORAGE_FS_PARSEJSON";c[c.TUb=1451]="STORAGE_NO_LOCALSTORAGE";c[c.SUb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";c[c.dTc=1501]="NTBA_UNKNOWN";c[c.cTc=1502]="NTBA_EXCEPTION";c[c.ZSc=1504]="NTBA_CRYPTO_KEY";c[c.aTc=1506]="NTBA_CRYPTO_OPERATION";c[c.$Sc=1508]="NTBA_CRYPTO_KEYEXCHANGE";c[c.bTc=1515]="NTBA_DECRYPT_UNSUPPORTED";c[c.u2a=1553]="DEVICE_NO_ESN";c[c.nOb=1555]="DEVICE_ERROR_GETTING_ESN";c[c.CRc=1701]="FORMAT_UNKNOWN";c[c.zPb=1713]="FORMAT_XML";c[c.DRc=1715]="FORMAT_XML_CONTENT";c[c.ARc=1721]="FORMAT_BASE64";c[c.BRc=1723]="FORMAT_DFXP";c[c.bQb=1801]="INDEXDB_OPEN_EXCEPTION";c[c.b5a=1802]="INDEXDB_NOT_SUPPORTED";c[c.aQb=1803]="INDEXDB_OPEN_ERROR";c[c.c5a=1804]="INDEXDB_OPEN_NULL";c[c.$Pb=1805]="INDEXDB_OPEN_BLOCKED";c[c.cQb=1807]="INDEXDB_OPEN_TIMEOUT";c[c.ZPb=1808]="INDEXDB_INVALID_STORE_STATE";c[c.sea=1809]="INDEXDB_ACCESS_EXCEPTION";c[c.IRb=1901]="MSL_UNKNOWN";c[c.ASc=1911]="MSL_INIT_NO_MSL";c[c.e7a=1913]="MSL_INIT_ERROR";c[c.ERb=1915]="MSL_INIT_NO_WEBCRYPTO";c[c.CRb=1931]="MSL_ERROR";c[c.g7a=1933]="MSL_REQUEST_TIMEOUT";c[c.f7a=1934]="MSL_READ_TIMEOUT";c[c.DRb=1935]="MSL_ERROR_HEADER";c[c.ySc=1936]="MSL_ERROR_ENVELOPE";c[c.zSc=1937]="MSL_ERROR_MISSING_PAYLOAD";c[c.d7a=1957]="MSL_ERROR_REAUTH";c[c.FDa=2103]="WEBCRYPTO_MISSING";c[c.qVc=2105]="WEBCRYPTOKEYS_MISSING";c[c.KVb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";c[c.WPc=2200]="CACHEDDATA_PARSEJSON";c[c.CNb=2201]="CACHEDDATA_UNSUPPORTED_VERSION";c[c.XPc=2202]="CACHEDDATA_UPGRADE_FAILED";c[c.zda=2203]="CACHEDDATA_INVALID_FORMAT";c[c.ePc=3E3]="ACCOUNT_CHANGE_INFLIGHT";c[c.fPc=3001]="ACCOUNT_INVALID";c[c.CQc=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";c[c.BQc=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";c[c.zQc=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";c[c.AQc=3201]="DOWNLOADED_LICENSE_UNUSEABLE";c[c.yQc=3202]="DOWNLOADED_LICENSE_EXCEPTION";c[c.uUc=3300]="STORAGE_VA_LOAD_ERROR";c[c.vUc=3301]="STORAGE_VA_LOAD_TIMEOUT";c[c.yUc=3302]="STORAGE_VA_SAVE_ERROR";c[c.zUc=3303]="STORAGE_VA_SAVE_TIMEOUT";c[c.wUc=3304]="STORAGE_VA_REMOVE_ERROR";c[c.xUc=3305]="STORAGE_VA_REMOVE_TIMEOUT";c[c.jAa=3077]="PBO_DEVICE_EOL_WARNING";c[c.U8a=3078]="PBO_DEVICE_EOL_FINAL";c[c.X8a=3100]="PBO_DEVICE_RESET";c[c.W8a=3101]="PBO_DEVICE_RELOAD";c[c.V8a=3102]="PBO_DEVICE_EXIT";c[c.fTb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";c[c.ISb=5005]="PBO_ACCOUNT_ON_HOLD";c[c.RSb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";c[c.kAa=5007]="PBO_INCORRECT_PIN";c[c.cTb=5008]="PBO_MOBILE_ONLY";c[c.gTb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";c[c.JSb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";c[c.MSb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";c[c.KSb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";c[c.LSb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";c[c.NSb=5014]="PBO_ADS_VPN_USE_DETECTED";c[c.$Sb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";c[c.ZSb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";c[c.SSb=5017]="PBO_CONTENT_PREVIEW_MFA_REQUIRED_EXCEPTION";c[c.XSb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";c[c.PSb=5059]="PBO_BLACKLISTED_IP";c[c.OSb=5070]="PBO_AGE_VERIFICATION_REQUIRED";c[c.QSb=5080]="PBO_CHOICE_MAP_ERROR";c[c.dTb=5090]="PBO_RESTRICTED_TO_TESTERS";c[c.aTb=5091]="PBO_MALFORMED_REQUEST";c[c.YSb=5092]="PBO_INVALID_SERVICE_VERSION";c[c.bTb=5093]="PBO_MDX_INVALID_CTICKET";c[c.WSb=5094]="PBO_FREE_PREVIEW_ENDED";c[c.eTb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";c[c.VSb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";c[c.USb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";c[c.hOb=5100]="DECODER_TIMEOUT_BUFFERING";c[c.jOb=5101]="DECODER_TIMEOUT_PRESENTING";c[c.iOb=5102]="DECODER_TIMEOUT_PLAYING";c[c.POb=5200]="DOWNLOADER_IO_ERROR";c[c.W0a=5300]="BRANCHING_SEGMENT_NOTFOUND";c[c.XMb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";c[c.CPc=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";c[c.nva=5303]="BRANCHING_ASE_UNINITIALIZED";c[c.yPc=5304]="BRANCHING_ASE_FAILURE";c[c.zPc=5305]="BRANCHING_MOMENT_FAILURE";c[c.VMb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";c[c.BPc=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";c[c.YMb=5308]="BRANCHING_SEEK_THREW";c[c.APc=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";c[c.WMb=5310]="BRANCHING_PLAY_TIMEDOUT";c[c.ZMb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";c[c.$Mb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";c[c.VUb=5500]="STUDIO_MUXED_MANIFEST";c[c.Yya=5600]="MANIFEST_HYDRATION_FAILURE";c[c.CMb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";c[c.DMb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";c[c.BMb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(d || (b.W=d={}));(function(c){c[c.NPc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";c[c.DPc=5005]="BR_ACCOUNT_ON_HOLD";c[c.HPc=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";c[c.KPc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";c[c.GPc=5059]="BR_BLACKLISTED_IP";c[c.EPc=5070]="BR_AGE_VERIFICATION_REQUIRED";c[c.LPc=2204]="BR_PLAYBACK_CONTEXT_CREATION";c[c.IPc=2205]="BR_DRM_LICENSE_AQUISITION";c[c.MPc=2206]="BR_PLAYBACK_SERVICE_ERROR";c[c.JPc=2207]="BR_ENDPOINT_ERROR";c[c.FPc=2208]="BR_AUTHORIZATION_ERROR";})(n || (b.uPb=n={}));b.pea={hNb:"400",Gcb:"401",t9a:"413"};b.Oea={da:1,qq:2,ag:3,Ee:4,P1:5,Kh:6,Vc:7,M0:8,SBa:9,Kfa:10};b.cea=function(c,g,f,e){return c == a.cfa || c == a.rea || c == a.nAa && 432E5 <= f || c == a.Gwa && g === d.Ewa && 0 < Number(e);};b.E3a=function(c){return 1100 <= c && 1199 >= c;};b.Wwa=function(c,g){return 1 <= c && 9 >= c?g + c:g;};b.F3a=function(c){return (0,b.Wwa)(c,d.ARb);};b.G3a=function(c){return (0,b.Wwa)(c,d.LS);};b.pD=function(c){var g,f,e;g={};f=c.errorExternalCode || c.yg;e=c.errorDetails || c.df;g.ErrorSubCode=c.errorSubCode || c.Ma || d.hk;f && (g.ErrorExternalCode=f);e && (g.ErrorDetails=e);return g;};},9002:function(t,b,a){var n,c,g,f;function d(e,h){this.Ia=e;this.kla=this.Ia.gg.la(g.wa) - 1;this.Rrc=this.Ina=0;this.id="" + h.GE();}Object.defineProperty(b,"__esModule",{value:!0});b.Uua=void 0;t=a(22970);n=a(22674);c=a(30869);g=a(5021);a=a(62665);d.prototype.uc=function(){var e,h;e=this.Ia.gg.la(g.wa) - this.kla;if(e < this.Ina){h=this.Ina + 1;this.kla-=h - e;e=h;}this.Ina=e;return (0,g.ac)(this.Ina);};d.prototype.Hic=function(){return this.Rrc++;};Ga.Object.defineProperties(d.prototype,{zF:{configurable:!0,enumerable:!0,get:function(){return (0,g.ac)(this.kla);}}});f=d;b.Uua=f;b.Uua=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.di)),t.__param(1,(0,n.l)(a.sD))],f);},33543:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.ova=void 0;t=a(22970);a=a(22674);n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};d.prototype.decode=function(g){for(var f=new Uint8Array(g.length / 2),e=0;e < f.length;e++)f[e]=this.cJb(g.substr(2 * e,2));return f;};d.prototype.encode=function(g){var l;for(var f="",e=g.length,h=0;h < e;h++){l=g[h];f+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return f;};d.prototype.hla=function(g,f){var e;e="";for(f<<=1;f--;)(e=(("0123456789ABCDEF")[g & 15] || "0") + e,g>>>=4);return e;};d.prototype.cJb=function(g){var f;f=g.length;if(7 < f)throw Error("hex to long");for(var e=0,h=0;h < f;h++)e=16 * e + n[g[h]];return e;};c=d;b.ova=c;b.ova=c=t.__decorate([(0,a.Y)()],c);},30033:function(t,b,a){var n,c,g,f,e,h,l,k;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.pva=void 0;t=a(22970);a=a(22674);c=Array.prototype.slice;g=c.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");c=c.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");f={};e={};h={};l={};k=/\s+/g;[g,c].forEach(function(m){var r;for(var p=m.length;p--;){r=m[p];f[r]=p << 18;e[r]=p << 12;h[r]=p << 6;l[r]=p;}});d.prototype.encode=function(m){return n.LKa(m,g,"=");};d.prototype.decode=function(m){return n.IJa(m);};d.IJa=function(m){var p,r,q;m=m.replace(k,"");p=m.length;r=m.charAt(p - 1);"=" !== r && "." !== r || p--;r=m.charAt(p - 1);"=" !== r && "." !== r || p--;r=3 * (p >> 2);q=0;switch(p % 4){case 2:q=1;break;case 3:q=2;break;case 1:throw Error("bad base64");}p=new Uint8Array(r + q);for(var u=0,v=0,w;v < r;){w=f[m[u++]] + e[m[u++]] + h[m[u++]] + l[m[u++]];if(!(0 <= w && 16777215 >= w))throw Error("bad base64");p[v++]=w >>> 16;p[v++]=w >>> 8 & 255;p[v++]=w & 255;}if(0 < q && (w=f[m[u++]] + e[m[u++]],p[v++]=w >>> 16,1 < q && (w+=h[m[u++]],p[v++]=w >>> 8 & 255),!(0 <= w && 16776960 >= w && 0 === (w & (1 < q?255:65535)))))throw Error("bad base64");return p;};d.LKa=function(m,p,r){for(var q="",u=0,v=m.length,w=v - 2,x;u < w;){x=(m[u++] << 16) + (m[u++] << 8) + m[u++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");q+=p[x >>> 18] + p[x >>> 12 & 63] + p[x >>> 6 & 63] + p[x & 63];}if(u == w){x=(m[u++] << 8) + m[u++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");q+=p[x >>> 10] + p[x >>> 4 & 63] + p[x << 2 & 63] + r;}else if(u == v - 1){x=m[u++];if(!(0 <= x && 255 >= x))throw Error("not bytes");q+=p[x >>> 2] + p[x << 4 & 63] + r + r;}return q;};c=n=d;b.pva=c;b.pva=c=n=t.__decorate([(0,a.Y)()],c);},66057:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m){this.userAgentData=m;this.Be=this.Vdc(l,k.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.IVb=b.wva=void 0;t=a(22970);n=a(22674);c=a(4203);g=a(83767);f=a(63368);a=a(75236);d.prototype.jma=function(l,k){var m;if(k=this.flc(k))switch(l){case h.EF:m=0 < k.length?Number(k[0]):0;break;case h.bY:m=1 < k.length?Number(k[1]):0;break;case h.KY:m=2 < k.length?Number(k[2]):0;break;case h.Pra:m=3 < k.length?Number(k[3]):0;}return void 0 === m || isNaN(m)?0:m;};d.prototype.flc=function(l){return null === l || void 0 === l?void 0:l.split(".");};d.prototype.rJ=function(l){return this.Be.name === l;};d.prototype.uP=function(l){return this.Be.$pa.name === l;};d.prototype.xoc=function(l){return this.Be.Plc === l;};d.prototype.Vdc=function(l,k){return Object.assign(Object.assign({Plc:this.Xdc(l,k)},this.Udc(l,k)),{$pa:this.Zdc(l,k)});};d.prototype.Xdc=function(l,k){return k && k.hardware?k.hardware:(/Mobile|iPhone/).test(l)?c.I1.phone:(/Android/).test(l)?c.I1.jKc:c.I1.i6b;};d.prototype.Udc=function(l,k){return k && k.name && k.version?{name:k.name,version:k.version}:(/OPR/).test(l)?{name:c.Hm.opera,version:""}:(/Tesla/).test(l)?{name:c.Hm.EIb,version:""}:(/Quest/).test(l)?{name:c.Hm.SCb,version:""}:(k=l.match(/Edge\/(\d*)\./))?{name:c.Hm.yu,version:k[1]}:(k=l.match(/Edg\/(\d*)\./))?{name:c.Hm.Xmb,version:k[1]}:(k=l.match(/Chrome\/(\d*)\./))?{name:c.Hm.hIa,version:k[1]}:(k=l.match(/Firefox\/(\d*)\./))?{name:c.Hm.Sob,version:k[1]}:(l=l.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:c.Hm.WEb,version:l[1]}:{name:c.Hm.hIa,version:""};};d.prototype.Zdc=function(l,k){return k && k.os && k.os.name && k.os.version?{name:k.os.name,version:k.os.version}:(/CrOS/).test(l)?{name:c.lq.rjb,version:""}:(k=l.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:c.lq.Owb,version:k[1] + "." + k[2] + "." + k[3]}:(/Windows NT/).test(l)?{name:c.lq.f_a,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(l) || (/Android.*Chrome\/[.0-9]* /).test(l)?{name:c.lq.GGa,version:""}:(/Linux/).test(l)?{name:c.lq.gwb,version:""}:(/iPhone/).test(l)?{name:c.lq.aub,version:""}:{name:c.lq.f_a,version:""};};Ga.Object.defineProperties(d.prototype,{jub:{configurable:!0,enumerable:!0,get:function(){return this.rJ(c.Hm.hIa);}},BPa:{configurable:!0,enumerable:!0,get:function(){return this.rJ(c.Hm.yu);}},p8:{configurable:!0,enumerable:!0,get:function(){return this.rJ(c.Hm.Xmb);}},hna:{configurable:!0,enumerable:!0,get:function(){return this.rJ(c.Hm.Sob);}},RPa:{configurable:!0,enumerable:!0,get:function(){return this.rJ(c.Hm.opera);}},qna:{configurable:!0,enumerable:!0,get:function(){return this.rJ(c.Hm.WEb);}},Lub:{configurable:!0,enumerable:!0,get:function(){return this.rJ(c.Hm.EIb);}},pna:{configurable:!0,enumerable:!0,get:function(){return this.rJ(c.Hm.SCb);}},j8:{configurable:!0,enumerable:!0,get:function(){return this.uP(c.lq.GGa);}},sP:{configurable:!0,enumerable:!0,get:function(){return this.uP(c.lq.aub);}},$ma:{configurable:!0,enumerable:!0,get:function(){return this.uP(c.lq.GGa) && this.xoc(c.I1.phone);}},l8:{configurable:!0,enumerable:!0,get:function(){return this.uP(c.lq.rjb);}},KPa:{configurable:!0,enumerable:!0,get:function(){return this.uP(c.lq.gwb);}},MB:{configurable:!0,enumerable:!0,get:function(){return this.uP(c.lq.Owb);}},nz:{configurable:!0,enumerable:!0,get:function(){return this.uP(c.lq.f_a);}},ku:{configurable:!0,enumerable:!0,get:function(){return this.jma(h.EF,this.Be.version);}},txc:{configurable:!0,enumerable:!0,get:function(){return this.jma(h.EF,this.Be.$pa.version);}},uxc:{configurable:!0,enumerable:!0,get:function(){return this.jma(h.bY,this.Be.$pa.version);}},vxc:{configurable:!0,enumerable:!0,get:function(){return this.jma(h.KY,this.Be.$pa.version);}}});e=d;b.wva=e;b.wva=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(f.Lcb)),t.__param(1,(0,n.l)(g.YL)),t.__param(2,(0,n.l)(a.dga))],e);(function(l){l[l.EF=0]="major";l[l.bY=1]="minor";l[l.KY=2]="patch";l[l.Pra=3]="revision";})(h || (b.IVb=h={}));},19699:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x,y){this.Or=q;this.config=v;this.Gp=w;this.Ia=x;this.is=y;this.log=u.qb("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.Hva=b.Iva=void 0;t=a(22970);c=a(22674);g=a(36129);f=a(87386);e=a(5021);h=a(17892);l=a(4203);k=a(59818);m=a(30869);p=a(42207);r=a(17612);b.Iva="errors";d.prototype.load=function(){var q,u;q=this;if(!this.config().inb)return Promise.resolve([]);u=(0,e.ac)(this.config().l3b);return this.Gp.ot(u,this.swb([])).catch(function(v){q.log.error("Load failed.",v);return [];});};d.prototype.add=function(q,u,v,w,x){var y;y=this;return this.config().inb && u && v && r.ub.GPa(u)?this.swb([{time:q,keySystem:u,code:v,subCode:w,extCode:x}]).then(function(){}).catch(function(A){y.log.error("Add failed.",A);}):Promise.resolve();};d.prototype.yrc=function(){var q;q=this;return this.Or.create().then(function(u){return u.load(b.Iva).then(function(v){var w;return (null === (w=v.value) || void 0 === w?void 0:w.errors) || [];}).catch(function(v){if(v.Ma === g.W.FD)return (q.log.warn("No CachedErrors."),[]);throw v;});});};d.prototype.Kfc=function(q){return {time:(0,e.ci)(q[0]),keySystem:q[1],code:q[2],subCode:q[3],extCode:q[4]};};d.UKc=function(q){return [q.time.la(e.Nt),q.keySystem,q.code,q.subCode,q.extCode];};d.prototype.VEc=function(q){var u;u={version:1,errors:q.map(n.UKc)};return this.Or.create().then(function(v){return v.save(b.Iva,u,!1);}).then(function(){return q;});};d.prototype.xec=function(q){var u,v;u=(0,e.ci)(this.config().k3b);v=this.Ia.gg.ca(u);return q.filter(function(w){return w.time.ca(v).VPa();});};d.prototype.lNc=function(q){return q.filter(this.eoc.bind(this)).map(this.Kfc);};d.prototype.eoc=function(q){return this.is.Ln(q[0]) && this.is.ks(q[1]) && this.is.Ln(q[2]) && (this.is.Ln(q[3]) || void 0 === q[3]) && (this.is.ks(q[4]) || void 0 === q[4])?!0:!1;};d.prototype.tec=function(q){var u;u=this;return q.filter(function(v){return u.config().tdc.includes(v.code);});};d.prototype.uec=function(q){return q.slice(-this.config().i3b);};d.prototype.swb=function(q){var u;u=this;return this.yrc().then(function(v){return u.lNc(v);}).then(function(v){return u.xec(v);}).then(function(v){return v.concat(q);}).then(function(v){return u.tec(v);}).then(function(v){return u.uec(v);}).then(function(v){return u.VEc(v);});};a=n=d;b.Hva=a;b.Hva=a=n=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(h.PG)),t.__param(1,(0,c.l)(f.wb)),t.__param(2,(0,c.l)(l.Cc)),t.__param(3,(0,c.l)(k.CD)),t.__param(4,(0,c.l)(m.di)),t.__param(5,(0,c.l)(p.ei))],a);},31149:function(t,b,a){var n;function d(c,g,f,e,h,l,k,m,p,r,q,u,v,w){this.code=void 0 === c?n.aa.hk:c;this.subCode=g;this.extCode=f;this.Wmb=e;this.PF=h;this.message=l;this.details=k;this.data=m;this.XKa=p;this.fzc=r;this.alert=q;this.zGa=u;this.Zd=v;this.C$=w;this.success=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ue=void 0;n=a(36129);d.Mi=function(c){var g,f,e;if(c){g=c.stack;f=c.number;e=c.message;e || (e="" + c);g?(c="" + g,0 !== c.indexOf(e) && (c=e + "\n" + c)):c=e;f && (c+="\nnumber:" + f);return c;}return "";};d.prototype.P5=function(c){this.details=d.Mi(c);this.data=c;};d.prototype.toString=function(){return JSON.stringify(this.toJSON());};d.prototype.toJSON=function(){return {code:this.code,subCode:this.subCode,extCode:this.extCode,edgeCode:this.Wmb,mslCode:this.PF,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.XKa,playbackServiceError:this.fzc};};d.gla=function(c,g){return new d(c,n.W.fq,void 0,void 0,void 0,void 0,g.message,g.stack);};d.RLb=function(c,g){return new d(c,g,void 0,void 0,void 0,void 0,void 0,void 0);};d.nOc=function(c,g,f){return new d(c,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f);};b.ue=d;},84183:function(t,b,a){var n,c,g,f;function d(e){return c.yS.call(this,e,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Rva=void 0;t=a(22970);n=a(12501);c=a(64174);g=a(22674);a=a(83767);Ia(d,c.yS);Ga.Object.defineProperties(d.prototype,{SKb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=d;b.Rva=f;t.__decorate([n.config(n.fd,"usePerformanceApi")],f.prototype,"SKb",null);b.Rva=f=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(a.Vva))],f);},691:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r){var q;q=this;this.config=k;this.o$b=m;this.$b=p;this.performance=r;this.Uwc=function(u){q.FWa=u.ca(q.gg);};(0,n.Wu)(this,"date");(0,n.Wu)(this,"performance");this.q0b=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.FWa=c.fa;this.$b.addListener(l.Xxa.TFb,this.Uwc);}Object.defineProperty(b,"__esModule",{value:!0});b.Sva=void 0;t=a(22970);n=a(66523);c=a(5021);g=a(22674);f=a(63368);e=a(87061);h=a(15160);l=a(85001);d.prototype.T_b=function(k){return k.add(this.FWa);};Ga.Object.defineProperties(d.prototype,{gg:{configurable:!0,enumerable:!0,get:function(){return this.xyb?(0,c.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,c.ac)(this.o$b.now());}},oG:{configurable:!0,enumerable:!0,get:function(){return this.gg.add(this.FWa);}},xyb:{configurable:!0,enumerable:!0,get:function(){return this.config.SKb && this.q0b;}}});a=d;b.Sva=a;b.Sva=a=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(e.$1a)),t.__param(1,(0,g.l)(f.C2a)),t.__param(2,(0,g.l)(h.nxa)),t.__param(3,(0,g.l)(f.gfa)),t.__param(3,(0,g.optional)())],a);},76928:function(t,b,a){var n,c,g,f;function d(e,h){this.is=e;this.Cf=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Wva=void 0;t=a(22970);c=a(22674);g=a(42207);a=a(74870);d.prototype.encode=function(e){var h,l;h=this;l="";this.Cf.rO(e,function(k,m){k=h.tnb(k) + "=" + h.tnb(m);l=l?l + ("," + k):k;});return l;};d.prototype.tnb=function(e){return this.is.FV(e)?this.is.Ln(e)?"" + e:this.is.ks(e)?(e=e.replace(n.ADb,this.rRa.bind(this)),!n.IBc.test(e) && n.Auc.test(e) && (e='"' + e + '"'),e):this.is.sha(e)?"" + e:this.is.KFa(e)?"NaN":"":"";};d.prototype.rRa=function(e){return n.map[e];};f=n=d;b.Wva=f;f.map={'"':'""',"\r":"","\n":" "};f.ADb=/(?!^.+)["\r\n](?=.+$)/g;f.IBc=/["].*["]/g;f.Auc=/[", ]/;b.Wva=f=n=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(g.ei)),t.__param(1,(0,c.l)(a.Il))],f);},61453:function(t,b,a){var n,c;function d(g,f){this.nd=g;this.nja=f;}Object.defineProperty(b,"__esModule",{value:!0});b.gwa=void 0;t=a(22970);n=a(22674);a=a(53085);d.prototype.Vf=function(g){this.Hg();this.ql=this.nd.Kp(this.nja,g);};d.prototype.Hg=function(){this.ql && this.ql.cancel();this.ql=void 0;};c=d;b.gwa=c;b.gwa=c=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Pk))],c);},85125:function(t,b,a){var n,c,g,f;function d(e){e=c.yS.call(this,e,"DebugConfigImpl") || this;e.yXc=function(){debugger;};return e;}Object.defineProperty(b,"__esModule",{value:!0});b.hwa=void 0;t=a(22970);n=a(12501);c=a(64174);g=a(22674);a=a(83767);Ia(d,c.yS);Ga.Object.defineProperties(d.prototype,{C2b:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=d;b.hwa=f;t.__decorate([n.config(n.fd,"breakOnError")],f.prototype,"C2b",null);b.hwa=f=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(a.Vva))],f);},69997:function(t,b,a){var n,c,g,f;function d(e,h,l){this.config=e;this.Zb=h;this.ta=l.qb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.iwa=void 0;t=a(22970);n=a(22674);c=a(42207);g=a(90597);a=a(87386);d.prototype.assert=function(){};d.prototype.Y0b=function(e,h){this.assert(this.Zb.FV(e),h);};d.prototype.Z0b=function(e,h){this.assert(this.Zb.Xh(e),h);};d.prototype.hia=function(e,h){this.assert(this.Zb.ks(e),h);};d.prototype.e1b=function(e,h){this.assert(this.Zb.aw(e),h);};d.prototype.c1b=function(e,h){this.assert(this.Zb.ks(e) || null === e || void 0 === e,h);};d.prototype.gia=function(e,h){this.assert(this.Zb.Ln(e),h);};d.prototype.a1b=function(e,h){this.assert(this.Zb.EGa(e),h);};d.prototype.d1b=function(e,h){this.assert(this.Zb.m4(e),h);};d.prototype.b1b=function(e,h){this.assert(this.Zb.T3(e),h);};d.prototype.X0b=function(e,h){this.assert(this.Zb.sha(e),h);};d.prototype.$0b=function(e,h){this.assert(this.Zb.uha(e),h);};d.prototype.Qnc=function(){this.assert(!1,"invalid operation, this method should not be called");};f=d;b.iwa=f;b.iwa=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.D2a)),t.__param(1,(0,n.l)(c.ei)),t.__param(2,(0,n.l)(a.wb))],f);},69216:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r){this.Oa=p;this.config=r;}Object.defineProperty(b,"__esModule",{value:!0});b.kwa=void 0;t=a(22970);c=a(22674);g=a(81918);f=a(31149);e=a(36129);h=a(85001);l=a(5021);k=a(22365);a=a(21801);d.prototype.qmb=function(p){var r,q,u,v,w,x,y,A,z,B;r=this;v=p.mediaTime.value;w=p.qs.value;x=p.Tb.value;y=p.state.value;A={segmentId:p.tNa(),mediaTime:v,segmentTime:p.iF(),bufferingState:n.M2b[w],presentingState:n.sAc[x],playbackState:n.gzc[y],mseBuffersBusy:this.skc(p),intBuffersBusy:this.iic(p),tabVisible:this.iKc(),decodedFrameCount:this.H$b(p),videoElementInDom:this.ENc(p),lastVideoSync:this.Oa.uc().ca((0,l.ac)(p.Uba)).la(l.wa)};z=x === h.Gb.Qg?p.jb.Ag?this.config.nAb:this.config.mAb:this.config.nyb;if(w !== h.Pg.mf){if((w=e.W.hOb,this.lib(A.mseBuffersBusy,A.intBuffersBusy)))B=n.Y0a;}else if((x !== h.Gb.bg?w=e.W.jOb:(w=e.W.iOb,(x=p.Qd) && 0 === x.Ala() && (B=n.PVb)),x=p.Qd))(A.mediaBuffered=x.BW(),A.mediaBufferedSegments=x.DW(),x.kc.sourceBuffers.forEach(function(C){var D,F;D=n.jh[C.mediaType];A[D + "Ranges"]=C.rla();try{F=C.buffered();}catch(H){F=void 0;}F && 0 !== F.length?(C=1E3 * F.end(0) - v,A[D + "Undecoded"]=C,1 < F.length && (B=n.cNb),v < 1E3 * F.start(0) || v > 1E3 * F.end(0)?B=n.dNb:C < z.la(l.wa)?B=n.eNb:r.lib(A.mseBuffersBusy,A.intBuffersBusy) && (B=n.Y0a)):(A[D + "Undecoded"]=0,B=n.bNb);}));x=p.eEb.Srb();y=v === (null === (q=x.repositionTrace) || void 0 === q?void 0:q[0].newMediaTime);A.lastRepositionCausedTimeout=y;A.trackChangeInProgress=null === (u=p.Xa) || void 0 === u?void 0:u.RYa;Object.assign(A,x);p="";try{p=JSON.stringify(A);}catch(C){p="Cannot stringify details: " + C;}return new f.ue(e.aa.a9a,w,B,void 0,void 0,void 0,p,void 0);};d.prototype.skc=function(p){var r;if(p.kc){r={};p.kc.sourceBuffers.forEach(function(q){r[0 === q.type?"audio":"video"]={updating:q.updating()};});return r;}};d.prototype.iic=function(p){var r;if(p.kc){r={};p.kc.sourceBuffers.forEach(function(q){r[0 === q.type?"audio":"video"]={updating:q.nj()};});return r;}};d.prototype.iKc=function(){return !k.fi.hidden;};d.prototype.H$b=function(p){return (p=p.Qd) && (p=p.kc.Ga) && void 0 !== p.webkitDecodedFrameCount?p.webkitDecodedFrameCount:NaN;};d.prototype.ENc=function(p){if(p=p.Qd)if(p=p.kc.Ga)return k.fi.body.contains(p);return !1;};d.prototype.lib=function(p,r){var q,u,v,w;return !((null === (q=p.audio) || void 0 === q?void 0:q.updating) === (null === (u=r.audio) || void 0 === u?void 0:u.updating) && (null === (v=p.video) || void 0 === v?void 0:v.updating) === (null === (w=r.video) || void 0 === w?void 0:w.updating));};m=n=d;b.kwa=m;m.bNb="1";m.cNb="2";m.dNb="3";m.Y0a="4";m.eNb="5";m.PVb="6";m.jh=["Audio","Video"];m.M2b=["","NORMAL","BUFFERING","STALLED"];m.sAc=["","WAITING","PLAYING ","PAUSED","ENDED"];m.gzc=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];b.kwa=m=n=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(g.Sd)),t.__param(1,(0,c.l)(a.Iza))],m);},2010:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Uwa=void 0;t=a(22970);n=a(22674);c=a(90030);d.prototype.bW=function(g,f){var e;e=this;g && Object.entries(f).forEach(function(h){var l,k,m;l=Ea(h);h=l.next().value;l=l.next().value;if(e.hoc(l)){k=Ea(l);l=k.next().value;m=k.next().value;k=g[l];Array.isArray(k)?(e.SJa(g,h,l),k.forEach(function(p){e.bW(p,m);})):l === c.ej?Object.values(g).forEach(function(p){e.bW(p,m);}):(e.SJa(g,h,l),"object" === typeof k && e.bW(k,m));}else e.SJa(g,h,l);});};d.prototype.hoc=function(g){return Array.isArray(g);};d.prototype.SJa=function(g,f,e){g.hasOwnProperty(f) || f === e || Object.defineProperty(g,f,{get:function(){return g[e];},set:function(h){return g[e]=h;},enumerable:!0});};a=d;b.Uwa=a;b.Uwa=a=t.__decorate([(0,n.Y)()],a);},95947:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Q0=b.Ywa=void 0;t=a(22970);n=a(31811);a=a(22674);d.prototype.create=function(){return new n.Bl();};c=d;b.Ywa=c;b.Ywa=c=t.__decorate([(0,a.Y)()],c);b.Q0="EventSourceFactorySymbol";},31811:function(t,b,a){var n,c;function d(){this.Fu={};this.id="$es$" + n.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Bl=void 0;t=a(22970);a=a(22674);d.prototype.addListener=function(g,f,e){var h,l;h="$netflix$player$order" + this.id + "$" + g;if(this.Fu){l=this.Fu[g]?this.Fu[g].slice():[];e && (f[h]=e);0 > l.indexOf(f) && (l.push(f),l.sort(function(k,m){return (k[h] || 0) - (m[h] || 0);}));this.Fu[g]=l;}};d.prototype.removeListener=function(g,f){if(this.Fu && this.Fu[g]){for(var e=this.Fu[g].slice(),h;0 <= (h=e.indexOf(f));)e.splice(h,1);this.Fu[g]=e;}};d.prototype.bd=function(g,f,e){var h;if(this.Fu){h=this.CMa(g);for(g={sS:0};g.sS < h.length;(g={sS:g.sS},g.sS++))e?(function(l){return function(){var k;k=h[l.sS];setTimeout(function(){k(f);},0);};})(g)():h[g.sS].call(this,f);}};d.prototype.Hg=function(){this.Fu=void 0;};d.prototype.on=function(g,f,e){this.addListener(g,f,e);};d.prototype.CMa=function(g){var f;return null !== (f=this.Fu && (this.Fu[g] || (this.Fu[g]=[]))) && void 0 !== f?f:[];};c=n=d;b.Bl=c;c.counter=0;b.Bl=c=n=t.__decorate([(0,a.Y)()],c);},11629:function(t,b,a){var n,c,g,f,e;function d(h,l){this.Ia=h;this.random=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Pxa=void 0;t=a(22970);c=a(22674);g=a(5021);f=a(30869);a=a(10306);d.prototype.GE=function(){return this.Ia.gg.la(g.Nt) * n.K1a + Math.floor(this.random.random() * n.K1a);};d.prototype.U8b=function(){for(var h=[],l=0;32 > l;l++)h.push(Math.floor(16 * this.random.random()).toString(16));return h.join("");};e=n=d;b.Pxa=e;e.K1a=1E8;b.Pxa=e=n=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(f.di)),t.__param(1,(0,c.l)(a.Afa))],e);},52657:function(t,b,a){var n;function d(c,g,f,e,h){this.version=c;this.wQ=g;this.UXa=f;this.Or=e;this.lca=h;this.yx=new n.z5a(c,g,f,e,h);this.Kq=[];}Object.defineProperty(b,"__esModule",{value:!0});b.y5a=void 0;n=a(14494);d.prototype.load=function(c){var g;g=this;return this.yx.load(c).then(function(){var f;g.Kq=null !== (f=g.yx.Kq) && void 0 !== f?f:[];});};d.prototype.add=function(c){this.Kq.push(c);return this.yx.set(this.Kq);};d.prototype.remove=function(c,g){c=this.Ppb(this.Q6(c,g));return 0 <= c?(this.Kq.splice(c,1),this.yx.set(this.Kq)):Promise.resolve();};d.prototype.update=function(c,g){g=this.Ppb(this.Q6(c,g));return 0 <= g?(this.Kq[g]=c,this.yx.set(this.Kq)):Promise.resolve();};d.prototype.Q6=function(c,g){for(var f=0;f < this.Kq.length;++f)if(g(this.Kq[f],c))return this.Kq[f];};d.prototype.Ppb=function(c){return c?this.Kq.indexOf(c):-1;};b.y5a=d;},14494:function(t,b,a){var n,c;function d(g,f,e,h,l){this.version=g;this.wQ=f;this.UXa=e;this.Or=h;this.lca=l;}Object.defineProperty(b,"__esModule",{value:!0});b.z5a=void 0;n=a(36129);c=a(31149);d.prototype.load=function(g){return this.xrc(g);};d.prototype.set=function(g){this.Kq=g;return this.Myc();};d.prototype.xrc=function(g){var f;f=this;this.vwb || (this.vwb=new Promise(function(e,h){function l(k){f.jac().then(function(){h(k);}).catch(function(){h(k);});}f.HNa().then(function(k){f.storage=k;return f.storage.load(f.wQ);}).then(function(k){var m;k=k.value;try{m=g(k);f.version=m.version;f.Kq=m.data;e();}catch(p){l(p);}}).catch(function(k){k.Ma !== n.W.FD?h(k):e();});}));return this.vwb;};d.prototype.Myc=function(){var g,f,e,h,l;g=this;if(!this.UXa)return Promise.resolve();if(this.Vsa){h=new Promise(function(k,m){f=k;e=m;});l=function(){g.Vsa=h;g.NHb().then(function(){f();}).catch(function(k){e(k);});};this.Vsa.then(l).catch(l);return h;}return this.Vsa=this.NHb();};d.prototype.NHb=function(){var g,f;g=this;f=this.lca();return new Promise(function(e,h){g.HNa().then(function(l){return l.save(g.wQ,f,!1);}).then(function(){e();}).catch(function(l){h(d.VKc(n.aa.iTb,l));});});};d.prototype.jac=function(){var g;g=this;return this.UXa?new Promise(function(f,e){g.HNa().then(function(h){return h.remove(g.wQ);}).then(function(){f();}).catch(function(h){e(h);});}):Promise.resolve();};d.prototype.HNa=function(){return this.storage?Promise.resolve(this.storage):this.Or.create();};d.VKc=function(g,f){var e;if(f.Ma && f.Ec)return new c.ue(g,f.Ma,void 0,void 0,void 0,void 0,void 0,f.Ec);if(void 0 !== f.subCode){e=f.message?f.message + " ":"";f.code=g;f.message="" === e?void 0:e;return f;}return f instanceof Error?new c.ue(g,n.W.fq,void 0,void 0,void 0,void 0,f.stack,f):new c.ue(g,n.W.hk,void 0,void 0,void 0,void 0,void 0,f);};b.z5a=d;},76564:function(t,b){var d;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZL=void 0;d=/^\S+$/;a.prototype.FV=function(n){return void 0 !== n;};a.prototype.Xh=function(n){return null !== n && void 0 !== n;};a.prototype.l4=function(n){return a.Sgb(n);};a.prototype.LFa=function(n){return !(!n || !a.Sgb(n));};a.prototype.tN=function(n){return Array.isArray(n);};a.prototype.Tgb=function(n){return !(!n || n.constructor != Uint8Array);};a.prototype.Ln=function(n,c,g){return a.Dfb(n,c,g);};a.prototype.KFa=function(n){return a.KFa(n);};a.prototype.EGa=function(n,c,g){return a.Vha(n,c,g) && 0 === n % 1;};a.prototype.m4=function(n,c,g){return a.Vha(n,c || 0,g);};a.prototype.T3=function(n){return a.Vha(n,1);};a.prototype.qZb=function(n){return a.Vha(n,0,255);};a.prototype.rZb=function(n){return n === +n && (0 === n || n !== (n | 0)) && !0;};a.prototype.Ugb=function(n){return !(!n || !d.test(n));};a.prototype.ks=function(n){return a.Efb(n);};a.prototype.aw=function(n){return !(!a.Efb(n) || !n);};a.prototype.sha=function(n){return !0 === n || !1 === n;};a.prototype.uha=function(n){return "function" == typeof n;};a.Efb=function(n){return "string" == typeof n;};a.Dfb=function(n,c,g){return "number" == typeof n && !isNaN(n) && isFinite(n) && (void 0 === c || n >= c) && (void 0 === g || n <= g);};a.KFa=function(n){return "number" == typeof n && isNaN(n);};a.Vha=function(n,c,g){return a.Dfb(n,c,g) && 0 === n % 1;};a.Sgb=function(n){return "object" == typeof n;};b.ZL=new a();},81734:function(t,b,a){var n,c,g;function d(f,e){this.Ll=e?[e]:[];this.j3="$op$" + g++;this.bb=f;}Object.defineProperty(b,"__esModule",{value:!0});b.tc=void 0;n=a(33096);c=a(45146);g=0;d.prototype.addListener=function(f,e){var h;h=this;(0,c.A5)(f);(0,c.qa)(0 > this.Ll.indexOf(f));f[n.afa + this.j3]=e;this.Ll=this.Ll.slice();this.Ll.push(f);this.Ll.sort(function(l,k){return h.pIc(l,k);});};d.prototype.removeListener=function(f){var e;(0,c.A5)(f);this.Ll=this.Ll.slice();0 <= (e=this.Ll.indexOf(f)) && this.Ll.splice(e,1);};d.prototype.set=function(f,e){var h;if(this.bb !== f){h={oldValue:this.bb,newValue:f,Xl:e};this.bb=f;this.BWb=e;f=this.Ll;e=f.length;for(var l=0;l < e;l++)f[l](h);}};d.prototype.when=function(f){var e;e=this;return new Promise(function(h){function l(k){if(f(k.newValue))return (e.removeListener(l),h(k.newValue));}if(f(e.bb))return h(e.bb);e.addListener(l);});};d.prototype.pIc=function(f,e){return (f[n.afa + this.j3] || 0) - (e[n.afa + this.j3] || 0);};Ga.Object.defineProperties(d.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.bb;}},Xl:{configurable:!0,enumerable:!0,get:function(){return this.BWb;}}});b.tc=d;},55099:function(t,b,a){var n;function d(c){this.lgc=c;this.rma=!1;this.Fma=this.qh=this.p_=0;this.X7=!1;this.Gma=0;}Object.defineProperty(b,"__esModule",{value:!0});b.R8a=void 0;n=a(32687);d.prototype.nGa=function(c){c < this.p_ && (this.qh+=this.p_);this.p_=c;this.rma=!0;};d.prototype.ghc=function(){if(this.rma)return this.X7?this.Gma - this.Fma:this.qh + this.p_ - this.Fma;};d.prototype.refresh=function(){var c;c=this.lgc();(0,n.ec)(c) && this.nGa(c);};d.prototype.BIc=function(){this.X7 || (this.rma && (this.Gma=this.qh + this.p_),this.X7=!0);};d.prototype.XIc=function(){this.X7 && (this.rma && (this.Fma+=this.qh + this.p_ - this.Gma),this.Gma=0,this.X7=!1);};b.R8a=d;},72465:function(t,b){function a(d){this.value=d;}Object.defineProperty(b,"__esModule",{value:!0});b.hAa=void 0;a.empty=function(){return a.of(void 0);};a.of=function(d){return new a(d);};a.prototype.or=function(d){return void 0 === this.value?d instanceof Function?d():d:this.value;};a.prototype.map=function(d){return void 0 === this.value?a.empty():a.of(d(this.value));};b.hAa=a;},20483:function(t,b,a){var n;function d(c){this.sXb=void 0 === c?!1:c;this.sg={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.ofa=void 0;t=a(22970);a=a(22674);d.prototype.add=function(c,g){var f;g=void 0 === g?0:g;f=this.sg[g];f?this.sXb && -1 !== f.indexOf(c) || f.push(c):this.sg[g]=[c];};d.prototype.remove=function(c,g){this.So(c,void 0 === g?0:g);};d.prototype.removeAll=function(c){this.So(c);};d.prototype.flatten=function(){var c;c=this;return Object.keys(this.sg).sort().reduce(function(g,f){return g.concat(c.sg[f]);},[]);};d.prototype.So=function(c,g){Object.entries(this.sg).forEach(function(f){var e,h;e=Ea(f);f=e.next().value;e=e.next().value;if(void 0 === g || g === parseInt(f)){-1 < (h=e.indexOf(c)) && e.splice(h,1);}});};n=d;b.ofa=n;b.ofa=n=t.__decorate([(0,a.Y)()],n);},94293:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qfa=void 0;b.qfa=function(){var a;a=this;this.promise=new Promise(function(d,n){a.resolve=d;a.reject=n;});};},4734:function(t,b,a){var n,c,g;function d(f){this.nd=f;}Object.defineProperty(b,"__esModule",{value:!0});b.NBa=void 0;t=a(22970);n=a(22674);c=a(53085);g=a(59818);d.prototype.ot=function(f,e){var h;h=this;return new Promise(function(l,k){var m;m=h.nd.Kp(f,function(){k(new g.Pv(f));});e.then(function(p){l(p);m.cancel();}).catch(function(p){k(p);m.cancel();});});};a=d;b.NBa=a;b.NBa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Pk))],a);},67525:function(t,b,a){var n,c;function d(g){this.hKc=g;}Object.defineProperty(b,"__esModule",{value:!0});b.UBa=void 0;t=a(22970);n=a(22674);a=a(10306);d.prototype.random=function(){return this.hKc.random();};d.prototype.ZCb=function(g,f){if("number" !== typeof g)(f=g.end,g=g.start);else if("undefined" === typeof f)throw Error("max must be provided for randomInteger API");return Math.round(g + this.random() * (f - g));};c=d;b.UBa=c;b.UBa=c=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Kbb))],c);},74267:function(t,b){function a(d,n,c){if(null != c){if(0 < c(d,n))throw a.hlb(d,n);}else if(d.Ul && 0 < d.Ul(n))throw a.hlb(d,n);this.start=d;this.end=n;}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;a.hlb=function(d,n){return new RangeError("end [" + n + "] must be >= start [" + d + "]");};b.VBa=a;},61909:function(t,b,a){var c,g,f,e;function d(h){this.Cm=h;(0,g.Wu)(this,"timers");}function n(h,l){this.Cm=h;this.i4b=l;}Object.defineProperty(b,"__esModule",{value:!0});b.sCa=void 0;t=a(22970);c=a(22674);g=a(66523);f=a(63368);e=a(5021);n.prototype.cancel=function(){this.i4b(this.Cm);};d.prototype.Vf=function(h){return this.Kp(e.fa,h);};d.prototype.Kp=function(h,l){var k;k=this.Cm.setTimeout(l,h.la(e.wa));return new n(this.Cm,function(m){m.clearTimeout(k);});};d.prototype.jR=function(h,l){var k;k=this.Cm.setInterval(l,h.la(e.wa));return new n(this.Cm,function(m){m.clearInterval(k);});};a=d;b.sCa=a;b.sCa=a=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(f.ndb))],a);},57180:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.FT=void 0;t=a(22970);a=a(22674);d.prototype.format=function(c,g){var e;for(var f=1;f < arguments.length;++f);e=Array.prototype.slice.call(arguments,1);return c.replace(/{(\d+)}/g,function(h,l){return "undefined" != typeof e[l]?e[l]:h;});};d.prototype.yJc=function(c){return JSON.stringify(c,null,"  ");};n=d;b.FT=n;b.FT=n=t.__decorate([(0,a.Y)()],n);},49721:function(t,b,a){var n,c,g,f;function d(e,h,l){var k;k=this;this.Qh=e;this.nd=h;this.nja=l;this.AY=function(m){k.ql=void 0;k.zLc(m || k.nja);};this.Gvb=(0,g.ac)(-this.nja.la(g.wa));}Object.defineProperty(b,"__esModule",{value:!0});b.YCa=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(5021);a=a(53085);d.prototype.Vf=function(e){this.iWa=e;this.ql=this.ql || this.yh(this.AY);};d.prototype.Hg=function(){this.ql && this.ql.cancel();this.ql=void 0;};d.prototype.zLc=function(e){var h,l;h=this.Qh.uc();if(this.iWa){l=e.ca(h.ca(this.Gvb));0 >= l.Ul(g.fa)?(e=this.iWa,this.iWa=void 0,this.Gvb=h,e()):this.ql=this.ql || this.nd.Kp(l,this.AY.bind(this,e));}};d.prototype.yh=function(e){return this.nd.Kp(g.fa,e);};f=d;b.YCa=f;b.YCa=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Sd)),t.__param(1,(0,n.l)(a.Pk))],f);},84130:function(t,b,a){var n,c,g;function d(f,e,h){this.nd=f;this.JYa=e;this.HB=h;}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=void 0;t=a(22970);n=a(53085);c=a(22674);g=a(5021);d.prototype.FI=function(){this.ql || (this.ql=this.nd.Kp((0,g.ac)(this.JYa),this.HB));};d.prototype.yt=function(){this.ql && this.ql.cancel();this.ql=void 0;};a=d;b.aDa=a;b.aDa=a=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(n.Pk))],a);},1639:function(t,b,a){var n,c,g,f;function d(e,h){this.Oa=e;this.entries=new Set();this.ta=h.qb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Zfa=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(5021);a=a(87386);d.prototype.mark=function(e,h,l){e={name:e,Dx:this.Oa.uc()};h && (e.Ha=h);l && (e.correlationId=l);this.entries.add(e);return e;};d.prototype.ZMa=function(){var e;e=[];this.entries.forEach(function(h){return e.push(h);});return e;};d.prototype.Tqb=function(e){return this.ZMa().filter(function(h){return h.Ha === e;});};d.prototype.Kic=function(){var e;e={};try{e=this.ZMa().filter(function(h){return !h.Ha;}).reduce(function(h,l){h[l.name]=l.Dx.la(g.wa);return h;},{});}catch(h){this.ta.error(" getMapOfCommonMarks exception",h);}return e;};d.prototype.LDb=function(e){var h;h=this;this.ZMa().forEach(function(l){l.Ha === e && h.entries.delete(l);});};f=d;b.Zfa=f;b.Zfa=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Sd)),t.__param(1,(0,n.l)(a.wb))],f);},6214:function(t,b){function a(){this.searchParams={};}function d(n){this.Jq=n;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.Jcb=void 0;d.prototype.toString=function(){return this.href;};Ga.Object.defineProperties(d.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Jq + this.searchParams.toString();}}});b.Jcb=d;a.prototype.get=function(n){return this.searchParams[n];};a.prototype.set=function(n,c){this.searchParams[n]=c;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(n,c,g){var f;f=Ea(c);c=f.next().value;f=f.next().value;return "" + n + (0 == g?"?":"&") + c + "=" + f;},"");};a.prototype.toJSON=function(){return this.searchParams;};},53399:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.uDa=void 0;t=a(22970);a=a(22674);d.prototype.encode=function(g){return n.LKa(g);};d.prototype.decode=function(g){return n.IJa(g);};d.LKa=function(g){if(!g)throw new TypeError("Invalid byte array");for(var f=0,e,h=g.length,l="";f < h;){e=g[f++];if(!(0 <= e && 255 >= e))throw Error("bad utf8");if(e & 128)if(192 === (e & 224))e=((e & 31) << 6) + (g[f++] & 63);else if(224 === (e & 240))e=((e & 15) << 12) + ((g[f++] & 63) << 6) + (g[f++] & 63);else throw Error("unsupported utf8 character");l+=String.fromCharCode(e);}return l;};d.IJa=function(g){var f,e,h,l,k;f=g.length;e=0;l=0;if(!(0 <= f))throw Error("bad string");for(h=f;h--;){k=g.charCodeAt(h);128 > k?e++:e=2048 > k?e + 2:e + 3;}e=new Uint8Array(e);for(h=0;h < f;h++)(k=g.charCodeAt(h),128 > k?e[l++]=k:(2048 > k?e[l++]=192 | k >>> 6:(e[l++]=224 | k >>> 12,e[l++]=128 | k >>> 6 & 63),e[l++]=128 | k & 63));return e;};c=n=d;b.uDa=c;b.uDa=c=n=t.__decorate([(0,a.Y)()],c);},24900:function(t,b,a){var n,c,g,f;function d(e,h){this.is=e;this.Zk=h;}Object.defineProperty(b,"__esModule",{value:!0});b.vDa=void 0;t=a(22970);n=a(22674);a(36129);c=a(42207);g=a(6405);f=a(22365);d.prototype.cY=function(e,h,l){var k,m,p,r;k=this;if(h)if(l){m=l.o9;p=l.prefix;r=l.Tpa;this.rO(h,function(q,u){if(!r || k.is.Xh(u))e[(p || "") + (m?q.toLowerCase():q)]=u;});}else this.rO(h,function(q,u){e[q]=u;});return e;};d.prototype.rO=function(e,h){for(var l in e)e.hasOwnProperty(l) && h(l,e[l]);};d.prototype.e5=function(e,h){if(e.length == h.length){for(var l=e.length;l--;)if(e[l] != h[l])return !1;return !0;}return !1;};d.prototype.z6b=function(e,h){if(e.length != h.length)return !1;e.sort();h.sort();for(var l=e.length;l--;)if(e[l] !== h[l])return !1;return !0;};d.prototype.Mi=function(e){var h,l,k;if(e){h=e.stack;l=e.number;k=e.message;k || (k="" + e);h?(e="" + h,0 !== e.indexOf(k) && (e=k + "\n" + e)):e=k;l && (e+="\nnumber:" + l);return e;}};d.prototype.getFunctionName=function(e){return (e=(/function (.{1,})\(/).exec(e.toString())) && 1 < e.length?e[1]:"";};d.prototype.Xpb=function(e){return this.getFunctionName(e.constructor);};d.prototype.Ezb=function(e){var h,l;h=this;l="";this.is.tN(e) || this.is.Tgb(e)?l=Array.prototype.reduce.call(e,function(k,m){return k + (32 <= m && 128 > m?String.fromCharCode(m):".");},""):this.is.ks(e)?l=e:this.rO(e,function(k,m){l+=(l?", ":"") + "{" + k + ": " + (h.is.uha(m)?h.getFunctionName(m) || "function":m) + "}";});return "[" + this.Xpb(e) + " " + l + "]";};d.prototype.createElement=function(e,h,l,k){var m;m=f.fi.createElement(e);h && (m.style.cssText=h);l && (m.innerHTML=l);k && this.rO(k,function(p,r){m.setAttribute(p,r);});return m;};d.prototype.sec=function(e,h){return function(l){return l[e] === h;};};d.prototype.jqa=function(e){var h;h={};(e || "").split("&").forEach(function(l){var k,m;l=l.trim();k=l.indexOf("=");if(0 <= k){m=decodeURIComponent(l.substr(0,k)).toLowerCase();h[m]=decodeURIComponent(l.substr(k + 1));}else h[l.toLowerCase()]=void 0;});return h;};a=d;b.vDa=a;b.vDa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.ei)),t.__param(1,(0,n.l)(g.FL))],a);},38385:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Hwb=void 0;d=a(80401);n=a(76989);t=a(22674);c=a(36410);g=a(87386);f=a(42790);b.Hwb=new t.je(function(e){e(g.wb).to(n.Qya).pa();e(c.eT).to(d.Sya).pa();e(g.P6a).to(f.Iya).pa();});},87386:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Cn={};t[t.xPb=0]="FATAL";t[t.Ho=1]="ERROR";t[t.EDa=2]="WARN";t[t.K1=3]="INFO";t[t.Obb=4]="TRACE";t[t.u=5]="DEBUG";b.P6a="LogFieldBuilderFactorySymbol";b.wb="LoggerFactorySymbol";b.Wda={};},36410:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eT="LoggerSinksSymbol";},34126:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;b.Rya=a;a.pOb="display";a.SNb="console";},22097:function(t,b,a){var n,c;function d(g,f,e,h,l,k,m){this.level=g;this.Nn=f;this.timestamp=e;this.message=h;this.Hc=l;this.prefix=k;this.index=void 0 === m?0:m;this.uJc=this.xJc();}Object.defineProperty(b,"__esModule",{value:!0});b.r0a=void 0;n=a(5021);c={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};d.prototype.uta=function(g){g=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (g?"":" " + this.uJc);return (this.timestamp.la(n.wa) / 1E3).toFixed(3) + "|" + this.index + "|" + (c[this.level] || this.level) + "|" + this.Nn + "| " + g;};d.prototype.xJc=function(){var h;for(var g=this.Hc.length,f="",e=0;e < g;++e){h=this.Hc[e].Wz;e && f.length && (f+=" ");if("object" === typeof h){if(null === h)f+="null";else if(h instanceof Error)f+=this.wJc(h);else try{f+=JSON.stringify(h);}catch(l){f+=this.vJc(h);}}else f+=h;}return f;};d.prototype.wJc=function(g){return g.toString() + (g.stack?"\n" + g.stack:"") + "\n";};d.prototype.vJc=function(g){var f;f=[];return JSON.stringify(g,function(e,h){if("object" === typeof h && null !== h){if(-1 !== f.indexOf(h))return "<cycle>";f.push(h);}return h;});};b.r0a=d;},98895:function(t,b,a){var n,c;function d(g,f,e,h,l,k){g=n.dT.call(this,g,f,e,h) || this;g.groups=l;Array.isArray(k)?g.prefix=k:k && "string" === typeof k && (g.prefix=[],g.prefix.push(k));return g;}Object.defineProperty(b,"__esModule",{value:!0});b.s0a=void 0;n=a(29045);c=a(22097);Ia(d,n.dT);d.prototype.NH=function(g,f,e){g=new c.r0a(g,this.Nn,this.Oa.uc(),f,e,this.prefix);f=Ea(this.Jr.Jr);for(e=f.next();!e.done;e=f.next())(e=e.value,e(g));};d.prototype.lV=function(g){return new d(this.Oa,this.Jia,this.Jr,g,this.groups,this.prefix);};b.s0a=d;},37960:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.O2b=function(a,d){var c;a=a.Fic();for(var n=0;n < d.length;++n){c=d[n];void 0 != c && null != c && (c.ai && (c=c.ai),c.constructor === Uint8Array?a.H_b(c):"MediaRequest" === c.constructor.name?a.k_b(c):"string" === typeof c?a.D_b(c):"function" === typeof c?a.c_b(c):c instanceof Error?a.a_b(c):c instanceof Object && "function" === typeof c.toJSON?a.qgb(c.toJSON()):c instanceof Object?a.qgb(c):a.J_b(c));}return a.build();};},90694:function(t,b,a){var n;function d(c,g,f,e,h,l){this.level=c;this.Nn=g;this.timestamp=f;this.message=e;this.Hc=h;this.index=void 0 === l?0:l;this.RQb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Hya=void 0;n=a(5021);d.prototype.uta=function(c){var g;g="" + this.message;this.Hc.forEach(function(f){g+=f.VR(c);});return (this.timestamp.la(n.wa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.RQb[this.level] || this.level) + "|" + this.Nn + "| " + g;};b.Hya=d;},42790:function(t,b,a){var n,c,g,f;function d(e,h){this.wd=e;this.Cf=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Iya=void 0;t=a(22970);n=a(22674);c=a(14600);g=a(2248);a=a(74870);d.prototype.Fic=function(){return new c.Jya(this.wd,this.Cf);};f=d;b.Iya=f;b.Iya=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.yl)),t.__param(1,(0,n.l)(a.Il))],f);},14600:function(t,b,a){var m,p,r;function d(q,u){this.wd=q;this.Cf=u;this.Hc=[];}function n(q){return k.call(this,q,function(u){return {Details:u};}) || this;}function c(q){return k.call(this,q,function(u){return JSON.parse(u.toJSON());}) || this;}function g(q,u){u=k.call(this,u,function(v){return {Base64:q.encode(v)};}) || this;u.wd=q;return u;}function f(q,u){u=k.call(this,u,function(v){return v();}) || this;u.Cf=q;return u;}function e(q){return k.call(this,q,function(u){return {Exception:u.message || "" + u,StackTrace:u.stack || "nostack"};}) || this;}function h(q,u,v){u=k.call(this,u,v) || this;u.Cf=q;return u;}function l(q){return k.call(this,q,function(u){return {Details:u};}) || this;}function k(q,u){this.Wz=q;this.value=u?u(q):q;}Object.defineProperty(b,"__esModule",{value:!0});b.Jya=void 0;t=a(22970);m=a(22674);p=a(74870);a=a(2248);k.prototype.g6=function(q){return this.Wz === q;};Ia(l,k);l.prototype.VR=function(){return "\r\n" + this.Wz;};Ia(h,k);h.prototype.VR=function(){var q;q="";this.Cf.rO(this.value,function(u,v){try{q+=", " + u + ": " + v;}catch(w){try{q+=", " + u + ": " + JSON.stringify(v);}catch(x){q+=", error stringifying " + u;}}});return q.replace(/[\r\n]+ */g," ");};Ia(e,k);e.prototype.VR=function(q){var u;u="\r\n" + this.Wz.message;q || (u+="\r\n" + this.Wz.stack);return u;};Ia(f,k);f.prototype.VR=function(){var q;q="";this.Cf.rO(this.value,function(u,v){q+=", " + u + ": " + v;});return q.replace(/[\r\n]+ */g," ");};Ia(g,k);g.prototype.VR=function(){return this.Wz?"\r\n" + this.wd.encode(this.Wz):"";};Ia(c,k);c.prototype.VR=function(){return this.Wz?this.Wz.toJSON():"";};Ia(n,k);n.prototype.VR=function(){return ", " + (this.Wz.toString?"" + this.Wz.toString():"");};d.prototype.D_b=function(q){this.Hc.push(new l(q));};d.prototype.qgb=function(q){this.Hc.push(new h(this.Cf,q));};d.prototype.a_b=function(q){this.Hc.push(new e(q));};d.prototype.c_b=function(q){this.Hc.push(new f(this.Cf,q));};d.prototype.H_b=function(q){this.Hc.push(new g(this.wd,q));};d.prototype.k_b=function(q){this.Hc.push(new c(q));};d.prototype.J_b=function(q){this.Hc.push(new n(q));};d.prototype.build=function(){return this.Hc;};r=d;b.Jya=r;b.Jya=r=t.__decorate([(0,m.Y)(),t.__param(0,(0,m.l)(a.yl)),t.__param(1,(0,m.l)(p.Il))],r);},76989:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p){this.Oa=k;this.Jr=m;this.YQa=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Qya=void 0;t=a(22970);n=a(29045);c=a(22674);g=a(51742);f=a(81918);e=a(36410);h=a(87386);l=a(98895);d.prototype.qb=function(k,m,p,r,q){p=void 0 === p?this.Jr:p;return m?new g.f$a(this.Oa,this.YQa,p,m,k):q?new l.s0a(this.Oa,this.YQa,p,k,r || "",q):new n.dT(this.Oa,this.YQa,p,k);};a=d;b.Qya=a;b.Qya=a=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(f.Sd)),t.__param(1,(0,c.l)(e.eT)),t.__param(2,(0,c.l)(h.P6a))],a);},29045:function(t,b,a){var n,c,g;function d(f,e,h,l){this.Oa=f;this.Jia=e;this.Jr=h;this.Nn=void 0 === l?"General":l;this.wIa={};}Object.defineProperty(b,"__esModule",{value:!0});b.dT=void 0;n=a(87386);c=a(90694);g=a(37960);d.prototype.fgb=function(f,e){this.wIa[f]=e;};d.prototype.fatal=function(f,e){for(var h=[],l=1;l < arguments.length;++l)h[l - 1]=arguments[l];this.NH(n.Cn.xPb,f,this.L_(f,h));};d.prototype.error=function(f,e){for(var h=[],l=1;l < arguments.length;++l)h[l - 1]=arguments[l];this.NH(n.Cn.Ho,f,this.L_(f,h));};d.prototype.warn=function(f,e){for(var h=[],l=1;l < arguments.length;++l)h[l - 1]=arguments[l];this.NH(n.Cn.EDa,f,this.L_(f,h));};d.prototype.info=function(f,e){for(var h=[],l=1;l < arguments.length;++l)h[l - 1]=arguments[l];this.NH(n.Cn.K1,f,this.L_(f,h));};d.prototype.trace=function(f,e){for(var h=[],l=1;l < arguments.length;++l)h[l - 1]=arguments[l];this.NH(n.Cn.Obb,f,this.L_(f,h));};d.prototype.debug=function(f,e){for(var h=1;h < arguments.length;++h);!1;};d.prototype.log=function(f,e){for(var h=[],l=1;l < arguments.length;++l)h[l - 1]=arguments[l];this.debug.apply(this,[f].concat(za(h)));};d.prototype.write=function(f,e,h){for(var l=[],k=2;k < arguments.length;++k)l[k - 2]=arguments[k];this.NH(f,e,this.L_(e,l));};d.prototype.toString=function(){return JSON.stringify(this);};d.prototype.toJSON=function(){return {category:this.Nn};};d.prototype.lV=function(f){return new d(this.Oa,this.Jia,this.Jr,f);};d.prototype.NH=function(f,e,h){f=new c.Hya(f,this.Nn,this.Oa.uc(),e,h);e=Ea(this.Jr.Jr);for(h=e.next();!h.done;h=e.next())(h=h.value,h(f));};d.prototype.$gc=function(f){return 0 < Object.keys(this.wIa).length?[this.wIa].concat(za(f)):f;};d.prototype.L_=function(f,e){var h;f && "null" !== f && "undefined" !== f || e.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return (0,g.O2b)(this.Jia,this.$gc(e));};b.dT=d;},80401:function(t,b,a){var n;function d(){this.bHb={};this.Jr=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Sya=void 0;t=a(22970);a=a(22674);d.prototype.ura=function(c,g){g && (this.bHb[c]=g,this.Jr=Object.values(this.bHb));};n=d;b.Sya=n;b.Sya=n=t.__decorate([(0,a.Y)()],n);},51742:function(t,b,a){var n,c,g;function d(f,e,h,l,k){f=g.dT.call(this,f,e,h,k) || this;f.j=l;(0,n.Wu)(f,"playback");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.f$a=void 0;n=a(66523);c=a(90694);g=a(29045);Ia(d,g.dT);d.prototype.lV=function(f){return new d(this.Oa,this.Jia,this.Jr,this.j,f);};d.prototype.NH=function(f,e,h){f=new c.Hya(f,this.Nn,this.Oa.uc(),e,h,this.j.index);e=Ea(this.Jr.Jr);for(h=e.next();!h.done;h=e.next())(h=h.value,h(f,this.j));};b.f$a=d;},56371:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.tyb=void 0;t=a(22674);d=a(76193);n=a(25857);b.tyb=new t.je(function(c){c(d.Y7a).to(n.Gza).pa();});},76193:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y7a="MomentObserverFactory";},25857:function(t,b,a){var n,c,g;function d(f){this.nd=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Gza=void 0;t=a(22970);n=a(22674);c=a(89350);a=a(53085);d.prototype.Ykb=function(f,e){return new c.Z7a(this.nd,f,e);};g=d;b.Gza=g;b.Gza=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Pk))],g);},89350:function(t,b){function a(d,n,c){this.nd=d;this.config=n;this.getTime=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Z7a=void 0;a.prototype.observe=function(d,n){var c;c=this;this.cancel();this.ql=this.nd.jR(this.config.qrb(),function(){c.getTime() >= d && (c.cancel(),n());});};a.prototype.cancel=function(){this.ql && (this.ql.cancel(),this.ql=void 0);};b.Z7a=a;},64274:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.E0c=function(a){return a;};b.p9=function(a){return a;};b.F0c=function(a){return Object.assign({},a);};},33194:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.$=void 0;t=a(22674);d=a(2911);n=a(93488);c=a(12242);g=a(71807);f=a(25830);e=a(49310);b.$=new t.je(function(h){h(d.yCa).to(c.xCa).pa();h(n.Wab).to(g.vCa).pa();h(f.mcb).to(e.eDa).pa();});},93488:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wab="SegmentConfigFactorySymbol";},2911:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yCa="SegmentManagerFactorySymbol";},25830:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mcb="TransitionLoggerSymbol";},61494:function(t,b,a){var g,f,e,h;function d(l,k,m,p,r,q,u){var v;v=this;this.player=k;this.j=m;this.dY=p;this.nd=r;this.BU=q;this.config=u;this.YU=function(){v.ZJ && (v.ZJ.cancel(),v.ZJ=void 0);};this.log=l.qb("SegmentManager",this.j);this.$=new Map();this.j.jb.Ag && (this.j.addEventListener(e.ha.LK,function(w){return v.Jz(w);}),this.j.addEventListener(e.ha.closed,this.YU));}function n(l,k){this.id=l;this.gIa=k;}function c(l,k,m,p){return f.ue.call(this,l,m,void 0,void 0,void 0,k,void 0,p) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.o1a=void 0;g=a(36129);f=a(31149);e=a(85001);h=a(5021);Ia(c,f.ue);c.prototype.toString=function(){return this.code + "-" + this.subCode + " : " + this.message + "\n" + JSON.stringify(this.data);};n.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.cb,contentEndPts:this.ib};};Ga.Object.defineProperties(n.prototype,{cb:{configurable:!0,enumerable:!0,get:function(){return this.gIa.startTimeMs;}},ib:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.gIa.endTimeMs) && void 0 !== l?l:void 0;}},Fz:{configurable:!0,enumerable:!0,get:function(){var l;return Object.keys(null !== (l=this.gIa.next) && void 0 !== l?l:{});}}});d.prototype.Jz=function(l){var k;k=this;!1;l=l.position.segmentId;0 === this.$.size && Object.entries(this.j.S6()).forEach(function(m){var p;p=Ea(m);m=p.next().value;p=p.next().value;k.$.set(m,new n(m,p));});this.ea=this.$.get(l);};d.prototype.play=function(l){this.cZ && (this.cZ=void 0);this.YU();this.log.trace("Playing segment",l);return this.Aub(l)?this.czc(l):this.G$(l);};d.prototype.Tf=function(l){this.log.trace("Queueing segment",l);return this.Aub(l)?this.FBc(l):this.GBc(l);};d.prototype.Kk=function(l,k){var m,p;m=this;p=this.j.Xa;if(null === p || void 0 === p || !p.Mj)return Promise.reject(this.getError(g.aa.X0a,"ASE session manager is not yet initialized",g.W.nva,{segmentId:l,updates:k}));this.log.trace("Updating next segment weights",l,k);return new Promise(function(r,q){try{p.iMc(l,k);m.j.fireEvent(e.ha.tZa,{L:l,FKb:k});r();}catch(u){q(m.getError(g.aa.X0a,"updateNextSegmentWeights threw an exception",g.W.$Mb,{segmentId:l,updates:k,error:u}));}});};d.prototype.Aub=function(l){var k;return this.ea?void 0 !== (null === (k=this.j.S6()[this.ea.id].next) || void 0 === k?void 0:k[l]):!1;};d.prototype.xNa=function(){var l;l=this.j.Xa;if(null === l || void 0 === l?0:l.Mj)return l.Js().lzc;};d.prototype.Kjc=function(){var l;l=this.j.Xa;if(null === l || void 0 === l?0:l.Mj)return l.Js().id;};d.prototype.Ugc=function(){var l;l=this.j.Xa;if(null === l || void 0 === l?0:l.Mj)return (l={oHa:0},l.oHa);};d.prototype.czc=function(l){var k,m;k=this;m=this.j.Xa;return null !== m && void 0 !== m && m.Mj?this.ea && 1 === this.ea.Fz.length?this.G$(l):this.j.Qd?void 0 === this.Ugc()?(this.log.error("playNextSegment: branchOffset missing",{segment:l}),this.G$(l)):new Promise(function(p,r){var x,y,A,z,B,C;function q(){!A && y && x && (C.cancel(),A=!0,k.log.trace("Telling ASE to choose the next segment",{id:l,stopped:y,repositioned:x,completed:A}),m.Wia(l,!1)?(p(),A=!0):(A=!0,k.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:l}),k.G$(l).then(p).catch(r)));}function u(){x=!0;k.log.trace("Player is repositioned",{id:l,stopped:y,repositioned:x,completed:A});k.j.removeEventListener(e.ha.qm,u);q();}function v(){k.j.removeEventListener(e.ha.gG,v);m.stop();}function w(){y=!0;k.log.trace("ASE is stopped",{id:l,stopped:y,repositioned:x,completed:A});m.removeEventListener("stop",w);q();}x=!1;y=!1;A=!1;z=k.$.get(l);B=k.xNa();if(void 0 === B)return (k.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:l}),k.G$(l));k.log.trace("Seeking to next segment",JSON.stringify({segmentId:l,seekTo:B,currentSegment:k.ea,nextSegment:z},null,"  "));k.j.fireEvent(e.ha.hpa,{Vh:k.ea && k.ea.id,kY:l});m.addEventListener("stop",w);k.j.addEventListener(e.ha.gG,v);k.j.addEventListener(e.ha.qm,u);C=k.nd.Kp((0,h.ci)(10),function(){A=!0;C.cancel();r(k.getError(g.aa.i0,"Timed out waiting for the player to be repositioned and ASE to be stopped",g.W.WMb,{id:l,stopped:y,repositioned:x,completed:A}));});k.player.seek(B,e.Dc.rM);}):(this.log.warn("MediaPresenter is not initialized",l),Promise.reject(this.getError(g.aa.i0,"MediaPresenter is not initialized",g.W.XMb,{id:l}))):Promise.reject(this.getError(g.aa.i0,"ASE session manager is not yet initialized",g.W.nva,{id:l}));};d.prototype.G$=function(l){var k;k=this.$.get(l);return k?this.Waa(k,g.aa.i0):Promise.reject(this.getError(g.aa.i0,"Unable to find the separated segment",g.W.W0a,{id:l}));};d.prototype.FBc=function(l){var k;k=this.j.Xa;if(null === k || void 0 === k || !k.Mj)return Promise.reject(this.getError(g.aa.j0,"ASE session manager is not yet initialized",g.W.nva,{id:l}));this.j.fireEvent(e.ha.hpa,{Vh:this.ea && this.ea.id,kY:l});if(k.Wia(l,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:l});return this.emb(l);};d.prototype.GBc=function(l){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:l,mid:this.j.R,srcsegment:this.Kjc()});return this.emb(l);};d.prototype.emb=function(l){var k,m;k=this;if(this.cZ)return Promise.reject(this.getError(g.aa.j0,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",g.W.ZMb,{currentSegment:this.ea?this.ea.id:void 0,queuedSegment:this.cZ.id,failedSegment:l}));if(!this.ea)return Promise.reject(this.getError(g.aa.j0,"Unable to queue segment for delayed seek because there is no currently playing segment",g.W.VMb,{nextSegmentid:l}));m=this.$.get(l);if(!m)return Promise.reject(this.getError(g.aa.j0,"Unable to find the separated segment",g.W.W0a,{nextSegmentid:l,currentSegmentId:this.ea.id}));this.cZ={id:l,promise:new Promise(function(p,r){var q;k.ZJ=k.dY.Ykb({qrb:function(){return (0,h.ac)(100);}},function(){return k.player.DB() || 0;});q=k.xNa() - k.config().pyb;k.log.trace("Adding moment for queued segment for delayed seek",{segment:l,pts:q});k.ZJ.observe(q,function(){k.log.trace("Moment has arrived, seek to segment",{segment:l,currentSegment:k.ea.id,playerEndPts:k.xNa(),pts:q});k.cZ=void 0;k.YU();k.Waa(m,g.aa.j0).then(p).catch(r);});})};this.cZ.promise.catch(function(p){k.j.Pf(p.code,p);});return Promise.resolve();};d.prototype.Waa=function(l,k){var m;m=this;return new Promise(function(p,r){var q;try{q=l.cb;!1;m.player.seek(q,e.Dc.Ov);p();}catch(u){r(m.getError(k,"Seek threw an exception",g.W.YMb,{id:l.id,error:u}));}});};d.prototype.getError=function(l,k,m,p){this.log.warn(k,p);return new c(l,k,m,p);};b.o1a=d;},71807:function(t,b,a){var c,g;function d(){}function n(f,e,h,l,k){this.debug=f;this.version=e;this.Mpc=h;this.$yc=l;this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;t=a(22970);c=a(22674);g=a(5021);n.prototype.Zhc=function(){return this.config().groupName;};n.prototype.lMa=function(){return this.config().hib;};n.prototype.qrb=function(){return (0,g.ac)(this.config().Azc);};n.prototype.Kqb=function(){return this.config().Erc;};n.prototype.Sqb=function(){return this.config().ysc;};d.prototype.QO=function(f,e,h,l,k){return new n(f,e,h,l,k);};a=d;b.vCa=a;b.vCa=a=t.__decorate([(0,c.Y)()],a);},12242:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v;function d(w,x,y,A,z,B,C,D,F,H,E){this.Oa=w;this.Vg=x;this.dY=y;this.VZa=A;this.I$=z;this.nd=B;this.BU=C;this.yj=D;this.eLa=F;this.ek=H;this.config=E;}Object.defineProperty(b,"__esModule",{value:!0});b.xCa=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(87386);f=a(76193);e=a(79274);h=a(51038);l=a(58872);k=a(64181);m=a(61494);p=a(24550);r=a(53085);q=a(95947);u=a(74870);a=a(4203);d.prototype.h9b=function(w,x,y){return new k.Zab(this.Oa,this.Vg,this.dY,this.VZa,x,w,this.yj,this.I$,this.ek,this.eLa,y);};d.prototype.w8b=function(w,x){return new m.o1a(this.Vg,w,x,this.dY,this.nd,this.BU,this.config);};v=d;b.xCa=v;b.xCa=v=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Sd)),t.__param(1,(0,n.l)(g.wb)),t.__param(2,(0,n.l)(f.Y7a)),t.__param(3,(0,n.l)(l.Rcb)),t.__param(4,(0,n.l)(h.b$a)),t.__param(5,(0,n.l)(r.Pk)),t.__param(6,(0,n.l)(p.f0)),t.__param(7,(0,n.l)(e.v2)),t.__param(8,(0,n.l)(q.Q0)),t.__param(9,(0,n.l)(u.Il)),t.__param(10,(0,n.l)(a.Cc))],v);},64181:function(t,b,a){var f,e,h;function d(l,k,m,p,r,q,u,v,w,x,y){var A;A=this;this.Oa=l;this.dY=m;this.XTa=p;this.config=r;this.rb=q;this.yj=u;this.I$=v;this.ek=w;this.xl=y;this.Fdc=Object.values(f.Sa).map(function(z){return {event:z,HB:function(B){return A.$b.bd(z,B);}};});this.$b=x.create();this.uK=[];this.log=k.qb("SegmentManager");this.CO=!0;this.st=this.ek.createElement("div",h.TBa);}function n(l,k,m,p,r,q,u,v,w,x,y){var A;A=this;this.log=l;this.config=k;this.Ivc=m;this.XTa=p;this.yj=r;this.I$=q;this.tt=u;this.K=v;this.st=w;this.rb=x;this.xl=y;this.YU=function(){A.ZJ && (A.ZJ.cancel(),A.ZJ=void 0);};this.kOa=function(z){A.log.trace("Received the transition event",{movieId:z.R});A.UBc();};this.RQa=function(){};this.log.debug("Constructing session data",c(v));this.QKc=new Promise(function(z){A.UBc=z;});}function c(l){return {movieId:l.R};}function g(l){return JSON.stringify({movieId:l.R,startPts:l.Db,logicalEnd:l.Ui,params:l.zb?{trackingId:l.zb.Em,authParams:l.zb.tia,sessionParams:l.zb.Op,disableTrackStickiness:l.zb.hKa,uiPlayStartTime:l.zb.oA,loadImmediately:l.zb.coa,playbackState:l.zb.playbackState?{currentTime:l.zb.playbackState.currentTime,volume:l.zb.playbackState.volume,muted:l.zb.playbackState.muted,playbackRate:l.zb.playbackState.playbackRate}:void 0,pin:l.zb.tBb,heartbeatCooldown:l.zb.uOa,uiLabel:l.zb.We,uxLabels:l.zb.Qta}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.Zab=void 0;f=a(85001);e=a(5021);h=a(33096);n.prototype.load=function(l){var k,m;k=this;this.log.trace("Loading new segment",c(this.K));this.player=this.XTa.mV(this.config,this.I$,this.yj,this.K,this.rb,this.xl);this.player.addEventListener(f.Sa.aX,function(p){k.log.trace("Segment is inactive",c(k.K));k.tt.close(k.yj(p.errorCode));});this.player.addEventListener(f.Sa.closed,this.YU);this.player.addEventListener(f.Sa.IYa,function(p){p.timecodes.forEach(function(r){"start" === r.type && l?(k.K.Db=r.Bba,k.K.zb.Db=r.Bba):"ending" === r.type && (k.K.Ui=r.Bba,k.K.zb.Ui=r.Bba);});k.K.id && k.K.Ui && k.rb.xKb(k.K.id,k.K.Ui);k.tt.uKb(k.K);});if(l)(this.log.debug("Pausing background segment",c(this.K)),this.player.addEventListener(f.Sa.ZPa,this.kOa),this.player.eBb());else {this.st.appendChild(this.player.mp());m=function(p){k.kOa(p);k.player.removeEventListener(f.Sa.loaded,m);};this.player.addEventListener(f.Sa.loaded,m);}};n.prototype.observe=function(){var l,k,m;l=this;this.log.trace("Observing segment",g(this.K));if(this.ZJ)this.log.trace("Segment is currently observing",c(this.K));else if(this.K.zb && this.K.zb.coa)this.RQa(this);else {k=this.Ivc.Ykb(this.config,function(){var p;if(l.player){p=l.player.RO();if(p)return p;}return 0;});m=this.w3b(this.K);this.log.trace("Adding a moment to watch",{time:m});k.observe(m,function(){l.log.trace("Segment has reached its loading point",c(l.K));l.RQa(l);l.YU();});}};n.prototype.close=function(l){this.log.info("Closing segment",{segment:g(this.K),error:l});return this.player?(this.player.removeEventListener(f.Sa.ZPa,this.kOa),this.player.close(l)):Promise.resolve();};n.prototype.Ywc=function(l){this.RQa=l;};n.prototype.w3b=function(l){var k,m;k=l.Ui;l=l.zb?l.zb.coa:!1;m=0;k && !l && (m=k - this.config.Kqb(),m < this.config.Sqb() && (l=k - this.config.Sqb(),m=k - l / 2));return m;};d.prototype.Ujc=function(){return this.Ji && this.Ji.player?this.Ji.player.kr():!1;};d.prototype.mp=function(){return this.st;};d.prototype.hF=function(){if(!this.Ji || !this.Ji.player)throw Error("Player not ready");return this.Ji.player;};d.prototype.uKb=function(l){var k,m;m=this.xLa(l);m?this.wKb(m,l):this.rb.Ks(l.id) || this.log.error("Tried to update a non-existent segment",{segment:g(l),currentMovieId:this.Ji.K.R,queuedMovieIds:this.uK.map(function(p){return p.K.R;}),xid:null === (k=this.Ji.player) || void 0 === k?void 0:k.Yy()});};d.prototype.Lf=function(l){var k;this.log.info("Adding segment",g(l));if(this.CO){this.log.trace("First segment, loading",c(l));k=this.wwb(l);this.CO=!1;}else (this.log.trace("Subsequent segment, caching",c(l)),(k=this.xLa(l))?this.wKb(k,l):(k=this.createSession(l),this.uK.push(k),this.Ji.observe()));return k?k.QKc:null;};d.prototype.transition=function(l,k){var m,p,r;p=this.hQ;r=null === p || void 0 === p?void 0:p.player;if(p && r)return (this.hQ=void 0,this.log.info("Transitioning segment",g(p.K)),r.kXa(this.Oa.uc().la(e.wa)),this.zJb(p,k));k=null === p || void 0 === p?void 0:p.K;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Ji.K.R,xid:null === (m=this.Ji.player) || void 0 === m?void 0:m.Yy(),nextSegmentId:l,currentSegment:g(this.Ji.K),nextSegment:k?g(k):void 0,queuedMovieIds:this.uK.map(function(q){return q.K.R;})});return Promise.reject();};d.prototype.close=function(l){var k;k=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(c(this.Ji.K)),nextSession:this.hQ?JSON.stringify(c(this.hQ.K)):void 0});l=[this.Ji.close(l)];this.hQ && l.push(this.hQ.close());return Promise.all(l).then(function(){k.hQ=void 0;k.uK=[];k.CO=!0;});};d.prototype.addListener=function(l,k,m){this.$b.addListener(l,k,m);};d.prototype.removeListener=function(l,k){this.$b.removeListener(l,k);};d.prototype.wKb=function(l,k){this.Dxc(l.K,k);this.log.trace("Overwrote existing segment data",g(l.K));};d.prototype.wwb=function(l){var k,m;k=this;this.log.info("Loading the next episode",c(l));if(this.Ji){this.config.lMa()[l.R]=l.Db;m=this.xLa(l);}else m=this.createSession(l);if(m)return (this.log.trace("Found the next session",c(l)),m.Ywc(function(p){k.PIb(p);}),this.Ji?(this.log.trace("Subsequent playback, caching player and pausing",c(l)),this.hQ=m,m.load(!0)):(this.log.trace("First playback transitioning immediately",c(l)),m.load(!1),this.zJb(m)),m);this.log.warn("Unable to find the session, make sure to add it before loading",c(l));};d.prototype.zJb=function(l,k){var m,p,r,q,u;k=void 0 === k?{}:k;q=l.player?null === (m=l.player) || void 0 === m?void 0:m.getError():"missing player";if(q)return (null === (p=l.player) || void 0 === p?void 0:p.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Ji.K.R,mid:l.K.R,error:q,xid:null === (r=l.player) || void 0 === r?void 0:r.Yy()}),Promise.reject());this.log.trace("Playing episode",c(l.K));m=this.Ji;this.Ji=l;l=this.Ji.player;l.OWa(!1);this.pS(l,m?m.player:void 0);if(m && m.player){u=m.player.mp();p=l.mp();u.style.display="none";m=m.close();this.st.appendChild(p);m.then(function(){u.parentElement && u.parentElement.removeChild(u);});p.style.display="block";l.Jta(k);l.XZ();l.play();}return Promise.resolve();};d.prototype.PIb=function(l){var k,m,p,r,q;if(this.uK.length && l.player){k=l.player.RO();m=this.uK[0];p=this.Ji.K.Ui;r=this.Ji.K.zb?this.Ji.K.zb.coa:!1;if(p || r){r?q=0:p && (q=p - this.config.Kqb());null !== k && k >= q && (this.log.info("Got a time change, loading the next player",c(m.K)),this.wwb(m.K),this.uK.splice(0,1),this.PIb(l));}}};d.prototype.xLa=function(l){return this.Ji.K.R === l.R?this.Ji:this.uK.find(function(k){return k.K.R === l.R;});};d.prototype.Dxc=function(l,k){l.Db=k.Db || l.Db;l.Ui=k.Ui || l.Ui;l.zb=k.zb || l.zb;l.U=k.U || l.U;};d.prototype.createSession=function(l){return new n(this.log,this.config,this.dY,this.XTa,this.yj,this.I$,this,l,this.st,this.rb,this.xl);};d.prototype.pS=function(l,k){this.Fdc.forEach(function(m){k && k.removeEventListener(m.event,m.HB);l.addEventListener(m.event,m.HB);});this.$b.bd(f.wT.$aa,{player:l});};b.Zab=d;},49310:function(t,b,a){var n,c,g;function d(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;t=a(22970);n=a(22674);c=a(4203);g=a(3887);d.prototype.hBc=function(f,e,h,l){this.config().QFc && (f=f.metrics,void 0 !== f && f.segment !== f.srcsegment && (h={isBranching:l || void 0,isPlaygraph:!l || void 0,mid:e.R,xid:e.Ha,srcxid:h.Ha,srcmid:h.R,segment:f.segment,srcsegment:f.srcsegment,srcsegmentduration:f.srcsegmentduration,srcoffset:f.srcoffset,srcMoffms:f.srcMoffms,srcvbitrate:f.srcvbitrate,srcvmaf:f.srcvmaf,srcVdlid:f.srcVdlid,destMoffms:f.destMoffms,destvbitrate:f.destvbitrate,destvmaf:f.destvmaf,destVdlid:f.destVdlid,auxMid:f.auxMid,auxMidType:f.auxMidType,auxSrcmid:f.auxSrcmid,auxSrcmidType:f.auxSrcmidType,seamlessRequested:f.seamlessRequested,transitionType:f.transitionType,transitionTypeAtRequest:f.transitionTypeAtRequest,nextExitPositionAtRequest:f.nextExitPositionAtRequest,delayToTransition:f.delayToTransition,durationOfTransition:f.durationOfTransition,atRequest:f.atRequest,atTransition:f.atTransition,discard:f.discard,adBreakLocationMs:f.adBreakLocationMs,srcadBreakLocationMs:f.srcadBreakLocationMs},h.moffms=e.j && e.qf && e.R !== e.qf?(0,g.zh)(e.j.kqb()):(0,g.zh)(e.Qq),e.JJ.eb.transition(h)));};a=d;b.eDa=a;b.eDa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Cc))],a);},24550:function(t,b){var a,d;Object.defineProperty(b,"__esModule",{value:!0});b.f0=b.KMb=b.LMb=b.MMb=void 0;(function(n){n[n.pbc=0]="downloading";n[n.obc=1]="downloaded";n[n.ZA=2]="appended";n[n.buffered=3]="buffered";n[n.ux=4]="removed";n[n.N4c=5]="unused";})(a || (b.MMb=a={}));(function(n){n[n.waiting=1]="waiting";n[n.W1c=2]="ondeck";n[n.pbc=4]="downloading";n[n.obc=8]="downloaded";n[n.g8=6]="inprogress";})(d || (b.LMb=d={}));b.KMb="AseBufferViewSymbol";b.f0="AseBufferAccountingSymbol";},1891:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m){return function(){return new Promise(function(p,r){var q;q=m.Hb.get(c.d3a);q.Sb().then(function(){p(q);}).catch(function(u){r(u);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.Tmb=void 0;t=a(22674);n=a(2413);c=a(31701);g=a(98281);f=a(24550);e=a(64372);h=a(52476);l=a(14188);k=a(33633);b.Tmb=new t.je(function(m){m(h.O6a).to(l.Fya).pa();m(n.b3a).to(k.Gya);m(f.f0).to(e.Xua).pa();m(c.d3a).to(g.Bwa).pa();m(c.c3a).jca(d);});},2413:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.b3a="DxDisplaySymbol";},31701:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.d3a="DxManagerSymbol";b.c3a="DxManagerProviderSymbol";},52476:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.O6a="LogDisplayConfigSymbol";},64372:function(t,b,a){var n;function d(){this.tFc="";this.PNc=[[],[],[]];this.La=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Xua=void 0;t=a(22970);n=a(22674);a(5021);a(24550);d.prototype.update=function(c){this.PNc[c.mediaType].forEach(function(g){g.P4c(c);});};Ga.Object.defineProperties(d.prototype,{L:{configurable:!0,enumerable:!0,get:function(){return this.tFc;}}});a=d;b.Xua=a;b.Xua=a=t.__decorate([(0,n.Y)()],a);},44133:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Z1a=void 0;n=a(22365);d.O6b=function(c){var g;if(n.fi.queryCommandSupported && n.fi.queryCommandSupported("copy")){g=n.fi.createElement("textarea");g.textContent=c;g.style.position="fixed";n.fi.body.appendChild(g);g.select();try{n.fi.execCommand("copy");}catch(f){console.warn("Copy to clipboard failed.",f);}finally{n.fi.body.removeChild(g);}}};b.Z1a=d;},98281:function(t,b,a){var n,c;function d(g){this.Yac=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Bwa=void 0;t=a(22970);n=a(22674);a=a(2413);d.prototype.Sb=function(){var g;g=this;this.hJ || (this.hJ=new Promise(function(f,e){var h;h=[];g.Yac.forEach(function(l){h.push(l.Sb());});Promise.all(h).then(function(){f();}).catch(function(l){e(l);});}));return this.hJ;};c=d;b.Bwa=c;b.Bwa=c=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.QF)(a.b3a))],c);},14188:function(t,b,a){var n,c,g,f,e;function d(h,l){h=g.Ef.call(this,h,"LogDisplayConfigImpl") || this;h.Qf=l;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Fya=void 0;t=a(22970);n=a(22674);c=a(12501);g=a(64174);f=a(83767);a=a(5614);Ia(d,g.Ef);Ga.Object.defineProperties(d.prototype,{raa:{configurable:!0,enumerable:!0,get:function(){return !0;}},IX:{configurable:!0,enumerable:!0,get:function(){return this.Qf.IX;}},Ewb:{configurable:!0,enumerable:!0,get:function(){return -1;}}});e=d;b.Fya=e;t.__decorate([c.config(c.fd,"renderDomDiagnostics")],e.prototype,"raa",null);t.__decorate([c.config(c.nJ,"logDisplayMaxEntryCount")],e.prototype,"IX",null);t.__decorate([c.config(c.nJ,"logDisplayAutoshowLevel")],e.prototype,"Ewb",null);b.Fya=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(f.Fn)),t.__param(1,(0,n.l)(a.vT))],e);},33633:function(t,b,a){var g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A;function d(z,B,C,D,F,H,E,G,K,N){var I;I=this;this.Ia=z;this.Qh=B;this.ek=C;this.nd=D;this.Jr=F;this.config=H;this.VN=E;this.BYa=G;this.GJa=K;this.Or=N;this.BKc=function(){I.zca.Vf(function(){I.update();});};this.clear=function(){I.entries=[];I.update();};this.dyb=function(){I.kg.rX=!I.kg.rX;I.NJ && I.UJ && (I.kg.rX?(I.NJ.style.display="inline-block",I.UJ.style.display="none"):(I.UJ.style.display="inline-block",I.NJ.style.display="none"));I.sR(!1);};this.Trc=function(L){var O;I.entries.push(L);O=I.config.IX;0 <= O && I.entries.length > O && I.entries.shift();void 0 === I.kg.xE[L.Nn] && (I.kg.xE[L.Nn]=!0,I.sR(!1));I.kg.isVisible && !I.GIb?I.BKc():I.zca.Vf();};this.gbc=function(){c.download("all",I.entries.map(function(L){return L.uta(!1);})).catch(function(L){console.error("Unable to download all logs to the file",L);});};this.kJ=!1;this.kg={isVisible:!1,rX:!0,jKa:!0,ZQa:q.Cn.K1,xE:{}};this.zca=this.BYa((0,m.ci)(1));this.vec=this.GJa((0,m.ac)(250));this.entries=[];!1;!1;}function n(z){var B;this.elements=[];B=document.createElementNS(n.Rba,"svg");B.setAttribute("viewBox",z);this.elements.push(B);}function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gya=void 0;t=a(22970);g=a(22674);f=a(74870);e=a(45842);h=a(34043);l=a(53085);k=a(30869);m=a(5021);p=a(81918);r=a(33554);q=a(87386);u=a(36410);v=a(34126);w=a(52476);x=a(17892);y=a(43193);A=a(44133);c.download=function(z,B){return c.Lhc(z).then(function(C){return c.Nkc(C,B.join("\r\n")).then(function(D){return c.dbc(D.filename,D.text);});});};c.Lhc=function(z){return new Promise(function(B,C){var D,F,H,E,G,K,N;try{D=new Date();F=D.getDate().toString();H=(D.getMonth() + 1).toString();E=D.getFullYear().toString();G=D.getHours().toString();K=D.getMinutes().toString();N=D.getSeconds().toString();1 === F.length && (F="0" + F);1 === H.length && (H="0" + H);1 === G.length && (G="0" + G);1 === K.length && (K="0" + K);1 === N.length && (N="0" + N);B(E + H + F + G + K + N + "." + z + ".log");}catch(I){C(I);}});};c.Nkc=function(z,B){return new Promise(function(C,D){try{C({filename:z,text:URL.createObjectURL(new Blob([B],{type:"text/plain"}))});}catch(F){D(F);}});};c.dbc=function(z,B){var C;try{C=document.createElement("a");C.setAttribute("href",B);C.setAttribute("download",z);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(D){return Promise.reject(D);}};n.prototype.WZ=function(){var z;z=document.createElementNS(n.Rba,"g");z.setAttribute("stroke","none");z.setAttribute("stroke-width",(1).toString());z.setAttribute("fill","none");z.setAttribute("fill-rule","evenodd");z.setAttribute("stroke-linecap","round");this.addElement(z);return this;};n.prototype.YZ=function(z,B,C){var D;D=document.createElementNS(n.Rba,"path");D.setAttribute("d",z);B && D.setAttribute("fill",B);C && D.setAttribute("fill-rule",C);this.addElement(D);return this;};n.prototype.Cba=function(z,B,C,D,F){var H;F=void 0 === F?"#000000":F;H=document.createElementNS(n.Rba,"rect");H.setAttribute("x",z.toString());H.setAttribute("y",B.toString());H.setAttribute("height",C.toString());H.setAttribute("width",D.toString());F && H.setAttribute("fill",F);this.addElement(H);return this;};n.prototype.MIc=function(){var z;z=document.createElementNS(n.Rba,"polygon");z.setAttribute("points","0 0 24 0 24 24 0 24");z.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(z);return this;};n.prototype.end=function(){this.elements.pop();return this;};n.prototype.build=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};n.prototype.addElement=function(z){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(z);this.elements.push(z);};Ga.Object.defineProperties(n,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},RN:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});n.Rba="http://www.w3.org/2000/svg";d.prototype.Sb=function(){var z;z=this;this.hJ || (this.hJ=new Promise(function(B){Ba.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == y.aT.PQb?z.toggle():C.keyCode == y.aT.E && A.Z1a.O6b(z.VN().Li));});z.Jr.ura(v.Rya.pOb,z.Trc);B();}));return this.hJ;};d.prototype.show=function(){document.body && (this.element || (this.E8b(),this.kJ=!0),!this.kg.isVisible && this.element && (document.body.appendChild(this.element),this.kg.isVisible=!0,this.update(!0)));};d.prototype.JB=function(){this.kJ && this.kg.isVisible && this.element && (document.body.removeChild(this.element),this.kg.isVisible=!1);};d.prototype.toggle=function(){this.kg.isVisible?this.JB():this.show();this.sR(!1);};d.prototype.E8b=function(){var z,B;try{z=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});B=this.createElement("style");B.type="text/css";B.appendChild(document.createTextNode("button:focus { outline: none; }"));z.appendChild(B);z.appendChild(this.zt=this.N9b());z.appendChild(this.P9b());z.appendChild(this.y8b());this.element=z;}catch(C){console.error("Unable to create the log console",C);}};d.prototype.N9b=function(){var z,B;z=this;B=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");B.setAttribute("wrap","off");B.setAttribute("readonly","readonly");B.addEventListener("focus",function(){z.GIb=!0;z.update();z.zt && (z.zt.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});B.addEventListener("blur",function(){z.GIb=!1;z.update();z.zt && (z.zt.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return B;};d.prototype.P9b=function(){var z;z=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");z.appendChild(this.d9b());z.appendChild(this.O8b());z.appendChild(this.J8b());z.appendChild(this.Q9b());z.appendChild(this.C8b());z.appendChild(this.o9b());z.appendChild(this.l9b());z.appendChild(this.K8b());z.appendChild(this.D8b());return z;};d.prototype.y8b=function(){var z,B,C,D,F,H;z=this;B=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");D=this.createElement("select",this.zB(22,160,1,2),"<option>Select categories</option>");F=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");B.appendChild(C);B.appendChild(F);C.appendChild(D);C.addEventListener("mousedown",function(E){E.preventDefault();});H=!1;C.addEventListener("click",function(){H?F.style.display="none":(F.innerHTML="",["all","none"].concat(Object.keys(z.kg.xE).sort()).forEach(function(E){F.appendChild(z.z8b(E,C));}),F.style.display="block");H=!H;});return B;};d.prototype.z8b=function(z,B){var C,D,F;C=this;D=this.createElement("label","display: block;margin:1px");D.htmlFor=z;F=this.createElement("input","margin:1px");F.type="checkbox";F.id=z;F.checked=this.kg.xE[z];F.addEventListener("click",function(){"all" === z || "none" === z?(Object.keys(C.kg.xE).forEach(function(H){C.kg.xE[H]="all" === z;}),B.click()):C.kg.xE[z]=!C.kg.xE[z];C.sR(!0);});D.appendChild(F);D.insertAdjacentText("beforeend",18 < z.length?z.slice(0,15) + "...":z);return D;};d.prototype.d9b=function(){var z,B;z=this;B=this.createElement("select",this.zB(22,NaN,1,2),'<option value="' + q.Cn.Ho + '">Error</option><option value="' + (q.Cn.EDa + '">Warn</option><option value="') + (q.Cn.K1 + '">Info</option><option value="') + (q.Cn.Obb + '">Trace</option><option value="') + (q.Cn.u + '">Debug</option>'));B.value=this.kg.ZQa.toString();B.addEventListener("change",function(C){z.kg.ZQa=parseInt(C.target.value);z.sR(!0);},!1);return B;};d.prototype.O8b=function(){var B,C;function z(D){return B.vec.Vf(function(){var F;F=D.target.value;B.kg.filter=F?new RegExp(F):void 0;B.sR(!0);});}B=this;C=this.createElement("input",this.zB(14,150,1,2));C.value=this.kg.filter?this.kg.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",z,!1);C.addEventListener("change",z,!1);return C;};d.prototype.J8b=function(){var z,B,C,D;z=this;B=this.createElement("div",this.zB(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.kg.jKa;C.addEventListener("change",function(F){z.kg.jKa=F.target.checked;z.sR(!0);},!1);D=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");D.setAttribute("for","details");D.innerHTML="View details";B.appendChild(C);B.appendChild(D);return B;};d.prototype.Q9b=function(){var z,B,C;z=this;B=this.createElement("button",this.zB());C=new n("0 0 24 24").WZ().MIc().end().YZ("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",n.RN,"nonzero").end().end().build();B.appendChild(C);B.addEventListener("click",function(){z.update();},!1);B.setAttribute("title","Refresh the log console");return B;};d.prototype.C8b=function(){var z,B;z=this.createElement("button",this.zB());B=new n("0 0 24 24").WZ().Cba(0,0,24,24,n.background).end().YZ("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",n.RN).end().end().build();z.appendChild(B);z.addEventListener("click",this.clear,!1);z.setAttribute("title","Remove all log messages");return z;};d.prototype.o9b=function(){var z;this.UJ=this.createElement("button",this.zB());this.UJ.style.display=this.kg.rX?"none":"inline-block";z=new n("0 0 24 24").WZ().Cba(0,0,24,24,n.background).end().YZ("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",n.RN,"nonzero").end().end().build();this.UJ.addEventListener("click",this.dyb,!1);this.UJ.appendChild(z);this.UJ.setAttribute("title","Shrink the log console");return this.UJ;};d.prototype.l9b=function(){var z;this.NJ=this.createElement("button",this.zB());this.NJ.style.display=this.kg.rX?"inline-block":"none";z=new n("0 0 24 24").WZ().Cba(4,4,16,16,n.background).end().YZ("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",n.RN,"nonzero").end().end().build();this.NJ.addEventListener("click",this.dyb,!1);this.NJ.appendChild(z);this.NJ.setAttribute("title","Expand the log console");return this.NJ;};d.prototype.K8b=function(){var z,B;z=this.createElement("button",this.zB());B=new n("0 0 26 26").WZ().Cba(0,0,24,24,n.background).end().YZ("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",n.RN,"nonzero").end().end().build();z.appendChild(B);z.addEventListener("click",this.gbc,!1);z.setAttribute("title","Download all log messages");return z;};d.prototype.D8b=function(){var z,B,C;z=this;B=this.createElement("button",this.zB());C=new n("0 0 24 24").WZ().Cba(0,0,24,24,n.background).end().YZ("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",n.RN,"nonzero").end().end().build();B.appendChild(C);B.addEventListener("click",function(){z.toggle();},!1);B.setAttribute("title","Close the log console");return B;};d.prototype.sR=function(z){var B;z=void 0 === z?!1:z;B=void 0 === B?!1:B;!1;z && this.update(B);};d.prototype.update=function(z){var B;B=this;z=void 0 === z?!1:z;this.element && this.config.raa && Promise.resolve(this.Q2b() + this.Nhc().join("\r\n")).then(function(C){B.element && B.zt && (B.zt.value=C,B.element.style.cssText=B.kg.rX?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",z && B.nd.Kp(m.fa,function(){B.zt.scrollTop=B.zt.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};d.prototype.Nhc=function(){var C;for(var z=[],B=this.entries.length - 1;0 <= B && 1E4 > z.length;B--){C=this.entries[B];(C.level || C.level) <= this.kg.ZQa && this.kg.xE[C.Nn] && (C=C.uta(!this.kg.jKa),this.kg.filter && !this.kg.filter.test(C) || z.push(C));}return z.reverse();};d.prototype.Q2b=function(){var z;z=this.VN();return "Version: 6.0052.501.911 \n" + ((z?"Esn: " + z.Li:"") + "\nJsSid: ") + (this.Qh.id + ", Epoch: " + this.Ia.gg.la(m.Nt) + ", Start: " + this.Qh.zF.la(m.Nt) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};d.prototype.createElement=function(z,B,C,D){return this.ek.createElement(z,B,C,D);};d.prototype.zB=function(z,B,C,D){z=void 0 === z?26:z;B=void 0 === B?26:B;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + n.RN + ";padding:3px;" + (isNaN(z)?"":"height:" + z + "px") + ";" + (isNaN(B)?"":"width:" + B + "px") + ";margin:0px 3px;background-color:transparent;" + (D?"border-radius:" + D + "px;":"");};a=d;b.Gya=a;a.cJc="logDxDisplay";b.Gya=a=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(k.di)),t.__param(1,(0,g.l)(p.Sd)),t.__param(2,(0,g.l)(f.Il)),t.__param(3,(0,g.l)(l.Pk)),t.__param(4,(0,g.l)(u.eT)),t.__param(5,(0,g.l)(w.O6a)),t.__param(6,(0,g.l)(r.uA)),t.__param(7,(0,g.l)(e.rH)),t.__param(8,(0,g.l)(h.Qda)),t.__param(9,(0,g.l)(x.PG))],a);},72574:function(t,b,a){var c;function d(){return c.R2.apply(this,arguments) || this;}function n(g){return new c.Tx(g,b.HL);}Object.defineProperty(b,"__esModule",{value:!0});b.fa=b.Q7a=b.nya=b.Qx=b.HL=b.BNb=void 0;b.hw=n;b.ka=function(g){return new c.Tx(g,b.Qx);};b.j0c=function(g){return new c.Tx(g,b.nya);};b.l1c=function(g){return new c.Tx(g,b.Q7a);};c=a(35201);Ia(d,c.R2);b.BNb=d;b.HL=new d(1,"b");b.Qx=new d(8 * b.HL.rh,"B",b.HL);b.nya=new d(1024 * b.Qx.rh,"KB",b.HL);b.Q7a=new d(1024 * b.nya.rh,"MB",b.HL);b.fa=n(0);},5021:function(t,b,a){var c;function d(){return c.R2.apply(this,arguments) || this;}function n(g){return new c.Tx(g,b.wa);}Object.defineProperty(b,"__esModule",{value:!0});b.fa=b.S4a=b.Fza=b.Nt=b.wa=b.hM=b.hVb=void 0;b.o1c=function(g){return new c.Tx(g,b.hM);};b.Kzc=function(g){return new c.Tx(g * b.Nt.rh,b.hM);};b.ac=n;b.ci=function(g){return new c.Tx(g,b.Nt);};b.ZRa=function(g){return new c.Tx(g,b.Fza);};b.o_c=function(g){return new c.Tx(g,b.S4a);};b.timestamp=function(g){return n(g);};c=a(35201);Ia(d,c.R2);b.hVb=d;b.hM=new d(1,"\u03bcs");b.wa=new d(1E3,"ms",b.hM);b.Nt=new d(1E3 * b.wa.rh,"s",b.hM);b.Fza=new d(60 * b.Nt.rh,"min",b.hM);b.S4a=new d(60 * b.Fza.rh,"hr",b.hM);b.fa=n(0);},35201:function(t,b,a){var c;function d(g,f){this.rh=f;this.DF=Math.floor(g);this.display=this.DF + " " + this.rh.name;}function n(g,f,e){this.rh=g;this.name=f;this.Jq=e?e:this;(0,c.Wu)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Tx=b.R2=void 0;c=a(66523);n.prototype.g6=function(g){return this.rh == g.rh;};n.prototype.toJSON=function(){return this.name;};b.R2=n;d.prototype.la=function(g){return this.rh.g6(g)?this.DF:Math.floor(this.DF * this.rh.rh / g.rh);};d.prototype.mUa=function(g){return this.rh.g6(g)?this.DF:this.DF * this.rh.rh / g.rh;};d.prototype.as=function(g){return new d(this.la(g),g);};d.prototype.to=function(g){return new d(this.la(g),g);};d.prototype.toString=function(){return this.display;};d.prototype.toJSON=function(){return {magnitude:this.DF,units:this.rh.name};};d.prototype.add=function(g){return this.Wjb(g);};d.prototype.ca=function(g){return this.Wjb(g,function(f){return -f;});};d.prototype.scale=function(g){return new d(this.la(this.rh.Jq) * g,this.rh.Jq);};d.prototype.Ul=function(g){return this.la(this.rh.Jq) - g.la(this.rh.Jq);};d.prototype.g6=function(g){return 0 == this.Ul(g);};d.prototype.Tub=function(){return 0 == this.DF;};d.prototype.PPa=function(){return 0 > this.DF;};d.prototype.VPa=function(){return 0 < this.DF;};d.prototype.Wjb=function(g,f){f=void 0 === f?function(e){return e;}:f;return new d(this.la(this.rh.Jq) + f(g.la(this.rh.Jq)),this.rh.Jq);};b.Tx=d;},4203:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Cc=b.I1=b.lq=b.Hm=b.qPc=b.rPc=void 0;d=a(45247);Object.defineProperty(b,"AseConfigValues",{enumerable:!0,get:function(){return d.eQc;}});Object.defineProperty(b,"AseConfigExtensions",{enumerable:!0,get:function(){return d.dQc;}});b.Hm={MWc:"casttv",hIa:"chrome",TWc:"chromecast",yu:"edge",Xmb:"edgeoss",Sob:"firefox",w_c:"ie",opera:"opera",SCb:"quest",WEb:"safari",EIb:"tesla"};b.lq={GGa:"android",aub:"ios",rjb:"chromeos",gwb:"linux",Owb:"mac",f_a:"windows"};b.I1={i6b:"computer",phone:"phone",jKc:"tablet"};b.Cc="ConfigSymbol";},12501:function(t,b,a){var g,f,e;function d(h){return function(l,k){return l.eVa(k,h);};}function n(h,l){return h.mra.EBc[l] || c(h,l);}function c(h,l){h=h.iz.data[l];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.url=b.ka=b.hm=b.iZa=b.Pnc=b.e_=b.string=b.Ex=b.fd=b.nJ=void 0;b.config=function(h,l,k){k=void 0 === k?!1:k;return function(m,p,r){var q,u;q=void 0 !== l?l:p;u=r.get;void 0 !== u && (r.get=function(){var v;if(!this.Xoc(p))return this.ckc(p);a:{v=(this.k0b || k?n:c)(this,q.toString());if(void 0 !== v)if((v=h(this.j$,v),v instanceof e.Lt))this.lpb(q,v);else break a;v=u.bind(this)();}this.DK(p,v);return v;});return r;};};b.yYc=function(h){return function(l,k){return l.cDb(k,h);};};b.object=function(){return function(h,l){return h.fDb(l);};};b.ADb=d;b.xy=function(h,l){return function(k,m){return k.pm(m,h,l);};};g=a(72574);f=a(5021);e=a(37187);b.nJ=function(h,l){return h.eDb(l);};b.fd=function(h,l){return h.aVa(l);};b.Ex=function(h,l){return h.pv(l);};b.string=function(h,l){return h.eVa(l);};b.e_=function(h,l){return h.pm(l,b.string);};b.Pnc=function(h,l){return h.pm(l,b.nJ);};b.iZa=function(h,l){return h.pm(l,b.Ex);};b.hm=function(h,l){h=h.pv(l);return h instanceof e.Lt?h:(0,f.ac)(h);};b.ka=function(h,l){h=h.pv(l);return h instanceof e.Lt?h:(0,g.ka)(h);};b.url=d(/^\S+$/);},83767:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vva="ConfigurableInputsSymbol";b.Fn="ValidatingConfigurableInputsSymbol";b.Ida="ConfigNameSymbol";b.YL="InitParamsSymbol";},34231:function(t,b){var a,d;Object.defineProperty(b,"__esModule",{value:!0});b.Vr=b.Kv=b.xA=void 0;(function(n){n[n.XCa=0]="Test";n[n.Wxa=1]="Int";n[n.aVb=2]="Staging";n[n.dUb=3]="Prod";})(a || (b.xA=a={}));(function(n){n[n.pM=0]="PreferMsl";n[n.G$a=1]="PreferNoMsl";n[n.w8a=2]="NoMsl";})(d || (b.Kv=d={}));b.Vr="GeneralConfigSymbol";},5614:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vT="PlatformConfigDefaultsSymbol";},27081:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.bBa=void 0;d=a(5021);n=a(72574);c=a(75568);g={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.bBa=function(){this.CWa=!0;this.$H=[];this.Jh=[];this.io=[];this.RV=!1;this.BKa=!0;this.mA=[c.rq.XPb,c.rq.Zva,c.rq.KUb,c.rq.mT];this.Uw=void 0;this.TKa=!0;this.zka=!1;this.dia=(0,n.ka)(288E4);this.fia=(0,n.ka)(335544320);this.eia=(0,n.ka)(1E4);this.GF=(0,d.ac)(15E3);this.Osc=(0,n.ka)(6291456);this.IX=1E3;this.JHa=!0;this.sta=g;this.s_=(0,n.ka)(0);this.Mma=("ro zh-Hans zh-Hant vi ar he hi th ta te").split(" ");this.Nma=("ro zh-Hans zh-Hant ko vi ar he hi th ta te").split(" ");this.Rna=["th","ta"];(0,d.ac)(0);this.W7=!0;this.Ota=!1;this.VV=!0;this.gS=this.DI=this.kB=!1;this.kja=["v2"];};},52033:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.S9a="PlatformConfigOverridesSymbol";},83810:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;t=a(22674);d=a(4203);n=a(80217);c=a(83767);g=a(34231);f=a(33823);e=a(48004);h=a(40158);l=a(69484);k=a(34731);m=a(23563);p=a(18135);b.config=new t.je(function(r){r(d.Cc).Kf(function(){return function(){return Ba._cad_global.config;};});r(c.Vva).to(n.Uva).pa();r(c.Fn).to(n.yDa).pa();r(c.YL).to(n.Vxa).pa();r(g.Vr).to(f.mxa).pa();r(e.q8a).to(h.Uza).pa();r(l.Y3a).to(k.jxa).pa();r(m.nD).to(p.Pwa).pa();});},64174:function(t,b,a){var c,g,f,e;function d(h,l){var k;k=e.call(this,h,l) || this;k.kkb=l;k.debug=h.debug;k.ta=h.Vg.qb(k.kkb);return k;}function n(h,l){this.kkb=l;this.JUa={};this.iz=h.iz;this.j$=h.j$;this.mra=h.mra;}Object.defineProperty(b,"__esModule",{value:!0});b.Ef=b.yS=b.Nbb=void 0;t=a(22970);c=a(72465);g=a(22674);f=a(37187);b.Nbb="isTestAccount";n.prototype.lpb=function(){};n.prototype.DK=function(h,l){this.JUa[h]=[l,this.iz.Pra];};n.prototype.Xoc=function(h){return c.hAa.of(this.JUa[h]).map(function(l){return l[1];}).or(-1) < this.iz.Pra;};n.prototype.ckc=function(h){return c.hAa.of(this.JUa[h]).map(function(l){return l[0];}).or(function(){throw Error("Invalid State Error");});};Ga.Object.defineProperties(n.prototype,{k0b:{configurable:!0,enumerable:!0,get:function(){var h,l;if(this && this.iz && this.iz.data){h=this.iz.data[b.Nbb];"undefined" !== typeof h && (l=h.toString());h=this.j$.aVa(l);h=h instanceof f.Lt?!1:h;}else h=!1;return h;}}});e=n;b.yS=e;b.yS=e=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.At)()),t.__param(1,(0,g.At)())],e);Ia(d,e);d.prototype.lpb=function(h,l){this.ta.error("Invalid configuration value.",{name:h},l);this.debug.assert(!1);};a=d;b.Ef=a;b.Ef=a=t.__decorate([t.__param(0,(0,g.At)()),t.__param(1,(0,g.At)())],a);},80217:function(t,b,a){var g,f,e,h,l;function d(){this.IE={};this.NEb=0;}function n(k,m,p,r,q){this.debug=k;this.iz=m;this.j$=p;this.Vg=r;this.mra=q;}function c(k,m,p){this.iz=k;this.j$=m;this.mra=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Vxa=b.yDa=b.Uva=void 0;t=a(22970);g=a(22674);f=a(90597);e=a(87386);h=a(37187);l=a(17842);a=a(83767);b.Uva=c;b.Uva=c=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(a.YL)),t.__param(1,(0,g.l)(h.Vfa)),t.__param(2,(0,g.l)(l.PBa))],c);b.yDa=n;b.yDa=n=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(f.iD)),t.__param(1,(0,g.l)(a.YL)),t.__param(2,(0,g.l)(h.Vfa)),t.__param(3,(0,g.l)(e.wb)),t.__param(4,(0,g.l)(l.PBa))],n);d.prototype.ztc=function(k){this.IE=Object.assign({},this.IE,k);this.NEb++;};Ga.Object.defineProperties(d.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.IE;}},Pra:{configurable:!0,enumerable:!0,get:function(){return this.NEb;}}});a=d;b.Vxa=a;b.Vxa=a=t.__decorate([(0,g.Y)()],a);},33823:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r){m=f.Ef.call(this,m,void 0 === r?"GeneralConfigImpl":r) || this;m.Qf=p;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.mxa=b.sO=void 0;t=a(22970);n=a(5021);c=a(22674);g=a(12501);f=a(64174);e=a(34231);h=a(83767);a=a(5614);l={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.sO=function(m,p){return m.cDb(l[p] || p,e.xA);};Ia(d,f.Ef);Ga.Object.defineProperties(d.prototype,{sO:{configurable:!0,enumerable:!0,get:function(){return e.xA.dUb;}},MHb:{configurable:!0,enumerable:!0,get:function(){return (0,n.ci)(8);}},groupName:{configurable:!0,enumerable:!0,get:function(){return "";}},XU:{configurable:!0,enumerable:!0,get:function(){return "";}},uca:{configurable:!0,enumerable:!0,get:function(){return "";}},aia:{configurable:!0,enumerable:!0,get:function(){return !0;}},W7:{configurable:!0,enumerable:!0,get:function(){return this.Qf.W7;}},Idc:{configurable:!0,enumerable:!0,get:function(){return !1;}},Be:{configurable:!0,enumerable:!0,get:function(){return {};}},dQa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ix:{configurable:!0,enumerable:!0,get:function(){return !1;}},c6:{configurable:!0,enumerable:!0,get:function(){return !0;}},ZK:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},RE:{configurable:!0,enumerable:!0,get:function(){return 0 <= [e.xA.XCa,e.xA.Wxa].indexOf(this.sO);}}});k=d;b.mxa=k;t.__decorate([g.config(b.sO,"environment")],k.prototype,"sO",null);t.__decorate([g.config(g.hm,"storageTimeout")],k.prototype,"MHb",null);t.__decorate([g.config(g.string,"groupName")],k.prototype,"groupName",null);t.__decorate([g.config(g.string,"canaryGroupName",!0)],k.prototype,"XU",null);t.__decorate([g.config(g.string,"uiGroupName")],k.prototype,"uca",null);t.__decorate([g.config(g.fd,"applyIndexedDbOpenWorkaround")],k.prototype,"aia",null);t.__decorate([g.config(g.fd,"ignoreIdbOpenError")],k.prototype,"W7",null);t.__decorate([g.config(g.fd,"executeStorageMigration")],k.prototype,"Idc",null);t.__decorate([g.config(g.object(),"browserInfo")],k.prototype,"Be",null);t.__decorate([g.config(g.fd,"isTestAccount")],k.prototype,"dQa",null);t.__decorate([g.config(g.fd,"useRangeHeader")],k.prototype,"Ix",null);t.__decorate([g.config(g.fd,"enableMilestoneEventList")],k.prototype,"c6",null);t.__decorate([g.config(g.object,"storageRules")],k.prototype,"ZK",null);b.mxa=k=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(h.Fn)),t.__param(1,(0,c.l)(a.vT)),t.__param(2,(0,c.l)(h.Ida)),t.__param(2,(0,c.optional)())],k);},41605:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.O1a="CapabilityDetectorFactorySymbol";},22210:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ie=void 0;b.ie=a;a.wxa=/^hevc-/;a.x4a=/^hevc-main/;a.t4a=/^hevc-hdr-|hevc-dv/;a.Nk=/^hevc-hdr-/;a.Mk=/^hevc-dv/;a.qD=/h264mpl30/;a.ZG=/h264mpl31/;a.jda=/h264hpl.*-dash$/;a.z_a=/h264hpl.*-live$/;a.dj=/^av1-main/;a.ida=/^av1-hdr10plus/;a.yPb=/[l|L]4[0-1]-/;a.ucb=/-L5[0-1]-/;a.h6a=/-live/;a.iMb=/^heaac-2-/;a.PPb=/^heaac-2hq-dash/;a.Gn=/^xheaac-dash/;a.fOb=/ddplus-5/;a.gOb=/ddplus-atmos/;},73796:function(t,b,a){function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Tcb=b.N0a=b.Bc=void 0;t=a(75568);b.Bc=d;d.contentType=function(n){return "video/mp4;codecs=" + n;};d.SRa='video/mp4; codecs="avc1.4d0028"';d.Ntc='video/mp4; codecs="hev1.1.6.L93.B0"';d.Mtc='video/mp4;codecs="avc1,mp4a";features="audio-endpoint-codec=DD+JOC"';d.bD="avc1.4d0028";d.aD="avc1.640028";d.Lh="hev1.1.6.L93.B0";d.awa="dvhe.05.01";d.bwa="dvhe.05.04";d.cwa="dvhe.05.05";d.dwa="dvhe.05.06";d.ewa="dvhe.05.07";d.fwa="dvhe.05.09";d.Mk=d.awa;d.Nk=d.Lh;d.Bn="mp4a.40.5";d.Gn="mp4a.40.42";d.x0="ec-3";d.dj="av01.0.04M.08";d.Bv="av01.0.04M.10.0.112.09.16.09.0";a={};b.N0a=(a[t.Ic.Bn]=d.Bn,a[t.Ic.hea]=d.Bn,a[t.Ic.rD]=d.Bn,a[t.Ic.Gn]=d.Gn,a[t.Ic.NL]=d.x0,a[t.Ic.OL]=d.x0,a[t.Ic.PL]=d.x0,a);a={};b.Tcb=(a[t.H.qD]=d.bD,a[t.H.ZG]=d.bD,a[t.H.$G]=d.bD,a[t.H.txa]=d.bD,a[t.H.uxa]=d.bD,a[t.H.vxa]=d.bD,a[t.H.rxa]=d.aD,a[t.H.OS]=d.aD,a[t.H.PS]=d.aD,a[t.H.YG]=d.aD,a[t.H.sxa]=d.aD,a[t.H.S0]=d.aD,a[t.H.T0]=d.aD,a[t.H.QS]=d.aD,a[t.H.iea]=d.Lh,a[t.H.jea]=d.Lh,a[t.H.kea]=d.Lh,a[t.H.lea]=d.Lh,a[t.H.US]=d.Lh,a[t.H.VS]=d.Lh,a[t.H.m1]=d.Lh,a[t.H.p1]=d.Lh,a[t.H.t1]=d.Lh,a[t.H.w1]=d.Lh,a[t.H.n1]=d.Lh,a[t.H.q1]=d.Lh,a[t.H.u1]=d.Lh,a[t.H.x1]=d.Lh,a[t.H.z1]=d.Lh,a[t.H.B1]=d.Lh,a[t.H.l1]=d.Lh,a[t.H.o1]=d.Lh,a[t.H.r1]=d.Lh,a[t.H.v1]=d.Lh,a[t.H.y1]=d.Lh,a[t.H.A1]=d.Lh,a[t.H.y0]=d.Mk,a[t.H.A0]=d.Mk,a[t.H.IS]=d.Mk,a[t.H.D0]=d.Mk,a[t.H.F0]=d.Mk,a[t.H.H0]=d.Mk,a[t.H.Lda]=d.Mk,a[t.H.Mda]=d.Mk,a[t.H.Nda]=d.Mk,a[t.H.Oda]=d.Mk,a[t.H.z0]=d.Mk,a[t.H.B0]=d.Mk,a[t.H.C0]=d.Mk,a[t.H.E0]=d.Mk,a[t.H.G0]=d.Mk,a[t.H.I0]=d.Mk,a[t.H.W0]=d.Nk,a[t.H.Z0]=d.Nk,a[t.H.TS]=d.Nk,a[t.H.d1]=d.Nk,a[t.H.g1]=d.Nk,a[t.H.j1]=d.Nk,a[t.H.X0]=d.Nk,a[t.H.$0]=d.Nk,a[t.H.b1]=d.Nk,a[t.H.e1]=d.Nk,a[t.H.h1]=d.Nk,a[t.H.k1]=d.Nk,a[t.H.V0]=d.Nk,a[t.H.Y0]=d.Nk,a[t.H.a1]=d.Nk,a[t.H.c1]=d.Nk,a[t.H.f1]=d.Nk,a[t.H.i1]=d.Nk,a[t.H.zua]=d.dj,a[t.H.Aua]=d.dj,a[t.H.Cv]=d.dj,a[t.H.Dv]=d.dj,a[t.H.Ev]=d.dj,a[t.H.Fv]=d.dj,a[t.H.a0]=d.dj,a[t.H.b0]=d.dj,a[t.H.zL]=d.Bv,a[t.H.AL]=d.Bv,a[t.H.BL]=d.Bv,a[t.H.CL]=d.Bv,a[t.H.Z_]=d.Bv,a[t.H.$_]=d.Bv,a);},51259:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y;Object.defineProperty(b,"__esModule",{value:!0});b.My=void 0;t=a(22674);d=a(56800);n=a(4203);c=a(98960);g=a(1079);f=a(95162);e=a(57718);h=a(16152);l=a(79974);k=a(57657);m=a(41605);p=a(43466);r=a(22365);q=a(94800);u=a(74742);v=a(18580);w=a(63368);x=a(33430);y=a(78866);b.My=new t.je(function(A){A(f.HCa).to(e.GCa).pa();A(d.KS).to(c.pwa).pa();A(h.J5a).to(l.Zxa).pa();A(m.O1a).to(p.Lva).pa();A(h.T9a).Bo({isTypeSupported:r.kM && r.kM.isTypeSupported});A(k.L3a).gL(function(z){return {Ihc:function(){return z.Hb.get(w.ifa);}};});A(g.JS).gL(function(z){return z.Hb.get(n.Cc);});A(x.v7a).to(y.oza).pa();A(q.axa).to(u.$wa).pa();A(v.P$a).Bo(Ba);});},56800:function(t,b){var a,d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.KS=b.lJa=b.Jv=b.uq=b.eD=b.v=void 0;(function(g){g[g.Audio=0]="Audio";g[g.Ocb=1]="Video";})(a || (b.v=a={}));(function(g){g[g.jD=0]="Default";g[g.xD=1]="Microsoft";})(d || (b.eD=d={}));(function(g){g[g.jD=0]="Default";g[g.HS=1]="Chrome";g[g.xD=2]="Microsoft";})(n || (b.uq=n={}));(function(g){g[g.Cea=0]="Level_1_4";g[g.bM=1]="Level_2_2";})(c || (b.Jv=c={}));b.lJa=function(g,f){return g?{supported:!0}:{supported:!1,reason:f};};b.KS="DeviceCapabilitiesSymbol";},1079:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.JS=b.WOb=void 0;d=a(56800);b.WOb=function(){this.$H=[];this.Jh=[];this.io=[];this.Dgb=[];this.VGa=d.eD.jD;this.Wta=d.uq.jD;};b.JS="DeviceCapabilitiesConfigSymbol";},94800:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.axa=void 0;t=b.SL={};t.GVb="unknown";t.A_a="absent";t.O$a="present";t.Error="error";b.axa="ExternalDisplayLogHelperSymbol";},57657:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L3a="ExtraPlatformInfoProviderSymbol";},16152:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.J5a="IsTypeSupportedProviderFactorySymbol";b.T9a="PlatformIsTypeSupportedSymbol";},17612:function(t,b,a){var n,c,g,f;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.ub=void 0;n=a(53921);c=a(31149);g=a(36129);f=a(82100);d.Y6=function(e){if(e){if(e.includes("playready"))return n.cq.SY;if(e.includes("fps"))return n.cq.kW;if(e.includes("widevine"))return n.cq.MLb;}throw new c.ue(g.aa.iPb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + e);};d.xMa=function(e){switch(e){case n.cq.SY:return "playready";case n.cq.kW:return "fairplay";default:return "widevine";}};d.GPa=function(e){return e.includes("3000") || e.includes(f.wab.yA);};b.ub=d;d.APb="com.apple.fps.3_0";d.jga="com.widevine.alpha";d.IDa="com.widevine.alpha.experiment";d.EA="com.microsoft.playready.recommendation";d.ud="com.microsoft.playready.recommendation.3000";d.RTb="com.microsoft.playready.recommendation.2000";d.W9a="com.microsoft.playready.recommendation.3000.clearlead";d.J1=[d.ud,d.W9a];},33430:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.v7a="MediaCapabilitiesDetectorSymbol";},75568:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={qD:"playready-h264mpl30-dash",ZG:"playready-h264mpl31-dash",$G:"playready-h264mpl40-dash",txa:"h264mpl30-dash-playready-prk-qc",uxa:"h264mpl31-dash-playready-prk-qc",vxa:"h264mpl40-dash-playready-prk-qc",rxa:"playready-h264hpl22-dash",OS:"playready-h264hpl30-dash",PS:"playready-h264hpl31-dash",YG:"playready-h264hpl40-dash",sxa:"h264hpl22-dash-playready-live",S0:"h264hpl30-dash-playready-live",T0:"h264hpl31-dash-playready-live",QS:"h264hpl40-dash-playready-live",iea:"hevc-main10-L30-dash-cenc",jea:"hevc-main10-L31-dash-cenc",kea:"hevc-main10-L40-dash-cenc",lea:"hevc-main10-L41-dash-cenc",US:"hevc-main10-L50-dash-cenc",VS:"hevc-main10-L51-dash-cenc",m1:"hevc-main10-L30-dash-cenc-prk",p1:"hevc-main10-L31-dash-cenc-prk",t1:"hevc-main10-L40-dash-cenc-prk",w1:"hevc-main10-L41-dash-cenc-prk",n1:"hevc-main10-L30-dash-cenc-prk-do",q1:"hevc-main10-L31-dash-cenc-prk-do",u1:"hevc-main10-L40-dash-cenc-prk-do",x1:"hevc-main10-L41-dash-cenc-prk-do",z1:"hevc-main10-L50-dash-cenc-prk-do",B1:"hevc-main10-L51-dash-cenc-prk-do",l1:"hevc-main10-L30-dash-cenc-live",o1:"hevc-main10-L31-dash-cenc-live",r1:"hevc-main10-L40-dash-cenc-live",v1:"hevc-main10-L41-dash-cenc-live",y1:"hevc-main10-L50-dash-cenc-live",A1:"hevc-main10-L51-dash-cenc-live",y0:"hevc-dv5-main10-L30-dash-cenc-prk",A0:"hevc-dv5-main10-L31-dash-cenc-prk",IS:"hevc-dv5-main10-L40-dash-cenc-prk",D0:"hevc-dv5-main10-L41-dash-cenc-prk",F0:"hevc-dv5-main10-L50-dash-cenc-prk",H0:"hevc-dv5-main10-L51-dash-cenc-prk",Lda:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Mda:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Nda:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Oda:"hevc-dv5-main10-L51-dash-cenc-prk-qc",z0:"hevc-dv5-main10-L30-dash-cenc-prk-do",B0:"hevc-dv5-main10-L31-dash-cenc-prk-do",C0:"hevc-dv5-main10-L40-dash-cenc-prk-do",E0:"hevc-dv5-main10-L41-dash-cenc-prk-do",G0:"hevc-dv5-main10-L50-dash-cenc-prk-do",I0:"hevc-dv5-main10-L51-dash-cenc-prk-do",W0:"hevc-hdr-main10-L30-dash-cenc-prk",Z0:"hevc-hdr-main10-L31-dash-cenc-prk",TS:"hevc-hdr-main10-L40-dash-cenc-prk",d1:"hevc-hdr-main10-L41-dash-cenc-prk",g1:"hevc-hdr-main10-L50-dash-cenc-prk",j1:"hevc-hdr-main10-L51-dash-cenc-prk",X0:"hevc-hdr-main10-L30-dash-cenc-prk-do",$0:"hevc-hdr-main10-L31-dash-cenc-prk-do",b1:"hevc-hdr-main10-L40-dash-cenc-prk-do",e1:"hevc-hdr-main10-L41-dash-cenc-prk-do",h1:"hevc-hdr-main10-L50-dash-cenc-prk-do",k1:"hevc-hdr-main10-L51-dash-cenc-prk-do",V0:"hevc-hdr-main10-L30-dash-cenc-live",Y0:"hevc-hdr-main10-L31-dash-cenc-live",a1:"hevc-hdr-main10-L40-dash-cenc-live",c1:"hevc-hdr-main10-L41-dash-cenc-live",f1:"hevc-hdr-main10-L50-dash-cenc-live",i1:"hevc-hdr-main10-L51-dash-cenc-live",zua:"av1-main-L20-dash-cbcs-prk",Aua:"av1-main-L21-dash-cbcs-prk",Cv:"av1-main-L30-dash-cbcs-prk",Dv:"av1-main-L31-dash-cbcs-prk",Ev:"av1-main-L40-dash-cbcs-prk",Fv:"av1-main-L41-dash-cbcs-prk",a0:"av1-main-L50-dash-cbcs-prk",b0:"av1-main-L51-dash-cbcs-prk",zL:"av1-hdr10plus-main-L30-dash-cbcs-prk",AL:"av1-hdr10plus-main-L31-dash-cbcs-prk",BL:"av1-hdr10plus-main-L40-dash-cbcs-prk",CL:"av1-hdr10plus-main-L41-dash-cbcs-prk",Z_:"av1-hdr10plus-main-L50-dash-cbcs-prk",$_:"av1-hdr10plus-main-L51-dash-cbcs-prk"};b.mc={u0:[b.H.qD,b.H.ZG,b.H.$G],Y_:[b.H.OS,b.H.PS,b.H.YG],X_:[b.H.S0,b.H.T0,b.H.QS],v0:[b.H.iea,b.H.jea,b.H.kea,b.H.lea,b.H.US,b.H.VS],CS:[b.H.m1,b.H.p1,b.H.t1,b.H.w1,b.H.US,b.H.VS],DS:[b.H.n1,b.H.q1,b.H.u1,b.H.x1,b.H.z1,b.H.B1],Dda:[b.H.l1,b.H.o1,b.H.r1,b.H.v1,b.H.y1,b.H.A1],AS:[b.H.W0,b.H.Z0,b.H.TS,b.H.d1,b.H.g1,b.H.j1],BS:[b.H.X0,b.H.$0,b.H.b1,b.H.e1,b.H.h1,b.H.k1],Cda:[b.H.V0,b.H.Y0,b.H.a1,b.H.c1,b.H.f1,b.H.i1],z1a:[b.H.y0,b.H.IS,b.H.F0,b.H.A0,b.H.D0,b.H.H0],A1a:[b.H.z0,b.H.C0,b.H.G0,b.H.B0,b.H.E0,b.H.I0],Bva:[b.H.Cv,b.H.Dv,b.H.Ev,b.H.Fv,b.H.a0,b.H.b0],FNb:[b.H.zL,b.H.AL,b.H.BL,b.H.CL,b.H.Z_,b.H.$_]};b.Ic={Bn:"heaac-2-dash",hea:"heaac-5.1-dash",rD:"heaac-2hq-dash",Gn:"xheaac-dash",NL:"ddplus-5.1-dash",OL:"ddplus-5.1hq-dash",PL:"ddplus-atmos-dash"};b.rq={KUb:"simplesdh",Zva:"dfxp-ls-sdh",iga:"webvtt-lssdh-ios8",XPb:"imsc1.1",mT:"nflx-cmisc"};},18580:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.P$a="PresentationAPISymbol";},95162:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HCa="SourceBufferTypeProviderSymbol";},43466:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;function d(x,y,A,z,B,C,D,F){this.Oub=x;this.config=y;this.nd=A;this.Ia=z;this.is=B;this.Yu=C;this.Vu=D;this.JF=F;}Object.defineProperty(b,"__esModule",{value:!0});b.Lva=void 0;t=a(22970);n=a(22674);c=a(56800);g=a(16152);f=a(1079);e=a(92049);h=a(75456);l=a(46286);k=a(31741);m=a(53085);p=a(30869);r=a(42207);q=a(5180);u=a(21103);v=a(87386);a=a(33430);d.prototype.s8b=function(x){var y;y=this.Oub.flb();switch(x){case c.eD.xD:return new e.W7a(this.config,y,this.is,this.JF);default:return new k.Sda(this.config,y,this.JF);}};d.prototype.T9b=function(x){var y;y=this.Oub.flb();switch(x){case c.uq.HS:x=new q.T1a(this.config,y,this.is,this.Yu,this.Vu,this.Ia,this.JF);break;case c.uq.xD:x=new h.h7a(this.config,y,this.is,this.nd,this.Ia,this.JF,this.Yu);break;default:x=new l.QL(this.config,y,this.is,this.JF);}return x;};w=d;b.Lva=w;b.Lva=w=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.J5a)),t.__param(1,(0,n.l)(f.JS)),t.__param(2,(0,n.l)(m.Pk)),t.__param(3,(0,n.l)(p.di)),t.__param(4,(0,n.l)(r.ei)),t.__param(5,(0,n.l)(u.Ux)),t.__param(6,(0,n.l)(v.wb)),t.__param(7,(0,n.l)(a.v7a))],w);},65264:function(t,b,a){var n,c,g,f,e;function d(h,l,k,m){this.config=h;this.Ch=l;this.mediaType=k;this.JF=m;this.LRa={};this.LRa[n.v.Audio]="audio";this.LRa[n.v.Ocb]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.LL=void 0;n=a(56800);t=a(57180);c=a(22210);g=a(22365);f=a(7802);e=new t.FT().format;d.prototype.Urb=function(h){return this.Gac(this.Njc(this.xrb(),h));};d.prototype.WU=function(h){return this.Ch.isTypeSupported(h);};d.prototype.khc=function(){return [c.ie.iMb,c.ie.PPb,c.ie.qD,c.ie.ZG];};d.prototype.Enc=function(){this.kv=[];this.Vz=[];this.config().Cxc && this.Vz.push(c.ie.Gn);this.config().CAb && this.Vz.push(c.ie.x4a);this.config().BAb && this.Vz.push(c.ie.t4a);this.config().AAb && this.Vz.push(c.ie.Mk);this.config().yAb && this.Vz.push(c.ie.jda);this.config().zAb && this.Vz.push(c.ie.z_a);this.config().wAb && this.Vz.push(c.ie.dj);this.config().xAb && this.Vz.push(c.ie.ida);this.Vz=this.Vz.concat(this.khc());!this.config().Qcc && this.kv.push(c.ie.Gn);!this.config().a6 && this.kv.push(c.ie.fOb);!this.config().qka && this.kv.push(c.ie.gOb);!this.config().Bcc && this.kv.push(/prk$/);this.config().AAb || this.config().fcc || this.kv.push(c.ie.Mk);this.config().CAb || this.config().lcc || this.kv.push(c.ie.x4a);this.config().BAb || this.config().FKa || this.kv.push(c.ie.t4a);this.config().yAb || this.config().RV || this.kv.push(c.ie.jda);this.config().zAb || this.config().BKa || this.kv.push(c.ie.z_a);this.config().wAb || this.config().Vbc || this.kv.push(c.ie.dj);this.config().xAb || this.config().Wbc || this.kv.push(c.ie.ida);!this.config().Mcc && this.kv.push(c.ie.ucb);};d.prototype.Njc=function(h,l){var k;k=g.ng.hardwareConcurrency && g.ng.hardwareConcurrency;return h.filter(function(m){return void 0 !== m.minimumCores && k < m.minimumCores || void 0 !== m.restrictToUILabels && (void 0 === (null === l || void 0 === l?void 0:l.We) || !m.restrictToUILabels.includes(l.We))?!1:!0;}).map(function(m){return m.name;});};d.prototype.t6=function(h){var l,k;l=this;k=h.map(function(m){for(var p=Ea(l.Vz),r=p.next();!r.done;r=p.next())if(r.value.test(m))return Promise.resolve({supported:!0});p=Ea(l.kv);for(r=p.next();!r.done;r=p.next())if(r.value.test(m))return Promise.resolve({supported:!1,reason:"excluded"});return l.s6(m).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(k).then(function(m){return new f.pfa(h,m);});};d.prototype.s6=function(h){var l;l=this;return this.XPa(h).then(function(k){return k.supported?l.config().wcc?l.JF.s6(h):l.tLa(h):k;});};d.prototype.tLa=function(h){var l;h=this.IUa[h];l="";return h?(Array.isArray(h) && (l=1 < h.length?" " + h[1]:"",h=h[0]),h=e("{0}/mp4;codecs={1};{2}",this.LRa[this.mediaType],h,l),this.WU(h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};d.prototype.Gac=function(h){this.Enc();return this.t6(h);};d.prototype.XPa=function(){return Promise.resolve({supported:!0});};Ga.Object.defineProperties(d.prototype,{IUa:{configurable:!0,enumerable:!0,get:function(){this.Seb || (this.Seb=this.Jy());return this.Seb;}}});b.LL=d;},5180:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p,r,q,u){l=n.QL.call(this,l,k,m,u) || this;l.Yu=p;l.Vu=r;l.Ia=q;l.JF=u;l.type=c.uq.HS;l.log=l.Vu.qb("ChromeVideoCapabilityDetector");return l;}Object.defineProperty(b,"__esModule",{value:!0});b.T1a=void 0;n=a(46286);c=a(56800);g=a(5021);f=a(82100);e=a(22210);h=a(17612);Ia(d,n.QL);d.prototype.JR=function(l){switch(l){case c.Jv.bM:return this.VJc;default:return Promise.resolve(!1);}};d.prototype.n7=function(){var l;l=this;return this.JR(c.Jv.bM).then(function(k){return k?c.Jv.bM:void 0;}).then(function(k){return l.rja(k);});};d.prototype.gGa=function(l){this.Nz=l;};d.prototype.sKb=function(){var l;if(this.Nz){l=this.Rsb && this.Ssb && this.Rsb.ca(this.Ssb).la(g.wa);this.Nz.itshdcp=JSON.stringify({hdcp2:this.bz,time2:l});}};d.prototype.XPa=function(l){var k;k=this;return this.Yu.RI().then(function(m){var p;p=(0,f.bNa)(m);m=h.ub.J1.includes(m.keySystem);p=p === f.yA || m;return [e.ie.jda,e.ie.dj,e.ie.ida].some(function(r){return r.test(l);}) && !e.ie.h6a.test(l) && k.config().Gtc && p?{supported:!1,reason:"mcclearen-restricted"}:!p && e.ie.wxa.test(l) || e.ie.yPb.test(l) && !(k.config().kcc || k.config().jcc && p) || e.ie.ucb.test(l) && !p?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ga.Object.defineProperties(d.prototype,{VJc:{configurable:!0,enumerable:!0,get:function(){var l;l=this;this.nYa || (this.config().ncc?this.nYa=this.Yu.RI().then(function(k){if(!h.ub.GPa(k.BJ))return (l.bz="not HW_SECURE_ALL",l.log.trace("hdcpStatus: " + l.bz),!1);l.Ssb=l.Ia.gg;return k.createMediaKeys().then(function(m){if(m.getStatusForPolicy)return m.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){l.Rsb=l.Ia.gg;l.bz=p;l.log.trace("hdcpStatus: " + l.bz);return "usable" === l.bz;});l.bz="not available";l.log.trace("hdcpStatus: " + l.bz);return !1;});}).catch(function(k){l.bz="exception";l.log.error("Exception in supportsHdcpLevel",{hdcpStatus:l.bz},k);return !1;}).then(function(k){l.sKb();return k;}):(this.bz="not enabled",this.log.trace("hdcpStatus: " + this.bz),this.sKb(),this.nYa=Promise.resolve(!1)));return this.nYa;}}});b.T1a=d;},31741:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m){m=c.LL.call(this,l,k,n.v.Audio,m) || this;m.config=l;m.Ch=k;m.type=n.eD.jD;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Sda=void 0;n=a(56800);c=a(65264);g=a(73796);t=a(57180);f=a(12187);e=a(7802);h=new t.FT().format;Ia(d,c.LL);d.prototype.ita=function(){var l;l=h(d.Cta,g.Bc.x0);return Promise.resolve(this.config().a6 && this.Ch.isTypeSupported(l));};d.prototype.Nba=function(){var l;l=h(d.Cta,g.Bc.x0);return Promise.resolve(this.config().qka && this.Ch.isTypeSupported(l));};d.prototype.Jy=function(){return f.mwa.Jy();};d.prototype.xrb=function(){return this.config().$H;};d.prototype.t6=function(l){return this.config().zxc?Promise.resolve(new e.pfa(l,l.map(function(){return {supported:!0};}))):c.LL.prototype.t6.call(this,l);};b.Sda=d;d.Cta="audio/mp4;codecs={0};";},12187:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.mwa=void 0;n=a(75568);d.Jy=function(){var c;c={};return (c[n.Ic.Bn]="mp4a.40.2",c[n.Ic.hea]="mp4a.40.2",c[n.Ic.rD]="mp4a.40.2",c[n.Ic.Gn]="mp4a.40.42",c[n.Ic.NL]="ec-3",c[n.Ic.OL]="ec-3",c[n.Ic.PL]="ec-3",c);};b.mwa=d;},46286:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p){var r;r=g.LL.call(this,l,k,n.v.Ocb,p) || this;r.config=l;r.Ch=k;r.is=m;r.xoa=p;r.type=n.uq.jD;return r;}Object.defineProperty(b,"__esModule",{value:!0});b.QL=void 0;n=a(56800);c=a(75568);g=a(65264);f=a(48617);e=a(45266);h=a(7802);Ia(d,g.LL);d.prototype.JR=function(){return Promise.resolve(!1);};d.prototype.d7=function(){return Promise.resolve("");};d.prototype.Oba=function(){return this.config().FKa?this.xoa.FPa()?this.xoa.s6(c.H.TS).then(function(l){return {result:l.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};d.prototype.jta=function(){return this.config().FKa?this.xoa.FPa()?this.xoa.s6(c.H.IS).then(function(l){return {result:l.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};d.prototype.Pba=function(){return Promise.resolve(!1);};d.prototype.gGa=function(){};d.prototype.qsc=function(l){switch(l){case n.Jv.Cea:return "1.4";case n.Jv.bM:return "2.2";}};d.prototype.Jy=function(){return f.nwa.Jy();};d.prototype.xrb=function(){var k;function l(m,p){return (0,e.WJb)(function(r,q){return r.name === q.name;},m,p);}k=l(this.config().Dgb,this.config().Jh);return l(k,this.config().io);};d.prototype.n7=function(){return Promise.resolve(void 0);};d.prototype.rja=function(l){var k;k=[];this.is.Xh(l) && k.push(this.qsc(l));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:k,isHdcpEngaged:!!k.length}];};d.prototype.t6=function(l){return this.config().Axc?Promise.resolve(new h.pfa(l,l.map(function(){return {supported:!0};}))):g.LL.prototype.t6.call(this,l);};b.QL=d;},48617:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.nwa=void 0;n=a(75568);c=a(73796);d.Jy=function(){var g;g={};return (g[n.H.qD]="avc1.4D401E",g[n.H.ZG]="avc1.4D401F",g[n.H.$G]="avc1.4D4028",g[n.H.txa]="avc1.4D401E",g[n.H.uxa]="avc1.4D401F",g[n.H.vxa]="avc1.4D4028",g[n.H.iea]="hev1.2.6.L90.B0",g[n.H.jea]="hev1.2.6.L93.B0",g[n.H.kea]="hev1.2.6.L120.B0",g[n.H.lea]="hev1.2.6.L123.B0",g[n.H.m1]="hev1.2.6.L90.B0",g[n.H.p1]="hev1.2.6.L93.B0",g[n.H.t1]="hev1.2.6.L120.B0",g[n.H.w1]="hev1.2.6.L123.B0",g[n.H.US]="hev1.2.6.L150.B0",g[n.H.VS]="hev1.2.6.L153.B0",g[n.H.n1]="hev1.2.6.L90.B0",g[n.H.q1]="hev1.2.6.L93.B0",g[n.H.u1]="hev1.2.6.L120.B0",g[n.H.x1]="hev1.2.6.L123.B0",g[n.H.z1]="hev1.2.6.L150.B0",g[n.H.B1]="hev1.2.6.L153.B0",g[n.H.l1]="hev1.2.6.L90.B0",g[n.H.o1]="hev1.2.6.L93.B0",g[n.H.r1]="hev1.2.6.L120.B0",g[n.H.v1]="hev1.2.6.L123.B0",g[n.H.y1]="hev1.2.6.L150.B0",g[n.H.A1]="hev1.2.6.L153.B0",g[n.H.W0]="hev1.2.6.L90.B0",g[n.H.Z0]="hev1.2.6.L93.B0",g[n.H.TS]="hev1.2.6.L120.B0",g[n.H.d1]="hev1.2.6.L123.B0",g[n.H.g1]="hev1.2.6.L150.B0",g[n.H.j1]="hev1.2.6.L153.B0",g[n.H.X0]="hev1.2.6.L90.B0",g[n.H.$0]="hev1.2.6.L93.B0",g[n.H.b1]="hev1.2.6.L120.B0",g[n.H.e1]="hev1.2.6.L123.B0",g[n.H.h1]="hev1.2.6.L150.B0",g[n.H.k1]="hev1.2.6.L153.B0",g[n.H.V0]="hev1.2.6.L90.B0",g[n.H.Y0]="hev1.2.6.L93.B0",g[n.H.a1]="hev1.2.6.L120.B0",g[n.H.c1]="hev1.2.6.L123.B0",g[n.H.f1]="hev1.2.6.L150.B0",g[n.H.i1]="hev1.2.6.L153.B0",g[n.H.y0]=c.Bc.awa,g[n.H.A0]=c.Bc.bwa,g[n.H.IS]=c.Bc.cwa,g[n.H.D0]=c.Bc.dwa,g[n.H.F0]=c.Bc.ewa,g[n.H.H0]=c.Bc.fwa,g[n.H.Lda]=c.Bc.cwa,g[n.H.Mda]=c.Bc.dwa,g[n.H.Nda]=c.Bc.ewa,g[n.H.Oda]=c.Bc.fwa,g[n.H.z0]=c.Bc.awa,g[n.H.B0]=c.Bc.bwa,g[n.H.C0]=c.Bc.cwa,g[n.H.E0]=c.Bc.dwa,g[n.H.G0]=c.Bc.ewa,g[n.H.I0]=c.Bc.fwa,g[n.H.rxa]="avc1.640016",g[n.H.OS]="avc1.64001E",g[n.H.PS]="avc1.64001F",g[n.H.YG]="avc1.640028",g[n.H.sxa]="avc1.640016",g[n.H.S0]="avc1.64001E",g[n.H.T0]="avc1.64001F",g[n.H.QS]="avc1.640028",g[n.H.zua]=c.Bc.dj,g[n.H.Aua]=c.Bc.dj,g[n.H.Cv]=c.Bc.dj,g[n.H.Dv]=c.Bc.dj,g[n.H.Ev]=c.Bc.dj,g[n.H.Fv]=c.Bc.dj,g[n.H.a0]=c.Bc.dj,g[n.H.b0]=c.Bc.dj,g[n.H.zL]=c.Bc.Bv,g[n.H.AL]=c.Bc.Bv,g[n.H.BL]=c.Bc.Bv,g[n.H.CL]=c.Bc.Bv,g[n.H.Z_]=c.Bc.Bv,g[n.H.$_]=c.Bc.Bv,g);};b.nwa=d;},98960:function(t,b,a){var n,c,g,f;function d(e,h,l){this.config=e;this.Lib=h;this.Yyc=l;}Object.defineProperty(b,"__esModule",{value:!0});b.pwa=void 0;t=a(22970);n=a(1079);c=a(22674);g=a(57657);a=a(41605);d.prototype.Trb=function(e){return this.fMa().Urb(e);};d.prototype.Vrb=function(e){return this.WI().Urb(e);};d.prototype.fMa=function(){this.UGa && this.UGa.type == this.config().VGa || (this.UGa=this.Lib.s8b(this.config().VGa));return this.UGa;};d.prototype.WI=function(){this.Vta && this.Vta.type == this.config().Wta || (this.Vta=this.Lib.T9b(this.config().Wta),this.Vta.gGa(this.Yyc.Ihc()));return this.Vta;};d.prototype.JR=function(e){return this.WI().JR(e);};d.prototype.WU=function(e){return this.WI().WU(e);};d.prototype.d7=function(){return this.WI().d7();};d.prototype.Oba=function(){return this.WI().Oba();};d.prototype.ita=function(){return this.fMa().ita();};d.prototype.Nba=function(){return this.fMa().Nba();};d.prototype.jta=function(){return this.WI().jta();};d.prototype.Pba=function(){return this.WI().Pba();};d.prototype.n7=function(){return this.WI().n7();};f=d;b.pwa=f;b.pwa=f=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(n.JS)),t.__param(1,(0,c.l)(a.O1a)),t.__param(2,(0,c.l)(g.L3a))],f);},74742:function(t,b,a){var n,c,g;function d(f){this.kAc=f;}Object.defineProperty(b,"__esModule",{value:!0});b.$wa=void 0;t=a(22970);n=a(22674);c=a(94800);a=a(18580);d.prototype.mec=function(){var f,e;f={hW:c.SL.GVb};try{e=this.kAc.PresentationRequest;e && (new e("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var l;f.hW=h.value?c.SL.O$a:c.SL.A_a;if(f.hW === c.SL.A_a){l=function(){h.value && (f.hW=c.SL.O$a);h.removeEventListener("change",l);};h.addEventListener("change",l);}}).catch(function(){f.hW=c.SL.Error;});}catch(h){f.hW=c.SL.Error;}return f;};g=d;b.$wa=g;b.$wa=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.P$a))],g);},79974:function(t,b,a){var n,c,g,f,e;function d(h,l){this.config=h;this.S$b=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Zxa=void 0;t=a(22970);n=a(22674);c=a(16152);g=a(1079);f=a(56800);e=a(40290);d.prototype.flb=function(){switch(this.config().Wta){case f.uq.xD:return e.eH.X8b();default:return this.S$b;}};a=d;b.Zxa=a;b.Zxa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.JS)),t.__param(1,(0,n.l)(c.T9a))],a);},75456:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A;function d(z,B,C,D,F,H,E){z=c.QL.call(this,z,B,C,H) || this;z.nd=D;z.Ia=F;z.JF=H;z.Yu=E;z.type=g.uq.xD;z.FS="hvc1";z.Eva="avc1";z.Zyc={};z.LIc();return z;}Object.defineProperty(b,"__esModule",{value:!0});b.h7a=void 0;n=a(75568);c=a(46286);g=a(56800);f=a(17612);e=a(5021);h=a(73796);l=a(40290);k=a(22210);m=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");p=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");r=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");q=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");x=["hdcp=1"];y=["hdcp=2"];A=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");Ia(d,c.QL);d.prototype.JR=function(z){switch(z){case g.Jv.Cea:return this.WJc();case g.Jv.bM:return this.aaa;default:return Promise.resolve(!1);}};d.prototype.d7=function(){return this.Yu.RI().then(function(z){return z.keySystem;});};d.prototype.Oba=function(){return Promise.resolve({result:this.tIb(),reason:"is-type-supported"});};d.prototype.Pba=function(){return this.mYa && this.uIb()?this.aaa:Promise.resolve(!1);};d.prototype.jta=function(){return Promise.resolve(this.sIb()).then(function(z){return {result:z,reason:"isTypeSupportedWithFeatures"};});};d.prototype.gGa=function(z){this.Nz=z;Object.assign(this.Nz,this.Zyc);z.itshwdrm=this.mYa;z.itsqhd=this.XJc();z.itshevc=this.uIb();z.itshdr=this.tIb();z.itsdv=this.sIb();z.itsav1=this.UJc();z.itshevccl=this.vIb();z.itsavccl=this.qIb();z.itsdd=this.lYa("DD");z.itsddjoc=this.lYa("DD+JOC");z.itspcm51=this.lYa("PCM5.1");this.uZa();};d.prototype.n7=function(){var z;z=this;return this.JR(g.Jv.bM).then(function(B){return B?z.rja(g.Jv.bM):z.JR(g.Jv.Cea).then(function(C){return C?z.rja(g.Jv.Cea):z.rja(void 0);});});};d.prototype.tLa=function(z){var B;B=this;return this.d7().then(function(C){var D,F,H;D=B.IUa[z];if(D){F=[];if(B.is.ks(D))H=D;else (F=D.features,H=D.Od,C=D.keySystem);return B.qu(C,H,F)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};d.prototype.Jy=function(){var z;z=c.QL.prototype.Jy.call(this);z[n.H.n1]=z[n.H.m1]=z[n.H.l1]={Od:"hev1.2.6.L90.B0",keySystem:f.ub.ud,features:p};z[n.H.q1]=z[n.H.p1]=z[n.H.o1]={Od:"hev1.2.6.L93.B0",keySystem:f.ub.ud,features:p};z[n.H.u1]=z[n.H.t1]=z[n.H.r1]={Od:"hev1.2.6.L120.B0",keySystem:f.ub.ud,features:p};z[n.H.x1]=z[n.H.w1]=z[n.H.v1]={Od:"hev1.2.6.L123.B0",keySystem:f.ub.ud,features:p};z[n.H.z1]=z[n.H.US]=z[n.H.y1]={Od:"hev1.2.6.L150.B0",keySystem:f.ub.ud,features:p};z[n.H.B1]=z[n.H.VS]=z[n.H.A1]={Od:"hev1.2.6.L153.B0",keySystem:f.ub.ud,features:p};z[n.H.X0]=z[n.H.W0]=z[n.H.V0]={Od:"hev1.2.6.L90.B0",keySystem:f.ub.ud,features:q};z[n.H.$0]=z[n.H.Z0]=z[n.H.Y0]={Od:"hev1.2.6.L93.B0",keySystem:f.ub.ud,features:q};z[n.H.b1]=z[n.H.TS]=z[n.H.a1]={Od:"hev1.2.6.L120.B0",keySystem:f.ub.ud,features:q};z[n.H.e1]=z[n.H.d1]=z[n.H.c1]={Od:"hev1.2.6.L123.B0",keySystem:f.ub.ud,features:u};z[n.H.h1]=z[n.H.g1]=z[n.H.f1]={Od:"hev1.2.6.L150.B0",keySystem:f.ub.ud,features:u};z[n.H.k1]=z[n.H.j1]=z[n.H.i1]={Od:"hev1.2.6.L153.B0",keySystem:f.ub.ud,features:u};z[n.H.z0]=z[n.H.y0]={Od:"hev1.2.6.L90.B0",keySystem:f.ub.ud,features:v};z[n.H.B0]=z[n.H.A0]={Od:"hev1.2.6.L93.B0",keySystem:f.ub.ud,features:v};z[n.H.C0]=z[n.H.Lda]=z[n.H.IS]={Od:"hev1.2.6.L120.B0",keySystem:f.ub.ud,features:v};z[n.H.E0]=z[n.H.Mda]=z[n.H.D0]={Od:"hev1.2.6.L123.B0",keySystem:f.ub.ud,features:w};z[n.H.G0]=z[n.H.Nda]=z[n.H.F0]={Od:"hev1.2.6.L150.B0",keySystem:f.ub.ud,features:w};z[n.H.I0]=z[n.H.Oda]=z[n.H.H0]={Od:"hev1.2.6.L153.B0",keySystem:f.ub.ud,features:w};z[n.H.Cv]={Od:"av01.0.04M.10",keySystem:f.ub.ud,features:m};z[n.H.Dv]={Od:"av01.0.05M.10",keySystem:f.ub.ud,features:m};z[n.H.Ev]={Od:"av01.0.08M.10",keySystem:f.ub.ud,features:m};z[n.H.Fv]={Od:"av01.0.09M.10",keySystem:f.ub.ud,features:m};z[n.H.a0]={Od:"av01.0.12M.10",keySystem:f.ub.ud,features:r};z[n.H.b0]={Od:"av01.0.13M.10",keySystem:f.ub.ud,features:r};z[n.H.zL]={Od:"av01.0.04M.10.0.112.09.16.09.0",keySystem:f.ub.ud,features:m};z[n.H.AL]={Od:"av01.0.05M.10.0.112.09.16.09.0",keySystem:f.ub.ud,features:m};z[n.H.BL]={Od:"av01.0.08M.10.0.112.09.16.09.0",keySystem:f.ub.ud,features:m};z[n.H.CL]={Od:"av01.0.09M.10.0.112.09.16.09.0",keySystem:f.ub.ud,features:m};z[n.H.Z_]={Od:"av01.0.12M.10.0.112.09.16.09.0",keySystem:f.ub.ud,features:r};z[n.H.$_]={Od:"av01.0.13M.10.0.112.09.16.09.0",keySystem:f.ub.ud,features:r};return z;};d.prototype.qu=function(z,B,C){z=l.eH.sja(z,B,C);return this.WU(z);};d.prototype.XJc=function(){return this.qu(f.ub.ud,this.FS,p);};d.prototype.tIb=function(){return this.qu(f.ub.ud,this.FS,q);};d.prototype.sIb=function(){return this.qu(f.ub.ud,this.FS,v);};d.prototype.UJc=function(){return this.qu(f.ub.ud,h.Bc.dj,m);};d.prototype.uIb=function(){return this.qu(f.ub.ud,this.FS,r);};d.prototype.vIb=function(){return this.qu(f.ub.ud,this.FS,A);};d.prototype.qIb=function(){return this.qu(f.ub.ud,this.Eva,A);};d.prototype.lYa=function(z){return this.qu(f.ub.EA,this.Eva,["audio-endpoint-codec=" + z]);};d.prototype.WJc=function(){var z;z=this;return this.aaa.then(function(B){return B?Promise.resolve(B):z.FCb;});};d.prototype.uZa=function(){this.Nz && (this.Nz.itshdcp=JSON.stringify({hdcp1:this.Psb,time1:this.NIb - this.BHb,hdcp2:this.Qsb,time2:this.OIb - this.CHb}));};d.prototype.LIc=function(){var z;z=this;this.mYa?(this.aaa=this.prb(this.config().Txb,this.config().Itc,function(){var B;B=z.aic();return ["maybe" !== B,B];}).then(function(B){return "probably" === B;}),this.FCb=this.aaa.then(function(B){return B?!0:z.prb(z.config().Txb,z.config().Htc,function(){var C;C=z.$hc();return ["maybe" !== C,C];}).then(function(C){return "probably" === C;});})):(this.FCb=Promise.resolve(!0),this.aaa=Promise.resolve(!1));};d.prototype.prb=function(z,B,C){var D;D=this;return new Promise(function(F){var H,E,G,K;H=Ea(C());E=H.next().value;H=H.next().value;if(E)return F(H);G=D.nd.jR((0,e.ac)(z),function(){var N,I;N=Ea(C());I=N.next().value;N=N.next().value;I && (G.cancel(),K.cancel(),F(N));});K=D.nd.Kp((0,e.ac)(B),function(){G.cancel();K.cancel();F("timeout");});});};d.prototype.$hc=function(){var z;z=l.eH.sja(f.ub.EA,this.Eva,x).split("|");this.Psb=l.eH.kta(z[0],z[1]);this.NIb=this.Ia.gg.la(e.wa);this.BHb=this.BHb || this.NIb;this.uZa();return this.Psb;};d.prototype.aic=function(){var z;z=l.eH.sja(f.ub.EA,this.FS,y).split("|");this.Qsb=l.eH.kta(z[0],z[1]);this.OIb=this.Ia.gg.la(e.wa);this.CHb=this.CHb || this.OIb;this.uZa();return this.Qsb;};d.prototype.XPa=function(z){var B;B=this;return this.d7().then(function(C){if(C === f.ub.ud){if(k.ie.jda.test(z))return (0,g.lJa)(B.qIb(),"ms-restricted");if(k.ie.wxa.test(z))return (0,g.lJa)(B.vIb(),"ms-restricted");if([k.ie.dj,k.ie.ida].some(function(D){return D.test(z);}) && !k.ie.h6a.test(z))return {supported:!1,reason:"ms-restricted"};}return {supported:!0};});};Ga.Object.defineProperties(d.prototype,{mYa:{configurable:!0,enumerable:!0,get:function(){try{return this.WU(f.ub.ud + "|" + h.Bc.SRa);}catch(z){return !1;}}}});b.h7a=d;},78866:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x){this.config=q;this.navigator=u;this.Vu=v;this.cx=w;this.cB=x;this.YGa={};this.lLb={};this.rGa={};this.log=this.Vu.qb("MediaCapabilityDetector");this.YGa=this.r8b();this.lLb=this.S9b();q={};this.vgb=(q[this.YGa[c.Ic.Gn].contentType]=this.cB.decode(r.P0a),q);}Object.defineProperty(b,"__esModule",{value:!0});b.oza=void 0;t=a(22970);n=a(22674);c=a(75568);g=a(87386);f=a(63368);e=a(21103);h=a(1079);l=a(82100);k=a(22365);m=a(73796);p=a(2248);r=a(33096);d.prototype.s6=function(q){var u;u=this;return this.cx.RI().then(function(v){return u.Aec(q,v);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};d.prototype.yoc=function(q){return !!q.colorGamut || !!q.hdrMetadataType || !!q.transferFunction;};d.prototype.FPa=function(){return Ba.matchMedia("(dynamic-range: high)").matches || Ba.matchMedia("(video-dynamic-range: high)").matches || this.config().Bxc;};d.prototype.Aec=function(q,u){var v,w,x;try{v={type:"media-source"};w=this.YGa[q];x=this.lLb[q];if(w)v.audio=w;else if(x){v.video=x;if(this.yoc(x) && !this.FPa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});u && (v.keySystemConfiguration=this.sic(u));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.D4b(v),this.B4b((w || x).contentType)]).then(function(y){var A;A=Ea(y);y=A.next().value;A=A.next().value;return y?A?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(y){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",y),Promise.resolve({supported:!1,reason:"mc-exception"}));}};d.prototype.D4b=function(q){var u;u=this;return this.navigator.mediaCapabilities.decodingInfo(q).then(function(v){var w;v.configuration || (v.configuration=q);w=u.ppc(q,v);w?u.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(v)):u.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(v));return w;}).catch(function(v){u.log.error("mediaCapabilities.decodingInfo failed",v);return !1;});};d.prototype.B4b=function(q){var u;u=this;if(!this.config().xcc)return Promise.resolve(!0);this.rGa[q] || (this.rGa[q]=new Promise(function(v){var w;try{w=new k.kM();document.createElement("video").src=URL.createObjectURL(w);w.addEventListener("sourceopen",function(){var x;try{x=w.addSourceBuffer(q);u.vgb[q]?(x.addEventListener("updateend",function(){u.log.trace("addSourceBuffer updateend for " + q);v(!0);}),x.addEventListener("error",function(){u.log.warn("addSourceBuffer error for " + q);v(!1);}),x.appendBuffer(u.vgb[q])):(u.log.trace("addSourceBuffer succeeded for " + q),v(!0));}catch(y){u.log.warn("addSourceBuffer failed",y);v(!1);}});}catch(x){u.log.warn("addSourceBuffer failed",x);v(!1);}}));return this.rGa[q];};d.prototype.sic=function(q){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:q.keySystem},(q=(0,l.bNa)(q)) && (this.keySystemConfiguration.video={robustness:q}));return this.keySystemConfiguration;};d.prototype.r8b=function(){var q,u;q={};u={contentType:"audio/mp4;codecs=" + m.Bc.Bn};q[c.Ic.Bn]=u;q[c.Ic.hea]=u;q[c.Ic.rD]=u;q[c.Ic.Gn]={contentType:"audio/mp4;codecs=" + m.Bc.Gn};u={contentType:"audio/mp4;codecs=ec-3",spatialRendering:!0};q[c.Ic.NL]=u;q[c.Ic.OL]=u;q[c.Ic.PL]=u;return q;};d.prototype.S9b=function(){var q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P;q={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};u={contentType:'video/mp4; codecs="' + m.Bc.bwa + '"'};v={width:1920,height:1080};w={width:3840,height:2160};x=Object.assign(Object.assign({},v),{bitrate:12E6,framerate:30});y=Object.assign(Object.assign({},v),{bitrate:2E7,framerate:60});A=Object.assign(Object.assign({},w),{bitrate:25E6,framerate:30});z=Object.assign(Object.assign({},w),{bitrate:4E7,framerate:60});B={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};C={colorGamut:"rec2020",transferFunction:"pq"};w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),x);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),x);D=Object.assign(Object.assign({},q),x);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),y);H=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),A);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),z);G=Object.assign(Object.assign(Object.assign({},q),x),B);K=Object.assign(Object.assign(Object.assign({},q),y),B);N=Object.assign(Object.assign(Object.assign({},q),A),B);q=Object.assign(Object.assign(Object.assign({},q),z),B);I=Object.assign(Object.assign(Object.assign({},u),x),C);L=Object.assign(Object.assign(Object.assign({},u),y),C);O=Object.assign(Object.assign(Object.assign({},u),A),C);u=Object.assign(Object.assign(Object.assign({},u),z),C);C=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),x);J=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),y);Q=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),A);P=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),z);x=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10.0.112.09.16.09.0"'}),x),B);y=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10.0.112.09.16.09.0"'}),y),B);A=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10.0.112.09.16.09.0"'}),A),B);z=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10.0.112.09.16.09.0"'}),z),B);B={};return (B[c.H.qD]=w,B[c.H.ZG]=w,B[c.H.$G]=w,B[c.H.txa]=w,B[c.H.uxa]=w,B[c.H.vxa]=w,B[c.H.rxa]=v,B[c.H.OS]=v,B[c.H.PS]=v,B[c.H.YG]=v,B[c.H.sxa]=v,B[c.H.S0]=v,B[c.H.T0]=v,B[c.H.QS]=v,B[c.H.iea]=D,B[c.H.jea]=D,B[c.H.kea]=D,B[c.H.lea]=F,B[c.H.m1]=D,B[c.H.p1]=D,B[c.H.t1]=D,B[c.H.w1]=F,B[c.H.US]=H,B[c.H.VS]=E,B[c.H.n1]=D,B[c.H.q1]=D,B[c.H.u1]=D,B[c.H.x1]=F,B[c.H.z1]=H,B[c.H.B1]=E,B[c.H.l1]=D,B[c.H.o1]=D,B[c.H.r1]=D,B[c.H.v1]=F,B[c.H.y1]=H,B[c.H.A1]=E,B[c.H.W0]=G,B[c.H.Z0]=G,B[c.H.TS]=G,B[c.H.d1]=K,B[c.H.g1]=N,B[c.H.j1]=q,B[c.H.X0]=G,B[c.H.$0]=G,B[c.H.b1]=G,B[c.H.e1]=K,B[c.H.h1]=N,B[c.H.k1]=q,B[c.H.V0]=G,B[c.H.Y0]=G,B[c.H.a1]=G,B[c.H.c1]=K,B[c.H.f1]=N,B[c.H.i1]=q,B[c.H.y0]=I,B[c.H.A0]=I,B[c.H.IS]=I,B[c.H.D0]=L,B[c.H.F0]=O,B[c.H.H0]=u,B[c.H.Lda]=I,B[c.H.Mda]=L,B[c.H.Nda]=O,B[c.H.Oda]=u,B[c.H.z0]=I,B[c.H.B0]=I,B[c.H.C0]=I,B[c.H.E0]=L,B[c.H.G0]=O,B[c.H.I0]=u,B[c.H.zua]=C,B[c.H.Aua]=C,B[c.H.Cv]=C,B[c.H.Dv]=C,B[c.H.Ev]=C,B[c.H.Fv]=J,B[c.H.a0]=Q,B[c.H.b0]=P,B[c.H.zL]=x,B[c.H.AL]=x,B[c.H.BL]=x,B[c.H.CL]=y,B[c.H.Z_]=A,B[c.H.$_]=z,B);};d.prototype.ppc=function(q,u){return q.video && this.config().Hzc?u.supported && u.powerEfficient:u.supported;};a=d;b.oza=a;b.oza=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(h.JS)),t.__param(1,(0,n.l)(f.n2)),t.__param(2,(0,n.l)(g.wb)),t.__param(3,(0,n.l)(e.Ux)),t.__param(4,(0,n.l)(p.yl))],a);},92049:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p){l=f.Sda.call(this,l,k,p) || this;l.is=m;l.type=n.eD.xD;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.W7a=void 0;n=a(56800);c=a(75568);g=a(17612);f=a(31741);e=a(40290);h=a(73796);Ia(d,f.Sda);d.prototype.ita=function(){return Promise.resolve(this.config().a6 && this.qu(g.ub.EA,"avc1",["audio-endpoint-codec=DD+JOC"]));};d.prototype.Nba=function(){return Promise.resolve(this.config().qka && this.qu(g.ub.EA,"avc1",["audio-endpoint-codec=DD+JOC"]));};d.prototype.Jy=function(){var l,k;l={Od:"avc1",keySystem:g.ub.EA,features:["audio-endpoint-codec=DD+JOC"]};k={};return (k[c.Ic.Bn]=h.Bc.Bn,k[c.Ic.rD]=h.Bc.Bn,k[c.Ic.hea]=void 0,k[c.Ic.Gn]=h.Bc.Gn,k[c.Ic.NL]=this.config().a6?l:void 0,k[c.Ic.OL]=this.config().a6?l:void 0,k[c.Ic.PL]=this.config().qka?l:void 0,k);};d.prototype.tLa=function(l){var k,m,p;l=this.IUa[l];k=[];m=g.ub.EA;if(l){if(this.is.ks(l))p=l;else (k=l.features,p=l.Od,m=l.keySystem);return this.qu(m,p,k)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};d.prototype.qu=function(l,k,m){l=e.eH.sja(l,k,m);return this.WU(l);};b.W7a=d;},40290:function(t,b,a){var n,c,g;function d(){this.type=n.eD.xD;}Object.defineProperty(b,"__esModule",{value:!0});b.eH=void 0;n=a(56800);t=a(57180);c=a(17612);g=new t.FT();d.X8b=function(){return {isTypeSupported:function(f){var e;try{if(-1 == f.toLowerCase().indexOf("codec"))return Ba.MSMediaKeys.isTypeSupported(f,"video/mp4");e=f.split("|");return 1 === e.length?Ba.MSMediaKeys.isTypeSupported(c.ub.EA,f):"probably" === d.kta(e[0],e[1]);}catch(h){return !1;}}};};d.sja=function(f,e,h){e=g.format(d.Cta,e);if(0 === h.length)return e;h=g.format('features="{0}"',h.join());return g.format("{0}|{1}{2}",f,e,h);};d.kta=function(f,e){var h;try{h=Ba.MSMediaKeys.isTypeSupportedWithFeatures?Ba.MSMediaKeys.isTypeSupportedWithFeatures(f,e):"";}catch(l){h="exception";}return h;};b.eH=d;d.Cta='video/mp4;codecs="{0},mp4a";';},7802:function(t,b){function a(d,n){var c;c=this;this.status={};d.forEach(function(g,f){c.status[g]=n[f];});}Object.defineProperty(b,"__esModule",{value:!0});b.pfa=void 0;a.prototype.UW=function(){return this.status;};a.prototype.bma=function(){return Object.entries(this.status).filter(function(d){d=Ea(d);d.next();return d.next().value.supported;}).map(function(d){var n;d=Ea(d);n=d.next().value;d.next();return n;});};b.pfa=a;},57718:function(t,b,a){var n,c,g;function d(f){this.eIb=f;this.iZb="video/mp4;codecs={0}";this.cWb="audio/mp4;codecs={0}";}Object.defineProperty(b,"__esModule",{value:!0});b.GCa=void 0;t=a(22970);n=a(22674);c=a(73796);a=a(88490);d.prototype.nlb=function(f){var e;f=c.Tcb[null === (e=f[0]) || void 0 === e?void 0:e.me] || c.Bc.bD;return this.eIb.format(this.iZb,f);};d.prototype.Fkb=function(f){var e;f=c.N0a[null === (e=f[0]) || void 0 === e?void 0:e.me] || c.Bc.Bn;return this.eIb.format(this.cWb,f);};g=d;b.GCa=g;b.GCa=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Hbb))],g);},82656:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Un=void 0;t=a(22674);d=a(33554);n=a(58393);c=a(48723);g=a(68703);f=a(99662);b.Un=new t.je(function(e){e(d.uA).Kf(function(){return function(){return Ba._cad_global.device;};});e(g.N2a).to(f.rwa).pa();e(n.L2a).to(c.qwa).pa();});},33554:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uA="DeviceFactorySymbol";},58393:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L2a="DeviceIdGeneratorSymbol";},68703:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.N2a="DeviceProviderSymbol";},48723:function(t,b,a){var n,c,g,f,e,h;function d(l,k){this.Ia=l;this.WUa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.qwa=void 0;t=a(22970);n=a(30869);c=a(5021);g=a(10306);f=a(74267);e=a(66523);a=a(22674);d.prototype.Yfc=function(){for(var l="",k=this.Ia.gg.la(c.wa),m=6;m--;)(l=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[k % 32] + l,k=Math.floor(k / 32));for(;30 > l.length;)l+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.WUa.ZCb(new f.VBa(0,31,e.yzb))];return l;};h=d;b.qwa=h;b.qwa=h=t.__decorate([(0,a.Y)(),t.__param(0,(0,a.l)(n.di)),t.__param(1,(0,a.l)(g.Afa))],h);},66085:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M2a=void 0;b.M2a=function(a,d,n,c){this.Li=a;this.Ds=d;this.Cka=c;};},99662:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r,q,u){this.Iac=m;this.Or=p;this.Zb=q;this.Cyc=u;this.q3a=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=r.qb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.rwa=void 0;t=a(22970);n=a(36129);c=a(42207);g=a(66085);f=a(87386);e=a(58393);h=a(22674);l=a(17892);a=a(70285);d.prototype.Znb=function(m){try{return m.match(this.q3a)[2];}catch(p){}};d.prototype.$dc=function(m){try{return m.match(this.q3a)[1];}catch(p){}};d.prototype.create=function(m){var p;p=this;return new Promise(function(r,q){p.Or.create().then(function(u){var w,x,y,A,z,B;function v(C){p.Zb.aw(C) && p.Zb.aw(w)?(x=new g.M2a(C,w,void 0,y,m.Q5 || "cadmium"),r(x)):q({Ma:n.W.u2a});}w=m.Ds;if(m.vMa){y="bind_device";p.Cyc.Se({log:p.log},{}).then(function(C){v(C.esn);}).catch(function(C){q(C);});}else if(m.yW){z=m.Li;if(p.Zb.aw(z)){B=p.$dc(z);B != m.Ds && p.log.error("esn prefix from ui is different",{ui:B,cad:m.Ds,ua:m.userAgent});}else m.XQa && p.log.error("esn from ui is missing");!m.J_ && p.Zb.aw(z)?(y="config",v(z)):u.load(m.pmb).then(function(C){A=C.value;p.Zb.aw(A) && (!1,p.Zb.aw(z)?(C=p.Znb(z),y=C === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):y="storage_esn_not_in_config",v(w + A));}).catch(function(C){var H;function D(){u.save(m.pmb,H,!1).then(function(){v(w + H);}).catch(function(E){q(E);});}function F(){H=p.Iac.Yfc();!1;D();}if(C.Ma === n.W.FD){if(p.Zb.aw(m.Li)){H=p.Znb(m.Li);p.Zb.aw(H)?(y="config_since_not_in_storage",D()):(y="generated_since_invalid_in_config_and_not_in_storage",p.log.error("invalid esn passed from UI",m.Li),F());}else (y="generated_since_not_in_config_and_storage",F());}else q(C);});}else v();}).catch(function(u){q(u);});});};k=d;b.rwa=k;b.rwa=k=t.__decorate([(0,h.Y)(),t.__param(0,(0,h.l)(e.L2a)),t.__param(1,(0,h.l)(l.PG)),t.__param(2,(0,h.l)(f.wb)),t.__param(3,(0,h.l)(c.ei)),t.__param(4,(0,h.l)(a.x9a))],k);},2492:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gda="CannedChallengeProvider";},49594:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.PV=b.$mb=void 0;t=a(22674);d=a(47737);n=a(97485);c=a(21103);g=a(92395);f=a(66372);e=a(2492);h=a(77228);l=a(34008);k=a(17250);m=a(41980);p=a(90581);r=a(91490);q=a(38231);u=a(22266);v=a(48691);w=a(18647);x=a(61738);b.$mb=new t.je(function(y){y(d.Xda).jca(n.oBc);y(u.e6a).to(v.kya).pa();y(w.mya).to(x.lya).pa();y(c.Ux).gL(function(A){b.PV.parent=A.Hb;return b.PV.get(c.Ux);});y(g.e2).Kf(function(){return function(){return new f.J7a();};});y(e.Gda).to(h.Kva).pa();y(l.Owa).to(k.Nwa).pa();y(m.zwa).to(p.ywa).pa();y(r.H7a).to(q.tza).pa();});b.PV=new t.Jda({xR:!0});},28048:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.XG={};t.LKb="usable";t.Aw="expired";t.released="released";t.sAb="output-restricted";t.xxc="output-downscaled";t.TIc="status-pending";t.Nnc="internal-error";},28289:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.vA=void 0;b.qbc=function(d){switch(d){case a.bwb:return "lg";case a.rDb:return "lc";case a.qDb:return "lr";case a.sDb:return "renew_lc";case a.tDb:return "renew_lr";case a.uDb:return "renew_lr_failed";case a.eCc:return "ilc";case a.fCc:return "ilr";case a.lgb:return "ld";case a.sgb:return "renew_ld";case a.tgb:return "renew_ld_failed";default:return "unknown";}};(function(d){d[d.bwb=0]="licenseStarted";d[d.rDb=1]="receivedLicenseChallenge";d[d.qDb=2]="receivedLicense";d[d.sDb=3]="receivedRenewalChallengeComplete";d[d.tDb=4]="receivedRenewalLicenseComplete";d[d.uDb=5]="receivedRenewalLicenseFailed";d[d.eCc=6]="receivedIndivChallengeComplete";d[d.fCc=7]="receivedIndivLicenseComplete";d[d.lgb=8]="addLicenseComplete";d[d.sgb=9]="addRenewalLicenseComplete";d[d.tgb=10]="addRenewalLicenseFailed";})(a || (b.vA=a={}));},47737:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y2a="DrmServicesSymbol";b.Xda="DrmServicesProviderSymbol";},41980:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zwa="DrmTraitsFactorySymbol";},53921:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.cq={};t[t.SY=0]="playready";t[t.MLb=1]="widevine";t[t.kW=2]="fairplay";},27995:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.S2={};t[t.Request=0]="Request";t[t.jab=1]="Renewal";},34008:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Owa="EmeApiFactorySymbol";},23563:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nD="EmeConfigSymbol";},10060:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.v3a="EmeSessionFactorySymbol";},22266:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.e6a="KeySystemProviderSymbol";},18647:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mya="KeySystemRestrictorSymbol";},91490:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.H7a="MediaKeySystemAccessInternalFactorySymbol";},21103:function(t,b){function a(d){return d?{supported:!1,reason:d}:{supported:!0};}Object.defineProperty(b,"__esModule",{value:!0});b.Ux=void 0;b.Okb=function(d){return a(d);};b.rZa=function(d,n,c){c && d[n].status.supported && (d[n].status=a(c));};b.Eqb=function(d){for(var n,c=d.length - 1;0 <= c;c--)if(d[c].status.supported){n=c;break;}return n;};b.Ux="MediaKeySystemAccessServicesSymbol";},92395:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.e2="MediaKeysStorageFactorySymbol";},51120:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.anb=void 0;t=a(22674);d=a(47737);n=a(80075);c=a(21103);g=a(9717);f=a(10060);e=a(74946);b.anb=new t.je(function(h){h(d.Y2a).to(n.xwa).pa();h(c.Ux).to(g.uza).pa();h(f.v3a).to(e.Qwa);});},77228:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r,q,u){this.JV=m;this.wd=p;this.UX=q;this.Yu=u;this.log=r.qb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Kva=void 0;t=a(22970);n=a(22674);c=a(47737);g=a(2248);f=a(87386);e=a(92395);h=a(21103);l=a(53921);k=a(84218);d.prototype.CNa=function(m){var p;p=this;return Promise.all([this.JV(),this.LMa()]).then(function(r){var q;q=Ea(r);r=q.next().value;q=q.next().value;return r.Zfc({type:m,initData:q,dna:!1},p.UX());}).then(function(r){var q;q=Ea(r);r=q.next().value;q=q.next().value;q=p.wd.encode(q.data[0]);p.log.trace("Challenge generated",q);return {sn:r,THa:q};});};d.prototype.LMa=function(){var m;m=this;return this.Yu.RI().then(function(p){return p.yB();}).then(function(p){switch(p){case l.cq.kW:return k.T3a;case l.cq.SY:return k.V9a;default:return k.mdb;}}).then(function(p){return p.map(m.wd.decode);});};a=d;b.Kva=a;b.Kva=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Xda)),t.__param(1,(0,n.l)(g.yl)),t.__param(2,(0,n.l)(f.wb)),t.__param(3,(0,n.l)(e.e2)),t.__param(4,(0,n.l)(h.Ux))],a);},80075:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r,q,u,v,w){var x;x=this;this.MQ=r;this.config=q;this.Mbc=u;this.UX=v;this.Cp=w;this.DJc=function(y,A){var z;x.Cp.mark(m.gb.gea,y.xr.Ha,"generate-challenge");z=!1;A.DGc(function(B){z || (z=!0,x.Cp.mark(m.gb.fea,y.xr.Ha,"generate-challenge"));x.Aic(y,A,B).then(function(C){A.kgb(C);}).catch(function(C){return A.j_b(C);});});};this.log=p.qb("DrmServices");this.config.Htb && this.aJa(v(),e.hq.oq).then(function(y){return y.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.xwa=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(69493);f=a(77134);e=a(24735);h=a(23563);l=a(10060);k=a(92395);m=a(63156);d.prototype.Zfc=function(p,r){return this.aJa(r,p.type,p.context).then(function(q){return q.bgc(p.initData,p.dna).then(function(u){return [q,{cO:q.yB(),data:u.iI}];});});};d.prototype.Ws=function(p,r){var q;q=this;this.log.info("Requesting challenges",this.Gqb(p,p.type));return this.aJa(r,p.type,p.context).then(function(u){q.uyb(p,u);return u.cgc(p.initData,p.dna).then(function(){return u;});});};d.prototype.uyb=function(p,r){r.PGc(p.xr);this.DJc(p,r);};d.prototype.Gqb=function(p,r){return {movieId:p.xr.R,videoTrackId:p.xr.Go,xid:p.xr.Ha,type:(0,e.cwb)(r)};};d.prototype.Aic=function(p,r,q){this.log.info("Sending license request",this.Gqb(p,q.$h));return this.MQ.Ws({Ha:p.xr.Ha,Zd:p.xr.Zd,Pmb:[p.xr.Tq],iI:[{sessionId:r.WO() || "session",data:q.iI}],$h:q.$h,cO:r.yB(),Uib:q.Uib,ho:p.xr.ho,Jf:p.xr.Jf,J:p.xr.R,Go:p.xr.Go});};d.prototype.aJa=function(p,r,q){return this.Mbc.create().then(function(u){return u.createSession(p,r,q).then(function(){return u;});});};a=d;b.xwa=a;b.xwa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(g.X2a)),t.__param(2,(0,n.l)(h.nD)),t.__param(3,(0,n.l)(l.v3a)),t.__param(4,(0,n.l)(k.e2)),t.__param(5,(0,n.l)(f.i2))],a);},97485:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.oBc=function(e){g.PV.parent=e.Hb;return function(){f || (f=new Promise(function(h,l){try{h(g.PV.get(c.Y2a));}catch(k){l(new n.Gj(d.aa.pQb,d.W.AQb,void 0,"Unable to extract the DRM services from the dependency injector",k));}}));return f;};};d=a(36129);n=a(61731);c=a(47737);g=a(49594);},90581:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x,y){this.cj=q;this.Zk=u;this.wd=v;this.config=w;this.yw=x;this.zi=y;}Object.defineProperty(b,"__esModule",{value:!0});b.ywa=void 0;t=a(22970);n=a(22674);c=a(6405);g=a(2248);f=a(84408);e=a(4203);h=a(7605);l=a(53921);k=a(23563);m=a(65315);p=a(20674);r=a(8265);d.prototype.create=function(q){switch(q){case l.cq.SY:return new p.Lwa(this.Zk,this.wd);case l.cq.kW:return new r.rCa(this.Zk,this.wd,this.cj,this.zi);default:return new m.Nva(this.Zk,this.wd,this.yw,this.config);}};a=d;b.ywa=a;b.ywa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(f.LD)),t.__param(1,(0,n.l)(c.FL)),t.__param(2,(0,n.l)(g.yl)),t.__param(3,(0,n.l)(e.Cc)),t.__param(4,(0,n.l)(k.nD)),t.__param(5,(0,n.l)(h.Xx))],a);},17250:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x,y){this.Cf=q;this.cj=u;this.wd=v;this.is=w;this.X9=x;this.yw=y;}Object.defineProperty(b,"__esModule",{value:!0});b.Nwa=void 0;t=a(22970);n=a(22674);c=a(2248);g=a(42207);f=a(63368);e=a(84408);h=a(74870);l=a(53921);k=a(23563);m=a(81471);p=a(963);r=a(90349);d.prototype.create=function(q){switch(q){case l.cq.SY:return new p.JBa(this.X9,this.is,this.wd,this.Cf,this.yw,this.cj);case l.cq.kW:return new m.exa(this.X9,this.is,this.wd,this.Cf,this.yw,this.cj);default:return new r.Zx(this.X9,this.is,this.wd,this.Cf,this.yw,this.cj);}};a=d;b.Nwa=a;b.Nwa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(h.Il)),t.__param(1,(0,n.l)(e.LD)),t.__param(2,(0,n.l)(c.yl)),t.__param(3,(0,n.l)(g.ei)),t.__param(4,(0,n.l)(f.n2)),t.__param(5,(0,n.l)(k.nD))],a);},18135:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m){l=c.Ef.call(this,l,void 0 === m?"EmeConfigImpl":m) || this;l.Be=k;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;t=a(22970);n=a(22674);c=a(64174);g=a(83767);f=a(5021);e=a(12501);a=a(22816);Ia(d,c.Ef);Ga.Object.defineProperties(d.prototype,{qBb:{configurable:!0,enumerable:!0,get:function(){return !0;}},Htb:{configurable:!0,enumerable:!0,get:function(){return this.Be.jub || this.Be.hna || this.Be.qna?!0:!1;}},BX:{configurable:!0,enumerable:!0,get:function(){return (0,f.ci)(5);}},pBb:{configurable:!0,enumerable:!0,get:function(){return (0,f.ci)(10);}},qKa:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},PLa:{configurable:!0,enumerable:!0,get:function(){return !1;}},gKa:{configurable:!0,enumerable:!0,get:function(){return !1;}},px:{configurable:!0,enumerable:!0,get:function(){return !0;}},Wgb:{configurable:!0,enumerable:!0,get:function(){return (0,f.ci)(30);}},Xgb:{configurable:!0,enumerable:!0,get:function(){return (0,f.ci)(30);}},$gb:{configurable:!0,enumerable:!0,get:function(){return (0,f.ci)(30);}},Ygb:{configurable:!0,enumerable:!0,get:function(){return (0,f.ci)(30);}},ahb:{configurable:!0,enumerable:!0,get:function(){return (0,f.ci)(30);}},EWa:{configurable:!0,enumerable:!0,get:function(){return "";}},tAb:{configurable:!0,enumerable:!0,get:function(){return this.Be.p8?!1:!0;}},uAb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=d;b.Pwa=h;t.__decorate([e.config(e.fd,"persistentStateRequired")],h.prototype,"qBb",null);t.__decorate([e.config(e.fd,"initializeKeySystemAtStartup")],h.prototype,"Htb",null);t.__decorate([e.config(e.hm,"licenseRenewalRequestDelay")],h.prototype,"BX",null);t.__decorate([e.config(e.hm,"persistedReleaseDelay")],h.prototype,"pBb",null);t.__decorate([e.config(e.string,"drmPersistKey")],h.prototype,"qKa",null);t.__decorate([e.config(e.fd,"forceLimitedDurationLicense")],h.prototype,"PLa",null);t.__decorate([e.config(e.fd,"disableLicenseRenewal")],h.prototype,"gKa",null);t.__decorate([e.config(e.fd,"prepareCadmium")],h.prototype,"px",null);t.__decorate([e.config(e.hm,"apiCloseTimeout")],h.prototype,"Wgb",null);t.__decorate([e.config(e.hm,"apiCreateMediaKeysTimeout")],h.prototype,"Xgb",null);t.__decorate([e.config(e.hm,"apiSetServerCertificateTimeout")],h.prototype,"$gb",null);t.__decorate([e.config(e.hm,"apiGenerateRequestTimeout")],h.prototype,"Ygb",null);t.__decorate([e.config(e.hm,"apiUpdateTimeout")],h.prototype,"ahb",null);t.__decorate([e.config(e.string,"serverCertificate")],h.prototype,"EWa",null);t.__decorate([e.config(e.fd,"outputRestrictedIsFatal")],h.prototype,"tAb",null);t.__decorate([e.config(e.fd,"outputRestrictedIsFatalForUhd")],h.prototype,"uAb",null);b.Pwa=h=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Fn)),t.__param(1,(0,n.l)(a.zS)),t.__param(2,(0,n.l)(g.Ida)),t.__param(2,(0,n.optional)())],h);},61731:function(t,b,a){var n,c;function d(g,f,e,h,l){g=void 0 === g?n.aa.hk:g;return c.ue.call(this,g,f,e,void 0,void 0,h,c.ue.Mi(l),l) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Gj=void 0;n=a(36129);c=a(31149);Ia(d,c.ue);b.Gj=d;},74946:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r,q,u,v){this.Vu=m;this.Oa=p;this.wd=r;this.config=q;this.Gp=u;this.Yu=v;}Object.defineProperty(b,"__esModule",{value:!0});b.Qwa=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(81918);f=a(2248);e=a(23563);h=a(59818);l=a(97737);a=a(21103);d.prototype.create=function(){var m;m=this;return this.Yu.RI().then(function(p){return new l.w3a(m.Vu,m.Oa,m.wd,m.config,m.Gp,p);});};k=d;b.Qwa=k;b.Qwa=k=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(g.Sd)),t.__param(2,(0,n.l)(f.yl)),t.__param(3,(0,n.l)(e.nD)),t.__param(4,(0,n.l)(h.CD)),t.__param(5,(0,n.l)(a.Ux))],k);},97737:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v;function d(w,x,y,A,z,B){var C;C=this;this.Oa=x;this.cB=y;this.config=A;this.Gp=z;this.Dz=B;this.keyStatuses=new m.tc({});this.PSa=function(D){var F,H,E,G,K,N;try{H=C.Wp.WIa(D);E=H.YP;G=H.messageType;K=H.sessionId;C.zP=C.zP || H.zP;C.iba(K);C.log.trace("Received " + D.type + " event",{sessionId:K,messageType:G,keyIds:C.zP});if(G === b.Zya){if(C.config.gKa){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.$h=g.hq.oq;C.dt=q.VQ;}C.dt === q.Ws && C.eu(f.vA.rDb);C.dt === q.VQ && C.eu(f.vA.sDb);N={iI:E,Uib:G,$h:C.$h};null === (F=C.Vzb) || void 0 === F?void 0:F.call(C,N);C.oOa(E)?C.xP(new k.ue(c.aa.m3a)):C.Xn && !C.Xn.DLb && C.Vub(N);}catch(I){C.xP(I);}};this.NSa=function(D){var F,H,E,G,K,L,O,J,Q,P,S,Y,U,Z,aa,da,fa;H=D.target;E=H.keyStatuses;C.iba(H.sessionId);C.log.trace("Received event: " + D.type);try{K=null === (F=C.context) || void 0 === F?void 0:F.Cna;D=[];for(var N=Ea(E),I=N.next();!I.done;I=N.next()){L=Ea(I.value);O=L.next().value;J=L.next().value;Q=C.cB.encode(new Uint8Array(O));D.push({pz:Q,status:J,height:null === K || void 0 === K?void 0:K[Q]});}D.sort(function(ma,R){return (ma.height || 0) - (R.height || 0);});P=D.map(function(ma){return ma.pz;});S=D.map(function(ma){return ma.height;});Y=D.map(function(ma){return ma.status;});C.mQa=P + ", " + S + ", " + Y;C.log.trace("KeyStatus: " + C.mQa);K={};for(var X=Ea(E),T=X.next();!T.done;T=X.next()){U=Ea(T.value);Z=U.next().value;aa=U.next().value;da=C.cB.encode(new Uint8Array(Z));fa=u[aa];K[da]=fa.status;C.rP(da,fa.error) && (G=new h.Gj(fa.error));}C.keyStatuses.set(K);}catch(ma){G=new h.Gj(c.aa.uTb);G.P5(ma);}G?C.rz?C.gQa(G):C.tna(G):(C.Wp.fja() || C.Wub(),C.$h !== g.hq.cH || C.Wp.bHa() || (C.config.gKa?C.log.trace("Disabling license renewal"):C.lDc()));};this.Ozb=function(D){C.log.error("MediaKeySession closed unexpectedly: " + D);C.tna(new k.ue(c.aa.Gwa,v[D]));};this.xP=function(D){C.close().then(function(){var F;C.log.trace("Issuing a generate challenge error");null === (F=C.Xn) || void 0 === F?void 0:F.f_.reject(D);C.Xn=void 0;},function(F){var H;C.log.error("EmeSession closed with an error.",C.Wp.nI(F));null === (H=C.Xn) || void 0 === H?void 0:H.f_.reject(D);C.Xn=void 0;});};this.Vub=function(D){var F;null === (F=C.Xn) || void 0 === F?void 0:F.f_.resolve(D);C.Xn=void 0;};this.gQa=function(D){C.log.error("Failed to add license",D);C.close().then(function(){var F,H;C.log.trace("Issuing a license error");null === (F=C.Xn) || void 0 === F?void 0:F.f_.reject(D);C.Xn=void 0;null === (H=C.rz) || void 0 === H?void 0:H.reject(D);C.rz=void 0;},function(F){var H,E;C.log.error("EmeSession closed with an error.",C.Wp.nI(F));C.dt === q.VQ && C.eu(f.vA.tgb);null === (H=C.Xn) || void 0 === H?void 0:H.f_.reject(D);C.Xn=void 0;null === (E=C.rz) || void 0 === E?void 0:E.reject(D);C.rz=void 0;});};this.Wub=function(){C.rz && (C.log.info("Successfully added license"),C.dt === q.Ws?C.eu(f.vA.lgb):C.dt === q.VQ && C.eu(f.vA.sgb),C.rz.resolve(),C.rz=void 0);};this.tna=function(D){C.close().then(function(){var F;C.log.trace("Issuing a CDM error");C.Xn=void 0;C.rz=void 0;null === (F=C.ISa) || void 0 === F?void 0:F.call(C,D);},function(F){var H;C.log.error("EmeSession closed with an error.",C.Wp.nI(F));C.Xn=void 0;C.rz=void 0;null === (H=C.ISa) || void 0 === H?void 0:H.call(C,D);});};this.eu=function(D){C.tf.push({time:C.Oa.uc(),M9:D});};this.XDb=!1;this.log=w.qb("EmeSession");this.dt=q.QLc;this.Oj=B.Lkb();this.Wp=B.Kkb();this.tf=[];this.ISa=function(D){C.zVa=D;};}Object.defineProperty(b,"__esModule",{value:!0});b.w3a=b.Zya=b.$ya=void 0;n=a(5021);c=a(36129);g=a(24735);f=a(28289);t=a(28048);e=a(27995);h=a(61731);l=a(59818);k=a(31149);m=a(81734);p=a(94293);r=a(82100);(function(w){w[w.QLc=0]="unknown";w[w.create=1]="create";w[w.Ws=2]="license";w[w.VQ=3]="renewal";w[w.closed=4]="closed";})(q || (q={}));b.$ya="license-request";b.Zya="license-renewal";u={usable:{status:t.XG.LKb},expired:{status:t.XG.Aw,error:c.aa.nAa},released:{status:t.XG.released},"output-not-allowed":{status:t.XG.sAb,error:c.aa.b9a},"output-restricted":{status:t.XG.sAb,error:c.aa.oAa},"output-downscaled":{status:t.XG.xxc},"status-pending":{status:t.XG.TIc},"internal-error":{status:t.XG.Nnc,error:c.aa.tTb}};v={"internal-error":c.W.hPb,"closed-by-application":c.W.fPb,"release-acknowledged":c.W.jPb,"hardware-context-reset":c.W.Ewa,"resource-evicted":c.W.kPb};d.prototype.tic=function(){return this.Dz.BJ;};d.prototype.Cqb=function(){return this.mQa;};d.prototype.WO=function(){return this.sessionId;};d.prototype.close=function(){var w;w=this;this.Vzb=this.context=void 0;this.dt=q.closed;this.tf=[];void 0 !== this.Ara && (Ba.clearTimeout(this.Ara),this.Ara=void 0);return this.Oj.jpc()?(this.log.trace("Closing the session"),this.Oj.MDb(this.PSa),this.Oj.JDb(this.NSa),this.mediaKeys=void 0,this.Gp.ot(this.config.Wgb,this.Oj.close()).then(function(){w.log.info("Closed the session");}).catch(function(x){w.log.error("Close failed",x);w.Wp.nI(x).code=c.aa.vTb;throw x;})):Promise.resolve(void 0);};d.prototype.yB=function(){return this.Dz.yB();};d.prototype.Csb=function(){return void 0 !== this.uz;};d.prototype.createSession=function(w,x,y){var A;A=this;this.context=y;this.$h=x;this.dt=q.create;this.eu(f.vA.bwb);return (w.Esb()?Promise.resolve():this.Gp.ot(this.config.Xgb,this.Oj.createMediaKeys(this.Dz)).then(function(z){A.log.trace("Created media keys");return A.H0b(z).then(function(){return w.mgb(z);}).catch(function(B){return Promise.reject(A.CUa(B,c.aa.lPb));});})).then(function(){A.mediaKeys=w.mediaKeys;try{A.Oj.createSession(A.mediaKeys,A.Ozb);A.Oj.ngb(A.PSa);A.Oj.jgb(A.NSa);A.iba(A.Oj.WO());}catch(z){return Promise.reject(A.CUa(z,c.aa.gPb));}}).catch(function(z){return Promise.reject(A.CUa(z,c.aa.Dwa));});};d.prototype.PGc=function(w){this.xr=w;this.log.fgb("xid",w.Ha);};d.prototype.bgc=function(w,x){return this.generateRequest(w,x,!1).then(function(y){return y;});};d.prototype.cgc=function(w,x){return this.generateRequest(w,x,!0).then(function(){});};d.prototype.kgb=function(w){this.vX=w.vX;w=w.uz.map(function(x){return x.data;});this.oOa(w)?(this.log.error("The license buffer is empty"),this.xP(new h.Gj(c.aa.l3a,c.W.j3a))):(this.dt === q.Ws && (this.eu(f.vA.qDb),this.uz=w,this.Rmb=this.Wp.GW(this.zP,w),this.Xn && this.Xn.DLb && this.Vub()),this.dt === q.VQ && (this.eu(f.vA.tDb),this.uz=w,this.Rmb=this.Wp.GW(this.zP,w),this.JGa()));};d.prototype.j_b=function(w){this.dt === q.VQ?(this.eu(f.vA.uDb),this.tna(w)):this.xP(w);};d.prototype.JGa=function(){var w,x;w=this;if(!this.uz){x=new h.Gj(c.aa.l3a,c.W.n3a);this.gQa(x);return Promise.reject(x);}this.rz=new p.qfa();x=this.uz;this.uz=void 0;this.Gp.ot(this.config.ahb,this.Oj.update(x,this.dt === q.Ws?e.S2.Request:e.S2.jab,this.zP)).then(function(){w.Wp.fja() && w.Wub();}).catch(function(y){y=w.Wp.nI(y);y.code=c.aa.f9a;y.message="Unable to update the EME";w.log.error(y.message,y);w.gQa(y);});return this.rz.promise;};d.prototype.DGc=function(w){this.Vzb=w;};d.prototype.rGc=function(w){this.ISa=w;this.zVa && (w(this.zVa),this.zVa=void 0);};d.prototype.GW=function(){return this.Rmb;};d.prototype.generateRequest=function(w,x,y){var A;A=this;this.dt=q.Ws;this.log.trace("Generating a license challenge");if(!w)return (w=new h.Gj(c.aa.k3a,c.W.n3a),this.xP(w),Promise.reject(w));if(this.oOa(w))return (w=new h.Gj(c.aa.k3a,c.W.j3a),this.xP(w),Promise.reject(w));this.Xn={f_:new p.qfa(),DLb:y};this.Gp.ot(this.config.Ygb,this.Oj.generateRequest(this.Wp.MMa(),w,x)).then(function(){A.iba(A.Oj.WO());}).catch(function(z){var B,C;B=new h.Gj(c.aa.Zda,z instanceof l.Pv?c.W.L0:c.W.fq);try{C=A.Wp.nI(z);B.extCode=C.extCode;B.message="Unable to generate request.";B.P5(z);}catch(D){}A.log.error("Unable to generate a license request",B);A.xP(B);});return this.Xn.f_.promise;};d.prototype.H0b=function(w){return this.Gp.ot(this.config.$gb,this.Oj.setServerCertificate(w,this.Wp.tla()));};d.prototype.iba=function(w){w && w !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + w),this.sessionId=w,this.log.fgb("sessionId",w));};d.prototype.lDc=function(){var w;w=this;this.XDb || (this.XDb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.BX}),this.Ara=Ba.setTimeout(function(){w.Ara=void 0;w.taa();},this.config.BX.la(n.wa)));};d.prototype.spc=function(w){var x,y,A;return 1080 < (null !== (A=null === (y=null === (x=this.context) || void 0 === x?void 0:x.Cna) || void 0 === y?void 0:y[w]) && void 0 !== A?A:0);};d.prototype.rP=function(w,x){var y;y=this.Oj.yqb();return y && !y.includes(w)?!1:x === c.aa.oAa?this.spc(w)?this.config.uAb:this.config.tAb:!!x;};d.prototype.taa=function(){this.log.trace("Initiating a renewal request");this.$h=g.hq.oq;this.dt=q.VQ;this.Wp.KHa()?this.Wp.pPa(this.Oj):this.uja();};d.prototype.uja=function(){var w;w=this;this.Oj.uja(this.mediaKeys,this.PSa,this.NSa,this.Ozb).then(function(){w.log.debug("Creating session to renew license");w.iba(w.Oj.WO());}).catch(function(){w.tna(new h.Gj(c.aa.Zda));});};d.prototype.oOa=function(w){return 0 === w.length || w.reduce(function(x,y){return x || 0 === y.length;},!1);};d.prototype.CUa=function(w,x){var y,A;if((null === w || void 0 === w?0:w.code) && (null === w || void 0 === w?0:w.subCode))return w;A=(0,r.pNa)(null === w || void 0 === w?void 0:w.message);return new h.Gj(x,w instanceof l.Pv?c.W.L0:c.W.fq,null === (y=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === y?void 0:y.toUpperCase(),null === w || void 0 === w?void 0:w.message,w);};b.w3a=d;},84218:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mdb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.T3a=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.V9a=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q;function d(u,v,w,x,y,A){this.Vu=u;this.config=v;this.W5=w;this.QB=x;this.dNc=y;this.Gp=A;this.log=this.Vu.qb("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.kya=void 0;n=a(22970);t=a(22674);c=a(66523);g=a(87386);f=a(4203);e=a(17612);h=a(82100);l=a(41980);k=a(18647);m=a(21103);p=a(75236);r=a(59818);q=a(5021);d.prototype.get=function(){var u,v;u=this;try{v=this.b9b();return Promise.all([this.Wjc(),this.QB.get()]).then(function(w){var x,y,A;w=Ea(w);x=w.next().value;y=w.next().value;v.forEach(function(z){var B;B=u.yec(z.Ena,x);z.status=(0,m.Okb)(B);});A=(0,m.Eqb)(v);v.forEach(function(z,B){var C;C=B === A;z.status.supported && !C && (z=u.Bec(z.Ena,y),(0,m.rZa)(v,B,z));});return v;});}catch(w){throw (this.log.error("KeySystemProvider failed.",w),w);}};d.prototype.b9b=function(){var u,v;u=this;v=(this.config().nQa || [this.config().Uw]).map(function(w){var x;x=e.ub.Y6(w);x=u.W5.create(x).BNa();return (0 < x.length?x:[void 0]).map(function(y){return {keySystem:w,robustness:y};});});return (0,c.flatten)(v).map(function(w){return {Ena:w,status:(0,m.Okb)(void 0)};});};d.prototype.yec=function(u,v){var w;if(e.ub.J1.includes(u.keySystem) || h.Z4a.includes(null !== (w=u.robustness) && void 0 !== w?w:"")){if(v)return v;if(this.config().Vxb && 1440 > Ba.screen.height * Ba.devicePixelRatio)return "hwdrm-screen-height";}};d.prototype.Bec=function(u,v){u=(0,h.ikb)(u);if(v.includes(u))return "too-many-errors";};d.prototype.zjc=function(){return n.__awaiter(this,void 0,void 0,function v(){var w;w=this;return Ta(v,function(x){return x.return(w.Gp.ot((0,q.ac)(1E3),w.dNc.architecture).catch(function(){}));});});};d.prototype.Wjc=function(){return n.__awaiter(this,void 0,void 0,function v(){var w,x;w=this;return Ta(v,function(y){x=w;return y.return(Promise.resolve().then(function(){if(!x.config().mcc)return x.config().occ?x.zjc().then(function(A){return "arm" === A?void 0:"architecture-not-arm";}):"hwdrm-not-enabled";}));});});};a=d;b.kya=a;b.kya=a=n.__decorate([(0,t.Y)(),n.__param(0,(0,t.l)(g.wb)),n.__param(1,(0,t.l)(f.Cc)),n.__param(2,(0,t.l)(l.zwa)),n.__param(3,(0,t.l)(k.mya)),n.__param(4,(0,t.l)(p.Kcb)),n.__param(5,(0,t.l)(r.CD))],a);},61738:function(t,b,a){var n,c,g,f;function d(e,h,l){this.config=e;this.Vu=h;this.DHa=l;this.Maa=[];this.RVa={};this.Ora={};this.log=this.Vu.qb("KeySystemRestrictor");this.Brc=this.config().lnb?this.DHa.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.lya=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(4203);a=a(33258);d.prototype.get=function(){var e;e=this;try{return this.config().lnb?this.Brc.then(function(h){return e.Jec(h);}):Promise.resolve([]);}catch(h){return (this.log.error("KeySystemRestrictor failed.",h),Promise.resolve([]));}};d.prototype.Jec=function(e){var l;this.Maa=[];this.RVa={};this.Ora={};e=e.reduce(function(k,m){k[m.keySystem] || (k[m.keySystem]=[]);k[m.keySystem].push(m);return k;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(e));e=Ea(Object.entries(e));for(var h=e.next();!h.done;h=e.next()){l=Ea(h.value);h=l.next().value;l=l.next().value;if(l=this.kmc(l))(this.Maa.push(h),this.Ora[h]=l);}this.Maa.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + this.Ora);return this.Maa;};d.prototype.kmc=function(e){var h,l,k;h=this;k=e.reduce(function(m,p){h.config().udc.includes(p.code) && (p=h.N8b(p),m[p] || (m[p]=0),m[p]++);return m;},{});this.RVa[e[0].keySystem]=k;return null === (l=Object.entries(k).find(function(m){m=Ea(m);m.next();return m.next().value >= h.config().vdc;})) || void 0 === l?void 0:l[0];};d.prototype.N8b=function(e){return [e.code,e.subCode,e.extCode].filter(Boolean).join(".");};Ga.Object.defineProperties(d.prototype,{vvb:{configurable:!0,enumerable:!0,get:function(){return this.Maa;}},wvb:{configurable:!0,enumerable:!0,get:function(){return this.RVa;}},uvb:{configurable:!0,enumerable:!0,get:function(){return this.Ora;}}});f=d;b.lya=f;b.lya=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Cc)),t.__param(1,(0,n.l)(c.wb)),t.__param(2,(0,n.l)(a.Jva))],f);},38231:function(t,b,a){var n,c,g,f;function d(e,h){this.W5=e;this.Z5=h;}Object.defineProperty(b,"__esModule",{value:!0});b.tza=void 0;t=a(22970);n=a(22674);c=a(41980);g=a(34008);f=a(52428);d.prototype.create=function(e,h,l){return new f.I7a(e,this.W5,this.Z5,h,l);};a=d;b.tza=a;b.tza=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.zwa)),t.__param(1,(0,n.l)(g.Owa))],a);},52428:function(t,b,a){var n,c;function d(g,f,e,h,l){this.keySystem=g;this.W5=f;this.Z5=e;this.Dz=h;this.cO=l;this.mediaKeys=[];}Object.defineProperty(b,"__esModule",{value:!0});b.I7a=void 0;n=a(17612);c=a(82100);d.prototype.createMediaKeys=function(){var g;g=this;return this.Dz.createMediaKeys().then(function(f){"function" === typeof WeakRef && g.mediaKeys.push(new WeakRef(f));return f;});};d.prototype.getConfiguration=function(){return this.Dz.getConfiguration();};d.prototype.yB=function(){return n.ub.Y6(this.Dz.keySystem);};d.prototype.Lkb=function(){return this.Z5.create(this.cO);};d.prototype.Kkb=function(){return this.W5.create(this.cO);};Ga.Object.defineProperties(d.prototype,{BJ:{configurable:!0,enumerable:!0,get:function(){var g,f;g=this.keySystem;f=(0,c.bNa)(this.Dz);f && (g+="." + f);return g;}},Boa:{configurable:!0,enumerable:!0,get:function(){return this.mediaKeys.filter(function(g){return void 0 !== g.deref();}).length;}}});b.I7a=d;},9717:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x;function d(y,A,z,B,C,D,F){this.Vu=y;this.wd=A;this.config=z;this.yw=B;this.euc=C;this.Z5=D;this.Tpc=F;this.log=this.Vu.qb("MediaKeySystemAccessServices");this.IEc();}Object.defineProperty(b,"__esModule",{value:!0});b.uza=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(87386);f=a(61731);e=a(21103);h=a(53921);l=a(2248);k=a(4203);m=a(17612);p=a(82100);r=a(84218);q=a(91490);u=a(34008);v=a(22266);w=a(23563);x=a(73796);d.prototype.RI=function(){this.promise || (this.promise=this.KEc());return this.promise;};d.prototype.m9b=function(y,A,z){var B;z=(A === p.yA || m.ub.J1.includes(z)) && this.config().Uxb;B=[{contentType:x.Bc.contentType(x.Bc.bD)}];z && B.push({contentType:x.Bc.contentType(x.Bc.Lh)});A && B.forEach(function(C){C.robustness=A;});z={initDataTypes:[p.gD],videoCapabilities:B,sessionTypes:[p.TEMPORARY]};y === h.cq.MLb && this.yw.qBb && (z.persistentState="required");return [z];};d.prototype.Pkb=function(y,A){var z;z=this;return new Promise(function(B,C){var D;D=m.ub.Y6(y);z.Z5.create(D).CDc(y,z.m9b(D,A,y)).then(function(F){z.I4b(F,y,A);z.Mrc(y,F);F=z.euc.create(y,F,D);B(F);}).catch(function(F){z.log.warn("Unable to create the media key system access object",{keySystem:y,error:F.message});C(new f.Gj(c.aa.i3a,c.W.fq,void 0,"Unable to create media keys system access. " + F.message,F));});});};d.prototype.whc=function(){var y;y=this.config().nQa || [this.config().Uw];if(1 < y.length)return (y=y.map(function(A){return m.ub.xMa(m.ub.Y6(A));}),1 === new Set(y).size?Promise.resolve(y[0]):this.RI().then(function(A){return A.yB();}).then(function(A){return m.ub.xMa(A);}));y=m.ub.Y6(y[0]);return Promise.resolve(m.ub.xMa(y));};d.prototype.I4b=function(y,A,z){A=(z === p.yA || m.ub.J1.includes(A)) && this.config().Uxb;y=y.getConfiguration().videoCapabilities;if(null === y || void 0 === y || !y.some(function(B){return B.contentType === "video/mp4;codecs=" + x.Bc.bD;}))throw Error("AVC not supported");if(A && (null === y || void 0 === y || !y.some(function(B){return B.contentType === "video/mp4;codecs=" + x.Bc.Lh;})))throw Error("HEVC not supported");};d.prototype.Mrc=function(y,A){this.log.trace("Created the media keys system access",{keySystem:y,supportedconfig:A.getConfiguration?JSON.stringify(A.getConfiguration()):void 0});};d.prototype.SZa=function(y){var A,z,B,C;A=this;z=y.yB();B=y.Lkb();C=y.Kkb();return y.createMediaKeys().then(function(D){B.createSession(D,function(){});return B.setServerCertificate(D,C.tla());}).then(function(){return B.generateRequest(p.gD,A.LMa(z),!1);}).then(function(){return B.close();}).then(function(){return y;}).catch(function(D){A.log.error("validateKeySystemAccess failed",D);return Promise.reject(D);});};d.prototype.LMa=function(y){switch(y){case h.cq.kW:y=r.T3a;break;case h.cq.SY:y=r.V9a;break;default:y=r.mdb;}return y.map(this.wd.decode);};d.prototype.KEc=function(){var y;y=this;try{return this.Tpc.get().then(function(A){var z;y.vXb=A;z=(0,e.Eqb)(A);return A.map(function(B,C){var D,F;D=B.Ena;F=B.status;return function(){var H,E;if(!F.supported)return Promise.reject(Error(D.keySystem + ": " + F.reason));H=C === z;E=y.config().SZa && !H;return y.Pkb(D.keySystem,D.robustness).catch(function(G){(0,e.rZa)(A,C,"not-supported");throw G;}).then(function(G){return E?y.SZa(G):Promise.resolve(G);}).catch(function(G){(0,e.rZa)(A,C,"validation-failed");throw G;});};});}).then(function(A){return y.LEc(A);}).then(function(A){y.keySystemAccess=A;y.BJ=A.BJ;return A;});}catch(A){return Promise.reject(A);}};d.prototype.LEc=function(y){return y.reduce(function(A,z){return A.then(function(B){return Promise.resolve(B);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};d.prototype.E4b=function(){var y;y=this;return new Promise(function(A,z){var B;B=Ba.screen.height * Ba.devicePixelRatio;y.config().Vxb && 1440 > B?z():A();});};d.prototype.IEc=function(){var y,A;y=this;if(this.config().Orc){A=(this.config().nQa || [this.config().Uw]).filter(function(z){return m.ub.J1.includes(z) || z === m.ub.IDa;}).map(function(z){return y.Pkb(z,z === m.ub.IDa?p.yA:void 0);});Promise.all([this.E4b()].concat(za(A))).then(function(){return y.neb=!0;}).catch(function(){return y.neb=!1;});}};Ga.Object.defineProperties(d.prototype,{tvb:{configurable:!0,enumerable:!0,get:function(){return this.BJ;}},xvb:{configurable:!0,enumerable:!0,get:function(){return this.vXb;}},svb:{configurable:!0,enumerable:!0,get:function(){return this.neb;}},Boa:{configurable:!0,enumerable:!0,get:function(){var y;return null === (y=this.keySystemAccess) || void 0 === y?void 0:y.Boa;}}});a=d;b.uza=a;b.uza=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.wb)),t.__param(1,(0,n.l)(l.yl)),t.__param(2,(0,n.l)(k.Cc)),t.__param(3,(0,n.l)(w.nD)),t.__param(4,(0,n.l)(q.H7a)),t.__param(5,(0,n.l)(u.Owa)),t.__param(6,(0,n.l)(v.e6a))],a);},66372:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.J7a=void 0;a.prototype.Esb=function(){return void 0 !== this.mediaKeys;};a.prototype.mgb=function(d){this.mediaKeys=d;};a.prototype.dDc=function(){this.Esb() && (this.mediaKeys=void 0);};b.J7a=a;},77699:function(t,b){function a(d,n,c){var g;g=this;this.wd=d;this.ek=n;this.cj=c;this.ric=function(f){var e;f=f.subarray(14,30);f=String.fromCharCode.apply(null,f);f=g.wd.decode(f);f=f.subarray(4);e=new Uint8Array(16);e.set(f);return e;};this.W3a={gD:1667591779,ENb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.S3a=void 0;a.prototype.x6b=function(d,n){n=n?this.W3a.ENb:this.W3a.gD;d=d.map(function(c){return {i0c:"",Upc:c,PGa:c,M3c:c,vNc:[1]};});return this.fsc(n,d);};a.prototype.esc=function(d){var n;n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,d);return this.mRa("fpsi",[n]);};a.prototype.dsc=function(d,n,c){d=[this.mRa("fkri",[d])];n.byteLength && d.push(this.joa("fkai",[n]));c.length && d.push(this.joa("fkvl",[new Uint8Array(new Uint32Array(c).buffer)]));return this.joa("fpsk",d);};a.prototype.fsc=function(d,n){var c,f;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);d=[this.esc(d)];for(var g in n){f=n[g];d.push(this.dsc(f.Upc,f.PGa,f.vNc));}n=this.joa("fpsd",d);g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,n.byteLength);return this.mRa("pssh",[c,g,n]);};a.prototype.mRa=function(d,n){var c,g,f;c=0;for(f in n)c+=n[f].byteLength;c=new Uint8Array(12 + c);g=new DataView(c.buffer);f=0;g.setUint32(f,c.byteLength);f+=4;c.set(this.cj.decode(d),f);f+=4;g.setUint32(f,0);f+=4;for(var e in n)(d=n[e],c.set(d,f),f+=d.byteLength);return c;};a.prototype.joa=function(d,n){var c,g;c=0;for(g in n)c+=n[g].byteLength;c=new Uint8Array(8 + c);g=0;new DataView(c.buffer).setUint32(g,c.byteLength);g+=4;c.set(this.cj.decode(d),g);g+=4;for(var f in n)(d=n[f],c.set(d,g),g+=d.byteLength);return c;};b.S3a=a;},81471:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x,y){q=c.Zx.call(this,q,u,v,w,x,y) || this;q.wd=v;q.ek=w;q.yw=x;q.cj=y;q.Wsb=new g.S3a(q.wd,q.ek,q.cj);return q;}Object.defineProperty(b,"__esModule",{value:!0});b.exa=void 0;t=a(22970);n=a(22674);c=a(90349);g=a(77699);f=a(63368);e=a(42207);h=a(2248);l=a(74870);k=a(23563);m=a(84408);p=a(27995);r=a(47450);Ia(d,c.Zx);d.prototype.generateRequest=function(q,u,v){var w,x,y;w=this;try{x=u.map(function(A){return w.Wsb.ric(A);});this.ytb=x.map(function(A){return w.wd.encode(A);});y=this.Wsb.x6b(x,v);return c.Zx.prototype.generateRequest.call(this,q,[y],!1);}catch(A){return Promise.reject(A);}};d.prototype.update=function(q,u,v){var w,x,y,A,z;w=this;if(v)try{x=this.cj.encode(q[0]);y=JSON.parse(x).RESPONSES.map(function(B){var C;C=r.Pfa.dIb(B.ID);return {keyID:u === p.S2.jab?w.ytb[w.ytb.length - 1]:v[C],payload:B.PAYLOAD};});if(u === p.S2.Request){A=y.map(function(B){return B.keyID;});this.Jnc=A;v.forEach(function(B){-1 === A.indexOf(B) && y.push({keyID:B,error:1});});}z=JSON.stringify(y);q=[this.cj.decode(z)];}catch(B){return Promise.reject(B);}return c.Zx.prototype.update.call(this,q,u);};d.prototype.taa=function(){return c.Zx.prototype.update.call(this,[this.cj.decode("renew")],p.S2.Request);};d.prototype.yqb=function(){return this.Jnc;};a=d;b.exa=a;b.exa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(f.n2)),t.__param(1,(0,n.l)(e.ei)),t.__param(2,(0,n.l)(h.yl)),t.__param(3,(0,n.l)(l.Il)),t.__param(4,(0,n.l)(k.nD)),t.__param(5,(0,n.l)(m.LD))],a);},963:function(t,b,a){var n,c,g,f;function d(){var e;e=c.Zx.apply(this,arguments) || this;e.Zzb=function(h){var l,k,r;h=h.target.keyStatuses;try{for(var m=Ea(h),p=m.next();!p.done;p=m.next()){r=Ea(p.value);r.next();"usable" === r.next().value && (null === (l=e.hi) || void 0 === l?void 0:l.removeEventListener("keystatuseschange",e.Zzb),null === (k=e.Xga) || void 0 === k?void 0:k.close(),e.Xga=void 0);}}catch(q){console.error("Error handling key status change",q);}};return e;}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=void 0;t=a(22970);n=a(22674);c=a(90349);g=a(61731);f=a(36129);Ia(d,c.Zx);d.prototype.uja=function(e,h,l,k){this.MDb(h);this.JDb(l);this.Xga=this.hi;this.hi=new c.G7a(e,k);this.ngb(h);this.jgb(l);this.hi.addEventListener("keystatuseschange",this.Zzb);return this.generateRequest(this.initDataType,this.initData,!1);};d.prototype.close=function(){var h;function e(l){return l && l.sessionId?l.close():Promise.resolve();}h=this;return this.hi?Promise.all([e(this.hi),e(this.Xga)]).then(function(){}).finally(function(){h.hi=void 0;h.Xga=void 0;}):Promise.reject(new g.Gj(f.aa.h3a,f.W.$da,void 0,"Unable to close a key session, key session is not valid"));};d.prototype.generateRequest=function(e,h,l){this.initDataType=e;this.initData=h;return c.Zx.prototype.generateRequest.call(this,e,h,l);};a=d;b.JBa=a;b.JBa=a=t.__decorate([(0,n.Y)()],a);},90349:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q;function d(u,v){var w;w=this;this.Njb=v;this.KF=u.createSession("temporary");this.KF.closed.then(function(x){var y;return null === (y=w.Njb) || void 0 === y?void 0:y.call(w,x);});}function n(u,v,w,x,y,A){this.X9=u;this.is=v;this.wd=w;this.ek=x;this.yw=y;this.cj=A;(0,f.Wu)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.G7a=b.Zx=void 0;t=a(22970);g=a(22674);f=a(66523);e=a(36129);h=a(63368);l=a(42207);k=a(61731);m=a(74870);p=a(2248);r=a(23563);a=a(84408);n.prototype.WO=function(){if(this.hi)return this.hi.sessionId;};n.prototype.CDc=function(u,v){return this.X9.requestMediaKeySystemAccess(u,v);};n.prototype.createMediaKeys=function(u){return u.createMediaKeys();};n.prototype.createSession=function(u,v){this.hi=new d(u,v);};n.prototype.uja=function(){return Promise.reject(new k.Gj(e.aa.Zda));};n.prototype.jpc=function(){return !!this.hi;};n.prototype.setServerCertificate=function(u,v){return this.is.uha(u.setServerCertificate) && v?u.setServerCertificate(v):Promise.resolve();};n.prototype.generateRequest=function(u,v){return this.hi?this.hi.generateRequest(u,v[0]):Promise.reject(new k.Gj(e.aa.Zda,e.W.$da,void 0,"Unable to generate a license request, key session is not valid"));};n.prototype.update=function(u){return this.hi?this.hi.update(u[0]):Promise.reject(new k.Gj(e.aa.o3a,e.W.$da,void 0,"Unable to update the EME with a response, key session is not valid"));};n.prototype.close=function(){var u;if(!this.hi)return Promise.reject(new k.Gj(e.aa.h3a,e.W.$da,void 0,"Unable to close a key session, key session is not valid"));u=Promise.resolve();this.WO() && (u=this.hi.close());this.hi=void 0;return u;};n.prototype.taa=function(){return Promise.reject(new k.Gj(e.aa.Fwa,void 0,"Unable to renew a key session, not supported"));};n.prototype.ngb=function(u){if(!this.hi)throw ReferenceError("Unable to add message handler, key session is not valid");this.hi.addEventListener(c.s3a,u);};n.prototype.jgb=function(u){if(!this.hi)throw ReferenceError("Unable to add key status handler, key session is not valid");this.hi.addEventListener(c.r3a,u);};n.prototype.MDb=function(u){if(!this.hi)throw ReferenceError("Unable to remove message handler, key session is not valid");this.hi.removeEventListener(c.s3a,u);};n.prototype.JDb=function(u){if(!this.hi)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.hi.removeEventListener(c.r3a,u);};n.prototype.yqb=function(){};q=c=n;b.Zx=q;q.s3a="message";q.r3a="keystatuseschange";b.Zx=q=c=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(h.n2)),t.__param(1,(0,g.l)(l.ei)),t.__param(2,(0,g.l)(p.yl)),t.__param(3,(0,g.l)(m.Il)),t.__param(4,(0,g.l)(r.nD)),t.__param(5,(0,g.l)(a.LD))],q);d.prototype.addEventListener=function(u,v,w){this.KF.addEventListener(u,v,w);};d.prototype.removeEventListener=function(u,v,w){this.KF.removeEventListener(u,v,w);};d.prototype.generateRequest=function(u,v){return this.KF.generateRequest(u,v);};d.prototype.update=function(u){return this.KF.update(u);};d.prototype.close=function(){this.Njb=void 0;return this.KF.close();};Ga.Object.defineProperties(d.prototype,{sessionId:{configurable:!0,enumerable:!0,get:function(){return this.KF.sessionId;}},expiration:{configurable:!0,enumerable:!0,get:function(){return this.KF.expiration;}},keyStatuses:{configurable:!0,enumerable:!0,get:function(){return this.KF.keyStatuses;}}});b.G7a=d;},65315:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r,q,u,v){this.Zk=r;this.wd=q;this.yw=u;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.Nva=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(6405);f=a(2248);e=a(61731);h=a(59818);l=a(23563);k=a(4203);m=a(31149);p=a(82100);d.prototype.fja=function(){return !1;};d.prototype.bHa=function(){return !0;};d.prototype.KHa=function(){return !0;};d.prototype.MMa=function(){return p.gD;};d.prototype.tla=function(){return this.yw.EWa?this.wd.decode(this.yw.EWa):this.wd.decode(p.cdb);};d.prototype.BNa=function(){return [p.yA,p.Ofa,p.Nfa];};d.prototype.pPa=function(){Promise.reject(new m.ue(c.aa.Fwa));};d.prototype.WIa=function(r){var q;return {type:r.type,sessionId:null === (q=r.target) || void 0 === q?void 0:q.sessionId,YP:[new Uint8Array(r.message)],messageType:r.messageType};};d.prototype.nI=function(r){var q,u,v;q=new e.Gj(c.aa.dfa);u=null === r || void 0 === r?void 0:r.code;null != u && void 0 !== u?(u=parseInt(u,10),q.subCode=1 <= u && 9 >= u?c.W.LS + u:c.W.LS):q.subCode=r instanceof h.Pv?c.W.L0:c.W.fq;try{v=r.message.match(/\((\d*)\)/)[1];q.extCode=this.Zk.hla(v,4);}catch(w){}q.P5(r);return q;};d.prototype.GW=function(){};a=d;b.Nva=a;b.Nva=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.FL)),t.__param(1,(0,n.l)(f.yl)),t.__param(2,(0,n.l)(l.nD)),t.__param(3,(0,n.l)(k.Cc))],a);},20674:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p){this.Zk=m;this.wd=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Lwa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(6405);f=a(2248);e=a(61731);h=a(59818);l=a(31149);k=a(82100);d.prototype.fja=function(){return !0;};d.prototype.bHa=function(){return !1;};d.prototype.KHa=function(){return !1;};d.prototype.MMa=function(){return k.gD;};d.prototype.tla=function(){};d.prototype.BNa=function(){return [];};d.prototype.pPa=function(){Promise.reject(new l.ue(c.aa.Fwa));};d.prototype.WIa=function(m){var p;p=new Uint8Array(m.message);p=this.Ydc(p,"PlayReadyKeyMessage","Challenge");p=this.wd.decode(p);return {type:m.type,sessionId:m.target.sessionId,YP:[p],messageType:m.messageType};};d.prototype.nI=function(m){var p,r,q;p=new e.Gj(c.aa.dfa);r=m.code;null != r && void 0 !== r?(r=parseInt(r,10),p.subCode=1 <= r && 9 >= r?c.W.LS + r:c.W.LS):p.subCode=m instanceof h.Pv?c.W.L0:c.W.fq;try{q=(/\((\d+)\)/).exec(m.message);p.extCode=this.Zk.hla(Number(q && q[1]),4);}catch(u){}p.P5(m);return p;};d.prototype.Ydc=function(m,p){var q,u,v;for(var r=1;r < arguments.length;++r);for(r=1;r < arguments.length;r++);r="";u=m.length;for(q=0;q < u;q++){v=m[q];0 < v && (r+=String.fromCharCode(v));}u="\\s*(.*)\\s*";for(q=arguments.length - 1;0 < q;q--){v=arguments[q];if(0 > r.search(v))return "";v="(?:[^:].*:|)" + v;u="[\\s\\S]*<" + v + "[^>]*>" + u + "</" + v + ">[\\s\\S]*";}return (r=r.match(new RegExp(u)))?r[1]:"";};d.prototype.GW=function(){};a=d;b.Lwa=a;b.Lwa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.FL)),t.__param(1,(0,n.l)(f.yl))],a);},47450:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Pfa=void 0;a.knc=function(d){return "ID" + (d + 1);};a.dIb=function(d){return Number(d.substr(2)) - 1;};b.Pfa=a;},8265:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q;function d(u,v,w,x){this.Zk=u;this.wd=v;this.cj=w;this.zi=x;}Object.defineProperty(b,"__esModule",{value:!0});b.rCa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(6405);f=a(84408);e=a(61731);h=a(59818);l=a(2248);k=a(82100);m=a(97737);p=a(31149);r=a(7605);q=a(47450);d.prototype.fja=function(){return !1;};d.prototype.bHa=function(){return !1;};d.prototype.KHa=function(){return !0;};d.prototype.MMa=function(){return k.gD;};d.prototype.tla=function(){return this.wd.decode(k.bxa);};d.prototype.BNa=function(){return [];};d.prototype.pPa=function(u){u.taa();};d.prototype.WIa=function(u){var v,w;v=[];if(u.messageType === m.$ya || u.messageType === m.Zya){if(u.messageType === m.$ya){w=this.cj.encode(new Uint8Array(u.message));v=JSON.parse(w);w=v.map(function(x){return x.keyID;});v=v.map(function(x){return x.payload;});}else v=[this.wd.encode(new Uint8Array(u.message))];if(0 === v.length || !v.every(function(x){return x && x.length;}))throw new p.ue(c.aa.m3a);v=this.SKc(v);v=this.cj.decode(JSON.stringify(v));}else v=new Uint8Array(u.message);return {type:u.type,sessionId:u.target.sessionId,YP:[v],messageType:u.messageType,zP:w};};d.prototype.nI=function(u){var v,w,x,y;w=null === (v=u.target) || void 0 === v?void 0:v.error;if(w)(x=w.systemCode,y=w.code);v=new e.Gj(c.aa.dfa,u instanceof h.Pv?c.W.L0:c.W.LS,x?this.Zk.hla(x,4):y,"",w);v.P5(u);return v;};d.prototype.SKc=function(u){u=u.map(function(v,w){return {ID:q.Pfa.knc(w),PAYLOAD:v};});return {VERSION:this.zi.kB?3:1,CHALLENGES:u};};d.prototype.GW=function(u,v){var w,x;w=this;if(v && this.zi.kB)try{x=this.cj.encode(v[0]);return JSON.parse(x).RESPONSES.sort(function(y,A){return y.ID > A.ID?1:-1;}).map(function(y){var A;A=q.Pfa.dIb(y.ID);y=w.wd.decode(y.DHB).subarray(4,12);A=w.wd.decode(u[A]).subarray(0,8);return {from:y,to:A};});}catch(y){throw new e.Gj(c.aa.sTb,void 0,void 0,void 0,y);}};a=d;b.rCa=a;b.rCa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.FL)),t.__param(1,(0,n.l)(l.yl)),t.__param(2,(0,n.l)(f.LD)),t.__param(3,(0,n.l)(r.Xx))],a);},63341:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.rpb=void 0;t=a(22674);d=a(62502);n=a(15031);c=a(76691);g=a(69936);f=a(33399);e=a(14318);h=a(75447);l=a(69484);b.rpb=new t.je(function(k){k(l.Z3a).to(d.kxa).pa();k(l.lab).to(n.ZBa).pa();k(l.kab).to(c.YBa).pa();k(e.X3a).to(g.ixa).pa();k(h.X4a).to(f.Jxa).pa();});},14318:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.X3a="FtlDataParserSymbol";},69484:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lab="ReportSyncSymbol";b.kab="ReportApiErrorSyncSymbol";b.Y3a="FtlProbeConfigSymbol";b.Z3a="FtlProbeSymbol";},75447:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.X4a="HttpRequesterSymbol";},69936:function(t,b,a){var n,c,g,f,e;function d(h,l){this.is=h;this.json=l;(0,c.Wu)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.ixa=void 0;t=a(22970);n=a(22674);c=a(66523);g=a(63368);f=a(5021);a=a(42207);d.prototype.parse=function(h){var k;h=this.json.parse(h);if(!this.is.LFa(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.T3(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.T3(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.tN(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.T3(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.tN(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.aw(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.l4(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var l=0;l < h.urls.length;++l){k=h.urls[l];if(!this.is.LFa(k))throw Error("FtlProbe: param.urls[" + l + "]: not an object");if(!this.is.ks(k.name))throw Error("FtlProbe: param.urls[" + l + "].name: not a string");if(!this.is.ks(k.method))throw Error("FtlProbe: param.urls[" + l + "].method: not a string");if(!this.is.ks(k.url))throw Error("FtlProbe: param.urls[" + l + "].url: not a string");}return {ABc:h.pulses,QCb:h.pulse_delays?h.pulse_delays.map(f.ac):[],zBc:(0,f.ac)(h.pulse_timeout),gvb:h.next?(0,f.ac)(h.next):void 0,urls:h.urls,eRa:h.logblob,context:h.ctx};};e=d;b.ixa=e;b.ixa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.ei)),t.__param(1,(0,n.l)(g.$S))],e);},34731:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p){k=f.Ef.call(this,k,"FtlProbeConfigImpl") || this;k.Oj=m;k.Ia=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.jxa=void 0;t=a(22970);n=a(30869);c=a(22674);g=a(5021);f=a(64174);e=a(24747);h=a(12501);a=a(83767);Ia(d,f.Ef);Ga.Object.defineProperties(d.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.$La + (-1 === this.$La.indexOf("?")?"?":"&") + "monotonic=" + this.Ia.xyb + "&device=web";}},tHb:{configurable:!0,enumerable:!0,get:function(){return g.fa;}},QLa:{configurable:!0,enumerable:!0,get:function(){return "";}},$La:{configurable:!0,enumerable:!0,get:function(){return this.Oj.endpoint + "/ftl/probe" + (this.QLa?"?force=" + this.QLa:"");}}});l=d;b.jxa=l;t.__decorate([h.config(h.fd,"ftlEnabled")],l.prototype,"enabled",null);t.__decorate([h.config(h.hm,"ftlStartDelay")],l.prototype,"tHb",null);t.__decorate([h.config(h.string,"ftlEndpointForceParam")],l.prototype,"QLa",null);t.__decorate([h.config(h.url,"ftlEndpoint")],l.prototype,"$La",null);b.jxa=l=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(a.Fn)),t.__param(1,(0,c.l)(e.nda)),t.__param(2,(0,c.l)(n.di))],l);},62502:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r,q,u,v,w){this.config=m;this.dtb=p;this.nd=r;this.Ce=q;this.xDc=u;this.$Db=v;this.Fpc=0;this.ta=w.qb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.kxa=void 0;t=a(22970);c=a(22674);g=a(5021);f=a(53085);e=a(87386);h=a(14318);l=a(75447);a=a(69484);d.prototype.start=function(){this.config.enabled && !this.wx && (this.wx=this.nd.Kp(this.config.tHb,this.FK.bind(this)));};d.prototype.stop=function(){this.wx && (this.wx.cancel(),this.wx=void 0);};d.prototype.FK=function(){var m,p;m=this;p="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.Fpc++;this.Lkc(p).then(function(r){return Promise.all(r.urls.map(function(q){return m.Olc(r,q.name,q.method,q.url);})).then(function(q){0 < q.length && m.xDc.Cra({data:q,context:r.context,eRa:r.eRa});}).then(function(){return r;});}).then(function(r){m.wx && (r.gvb?m.wx=m.nd.Kp(r.gvb,m.FK.bind(m)):m.stop());}).catch(function(r){return m.ta.error("FTL run failed",r);});};d.prototype.Lkc=function(m){var p;p=this;return this.dtb.get(m,!1).then(function(r){if(200 != r.status || null == r.body)return (p.$Db.Cra({url:m,status:r.status,rBb:"FTL API request failed",sf:r.sf}),Promise.reject(Error("FTL API request failed: " + r.status)));r=p.Ce.parse(r.body);return Promise.resolve(r);}).catch(function(r){r instanceof Error && (p.$Db.Cra({url:m,status:0,rBb:r.message}),p.ta.error("FTL API call failed",r.message));return Promise.reject(r);});};d.prototype.Olc=function(m,p,r,q){var u;u=this;return new Promise(function(v,w){var H;for(var x,y,A,z,B,C=[],D={},F=0;F < m.ABc;(D={nua:D.nua,oua:D.oua},++F)){D.nua=F < m.QCb.length?m.QCb[F]:g.fa;D.oua="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (F + 1);H=(function(E){return function(){return new Promise(function(G,K){u.nd.Kp(E.nua,function(){n.QAc(u.dtb,E.oua,m.zBc).then(function(N){function I(L,O,J){L || (L=J.headers[O]);return L;}x=I(x,"via",N);y=I(y,"x-ftl-probe-data",N);A=I(A,"x-ftl-error",N);z=I(z,"x-ftl-probe-recv-ts",N);B=I(B,"latency-trace",N);N={method:r,status:N.status,sf:N.sf,yNc:x || "",c5b:y || "",i6:A || "",UFc:z || "",oqc:u.oyc(B)};G(N);}).catch(function(N){K(N);});});});};})(D);C.push(0 < F?C[F - 1].then(H):H());}Promise.all(C).then(function(E){v({name:p,method:r,url:q,data:E});}).catch(function(E){w(E);});});};d.prototype.oyc=function(m){var p;if(m){p={};m=Ea(m.split(";"));for(var r=m.next();!r.done;r=m.next())if((r=r.value.trim().split("=")) && 2 == r.length)try{p[r[0].trim()]=Number.parseInt(r[1]);}catch(q){}return p;}};d.QAc=function(m,p,r){return m.get(p,!1,r).then(function(q){return Object.assign({},q);});};k=n=d;b.kxa=k;b.kxa=k=n=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(a.Y3a)),t.__param(1,(0,c.l)(l.X4a)),t.__param(2,(0,c.l)(f.Pk)),t.__param(3,(0,c.l)(h.X3a)),t.__param(4,(0,c.l)(a.lab)),t.__param(5,(0,c.l)(a.kab)),t.__param(6,(0,c.l)(e.wb))],k);},33399:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r,q){this.Ia=p;this.yOc=r;this.performance=q;(0,c.Wu)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.Jxa=void 0;t=a(22970);c=a(66523);g=a(64274);f=a(72574);e=a(63368);h=a(30869);l=a(22674);k=a(81438);m=a(5021);d.prototype.get=function(p,r,q){var u;u=this;return new Promise(function(v,w){var x,y,A;try{x=u.yOc.create();("withCredentials" in x) || w(Error("Missing CORS support"));x.open("GET",p,!0);r && (x.withCredentials=!0);q && (x.timeout=q.la(m.wa));y=u.Ia.gg;A=void 0;x.onreadystatechange=function(){var z;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=u.Ia.gg.ca(y);break;case XMLHttpRequest.DONE:z=u.Ia.gg.ca(y);z={body:x.responseText,status:x.status,headers:n.xTa(x.getAllResponseHeaders()),sf:u.eNa(p,(0,f.ka)(x.responseText.length),z,A)};v(z);}};x.send();}catch(z){w(z);}});};d.xTa=function(p){var r,u,v;r={};p=p.split("\r\n");for(var q=0;q < p.length;q++){u=p[q];v=u.indexOf(": ");0 < v && (r[u.substring(0,v).toLowerCase()]=u.substring(v + 2));}return r;};d.prototype.eNa=function(p,r,q,u){r={size:r,duration:q,GYa:u};if(!this.performance || !this.performance.getEntriesByName)return r;q=this.performance.getEntriesByName(p);if(0 == q.length && (q=this.performance.getEntriesByName(p + "/"),0 == q.length))return r;p=q[q.length - 1];r=(0,g.p9)(r);p.decodedBodySize && (r.size=(0,f.ka)(p.decodedBodySize));0 < p.duration?r.duration=(0,m.timestamp)(p.duration):0 < p.startTime && 0 < p.responseEnd && (r.duration=(0,m.timestamp)(p.responseEnd - p.startTime));0 < p.requestStart && (r.Amb=(0,m.timestamp)(p.domainLookupEnd - p.domainLookupStart),r.uYa=(0,m.timestamp)(p.connectEnd - p.connectStart),r.GYa=(0,m.timestamp)(p.responseStart - p.startTime),0 === p.secureConnectionStart?r.MYa=(0,m.timestamp)(0):void 0 !== p.secureConnectionStart && (q=p.connectEnd - p.secureConnectionStart,r.MYa=(0,m.timestamp)(q),r.uYa=(0,m.timestamp)(p.connectEnd - p.connectStart - q)),0 < this.performance.timeOrigin && 0 < p.responseStart && (r.kEb=(0,m.timestamp)(this.performance.timeOrigin + p.requestStart),r.zEb=(0,m.timestamp)(this.performance.timeOrigin + p.responseStart)));return r;};a=n=d;b.Jxa=a;b.Jxa=a=n=t.__decorate([(0,l.Y)(),t.__param(0,(0,l.l)(h.di)),t.__param(1,(0,l.l)(k.qdb)),t.__param(2,(0,l.l)(e.gfa)),t.__param(2,(0,l.optional)())],a);},76691:function(t,b,a){var n,c,g,f,e,h;function d(l,k){this.Bh=l;this.gm=k;}Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;t=a(22970);c=a(22674);g=a(72574);f=a(5021);e=a(45118);a=a(31850);d.prototype.Cra=function(l){l=this.gm.tu("ftlProbeError","info",n.oOc({url:l.url,sc:l.status,pf_err:l.rBb},l));this.Bh.Lc(l);};d.oOc=function(l,k){k.sf && (k=k.sf,n.ls(l,"d",k.duration),n.ls(l,"dns",k.Amb),n.ls(l,"tcp",k.uYa),n.ls(l,"tls",k.MYa),n.ls(l,"ttfb",k.GYa),n.ls(l,"client_send_ts",k.kEb),n.ls(l,"client_recv_ts",k.zEb),l.sz=k.size.la(g.Qx));return l;};d.ls=function(l,k,m){m && (l[k]=m.la(f.wa));};h=n=d;b.YBa=h;b.YBa=h=n=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(e.Io)),t.__param(1,(0,c.l)(a.tD))],h);},15031:function(t,b,a){var n,c,g,f,e,h;function d(l,k){this.Bh=l;this.gm=k;}Object.defineProperty(b,"__esModule",{value:!0});b.ZBa=void 0;t=a(22970);c=a(22674);g=a(72574);f=a(5021);e=a(45118);a=a(31850);d.prototype.Cra=function(l){var k;k={ctx:l.context,data:l.data.map(function(m){return {name:m.name,method:m.method,url:m.url,data:m.data.map(function(p){return n.pOc({method:p.method,d:p.sf.duration.la(f.wa),sc:p.status,sz:p.sf.size.la(g.Qx),via:p.yNc,cip:p.c5b,err:p.i6,server_recv_ts:p.UFc},p);})};})};l=this.gm.tu(l.eRa,"info",k);this.Bh.Lc(l);};d.pOc=function(l,k){n.ls(l,"dns",k.sf.Amb);n.ls(l,"tcp",k.sf.uYa);n.ls(l,"tls",k.sf.MYa);n.ls(l,"ttfb",k.sf.GYa);n.p_b(l,k.oqc);n.ls(l,"client_send_ts",k.sf.kEb);n.ls(l,"client_recv_ts",k.sf.zEb);return l;};d.p_b=function(l,k){k && (l.rtts=k);};d.ls=function(l,k,m){m && (l[k]=m.la(f.wa));};h=n=d;b.ZBa=h;b.ZBa=h=n=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(e.Io)),t.__param(1,(0,c.l)(a.tD))],h);},43367:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.UB=void 0;t=a(22674);d=a(80012);n=a(26971);b.UB=new t.je(function(c){c(d.m6a).to(n.uya);});},80012:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.m6a="LicenseBrokerFactorySymbol";},20124:function(t,b,a){var n,c,g,f,e,h;function d(l,k){this.kc=l;this.j=k;this.Q8=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vda=void 0;t=a(22970);n=a(36129);c=a(22674);g=a(32687);f=a(3887);e=a(31276);h=a(82100);d.prototype.zLa=function(l){this.Q8.forEach(function(k){return k(l);});};d.prototype.Pf=function(l,k,m){this.j.Pf(l,k,m);};d.prototype.i_b=function(l){-1 === this.Q8.indexOf(l) && this.Q8.push(l);};d.prototype.cDc=function(l){l=this.Q8.indexOf(l);0 <= l && this.Q8.splice(l,1);};d.prototype.Zkc=function(l){var k,m;k={};(0,g.$c)(l.code)?k.Ma=(0,n.G3a)(l.code):k.Ma=n.W.fq;try{m=(0,h.pNa)(l.message);m && (k.yg=(0,e.fHa)(m,4));}catch(p){}k.df=(0,f.Mi)(l);return k;};a=d;b.vda=a;b.vda=a=t.__decorate([(0,c.Y)()],a);},26971:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p){this.JV=l;this.config=k;this.UX=m;this.$f=p;}Object.defineProperty(b,"__esModule",{value:!0});b.uya=void 0;t=a(22970);n=a(22674);c=a(47737);g=a(128);f=a(4203);e=a(92395);a=a(66476);d.prototype.create=function(l,k){return new g.vya(this.config(),this.$f,l,k,this.JV,this.UX());};h=d;b.uya=h;b.uya=h=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Xda)),t.__param(1,(0,n.l)(f.Cc)),t.__param(2,(0,n.l)(e.e2)),t.__param(3,(0,n.l)(a.vM))],h);},128:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r,q,u,v,w,x){u=h.vda.call(this,u,v) || this;u.config=r;u.$f=q;u.JV=w;u.Coa=x;u.log=(0,c.bn)(u.j,"LicenseBroker");u.HQa=new Set();u.KRa=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.vya=void 0;t=a(22970);n=a(36129);c=a(31276);g=a(28289);f=a(5021);e=a(22674);h=a(20124);l=a(85001);k=a(82100);m=a(56039);p=a(54973);Ia(d,h.vda);d.prototype.Qzb=function(){var r,q;r=this;q=this.j.ea;this.HQa.has(q.R) || (this.HQa.add(q.R),this.G0b(q).catch(function(){return r.fEb(q);}).then(function(){return r.jhb(q);}).catch(function(u){return r.ihb(q,u);}).catch(function(u){return r.Pf(u.code,u,u.extCode);}));};d.prototype.G0b=function(r){var q;q=this;return Promise.all([this.$f.Ngc(r.R),this.JV()]).then(function(u){var v,w;u=Ea(u);v=u.next().value;w=u.next().value;return v.nsa.then(function(x){var y;y=q.Coa.mediaKeys;if(y && y !== x.mediaKeys)return (q.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === v.IQa.source && (y=q.Hqb(r),w.uyb(y,x));return x;}).then(function(x){return q.J0b(x,r,v.IQa);});}).catch(function(u){q.log.warn("eme not in cache",u);throw u;});};d.prototype.J0b=function(r,q,u){this.wCb(r,q);q.TU=u;this.Coa.mgb(r.mediaKeys);return r.JGa();};d.prototype.yfc=function(r){var q;q={};r.forEach(function(u){q[(0,g.qbc)(u.M9)]=u.time.la(f.wa);});return q;};d.prototype.wCb=function(r,q){var u;u=this;q.Zl=r;r.rGc(function(v){u.Pf(v.code,v,v.extCode);});};d.prototype.jhb=function(r){this.log.info("Successfully applied license for xid: " + r.Ha + ", viewable: " + r.R + ", segment: " + r.L);this.dJ(r);this.KRa?this.zLa(r.R):this.setMediaKeys(r);};d.prototype.ihb=function(r,q){this.dJ(r);throw q;};d.prototype.dJ=function(r){r.Zl && r.dJ(this.yfc(r.Zl.tf));};d.prototype.Hqb=function(r){var q,u,v;u=r.VC[0];v=u.streams[0].me;v=(0,k.kub)(v);u=(0,m.Bqb)(u.streams);return {type:(0,p.f7)(this.config,!1),initData:r.NQ.map(function(w){return (0,c.oE)(w);}),dna:v,context:{Ga:this.kc.Ga,Cna:u},xr:{R:r.R,Ha:r.Ha,Zd:r.Zd,Tq:r.Tq,ho:r.U.ho,Jf:r.U.ya.Jf,Go:(null === (q=r.ja.sh) || void 0 === q?void 0:q.trackId) || r.Pc.L5.trackId}};};d.prototype.fEb=function(r){var q;q=this;return this.JV().then(function(u){var v;v=q.Hqb(r);q.HQa.add(r.R);return u.Ws(v,q.Coa).then(function(w){q.wCb(w,r);q.j.fireEvent(l.ha.JQa,{R:r.R});return w.JGa();});});};d.prototype.setMediaKeys=function(r){var q;q=this;if(this.KRa)this.log.trace("Media Keys already set");else try{this.kc.Ga?(this.KRa=!0,this.kc.Ga.setMediaKeys(r.Zl.mediaKeys).then(function(){q.zLa(r.R);}).catch(function(u){u=q.Zkc(u);q.Pf(n.aa.e9a,u,u.yg);})):this.zLa(r.R);}catch(u){this.Pf(n.aa.e9a,u,void 0);}};d.prototype.EDc=function(r){var q;q=this;r=void 0 === r?this.j:r;return this.fEb(r).then(function(){return q.jhb(r);}).catch(function(u){return q.ihb(r,u);});};d.prototype.close=function(){this.Coa.dDc();};Ga.Object.defineProperties(d.prototype,{Uw:{configurable:!0,enumerable:!0,get:function(){return this.config.Uw;}}});a=d;b.vya=a;b.vya=a=t.__decorate([(0,e.Y)()],a);},13847:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.k0a="AppLogSinkSymbol";},21009:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H;Object.defineProperty(b,"__esModule",{value:!0});b.logblobs=void 0;t=a(22674);d=a(97996);n=a(31966);c=a(79428);g=a(50723);f=a(33345);e=a(74621);h=a(4203);l=a(41320);k=a(69124);m=a(74031);p=a(53085);r=a(33554);q=a(13847);u=a(53234);v=a(33945);w=a(31850);x=a(81829);y=a(45118);A=a(98326);z=a(52025);B=a(30895);C=a(36792);D=a(74714);F=a(73449);H=a(26158);b.logblobs=new t.je(function(E){E(y.Io).to(c.Eya).pa();E(u.U7a).to(g.Bza).pa();E(v.T6a).to(f.Pya).pa();E(x.R6a).to(e.Mya).pa();E(y.Dya).to(l.Cya).pa();E(w.tD).to(k.Kya).pa();E(x.Q6a).to(m.Lya).pa();E(A.X1).to(z.cM).pa();E(A.Oya).to(D.Nya).pa();E(F.Z1).to(H.dM).pa();E(B.V2a).to(C.twa).pa();E(q.k0a).to(n.Rua).pa();E(y.N6a).jca(function(G){return function(){return G.Hb.get(d.k2)().then(function(K){return new Promise(function(N){var L,O,J;function I(){O() && J() && K.dQ?N(G.Hb.get(y.Io)):L.Vf(I);}L=G.Hb.get(p.Pk);O=G.Hb.get(h.Cc);J=G.Hb.get(r.uA);L.Vf(I);});});};});});},30895:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.V2a="DownloadReportBuilderSymbol";},45118:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dya="LogBatcherConfigSymbol";b.Io="LogBatcherSymbol";b.N6a="LogBatcherProviderSymbol";},33945:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.T6a="LogblobSenderSymbol";},31850:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tD="LogMessageFactorySymbol";},81829:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q6a="LogMessageRulerConfigSymbol";b.R6a="LogMessageRulerSymbol";},98326:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.X1="LogblobBuilderFactorySymbol";b.Oya="LogblobBuilderCommonSymbol";},18169:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Ed={};t.q2b="bitraterestriction";t.Rib="cdnsel";t.zE="chgstrm";t.debug="debug";t.$ac="dlreport";t.Cu="endplay";t.pP="intrplay";t.NF="midplay";t.kK="playbackaborted";t.saa="renderstrmswitch";t.AK="repos";t.qt="resumeplay";t.XFc="serversel";t.Pp="startplay";t.Fba="statechanged";t.transition="transition";t.sWa="segmentdropped";t.vGa="advertsmismatch";t.V0b="asereport";t.GJ="livereport";t.urc="livepipelinefailover";t.Dhb="audioswitch";t.gib="blockedautoplay";t.config="config";t.hZc="ftlProbeError";t.LJc="subtitleerror";t.MJc="subtitleqoe";t.OKc="timedtextrebuffer";t.UIb="timedtextswitch";t.oHb="speedchanged";},73449:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z1="LogblobMonitorFactorySymbol";},53234:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.U7a="MessageQueueSymbol";},31966:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r){var q;q=this;this.Urc=k;this.BF=m;this.config=r;this.jVa=[];this.Urc.ura(n.kMb,this.Blc.bind(this));p().then(function(u){var v;v=r().yu.ofc;q.Rsc=v?l.Cn[v.toUpperCase()]:l.Cn.Ho;q.Bh=u;q.MFc();});}Object.defineProperty(b,"__esModule",{value:!0});b.Rua=void 0;t=a(22970);c=a(22674);g=a(4203);f=a(36410);e=a(45118);h=a(31850);l=a(87386);d.prototype.Blc=function(k,m){this.Bh?this.UCb(k,m):this.jVa.push([k,m]);};d.prototype.MFc=function(){var k,m;k=this;m=this.jVa;this.jVa=[];m.forEach(function(p){k.UCb(p[0],p[1]);});};d.prototype.UCb=function(k,m){var p;if(this.Bh && this.vHc(k)){p={debugMessage:k.message,debugCategory:k.Nn};k.Hc.forEach(function(r){return p=Object.assign(Object.assign({},p),r.value);});p=Object.assign(Object.assign({},p),{prefix:"debug"});k=this.BF.tu("debug",l.Cn[k.level].toLowerCase(),p,m);this.Bh.Lc(k);}};d.prototype.vHc=function(k){var m;m=this.Rsc;return void 0 !== m && k.level <= m && !k.Hc.find(function(p){return p.g6(l.Wda);});};a=n=d;b.Rua=a;a.kMb="adaptorAll";b.Rua=a=n=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(f.eT)),t.__param(1,(0,c.l)(h.tD)),t.__param(2,(0,c.l)(e.N6a)),t.__param(3,(0,c.l)(g.Cc))],a);},36792:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.twa=void 0;t=a(22970);n=a(82956);c=a(51344);g=a(3887);f=a(36129);e=a(45146);h=a(22365);l=a(22674);a=a(4203);d.prototype.construct=function(m,p){var r,q,u;r=this;q={};m.forEach(function(v){var w;w=v.url;q[w] || (q[w]=[]);q[w].push(v);});u=[];(0,g.Yh)(q,function(v,w){u.push(r.clc(w,p));});return {urls:u};};d.prototype.clc=function(m,p){var r,q,u,v,w;r=this;u=m[0];v={url:u.url,bitrate:u.bitrate,cdnid:null === (q=u.Kc) || void 0 === q?void 0:q.id,dltype:u.bbc,id:u.Yb};w={};m.forEach(function(x){var y;y=r.tub(x)?"fail":"success";w[y] || (w[y]=[]);w[y].push(x);});(0,g.Yh)(w,function(x,y){"fail" === x?v.failures=r.Jhc(y,p):"success" === x && (v.downloads=r.vhc(y,p));});return v;};d.prototype.vhc=function(m,p){var r,q,u;r=this;q={};m.forEach(function(v){var w;w=v.C5b;q[w] || (q[w]=[]);q[w].push(v);});u=[];(0,g.Yh)(q,function(v,w){var x;x=[];w.forEach(function(y){x.push(y);r.Vnc(y) && (u.push(r.gqb(x,p,v)),x=[]);});0 < x.length && u.push(r.gqb(x,p,v));});return u;};d.prototype.gqb=function(m,p,r){var q,u,v,w,y;q=m.sort(function(A,z){return A.yp.pl < z.yp.pl?-1:A.yp.pl > z.yp.pl?1:0;});u=q[0].yp;v=u.hG;w=u.pl;u=u.rv;for(var x=1;x < m.length;x++){y=m[x].yp;y.hG < v && (v=y.hG);y.pl < w && (w=y.pl);y.rv > u && (u=y.rv);}x=this.Sjc(q);y=q[q.length - 1];return {time:v - p,tcpid:r?parseInt(r):-1,tresp:w - v,first:x,ranges:this.Tjc(q,x),dur:u - w,trace:this.WW(m),status:this.UW(y),enctimeinfo:y.NKa};};d.prototype.Sjc=function(m){var p;p=0;m.forEach(function(r){r.vC && (p=(0,h.wD)(p,r.vC[0]));});return p;};d.prototype.Tjc=function(m,p){var r;r=[];m.forEach(function(q){q.vC?r.push([q.vC[0] - p,q.vC[1] - p]):r.push([0,-1]);});return r;};d.prototype.WW=function(m){var p,r;p=[];m.forEach(function(q){var u;q=q.yp;if(r){u=q.hG - r.rv;0 < u && p.push([u,-2]);u=(0,h.Sx)(r.rv,q.hG);u=q.pl - u;0 < u && p.push([u,-3]);}p.push([q.rv - q.pl,q.Rm || 0]);r=q;});return p;};d.prototype.Vnc=function(m){if(m.Ma === f.W.UL || m.Ma === f.W.VL)return !0;};d.prototype.UW=function(m){if(m.success)return "complete";if(m.Ma === f.W.UL)return "abort";if(m.Ma === f.W.VL)return "stall";(0,e.qa)(!1,"download status should never be: other");return "other";};d.prototype.Jhc=function(m,p){var r,q;r=this;q=[];m.forEach(function(u){var v;v=u.yp;u={time:v.pl - p,tresp:v.pl - v.hG,dur:v.rv - v.pl,range:u.vC,reason:r.Vjc(u),httpcode:u.Uq,nwerr:(0,n.Yic)(u.Ma),enctimeinfo:u.NKa};q.push(u);});return q;};d.prototype.Vjc=function(m){return m.Uq || m.Ma === f.W.D1?"http":m.Ma === f.W.G1?"timeout":"network";};d.prototype.tub=function(m){return m.success || void 0 === m.success || m.Ma === f.W.UL || m.Ma === f.W.VL?!1:!0;};d.prototype.N6b=function(m){var p,r,q,u,v,w;p=m.request;r=p.stream;q=p.track;u=p.url;v=this.shc(q,u);switch(v){case c.Jm.audio:case c.Jm.video:w=p.stream.Yb;break;case c.Jm.u_:case c.Jm.aZa:w=q.Yb;}m={bitrate:r && r.bitrate,bbc:v,Yb:w,yp:m.yp,Kc:p.Kc,url:u,yg:m.yg,Uq:m.Uq,Ma:m.Ma,success:m.success,C5b:this.Wdc(m),NKa:p.nO};void 0 !== p.offset && void 0 != p.length && (m.vC=[p.offset,p.offset + p.length - 1]);return m;};d.prototype.shc=function(m,p){if(m)return m.type;if(0 <= p.indexOf("netflix.com")){if(0 <= p.indexOf("nccp"))return "nccp";if(0 <= p.indexOf("api"))return "api";}return "other";};d.prototype.Wdc=function(m){if(m.headers && (m=m.headers["x-tcp-info"]))return (m=m.split(";").filter(function(p){return 0 == p.indexOf("port=");}).map(function(p){return p.split("=")[1];})[0])?(0,g.jl)(m):m;};k=d;b.twa=k;b.twa=k=t.__decorate([(0,l.Y)(),t.__param(0,(0,l.l)(a.Cc))],k);},41320:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m){k=h.Ef.call(this,k,"LogBatcherConfigImpl") || this;k.config=m;k.Lsc=(0,n.ka)(5E5);k.JFc=(0,c.ZRa)(1);k.vxb=(0,n.ka)(1E6);return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Cya=void 0;t=a(22970);n=a(72574);c=a(5021);g=a(22674);f=a(4203);e=a(12501);h=a(64174);a=a(83767);Ia(d,h.Ef);Ga.Object.defineProperties(d.prototype,{hGa:{configurable:!0,enumerable:!0,get:function(){return this.config().hGa;}},MGb:{configurable:!0,enumerable:!0,get:function(){return [];}},LGb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});l=d;b.Cya=l;t.__decorate([e.config(e.object(),"shedLogblobTypes")],l.prototype,"MGb",null);t.__decorate([e.config(e.xy("string"),"shedDebugTypes")],l.prototype,"LGb",null);b.Cya=l=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(a.Fn)),t.__param(1,(0,g.l)(f.Cc))],l);},79428:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x,y){this.config=q;this.json=u;this.nd=v;this.Lrc=w;this.K9=y;this.ina=this.kJ=!1;this.listeners=[];(0,c.Wu)(this,"json");this.ta=x.qb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;t=a(22970);n=a(22674);c=a(66523);g=a(63368);f=a(33945);e=a(53085);h=a(87386);l=a(45118);k=a(53234);m=a(36129);p=a(15160);a(2762);r=a(18169);d.prototype.Sb=function(){this.kJ=!0;};d.prototype.Lc=function(q){var u;u=this;this.JHc(q) || (!1,0 < q.size.Ul(this.config.Lsc)?this.ta.error("Logblob is too large, dropping from the queue",{logblobType:q.type,logblobSize:q.size.toString()}):(this.listeners.forEach(function(v){return v.Etc(q);}),!1,this.K9.mGa(q),this.nd.Vf(function(){u.Wec();})));};d.prototype.flush=function(q){var u;u=this;q=void 0 === q?!1:q;return this.ina?(this.ta.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,w){u.ta.trace("Flushing",h.Wda);u.yt();u.nd.Vf(function(){u.yWa(q).then(function(){v();}).catch(function(x){w(x);});});});};d.prototype.addListener=function(q){this.listeners.push(q);};d.prototype.removeListener=function(q){q=this.listeners.indexOf(q);0 <= q && this.listeners.splice(q,1);};d.prototype.yWa=function(q){var u,v;u=this;q=void 0 === q?!1:q;if(!this.kJ)return (this.ta.trace("LogBatcher is not initialized"),Promise.resolve());if(this.ina)return (this.ta.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.K9.Fgc();if(0 === v.length && !q)return (this.ta.trace("No logblobs to send"),Promise.resolve());!1;this.yt();this.listeners.forEach(function(){});q=Promise.resolve();for(var w={},x=Ea(v),y=x.next();!y.done;(w={mua:w.mua},y=x.next()))(w.mua=y.value,q=q.then((function(A){return function(){return u.IFc(A.mua);};})(w)));return q.then(function(){return u.FI();}).catch(function(A){v.filter(function(z){return !z.tF;}).forEach(function(z){return z.Ff();});u.FI();throw Error("Send failure. " + A);});};d.prototype.IFc=function(q){var u;u=this;this.ta.trace("Sending batch: " + q.size,h.Wda);return Promise.resolve(this.K9.XCc(q)).then(function(){return u.Lrc.send(q.YP);}).then(function(){return q.i_();}).catch(function(v){u.ta.warn("Failed to send batch of logblobs.",v,h.Wda);q.Ff();u.sHc(v) && u.K9.VZb(q);u.LHc(v) && (u.ina=!0);throw v;});};d.prototype.sHc=function(q){return q.extCode === m.pea.t9a?!1:this.config.hGa;};d.prototype.LHc=function(q){return q.subCode === m.W.$3a || q.subCode === m.W.C1 || q.subCode === m.W.H1?!0:!1;};d.prototype.Wec=function(){var q;q=this;0 < this.K9.size.Ul(this.config.vxb)?this.yWa().catch(function(u){return q.ta.warn("Failed to send log messages on size threshold. " + u);}):this.FI();};d.prototype.yt=function(){this.zna && (!1,this.zna.cancel(),this.zna=void 0);};d.prototype.FI=function(){this.zna || (!1,this.zna=this.nd.Kp(this.config.JFc,this.AY.bind(this)));};d.prototype.AY=function(){var q;q=this;this.ina=!1;this.yt();this.yWa().catch(function(u){return q.ta.warn("Failed to send log messages on timer. " + u);});};d.prototype.stringify=function(q){var u;u="";try{u=this.json.stringify(q.data,void 0,"  ");}catch(v){}return u;};d.prototype.JHc=function(q){return 0 <= this.config.MGb.indexOf(q.type)?!0:q.type === r.Ed.debug?0 <= this.config.LGb.indexOf(q.data.debugCategory):!1;};a=d;b.Eya=a;b.Eya=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(l.Dya)),t.__param(1,(0,n.l)(g.$S)),t.__param(2,(0,n.l)(e.Pk)),t.__param(3,(0,n.l)(f.T6a)),t.__param(4,(0,n.l)(h.wb)),t.__param(5,(0,n.l)(k.U7a)),t.__param(6,(0,n.l)(p.Rda))],a);},69124:function(t,b,a){var c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x,y,A,z,B,C,D){this.platform=u;this.tJa=v;this.userAgentData=w;this.type=x;this.severity=y;this.timestamp=A;this.Oa=B;this.data=z;this.data.type=x;this.data.sev=y;this.data.devmod=this.platform.vI;this.data.clver=this.platform.version;q && q.Be && (q.Be.os && (this.data.osplatform=q.Be.os.name,this.data.osver=w.platformVersion.RB?w.platformVersion.version:q.Be.os.version),this.data.browsername=q.Be.name,this.data.browserver=q.Be.version);q.dQa && (this.data.tester=!0);q.groupName && !this.data.groupname && (this.data.groupname=q.groupName);q.XU && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + q.XU:q.XU);q.uca && (this.data.uigroupname=q.uca);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Oa.Hic();this.data.uniqueLogId=C.zpb();this.data.appId=this.Oa.id;D && (q=this.Oa.uc(),this.data.soffms=q.ca(D.xj).la(e.wa),this.data.mid=this.data.mid || D.R,this.data.lvpi=D.Fwb,this.data.uiLabel=D.We,this.data.uxLabels=D.Qta,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || D.Ha,D.oR && (x=D.oR,(D=D.oR.split(".")) && 1 < D.length && "S" !== D[0][0] && (x="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function n(q,u,v,w,x,y,A){this.Ia=q;this.tJa=u;this.config=v;this.Oa=w;this.hNc=x;this.platform=y;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.Kya=void 0;t=a(22970);c=a(72574);g=a(22674);f=a(30869);e=a(5021);h=a(58098);l=a(34231);k=a(81918);m=a(96723);p=a(91581);a=a(75236);n.prototype.tu=function(q,u,v,w){return new d(this.config,this.platform,this.tJa,this.userAgentData,q,u,this.Ia.gg,v,this.Oa,this.hNc,w);};r=n;b.Kya=r;b.Kya=r=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(f.di)),t.__param(1,(0,g.l)(h.n2a)),t.__param(2,(0,g.l)(l.Vr)),t.__param(3,(0,g.l)(k.Sd)),t.__param(4,(0,g.l)(m.Ncb)),t.__param(5,(0,g.l)(p.Yr)),t.__param(6,(0,g.l)(a.dga))],r);Ga.Object.defineProperties(d.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.Aib || (this.Aib=(0,c.ka)(this.tJa.encode(this.data).length));return this.Aib;}}});},74031:function(t,b,a){var n,c,g;function d(f){this.Un=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Lya=void 0;t=a(22970);n=a(22674);c=a(72574);a=a(33554);d.prototype.Prc=function(){var f;f=this.Un()?this.Un().Li.length:40;return (0,c.ka)(f + 33);};g=d;b.Lya=g;b.Lya=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.uA))],g);},74621:function(t,b,a){var n,c,g;function d(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Mya=void 0;t=a(22970);n=a(22674);c=a(81829);g=a(72574);d.prototype.measure=function(f){var e;e=this;return f.map(function(h){return h.size.add(e.config.Prc());}).reduce(function(h,l){return h.add(l);},(0,g.ka)(0));};a=d;b.Mya=a;b.Mya=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Q6a))],a);},74714:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w){this.platform=q;this.config=u;this.Oa=v;this.userAgentData=w;this.Ucb=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(36129);f=a(91581);e=a(5021);h=a(4203);l=a(3887);k=a(22365);m=a(82956);p=a(75236);r=a(26388);d.prototype.Qu=function(q,u,v){v && (q.adlid=v.Yb,q.abitrate=v.bitrate);u && (q.vdlid=u.Yb,q.vbitrate=u.bitrate);};d.prototype.ptb=function(q,u,v){v?q=Object.assign(q,(0,m.Djc)(this.platform.zw,v)):q.errorcode=g.aa.hk;q.errorcode === this.platform.zw + g.aa.a9a && (q.lastSyncWithVideoElement=this.getTime() - u.Uba);};d.prototype.utb=function(q,u){var v;try{Object.assign(q,(0,m.Grb)());v=u.getBoundingClientRect();q.rendersize=v.width + "x" + v.height;q.renderpos=v.left + "x" + v.top;}catch(w){}};d.prototype.ttb=function(q,u){var v,w,x;v=u.Kc[r.v.V].value;w=u.Kc[r.v.X].value;x=u.Gf.value;u=u.Te.value;v && (q.cdnid=v.id,q.cdnname=v.name);w && (q.acdnid=w.id,q.acdnname=w.name);if(null === x || void 0 === x?0:x.stream)(q.adlid=x.stream.Yb,q.abitrate=x.stream.bitrate);if(null === u || void 0 === u?0:u.stream)(q.vdlid=u.stream.Yb,q.vbitrate=u.stream.bitrate,q.vheight=u.stream.height,q.vwidth=u.stream.width);};d.prototype.rtb=function(q,u,v){var w;w=u.j;0 <= u.mediaTime.value && (u=v && !u.jb.Ag?u.Qq:w && w.pX()?w.kqb():u.mediaTime.value,q.moff=(0,l.Xq)(u),q.moffms=(0,l.zh)(u));};d.prototype.ntb=function(q,u){u.correlationId && (q.pbcid=u.correlationId);u.Zd && (q.playbackcontextid=u.Zd);};d.prototype.ZOa=function(q){var u,v;q.browserua=k.nT;q.browseruad=null === (v=null === (u=k.ng.userAgentData) || void 0 === u?void 0:u.brands) || void 0 === v?void 0:v.map(function(w){return [w.brand,w.version];});q.browseruadpv=this.userAgentData.platformVersion.RB?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;q.browseruada=this.userAgentData.architecture.RB?this.userAgentData.architecture.architecture:this.userAgentData.architecture.reason;q.browserhref=location.href;(u=k.ng && k.ng.connection && k.ng.connection.type) && (q.nettype=u);};d.prototype.cX=function(q){var u,v,w,x,y;if(this.config().Fcc){y=null === (u=null === k.ng || void 0 === k.ng?void 0:k.ng.connection) || void 0 === u?void 0:u.effectiveType;u=null === k.ng || void 0 === k.ng?void 0:k.ng.deviceMemory;y && (q.effectiveType=y);u && (q.deviceMemory=u);}(y=null === (v=null === k.ng || void 0 === k.ng?void 0:k.ng.connection) || void 0 === v?void 0:v.type) && (q.connectionType=y);v=null === (w=null === k.ng || void 0 === k.ng?void 0:k.ng.connection) || void 0 === w?void 0:w.downlink;"number" === typeof v && isFinite(v) && (q.downlink=v);w=null === (x=null === k.ng || void 0 === k.ng?void 0:k.ng.connection) || void 0 === x?void 0:x.rtt;"number" === typeof w && isFinite(w) && (q.rtt=w);};d.prototype.Lma=function(q,u){if(u=u.jb.Op)(u.isUIAutoPlay && (q.isUIAutoPlay=!0),u.clLogId && (q.cl_log_id=u.clLogId));};d.prototype.dX=function(q,u,v,w){var x,y,A,z,B;x=this;if(v=v && v.streams){A=new Set();z=new Set();B=new Set();v.forEach(function(C){C=C.me;A.add(C);z.add(C.replace(x.Ucb,""));(C=C.match(x.Ucb)) && 0 < C.length && B.add(C[1]);});q.videoProfiles=[].concat(za(A));q.videoProfile=0 === z.size?"none":[].concat(za(z))[0];q.videoProfileLevels=[].concat(za(B));v && v.length && (q.isMcClearen=!!v[0].ck.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}u && (null === (y=w.U) || void 0 === y?0:y.Rca) && (q.videoProfilesStatus=this.hxb(w.U.Rca));};d.prototype.hxb=function(q){return this.xsc(q.UW(),function(u){return u.supported?!0:u.reason;});};d.prototype.xsc=function(q,u){return Object.entries(q).reduce(function(v,w){var x;x=Ea(w);w=x.next().value;x=x.next().value;v[w]=u(x);return v;},{});};d.prototype.bX=function(q,u,v,w){var x,y;if(v=v && v.streams){y={};v.forEach(function(A){y[A.me]=void 0;});q.audioProfiles=Object.keys(y);}u && (null === (x=w.U) || void 0 === x?0:x.w4) && (q.audioProfilesStatus=this.hxb(w.U.w4));};d.prototype.otb=function(q){q.configversion=this.config().version;this.config().endpoint || (q.configendpoint="error");};d.prototype.getTime=function(){return this.Oa.uc().la(e.wa);};a=d;b.Nya=a;b.Nya=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(f.Yr)),t.__param(1,(0,n.l)(h.Cc)),t.__param(2,(0,n.l)(c.Sd)),t.__param(3,(0,n.l)(p.dga))],a);},52025:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C;function d(D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z){this.LIb=D;this.Bh=F;this.oLa=H;this.Cf=E;this.eka=G;this.Je=K;this.config=N;this.$f=I;this.Ia=L;this.Oa=O;this.platform=J;this.Nz=Q;this.BF=P;this.Ek=S;this.bF=Y;this.ZP=X;this.Gc=T;this.cx=U;this.QB=Z;}Object.defineProperty(b,"__esModule",{value:!0});b.cM=void 0;t=a(22970);n=a(87549);c=a(45118);g=a(74870);f=a(94800);e=a(22674);h=a(98326);l=a(74098);k=a(30895);m=a(32934);p=a(4203);r=a(30869);q=a(81918);u=a(91581);v=a(31850);w=a(66476);x=a(52531);y=a(63368);A=a(34231);z=a(2160);B=a(21103);a=a(18647);d.prototype.create=function(D,F){return new l.Y1(D,F,this.LIb,this.Bh,this.oLa,this.Cf,this.eka,this.Je,this.config,this.$f,this.Ia,this.Oa,this.Nz,this.BF,this.Ek,this.bF,this.ZP,this.Gc,this.cx,this.QB);};C=d;b.cM=C;b.cM=C=t.__decorate([(0,e.Y)(),t.__param(0,(0,e.l)(n.Ybb)),t.__param(1,(0,e.l)(c.Io)),t.__param(2,(0,e.l)(f.axa)),t.__param(3,(0,e.l)(g.Il)),t.__param(4,(0,e.l)(k.V2a)),t.__param(5,(0,e.l)(m.AA)),t.__param(6,(0,e.l)(p.Cc)),t.__param(7,(0,e.l)(w.vM)),t.__param(8,(0,e.l)(r.di)),t.__param(9,(0,e.l)(q.Sd)),t.__param(10,(0,e.l)(u.Yr)),t.__param(11,(0,e.l)(y.ifa)),t.__param(12,(0,e.l)(v.tD)),t.__param(13,(0,e.l)(x.oM)),t.__param(14,(0,e.l)(A.Vr)),t.__param(15,(0,e.l)(z.Eza)),t.__param(16,(0,e.l)(h.Oya)),t.__param(17,(0,e.l)(B.Ux)),t.__param(18,(0,e.l)(a.mya))],C);},74098:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E;function d(G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma,R){var M;M=this;this.j=G;this.Ka=K;this.LIb=N;this.Bh=I;this.oLa=L;this.Cf=O;this.eka=J;this.Je=Q;this.config=P;this.$f=S;this.Ia=Y;this.Oa=X;this.Nz=T;this.BF=U;this.Ek=Z;this.bF=aa;this.ZP=da;this.Gc=fa;this.cx=ma;this.QB=R;this.dca=[];this.QRa=this.oJ=this.xaa=0;this.IV=[];this.pGa=!1;this.Pp=function(V){var ba,ha,ca,la,ra,ta,ja,W,ea,ka,pa,qa,na,Aa,Ha,oa,wa,ya,ua;na={};try{na={playdelaysdk:(0,k.zh)(M.j.T4()),applicationPlaydelay:(0,k.zh)(M.j.GHa()),playdelay:(0,k.zh)(M.j.HHa()),trackid:M.j.Em,bookmark:(0,k.zh)(M.j.ap || 0),pbnum:M.j.index,endianness:(0,e.Fhc)(),isStandaloneDisplay:M.config().rHb};M.config().Ncc && (na.transitiontime=M.j.Xp,na.uiplaystarttime=M.j.jb.oA,na.playbackrequestedat=M.j.xj.la(m.wa),na.clockgettime=M.getTime(),na.clockgetpreciseepoch=M.Ia.gg.la(m.wa),na.clockgetpreciseappepoch=M.Oa.zF.la(m.wa),na.absolutestarttime=M.j.LO(),na.relativetime=M.j.Brb());Aa=M.j.ja.Vd;Ha=null === (ha=null === (ba=M.j.Gf.value) || void 0 === ba?void 0:ba.stream) || void 0 === ha?void 0:ha.Yb;na.audiotrackinfo=M.NO(Aa,Ha);oa=M.j.ja.sh;wa=null === (la=null === (ca=M.j.Te.value) || void 0 === ca?void 0:ca.stream) || void 0 === la?void 0:la.Yb;na.videotrackinfo=M.aOa(oa,wa);na.texttrackinfo=M.eP(M.j.ja.Cd);na.mediabufferedsegments=null === (ra=M.j.Qd) || void 0 === ra?void 0:ra.DW();M.lla(na,"startplay");}catch(xa){M.log.error("error in startplay log fields",xa);}M.j.ij && (na.blocked=M.j.ij);M.Gc.otb(na);(0,x.ec)(M.j.jib) && (na.bookmarkact=(0,k.zh)(M.j.jib));(ba=M.j.tf.at && M.j.tf.ats?M.j.tf.at - M.j.tf.ats:void 0) && (na.nccpat=ba);(ba=M.j.tf.lr && M.j.tf.lc?M.j.tf.lr - M.j.tf.lc:void 0) && (na.nccplt=ba);(ba=M.j.tf.lc && M.j.tf.lg?M.j.tf.lc - M.j.tf.lg:void 0) && (na.lct=ba);(ba=M.aO()) && (na.downloadables=ba);Ba._cad_global.device && (0,x.$c)(Ba._cad_global.device.Cka) && (na.esnSource=Ba._cad_global.device.Cka);(0,k.uf)(na,M.Nz,{prefix:"pi_"});M.j.us && M.j.us.initBitrate && (na.initvbitrate=M.j.us.initBitrate);M.j.us && M.j.us.selector && (na.selector=M.j.us.selector);na.fullDlreports=M.KZa;if(M.j.state.value >= w.xc.mf)try{ya=M.j.mB();ya && (M.maxBitrate=(0,e.oda)(ya.map(function(xa){return xa.bitrate;})),M.Axb=(0,e.oda)(ya.map(function(xa){return xa.height;})),na.maxbitrate=M.maxBitrate,na.maxresheight=M.Axb);}catch(xa){M.log.error("Exception computing max bitrate",xa);}try{ua=(0,e.PW)();ua && (na.pdltime=ua);}catch(xa){}try{(0,k.uf)(na,M.j.tf,{prefix:"sm_"});(0,k.uf)(na,M.j.kma(),{prefix:"vd_"});}catch(xa){}V && M.j.NQ && (na.pssh=M.j.NQ);M.stb(M.j,na);na.avtp=M.PR.ar().DYa;(null === (ta=M.j.Xa) || void 0 === ta?0:ta.SD) && M.Kma(na);if(M.j.ja.Cd)try{na.ttTrackFields=M.j.ja.Cd.ai;}catch(xa){}na.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');M.Gc.bX(na,!0,M.j.ja.Vd,M.Ka);M.Gc.dX(na,!0,M.j.ja.sh,M.Ka);M.j.U && (na.packageId=M.j.U.ya.ur);if(null === (ja=M.j.U) || void 0 === ja?0:ja.ya.Lq)na.hasChoiceMap=!0;M.config().GKa && (na.reusedManifest=null !== (ea=null === (W=M.j.U) || void 0 === W?void 0:W.OZa) && void 0 !== ea?ea:!1);if(null === (qa=null === (pa=null === (ka=M.j.U) || void 0 === ka?void 0:ka.ya.YK) || void 0 === pa?void 0:pa.$Z) || void 0 === qa?0:qa.E8)na.isSteeringSticky=!0;M.Vpc();V && (M.$Oa(na),M.bPa(na));M.mtb(M.j,na);M.lP(M.j,na);M.mP(M.j,na);M.Lw(M.j,na);M.a8(M.j,na);M.fJ(M.j,na,M.pGa);M.b8(M.j,na);M.Xmc(M.j,na);M.aPa(na);M.dPa(na);M.Gc.cX(na);M.ltb(na);M.Gc.Lma(na,M.Ka);M.cPa(na);M.gz(na,c.Td.Pp);M.Lc(y.Ed.Pp,V,E.Xe | E.Mv | E.Lk | E.$x | E.JL | E.Bda | E.TL | E.Gt,na);};this.qt=function(V,ba,ha){ba={playdelay:(0,k.zh)(V),reason:ha,intrplayseq:M.oJ - 1,skipped:ba};"repos" === ha && (ba.prstate=!0 === M.j.paused.value?"paused":"playing");M.gz(ba,c.Td.qt);M.mP(M.j,ba);M.Lw(M.j,ba);M.a8(M.j,ba);M.Lc(y.Ed.qt,!1,E.Xe | E.Mv | E.Lk,ba);"rebuffer" !== ha && "force_rebuffer" !== ha || M.j.so.e_b(Number((0,k.zh)(V)));};this.zE=function(V,ba,ha,ca){V={moff:(0,k.Xq)(ha),moffms:(0,k.zh)(ha),vbitrate:ba.bitrate,vbitrateold:V.bitrate,vdlid:ba.Yb,vdlidold:V.Yb,vheight:ba.height,vheightold:V.height,vwidth:ba.width,vwidthold:V.width,bw:ca};M.mP(M.j,V);M.Lw(M.j,V);M.fJ(M.j,V);M.gz(V,c.Td.zE);M.Lc(y.Ed.zE,!1,E.Lk,V);};this.tVa=function(V,ba,ha){V={moff:(0,k.Xq)(ha),moffms:(0,k.zh)(ha),vdlidold:V.Yb,vbitrateold:V.bitrate};M.mP(M.j,V);M.Lw(M.j,V);M.fJ(M.j,V);M.Gc.Qu(V,ba,M.j.Gf.value && M.j.Gf.value.stream);M.gz(V,c.Td.saa);M.Lc(y.Ed.saa,!1,E.Lk,V);};this.QTa=function(){var V,ba;V={waittime:(0,k.zh)(M.j.Brb()),abortedevent:"startplay",trackid:M.j.Em,prstate:M.jF(),paustate:M.j.paused.value};M.lla(V,"endplay");M.gz(V,c.Td.kK);M.bF.c6 && (V.eventlist_version=1,V.eventlist=M.ZP.krb(M.j));M.j.us && M.j.us.initBitrate && (V.initvbitrate=M.j.us.initBitrate);try{ba=(0,e.PW)();ba && (V.pdltime=ba);(0,k.uf)(V,M.j.tf,{prefix:"sm_"});}catch(ha){}M.XOa(V);M.Gc.Lma(V,M.Ka);V.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');M.Gc.bX(V,!1,M.j.ja.Vd,M.Ka);M.Gc.dX(V,!1,M.j.ja.sh,M.Ka);M.$Oa(V);M.Gc.Qu(V,M.j.mg.value,M.j.Hi.value);M.stb(M.j,V);M.lP(M.j,V);M.b8(M.j,V);M.cPa(V);M.bPa(V);M.Lw(M.j,V);M.Lc(y.Ed.kK,!1,E.Xe | E.Lk | E.JL | E.$x | E.Gt,V);};this.PTa=function(V,ba){V={waittime:(0,k.zh)(V),abortedevent:"resumeplay",resumeplayreason:ba};M.j.us && M.j.us.initBitrate && (V.initvbitrate=M.j.us.initBitrate);M.Gc.Qu(V,M.j.mg.value,M.j.Hi.value);M.b8(M.j,V);M.Lw(M.j,V);M.gz(V,c.Td.kK);M.Lc(y.Ed.kK,!1,E.Xe | E.Lk | E.Gt,V);};this.QXa=function(V,ba,ha){V={newstate:ba?"Paused":"Playing",oldstate:V?"Paused":"Playing",reason:ha};M.mP(M.j,V);M.Lw(M.j,V);M.fJ(M.j,V);M.Gc.Qu(V,M.j.Te.value && M.j.Te.value.stream,M.j.Gf.value && M.j.Gf.value.stream);M.gz(V,c.Td.Fba);M.Lc(y.Ed.Fba,!1,E.Xe | E.Lk,V);};this.pP=function(V,ba,ha){var ca,la;V=(0,k.uf)({vdlid:M.j.mg.value.Yb,playingms:V,pausedms:ba,intrplayseq:M.oJ++,prstate:M.jF(),paustate:M.j.paused.value},ha);M.lla(V,"intrplay");M.gz(V,c.Td.pP);ba=M.j.Kc[z.v.V].value;ha=M.j.Kc[z.v.X].value;V.cdnid=V.vcdnid=ba && ba.id;V.acdnid=ha && ha.id;V.locid=M.L8 && M.L8.WQa;V.loclv=M.L8 && M.L8.Cwb;V.avtp=M.PR.ar().DYa;V.mediabuffered=null === (ca=M.j.Qd) || void 0 === ca?void 0:ca.BW();V.hidden=document.hidden;V.volume=M.j.BV;if(null === (la=M.j.Xa) || void 0 === la?0:la.SD)(M.XOa(V),M.Kma(V),M.qtb(V));try{(0,k.uf)(V,M.j.kma(),{prefix:"vd_"});}catch(ra){}M.mP(M.j,V);M.Lw(M.j,V);M.a8(M.j,V);M.fJ(M.j,V);M.Gc.Qu(V,M.j.Te.value && M.j.Te.value.stream,M.j.Gf.value && M.j.Gf.value.stream);M.Lc(y.Ed.pP,!1,E.Xe | E.Lk,V);};this.AK=function(V,ba,ha,ca){V={moffold:(0,k.Xq)(V),reposseq:M.xaa++,prstate:M.jF(),paustate:M.j.paused.value};ca === w.Dc.R0 && (V.reason="missing_segments");M.fJ(M.j,V);M.Gc.Qu(V,ha && ha.stream,ba && ba.stream);M.gz(V,c.Td.AK);M.Lc(y.Ed.AK,!1,E.Xe | E.Lk,V);};this.ZGa=function(){var V,ba,ha,ca;ba=M.NO(M.j.ja.Vd,M.j.Hi.value.Yb);ha=M.xF;ca=null === (V=M.pQa) || void 0 === V?void 0:V.Yb;V=M.NO(ha,ca);M.Lc(y.Ed.Dhb,!1,E.Xe | E.Lk,{switchdelay:(0,k.zh)(M.getTime() - M.qQa),track:ba,oldtrack:V});};this.yba=function(V){M.Lc(y.Ed.oHb,!1,E.Xe | E.Lk,{speedold:Math.floor(1E3 * V.oldValue),speed:Math.floor(1E3 * V.newValue)});};this.r_=function(){M.Lc(y.Ed.OKc,!1,E.Xe | E.Lk,{track:M.j.ja.Cd.ai});};this.BG=function(V){var ba,ha;ha=M.j.ja.Cd;if(V.newValue || ha && ha.xp() && !ha.co())(V=null !== (ba=V.newValue) && void 0 !== ba?ba:ha,ba=M.eP(V),V=M.eP(M.DQa),ba={switchdelay:(0,k.zh)(M.getTime() - M.CQa),track:ba,oldtrack:V},M.Gc.Qu(ba,M.j.Te.value && M.j.Te.value.stream,M.j.Gf.value && M.j.Gf.value.stream),M.Lc(y.Ed.UIb,!1,E.Xe | E.Lk,ba));};this.ju=function(V){M.Lc(y.Ed.q2b,!1,E.Xe | E.Lk,V.newValue);};this.p4b=function(V,ba){var ha,ca;ha=ba.serverid;ca={locid:ba.location,loclv:ba.locationlv,selocaid:ha,selcdnid:ha,selocaname:ba.servername};ca.mediatype=ba.mediatype;ca.selreason=ba.selreason || "unknown";ca.seldetail=ba.seldetail;ca.cdnbwdata=JSON.stringify([{id:ha}]);V && (ca.oldlocid=V.WQa,ca.oldloclv=V.Cwb,ca.oldocaid=V.VFc,ca.oldocaname=V.hba);M.Lc(y.Ed.Rib,!1,E.Bda,ca);};this.zmb=function(){var V,ba,ha;if(M.j.Th)try{V=!1;M.KZa || (V=!0,M.IV=M.IV.filter(function(ca){return !ca.success;}));if(0 < M.IV.length){ba=M.eka.construct(M.IV,M.j.xj.la(m.wa));M.IV=[];ba.erroronly=V;ha={};(0,k.Yh)(ba,function(ca,la){ha[ca]=JSON.stringify(la);});M.Lc(y.Ed.$ac,!1,E.Lk,ha);}}catch(ca){M.log.error("Exception in dlreport.",ca);}};this.jF=function(){var V;V=M.j.Tb.value;return V === w.Gb.bg?"playing":V === w.Gb.gi?"paused":V === w.Gb.Iv?"ended":"waiting";};this.NF=function(){var V,ba,ha;if(M.j.state.value == w.xc.mf){ha=M.K$();M.config().BVa && (ha.avtp=M.PR.ar().DYa,(null === (V=M.j.Xa) || void 0 === V?0:V.SD) && M.Kma(ha));ha.mediabuffered=null === (ba=M.j.Qd) || void 0 === ba?void 0:ba.BW();ha.midplayseq=M.QRa++;ha.prstate=M.jF();ha.paustate=M.j.paused.value;M.config().OFc && M.iIb("midplay");M.config().px && M.ePa(ha);M.aPa(ha);M.dPa(ha);M.Lw(M.j,ha);M.Gc.cX(ha);M.Lc(y.Ed.NF,!1,E.Xe | E.Lk | E.JL | E.$x,ha);}};this.iIb=function(V){var ba,ha;ba={};ba.trigger=V;try{ha=M.j.sNa();ba.subtitleqoescore=M.j.Sp.Jkc(ha);ba.metrics=JSON.stringify(M.j.Sp.MNa(ha));}catch(ca){M.log.error("error getting subtitle qoe data",ca);}M.Lc(y.Ed.MJc,!1,E.Xe | E.JL | E.Mv,ba);};this.transition=function(V){var ba;V.mediabufferedsegments=null === (ba=M.j.Qd) || void 0 === ba?void 0:ba.DW();M.fJ(M.j,V);M.b8(M.j,V);M.Lc(y.Ed.transition,!1,0,V);};this.sWa=function(V,ba){M.Lc(y.Ed.sWa,ba,0,V);};this.vGa=function(V){M.Lc(y.Ed.vGa,!1,0,V);};this.Cu=function(V){var ba,ha,ca,la,ra,ta,ja;la=M.K$();M.lla(la,"endplay");la.prstate=M.jF();la.paustate=M.j.paused.value;la.muted=M.j.muted.value;la.isStandaloneDisplay=M.config().rHb;la.hidden=document.hidden;la.volume=M.j.BV;la.fullDlreports=M.KZa;la.mediabuffered=null === (ba=M.j.Qd) || void 0 === ba?void 0:ba.BW();la.mediabufferedsegments=null === (ha=M.j.Qd) || void 0 === ha?void 0:ha.DW();M.j.DG && "downloaded" === M.j.DG.UW() && (la.trickplay_ms=M.j.sca.offset,la.trickplay_res=M.j.sca.mEb);M.config().UKb && (la.rtinfo=M.j.dkc());M.config().BVa && (null === (ca=M.j.Xa) || void 0 === ca?0:ca.SD) && M.Kma(la);la.endreason=V?"error":M.j.Tb.value === w.Gb.Iv?"ended":"stopped";(ba=M.Nz) && (0,k.uf)(la,ba,{prefix:"pi_"});try{(0,k.uf)(la,M.j.tf,{prefix:"sm_"});}catch(ka){}M.j.WOa && (la.inactivityTime=M.j.WOa);M.XOa(la);M.qtb(la);if(M.j.Gia){ba=M.j.Gia;ha=M.config().pib;ca=M.j.loadTime;ra={iv:ha,seg:[]};ta=function(ka,pa,qa){return 0 === pa || void 0 === qa[pa - 1]?ka:ka - qa[pa - 1];};ja=ba.y1b.map(ta);ta=ba.JNc.map(ta);for(var W,ea=0;ea < ja.length;ea++){if(ja[ea] || ta[ea])W?(W.ams.push(ja[ea]),W.vms.push(ta[ea])):W={ams:[ba.y1b[ea]],vms:[ba.JNc[ea]],soffms:ba.startTime + ea * ha - ca};ea !== ja.length - 1 && ja[ea] && ta[ea] || !W || (ra.seg.push(W),W=void 0);}la.bt=JSON.stringify(ra);}V && (M.$Oa(la),M.bPa(la));M.iIb("endplay");M.config().px && M.ePa(la);M.Gc.bX(la,!1,M.j.ja.Vd,M.Ka);M.Gc.dX(la,!1,M.j.ja.sh,M.Ka);M.mtb(M.j,la);M.lP(M.j,la);M.mP(M.j,la);M.fJ(M.j,la,M.pGa);M.Lw(M.j,la);M.a8(M.j,la);M.b8(M.j,la);M.aPa(la);M.dPa(la);M.Gc.cX(la);M.Zmc(la);M.ltb(la);M.$mc(la);M.cnc(la);M.cPa(la);M.dnc(la);M.gz(la,c.Td.Cu);M.Lc(y.Ed.Cu,V,E.Xe | E.Mv | E.Lk | E.JL | E.$x | E.TL | E.Gt,la);};this.hbc=function(V){M.IV.push(M.eka.N6b(V.response));};this.ij=function(){M.Lc(y.Ed.gib,!1,E.Xe | E.JL | E.Gt,{});};this.S5b=function(V){var ba,ha;ba=V.response.yp;V=(0,m.ac)(ba.pl);ha=(0,m.ac)(ba.rv);ba=(0,r.ka)(ba.Rm || 0);ba.Tub() || ba.PPa() || (V=new q.VBa(V,ha),M.PR.XZb(new u.U2a(V,ba)));};this.rqa=function(V){var ba,ha,ca;ca=V.newValue;V.Xl && V.Xl.Gz && ca && (null === (ba=V.Xl) || void 0 === ba || !ba.reason) || ca == M.EP || (M.QXa(M.EP,ca,null === (ha=V.Xl) || void 0 === ha?void 0:ha.reason),M.EP=ca);};this.rE=function(V){function ba(ha){var ca;if(M.j.kc && M.j.kc.sourceBuffers){ca=M.j.kc.sourceBuffers.filter(function(la){return la.type === ha;}).pop();if(ca)return {busy:ca.nj(),updating:ca.updating(),ranges:ca.rla()};}}V={cause:V.Ec};V.cause && V.cause === f.eBa && (V.mediaTime=M.j.mediaTime.value,V.buf_audio=ba(g.Hea),V.buf_video=ba(g.c2));M.pP(M.dca[w.Gb.bg] || 0,M.dca[w.Gb.gi] || 0,V);};this.oJb=function(V){var ba;V=V.oldValue;ba=M.getTime();V === w.Gb.Qg?M.dca=[]:M.dca[V]=(M.dca[V] || 0) + (ba - M.gqc);M.gqc=ba;};this.Zo=function(V){M.qQa=M.getTime();M.xF=V.$u;};this.Ao=function(V){M.CQa=M.getTime();M.DQa=V.jx;};this.y4=function(V){M.pQa=V.oldValue;};this.b9=function(V){function ba(ha,ca){var la;if(!ha || ha.WQa !== ca.location){la={WQa:ca.location,Cwb:ca.locationlv,VFc:ca.serverid,hba:ca.servername};M.p4b(ha,ca);return la;}}if("audio" === V.mediatype){if(V=ba(M.Zpc,V))M.Zpc=V;}else if(V=ba(M.L8,V))M.L8=V;};this.gba=function(V){var ba,ha;ba=V.mediatype;ha=V.reason;"video" === ba?"serverswitchaway" === ha?(M.vl.summary.yLb++,M.vl.Lna=M.Ia.gg.la(m.wa)):"serverswitchback" === ha && (M.vl.summary.zLb++,M.vl.Lna && (M.vl.summary.ALb.push(M.Ia.gg.la(m.wa) - M.vl.Lna),M.vl.Lna=void 0)):"audio" === ba && ("serverswitchaway" === ha?(M.vl.summary.qhb++,M.vl.Gna=M.Ia.gg.la(m.wa)):"serverswitchback" === ha && (M.vl.summary.rhb++,M.vl.Gna && (M.vl.summary.shb.push(M.Ia.gg.la(m.wa) - M.vl.Gna),M.vl.Gna=void 0)));M.Lc(y.Ed.XFc,!1,E.Xe | E.Lk,{mediatype:V.mediatype,server:V.server,selreason:V.reason,location:V.location,bitrate:V.bitrate,confidence:V.confidence,throughput:V.throughput,oldserver:V.oldserver});};this.CU=function(V){var ba;ba=V.CF;V=n.__rest(V,["type","logblobType"]);delete V.inner;switch(ba){case "asereport":M.Lc(y.Ed.V0b,!1,E.Lk,V);break;case "livereport":M.Lw(M.j,V);M.a8(M.j,V);M.gz(V,c.Td.GJ);M.Lc(y.Ed.GJ,!1,E.Xe | E.Mv,V);break;default:M.Lc(ba,!1,E.Xe,V);}};this.Zna=function(V){var ba,ha,ca,la;ba=V.mediaType;ha=V.current;ca=V.Fp;la=V.uWa;V=V.Yb;ba={mediatype:(0,D.LF)(ba),curr:{enc:ha.Au,origin:ha.zu},prev:{enc:ca.Au,origin:ca.zu},segmentnumber:la,dlid:V};M.Lw(M.j,ba);M.Lc(y.Ed.urc,!1,E.Xe,ba);};this.h_=function(V){V=Object.assign({},V);V.details && (V.details=JSON.stringify(V.details));M.Lc(y.Ed.LJc,!0,E.Xe | E.Mv | E.Bda,V);};this.pGa=Z.MZa || Z.Pta || Z.hpb;this.PR=N();this.log=(0,h.bn)(G,"LogblobBuilder");this.EP=G.paused.value;this.Ha=this.Ka.Ha;this.vl={summary:{yLb:0,zLb:0,ALb:[],qhb:0,rhb:0,shb:[]},Lna:void 0,Gna:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.Y1=void 0;n=a(22970);c=a(45247);g=a(33096);f=a(13044);e=a(52569);h=a(31276);l=a(45146);k=a(3887);m=a(5021);p=a(36129);r=a(72574);q=a(74267);u=a(70826);v=a(22365);w=a(85001);x=a(32687);y=a(18169);A=a(32573);z=a(26388);B=a(30873);C=a(79542);D=a(45247);F=a(82100);H=a(24735);d.prototype.stb=function(G,K){var N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma;if(this.config().px)try{N={};I=this.$f.getStats(void 0,void 0,G.R);L=G.LO();O=I.NR.d6b || [];N.attempts=I.Oqa || 0;N.num_completed_tasks=O.length;J=this.Cf.sec;Q={};P=A.nq.i_;S=A.nq.Ff;Y=A.nq.OHa;I.Wn && (Q.scheduled=I.Wn - L);X=G.U;X && (0,x.ec)(X.$Q) && (Q.preauthsent=X.$Q - G.loadTime,Q.preauthreceived=X.rZ - G.loadTime);T=O.filter(function(R){return "manifest" === R.type;});N.mf_succ=T.filter(J("status",P)).length;N.mf_fail=T.filter(J("status",S)).length;U=G.tf;(0,x.$c)(U.lg) && 0 > U.lg && G.loadTime && (Q.ldlsent=U.lc,Q.ldlreceived=U.lr);Z=O.filter(function(R){return "license" === R.type;});N.ldl_succ=Z.filter(J("status",P)).length;N.ldl_fail=Z.filter(J("status",S)).length;I=!0;L=[];"notcached" === G.EN && (I=!1,L.push("Missing cached manifest"));this.config().ska || (I=!1,L.push("LDL prefetch disabled"));aa=Z.filter(J("status",Y)).length;this.config().ska && 0 === aa && (!Q.ldlreceived || 0 <= Q.ldlreceived) && (I=!1,L.push("LDL received after start"));if(this.config().uka)if(K.isPrefetchItem){da=K.prefetchedAudioMs / K.bcABufferLevelMs;if(1 > K.prefetchedVideoMs / K.bcVBufferLevelMs || 1 > da)(I=!1,L.push("Insufficient media fetched"));}else (I=!1,L.push("aseStats not initialized"));fa=O.filter(function(R){return "getHeaders" === R.type;});N.header_succ=fa.filter(J("status",P)).length;N.header_fail=fa.filter(J("status",S)).length;ma=O.filter(function(R){return "getMedia" === R.type;});N.media_succ=ma.filter(J("status",P)).length;N.media_fail=ma.filter(J("status",S)).length;N.hm_succ=N.header_succ + N.media_succ;N.hm_fail=N.header_fail + N.media_fail;(0,k.uf)(K,N,{prefix:"pr_"});this.bF.c6 && (K.eventlist_version=1,K.eventlist=this.ZP.krb(G));(K.prefetchCompleted=I) || (K.prefetchFailed=L,(0,k.uf)(K,Q,{prefix:"pe_"}));this.ePa(K);}catch(R){this.log.warn("error in collecting video prepare data",R);}};d.prototype.aOa=function(G,K){return G?{id:G.trackId,downloadableId:K,rank:G.wc}:{};};d.prototype.NO=function(G,K){return G?{id:G.trackId,trackId:G.trackId,bcp47:G.wg,downloadableId:K,rank:G.wc,chan:G.channels}:{};};d.prototype.eP=function(G){return G?{id:G.trackId,trackId:G.trackId,bcp47:G.wg,downloadableId:G.Yb,rank:G.wc,isImageBased:G.wp,profile:G.profile}:{};};d.prototype.mkc=function(G,K){if(G=G.S6())if(K=G[K])return K.cb;};d.prototype.mtb=function(G,K){G.jb.Ag && (K.isBranching=!0);};d.prototype.lP=function(G,K){K.cachedManifest=G.EN;K.cachedLicense=G.TU.source;K.usedldl=this.config().ska?(G.TU.type === H.hq.cH).toString():"not_capable";};d.prototype.mP=function(G,K){var N,I;if(this.config().bnc){N=G.tNa();I=G.ea.U;N && I && (K.segment=N,I=G.iF(),K.segmenttime=I,G=this.mkc(G,N),null !== I && void 0 !== G && (K.segmentoffset=I - G));}};d.prototype.fJ=function(G,K,N){K.pxid=G.zr;(void 0 === N?0:N) && (K.playgraph_trace=G.SBb);};d.prototype.b8=function(G,K){var N,I;I=[];G.pX() && I.push("ux");G.qma() && I.push("content");G.mF() && I.push("ads");(null === (N=this.j.U) || void 0 === N?0:N.ya.Lq) && I.push("choiceMap");K.playgraphTypes=I;};d.prototype.Xmc=function(G,K){var N,I,L;N=new Set();G.pX() && G.isb().forEach(function(O){O != G.qf && N.add(O);});if(G.qma()){I=G.rI;L=G.U.ya.Iy.Z;Object.keys(L.$).map(function(O){return L.$[O].J;}).filter(function(O,J,Q){return O !== I && Q.indexOf(O) === J;}).forEach(function(O){return N.add(O);});}0 < N.size && (K.auxViewables=[].concat(za(N)));};d.prototype.qtb=function(G){var K,N;K=this.j.h_c;N=K && K.yDc;K && K.Dmc && (G.htwbr=K.Dmc,G.pbtwbr=K.k2c,G.hptwbr=K.p_c);K && K.GEc && (G.rr=K.GEc,G.ra=K.K2c);K && N && 0 < (N.length || 0) && (G.qe=JSON.stringify(N));};d.prototype.$Oa=function(G){var K,N,I;try{K=this.Cf.createElement("canvas");N=K.getContext("webgl") || K.getContext("experimental-webgl");if(N){I=N.getExtension("WEBGL_debug_renderer_info");I && (G.WebGLRenderer=N.getParameter(I.UNMASKED_RENDERER_WEBGL),G.WebGLVendor=N.getParameter(I.UNMASKED_VENDOR_WEBGL));}}catch(L){}};d.prototype.cnc=function(G){G.switchAwaySummary={vsa:this.vl.summary.yLb,vsb:this.vl.summary.zLb,vsbt:this.vl.summary.ALb,asa:this.vl.summary.qhb,asb:this.vl.summary.rhb,asbt:this.vl.summary.shb};};d.prototype.RWb=function(G){var K;K=[];return G?Object.keys(G).map(function(N){return +N;}):K;};d.prototype.aO=function(){var G,K;G=this;if(this.j.VC && this.j.qk){K=[];this.j.VC.concat(this.j.qk).forEach(function(N){N.streams.forEach(function(I){K.push({dlid:I.Yb,type:I.type,bitrate:I.bitrate,vmaf:I.Ob,cdn_ids:G.RWb(I.oKa)});});});return JSON.stringify(K);}};d.prototype.o4b=function(){var K,N,I;function G(L,O){var J,Q,P;J=L.cdnId + "$" + L.correlationId;Q=I[J];Q || (Q={cdnid:L.cdnId,pbcid:L.correlationId,dls:[]},I[J]=Q,N.push(Q));(0,l.CV)(L.bitrate);(0,l.CV)(L.duration);J={bitrate:L.bitrate,tm:(0,v.Xr)(L.duration)};P=L.vmaf;P && ((0,l.CV)(L.vmaf),J.vf=P);J[O]=(0,k.jl)(L.downloadableId);Q.dls.push(J);}K=this.j.so.Agc();N=[];I={};K.audio.forEach(function(L){G(L,"adlid");});K.video.forEach(function(L){G(L,"dlid");});return JSON.stringify(N);};d.prototype.K$=function(){var G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z;K=this.j.so;N={totaltime:(0,k.Xq)(K.Ku("content")),totalcontenttime:(0,k.Xq)(K.B7("content")),totaladtime:(0,k.Xq)(K.Ku("ads")),totalothertime:(0,k.Xq)(K.Ku("other")),cdndldist:this.o4b(),reposcount:this.xaa,intrplaycount:this.oJ};try{I={numskip:0,numlowqual:0};L=this.j.Qd;O=L.Ty();(0,x.ec)(O) && (N.totfr=O,I.numren=O);O=L.SO();(0,x.ec)(O) && (N.totdfr=O,I.numrendrop=O);O=L.W6();(0,x.ec)(O) && (N.totcfr=O,I.numrenerr=O);N.playqualvideo=JSON.stringify(I);J=this.j.mg.value;J && (N.videofr=J.framerate.toFixed(3));Q=K.iMa();Q && (N.abrdel=Q);P=K.yma() && K.Ipb();P && (N.tw_vmaf=P);S=K.Gpb();S && (0,k.uf)(N,S);N.rbfrs=this.oJ;N.maxbitrate=this.maxBitrate;N.maxresheight=this.Axb;Y=this.j.XI();for(K=0;K < Y.length;K++){X=Y[K];T=this.Ka.WX.sG(X);if(T){(0,l.qa)(U);N.maxbitrate=U?U.bitrate:0;N.maxresheight=U?U.height:0;N.bitratefilters=T.join("|");break;}U=X;}this.j.DG && (N.trickplay=this.j.DG.UW());null !== this.j.Sp.Qhb && (N.avg_subt_delay=this.j.Sp.Qhb);Z=null === (G=this.j.Qd) || void 0 === G?void 0:G.SJb;Z && 0 < Z && (N.unexpectedrewindcount=Z);}catch(aa){this.log.error("Exception reading some of the endplay fields",aa);}(0,k.uf)(N,this.j.kma(),{prefix:"vd_"});return N;};d.prototype.getTime=function(){return this.Oa.uc().la(m.wa);};d.prototype.DNa=function(){return this.getTime() - this.Ka.xj.la(m.wa);};d.prototype.ePa=function(G){var K;try{K=this.$f.getStats();G.pr_cache_size=JSON.stringify(K.cache);G.pr_stats=JSON.stringify(K.Rfc);}catch(N){}};d.prototype.aPa=function(G){this.log.debug("httpstats",this.Je.stats);(0,k.uf)(G,this.Je.stats,{prefix:"http_"});};d.prototype.Lw=function(G,K){G=G.Fc;G.xa && (K.intenttoplayatedge=G.Ls(),G=G.TI(),K.livestage=this.Cic(G));};d.prototype.a8=function(G,K){var N;N=G.Fc;G.Xa && N.xa && [{mediaType:z.v.X,Qka:"aencodingpipeline"},{mediaType:z.v.V,Qka:"vencodingpipeline"},{mediaType:z.v.Aa,Qka:"tencodingpipeline"},{mediaType:z.v.Im,Qka:"mencodingpipeline"}].forEach(function(I){var L;L=G.Xa.vz[I.mediaType];if(L.Au || L.zu)K[I.Qka]={enc:L.Au,origin:L.zu};});};d.prototype.Cic=function(G){switch(G){case B.Rx.C2:case B.Rx.oya:case B.Rx.Iwa:return G.toLowerCase();default:return (0,C.fW)(G);}};d.prototype.XOa=function(G){var K,N,I;K=this.config().Mlb && !(this.Ha % this.config().Mlb);N=this.j.Xa;I=null === N || void 0 === N?void 0:N.Mj;K && I && (G.ASEstats=JSON.stringify(N.Xtb()));};d.prototype.Kma=function(G){Object.assign(G,this.j.Xa.ed.Rkc());};d.prototype.dPa=function(G){var K;try{K=v.DA.memory;(0,x.Rub)(K) && (G.totalJSHeapSize=K.totalJSHeapSize,G.usedJSHeapSize=K.usedJSHeapSize,G.jsHeapSizeLimit=K.jsHeapSizeLimit);}catch(N){}};d.prototype.ltb=function(G){var K;try{if(this.config().X4){K=this.j.Hgc();G.battery=K;this.log.trace("batterystatuses",K);}}catch(N){}};d.prototype.Zmc=function(G){this.j.Fja && (G.dqec=this.j.Fja);};d.prototype.cPa=function(G){var K,N,I;(null === (K=this.j.Zl) || void 0 === K?0:K.tic)?G.keySystem=this.j.Zl.Dz.BJ:(null === (I=null === (N=this.j.Zl) || void 0 === N?void 0:N.mediaKeys) || void 0 === I?0:I.keySystem)?G.keySystem=this.j.Zl.mediaKeys.keySystem:this.cx.tvb && (G.keySystem=this.cx.tvb);G.keySystem && (G.keysys=G.keySystem);this.cx.xvb && (G.keySystemStatuses=this.rsc(this.cx.xvb));this.cx.svb && (G.keySystemHasHwdrmAvailable=this.cx.svb);this.cx.Boa && (G.keySystemMediaKeysCount=this.cx.Boa);0 < this.QB.vvb.length && (G.keySystemRestrictions=this.QB.vvb);0 < Object.keys(this.QB.wvb).length && (G.keySystemRestrictionsDebug=this.QB.wvb);0 < Object.keys(this.QB.uvb).length && (G.keySystemRestrictionReasons=this.QB.uvb);};d.prototype.rsc=function(G){var K;K=this;return G.reduce(function(N,I){var L;L=(0,F.ikb)(I.Ena);N[L]=K.vsc(I.status);return N;},{});};d.prototype.vsc=function(G){return G.supported?!0:G.reason;};d.prototype.bPa=function(G){var K;if(null === (K=this.j.Zl) || void 0 === K?0:K.Cqb)G.keystatus=this.j.Zl.mQa;};d.prototype.$mc=function(G){this.nLa && (G.externaldisplay=this.nLa.hW);};d.prototype.dnc=function(G){G.didHydrateTracks=this.j.Yja;};d.prototype.Vpc=function(){void 0 === this.nLa && (this.nLa=this.oLa.mec());};d.prototype.lla=function(G,K){(K=this.j.KW(K)) && Object.entries(K).forEach(function(N){var I;I=Ea(N);N=I.next().value;I=I.next().value;G[N]=I;});};d.prototype.gz=function(G,K){var N;(K=null === (N=this.j.Xa) || void 0 === N?void 0:N.Mla(void 0,K)) && Object.entries(K).forEach(function(I){var L;L=Ea(I);I=L.next().value;L=L.next().value;G[I]=L;});};d.prototype.Lc=function(G,K,N,I){var L,O;O=I.sev;O=K?"error":null !== O && void 0 !== O?O:"info";K && this.j.mj && (0,p.cea)(this.j.mj.errorCode,this.j.mj.Ma,this.DNa(),null === (L=this.j.Qd) || void 0 === L?void 0:L.Ty()) && (O="info");this.j.AF.Nrc(G) || (this.dGa(I,this.j,K,N),G=this.BF.tu(G,O,I,this.Ka),this.Bh.Lc(G));};d.prototype.Ymc=function(G,K){var N,I;I=null === (N=K.Xa) || void 0 === N?void 0:N.ulb;I && (null === I || void 0 === I?void 0:I.J) !== K.rI && (G.auxMid || (G.auxMid=I.J),G.auxPlaybackcontextid || (G.auxPlaybackcontextid=K.xk(I.J).Zd));};d.prototype.dGa=function(G,K,N,I){var L,O,J,Q,P,S,Y;this.Gc.ntb(G,K);this.Ymc(G,K);I & E.Xe && ((0,l.qa)(!G || void 0 === G.moff),this.Gc.rtb(G,K.ea,K.qma()));I & E.Mv && this.Gc.ttb(G,K);I & E.Lk && (null === (L=K.Xa) || void 0 === L?0:L.Mj) && (G.abuflbytes=null !== (O=G.abuflbytes) && void 0 !== O?O:K.SGa(),G.abuflmsec=null !== (J=G.abuflmsec) && void 0 !== J?J:K.t4(),G.vbuflbytes=null !== (Q=G.vbuflbytes) && void 0 !== Q?Q:K.TZa(),G.vbuflmsec=null !== (P=G.vbuflmsec) && void 0 !== P?P:K.Nca(),G.tbuflbytes=null !== (S=G.tbuflbytes) && void 0 !== S?S:K.uKc(),G.tbuflmsec=null !== (Y=G.tbuflmsec) && void 0 !== Y?Y:K.vKc());I & E.$x && this.Gc.utb(G,K.st);I & E.JL && (L=v.ng.hardwareConcurrency,0 <= L && (G.numcores=L),L=this.Ka.tKa) && (O=L.jMa(),G.droppedFrames=JSON.stringify(O),L=L.m7(this.config().zbc),(0,k.Yh)(L,function(X,T){G["droppedFramesP" + X]=JSON.stringify(T);}));if(I & E.Bda)try{K.Th && (G.cdninfo=JSON.stringify(K.Th.map(function(X){return {id:X.id,nm:X.name,rk:X.wc,wt:X.location.weight,lv:X.location.level};})));}catch(X){}N && I & E.TL && ((0,l.qa)(K.mj),this.Gc.ptb(G,K,K.mj));I & E.Gt && this.Gc.ZOa(G);};Ga.Object.defineProperties(d.prototype,{KZa:{configurable:!0,enumerable:!0,get:function(){return this.j.CI || this.j.QV;}}});b.Y1=d;(function(G){G[G.Xe=1]="MOFF";G[G.Mv=2]="PRESENTEDSTREAMS";G[G.Lk=4]="BUFFER";G[G.$x=8]="SCREEN";G[G.JL=16]="CPU";G[G.Bda=32]="CDN";G[G.TL=64]="FATALERROR";G[G.Gt=128]="BROWSERINFO";})(E || (E={}));},26158:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r,q){this.Bh=k;this.config=m;this.Ia=p;this.Oa=r;this.dRa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.dM=void 0;t=a(22970);n=a(45118);c=a(22674);g=a(98326);f=a(4203);e=a(30869);h=a(81918);l=a(99400);d.prototype.create=function(k,m,p,r){var q;q=this.dRa.create(k,m);return new l.a2(k,m,p,r,this.Bh,this.config,this.Oa,q);};a=d;b.dM=a;b.dM=a=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(n.Io)),t.__param(1,(0,c.l)(f.Cc)),t.__param(2,(0,c.l)(e.di)),t.__param(3,(0,c.l)(h.Sd)),t.__param(4,(0,c.l)(g.X1))],a);},99400:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p,r,q,u,v){var w;w=this;this.j=l;this.Ka=k;this.bP=p;this.Bh=r;this.config=q;this.Oa=u;this.eb=v;this.FJ=function(x,y){return function(A){var z;z=y(A);if("number" !== typeof z)throw Error("Event " + JSON.stringify(A) + " does not have movie Id");w.nuc.includes(z) && x(A);};};this.cxb=this.FJ(function(x){w.Msa(x.rP);},function(x){return x.R;});this.axb=this.FJ(function(){w.Z4();},function(x){return x.R;});this.Ojb=this.FJ(function(){w.Z4();},function(x){return x.movieId;});this.ZHa=this.FJ(function(){w.j.Tb.value === f.Gb.bg && (w.j.Tb.removeListener(w.ZHa),w.Pz());},function(){return w.j.R;});this.BG=function(x){w.dv && w.eb.BG(x);};this.Tjb=this.FJ(this.eb.S5b,function(x){return x.R;});this.Imb=this.FJ(this.eb.hbc,function(x){return x.R;});this.zwb=this.FJ(this.eb.b9,function(x){return w.j.el(x.segmentId).R;});this.SFb=this.FJ(this.eb.gba,function(x){return w.j.el(x.segmentId).R;});this.qm=function(x){x.skip && (w.VK=!0);switch(x.Ec){case f.Dc.Ov:case f.Dc.bT:case f.Dc.L2:case f.Dc.R0:case f.Dc.Iea:w.yZ && w.Dt && w.eb.PTa(w.getTime() - w.Dt,w.yZ);w.yZ="repos";w.eb.AK(x.BSa,x.Gf,x.Te);w.Dt=w.getTime();(0,g.yh)(w.iB);break;case f.Dc.eea:w.yZ="force_rebuffer";w.Dt=w.getTime();(0,g.yh)(w.iB);break;case f.Dc.rM:case f.Dc.gq:break;default:return (0,e.fW)(x.Ec);}};this.Zo=function(x){w.xF=x.$u;w.eb.Zo(x);};this.iB=function(){var x;if(w.Dt && w.j.Tb.value !== f.Gb.Qg){x=w.getTime() - w.Dt;w.eb.qt(x,w.VK,w.yZ);w.xF && w.xF != w.j.ja.Vd && w.eb.ZGa();w.Dt=void 0;w.yZ=void 0;w.VK=void 0;}};this.Pz=function(){w.dv || (w.dv=!0,w.eb.Pp(!1),w.hPa(),w.config().Rma && (w.qF=Ba.setTimeout(function(){w.Bh.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.qF=void 0;},w.config().Rma)));};this.Tg=function(){w.qF && (Ba.clearTimeout(w.qF),w.qF=void 0);if(w.fpb() || w.config().gu)(w.nKa && (Ba.clearInterval(w.nKa),w.nKa=void 0),w.eb.zmb());w.vca && w.vca();w.dv?w.eb.Cu(!!w.j.mj):w.j.mj?w.eb.Pp(!0):w.Ka.background.value || w.eb.QTa();};this.Uca=function(x){x.oldValue && x.Xl && x.Xl.GN && w.eb.zE(x.oldValue,x.newValue,x.Xl.GN,x.Xl.F4);};this.T$=function(x){var y;if(x.newValue){y=x.newValue.stream;w.GP != y && (w.GP && y && w.eb.tVa(w.GP,y,w.bP(x.newValue.bV.startTime)),w.GP=y);}};this.nuc=k.qf?l.isb():[k.R];this.log=(0,n.bn)(l,"LogblobBuilder");this.Sb();m && this.Msa();}Object.defineProperty(b,"__esModule",{value:!0});b.a2=void 0;n=a(31276);c=a(5021);g=a(32219);f=a(85001);e=a(79542);h=a(26388);d.prototype.Sb=function(){this.j.addEventListener(f.ha.WB,this.cxb);this.j.addEventListener(f.ha.oRa,this.axb);this.j.addEventListener(f.ha.b9,this.zwb);this.j.addEventListener(f.ha.gba,this.SFb);this.j.addEventListener(f.ha.Tg,this.Ojb);if(this.fpb() || this.config().gu)(this.j.addEventListener(f.ha.ZN,this.Imb),this.nKa=Ba.setInterval(this.eb.zmb,this.config().lbc));this.config().BVa && this.j.addEventListener(f.ha.ZN,this.Tjb);};d.prototype.Msa=function(l){var k;k=this;this.vyb || (this.j.Tb.value !== f.Gb.bg || (void 0 === l?0:l)?this.j.Tb.addListener(this.ZHa):this.Pz(),this.j.nk.addListener(this.BG),this.j.ja.addListener([h.v.Aa],this.eb.Ao),this.j.ja.addListener([h.v.X],this.Zo),this.j.Hi.addListener(this.eb.y4),this.j.paused.addListener(this.eb.rqa),this.j.Te.addListener(this.T$),this.j.Tb.addListener(this.iB),this.j.Tb.addListener(this.eb.oJb),this.j.mg.addListener(this.Uca),this.j.playbackRate.addListener(this.eb.yba),this.j.addEventListener(f.ha.ij,this.eb.ij),this.j.addEventListener(f.ha.CU,this.eb.CU),this.j.addEventListener(f.ha.Zna,this.eb.Zna),this.j.addEventListener(f.ha.h_,this.eb.h_),this.j.addEventListener(f.ha.rE,function(m){k.yZ="rebuffer";k.eb.rE(m);k.Dt=k.getTime();(0,g.yh)(k.iB);}),this.j.addEventListener(f.ha.qm,this.qm),this.j.addEventListener(f.ha.r_,this.eb.r_),this.Ka.ju && this.Ka.ju.addListener(this.eb.ju),this.vyb=!0);};d.prototype.Z4=function(){this.Tg();this.vyb && (this.j.removeEventListener(f.ha.WB,this.cxb),this.j.removeEventListener(f.ha.oRa,this.axb),this.j.removeEventListener(f.ha.b9,this.zwb),this.j.removeEventListener(f.ha.gba,this.SFb),this.j.nk.removeListener(this.BG),this.j.ja.removeListener(this.eb.Ao),this.j.ja.removeListener(this.Zo),this.j.Hi.removeListener(this.eb.y4),this.j.paused.removeListener(this.eb.rqa),this.j.Te.removeListener(this.T$),this.j.Tb.removeListener(this.iB),this.j.Tb.removeListener(this.ZHa),this.j.Tb.removeListener(this.eb.oJb),this.j.mg.removeListener(this.Uca),this.j.playbackRate.removeListener(this.eb.yba),this.j.removeEventListener(f.ha.Tg,this.Ojb),this.j.removeEventListener(f.ha.ij,this.eb.ij),this.j.removeEventListener(f.ha.CU,this.eb.CU),this.j.removeEventListener(f.ha.h_,this.eb.h_),this.j.removeEventListener(f.ha.rE,this.eb.rE),this.j.removeEventListener(f.ha.qm,this.qm),this.j.removeEventListener(f.ha.r_,this.eb.r_),this.Ka.ju && this.Ka.ju.removeListener(this.eb.ju),this.j.removeEventListener(f.ha.ZN,this.Imb),this.j.removeEventListener(f.ha.ZN,this.Tjb));};d.prototype.getTime=function(){return this.Oa.uc().la(c.wa);};d.prototype.hPa=function(){var l,k,m;l=this;m=[];this.config().Wxb && (this.config().Xxb.forEach(function(p){m.push(Ba.setTimeout(l.eb.NF,p));}),this.config().Goa && (k=Ba.setInterval(this.eb.NF,this.config().Goa)),this.vca=function(){m.forEach(function(p){Ba.clearTimeout(p);});k && Ba.clearInterval(k);});};d.prototype.fpb=function(){var l,k,m;m=null === (k=null === (l=this.j.ea.U) || void 0 === l?void 0:l.ya.YK) || void 0 === k?void 0:k.ata;if(void 0 !== m && void 0 !== m.downloadReportDenominator)try{return parseInt(m.downloadReportDenominator,10);}catch(p){this.log.error("Unable to parse manifest config override:" + m.downloadReportDenominator);}return this.config().Lmb;};b.a2=d;},33345:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q;function d(u,v,w,x,y,A,z){this.Oa=u;this.platform=w;this.Un=x;this.ek=y;this.zi=A;this.Gwb=z;(0,g.Wu)(this,"json");this.ta=v.qb("LogblobSender");}function n(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Pya=b.Efa=void 0;t=a(22970);c=a(22674);g=a(66523);f=a(5021);e=a(74870);h=a(81918);l=a(91581);k=a(33554);m=a(87386);p=a(40953);r=a(7605);q=a(51658);b.Efa=n;d.prototype.send=function(u){var v;v=this;return new Promise(function(w,x){var y;try{y=u.reduce(function(A,z){A.entries.push(v.f9b(z));return A;},new n());w(y);}catch(A){v.ta.error(A.message);x(A);}}).then(function(w){return v.AWa(w);});};d.prototype.f9b=function(u){var v;v={};this.Gwb.TK && (v.transport=q.cbb.gOc);return this.ek.cY(this.ek.cY(v,u.data),{esn:this.Un().Li,sev:u.severity,type:u.type,lver:this.platform.cRa,jssid:this.Oa.id,devmod:this.platform.vI,jsoffms:u.timestamp.ca(this.Oa.zF).la(f.wa),clienttime:u.timestamp.la(f.wa),client_utc:u.timestamp.la(f.Nt),uiver:this.zi.uiVersion});};d.prototype.AWa=function(u){var v;v=this;return this.Gwb.Se({log:this.ta},{logblobs:u}).then(function(){!1;}).catch(function(w){v.ta.error("PBO logblob failed",w);return Promise.reject(w);});};a=d;b.Pya=a;b.Pya=a=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(h.Sd)),t.__param(1,(0,c.l)(m.wb)),t.__param(2,(0,c.l)(l.Yr)),t.__param(3,(0,c.l)(k.uA)),t.__param(4,(0,c.l)(e.Il)),t.__param(5,(0,c.l)(r.Xx)),t.__param(6,(0,c.l)(p.F9a))],a);},82956:function(t,b,a){var n,c;function d(g){switch(g){case n.W.D1:return "http";case n.W.G1:return "connectiontimeout";case n.W.VL:return "readtimeout";case n.W.G4a:return "corruptcontent";case n.W.UL:return "abort";case n.W.H1:case n.W.Dxa:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Yic=d;b.Djc=function(g,f){var e;g={errorcode:g + (f.errorCode || n.aa.hk)};f.Ma && (g.errorsubcode=f.Ma);f.yg && (g.errorextcode=f.yg);f.k6 && (g.erroredgecode=f.k6);f.df && (g.errordetails=f.df);f.Uq && (g.httperr=f.Uq);f.RF && (g.aseneterr=f.RF);f.j6 && (g.errordata=f.j6);f.G9 && (g.mediaerrormessage=f.G9);e=d(Number(f.Ma));e && (g.nwerr=e);f.Zd && (g.playbackcontextid=f.Zd);return g;};b.Grb=function(){return {screensize:c.jH.width + "x" + c.jH.height,screenavailsize:c.jH.availWidth + "x" + c.jH.availHeight,clientsize:Ba.innerWidth + "x" + Ba.innerHeight,devicePixelRatio:c.g8a};};n=a(36129);c=a(22365);},50723:function(t,b,a){var c,g,f,e,h,l,k;function d(m){this.HH=f.fa;this.MEa=[];this.l3=this.Mga=!1;m && (this.HH=m.size,this.MEa=m.YP);}function n(m,p,r,q){this.Ftc=m;this.config=p;this.Vg=r;this.json=q;(0,g.Wu)(this,"json");this.ta=this.Vg.qb("MessageQueue");this.Dy=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Bza=void 0;t=a(22970);c=a(22674);g=a(66523);f=a(72574);e=a(81829);h=a(87386);l=a(63368);a=a(45118);n.prototype.mGa=function(m){var p,r;0 === this.Dy.length && this.Dy.push(this.zMa());if(m=this.jkc(m)){p=this.Ftc.measure([m]);r=this.Dy[this.Dy.length - 1];0 < r.size.add(p).Ul(this.config.vxb) && (r=this.zMa(),this.Dy.push(r));r.mGa(m);}};n.prototype.Fgc=function(){var m;m=this.Dy.filter(function(p){return p.f4b;});this.Dy.push(this.zMa());m.forEach(function(p){return p.Asc();});return m;};n.prototype.VZb=function(m){m.tF || this.Dy.unshift(new d(m));};n.prototype.XCc=function(m){m=this.Dy.indexOf(m);0 <= m && this.Dy.splice(m,1);};n.prototype.jkc=function(m){try{return {data:this.json.parse(this.json.stringify(m.data)),severity:m.severity,size:m.size,timestamp:m.timestamp,type:m.type};}catch(q){var p,r;p={};m=m.data;r=m.debugMessage;r && "string" === typeof r && (p.originalDebugMessage=r);(m=m.debugCategory) && "string" === typeof m && (p.originalDebugCategory=m);this.ta.error("JSON.stringify error: " + q.message,p);}};n.prototype.zMa=function(){return new d();};Ga.Object.defineProperties(n.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Dy.reduce(function(m,p){return m.add(p.size);},f.fa);}}});k=n;b.Bza=k;b.Bza=k=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(e.R6a)),t.__param(1,(0,c.l)(a.Dya)),t.__param(2,(0,c.l)(h.wb)),t.__param(3,(0,c.l)(l.$S))],k);d.prototype.i_=function(){this.Mga=!1;this.l3=!0;};d.prototype.Ff=function(){this.Mga=!1;};d.prototype.mGa=function(m){this.MEa.push(m);this.HH=this.HH.add(m.size);};d.prototype.Asc=function(){this.Mga=!0;};Ga.Object.defineProperties(d.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.HH;}},YP:{configurable:!0,enumerable:!0,get:function(){return this.MEa;}},f4b:{configurable:!0,enumerable:!0,get:function(){return 0 < this.YP.length && !1 === this.Mga;}},tF:{configurable:!0,enumerable:!0,get:function(){return this.l3;}}});},29670:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PMb={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-5.1hq-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.bxb=void 0;t=a(22674);d=a(37104);n=a(83081);c=a(43185);g=a(23176);f=a(17950);e=a(24273);h=a(44236);l=a(17398);k=a(47930);m=a(60042);p=a(97791);b.bxb=new t.je(function(r){r(c.l7a).to(g.jza).pa();r(d.lza).to(n.kza).pa();r(f.r$a).Bo(function(q){for(var u=[],v=0;v < arguments.length;++v)u[v - 0]=arguments[v];v=a(26159).uM;return new (Function.prototype.bind.apply(v,[null].concat(za(u))))();});r(e.o7a).Kf(function(){return function(q){return new h.p7a(q);};});r(l.hT).to(k.gza).pa();r(m.j7a).to(p.fza).pa();});},43185:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.l7a="ManifestProviderConfigSymbol";},37104:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lza="ManifestParserFactorySymbol";},24273:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.o7a="ManifestVerifyErrorFactorySymbol";},17950:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.r$a="PlayerTextTrackFactorySymbol";},77939:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p){k=c.f2.call(this,k) || this;k.config=m;k.j=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.O0a=void 0;n=a(29670);c=a(28518);g=a(45266);f=a(51344);e=a(35128);h=a(36129);l=a(31149);Ia(d,c.f2);d.prototype.IAb=function(k,m,p){var r,q;r=this;q=this.config.hta;m=m.filter(function(u){var v,w;v=u.Qw || !u.hg || u.streams && 0 < u.streams.length;v || r.log.warn("Audio track is missing streams",r.dma(u));w=0 === q.length || 0 <= q.indexOf(u.Ci);w || r.log.warn("Audio track is not supported",r.dma(u));return v && w;});if(!m.length)throw Error("no valid audio tracks");m=m.map(function(u){return r.HAb(k,u,r.tgc(u,p));});this.log.trace("Parsed audio tracks",{Count:m.length});return m;};d.prototype.dyc=function(k,m,p,r){var q,u,v,w;q=this;u=Ea((0,g.gK)(function(x){return x.Qw;},m));m=u.next().value;u=u.next().value;u=Ea((0,g.gK)(function(x){return x.streams && 0 < x.streams.length;},u));v=u.next().value;u.next().value.forEach(function(x){return q.log.warn("Audio track is missing streams",q.dma(x));});w=this.config.hta;u=Ea((0,g.gK)(function(x){return 0 === w.length || 0 <= w.indexOf(x.Ci);},v));v=u.next().value;u.next().value.forEach(function(x){return q.log.warn("Audio track is not supported",q.dma(x));});m=[].concat(za(v),za(m)).map(function(x){return q.HAb(k,x,q.yic(x.Dh,p,r));});if(!m.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:m.length});return m;};d.prototype.G1b=function(k){var m,p;m=this;p=this.config.OLa;if(p){if(k=Ea(k.filter(function(r){return r.wg == p || r.trackId == p;})).next().value)return k;}else if(this.j.bla && (k=Ea(k.filter(function(r){return r.trackId == m.j.bla;})).next().value))return k;};d.prototype.zec=function(k,m){this.config.Lhb.forEach(function(p){var r,q,u;r=m.Ay.filter(function(v){return v.profile === p;}).reduce(function(v,w){w.streams.map(function(x){return x.bitrate;}).forEach(function(x){v.add(x);});return v;},new Set());q=!1;u=k.ya.Ay.map(function(v){var w;if(v.profile === p){w=v.streams.filter(function(x){return r.has(x.bitrate);});if(w.length === v.streams.length)return v;q=!0;if(0 === w.length)throw new l.ue(h.aa.Y6a,h.W.DMb);return Object.assign(Object.assign({},v),{streams:w});}return v;});q && (k.ya=Object.assign(Object.assign({},k.ya),{Ay:u}));});return k;};d.prototype.HAb=function(k,m,p){var r,q,u,v;v=m.Ci;k=Object.assign(Object.assign({},k),{type:f.Jm.audio,IR:m.IR,variant:m.variant,trackId:m.Dh,Ci:e.$fa[v.toLowerCase()] || e.Pt.sT,wK:v,wg:m.language,displayName:m.CJ,wc:null !== (r=m.wc) && void 0 !== r?r:-1,hg:null !== (q=m.hg) && void 0 !== q?q:!0,channels:m.channels,RWc:m.channels,$i:p,ai:{Bcp47:m.language,TrackId:m.Dh},streams:[],isNative:m.isNative,xp:m.Qw,Qba:m.Qba});k.streams=this.vJb(m.streams,k);this.log.trace("Transformed audio track",k,{StreamCount:k.streams.length,AllowedTimedTextTracks:k.$i.length});k.cja=n.PMb[null === (u=k.streams[0]) || void 0 === u?void 0:u.me];return k;};d.prototype.dma=function(k){return {language:k.CJ,bcp47:k.language,type:k.Ci};};d.prototype.tgc=function(k,m){var p;p=this;return m.filter(function(r){var q;if(0 <= (null === (q=k.Uac) || void 0 === q?void 0:q.indexOf(r.trackId)))return !1;if(!p.config.DGa || !r.xp() || r.co())if(k.Xlb){if(k.Xlb !== r.trackId && (r.xp() || r.co()))return !1;}else if(k.Rvc){if(r.xp() || r.co())return !1;}else if(r.co())return !1;return !0;});};d.prototype.yic=function(k,m,p){var r;m=m.filter(function(q){return q.ja.X === k;}).map(function(q){return q.ja.Aa;}).map(function(q){return p.find(function(u){return u.trackId === q;});}).filter(Boolean);if(this.config.DGa && !m.find(function(q){return q.xp() && !q.co();})){r=p.find(function(q){return q.xp() && !q.co();});r && m.push(r);}return m;};b.O0a=d;},82409:function(t,b,a){var n,c;function d(g,f){this.log=g;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.R1a=void 0;n=a(45266);c=a(64274);d.prototype.JAb=function(g,f){var e,h,l,k;e=this;h=this.config.RHa;l=this.config.QHa;g=Ea((0,n.gK)(function(m){return (!h.length || 0 <= h.indexOf(m.id)) && 0 > l.indexOf(m.id);},g || []));k=g.next().value;g.next().value.forEach(function(m){return e.log.warn("Cdn is not allowed",{Id:m.id});});g=k.map(function(m){var p;p=(f?f.find(function(r){return r.key === m.key;}):void 0) || ({});return {id:m.id,name:m.name,wc:m.wc,type:m.type,doa:m.key,Koc:m.Mwb,location:{id:p.key,wc:p.wc,level:p.level,weight:p.weight}};});g.sort(function(m,p){return m.wc - p.wc;});this.log.trace("Transformed cdns",{Count:g.length});if(!g.length)throw Error("no valid cdns");return g;};d.prototype.Gmc=function(g,f,e,h){var l;l=g.filter(function(k){return -1 === e.findIndex(function(m){return m.id === k.id;});}).map(function(k){return {oAb:!0,Eb:k};}).concat(e.map(function(k){return {oAb:!1,Eb:k};})).sort(function(k,m){return k.Eb.wc === m.Eb.wc?k.oAb?-1:1:k.Eb.wc - m.Eb.wc;}).map(function(k,m){(0,c.p9)(k.Eb).wc=m + 1;return k.Eb;});g=f.filter(function(k){return -1 === h.findIndex(function(m){return m.key === k.key;});}).concat(h).map(function(k){var m;m=l.findIndex(function(p){return p.key === k.key;});if(-1 !== m)return (m=l[m],(0,c.p9)(k).wc=m.wc,k);}).filter(function(k){return void 0 !== k;});return {TFc:l,Irc:g};};b.R1a=d;},23176:function(t,b,a){var n,c,g,f,e,h;function d(l,k){l=c.Ef.call(this,l,"ManifestParserConfigImpl") || this;l.Qf=k;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.jza=void 0;t=a(22970);n=a(22674);c=a(64174);g=a(83767);f=a(12501);e=a(5614);h=a(72574);Ia(d,c.Ef);Ga.Object.defineProperties(d.prototype,{hta:{configurable:!0,enumerable:!0,get:function(){return [];}},OLa:{configurable:!0,enumerable:!0,get:function(){return "";}},RHa:{configurable:!0,enumerable:!0,get:function(){return [];}},QHa:{configurable:!0,enumerable:!0,get:function(){return [];}},RLa:{configurable:!0,enumerable:!0,get:function(){return "";}},NOa:{configurable:!0,enumerable:!0,get:function(){return 0;}},s_:{configurable:!0,enumerable:!0,get:function(){return this.Qf.s_.la(h.Qx);}},mA:{configurable:!0,enumerable:!0,get:function(){return this.Qf.mA;}},Lhb:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}},DGa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=d;b.jza=a;t.__decorate([f.config(f.e_,"supportedAudioTrackTypes")],a.prototype,"hta",null);t.__decorate([f.config(f.string,"forceAudioTrack")],a.prototype,"OLa",null);t.__decorate([f.config(f.iZa,"cdnIdWhiteList")],a.prototype,"RHa",null);t.__decorate([f.config(f.iZa,"cdnIdBlackList")],a.prototype,"QHa",null);t.__decorate([f.config(f.string,"forceTimedTextTrack")],a.prototype,"RLa",null);t.__decorate([f.config(f.Ex,"imageSubsResolution")],a.prototype,"NOa",null);t.__decorate([f.config(f.Ex,"timedTextSimpleFallbackThreshold")],a.prototype,"s_",null);t.__decorate([f.config(f.e_,"timedTextProfiles")],a.prototype,"mA",null);t.__decorate([f.config(f.e_,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"Lhb",null);t.__decorate([f.config(f.fd,"alwaysIncludeOffTimedTextTrack")],a.prototype,"DGa",null);b.jza=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Fn)),t.__param(1,(0,n.l)(e.vT))],a);},83081:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w){this.Vg=q;this.config=u;this.bUa=v;this.ZYa=w;}Object.defineProperty(b,"__esModule",{value:!0});b.kza=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(43185);f=a(82409);e=a(71420);h=a(85696);l=a(6795);k=a(77939);m=a(44858);p=a(17950);a=a(77601);d.prototype.create=function(q){var u,v;u=this.Vg.qb("ManifestParser",q);v=new f.R1a(u,this.config);return new h.m7a(v,new e.Wbb(u,this.config,q,this.bUa),new l.pcb(u,q,this.ZYa),new k.O0a(u,this.config,q),new m.Wcb(u));};r=d;b.kza=r;b.kza=r=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(g.l7a)),t.__param(2,(0,n.l)(p.r$a)),t.__param(3,(0,n.l)(a.ocb))],r);},85696:function(t,b,a){var n;function d(c,g,f,e,h){this.SHa=c;this.AYa=g;this.rLc=f;this.B4=e;this.sLb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.m7a=void 0;n=a(64274);d.prototype.SAb=function(c){var g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B;e=c.ya;h={correlationId:null !== (f=null === (g=e.gB) || void 0 === g?void 0:g.yi) && void 0 !== f?f:"",Bp:e.tPa?"ads":"content"};l=!!e.RQ;g=this.SHa.JAb(e.xm,e.sj);f=this.AYa.$Ab(h,e.SR);c=this.rLc.wyc(e.uLc);k=l?this.B4.IAb(h,e.Ay,f):this.B4.dyc(h,e.Ay,e.media,f);h=this.sLb.yyc(h,e.qA);m=h.find(function(C){return l?C.trackId === e.RQ.Go:C.trackId === e.K5[0].Go;}) || h[0];p=this.B4.G1b(k) || k.find(function(C){return l?C.trackId === e.RQ.iu:C.trackId === e.K5[0].iu;}) || k[0];r=this.AYa.NKc(p.$i) || f.find(function(C){return l?C.trackId === e.RQ.t_:C.trackId === e.K5[0].jIb;}) || p.$i[0];q=this.sLb.kyc(e.qA);u=e.Zd;v=e.Bb;w=e.B5b;x=e.$I;y=e.Tq;A=e.Ay.findIndex(function(C){return C.Dh == p.trackId;});z=e.qA.findIndex(function(C){return C.Dh == m.trackId;});B=e.SR.findIndex(function(C){return C.Dh == r.trackId;});return {NQ:q,Th:g,qk:k,VC:h,$i:f,EG:c,Zd:u,Bb:v,YFc:w,wP:x,Tq:y,O$b:A,X$b:z,V$b:B,L5:m,G5:p,I5:r};};d.prototype.Hmc=function(c,g,f){var e,h,l,k,m,p;e=this;k=this.SHa.Gmc(c.ya.xm,c.ya.sj,f.ya.xm,f.ya.sj);m=k.TFc;k=k.Irc;(0,n.p9)(c.ya).xm=m;(0,n.p9)(c.ya).sj=k;g.Th=this.SHa.JAb(m,k);p={correlationId:null !== (l=null === (h=f.ya.gB) || void 0 === h?void 0:h.yi) && void 0 !== l?l:"",Bp:f.ya.tPa?"ads":"content"};f=f.ya;h=f.Ay;f.SR.forEach(function(r){var q;if(r.hg){q=e.ZDb(c.ya.SR,g.$i,r,function(u){return e.AYa.$Ab(p,[u])[0];});q && g.qk.forEach(function(u){var v;u=u.$i;v=u.findIndex(function(w){return w.trackId === q.trackId;});-1 !== v && (u[v]=q);});}});h.forEach(function(r){r.hg && e.ZDb(c.ya.Ay,g.qk,r,function(q){return e.B4.IAb(p,[q],g.$i)[0];});});return {U:c,Pc:g};};d.prototype.TEc=function(c,g){return this.B4.zec(c,g);};d.prototype.ZDb=function(c,g,f,e){var h,l,k,m;h=c.findIndex(function(p){return p.Dh === f.Dh;});l=-1 !== h?c[h]:void 0;k=g.findIndex(function(p){return p.trackId === f.Dh;});m=-1 !== k?g[k]:void 0;if(l && !l.hg && m && !m.hg)return (e=e(f),c[h]=f,g[k]=e);};b.m7a=d;},44236:function(t,b){function a(d){this.Pc=d;this.df=JSON.stringify(this.Jic());}Object.defineProperty(b,"__esModule",{value:!0});b.p7a=void 0;a.prototype.Jic=function(){var d;d=[];(!this.Pc.Th || 0 >= this.Pc.Th.length) && d.push({error:"No CDN."});this.Pc.G5 || d.push({error:"No default audio track.",foundTracks:this.EMa(this.Pc.qk)});this.Pc.L5 || d.push({error:"No default video track.",foundTracks:this.EMa(this.Pc.VC)});this.Pc.I5 || d.push({error:"No default subtitle track.",foundTracks:this.EMa(this.Pc.$i)});return d;};a.prototype.EMa=function(d){return d && 0 < d.length?d.map(function(n){return n.trackId;}):"No tracks found.";};b.p7a=a;},28518:function(t,b,a){var n;function d(c){this.log=c;}Object.defineProperty(b,"__esModule",{value:!0});b.f2=void 0;n=a(6305);d.prototype.vJb=function(c,g){var f,e;f=this;if(!c)return (this.log.warn("There are no media streams for " + g.type + " track - " + g.trackId),[]);e=c.map(function(h){var l,k,m,p,r,q,u,v;v=new n.MediaStream(g,g.type,h.Vn,h.bitrate,h.Ob,h.size,f.thc(h.urls),h.lI,h.ppb / h.opb,h.Wj,h.ck);v.fHc(h.nEb,h.KVa,h.wBb,h.vBb);v.kGc(null !== (l=h.g$b) && void 0 !== l?l:void 0,null !== (k=h.h$b) && void 0 !== k?k:void 0,null !== (m=h.f$b) && void 0 !== m?m:void 0,null !== (p=h.e$b) && void 0 !== p?p:void 0,null !== (r=h.wBb) && void 0 !== r?r:void 0,null !== (q=h.vBb) && void 0 !== q?q:void 0);g.Tq && (v.Tq=g.Tq);h.bO && (v.bO=null !== (u=h.bO) && void 0 !== u?u:void 0);h.lI && (v.me=h.lI);return v;});e.sort(function(h,l){return h.bitrate - l.bitrate;});e.forEach(function(h,l){h.lower=e[l - 1];h.g_c=e[l + 1];});return e;};d.prototype.thc=function(c){return c.reduce(function(g,f){g[f.Uh]=f.url;return g;},{});};b.f2=d;},71420:function(t,b,a){var n,c,g,f;function d(e,h,l,k){this.log=e;this.config=h;this.j=l;this.bUa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Wbb=void 0;n=a(75568);c=a(22365);g=a(35128);f=a(14423);d.prototype.$Ab=function(e,h){var l;l=this;h=h.map(function(k){var m,p,r,q;r=l.hLc(k);k.Qw || !k.hg || r && 0 < r.length || l.log.error("track without downloadables",l.Gic(k));q={};0 < r.length && (q=r[0],q.profile == n.rq.mT && (q=l.DFc(r),!1));k=l.bUa(l.j,k.Dh,null !== (m=k.wc) && void 0 !== m?m:-1,null !== (p=k.hg) && void 0 !== p?p:!0,e,q.Yb,q.urls || [],k.language,k.CJ,g.$fa[k.Ci.toLowerCase()] || g.Pt.sT,k.IR,k.variant,k.wK.toUpperCase(),q.profile,l.Sic(q) || ({}),k.Qw,k.u8,k.kna,k.cz);l.log.trace("Transformed timed text track",k);return k;});this.log.trace("Transformed timed text tracks",{Count:h.length});return h;};d.prototype.NKc=function(e){var h,l;h=this;l=this.config.RLa;if(l){if(e=Ea(e.filter(function(k){return k.wg == l || k.trackId == l;})).next().value)return e;}else if(this.j.cla && (e=Ea(e.filter(function(k){return k.trackId == h.j.cla;})).next().value))return e;};d.prototype.hLc=function(e){var h,l;h=this;l=e.Omb;e=Object.entries(e.fZa || ({})).map(function(k){var m;m=Ea(k);k=m.next().value;m=m.next().value;return {Yb:l[k],profile:k,size:m.size || 0,priority:h.uhc(k,m),offset:m.RRa || 0,Tyc:m.width,uBb:m.height,urls:m.urls};});e.sort(function(k,m){return k.priority - m.priority;});return e;};d.prototype.uhc=function(e,h){var l,k;l=this.config.mA.indexOf(e);h=h.size;k=this.config.s_;return e === n.rq.Zva && 0 < k && h > k?this.config.mA.length + 1:0 <= l?l:this.config.mA.length;};d.prototype.Sic=function(e){if(e.profile === n.rq.mT)return {offset:e.offset,length:e.size,qn:{width:e.Tyc,height:e.uBb}};};d.prototype.DFc=function(e){var h,l;h=this.config.NOa || f.TCa.urb();l=Ea(e.filter(function(k){return k.profile === n.rq.mT;}).filter(function(k){return k.uBb === h;})).next().value;if(l)return l;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:c.jH.height,intendedResolution:h});return e[0];};d.prototype.Gic=function(e){return {isNone:e.Qw,isForced:e.u8,bcp47:e.language,id:e.Dh};};b.Wbb=d;},6795:function(t,b){function a(d,n,c){this.log=d;this.j=n;this.ZYa=c;}Object.defineProperty(b,"__esModule",{value:!0});b.pcb=void 0;a.prototype.wyc=function(d){var n;n=this;d=(d || []).filter(function(c){return c.urls && 0 < c.urls.length;}).map(function(c){return n.ZYa(n.j,c.id,c.height,c.width,c.Wyc,c.Xyc,c.size,c.cz,{unknown:c.urls[0]});});0 === d.length && this.log.warn("There are no trickplay tracks");d.sort(function(c,g){return c.size - g.size;});this.log.trace("Transformed trick play tracks",{Count:d.length});return d;};b.pcb=a;},44858:function(t,b,a){var n,c,g,f;function d(e){return c.f2.call(this,e) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Wcb=void 0;n=a(45266);c=a(28518);g=a(51344);f=a(35128);Ia(d,c.f2);d.prototype.yyc=function(e,h){var l,k;l=this;h=Ea((0,n.gK)(function(m){return m.streams && 0 < m.streams.length;},h));k=h.next().value;h.next().value.forEach(function(m){return l.log.warn("Video track is missing streams",{trackId:m.Dh});});h=k.map(function(m){var p,r;r=m.Ci;r=Object.assign(Object.assign({},e),{type:g.Jm.video,trackId:m.Dh,Ci:f.$fa[r.toLowerCase()] || f.Pt.sT,wK:r,streams:[],ai:{},Zqa:m.Zqa,wc:null !== (p=m.wc) && void 0 !== p?p:-1});r.streams=l.vJb(m.streams,r);l.log.trace("Transformed video track",{StreamCount:r.streams.length});return r;});if(!h.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:h.length});return h;};d.prototype.kyc=function(e){var h;h=e.map(function(l){return l.Zqa;}).filter(Boolean);h=[].concat.apply([],za(h)).map(function(l){return l.ka;});e=e.map(function(l){return l.Qmb;}).filter(Boolean).map(function(l){return l.ka;});return 0 < h.length?h:e;};b.Wcb=d;},81737:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.U=void 0;t=a(22674);d=a(99070);n=a(49745);c=a(704);g=a(3861);b.U=new t.je(function(f){f(n.iT).to(d.hza).pa();f(c.k7a).to(g.iza);});},60042:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.j7a="ManifestEnricherSymbol";},17398:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hT="ManifestFactorySymbol";},49745:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iT="ManifestFetcherSymbol";},704:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.k7a="ManifestMigrationSymbol";},91622:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.g1a="BookmarkSymbol";},72516:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.f1a="BookmarkConfigSymbol";},81364:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.e1a="BookmarkConfigParserSymbol";},66393:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.zN=void 0;t=a(22674);d=a(91622);n=a(72516);c=a(81364);g=a(63143);f=a(25293);e=a(12563);b.zN=new t.je(function(h){h(d.g1a).to(g.uva).pa();h(n.f1a).to(f.sva).pa();h(c.e1a).to(e.tva).pa();});},25293:function(t,b,a){var n,c;function d(g){this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.sva=void 0;t=a(22970);n=a(22674);a=a(4203);d.prototype.JMa=function(){return this.QO().s2b;};d.prototype.KMa=function(){return this.QO().t2b;};d.prototype.fic=function(){return this.QO().u2b;};d.prototype.lMa=function(){return this.QO().hib;};d.prototype.QO=function(){return this.config();};c=d;b.sva=c;b.sva=c=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Cc))],c);},12563:function(t,b,a){var n,c,g;function d(f){this.Zb=f;}Object.defineProperty(b,"__esModule",{value:!0});b.tva=void 0;t=a(22970);n=a(22674);c=a(42207);g=a(5021);d.prototype.tJc=function(f,e){var h,l;h=parseFloat(f);l=0;"%" === f[f.length - 1] && this.Zb.Ln(h)?l=Math.round(h * e.la(g.wa) / 100):(f=parseInt(f),this.Zb.m4(f) && (l=f));return (0,g.ac)(Math.min(l,e.la(g.wa)));};a=d;b.tva=a;b.tva=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.ei))],a);},63143:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p){this.Dia=k;this.Zb=m;this.r2b=p;this.ta=l.qb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.uva=void 0;t=a(22970);n=a(22674);c=a(72516);g=a(81364);f=a(87386);e=a(42207);h=a(5021);d.prototype.U_b=function(l){var k,m;k=l.jb.playbackState && l.jb.playbackState.currentTime;m=this.chc(l.R);k=this.Zb.FV(k)?(0,h.ac)(k):m;m=0;this.Zb.Xh(k)?(this.ta.info("Overriding bookmark",{From:l.SC.la(h.wa),To:k.la(h.wa)}),k=Object.assign({},l,{SC:k})):k=l;return l.Fc.xa && (m=l.Fc.VMa(l.SC.la(h.wa)),k=Object.assign({},k,{SC:(0,h.ac)(m.ap),jK:(0,h.ac)(m.jK)}),m=m.Tlb,!l.Fc.tP())?(this.ta.trace("Do not apply bookmark ignore logic for ongoing LIVE events"),k.SC):k.SC.PPa()?(this.ta.trace("Ignoring bookmark because it's negative"),(0,h.ac)(m)):this.Pmc(k)?(this.ta.trace("Ignoring bookmark because it's too close to beginning"),(0,h.ac)(m)):this.Omc(k)?(this.ta.trace("Ignoring bookmark because it's too close to end"),(0,h.ac)(m)):this.Nmc(k)?(this.ta.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,h.ac)(m)):k.SC;};d.prototype.Pmc=function(l){return 0 > l.SC.Ul(this.JMa(l));};d.prototype.JMa=function(l){return this.iib(this.Dia.JMa(),l.jK);};d.prototype.Omc=function(l){return 0 < l.SC.Ul(this.KMa(l));};d.prototype.KMa=function(l){var k;k=l.jb.Ag?this.Dia.fic():this.Dia.KMa();return l.jK.ca(this.iib(k,l.jK));};d.prototype.Nmc=function(l){return 0 < l.SC.Ul(this.Ehc(l));};d.prototype.Ehc=function(l){return l.jK.ca((0,h.ac)(l.dK));};d.prototype.chc=function(l){var k;l=this.Dia.lMa()[l];k=-1;this.Zb.ks(l)?k=parseInt(l):this.Zb.Ln(l) && (k=l);if(this.Zb.m4(k))return (0,h.ac)(k);};d.prototype.iib=function(l,k){return this.r2b.tJc(l,k);};a=d;b.uva=a;b.uva=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(f.wb)),t.__param(1,(0,n.l)(c.f1a)),t.__param(2,(0,n.l)(e.ei)),t.__param(3,(0,n.l)(g.e1a))],a);},34029:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.y1a="CDMAttestedDescriptorProvider";},6498:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Bib=void 0;t=a(22674);d=a(34029);n=a(28419);b.Bib=new t.je(function(c){c(d.y1a).to(n.Ava).pa();});},28419:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r,q,u,v,w){this.config=p;this.WJ=q;this.profile=u;this.YYa=v;this.W4=w;this.Yob=!0;this.log=r.qb("CDMAttestedDescriptor");this.Tpb(k.Kv.pM);}Object.defineProperty(b,"__esModule",{value:!0});b.Ava=void 0;t=a(22970);n=a(22674);c=a(4203);g=a(87386);f=a(97996);e=a(70865);h=a(71501);l=a(2492);k=a(34231);m=a(24735);d.prototype.Tpb=function(p){var r;r=this;return this.YYa.uR(p)?this.config().bcc?this.Qpb().then(function(q){return q?(!1,Promise.resolve(void 0)):r.Bic();}).then(function(q){return Promise.all([Promise.resolve(q),r.Qpb()]);}).then(function(q){var u;q=Ea(q);u=q.next().value;if(q.next().value)!1;else return u;}):this.WJ().then(function(q){q.dQ.RDb();}):Promise.resolve(void 0);};d.prototype.Qpb=function(){var p;p=this;return this.WJ().then(function(r){if(p.Yob)(p.Yob=!1,r.dQ.RDb());else return (r=r.dQ.VI(p.profile)) && r.find(function(q){return "cad" === q.name;});});};d.prototype.Bic=function(){var p;p=this;this.Zvb || (this.Zvb=this.W4.CNa(m.hq.cH).then(function(r){r.sn.close();return r.THa;}).catch(function(r){p.log.error("Failed to generate challenge",r);}));return this.Zvb;};a=d;b.Ava=a;b.Ava=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Cc)),t.__param(1,(0,n.l)(g.wb)),t.__param(2,(0,n.l)(f.k2)),t.__param(3,(0,n.l)(h.xT)),t.__param(4,(0,n.l)(e.bga)),t.__param(5,(0,n.l)(l.Gda))],a);},97791:function(t,b,a){var n,c;function d(g){this.idc=g;this.sFb={J:"viewableId",cb:"startTimeMs",ib:"endTimeMs",next:["next",{ej:[c.ej,{weight:"weight",Ld:"transitionType"}]}],Ac:"defaultNext",cl:"exitZones",jo:"main",type:"type",Ld:"transitionType",playbackRate:"playbackRate",weight:"weight"};this.NBb={jh:"mediaTypes",ff:"initialSegment",$:["segments",{ej:[c.ej,Object.assign(Object.assign({},this.sFb),{next:["next",{ej:[c.ej,{weight:"weight",Ld:"transitionType",xJb:"transitionHint",I3c:"skipRegionOffset",J3c:"skipRegionWeight",Dbc:"earliestSkipRequestOffset"}]}],xJb:"transitionHint",Dbc:"earliestSkipRequestOffset"})]}]};this.Ywb={zN:"bookmark",O0c:"manifestVersion",cO:"drmType",dYc:"drmVersion",expiration:"expiration",R:"movieId",ur:"packageId",duration:"duration",Zd:"playbackContextId",K5:["defaultTrackOrderList",{TX:"mediaId",Go:"videoTrackId",jIb:"subtitleTrackId",iu:"audioTrackId",x2c:"preferenceOrder"}],f1c:["mediaEventTracks",{id:"id",profile:"profile",type:"type",streams:["streams",{Vn:"downloadable_id",urls:["urls",{Uh:"cdn_id",url:"url",HX:"liveOcaCapabilities"}]}]}],jYc:["eligibleABTestMap",{ej:c.ej}],qWc:["badgingInfo",{XXc:"dolbyDigitalAudio",e_c:"hdrVideo",YXc:"dolbyVisionVideo",L4c:"ultraHdVideo","3dVideo":"3dVideo",WXc:"dolbyAtmosAudio",bWc:"assistiveAudio",k3c:"sdVideo",c_c:"hdVideo",d_c:"hdr10PlusVideo"}],type:"type",hWc:["audioTextShortcuts",{id:"id",iu:"audioTrackId",FIb:"textTrackId"}],j2c:"partiallyHydrated",yxb:"maxRecommendedAudioRank",zxb:"maxRecommendedTextRank",Tq:"drmContextId",ysb:"hasDrmProfile",Slc:"hasClearProfile",$I:"hasDrmStreams",pma:"hasClearStreams",sj:["locations",{wc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],xm:["servers",{id:"id",name:"name",type:"type",wc:"rank",Mwb:"lowgrade",cbc:["dns",{host:"host",Snc:"ipv4",Tnc:"ipv6",sfc:"forceLookup"}],key:"key"}],Ay:["audio_tracks",{type:"type",IR:"subType",variant:"variant",Ci:"trackType",Dh:"new_track_id",yta:"track_id",iBc:"profileType",VIc:"stereo",profile:"profile",channels:"channels",language:"language",y4b:"channelsFormat",Qba:"surroundFormatLabel",CJ:"languageDescription",Uac:"disallowedSubtitleTracks",Xlb:"defaultTimedText",isNative:"isNative",Qw:"isNoneTrack",uWc:"bitrates",n0b:"allowedVideoTrackId",streams:["streams",{Vn:"downloadable_id",size:"size",lI:"content_profile",Ci:"trackType",bitrate:"bitrate",Wj:"isDrm",urls:["urls",{Uh:"cdn_id",url:"url",HX:"liveOcaCapabilities"}],Nuc:"new_stream_id",type:"type",channels:"channels",y4b:"channelsFormat",Qba:"surroundFormatLabel",language:"language",fWc:"audioKey",muc:["moov",{size:"size",offset:"offset"}],tn:["sidx",{size:"size",offset:"offset"}],wIc:["ssix",{size:"size",offset:"offset"}],ck:"tags",ADc:"representationId"}],cja:"codecName",wK:"rawTrackType",id:"id",wc:"rank",hg:"hydrated",Rvc:"offTrackDisallowed"}],qA:["video_tracks",{Ci:"trackType",Dh:"new_track_id",type:"type",yta:"track_id",ysb:"hasDrmProfile",Slc:"hasClearProfile",$I:"hasDrmStreams",pma:"hasClearStreams",groupName:"groupName",streams:["streams",{Vn:"downloadable_id",size:"size",lI:"content_profile",Ci:"trackType",bO:"drmHeaderId",bitrate:"bitrate",Wj:"isDrm",urls:["urls",{Uh:"cdn_id",url:"url",HX:"liveOcaCapabilities"}],Nuc:"new_stream_id",type:"type",l2c:"peakBitrate",Nac:"dimensionsCount",Oac:"dimensionsLabel",wBb:"pix_w",vBb:"pix_h",nEb:"res_w",KVa:"res_h",g$b:"crop_x",h$b:"crop_y",f$b:"crop_w",e$b:"crop_h",ppb:"framerate_value",opb:"framerate_scale",sHb:"startByteOffset",Ob:"vmaf",muc:["moov",{size:"size",offset:"offset"}],tn:["sidx",{size:"size",offset:"offset"}],wIc:["ssix",{size:"size",offset:"offset"}],mR:["segmentVmaf",{offset:"offset",Ob:"vmaf"}],ck:"tags",ADc:"representationId"}],iBc:"profileType",VIc:"stereo",profile:"profile",Nac:"dimensionsCount",Oac:"dimensionsLabel",L3c:["snippets",{ej:[c.ej,{K3c:"snippetSpec",cb:"startTimeMs",ib:"endTimeMs"}]}],Qmb:["drmHeader",{ka:"bytes",Y4b:"checksum",bO:"drmHeaderId",pz:"keyId",qn:["resolution",{height:"height",width:"width"}]}],Zqa:["prkDrmHeaders",{ka:"bytes",Y4b:"checksum",bO:"drmHeaderId",pz:"keyId",qn:["resolution",{height:"height",width:"width"}]}],Gs:"flavor",u_c:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",zBb:"pixelAspectX",ABb:"pixelAspectY",W0c:"maxCroppedWidth",V0c:"maxCroppedHeight",X0c:"maxCroppedX",Y0c:"maxCroppedY",DRa:"max_framerate_value",CRa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",u1c:"minCroppedWidth",t1c:"minCroppedHeight",v1c:"minCroppedX",w1c:"minCroppedY",hg:"hydrated",wc:"rank",Ws:["license",{zqc:"licenseResponseBase64",G2c:"providerSessionToken",o3c:"secureStopExpected",cYc:"drmSessionId",bYc:"drmGroupId",links:["links",{}]}]}],gB:["cdnResponseData",{oR:"sessionABTestCell",yi:"pbcid"}],Lq:["choiceMap",Object.assign(Object.assign({},this.NBb),{type:"type",J:"viewableId",Ld:"transitionType",xJb:"transitionHint",iNc:"uxlabel",f2c:["parallelGraphs",{ej:[c.ej,this.NBb]}]})],Iy:["contentPlaygraph",{Z:["playgraph",{ff:"initialSegment",Ld:"transitionType",iNc:"uxlabel",$:["segments",{ej:[c.ej,this.sFb]}]}],N3c:["startIdent",{v_c:"identToken",J:"viewableId"}]}],media:["media",{id:"id",ja:["tracks",{X:"AUDIO",Aa:"TEXT",V:"VIDEO"}]}],RQ:["recommendedMedia",{Go:"videoTrackId",iu:"audioTrackId",t_:"timedTextTrackId"}],SR:["timedtexttracks",{Ci:"trackType",Dh:"new_track_id",type:"type",IR:"subType",variant:"variant",wK:"rawTrackType",CJ:"languageDescription",language:"language",id:"id",Qw:"isNoneTrack",u8:"isForcedNarrative",Omb:["downloadableIds",{}],F4c:"trackVariant",sYc:"encodingProfileNames",n0b:"allowedVideoTrackId",NWc:["cdnlist",{id:"id",name:"name",type:"type",wc:"rank",Mwb:"lowgrade",cbc:["dns",{host:"host",Snc:"ipv4",Tnc:"ipv6",sfc:"forceLookup"}],key:"key"}],fZa:["ttDownloadables",{ej:[c.ej,{id:"id",size:"size",i4c:"textKey",b_c:"hashValue",a_c:"hashAlgo",M_c:"isImage",RRa:"midxOffset",Yxb:"midxSize",height:"height",width:"width",oKa:["downloadUrls",{}],urls:["urls",{url:"url",Uh:"cdn_id",HX:"liveOcaCapabilities"}]}]}],kna:"isLanguageLeftToRight",cz:"headIdentDuration",wc:"rank",hg:"hydrated"}],uLc:["trickplays",{Vn:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",Xyc:"pixelsAspectY",Wyc:"pixelsAspectX",width:"width",height:"height",cz:"headIdentDuration",x_c:"imageCount"}],ILb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],aYc:"dpsid",Ag:"isBranching",g5c:"viewableType",tPa:"isAd",sX:"isSupplemental",B5b:"clientIpAddress",R4c:"urlExpirationDuration",I0c:"manifestExpirationDuration",YK:["steeringAdditionalInfo",{Q3c:"steeringId",QVc:"additionalGroupNames",ata:["streamingClientConfig",{}],$Z:["stickySteeringMetadata",{E8:"isSteeringSticky",Rsa:"stickySteeringToken"}],hIc:"slowInitialBufferingSignal"}],Bb:"auxiliaryManifestToken",Ti:["liveMetadata",{fka:["downloadableIdToSegmentTemplateId",{ej:c.ej}],lR:["segmentTemplateIdToSegmentTemplate",{ej:[c.ej,{wN:"availabilityStartTime",Bnc:"initialization",media:"media",nAc:"presentationTimeOffset",vHb:"startNumber",duration:"duration",P:"timescale"}]}],Pvc:"ocLiveWindowDurationSeconds",Eka:"eventAvailabilityOffsetMs",n6:"eventStartTime",dW:"eventEndTime",xmb:"disableLiveUi",maxBitrate:"maxBitrate",wN:"availabilityStartTime"}],H9:["mediaEventHistory",{P:"timescale",f2b:"baseTimeMs",m$b:"cutoffTimeMs",Jxb:["mediaEvents",{type:"type",id:"id",timestamp:"timestamp",duration:"duration",rn:"segmentationTypeId",fb:"adBreakTriggerId",Yo:"applicationScope"}]}],Jf:"streamingType",HYa:["timecodeAnnotations",{bdc:"endOffsetMs",Bba:"startOffsetMs",type:"type"}],kCb:"prefetchTtl",$o:"auxiliaryManifests",He:"adverts",LOa:"ignoreUserTextPreferences"};this.Qfb={Uu:"locationMs",pk:"adBreakToken",fb:"adBreakTriggerId",OV:"embedded",Vzc:"prefetchWindowOffsetMs",zDb:"refreshCache",Uzc:"prefetchWindowDurationMs",aB:"autoSkip",Ica:["uxDisplay",{cLb:"uxIndication",dLb:"uxPlayerControl"}],jc:["ads",{id:"id",cb:"startTimeMs",ib:"endTimeMs",rta:["timedAdEvents",{event:"event",YA:"adEventToken",xv:"timeMs"}],hE:["actionAdEvents",{start:["start",{event:"event",YA:"adEventToken"}],complete:["complete",{event:"event",YA:"adEventToken"}],stop:["stop",{event:"event",YA:"adEventToken"}]}],aB:"autoSkip",iX:"is3pVerificationEnabled",o_:"thirdPartyVerificationToken",hZa:["uiComponent",{OVc:"adImpressionMetadataId",K4c:"uiToken"}]}],oN:["actionAdBreakEvents",{complete:["complete",{event:"event",YA:"adEventToken"}]}],GU:"auditPingUrl"};this.Y_b={yb:["adBreaks",this.Qfb],GU:"auditPingUrl",JEb:"retainAdBreaks",QFa:["adBreakCacheUpdates",{ej:[c.ej,{action:"action",Qa:["adBreak",this.Qfb]}]}],Rq:"daiSupported",Wlb:"defaultPrefetchWindowDurationMs",R$b:"defaultPrefetchWindowOffsetMs",ync:"initialPrefetchWindowDurationMs",znc:"initialPrefetchWindowOffsetMs",hxc:"orderedAdBreakTriggerIds"};this.ksc=Object.assign(Object.assign({},this.Ywb),{$o:["auxiliaryManifests",this.Ywb],He:["adverts",this.Y_b]});}Object.defineProperty(b,"__esModule",{value:!0});b.fza=void 0;t=a(22970);n=a(22674);c=a(90030);d.prototype.bW=function(g){this.idc.bW(g,this.ksc);};a=d;b.fza=a;b.fza=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.B3a))],a);},47930:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p){this.fwb=k;this.jsc=m;this.lsc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.gza=void 0;t=a(22970);n=a(22674);c=a(81025);g=a(60042);f=a(31149);e=a(36129);h=a(91176);a=a(704);d.prototype.create=function(k){var m,p,r,q;m=this;if(k && !this.Ioc(k)){if(this.Noc(k))throw f.ue.nOc(e.aa.eM,e.W.VUb,k);this.lsc.forEach(function(u){var v;u.Zxb(k);null === (v=k.auxiliaryManifests) || void 0 === v?void 0:v.forEach(function(w){u.Zxb(w);});});(0,h.OEb)(k,h.dxb);q=this.fwb();q.iGa(k.links);this.jsc.bW(k);return {ya:k,ho:q,IPa:!1,$o:null !== (r=null === (p=k.$o) || void 0 === p?void 0:p.map(function(u){var v;v=m.fwb();v.iGa(u.links);return {ya:u,ho:v,IPa:!1,$o:[]};})) && void 0 !== r?r:[]};}};d.prototype.Noc=function(k){return ("type" in k) && "muxed" === k.type;};d.prototype.Ioc=function(k){return ("runtime" in k) && !!k.runtime;};l=d;b.gza=l;b.gza=l=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.D9a)),t.__param(1,(0,n.l)(g.j7a)),t.__param(2,(0,n.QF)(a.k7a))],l);},99070:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;function d(x,y,A,z,B,C,D){this.Qh=y;this.isc=z;this.config=B;this.r9=C;this.Ia=D;this.naa=new Map();this.log=x.qb("ManifestFetcher");this.Of=A.Of;}Object.defineProperty(b,"__esModule",{value:!0});b.hza=void 0;n=a(22970);t=a(22674);c=a(81918);g=a(30869);f=a(31149);e=a(87386);h=a(5021);l=a(4203);k=a(72639);m=a(91176);p=a(18148);r=a(17398);q=a(13044);u=a(17612);v=a(21103);w=a(31276);d.prototype.Yn=function(x,y,A,z){var B;B=this;A=void 0 === A?!0:A;z && this.w_b(x.J,z);return A && this.Pu(x.J)?this.R6(x.J).catch(function(){return B.gEb(x,y,A);}):this.gEb(x,y,A);};d.prototype.Pu=function(x){return this.Of.I7(x,"manifest");};d.prototype.sCb=function(){var x;x=this;this.Of.OGc();setTimeout(function(){x.Of.pEc();},1);};d.prototype.FR=function(x,y){var A,z;A=this;if(this.config().vcc){z=y?Promise.resolve(y):void 0;this.Of.setData(x,"manifest",y,function(){return A.Clc(x,z);});null === z || void 0 === z?void 0:z.then(function(B){var C,D;(0,q.jBa)() && (null === (D=null === (C=B.ya.YK) || void 0 === C?void 0:C.$Z) || void 0 === D?0:D.E8) && A.Of.jKb(x,"manifest",void 0,p.i6a);}).catch(function(){});}};d.prototype.R6=function(x,y){var A;A=this;y=void 0 === y?!1:y;return this.Of.getData(x,"manifest").then(function(z){var B;if(!z)throw Error("Manifest not found");if(z.ya.expiration <= A.Ia.oG.la(h.wa))throw (A.Of.clearData(x,"manifest"),Error("Manifest has expired"));B=z.ya.Jf;if(!y && (0,m.Ow)(B) && z.OZa)throw Error("Cached live manifest not available for reuse");return z;});};d.prototype.Clc=function(x,y){var A;null === (A=this.naa.get(x)) || void 0 === A?void 0:A.forEach(function(z){return z(y);});this.naa.delete(x);};d.prototype.w_b=function(x,y){this.naa.has(x) || this.naa.set(x,[]);this.naa.get(x).push(y);};d.prototype.gEb=function(x,y,A){return n.__awaiter(this,void 0,void 0,function B(){var C,D,F,H,E,G,K,N,I,L,O,J;C=this;return Ta(B,function(Q){switch(Q.oo){case 1:D=C;C.log.trace("Requesting a new manifest",x.J);K=C.Qh.uc().la(h.wa);if(!(A && C.config().GKa && C.Pu(x.J))){Q.oo=2;break;}Q.$U=3;return ab(Q,C.R6(x.J,!0),5);case 5:N=Q.rS;I=N.ya.Jf;(0,m.Ow)(I) && N.OZa && (x.Pu=!0);Bb(Q);break;case 3:ib(Q);case 2:if(L=(0,q.jBa)())x.Rsa=null === (E=null === (H=null === (F=L.U) || void 0 === F?void 0:F.ya.YK) || void 0 === H?void 0:H.$Z) || void 0 === E?void 0:E.Rsa;O=function(){return D.isc.Se({log:D.log,OH:y,J:x.J},x).catch(function(P){if(N)return N;throw P;});};J=((null === (G=x.ke) || void 0 === G?0:G.kd) && !x.ke.pk && !x.ke.fb?C.ELc(x).catch(function(P){D.log.warn(P.message);return O();}):O()).then(function(P){var S,Y,X,T,U;if(!(!P.NE || null !== (S=x.ke) && void 0 !== S && S.pk || null !== (Y=x.ke) && void 0 !== Y && Y.fb)){U=P.NE;S={nsa:Promise.resolve(U),IQa:{source:"manifest",type:x.$h}};delete P.NE;Y=(0,q.jBa)() && (null === (T=null === (X=P.ya.YK) || void 0 === X?void 0:X.$Z) || void 0 === T?0:T.E8)?p.i6a:void 0;D.Of.setData(x.J,"ldl",S,function(){U.close().catch(function(Z){D.log.info("Unable to cleanup LDL session.",Z);});},void 0,Y);}x.Gs === k.Ko.t2 && (P.$Q=K,P.rZ=D.Qh.uc().la(h.wa));return P;}).then(function(P){return D.EUa(P);}).catch(function(P){A && D.FR(x.J,void 0);D.log.error("Failed to fetch manifest",f.ue.Mi(P));throw P;});A && C.FR(x.J,J);return Q.return(J);}});});};d.prototype.ELc=function(x){var y;y=this;return new Promise(function(A,z){var B,C,D,F,H;y.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",x.J);F=null === (B=x.ke) || void 0 === B?void 0:B.z$;if(!F)return z(Error("Parent manifest does not exist."));H=null === (C=x.ke) || void 0 === C?void 0:C.Bb;B=null === (D=F.$o) || void 0 === D?void 0:D.find(function(E){return E.R === x.J && (void 0 === H || E.Bb === H);});if(!B)return z(Error("Auxiliary manifest not found in parent manifest."));A(y.r9.create(B));});};d.prototype.EUa=function(x){var y,A;y=this;return this.config().Pac && (null === (A=x.ya.He) || void 0 === A?0:A.Rq)?w.Pa.get(v.Ux).RI().then(function(z){u.ub.GPa(z.keySystem) && (y.log.info("Force disabling daiSupported for HWDRM"),x.ya.He.Rq=!1);return x;}):Promise.resolve(x);};a=d;b.hza=a;b.hza=a=n.__decorate([(0,t.Y)(),n.__param(0,(0,t.l)(e.wb)),n.__param(1,(0,t.l)(c.Sd)),n.__param(2,(0,t.l)(p.Gva)),n.__param(3,(0,t.l)(k.MAa)),n.__param(4,(0,t.l)(l.Cc)),n.__param(5,(0,t.l)(r.hT)),n.__param(6,(0,t.l)(g.di))],a);},3861:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.iza=void 0;t=a(22970);a=a(22674);d.prototype.Zxb=function(c){var g,f,e;if("v3" !== c.manifestVersion && void 0 !== c.timedtexttracks && void 0 !== c.audio_tracks && void 0 !== c.video_tracks){g=c.timedtexttracks.reduce(function(h,l){h[l.id]=l.new_track_id;l.id=l.new_track_id;return h;},{});f=c.audio_tracks.reduce(function(h,l){h[l.id]=l.new_track_id;l.id=l.new_track_id;l.track_id=l.new_track_id;return h;},{});e=c.video_tracks.reduce(function(h,l){h[l.track_id]=l.new_track_id;l.track_id=l.new_track_id;return h;},{});c.audio_tracks.forEach(function(h){h.disallowedSubtitleTracks=h.disallowedSubtitleTracks.map(function(l){return g[l];});h.defaultTimedText && (h.defaultTimedText=g[h.defaultTimedText]);});c.defaultTrackOrderList && (c.defaultTrackOrderList=c.defaultTrackOrderList.map(function(h){return Object.assign(Object.assign({},h),{videoTrackId:e[h.videoTrackId],subtitleTrackId:g[h.subtitleTrackId],audioTrackId:f[h.audioTrackId]});}));}};n=d;b.iza=n;b.iza=n=t.__decorate([(0,a.Y)()],n);},16520:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Ok={};t[t.IXa=1]="sourceopen";t[t.zs=2]="currentTimeChanged";t[t.Xaa=3]="seeked";t[t.dwb=5]="licenseadded";t[t.lHb=6]="sourceBufferAdded";t[t.V1c=7]="onNeedKey";t[t.jDb=8]="readyStateChanged";},12653:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Byb=void 0;t=a(22674);d=a(21801);n=a(59586);b.Byb=new t.je(function(c){c(d.Iza).to(n.Hza).pa();});},21801:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iza=b.SRb=void 0;b.SRb=function(){};b.Iza="MseConfigSymbol";},59586:function(t,b,a){var n,c,g,f,e;function d(h){return c.Ef.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Hza=void 0;t=a(22970);n=a(12501);c=a(64174);g=a(22674);f=a(83767);e=a(5021);Ia(d,c.Ef);Ga.Object.defineProperties(d.prototype,{nyb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ac)(5E3);}},mAb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ac)(1E3);}},nAb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ac)(1E3);}}});a=d;b.Hza=a;t.__decorate([n.config(n.hm,"minDecoderBufferMilliseconds")],a.prototype,"nyb",null);t.__decorate([n.config(n.hm,"optimalDecoderBufferMilliseconds")],a.prototype,"mAb",null);t.__decorate([n.config(n.hm,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"nAb",null);b.Hza=a=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(f.Fn))],a);},7826:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.WJ=void 0;t=a(22674);d=a(50681);n=a(63390);c=a(97996);b.WJ=new t.je(function(g){g(d.Lza).to(n.Kza).pa();g(c.k2).jca(function(f){return function(){return f.Hb.get(d.Lza).wuc;};});});},97996:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.k2="MslProviderSymbol";},50681:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lza="MslReadyNotifierSymbol";},63390:function(t,b,a){var n;function d(){var c;c=this;this.ready=!1;this.wuc=new Promise(function(g){c.eEc=g;});}Object.defineProperty(b,"__esModule",{value:!0});b.Kza=void 0;t=a(22970);a=a(22674);d.prototype.xuc=function(c){this.ready || (this.eEc(c),this.ready=!0);};d.prototype.kr=function(){return this.ready;};n=d;b.Kza=n;b.Kza=n=t.__decorate([(0,a.Y)()],n);},30698:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Pyb=void 0;t=a(22674);d=a(76698);n=a(32934);c=a(81438);g=a(59806);f=a(21941);e=a(55823);h=a(27E3);l=a(2571);k=a(17559);b.Pyb=new t.je(function(m){m(c.qdb).to(d.LDa).pa();m(n.AA).gL(function(){return Ba._cad_global.http;});m(f.r8a).to(g.Vza).pa();m(e.s8a).Bo(h.default);m(l.T4a).to(k.Ixa).pa();});},2571:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.T4a="HttpDispatcherSymbol";},32934:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AA=b.p2=b.ResponseType=void 0;b.ResponseType={Text:1,uVc:2,iNb:3};b.p2="OPEN_CONNECT_APPLIANCE";b.AA="LegacyHttpSymbol";},55823:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.s8a="NetworkMonitorSymbol";},48004:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.q8a="NetworkMonitorConfigSymbol";},21941:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.r8a="NetworkMonitorFactorySymbol";},81438:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qdb="XhrFactorySymbol";},17559:function(t,b,a){var n,c,g;function d(f,e){this.Je=e;this.ta=f.qb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Ixa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(32934);d.prototype.download=function(f,e){var h;h=this;e=void 0 === e?{QX:0}:e;return new Promise(function(l,k){var p;function m(r){if(r.success)return l(r.content);if(p === e.QX)return k({Ma:r.Ma,Vj:r.Uq});p++;!1;h.Je.download(f,m);}p=0;h.Je.download(f,m);});};g=d;b.Ixa=g;b.Ixa=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(a.AA))],g);},40158:function(t,b,a){var n,c,g,f;function d(e,h){return g.Ef.call(this,e,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Uza=void 0;t=a(22970);n=a(22674);c=a(12501);g=a(64174);a=a(83767);Ia(d,g.Ef);Ga.Object.defineProperties(d.prototype,{RKb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=d;b.Uza=f;t.__decorate([c.config(c.fd,"useNetworkMonitor")],f.prototype,"RKb",null);b.Uza=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Fn)),t.__param(1,(0,n.l)(a.Ida)),t.__param(1,(0,n.optional)())],f);},59806:function(t,b,a){var n,c,g,f;function d(e,h,l){this.config=e;this.Grc=h;this.ed=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;t=a(22970);n=a(48004);c=a(22674);g=a(48159);a=a(55823);d.prototype.s9b=function(){if(this.config.RKb)return this.ed(this.Grc());};f=d;b.Vza=f;b.Vza=f=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(n.q8a)),t.__param(1,(0,c.l)(g.l8a)),t.__param(2,(0,c.l)(a.s8a))],f);},76698:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.LDa=void 0;t=a(22970);a=a(22674);d.prototype.create=function(){return new XMLHttpRequest();};n=d;b.LDa=n;b.LDa=n=t.__decorate([(0,a.Y)()],n);},31360:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.hBb=void 0;t=a(22674);d=a(30650);n=a(71976);c=a(7605);g=a(17705);f=a(31071);e=a(91918);h=a(81025);l=a(23632);k=a(15348);m=a(17108);p=a(82229);r=a(97361);q=a(17391);u=a(85432);b.hBb=new t.je(function(v){v(c.Xx).to(g.BAa).pa();v(d.z9a).to(n.CAa).pa();v(h.E9a).to(l.JAa);v(h.D9a).Kf(function(w){return function(){return w.Hb.get(h.E9a);};});v(f.M9a).to(e.YAa).pa();v(k.XAa).to(m.WAa).pa();v(p.rdb).to(r.MDa).pa();v(q.v9a).to(u.wAa).pa();});},7605:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xx="PboConfigSymbol";},30650:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.z9a="PboDispatcherSymbol";},81025:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.E9a="PboLinksManagerSymbol";b.D9a="PboLinksManagerFactorySymbol";},15348:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XAa="PboPublisherSymbol";},31071:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M9a="PboRequestFactorySymbol";},82229:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rdb="ZuulRetryPolicyParserSymbol";},49917:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eua="AdEventPboCommandSymbol";b.Cua="AdBreakEventPboCommandSymbol";},18880:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa;Object.defineProperty(b,"__esModule",{value:!0});b.Yjb=void 0;t=a(22674);d=a(40953);n=a(30543);c=a(72639);g=a(86563);f=a(81378);e=a(13158);h=a(16257);l=a(46303);k=a(829);m=a(45830);p=a(87607);r=a(84860);q=a(35329);u=a(31149);v=a(36129);w=a(25546);x=a(69740);y=a(88951);A=a(83998);z=a(54949);B=a(62898);C=a(15153);D=a(70285);F=a(76427);H=a(36642);E=a(15614);G=a(95738);K=a(82306);N=a(7605);I=a(67658);L=a(3035);O=a(46320);J=a(595);Q=a(49917);P=a(49449);S=a(41332);Y=a(20424);X=a(36475);T=a(25743);U=a(70885);Z=a(54861);aa=a(21015);b.Yjb=new t.je(function(da){da(A.Mo).to(z.AAa);da(Z.FCa).to(U.ECa).pa();da(aa.Tfa).to(aa.CCa).pa();da(d.F9a).to(n.KAa);da(B.w9a).to(C.xAa);da(D.x9a).to(F.yAa);da(c.MAa).to(g.LAa);da(I.G9a).Kf(function(fa){return function(){var ma;ma=fa.Hb.get(N.Xx);return ma && ma.WKb?fa.Hb.resolve(O.ZAa):fa.Hb.resolve(L.NAa);};});da(f.uAa).to(e.tAa);da(h.C9a).to(l.GAa);da(k.IAa).to(m.HAa);da(p.tbb).to(r.KCa);da(p.ybb).to(q.PCa);da(p.X5a).to(w.jya);da(p.qbb).to(x.ICa);da(p.z3a).to(y.Twa);da(E.LTb).to(H.OAa);da(X.u9a).to(T.vAa);da(G.B9a).to(K.FAa);da(Q.Eua).to(J.Dua);da(Q.Cua).to(P.Bua);da(p.Xwa).Kf(function(fa){return function(ma){switch(ma){case p.Jt.start:return fa.Hb.get(p.tbb);case p.Jt.stop:return fa.Hb.get(p.ybb);case p.Jt.J8:return fa.Hb.get(p.X5a);case p.Jt.splice:return fa.Hb.get(p.qbb);case p.Jt.$V:return fa.Hb.get(p.z3a);}throw new u.ue(v.aa.TSb,void 0,void 0,void 0,void 0,"The event key was invalid - " + ma);};});da(S.n7a).to(Y.yya);});},87607:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jt={start:"start",stop:"stop",J8:"keepAlive",$V:"engage",splice:"splice"};b.Xwa="EventPboCommandFactorySymbol";b.tbb="StartEventPboCommandSymbol";b.ybb="StopEventPboCommandSymbol";b.X5a="KeepAliveEventPboCommandSymbol";b.qbb="SpliceEventPboCommandSymbol";b.z3a="EngageEventPboCommandSymbol";},41332:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.n7a="ManifestPostProcessorSymbol";},81378:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uAa=b.i0a=void 0;b.VTb=["prefetch/license","prefetch/license/live","prefetch/license/linear"];b.WQb=["license","license/live","license/linear"];b.i0a=[].concat(za(b.VTb),za(b.WQb));b.uAa="PboAcquireLicenseCommandSymbol";},36475:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.u9a="AleProvisionCommand";},17391:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.v9a="PboBackoffManagerSymbol";},62898:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.w9a="PboBindCommandSymbol";},70285:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.x9a="PboBindDeviceCommandSymbol";},19114:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fi={PP:"logblob",U:"manifest",Bqc:"licensedmanifest",Ws:"license",events:"events",bind:"bind",ping:"ping",config:"config",z2c:"prefetchLiveAds",xGa:"aleProvision"};b.qUb={pab:"X-Netflix.Request.Id",oab:"X-Netflix.Request.Attempt",cCa:"X-Netflix.Client.Request.Name",p1a:"x-netflix.browsername",q1a:"x-netflix.browserversion",J8a:"x-netflix.osname",K8a:"x-xetflix.osversion",Y1a:"x-netflix.clienttype",vcb:"x-netflix.uiversion"};b.FA={pab:"reqId",oab:"reqAttempt",cCa:"reqName",p1a:"browsername",q1a:"browserversion",J8a:"osname",K8a:"osversion",Y1a:"clienttype",vcb:"uiversion",KRb:"mainContentViewableId"};},83998:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mo="PboCommandContextSymbol";},95738:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.B9a="PboGenerateScreenshotsCommandSymbol";},16257:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.C9a="PboLicenseRequestTransformerSymbol";},829:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IAa="PboLicenseResponseTransformerSymbol";},40953:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.F9a="PboLogblobCommandSymbol";},72639:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MAa=b.j0a=void 0;t=b.Ko={};t.t2="PRE_FETCH";t.eUb="QC";t.oq="STANDARD";t.Mfa="SUPPLEMENTAL";t.xQc="DOWNLOAD";b.WTb=["prefetch/licensedManifest","prefetch/manifest","prefetch/licensedManifest/live","prefetch/manifest/live"];b.MRb=("licensedManifest manifest licensedManifest/live manifest/live adBreakHydration adBreakHydration/live prefetchLiveAds").split(" ");b.j0a=[].concat(za(b.WTb),za(b.MRb));b.MAa="PboManifestCommandSymbol";},67658:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.G9a="PboManifestRequestTransformerSymbol";},15614:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LTb="PboPingCommandSymbol";},49449:function(t,b,a){var n,c,g,f,e,h;function d(l){return f.Di.call(this,l,c.aa.o_a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Bua=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(19114);f=a(51658);e=a(83998);a(2762);h=a(71977);Ia(d,f.Di);d.prototype.$O=function(l){var k;k=(0,h.JNa)(l.Jf);return g.Fi.events + "/" + k + l.event;};d.prototype.Se=function(l,k){var m,p,r;m=this;p=this.BN(k);!1;!1;r={url:k.href,name:g.Fi.events,rm:this.$O(k),sm:2};return this.send(l,r,p).then(function(){return k;}).catch(function(q){throw m.Iu(q);});};d.prototype.BN=function(l){return {xid:l.Ha,event:l.event,adEventToken:l.YA,adBreakTriggerId:l.fb,adBreakLocationMs:l.au,eventLocationMs:l.VE,adInsertionType:l.$Fa,position:l.position,clientTime:l.BE,sessionStartTime:l.rl,appId:l.appId,sessionId:l.sessionId,playTimes:{},adBreakStartTime:l.UFa,playbackOffsetRefAdBreakStart:l.J$,adBreakStartOffset:l.TFa,mainManifestPlaybackContextId:l.jRa};};a=d;b.Bua=a;b.Bua=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(e.Mo))],a);},595:function(t,b,a){var n,c,g,f,e,h;function d(l){return f.Di.call(this,l,c.aa.o_a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Dua=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(19114);f=a(51658);e=a(83998);a(2762);h=a(71977);Ia(d,f.Di);d.prototype.$O=function(l){var k;k=(0,h.JNa)(l.Jf);return g.Fi.events + "/" + k + l.event;};d.prototype.Se=function(l,k){var m,p,r;m=this;p=this.BN(k);!1;!1;r={url:k.href,name:g.Fi.events,rm:this.$O(k),sm:2};return this.send(l,r,p).then(function(){return k;}).catch(function(q){throw m.Iu(q);});};d.prototype.BN=function(l){return {xid:l.Ha,event:l.event,adEventToken:l.YA,adBreakTriggerId:l.fb,adBreakLocationMs:l.au,eventLocationMs:l.VE,adInsertionType:l.$Fa,position:l.position,adStartPosition:l.bGa,clientTime:l.BE,sessionStartTime:l.rl,appId:l.appId,sessionId:l.sessionId,playTimes:this.xHa(l.jC),mainManifestPlaybackContextId:l.jRa,thirdPartyAdVerificationMetadata:l.zKc};};d.prototype.xHa=function(l){return {total:l.total,audio:l.audio.map(function(k){return {duration:k.duration,downloadableId:k.Yb,cdnId:k.On};}),video:l.video.map(function(k){return {duration:k.duration,downloadableId:k.Yb,cdnId:k.On};}),text:l.text.map(function(k){return {duration:k.duration,downloadableId:k.Yb,cdnId:k.On};})};};a=d;b.Dua=a;b.Dua=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(e.Mo))],a);},88496:function(t,b,a){var n,c,g,f;function d(e,h,l,k){h=g.Di.call(this,e,h) || this;h.context=e;h.dLa=l;h.sm=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Ht=void 0;t=a(22970);n=a(22674);c=a(19114);g=a(51658);a(2762);f=a(71977);Ia(d,g.Di);d.prototype.$O=function(e){e=(0,f.JNa)(e.Jf);return c.Fi.events + "/" + e + this.dLa;};d.prototype.Se=function(e,h){var l,k,m,p,r;l=this;m=e.links;p=this.BN(h);!1;!1;r={url:null !== (k=null === m || void 0 === m?void 0:m.JW("events").href) && void 0 !== k?k:h.href,name:c.Fi.events,rm:this.$O(h),sm:this.sm,TK:this.TK};return this.send(e,r,p).then(function(q){null === m || void 0 === m?void 0:m.iGa(q.result.links);return h;}).catch(function(q){throw l.Iu(q);});};d.prototype.BN=function(e){return {event:this.dLa,xid:e.Ha,position:e.position || 0,clientTime:e.BE,sessionStartTime:e.rl,videoTrackId:e.Go,audioTrackId:e.iu,timedTextTrackId:e.t_,mediaId:e.TX,trackId:e.trackId,sessionId:e.sessionId,appId:e.appId,playTimes:this.xHa(e.jC),sessionParams:e.Op};};d.prototype.wHa=function(e){return {downloadableId:e.Yb,duration:e.duration};};d.prototype.xHa=function(e){var h;h={total:e.total,audio:e.audio.map(this.wHa),video:e.video.map(this.wHa),text:e.text.map(this.wHa)};e.total !== e.WR && (h.totalContentTime=e.WR);0 !== e.iL && (h.totalAdDuration=e.iL);0 !== e.kL && (h.totalOtherDuration=e.kL);if(0 !== e.kL || 0 !== e.iL)h.totalCombinedDuration=e.w_;0 !== e.XR && (h.totalLiveEdgeDuration=e.XR);0 !== e.YR && (h.totalStartSlateDuration=e.YR);return h;};Ga.Object.defineProperties(d.prototype,{TK:{configurable:!0,enumerable:!0,get:function(){return this.socketRouterConfig.enabled && this.socketRouterConfig.UGb;}}});a=d;b.Ht=a;b.Ht=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.At)()),t.__param(1,(0,n.At)()),t.__param(2,(0,n.At)()),t.__param(3,(0,n.At)())],a);},51658:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p){this.context=m;this.errorCode=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Di=b.cbb=void 0;n=a(22970);t=a(22674);c=a(71977);g=a(31149);f=a(34231);e=a(54861);h=a(21015);l=a(70885);(function(m){m.gOc="websocket";m.eec="httpAfterWS";})(k || (b.cbb=k={}));d.prototype.PFc=function(m,p,r){return n.__awaiter(this,void 0,void 0,function u(){var v,w,x,y;v=this;return Ta(u,function(A){w=v;if(null === (x=v.socketRouterClient) || void 0 === x?0:x.QPa)return A.return(v.fqb(m,p,r,f.Kv.pM).then(function(z){var B;z={type:p.name,payload:z.request,options:l.adb[p.name]};return null === (B=w.socketRouterClient) || void 0 === B?void 0:B.request(z).then(function(C){var D,F;if(!("logblob" === p.name?null === (F=null === (D=null === C || void 0 === C?void 0:C.body) || void 0 === D?void 0:D.result) || void 0 === F?0:F.nlp:1))throw Error("SRC message not acknowledged");return C.body;});}).catch(function(){return w.JFb(m,p,r);}));null === (y=v.socketRouterClient) || void 0 === y?void 0:y.start();return A.return(v.JFb(m,p,r));});});};d.prototype.JFb=function(m,p,r){return n.__awaiter(this,void 0,void 0,function u(){var v,w,x;x=this;return Ta(u,function(y){w=r.logblobs;null === (v=null === w || void 0 === w?void 0:w.entries) || void 0 === v?void 0:v.forEach(function(A){A.transport=k.eec;});p.TK=!1;return y.return(x.send(m,p,r));});});};d.prototype.send=function(m,p,r,q,u){var v;v=this;u=void 0 === u?f.Kv.pM:u;return p.TK && u !== f.Kv.w8a?this.PFc(m,p,r):this.fqb(m,p,r,u,q).then(function(w){return v.context.Wac.send(w.context,w.request);});};d.prototype.fqb=function(m,p,r,q,u){var v,w;try{v=this.context.IDc.create(this.context.fz.GE(),p.url,r,u,q);w=this.N2b(p,m,q);return Promise.resolve({context:w,request:v});}catch(x){return Promise.reject(x);}};d.prototype.N2b=function(m,p,r){var q;return {Je:this.context.Je,Mq:m.name,url:this.context.VMc((0,c.S2b)(this.context.Oj,this.context.zi,m.name,r)),sm:m.sm,timeout:this.context.zi.timeout,headers:Object.assign(Object.assign({},(0,c.R2b)(this.context.Oj,this.context.zi,this.context.VN,m.name,r)),null !== (q=m.JDc) && void 0 !== q?q:{}),rm:m.rm,log:p.log,iHa:p.iHa,OH:p.OH,J:p.J,requestId:this.context.fz.U8b()};};d.prototype.Iu=function(m){return m instanceof g.ue?m:(0,c.Iu)(this.errorCode,m);};a=d;b.Di=a;n.__decorate([(0,t.l)(e.FCa)],a.prototype,"socketRouterClient",void 0);n.__decorate([(0,t.l)(h.Tfa)],a.prototype,"socketRouterConfig",void 0);b.Di=a=n.__decorate([(0,t.Y)(),n.__param(0,(0,t.At)()),n.__param(1,(0,t.At)())],a);},88951:function(t,b,a){var n,c,g,f,e;function d(h){return g.Ht.call(this,h,c.aa.oPb,f.Jt.$V,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Twa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(88496);f=a(87607);a=a(83998);Ia(d,g.Ht);d.prototype.BN=function(h){return Object.assign(Object.assign({},g.Ht.prototype.BN.call(this,h)),{action:h.action});};e=d;b.Twa=e;b.Twa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},82306:function(t,b,a){var n,c,g,f,e;function d(h){return f.Di.call(this,h,c.aa.GPb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(19114);f=a(51658);a=a(83998);Ia(d,f.Di);d.prototype.Se=function(h,l){var k,m,p;k=this;p=h.links;p={url:null !== (m=null === p || void 0 === p?void 0:p.JW("generateScreenshots").href) && void 0 !== m?m:"/generateScreenshots",name:g.Fi.U,rm:"generateScreenshots",sm:2};return this.send(h,p,l).then(function(r){return r.result;}).catch(function(r){throw k.Iu(r);});};e=d;b.FAa=e;b.FAa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},25546:function(t,b,a){var n,c,g,f,e;function d(h){return g.Ht.call(this,h,c.aa.eya,f.Jt.J8,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jya=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(88496);f=a(87607);a=a(83998);Ia(d,g.Ht);e=d;b.jya=e;b.jya=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},20424:function(t,b,a){var n,c,g;function d(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.yya=void 0;t=a(22970);n=a(4203);c=a(22674);g=a(91176);d.prototype.process=function(f){var e,h,l,k;e=this;if((0,g.Ow)(f.streamingType) && this.config().LP){h=Object.assign(Object.assign({template:"$baseUrl/$packageId/$encoder/$feed/$mediaOutputGroup/$downloadableId"},this.config().LP),this.config().LP.video);f.video_tracks.forEach(function(m){m.streams.forEach(function(p){var r;p.urls=[p.urls[0]];r=Object.assign(Object.assign({},h),{downloadableId:p.downloadable_id});p.urls[0].url=e.VNa(r.template,r);});});l=Object.assign(Object.assign({template:"$baseUrl/$packageId/$encoder/$feed/$mediaOutputGroup/$downloadableId"},this.config().LP),this.config().LP.audio);f.audio_tracks.forEach(function(m){m.streams.forEach(function(p){var r;p.urls=[p.urls[0]];r=Object.assign(Object.assign({},l),{downloadableId:p.downloadable_id});p.urls[0].url=e.VNa(r.template,r);});});k=Object.assign(Object.assign({template:"$baseUrl/$packageId/$encoder/$feed/$mediaOutputGroup/$downloadableId"},this.config().LP),this.config().LP.text);f.timedtexttracks.forEach(function(m){Object.entries(m.ttDownloadables).forEach(function(p){var r,q;r=Ea(p);p=r.next().value;r=r.next().value;r.urls && 0 < (null === (q=r.urls) || void 0 === q?void 0:q.length) && (r.urls=[r.urls[0]],q=Object.assign(Object.assign({},k),{downloadableId:m.downloadableIds[p]}),r.urls[0].url=e.VNa(q.template,q));});});}};d.prototype.VNa=function(f,e){return f.split("/").map(function(h){var l;if(h.startsWith("$")){l=h.substring(1);if(e.hasOwnProperty(l))return e[l];}return h;}).join("/");};a=d;b.yya=a;b.yya=a=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(n.Cc))],a);},13158:function(t,b,a){var n,c,g,f,e,h;function d(l){return f.Di.call(this,l,c.aa.g6a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(19114);f=a(51658);e=a(83998);h=a(71977);Ia(d,f.Di);d.prototype.$O=function(l){var k;k="ldl" === l.KQa?"prefetch/license":"license";l=(0,h.Ikc)(l.Jf);return "" + k + l;};d.prototype.Se=function(l,k){var m,p;m=this;p={url:l.links.JW(k.KQa).href,name:g.Fi.Ws,rm:this.$O(k),sm:"ldl" === k.KQa?0:3};return this.send(l,p,k.inputs,"drmSessionId").then(function(r){r=r.result;m.F4b(r);return r;}).catch(function(r){throw m.Iu(r);});};d.prototype.F4b=function(l){l.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};a=d;b.tAa=a;b.tAa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(e.Mo))],a);},25743:function(t,b,a){var n,c,g,f,e,h;function d(l){return f.Di.call(this,l,c.aa.jMb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vAa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(19114);f=a(51658);e=a(83998);h=a(34231);Ia(d,f.Di);d.prototype.Se=function(l){var k;k=this;return this.send(l,{url:"/" + g.Fi.xGa,name:g.Fi.xGa,rm:g.Fi.xGa,sm:1,JDc:{"Content-Type":"application/json","content-encoding":"msl_v1"}},{provisionRequest:'{"ver":1,"scheme":"A128CBC-HS256","type":"SOCKETROUTER","keyx":{"scheme":"CLEAR"}}'},void 0,h.Kv.pM).then(function(m){return m.result;}).catch(function(m){throw k.Iu(m);});};a=d;b.vAa=a;b.vAa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(e.Mo))],a);},15153:function(t,b,a){var n,c,g,f,e;function d(h){return f.Di.call(this,h,c.aa.TMb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(19114);f=a(51658);a=a(83998);Ia(d,f.Di);d.prototype.Se=function(h,l){var k;k=this;return this.send(h,{url:"/" + g.Fi.bind,name:g.Fi.bind,rm:g.Fi.bind,sm:2},l).then(function(m){return m.result;}).catch(function(m){throw k.Iu(m);});};e=d;b.xAa=e;b.xAa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},76427:function(t,b,a){var n,c,g,f,e;function d(h){return f.Di.call(this,h,c.aa.UMb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yAa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(19114);f=a(51658);a=a(83998);Ia(d,f.Di);d.prototype.Se=function(h,l){var k;k=this;return this.send(h,{url:"/bindDevice",name:g.Fi.bind,rm:g.Fi.bind,sm:2},l).then(function(m){return m.result;}).catch(function(m){throw k.Iu(m);});};e=d;b.yAa=e;b.yAa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},54949:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r,q,u,v,w,x,y,A){this.Oj=p;this.Je=r;this.zi=q;this.Wac=u;this.fz=v;this.VMc=w;this.IDc=y;this.VN=A;}Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;t=a(22970);n=a(22674);c=a(24747);g=a(7605);f=a(31071);e=a(30650);h=a(62665);l=a(32934);k=a(77687);m=a(15160);a=a(33554);b.AAa=d;b.AAa=d=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.nda)),t.__param(1,(0,n.l)(l.AA)),t.__param(2,(0,n.l)(g.Xx)),t.__param(3,(0,n.l)(e.z9a)),t.__param(4,(0,n.l)(h.sD)),t.__param(5,(0,n.l)(k.Icb)),t.__param(6,(0,n.l)(m.Rda)),t.__param(7,(0,n.l)(f.M9a)),t.__param(8,(0,n.l)(a.uA))],d);},71977:function(t,b,a){var h,l,k;function d(m){return !(!m || !m.XF && !m.pboc || !m.code && !m.code);}function n(m){return !(!m || !m.subCode);}function c(m){return !!(m instanceof Error);}function g(m){switch(m){case "ACCOUNT_ON_HOLD":return l.W.ISb;case "STREAM_QUOTA_EXCEEDED":return l.W.RSb;case "INSUFFICICENT_MATURITY":return l.W.XSb;case "TITLE_OUT_OF_WINDOW":return l.W.fTb;case "CHOICE_MAP_ERROR":return l.W.QSb;case "BadRequest":return l.W.aTb;case "Invalid_SemVer_Format":return l.W.YSb;case "RESTRICTED_TO_TESTERS":return l.W.dTb;case "AGE_VERIFICATION_REQUIRED":return l.W.OSb;case "BLACKLISTED_IP":return l.W.PSb;case "DEVICE_EOL_WARNING":return l.W.jAa;case "DEVICE_EOL_FINAL":return l.W.U8a;case "INCORRECT_PIN":return l.W.kAa;case "MOBILE_ONLY":return l.W.cTb;case "MDX_CONTROLLER_CTICKET_INVALID":return l.W.bTb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return l.W.gTb;case "RESET_DEVICE":return l.W.X8a;case "RELOAD_DEVICE":return l.W.W8a;case "EXIT_DEVICE":return l.W.V8a;case "FREE_PREVIEW_ENDED":return l.W.WSb;case "STREAMING_LOCATION_DISALLOWED":return l.W.eTb;case "EXTRA_MEMBER_STREAM_HOLD":return l.W.VSb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return l.W.USb;case "ADS_UNAVAILABLE_VIEWABLE":return l.W.JSb;case "ADS_UNSUPPORTED_DEVICE":return l.W.MSb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return l.W.KSb;case "ADS_UNSUPPORTED_COUNTRY":return l.W.LSb;case "ADS_VPN_USE_DETECTED":return l.W.NSb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return l.W.$Sb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return l.W.ZSb;case "CONTENT_PREVIEW_MFA_REQUIRED":return l.W.SSb;default:return l.W.$3a;}}function f(m,p){var r;r=g(p.code);return new h.ue(m,r,"BadRequest" === p.code?l.pea.hNb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0,p.alert,p.alertTag,p.playbackContextId,p.displayCode);}function e(m,p){return new h.ue(m,p.subCode,p.extCode,void 0,p.PF,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.nna=d;b.H_c=n;b.sJ=c;b.fZc=g;b.Iu=function(m,p){return n(p)?e(m,p):d(p)?f(m,p):c(p)?h.ue.gla(m,p):new h.ue(m,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.gZc=f;b.eZc=e;b.S2b=function(m,p,r,q,u){var v,w,x,y;u=void 0 === u?"router":u;v=p.LWa[r];if(void 0 === v)throw {XF:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no configuration information",detail:p};w=v.version;if(void 0 === w)throw {XF:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no version information",detail:p};x=v.service;if(void 0 === x)throw {XF:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no service information",detail:p};y=v.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {XF:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no organization information",detail:p};return v.isLogsApiDirect?m.ynb + "/" + y + "/" + x + "/" + encodeURIComponent(w):v.isPlayApiDirect?m.Ajc(q) + "/" + y + "/" + x + "/" + encodeURIComponent(w):m.ijc(q) + "/" + y + "/" + x + "/" + encodeURIComponent(w) + "/" + u;};b.R2b=function(m,p,r,q,u){var v;v=p.LWa[q];if(void 0 === v)throw {XF:!0,code:"FAIL",display:"Unable to build the header map for " + q + " because there was no configuration information",detail:p};q={"Content-Type":"text/plain"};v.isLogsApiDirect && m.uR(u) && (q["content-encoding"]="msl_v1");m=r();p.zgb && m && (q["X-Esn"]=m.Li);return q;};b.JNa=function(m){return (0,k.xa)(m)?"live/":(0,k.JPa)(m)?"linear/":"";};b.Ikc=function(m){return (0,k.xa)(m)?"/live":(0,k.JPa)(m)?"/linear":"";};h=a(31149);l=a(36129);k=a(91176);},46303:function(t,b,a){var n,c,g,f,e;function d(h,l,k){this.Ia=h;this.platform=l;this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.GAa=void 0;t=a(22970);n=a(22674);c=a(30869);g=a(5021);f=a(91581);a=a(4203);d.prototype.gLc=function(h){var l,k;l=this;k=this.Ia.gg.la(g.Nt);return {inputs:h.iI.map(function(m){var p,r,q,u,v;return {drmSessionId:m.sessionId,clientTime:k,challengeBase64:m.dataBase64,xid:h.Ha.toString(),videoTrackName:h.Go,platform:null === (p=l.config().Be) || void 0 === p?void 0:p.version,clientVersion:l.platform.version,osVersion:null === (q=null === (r=l.config().Be) || void 0 === r?void 0:r.os) || void 0 === q?void 0:q.version,osName:null === (v=null === (u=l.config().Be) || void 0 === u?void 0:u.os) || void 0 === v?void 0:v.name};}),KQa:"standard" === h.$h.toLowerCase()?"license":"ldl",Jf:h.Jf,J:h.J};};e=d;b.GAa=e;b.GAa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.di)),t.__param(1,(0,n.l)(f.Yr)),t.__param(2,(0,n.l)(a.Cc))],e);},45830:function(t,b,a){var n,c,g;function d(f,e){this.ek=f;this.cB=e;}Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;t=a(22970);n=a(22674);c=a(74870);a=a(2248);d.prototype.uJb=function(f){var e,h;e=this;h=f.map(function(l){return l.links.releaseLicense.href;}).map(function(l){return e.ek.jqa(l.substring(l.indexOf("?") + 1));});return {success:!0,vX:f.map(function(l,k){return {id:l.drmSessionId,$vb:h[k].drmlicensecontextid,awb:h[k].licenseid};}),uz:f.map(function(l){return {data:e.cB.decode(l.licenseResponseBase64),sessionId:l.drmSessionId};})};};g=d;b.HAa=g;b.HAa=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Il)),t.__param(1,(0,n.l)(a.yl))],g);},30543:function(t,b,a){var n,c,g,f,e;function d(h){return f.Di.call(this,h,c.aa.UQb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(19114);f=a(51658);a=a(83998);Ia(d,f.Di);d.prototype.Se=function(h,l){var k;k=this;return this.send(h,{url:"/" + g.Fi.PP,name:g.Fi.PP,rm:g.Fi.PP,sm:1,TK:this.TK},l).then(function(m){return m.result;}).catch(function(m){throw k.Iu(m);});};Ga.Object.defineProperties(d.prototype,{TK:{configurable:!0,enumerable:!0,get:function(){return this.socketRouterConfig.enabled && this.socketRouterConfig.WGb;}}});e=d;b.KAa=e;b.KAa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},86563:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q;function d(u,v,w,x,y,A){u=f.Di.call(this,u,c.aa.eM) || this;u.platform=v;u.r9=w;u.Aqc=x;u.msc=y;u.Gzc=A;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;t=a(22970);n=a(72639);c=a(36129);g=a(19114);a(2762);f=a(51658);e=a(83998);h=a(91581);l=a(34231);k=a(17398);m=a(829);p=a(22674);r=a(67658);a=a(41332);Ia(d,f.Di);d.prototype.$jc=function(u,v){var w,x,y,A,z;y=v?g.Fi.Bqc:g.Fi.U;v=v?"licensedManifest":"manifest";A=u.Gs === n.Ko.t2;A && (v="prefetch/" + v);z="live" === u.jb.We;z && (v+="/live");if((null === (w=u.ke) || void 0 === w?0:w.pk) || (null === (x=u.ke) || void 0 === x?0:x.fb))v="adBreakHydration" + (z?"/live":"");u.Hz && (y=v="prefetchLiveAds");u=!!u.Pu;return {rm:v,X5b:y,sm:A || u?0:3};};d.prototype.Se=function(u,v){var w,x;w=this;x=v.Gs === n.Ko.Mfa?l.Kv.G$a:l.Kv.pM;return this.msc().transform(v,x).then(function(y){var A,z;A=Ea(y);y=A.next().value;z=A.next().value;!1;A=w.$jc(v,"licensedManifest" === z.Mq);return w.send(u,{url:z.Mq,name:A.X5b,rm:A.rm,sm:A.sm},y,void 0,x).then(function(B){var C,D;C=B.result;w.Gzc.forEach(function(F){return F.process(C);});B=w.r9.create(C);D=B.ya;z.NE && (D=D.qA.map(function(F){return F.Ws;}).filter(Boolean),0 < D.length?(D=w.Aqc.uJb(D),z.NE.kgb(D),B.NE=z.NE,B.IPa=!0):z.NE.close());B.w4=z.w4;B.Rca=z.Rca;!1;return B;});}).catch(function(y){!1;throw w.Iu(y);});};q=d;b.LAa=q;b.LAa=q=t.__decorate([(0,p.Y)(),t.__param(0,(0,p.l)(e.Mo)),t.__param(1,(0,p.l)(h.Yr)),t.__param(2,(0,p.l)(k.hT)),t.__param(3,(0,p.l)(m.IAa)),t.__param(4,(0,p.l)(r.G9a)),t.__param(5,(0,p.optional)()),t.__param(5,(0,p.QF)(a.n7a))],q);},3035:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v;function d(w,x,y,A,z,B,C,D,F){this.zi=w;this.platform=x;this.config=y;this.m4b=A;this.dzc=z;this.Yu=B;this.W4=C;this.Ia=D;this.My=F;}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;t=a(22970);n=a(22674);c=a(72639);g=a(4203);f=a(14423);e=a(34029);h=a(67650);l=a(21103);k=a(91581);m=a(30869);p=a(5021);r=a(2492);q=a(7605);u=a(56800);v=a(24735);d.prototype.transform=function(w,x){var y,A,z,B,C,D,F,H;y=this;A=w.jb;z=Object.assign({},A.tia,A.Op);B={};C=w.J;D=this.config();B[C]={unletterboxed:!!z.preferUnletterboxed || D.Nzc};F=this.Yu.whc();H={We:null === A || void 0 === A?void 0:A.We};return Promise.all([this.My.Trb(H),this.My.Vrb(H),this.My.n7(),this.Pgc(w.Ha,x),this.Bhc(w),F]).then(function(E){var G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da;G=Ea(E);K=G.next().value;N=G.next().value;I=G.next().value;L=G.next().value;E=G.next().value;O=G.next().value;G=K.bma().concat(N.bma()).concat(y.config().mA).concat(["iso_23001_18-dash-live"]).concat(["BIF240","BIF320"]).filter(Boolean);da="postplay" === A.We?!0:!!z.isUIAutoPlay;I={type:"standard",manifestVersion:y.zi.rnb?"v3":y.zi.qnb?"v2":"v1",viewableId:C,profiles:G,flavor:w.Gs,drmType:O,drmVersion:"playready" === O?30:0,usePsshBox:!0,isBranching:!!w.jb.Ag,useHttpsStreams:!0,supportsUnequalizedDownloadables:y.config().ZJc,imageSubtitleHeight:f.TCa.urb(),uiVersion:y.zi.uiVersion,uiPlatform:y.zi.uiPlatform,clientVersion:y.platform.version,platform:null === (J=y.config().Be) || void 0 === J?void 0:J.version,osVersion:null === (P=null === (Q=y.config().Be) || void 0 === Q?void 0:Q.os) || void 0 === P?void 0:P.version,osName:null === (Y=null === (S=y.config().Be) || void 0 === S?void 0:S.os) || void 0 === Y?void 0:Y.name,supportsPreReleasePin:y.config().yu.RJc,supportsWatermark:y.config().yu.SJc,packageId:y.ujc(A),videoOutputInfo:I,titleSpecificData:B,preferAssistiveAudio:!!z.assistiveAudioPreferred,preferredTextLocale:z.preferredTextLocale,preferredAudioLocale:z.preferredAudioLocale,isUIAutoPlay:da,challenge:L,isNonMember:y.zi.Bub,pin:A.tBb,desiredVmaf:y.config().QKb?y.config().lmb:y.config().mmb,desiredSegmentVmaf:y.config().QKb?y.config().lmb:y.config().mmb,requestSegmentVmaf:y.config().PDc,supportsPartialHydration:y.zi.VV,contentPlaygraph:w.jb.Ag?[]:y.zi.kja,supportsAdBreakHydration:!0,auxiliaryManifestToken:w.jb.Ag?void 0:null === (X=w.ke) || void 0 === X?void 0:X.Bb,adBreakToken:w.jb.Ag?void 0:null === (T=w.ke) || void 0 === T?void 0:T.pk,adBreakTriggerId:w.jb.Ag?void 0:null === (U=w.ke) || void 0 === U?void 0:U.fb,originalPlaybackContextId:!w.jb.Ag && (null === (Z=w.ke) || void 0 === Z?0:Z.Bb)?null === (aa=w.ke) || void 0 === aa?void 0:aa.gC:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0,liveAdsCapability:y.config().Uqc,supportsNetflixMediaEvents:!0,cachedAdBreaks:w.P4,occurredAdBreaks:w.Hz};A.Ynb && (I.extraParams=A.Ynb);A.jmb && (I.desiredDownloadables=A.jmb);A.GVa && (I.requestReference=A.GVa);D.Mhb && (I.auxiliaryManifestToken=D.Mhb);D.pIb && (I.supportsAdLazyLoading=D.pIb,void 0 !== D.Exb && (I.maxSupportedAdAuxiliaryManifests=D.Exb));D.NJb && (I.uiContext=D.NJb);J={Mq:I.occurredAdBreaks?"prefetchLiveAds":I.adBreakToken || I.adBreakTriggerId?"adBreakHydration":E?"licensedManifest":"manifest",NE:null === E || void 0 === E?void 0:E.sn,w4:K,Rca:N};E && (E={drmSessionId:E.sn.WO() || "session",clientTime:y.Ia.oG.la(p.Nt),challengeBase64:E.THa},I.challenges={"default":[E]},I.profileGroups=[{name:"default",profiles:G}],I.licenseType=w.$h == v.hq.cH?"limited":"standard",w.Ha && (I.xid=w.Ha.toString()));y.zi.VV || (I.showAllSubDubTracks=y.config().yu.OHc || !!z.showAllSubDubTracks);y.zi.mnb && w.Gs === c.Ko.Mfa && (I.maxSupportedLanguages=2);w.lL && (I.originalPlaybackContextId=w.lL.gC,I.requiredAudioTrackId=w.lL.VDc,I.requiredTextTrackId=w.lL.YDc);w.Pu && (I.hasCachedManifest=w.Pu);w.Rsa && (I.stickySteeringToken=w.Rsa);return [I,J];});};d.prototype.ujc=function(w){if(this.config().lra.enabled){if(void 0 !== w.ur)return w.ur;if(void 0 !== this.config().lra.ur)return Number(this.config().lra.ur);}};d.prototype.Pgc=function(w,x){var y;y=this;return this.m4b.Tpb(x).then(function(A){var z;z=w && y.dzc.Cjc(w);z && z.eu("cad");return A;});};d.prototype.Bhc=function(w){var x;if(void 0 === w.$h)return Promise.resolve(void 0);x=w.$h === v.hq.oq && this.zi.kB;return w.$h === v.hq.cH && this.zi.DI || x?this.W4.CNa(w.$h):Promise.resolve(void 0);};a=d;b.NAa=a;b.NAa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(q.Xx)),t.__param(1,(0,n.l)(k.Yr)),t.__param(2,(0,n.l)(g.Cc)),t.__param(3,(0,n.l)(e.y1a)),t.__param(4,(0,n.l)(h.nBa)),t.__param(5,(0,n.l)(l.Ux)),t.__param(6,(0,n.l)(r.Gda)),t.__param(7,(0,n.l)(m.di)),t.__param(8,(0,n.l)(u.KS))],a);},36642:function(t,b,a){var n,c,g,f,e;function d(h){return f.Di.call(this,h,c.aa.hTb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OAa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(19114);f=a(51658);a=a(83998);Ia(d,f.Di);d.prototype.Se=function(h,l){var k;k=this;return this.send(h,{url:"/" + g.Fi.ping,name:g.Fi.ping,rm:g.Fi.ping,sm:1},l).then(function(m){return m.result;}).catch(function(m){throw k.Iu(m);});};e=d;b.OAa=e;b.OAa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},46320:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p){this.platform=l;this.config=k;this.W4=m;this.My=p;}Object.defineProperty(b,"__esModule",{value:!0});b.ZAa=void 0;t=a(22970);n=a(22674);c=a(4203);g=a(91581);f=a(2492);e=a(56800);h=a(24735);d.prototype.transform=function(l){var k,m,p;k=this;m=l.jb;p={We:void 0};return Promise.all([this.My.Trb(p),this.My.Vrb(p),this.W4.CNa(h.hq.oq)]).then(function(r){var q,u;q=Ea(r);r=q.next().value;u=q.next().value;q=q.next().value;return [{viewableId:l.J,packageId:m.ur,assetId:m.PGa,challenge:q.THa,audioProfiles:r.bma(),textProfiles:k.config().mA,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u.bma(),audioLanguages:m.s1b,textLanguages:m.wKc,videoLanguages:m.mLb?[m.mLb]:void 0,videoAspectRatios:m.kLb?[m.kLb]:void 0,requestReference:m.GVa,additionalAudioAssets:m.N_b,additionalTextAssets:m.Q_b,useBetterTextUrls:!0},{NE:null === q || void 0 === q?void 0:q.sn,Mq:"studioManifest",w4:r,Rca:u}];});};a=d;b.ZAa=a;b.ZAa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Yr)),t.__param(1,(0,n.l)(c.Cc)),t.__param(2,(0,n.l)(f.Gda)),t.__param(3,(0,n.l)(e.KS))],a);},69740:function(t,b,a){var n,c,g,f,e;function d(h){return g.Ht.call(this,h,c.aa.Hab,f.Jt.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ICa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(88496);f=a(87607);a=a(83998);Ia(d,g.Ht);e=d;b.ICa=e;b.ICa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},84860:function(t,b,a){var n,c,g,f,e;function d(h){return g.Ht.call(this,h,c.aa.PUb,f.Jt.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(88496);f=a(87607);a=a(83998);Ia(d,g.Ht);e=d;b.KCa=e;b.KCa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},35329:function(t,b,a){var n,c,g,f,e;function d(h){return g.Ht.call(this,h,c.aa.D2,f.Jt.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PCa=void 0;t=a(22970);n=a(22674);c=a(36129);g=a(88496);f=a(87607);a=a(83998);Ia(d,g.Ht);e=d;b.PCa=e;b.PCa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Mo))],e);},85432:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r){this.performance=m;this.config=r;this.E4=[];this.log=p.qb("PboBackoffManager");}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(63368);f=a(5021);e=a(79542);h=a(81378);l=a(72639);a=a(7605);k=[].concat(za(h.i0a),za(l.j0a));d.prototype.dBc=function(m,p){var r;if(this.config.IKa && (0,e.iDb)(k,p) && (m=(null !== m && void 0 !== m?m:{})["x-netflix.playapi.backoff"]))try{r=JSON.parse(m);this.pNc(r);this.log.debug("Adding backoff",r);this.E4.push({VVa:r.retryAfterSeconds,RDc:r.requestTypes,NG:r.viewableIds,X1b:this.performance.now()});}catch(q){}};d.prototype.Cgc=function(m,p){var r,q,u;r=this;if(this.config.IKa){q=this.performance.now();this.t5b(q);u=this.E4.filter(function(v){return (0,e.iDb)(v.RDc,m);}).filter(function(v){return void 0 === v.NG || 0 === v.NG.length || v.NG.includes(p);});if(0 !== u.length){if(m.startsWith("prefetch"))return (this.log.debug("getBackoff: cancelling " + m + " request for " + p),{ZU:!0});u=u.map(function(v){return r.Crb(v,q);}).reduce(function(v,w){return 0 < w.Ul(v)?w:v;},(0,f.ci)(0));this.log.debug("getBackoff: delaying " + m + " request for " + p + " for " + u.la(f.wa) + "ms");return {ZU:!1,tEc:u};}}};d.prototype.pNc=function(m){if("number" !== typeof m.retryAfterSeconds)throw Error("retryAfterSeconds is not a number");if(!Array.isArray(m.requestTypes))throw Error("requestTypes is not an array");if(0 === m.requestTypes.length)throw Error("requestTypes is empty");if(!m.requestTypes.every(function(p){return "string" === typeof p;}))throw Error("requestTypes contains a non-string element");if(void 0 !== m.viewableIds){if(!Array.isArray(m.viewableIds))throw Error("viewableIds is not an array");if(!m.viewableIds.every(function(p){return "number" === typeof p;}))throw Error("viewableIds contains a non-number element");}};d.prototype.t5b=function(m){for(var p=this.E4.length - 1;0 <= p;)(this.Crb(this.E4[p],m).VPa() || this.E4.splice(p,1),--p);};d.prototype.Crb=function(m,p){p=(0,f.ac)(p).ca((0,f.ac)(m.X1b));return (0,f.ci)(m.VVa).ca(p);};h=d;b.wAa=h;b.wAa=h=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.gfa)),t.__param(1,(0,n.l)(c.wb)),t.__param(2,(0,n.l)(a.Xx))],h);},17705:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r,q){m=c.Ef.call(this,m,"PboConfigImpl") || this;m.config=p;m.r0b=r;m.Qf=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;t=a(22970);n=a(22674);c=a(64174);g=a(83767);f=a(12501);e=a(4203);h=a(24747);l=a(5614);k=a(5021);Ia(d,c.Ef);Ga.Object.defineProperties(d.prototype,{uiVersion:{configurable:!0,enumerable:!0,get:function(){return this.config().yu.uiVersion || "";}},uiPlatform:{configurable:!0,enumerable:!0,get:function(){return this.config().yu.uiPlatform || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().yu.nUa;}},Bub:{configurable:!0,enumerable:!0,get:function(){return !1;}},LWa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isLogsApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.r0b.dib,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"},prefetchLiveAds:{service:"prefetchLiveAds",isPlayApiDirect:!0,version:"1"},aleProvision:{service:"pbo_tokens",version:"^1.0.0",orgOverride:"nrdjs"}},this.VFb);}},VFb:{configurable:!0,enumerable:!0,get:function(){return {};}},wDb:{configurable:!0,enumerable:!0,get:function(){return !1;}},BOa:{configurable:!0,enumerable:!0,get:function(){return 10;}},zgb:{configurable:!0,enumerable:!0,get:function(){return !1;}},kB:{configurable:!0,enumerable:!0,get:function(){return this.Qf.kB;}},DI:{configurable:!0,enumerable:!0,get:function(){return this.Qf.DI;}},gS:{configurable:!0,enumerable:!0,get:function(){return this.Qf.gS;}},WKb:{configurable:!0,enumerable:!0,get:function(){return !1;}},mnb:{configurable:!0,enumerable:!0,get:function(){return !0;}},PKb:{configurable:!0,enumerable:!0,get:function(){return [];}},qnb:{configurable:!0,enumerable:!0,get:function(){return !0;}},rnb:{configurable:!0,enumerable:!0,get:function(){return !1;}},VV:{configurable:!0,enumerable:!0,get:function(){return this.Qf.VV;}},kja:{configurable:!0,enumerable:!0,get:function(){return this.Qf.kja;}},timeout:{configurable:!0,enumerable:!0,get:function(){return (0,k.ci)(59);}},IKa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=d;b.BAa=a;t.__decorate([f.config(f.string,"uiVersion")],a.prototype,"uiVersion",null);t.__decorate([f.config(f.string,"uiPlatform")],a.prototype,"uiPlatform",null);t.__decorate([f.config(f.Ex,"pboVersion")],a.prototype,"version",null);t.__decorate([f.config(f.string,"pboOrganization")],a.prototype,"organization",null);t.__decorate([f.config(f.e_,"pboLanguages")],a.prototype,"languages",null);t.__decorate([f.config(f.fd,"hasLimitedPlaybackFunctionality")],a.prototype,"Bub",null);t.__decorate([f.config(f.object(),"pboCommands")],a.prototype,"LWa",null);t.__decorate([f.config(f.object(),"pboCommandsOverride")],a.prototype,"VFb",null);t.__decorate([f.config(f.fd,"pboRecordHistory")],a.prototype,"wDb",null);t.__decorate([f.config(f.Ex,"pboHistorySize")],a.prototype,"BOa",null);t.__decorate([f.config(f.fd,"pboAddXEsnHeader")],a.prototype,"zgb",null);t.__decorate([f.config(f.fd,"combineManifestAndLicense")],a.prototype,"kB",null);t.__decorate([f.config(f.fd,"enableLicensedManifestForPrefetch")],a.prototype,"DI",null);t.__decorate([f.config(f.fd,"useLdlForPrefetchLicensedManifest")],a.prototype,"gS",null);t.__decorate([f.config(f.fd,"pboUseStudioManifest")],a.prototype,"WKb",null);t.__decorate([f.config(f.fd,"pboEnableLeanManifest")],a.prototype,"mnb",null);t.__decorate([f.config(f.fd,"useHeaderForRequestNames")],a.prototype,"PKb",null);t.__decorate([f.config(f.fd,"pboEnableV2OptimizedManifest")],a.prototype,"qnb",null);t.__decorate([f.config(f.fd,"pboEnableV3Manifest")],a.prototype,"rnb",null);t.__decorate([f.config(f.fd,"pboEnableManifestPartialHydrationSupport")],a.prototype,"VV",null);t.__decorate([f.config(f.e_,"pboContentPlaygraphTypes")],a.prototype,"kja",null);t.__decorate([f.config(f.hm,"pboTimeout")],a.prototype,"timeout",null);t.__decorate([f.config(f.fd,"enablePboBackoff")],a.prototype,"IKa",null);b.BAa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Fn)),t.__param(1,(0,n.l)(e.Cc)),t.__param(2,(0,n.l)(h.nda)),t.__param(3,(0,n.l)(l.vT))],a);},71976:function(t,b,a){var g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D;function d(F){this.config=F;this.CE=[];}function n(F,H,E){this.Oa=F;this.transport=H;this.context=E;this.startTime=this.Oa.uc();}function c(F,H,E,G,K,N,I,L,O,J,Q,P){this.DJb=H;this.json=E;this.Oa=G;this.bF=K;this.WUa=N;this.nd=I;this.config=L;this.$b=O;this.receiver=J;this.EOc=Q;this.iBb=P;this.log=F.qb("Pbo");L.wDb && (this.CE=new d(L));this.transport=this.DJb();}Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;t=a(22970);g=a(22674);f=a(5021);e=a(14543);h=a(87386);l=a(63368);k=a(81918);m=a(34231);p=a(10306);r=a(53085);q=a(71977);u=a(7605);v=a(15160);w=a(85001);x=a(19114);y=a(45385);A=a(15348);z=a(91176);B=a(82229);a=a(17391);C={"shakti-":"akira"};c.prototype.send=function(F,H){var E;E=new n(this.Oa,this.transport,F);this.CE && this.CE.append(E);return this.AWa(F,H,E);};c.prototype.AWa=function(F,H,E){var G;G=this;return new Promise(function(K,N){G.retry(F,H).then(function(I){var L,O;G.NFc(I);L=Ea(G.sNc(I));O=L.next().value;L=L.next().value;O && (G.receiver.PUa({command:F.Mq,url:F.url,inputs:H,outputs:O}),G.O5b(E),K(I));L && (G.Pjb(E,L),N(L));}).catch(function(I){var L;G.receiver.PUa({command:F.Mq,inputs:H,outputs:I,url:F.url});L=G.Pjb(E,I);I.df && (I.df=[I.df," ",L].join(""));N(I);});});};c.prototype.NFc=function(F){(F=F.serverTime) && this.$b.bd(w.Xxa.TFb,(0,f.ac)(F));};c.prototype.sNc=function(F){var H;!1;H=F.result;if(("deviceCommand" in F)){F=F.deviceCommand;this.log.trace("Received device command '" + F + "'");switch(F){case "reset":H="RESET_DEVICE";break;case "reload":H="RELOAD_DEVICE";break;case "exit":H="EXIT_DEVICE";break;default:(H="FAIL",this.log.error("Unhandled device command '" + F + "'"));}return [,{XF:!0,code:H,detail:{message:"Server sent device action to '" + F + "' device"}}];}if(H)return (!1,[H,void 0]);if(F.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",F),[,{code:F.code,detail:{message:F.message}}]);this.log.error("Response did not contain a result or an error",F);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};c.prototype.n1b=function(F,H,E){var G,K;G=this;this.RMc(H,F);this.transport=this.DJb(E);return this.transport.send(H,E).then(function(N){K=N.headers;return {retry:!1,kBb:y.efa.myc(G.json,N.body),headers:K};}).catch(function(N){var I,L;K=null !== K && void 0 !== K?K:N.headers;I=G.EOc.fkc(K);L=y.efa.Nic(N,I);L=void 0 !== L?Math.min(L,H.sm):H.sm;return G.Hr(H,N,F,L)?(I=G.L3b(I,F,L),G.log.warn("Method failed, retrying",Object.assign({Method:H.Mq,Attempt:F + 1,WaitTime:I,MaxRetries:L},G.HJa(N))),Promise.resolve({retry:!0,delay:I,error:N,headers:K})):Promise.resolve({retry:!1,error:N,headers:K});});};c.prototype.igc=function(F){var H,E;if(!this.MFa || this.MFa.sxc !== F){H="";E=F;Object.entries(C).find(function(G){var K;K=Ea(G);G=K.next().value;K=K.next().value;if(0 === F.indexOf(G))return (H=K,F=F.slice(G.length),!0);});this.MFa={Ijb:H,uiVersion:F,sxc:E};}return this.MFa;};c.prototype.RMc=function(F,H){var E,G,K,N;N=F.url.searchParams;N.set(x.FA.oab,(H + 1).toString());this.config.PKb.includes(F.rm)?F.headers[x.qUb.cCa]=F.rm:N.set(x.FA.cCa,F.rm);N.set(x.FA.pab,F.requestId);F.J && N.set(x.FA.KRb,encodeURIComponent(F.J));F=this.igc(null !== (E=this.config.uiVersion) && void 0 !== E?E:"");F.Ijb && (N.set(x.FA.Y1a,F.Ijb),F.uiVersion && N.set(x.FA.vcb,encodeURIComponent(F.uiVersion)),E=this.bF.Be,(null === E || void 0 === E?0:E.name) && N.set(x.FA.p1a,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && N.set(x.FA.q1a,encodeURIComponent(E.version)),(null === (G=null === E || void 0 === E?void 0:E.os) || void 0 === G?0:G.name) && N.set(x.FA.J8a,encodeURIComponent(E.os.name)),(null === (K=null === E || void 0 === E?void 0:E.os) || void 0 === K?0:K.version) && N.set(x.FA.K8a,encodeURIComponent(E.os.version)));};c.prototype.retry=function(F,H,E){var G,K;G=this;E=void 0 === E?0:E;if(void 0 !== F.J){K=this.iBb.Cgc(F.rm,F.J);if(K){if(K.ZU)throw {pboc:!1,code:"FAIL",detail:{message:"The request is cancelled because of the backoff"}};return this.wait(F.OH,K.tEc).then(function(){return G.retry(F,H,E);});}}return this.n1b(E++,F,H).then(function(N){G.receiver.PUa({command:F.Mq + "-attempt",inputs:H,outputs:N,url:F.url});G.iBb.dBc(N.headers,F.rm);if(N.retry)return G.wait(F.OH,N.delay).then(function(){return G.retry(F,H,E);});if(N.error)throw N.error;if(void 0 === N.kBb)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return N.kBb;});};c.prototype.Hr=function(F,H,E,G){var K;K=y.efa.$oc(H);if(K && E < G)return !0;K?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:F.Mq,Attempt:E + 1,MaxRetries:G},this.HJa(H))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:F.Mq},this.HJa(H)));return !1;};c.prototype.L3b=function(F,H,E){F=null === F || void 0 === F?void 0:F.VVa;if(void 0 !== F)return (0,f.ci)(F);F=1E3 * (0 === H?1:H);H=1E3 * Math.pow(2,Math.min(H,E));return (0,f.ac)(this.WUa.ZCb(F,H));};c.prototype.wait=function(F,H){var E,G;E=this;G=new Promise(function(K){E.nd.Kp(H || f.fa,K);});return F?(0,z.XCb)(F,G,!0):G;};c.prototype.HJa=function(F){return (0,q.nna)(F)?F:{message:F.message,subCode:F.subCode,extCode:F.extCode,mslCode:F.PF,data:F.data};};c.prototype.O5b=function(F){F.i_();};c.prototype.Pjb=function(F,H){var E;F.Ff(H);if(this.CE)try{E=this.json.stringify(this.CE);this.log.error("PBO command history",E);return E;}catch(G){}return "";};D=c;b.CAa=D;b.CAa=D=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(h.wb)),t.__param(1,(0,g.l)(e.ncb)),t.__param(2,(0,g.l)(l.$S)),t.__param(3,(0,g.l)(k.Sd)),t.__param(4,(0,g.l)(m.Vr)),t.__param(5,(0,g.l)(p.Afa)),t.__param(6,(0,g.l)(r.Pk)),t.__param(7,(0,g.l)(u.Xx)),t.__param(8,(0,g.l)(v.nxa)),t.__param(9,(0,g.l)(A.XAa)),t.__param(10,(0,g.l)(B.rdb)),t.__param(11,(0,g.l)(a.v9a))],D);n.prototype.i_=function(){this.success=!0;this.elapsedTime=this.Oa.uc().ca(this.startTime);};n.prototype.Ff=function(F){this.success=!1;this.elapsedTime=this.Oa.uc().ca(this.startTime);this.AJc=F.subCode || F.subCode;this.Rdc=F.extCode || F.extCode;};n.prototype.toString=function(){return JSON.stringify(this);};n.prototype.toJSON=function(){var F;F=Object.assign({success:this.success,method:this.context.Mq,startTime:this.startTime.la(f.wa),elapsedTime:this.elapsedTime?this.elapsedTime.la(f.wa):"in progress"},this.transport.NIa());return this.success?F:Object.assign(Object.assign(Object.assign({},F),this.transport.NIa()),{subcode:this.AJc,extcode:this.Rdc});};d.prototype.append=function(F){this.CE.push(F);0 < this.config.BOa && this.CE.length > this.config.BOa && this.CE.shift();};d.prototype.toJSON=function(){return this.CE;};},45385:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.efa=void 0;n=a(36129);d.$oc=function(c){var g,f;g=c && c.code;f=c && (c.Ma || c.subCode);c=c.extCode !== n.pea.t9a;f=!!f && f >= n.W.H1 && f <= n.W.E1 && c;return !("RETRY" !== g && "FAIL" !== g) || f;};d.Nic=function(c,g){g=null === g || void 0 === g?void 0:g.QX;return void 0 !== g?g:"FAIL" === (null === c || void 0 === c?void 0:c.code)?1:void 0;};d.myc=function(c,g){var f;if(g){try{f=c.parse(g);}catch(e){throw {XF:!0,code:"FAIL",message:"Unable to parse the response body",data:g};}if(f.error)throw f.error;if(f.result){if(Array.isArray(f.result) && (c=f.result.find(function(e){return e.error;})))throw c.error;return f;}throw {XF:!0,code:"FAIL",message:"There is no result property on the response"};}throw {XF:!0,code:"FAIL",message:"There is no body property on the response"};};b.efa=d;},23632:function(t,b,a){var n,c,g;function d(f,e){this.VN=e;this.log=f.qb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.JAa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(33554);d.prototype.iGa=function(f){f && (!1,this.links=Object.assign(Object.assign({},this.links),f));};d.prototype.JW=function(f){!1;return this.links[f];};g=d;b.JAa=g;b.JAa=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(a.uA))],g);},17108:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.WAa=void 0;t=a(22970);a=a(22674);d.prototype.EGc=function(c){this.listener=c;};d.prototype.PUa=function(c){var g;null === (g=this.listener) || void 0 === g?void 0:g.call(this,c);};n=d;b.WAa=n;b.WAa=n=t.__decorate([(0,a.Y)()],n);},91918:function(t,b,a){var c,g;function d(f,e,h,l,k,m,p){this.version=f;this.url=e;this.id=h;this.languages=l;this.zb=k;this.Fbc=m;this.uuc=p;}function n(f){this.zi=f;}Object.defineProperty(b,"__esModule",{value:!0});b.YAa=void 0;t=a(22970);c=a(22674);a=a(7605);n.prototype.create=function(f,e,h,l,k){return new d(this.zi.version,e,f,this.zi.languages,h,l,k);};g=n;b.YAa=g;b.YAa=g=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(a.Xx))],g);d.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.zb,echo:this.Fbc};};},97361:function(t,b,a){var n,c;function d(g){this.log=g.qb("ZuulRetryPolicyParser");}Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;t=a(22970);n=a(22674);a=a(87386);d.prototype.fkc=function(g){var f,e;try{f=g["x-netflix.retry.server.policy"];if(f){e=JSON.parse(f);this.tNc(e);return {VVa:e.retryAfterSeconds,QX:e.maxRetries};}}catch(h){!1;}};d.prototype.tNc=function(g){if(void 0 !== g.retryAfterSeconds && "number" !== typeof g.retryAfterSeconds)throw Error("retryAfterSeconds is not a number");if(void 0 !== g.maxRetries && "number" !== typeof g.maxRetries)throw Error("maxRetries is not a number");};c=d;b.MDa=c;b.MDa=c=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.wb))],c);},5652:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;t=a(22674);d=a(70865);n=a(14543);c=a(60204);g=a(89146);f=a(74429);e=a(34231);b.transports=new t.je(function(h){h(d.bga).to(f.gDa).pa();h(n.c8a).to(c.Nza);h(n.rbb).to(g.JCa);h(n.ncb).Kf(function(l){return function(k){var m;return l.Hb.get(d.bga).uR(null !== (m=null === k || void 0 === k?void 0:k.uuc) && void 0 !== m?m:e.Kv.pM)?l.Hb.get(n.c8a):l.Hb.get(n.rbb);};});});},14543:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ncb="TransportFactorySymbol";b.c8a="MslTransportSymbol";b.rbb="SslTransportSymbol";},70865:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bga="TransportConfigSymbol";},60204:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m){var p;p=this;this.WJ=k;this.profile=m;this.log=l.qb("MslTransport");this.WJ().then(function(r){return p.Toa=r;});}Object.defineProperty(b,"__esModule",{value:!0});b.Nza=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(97996);f=a(5021);a=a(71501);e={license:!0};d.prototype.send=function(l,k){var m,p;m=this;p={eQ:Object.assign({Je:l.Je,log:l.log,profile:this.profile},l.iHa),method:l.Mq,url:l.url.href,body:JSON.stringify(k),timeout:l.timeout.la(f.wa),ZKb:this.profile,pDc:!e[l.Mq],fzb:!!e[l.Mq],Ny:!0,fR:l.sm,headers:l.headers};!1;return this.WJ().then(function(r){return r.send(p).catch(function(q){var u;if(!q.error)throw (q.subCode=q.Ma || q.subCode,q);u=q.error;u.headers=q.headers;m.log.error("Error sending MSL request",{mslCode:u.PF,subCode:u.subCode,data:u.data,message:u.message});throw u;});});};d.prototype.NIa=function(){var l;return {userTokens:null === (l=this.Toa) || void 0 === l?void 0:l.dQ.XNa()};};h=d;b.Nza=h;b.Nza=h=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(g.k2)),t.__param(2,(0,n.l)(a.xT))],h);},89146:function(t,b,a){var n,c,g,f;function d(e,h){this.Je=h;this.log=e.qb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=void 0;t=a(22970);n=a(22674);c=a(5021);g=a(87386);a=a(32934);d.prototype.send=function(e,h){var l,k;l=this;k={url:e.url.href,wI:"nq-" + e.Mq,YBb:JSON.stringify(h),jja:e.timeout.la(c.wa),headers:e.headers,withCredentials:!0,zx:"pbo"};!1;return new Promise(function(m,p){l.Je.download(k,function(r){r.success?m(r):p(r);});}).then(function(m){return {body:m.content,headers:m.headers};}).catch(function(m){var p;if(!m.error)throw (m.subCode=m.Ma || m.subCode,m);p=m.error;p.headers=m.headers;l.log.error("Error sending SSL request",{subCode:p.subCode,data:p.content,message:p.message});throw p;});};d.prototype.NIa=function(){return {};};f=d;b.JCa=f;b.JCa=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.wb)),t.__param(1,(0,n.l)(a.AA))],f);},74429:function(t,b,a){var n,c,g,f,e;function d(h){return c.Ef.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;t=a(22970);n=a(22674);c=a(64174);g=a(83767);f=a(12501);e=a(34231);Ia(d,c.Ef);d.prototype.uR=function(h){var l,k;l=this.J_;k=this.Pgb;switch(h){case e.Kv.pM:return l;case e.Kv.G$a:return l && !k;case e.Kv.w8a:return !1;}};Ga.Object.defineProperties(d.prototype,{J_:{configurable:!0,enumerable:!0,get:function(){return !0;}},Pgb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=d;b.gDa=a;t.__decorate([f.config(f.fd,"usesMsl")],a.prototype,"J_",null);t.__decorate([f.config(f.fd,"allowRequestsWithoutMsl")],a.prototype,"Pgb",null);b.gDa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Fn))],a);},75236:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dga="UserAgentDataProviderSymbol";b.Kcb="UserAgentDataAsyncProviderSymbol";},92623:function(t,b,a){var e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B;function d(C,D,F){this.Nn=C;this.groups=D;this.DH=F;C=v(C,D,F);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function n(){}function c(){}function g(){return u?u:"0.0.0.0";}function f(C){C({b2c:0,c4c:0,f_c:0,KYc:0});}e=a(90745);n.prototype.set=function(C,D){k[C]=D;m.save(C,D);};n.prototype.get=function(C,D){if(k.hasOwnProperty(C))return k[C];q.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");m.load(C,function(F){F.success?(k[C]=F.data,D && D(F.data)):k[C]=void 0;});};n.prototype.remove=function(C){m.remove(C);};n.prototype.clear=function(){q.info("WARNING: Calling unimplemented function Storage.clear()");};c.prototype.now=function(){return p();};c.prototype.na=function(){return r();};c.prototype.Qoa=function(C){return C + p() - r();};c.prototype.Apa=function(C){return C + r() - p();};d.prototype.klb=function(C){var D;D=[];this.DH && Array.isArray(this.DH)?D.push.apply(D,za(this.DH)):this.DH && D.push(this.DH);D.push(C);return new d(this.Nn,this.groups,D);};Ga.Object.defineProperties(d.prototype,{prefix:{configurable:!0,enumerable:!0,get:function(){return Array.isArray(this.DH)?this.DH.join(" "):this.DH;}}});w=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();t.exports=function(C){h=C.Cqa;v=C.bm;m=C.storage;k=C.JP;p=C.hjc;r=C.getTime;q=C.S0b;x=C.Cl;B=C.El;y=C.K0;A=C.SourceBuffer;z=C.MediaSource;u=C.D_c;l=C.mB;return {name:"cadmium",mB:l,Cqa:h,storage:new n(),Storage:n,time:new c(),events:new e.EventEmitter(),console:new d("JS-ASE",void 0,"default"),Console:d,options:{},Promise:w,Cl:x,K0:y,DSc:A,MediaSource:z,El:B,cC:{name:g},memory:{zZc:f},LW:C.LW,Cja:C.Cja,sI:C.sI,wka:C.wka,ping:function(D){fetch(D).catch(function(){});}};};},87141:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t.exports=function(a){return {minInitVideoBitrate:a.dx,maxInitVideoBitrate:a.yz,minInitAudioBitrate:a.Cz,maxInitAudioBitrate:a.Ys,minAllowedVideoBitrate:a.bQ,maxAllowedVideoBitrate:a.v9,switchableAudioProfiles:a.zo,switchableAudioProfilesOverride:a.yG,minAcceptableVideoBitrate:a.aQ,minRequiredBuffer:a.ex,minPrebufSize:a.no,minCheckBufferingCompleteInterval:a.N9,rebufferingFactor:a.haa,useMaxPrebufSize:a.Fca,maxPrebufSize:a.YB,maxRebufSize:a.B9,maxBufferingTime:a.pr,minAudioMediaRequestSizeBytes:a.Hoa,minVideoMediaRequestSizeBytes:a.Loa,initialBitrateSelectionCurve:a.jJ,throughputPercentForAudio:a.OR,bandwidthMargin:a.G4,bandwidthMarginContinuous:a.H4,bandwidthMarginCurve:a.I4,conservBandwidthMargin:a.h5,switchConfigBasedOnInSessionTput:a.Tba,conservBandwidthMarginTputThreshold:a.j5,conservBandwidthMarginCurve:a.i5,maxTotalBufferLevelPerSession:a.UP,skipBitrateInUpswitch:a.xba,watermarkLevelForSkipStart:a.Zca,highStreamRetentionWindow:a.P7,lowStreamTransitionWindow:a.h9,highStreamRetentionWindowUp:a.R7,lowStreamTransitionWindowUp:a.j9,highStreamRetentionWindowDown:a.Q7,lowStreamTransitionWindowDown:a.i9,highStreamInfeasibleBitrateFactor:a.O7,lowestBufForUpswitch:a.wz,lockPeriodAfterDownswitch:a.NP,lowWatermarkLevel:a.l9,lowestWaterMarkLevel:a.xz,lowestWaterMarkLevelBufferRelaxed:a.n9,mediaRate:a.WP,maxTrailingBufferLen:a.IF,audioBufferTargetAvailableSize:a.u4,videoBufferTargetAvailableSize:a.Oca,fastUpswitchFactor:a.lW,fastDownswitchFactor:a.r6,maxMediaBufferAllowed:a.HF,simulatePartialBlocks:a.Esa,considerConnectTime:a.k5,connectTimeMultiplier:a.g5,maxNetworkErrorsDuringBuffering:a.soa,maxBufferingTimeAllowedWithNetworkError:a.w9,locationStatisticsUpdateInterval:a.c9,probeServerWhenError:a.bG,allowSwitchback:a.sN,probeDetailDenominator:a.$qa,maxDelayToReportFailure:a.PX,maxActiveRequestsSABCell100:a.ooa,headerRequestSize:a.L7,estimateHeaderSize:a.cW,minBufferLenForHeaderDownloading:a.YX,pipelineEnabled:a.Ap,maxParallelConnections:a.toa,socketReceiveBufferSize:a.GXa,audioSocketReceiveBufferSize:a.x4,videoSocketReceiveBufferSize:a.Tca,headersSocketReceiveBufferSize:a.Bma,aseReportDenominator:a.gu,aseReportIntervalMs:a.yy,prebufferTimeLimit:a.UY,penaltyFactorForLongConnectTime:a.sqa,longConnectTimeThreshold:a.goa,additionalBufferingLongConnectTime:a.Lha,additionalBufferingPerFailure:a.Mha,rebufferCheckDuration:a.hZ,enableOCSideChannel:a.jO,OCSCBufferQuantizationConfig:a.o2,defaultHeaderCacheSize:a.Jja,defaultHeaderCacheDataPrefetchMs:a.Ija,networkFailureResetWaitMs:a.$oa,networkFailureAbandonMs:a.Zoa,maxThrottledNetworkFailures:a.C9,throttledNetworkFailureThresholdMs:a.aca,lowThroughputThreshold:a.hoa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Gka,requireAudioStreamToEncompassVideo:a.cR,enableManagerDebugTraces:a.HKa,netIntrStoreWindow:a.Kyb,minNetIntrDuration:a.fyb,fastHistoricBandwidthExpirationTime:a.mob,bandwidthExpirationTime:a.Uhb,failureExpirationTime:a.iob,expandDownloadTime:a.Snb,ignoreShortResponses:a.Hma,minimumMeasurementTime:a.Ooa,minimumMeasurementBytes:a.Noa,probingMeasurementTime:a.cra,probingMeasurementBytes:a.bra,historicBandwidthUpdateInterval:a.Ysb,ase_stream_selector:a.vhb,liveStreamSelectorAlgorithm:a.X8,jointStreamSelectorEnabled:a.H8,enableFilters:a.jnb,filterDefinitionOverrides:a.tob,defaultFilter:a.Ulb,secondaryFilter:a.nFb,defaultFilterDefinitions:a.NJa,bufferingSelectorAlgorithm:a.O4,ase_dump_fragments:a.zja,ase_location_history:a.Bja,secondThroughputEstimator:a.dsa,marginPredictor:a.noa,networkMeasurementGranularity:a.cpa,maxIQRSamples:a.yRa,minIQRSamples:a.URa,periodicHistoryPersistMs:a.F$,saveBitrateMs:a.Raa,needMinimumNetworkConfidence:a.Voa,biasTowardHistoricalThroughput:a.Bia,maxFastPlayBufferInMs:a.poa,minAudioMediaRequestDuration:a.Bz,minVideoMediaRequestDuration:a.$B,minAudioMediaRequestDurationCache:a.Bz,minVideoMediaRequestDurationCache:a.$B,addHeaderDataToNetworkMonitor:a.Cha,hindsightDenominator:a.xOa,hindsightDebugDenominator:a.wOa,hindsightParam:a.yOa,minimumTimeBeforeBranchDecision:a.U9,maxNumSessionHistoryStored:a.A9,minSessionHistoryDuration:a.R9,waitForDrmToAppendMedia:a.eua,forceAppendHeadersAfterDrm:a.ala,startMonitorOnLoadStart:a.Lsa,reportFailedRequestsToNetworkMonitor:a.Dra,maxActiveRequestsPerSession:a.NX,limitAudioDiscountByMaxAudioBitrate:a.Una,appendFirstHeaderOnComplete:a.Yha,applyProfileTimestampOffset:a.WH,profileTimestampOffsets:a.Z$,applyProfileStreamingOffset:a.wh,mediaSourceSupportsNegativePts:a.I9,requireDownloadDataAtBuffering:a.Faa,requireSetupConnectionDuringBuffering:a.Gaa,selectStartingVMAFMethod:a.MK,activateSelectStartingVMAF:a.lU,minStartingVideoVMAF:a.Zu,minAcceptableVMAF:a.$P,minAllowedVmaf:a.OF,enableCombinedPlaygraphs:a.fO,enableAdPlaygraphs:a.tB,enableLiveAdPlaygraphs:a.hO,retainSbrOnFade:a.zZ,excludedContentPlaygraphIds:a.o6,enableDiscontiguousBuffering:a.SV,forceImmediateTransitionTypeForTitles:a.E6,forceImmediateTransitionExitZone:a.D6,useBufferSizeLimiter:a.LG,maxAllowedOutstandingRequests:a.OX,minStreamableConcurrencyWindow:a.S9,streamableConcurrencyFactor:a.Iba,bufferingConcurrencyWindow:a.AN,enableResolutionVMAFStreamFilter:a.YV,resolutionVMAFCappingRuleList:a.wZ,percentCapTitlesForResolutionVMAFStreamFilter:a.D$,useExitZones:a.Eca,perFragmentVMAFConfig:a.uQ,paddingDurationMs:a.dqa,paddingMediaType:a.eqa,paddingCodecSelector:a.qQ,supportsPtsChanged:a.oYa,ciPredictorSource:a.Xia,experimentalFilter:a.Tnb,simulationDurationStrategy:a.Fsa,pipelineHealthThresholdCriticalMs:a.yqa,pipelineHealthThresholdLowMs:a.zqa,enableRequestAbandonment:a.kO,requestAbandonmentLockIntervalMs:a.yaa,streamModeAppendAttachThreshold:a.Ysa,minProbeIntervalMs:a.P9,liveEdgeCushion:a.V8,enableLive5XXHandling:a.tka,liveStreamSelectorUseLatency:a.Y8,latencyMultiplierForLive:a.Mna,liveLowQualityAvoidance:a.Xna,liveLowQualityThreshold:a.W8,liveLowQualityMultiplier:a.EX,liveBufferRatioStrategy:a.Vna,liveMaxUpswitchSteps:a.Yna,enableConditionalServerTimeUpdate:a.nka,negligibleServerTimeDeltaDifference:a.Xoa,liveSwitchStreamsOnErrorInPipeline:a.boa,enableMissingSegmentsReplacement:a.iO,simulateLiveEdge:a.wR,liveShouldAccountForPlayDelay:a.QQa,livePrefetchEnabled:a.$na,decryptOCSideChannelMinInterval:a.E5,decryptOCSideChannelMinIntervalAfterCompleted:a.Hja,enableLiveOCSideChannelRefresh:a.TV,liveOCSideChannelRefreshInterval:a.GX,liveRequestSpreadMs:a.aoa,liveConsiderSpreadInCushion:a.NQa,enableTwoPartLiveFragmentEditing:a.vka,liveSlowBufferFilling:a.MP,liveEarlyRequestProbability:a.Wna,liveEarlyRequestDefaultOffsetMs:a.U8,supportLiveIdrMismatch:a.Mba,synthesizeLiveIdrMismatch:a.m_,alwaysRetainAds:a.k4,enableMediaEventsTrack:a.WV,syntheticAdBreakUx:a.Vba,enableMediaEventHistory:a.b6,enableLiveAdBreakReportingEvents:a.gO,enableBlackBoxNotification:a.eO,minimumPresentationDelayMs:a.gl,liveEdgeSegmentSkipCount:a.KP,probeBeforeSwitchingBackToPrimary:a.V$,minIntervalForSwitchingBackToPrimary:a.ZX,maxIntervalForSwitchingBackToPrimary:a.x9,enableLiveRequestPacing:a.UV,logarithmicRequestPacingCurveCenterPositionMs:a.JX,logarithmicRequestPacingCurveSharpness:a.KX,maxLiveTargetBufferDurationMs:a.OJ,enableSvodRequestPacing:a.d6,minSvodTargetBufferDurationMs:a.aY,svodBufferGrowthRateSlope:a.j_};};},31594:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J;Object.defineProperty(b,"__esModule",{value:!0});b.zrc=function(Q){Q.load(d.lB,h.PR,n.Hwb,l.My,c.tyb,g.$,f.qLb,e.$sb,k.storage,m.zN,p.Bib,r.bxb,q.WJ,u.Un,v.logblobs,w.Pyb,x.rpb,y.LCb,A.BQ,z.Tmb,B.$mb,C.Cf,D.$f,F.Xa,H.Byb,E.hBb,G.j,K.Yjb,N.transports,I.UB,L.oh,O.zhb,J.U);};d=a(28131);n=a(38385);c=a(56371);g=a(33194);f=a(36149);e=a(75950);h=a(40076);l=a(51259);k=a(62945);m=a(66393);p=a(6498);r=a(51770);q=a(7826);u=a(82656);v=a(21009);w=a(30698);x=a(63341);y=a(32754);A=a(72614);z=a(1891);B=a(49594);C=a(28838);D=a(99584);F=a(92692);H=a(12653);E=a(31360);G=a(65945);K=a(18880);N=a(5652);I=a(43367);L=a(87886);O=a(87284);J=a(81737);},83989:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.Yc=void 0;t=a(22674);d=a(71501);n=a(88351);c=a(49594);g=a(83810);f=a(51120);e=a(31594);a=a(99198);b.Yc=new t.Jda({xR:!0});(0,e.zrc)(b.Yc);b.Yc.load(n.platform);b.Yc.load(g.config);c.PV.load(f.anb);b.Yc.load(a.Zgb);b.Yc.load(a.profile);b.Yc.bind(d.E5a).Bo(b.Yc);},76892:function(t,b,a){var c,g,f,e,h,l;function d(){}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.qDa=b.rDa=void 0;t=a(22970);f=a(22674);a=a(22365);e={RB:!1,reason:"uninitialized"};h={RB:!1,reason:"uninitialized"};l=null === (g=null === (c=null === a.ng || void 0 === a.ng?void 0:a.ng.userAgentData) || void 0 === c?void 0:c.getHighEntropyValues) || void 0 === g?void 0:g.call(c,["architecture","platformVersion"]);null === l || void 0 === l?void 0:l.then(function(k){var m;m=k.architecture;e=m?{RB:!0,architecture:m}:{RB:!1,reason:"undefined"};h=(k=k.platformVersion)?{RB:!0,version:k}:{RB:!1,reason:"undefined"};}).catch(function(){e={RB:!1,reason:"exception"};h={RB:!1,reason:"exception"};});Ga.Object.defineProperties(n.prototype,{architecture:{configurable:!0,enumerable:!0,get:function(){return e;}},platformVersion:{configurable:!0,enumerable:!0,get:function(){return h;}}});c=n;b.rDa=c;b.rDa=c=t.__decorate([(0,f.Y)()],c);Ga.Object.defineProperties(d.prototype,{architecture:{configurable:!0,enumerable:!0,get:function(){return Promise.resolve().then(function(){return null === l || void 0 === l?void 0:l.then(function(k){return k.architecture;});});}},platformVersion:{configurable:!0,enumerable:!0,get:function(){return Promise.resolve().then(function(){return null === l || void 0 === l?void 0:l.then(function(k){return k.platformVersion;});});}}});c=d;b.qDa=c;b.qDa=c=t.__decorate([(0,f.Y)()],c);},25066:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Zgc=function(e){return Object.assign(Object.assign({},(0,f.U6)()),{zw:e.Lub?"T":e.pna?"Q":e.l8?"C":"M",Ds:e.Lub?"NFCDTS-01-":e.pna?"NFCDQS-01-":e.nz?"NFCDCH-02-":e.MB?"NFCDCH-MC-":e.l8?"NFCDCH-01-":e.$ma?"NFCDCH-AP-":e.j8?"NFCDCH-AT-":e.sP?"NFCDCH-PH-":"NFCDCH-LX-",vI:e.l8?"chromeos-cadmium":"chrome-cadmium"});};b.Xgc=function(e){var h,l,k,m,p,r;h=(0,f.T6)();l=Object.assign(Object.assign({},h),{RV:!0,kB:!0,DI:!0,gS:!0});k=[c.H.$G,c.H.YG];m=[c.H.QS];p={minimumCores:3};r={minimumCores:5};e.nz && (l.Jh=[].concat(za((0,g.Iz).apply(null,[h.Jh].concat(za(k)))),za((0,g.ig)([c.H.Cv,c.H.Dv,c.H.zL,c.H.AL].concat(za(k),[c.H.Ev,c.H.Fv,c.H.BL,c.H.CL]),r))),l.io=[].concat(za((0,g.Iz).apply(null,[h.io].concat(za(m)))),za((0,g.ig)([].concat(za(m)),r))),115 <= e.ku && (l.Jh=[].concat(za(l.Jh),za((0,g.ig)([].concat(za(c.mc.v0),za(c.mc.DS),za(c.mc.CS),za(c.mc.BS),za(c.mc.AS)))))));e.MB && (l.Jh=[].concat(za((0,g.Iz).apply(null,[h.Jh].concat(za(k)))),za((0,g.ig)([c.H.Cv,c.H.Dv,c.H.zL,c.H.AL].concat(za(k),[c.H.Ev,c.H.Fv,c.H.BL,c.H.CL]),p))),l.io=[].concat(za((0,g.Iz).apply(null,[h.io].concat(za(m)))),za((0,g.ig)([].concat(za(m)),p))));e.l8 && (l.Jh=(0,g.ig)([].concat(za(c.mc.u0),za(c.mc.Y_),za(c.mc.v0),za(c.mc.CS),za(c.mc.DS),za(c.mc.AS),za(c.mc.BS))),l.io=(0,g.ig)([].concat(za(c.mc.X_),za(c.mc.Dda),za(c.mc.Cda))));e.KPa && (l.Jh=[].concat(za((0,g.Iz).apply(null,[h.Jh].concat(za(k)))),za((0,g.ig)([c.H.Cv,c.H.Dv].concat(za(k),[c.H.Ev,c.H.Fv]),r))));e.pna && (l.$H=(0,g.ig)([c.Ic.Bn,c.Ic.rD,c.Ic.Gn,c.Ic.NL,c.Ic.OL,c.Ic.PL]),l.Jh=(0,g.ig)([].concat(za(c.mc.u0),za(c.mc.Y_),za(c.mc.v0),za(c.mc.CS),za(c.mc.DS),za(c.mc.AS),za(c.mc.BS),za(c.mc.Bva))),l.io=(0,g.ig)([].concat(za(c.mc.X_),za(c.mc.Dda),za(c.mc.Cda))));return l;};b.Ygc=function(e){var h;h={droppedFrameRateFilterEnabled:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:d.uq.HS,preciseSeeking:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= e.ku && (h=Object.assign(Object.assign({},h),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));e.j8 && (h=Object.assign(Object.assign({},h),{enableFullHdForHWDRM:!0}));e.l8 && (h=Object.assign(Object.assign({},h),{enableHWDRM:!1,enableHwdrmOnArm:!0,prepareLdlCacheMaxCount:15,enableFullHdForHWDRM:!0}),89 <= e.ku && (h=Object.assign(Object.assign({},h),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= e.ku && e.nz && (h=Object.assign(Object.assign({},h),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[n.ub.IDa,n.ub.jga],logKeySystemHasHwdrmAvailable:!0}));if(e.nz || e.MB)h=Object.assign(Object.assign({},h),{enableFullHdForSWDRM:!0});e.nz && 99 <= e.ku && (h=Object.assign(Object.assign({},h),{enableAV1:!0}));e.MB && 113 <= e.ku && (h=Object.assign(Object.assign({},h),{enableAV1:!0}));e.KPa && 113 <= e.ku && (h=Object.assign(Object.assign({},h),{enableAV1:!0}));(e.MB || e.nz) && 113 <= e.ku && (h=Object.assign(Object.assign({},h),{enableXHEAAC:!0}));e.pna && (h=Object.assign(Object.assign({},h),{enableHWDRM:!0,prepareCadmium:!1,prepareLdlCacheMaxCount:10,enableFullHdForHWDRM:!0,enableSeamless:!1,enableDDPlus51:!0,enableDDPlusAtmos:!0}));return h;};d=a(56800);n=a(17612);c=a(75568);g=a(88195);f=a(64232);},30837:function(t,b,a){var m,p,r,q,u,v;function d(w,x){var y,A;if(w)(y=1440 <= Ba.screen.height * Ba.devicePixelRatio,A=(w=f() && e() && (y || h() || n())) || g());else A=(w=null === (A=Ba.MSMediaKeys) || void 0 === A?void 0:A.isTypeSupported(p.ub.ud,u.Bc.SRa)) || (null === (y=Ba.MSMediaKeys) || void 0 === y?void 0:y.isTypeSupported(p.ub.EA,u.Bc.SRa));x && (w=A=!1);return {Soc:w,Fub:A};}function n(){var w;return !(null === (w=Ba.matchMedia) || void 0 === w || !w.call(Ba,"(dynamic-range: high)").matches);}function c(w,x){var y,A;try{return "probably" === (null === (A=null === (y=Ba.MSMediaKeys) || void 0 === y?void 0:y.isTypeSupportedWithFeatures) || void 0 === A?void 0:A.call(y,w,x));}catch(z){return !1;}}function g(){return c(p.ub.EA,u.Bc.Mtc);}function f(){return c(p.ub.ud,"video/mp4;codecs=" + u.Bc.aD + ";features=decode-bpp=8,decode-res-x=1920,decode-res-y=1080,decode-bitrate=10000000,decode-fps=30,encryption-type=cenc-clearlead,encryption-iv-size=8");}function e(){var w;return null === (w=Ba.MSMediaKeys) || void 0 === w?void 0:w.isTypeSupported(p.ub.ud,u.Bc.Ntc);}function h(){return c(p.ub.ud,"video/mp4;codecs=" + u.Bc.Lh + ";features=decode-res-x=1920,decode-res-y=1080,decode-bpc=10,decode-bitrate=5800,decode-fps=30,display-res-x=1920,display-res-y=1080,display-bpc=8,hdr=1");}function l(w){var x;w=w.data;return "false" !== (null !== (x=null === w || void 0 === w?void 0:w.enableHWDRMForHEVCAndQHDOnly) && void 0 !== x?x:"true").toString().toLowerCase();}function k(w){var x;w=w.data;return "true" === (null !== (x=null === w || void 0 === w?void 0:w.disablePlayReady) && void 0 !== x?x:"false").toString().toLowerCase();}Object.defineProperty(b,"__esModule",{value:!0});b.Ahc=function(w){return Object.assign(Object.assign({},(0,q.U6)()),{zw:"D",Ds:w.MB?"NFCDIE-04-":w.KPa?"NFCDIE-LX-":w.$ma?"NFCDIE-AP-":w.j8?"NFCDIE-AT-":w.sP?"NFCDIE-PH-":"NFCDIE-03-",vI:"edge-cadmium"});};b.yhc=function(w){var x,y;x=Object.assign(Object.assign({},(0,q.T6)()),{$H:(0,v.ig)([r.Ic.Bn,r.Ic.rD,r.Ic.NL,r.Ic.OL,r.Ic.PL,r.Ic.Gn]),Jh:(0,v.ig)([].concat(za(r.mc.u0),za(r.mc.Y_),za(r.mc.v0),za(r.mc.CS),za(r.mc.DS),za(r.mc.AS),za(r.mc.BS),za(r.mc.z1a),za(r.mc.A1a),za(r.mc.Bva))),io:(0,v.ig)([].concat(za(r.mc.X_),za(r.mc.Dda),za(r.mc.Cda))),Uw:void 0,W7:!1});y=l(w);w=k(w);d(y,w).Fub || (x.kB=!0,x.DI=!0,x.gS=!0);return x;};b.xZc=d;b.ZZc=n;b.kta=c;b.Nba=g;b.Y3c=f;b.$3c=e;b.Z3c=h;b.zhc=function(w,x){var y,A,z,B;w=w.nz;y=l(x);x=k(x);y=d(y,x);x=y.Fub;A=y.Soc;z=(0,v.ig)([r.H.qD,r.H.ZG,r.H.OS,r.H.PS]);B=(0,v.ig)([r.H.qD,r.H.ZG,r.H.OS,r.H.PS,r.H.$G,r.H.YG]);y={nudgeSourceBuffer:!0,audioCapabilityDetectorType:m.eD.xD,videoCapabilityDetectorType:m.uq.xD,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0,enableXHEAAC:!0,useEncryptedEvent:!1};A={prepareCadmium:!0,enableLdlPrefetch:!x || A,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};z={audioCapabilityDetectorType:m.eD.jD,videoCapabilityDetectorType:m.uq.HS,microsoftScreenSizeFilterEnabled:!1,keySystemList:[p.ub.jga],licenseRenewalRequestDelay:0,audioProfiles:(0,v.ig)([r.Ic.Bn,r.Ic.rD,r.Ic.Gn]),videoProfiles:w?B:z,liveVideoProfiles:(0,v.ig)([r.H.S0,r.H.T0]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0,enableFullHdForSWDRM:w?!0:!1};y=Object.assign(Object.assign({},y),A);w && (y=Object.assign(Object.assign({},y),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4}));return x?Object.assign(Object.assign({},y),{microsoftClearLeadRequiresSwdrm:!0,enableAVCHigh:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlus51:!0,enableDDPlusAtmos:!0,keySystemList:[p.ub.ud,p.ub.RTb],validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0,logKeySystemHasHwdrmAvailable:!0}):Object.assign(Object.assign({},y),z);};m=a(56800);p=a(17612);r=a(75568);q=a(64232);u=a(73796);v=a(88195);},54534:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Rhc=function(e){return Object.assign(Object.assign({},(0,g.U6)()),{zw:"F",Ds:e.MB?"NFCDFF-MC-":e.nz?"NFCDFF-02-":e.$ma?"NFCDFF-AP-":e.j8?"NFCDFF-AT-":e.sP?"NFCDFF-PH-":"NFCDFF-LX-",vI:"firefox-cadmium"});};b.Phc=function(e){var h,l,k;h=(0,g.T6)();l=Object.assign(Object.assign({},h),{RV:!0,kB:!0,DI:!0,gS:!0});k=[n.H.$G,n.H.YG];e.nz && (l.Jh=[].concat(za((0,c.Iz).apply(null,[h.Jh].concat(za(k)))),za((0,c.ig)([n.H.Cv,n.H.Dv].concat(za(k),[n.H.Ev,n.H.Fv]),{minimumCores:5}))),l.Jh=[].concat(za(l.Jh),za((0,c.ig)([].concat(za(n.mc.DS),za(n.mc.CS),za(n.mc.BS),za(n.mc.AS))))));e.MB && (l.Jh=[].concat(za((0,c.Iz).apply(null,[h.Jh].concat(za(k)))),za((0,c.ig)([n.H.Cv,n.H.Dv].concat(za(k),[n.H.Ev,n.H.Fv]),{minimumCores:3}))));return l;};b.Qhc=function(e){var h;h={droppedFrameRateFilterEnabled:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:d.uq.HS,enableCDMAttestedDescriptors:!0,enablePRK:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};e.nz && 139 <= e.ku && (h=Object.assign(Object.assign({},h),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,enableFullHdForHWDRM:!0,keySystemList:[f.ub.W9a,f.ub.jga],logKeySystemHasHwdrmAvailable:!0}));(e.nz || e.MB) && 125 <= e.ku && (h=Object.assign(Object.assign({},h),{enableFullHdForSWDRM:!0,enableAV1:!0}));134 <= e.ku && (h=Object.assign(Object.assign({},h),{enableMediaCapabilities:!0}));return h;};d=a(56800);n=a(75568);c=a(88195);g=a(64232);f=a(17612);},64232:function(t,b,a){var n,c,g,f;function d(e,h){var l,k,m,p,r,q;l=e.EF;k=e.bY;e=e.KY;m=h.EF;p=h.bY;h=h.KY;r=void 0 === l || void 0 === m;q=r || void 0 === k || void 0 === p;return r || l > m || l === m && (q || k > p) || l === m && k === p && (q || void 0 === e || void 0 === h || e >= h);}Object.defineProperty(b,"__esModule",{value:!0});b.Eub=function(e,h,l,k){return d({EF:e.txc,bY:e.uxc,KY:e.vxc},{EF:h,bY:l,KY:k});};b.hub=function(e,h){return d({EF:e.ku},{EF:h});};b.b0c=d;b.U6=function(){return {version:"6.0052.501.911",Toa:!0,yW:!0,Vlb:["en-US"],cRa:"",Q5:"cadmium",bLb:!0,CGa:!0};};b.T6=function(){return {$H:(0,f.ig)([g.Ic.Bn,g.Ic.rD,g.Ic.Gn]),Jh:(0,f.ig)([].concat(za(g.mc.u0),za(g.mc.Y_))),io:(0,f.ig)([].concat(za(g.mc.X_))),Uw:c.ub.jga,GF:(0,n.ac)(31E3)};};n=a(5021);c=a(17612);g=a(75568);f=a(88195);},20447:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.mjc=function(f){return Object.assign(Object.assign({},(0,g.U6)()),{zw:"O",Ds:f.$ma?"NFCDOP-AP-":f.j8?"NFCDOP-AT-":f.sP?"NFCDOP-PH-":"NFCDOP-01-",vI:"opera-cadmium"});};b.kjc=function(f){var e,h,l,k,m,p;e=(0,g.T6)();h=Object.assign(Object.assign({},e),{RV:!0,kB:!0,DI:!0,gS:!0});l=[n.H.$G,n.H.YG];k=[n.H.QS];m={minimumCores:3};p={minimumCores:5};f.MB?(h.Jh=[].concat(za((0,c.Iz).apply(null,[e.Jh].concat(za(l)))),za((0,c.ig)([n.H.Cv,n.H.Dv].concat(za(l),[n.H.Ev,n.H.Fv]),m))),h.io=[].concat(za((0,c.Iz).apply(null,[e.io].concat(za(k)))),za((0,c.ig)([].concat(za(k)),m)))):(h.Jh=[].concat(za((0,c.Iz).apply(null,[e.Jh].concat(za(l)))),za((0,c.ig)([n.H.Cv,n.H.Dv].concat(za(l),[n.H.Ev,n.H.Fv]),p))),h.io=[].concat(za((0,c.Iz).apply(null,[e.io].concat(za(k)))),za((0,c.ig)([].concat(za(k)),p))));return h;};b.ljc=function(f){var e;e={droppedFrameRateFilterEnabled:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:d.uq.HS,preciseSeeking:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0,enableFullHdForSWDRM:!0};67 <= f.ku && (e=Object.assign(Object.assign({},e),{enableAV1:!0,enablePRK:!0}));return e;};d=a(56800);n=a(75568);c=a(88195);g=a(64232);},22224:function(t,b,a){var n,c,g,f,e,h;function d(){return Object.assign(Object.assign({},(0,h.T6)()),{$H:(0,e.ig)([f.Ic.Bn,f.Ic.rD,f.Ic.Gn]),Jh:(0,e.ig)([].concat(za(f.mc.u0),za(f.mc.Y_),za(f.mc.v0),za(f.mc.CS),za(f.mc.DS),za(f.mc.AS),za(f.mc.BS),za(f.mc.z1a),za(f.mc.A1a),za(f.mc.Bva),za(f.mc.FNb))),io:(0,e.ig)([].concat(za(f.mc.X_),za(f.mc.Dda),za(f.mc.Cda))),Uw:g.ub.APb,GF:(0,n.ac)(31E3)});}Object.defineProperty(b,"__esModule",{value:!0});b.ikc=function(l){return Object.assign(Object.assign({},(0,h.U6)()),{zw:"S",Ds:l.sP?"NFCDSF-PH-":"NFCDSF-01-",vI:"safari-cadmium"});};b.dic=function(l){return Object.assign(Object.assign({},d(l)),{Ota:!0,VV:!1,mA:[f.rq.iga]});};b.gkc=d;b.hkc=function(l){var k;k={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,logUnexpectedRewindDelay:0,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:c.uq.jD,enableSeamless:!0,enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,enableMissingSegmentsReplacement:!1,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0,enableLdlPrefetch:!0};(0,h.Eub)(l,10,15,5) && (k=Object.assign(Object.assign({},k),{useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,h.Eub)(l,10,15,6) && (k=Object.assign(Object.assign({},k),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,h.hub)(l,16) && (k=Object.assign(Object.assign({},k),{enableAV1:!0}));(0,h.hub)(l,16) && !l.sP && (k=Object.assign(Object.assign({},k),{enableXHEAAC:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));return k;};n=a(5021);c=a(56800);g=a(17612);f=a(75568);e=a(88195);h=a(64232);},89397:function(t,b,a){var g,f,e,h,l,k,m,p,r;function d(q,u){this.Be=q;this.iz=u;}function n(q,u){var v;v=f.bBa.call(this) || this;q.sP?Object.assign(v,(0,p.dic)(q)):q.hna?Object.assign(v,(0,m.Phc)(q)):q.RPa?Object.assign(v,(0,k.kjc)(q)):q.p8 || q.BPa?Object.assign(v,(0,l.yhc)(u)):q.qna?Object.assign(v,(0,p.gkc)(q)):Object.assign(v,(0,h.Xgc)(q));return v;}function c(q){this.data=q.hna?(0,m.Rhc)(q):q.RPa?(0,k.mjc)(q):q.p8 || q.BPa?(0,l.Ahc)(q):q.qna?(0,p.ikc)(q):(0,h.Zgc)(q);}Object.defineProperty(b,"__esModule",{value:!0});b.zva=b.yva=b.xva=void 0;t=a(22970);g=a(22674);f=a(27081);e=a(22816);h=a(25066);l=a(30837);k=a(20447);m=a(54534);p=a(22224);a=a(83767);Ga.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Toa:{configurable:!0,enumerable:!0,get:function(){return this.data.Toa;}},zw:{configurable:!0,enumerable:!0,get:function(){return this.data.zw;}},Ds:{configurable:!0,enumerable:!0,get:function(){return this.data.Ds;}},yW:{configurable:!0,enumerable:!0,get:function(){return this.data.yW;}},vI:{configurable:!0,enumerable:!0,get:function(){return this.data.vI;}},Vlb:{configurable:!0,enumerable:!0,get:function(){return this.data.Vlb;}},cRa:{configurable:!0,enumerable:!0,get:function(){return this.data.cRa;}},Q5:{configurable:!0,enumerable:!0,get:function(){return this.data.Q5;}},bLb:{configurable:!0,enumerable:!0,get:function(){return this.data.bLb;}},CGa:{configurable:!0,enumerable:!0,get:function(){return this.data.CGa;}}});r=c;b.xva=r;b.xva=r=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(e.zS))],r);Ia(n,f.bBa);r=n;b.yva=r;b.yva=r=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(e.zS)),t.__param(1,(0,g.l)(a.YL))],r);d.prototype.apply=function(){this.Be.hna?Object.assign(this,(0,m.Qhc)(this.Be)):this.Be.RPa?Object.assign(this,(0,k.ljc)(this.Be)):this.Be.p8 || this.Be.BPa?Object.assign(this,(0,l.zhc)(this.Be,this.iz)):this.Be.qna?Object.assign(this,(0,p.hkc)(this.Be)):Object.assign(this,(0,h.Ygc)(this.Be));return this;};r=d;b.zva=r;b.zva=r=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(e.zS)),t.__param(1,(0,g.l)(a.YL))],r);},88351:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;t=a(22674);d=a(91581);n=a(5614);c=a(52033);g=a(89397);b.platform=new t.je(function(f){f(d.Yr).to(g.xva).pa();f(n.vT).to(g.yva);f(c.S9a).to(g.zva);});},80966:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fua={QZb:"adStart",Zfb:"adProgress",NVc:"adComplete",RZb:"adStop"};b.E_a={xha:"adBreakComplete",KVc:"adBreakStart",LVc:"adBreakStop"};b.Lua={error:"error",Kdc:"exit",XJb:"unload"};b.M_a="AdImpressionLoggerrFactorySymbol";},70068:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Iua=b.EQb=b.GMb=void 0;d=a(45247);Object.defineProperty(b,"AdBreakResult",{enumerable:!0,get:function(){return d.GMb;}});Object.defineProperty(b,"IPlayerControlState",{enumerable:!0,get:function(){return d.EQb;}});b.Iua="AdManagerFactorySymbol";},1200:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.c0="AdTrackerBaseSymbol";},25540:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.W_a="AdFocusMonitorSymbol";},69377:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y_a="AdvertsMismatchLoggerSymbol";},12826:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z0a="BandwidthMeterFactorySymbol";},65945:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma,R,M,V,ba,ha,ca,la,ra,ta,ja,W,ea,ka,pa,qa,na,Aa,Ha,oa,wa,ya;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;t=a(22674);d=a(77601);n=a(78388);c=a(18181);g=a(12826);f=a(31085);e=a(41106);h=a(51038);l=a(24722);k=a(27104);m=a(4203);p=a(81918);r=a(90597);q=a(42207);u=a(87386);v=a(65090);w=a(61861);x=a(37025);y=a(5021);A=a(89561);z=a(25837);B=a(65106);C=a(13889);D=a(15160);F=a(92205);H=a(52200);E=a(45842);G=a(74870);K=a(95162);N=a(33554);I=a(2160);L=a(67650);O=a(25138);J=a(77134);Q=a(34231);P=a(93367);S=a(82557);Y=a(85405);X=a(56800);T=a(39551);U=a(69334);Z=a(70068);aa=a(89540);da=a(30869);fa=a(49917);ma=a(80966);R=a(72160);M=a(54952);V=a(97635);ba=a(74834);ha=a(25540);ca=a(38508);la=a(30873);ra=a(78312);ta=a(53085);ja=a(63013);W=a(14177);ea=a(56386);ka=a(1200);pa=a(24711);qa=a(13673);na=a(31099);Aa=a(67590);Ha=a(6823);oa=a(95735);wa=a(69377);ya=a(79785);b.j=new t.je(function(ua){ua(L.nBa).to(O.mBa).pa();ua(Y.q0a).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja,Ka){return new (a(92720).Wya)(Ja,Ka,Ca.get(r.iD),Ca.get(D.Rda),Ca.get(Aa.gva));};});ua(d.ocb).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja,Ka,La,Oa,Na,Qa,Ra,Va,Xa){return new (a(37517).z)(Ca.get(A.rcb),Ja,Ka,La,Oa,Na,Qa,Ra,Va,Xa);};});ua(A.rcb).to(z.iDa).pa();ua(n.qcb).to(c.hDa).pa();ua(h.b$a).to(l.kBa).pa();ua(V.Yab).to(ba.wCa).pa();ua(wa.Y_a).to(ya.Pua).pa();ua(P.nab).to(S.aCa);ua(P.mab).$Ib(P.nab);ua(e.P2a).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja){return new (a(11372).lxa)(Ca.get(D.O2a),Ca.get(r.iD),Ca.get(p.Sd),Ja);};});ua(g.Z0a).Kf(function(){return function(xa){return new f.$0a(xa);};});ua(T.rBa).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja){return new U.sBa(Ja,Ca.get(u.wb),Ca.get(q.ei));};});ua(ma.M_a).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja){return new R.Gua(Ja,Ca.get(u.wb).qb("AdImpressionLogger"),Ca.get(da.di),Ca.get(m.Cc),Ca.get(p.Sd),Ca.get(fa.Eua),Ca.get(fa.Cua));};});ua(ha.W_a).to(ca.Mua);ua(ka.c0).to(ja.Jua);ua(ka.c0).to(ea.Kua);ua(ka.c0).to(pa.Nua);ua(ka.c0).to(W.Oua);ua(Z.Iua).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja,Ka){return new aa.Q_a(Ja,Ka,Ca.get(u.wb).qb("AdManager"),Ca.get(m.Cc),Ca.get(V.Yab),Ca.get(wa.Y_a),Ca.getAll(ka.c0),Ca.get(ma.M_a),function(La){return new M.P_a(La);},Ca.get(ha.W_a));};});ua(v.X9a).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja){return new k.dBa(Ja,Ca.get(u.wb),Ca.get(m.Cc),Ca.get(q.ei),Ca.get(r.iD),Ca.get(T.rBa));};});ua(la.y6a).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja,Ka){return new ra.z6a(Ca.get(m.Cc),Ca.get(qa.A6a),Ca.get(ta.Pk),Ca.get(u.wb),Ja,Ka);};});ua(qa.A6a).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja){return new na.B6a(Ca.get(m.Cc),Ca.get(u.wb),Ca.get(E.rH),Ja);};});ua(w.pBa).Kf(function(xa){var Ca;Ca=xa.Hb;return function(Ja,Ka,La,Oa,Na,Qa,Ra,Va,Xa,mb,nb,eb){return new x.h$a(Ja,Ka,La,Oa,Na,Qa,Ra,Va,Xa,Ca.get(v.X9a),Ca.get(L.nBa),Ca.get(la.y6a),mb,nb,eb);};});ua(B.Uab).Kf(function(xa){return function(Ca){var Ja,Ka;Ja=xa.Hb.get(m.Cc);Ka=xa.Hb.get(u.wb);return new C.Vab(Ja,Ca,Ka);};});ua(F.d$a).Kf(function(xa){return function(Ca){var Ja,Ka,La,Oa,Na;Ja=xa.Hb.get(N.uA);Ka=xa.Hb.get(E.rH);La=xa.Hb.get(G.Il);Oa=xa.Hb.get(K.HCa);Na=xa.Hb.get(X.KS);return new H.e$a(Ca,Ja,Ka((0,y.ci)(1)),La,Oa,Na);};});ua(I.Eza).gL(function(xa){return new (a(51149).Dza)(xa.Hb.get(J.i2),xa.Hb.get(Q.Vr));}).pa();ua(Ha.Gea).to(oa.Tya).pa();});},41106:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.P2a="DiagnosticsFactorySymbol";},30873:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rx={C2:"START_SLATE",oya:"LIVE_EVENT",Iwa:"END_SLATE"};b.y6a="LivePlaybackManagerFactorySymbol";},13673:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.A6a="LivePlaybackRateControllerFactorySymbol";},6823:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.S1={};t[t.y4a=1]="HIGH";t[t.MEDIUM=2]="MEDIUM";t[t.U1=3]="LOW";b.Gea="LowNetworkActivityManagerSymbol";},45526:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eza="MilestonesEventBuilderSymbol";},65090:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.X9a="PlayTimeTrackerFactorySymbol";},51038:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.b$a="PlaybackFactorySymbol";},92205:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.d$a="PlaybackInfoPanelFactorySymbol";},67650:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nBa="PlaybackMilestoneStoreSymbol";},61861:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pBa="PlaybackSegmentDataFactorySymbol";},39551:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rBa="PlayedSegmentsTrackerFactorySymbol";},93367:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nab="RepositionTraceSymbol";b.mab="RepositionTraceFactorySymbol";},65106:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uab="SeekManagerFactorySymbol";},97635:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yab="SegmentDroppedLoggerSymbol";},94025:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.ey={};t[t.Uea=0]="NOT_LOADED";t[t.LOADING=1]="LOADING";t[t.aM=2]="LOADED";t[t.T1=3]="LOAD_FAILED";t[t.T8a=4]="PARSE_FAILED";},77601:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ocb="TrickPlayFactorySymbol";},78388:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qcb="TrickPlayManagerSymbol";},89561:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rcb="TrickPlayParserSymbol";},72160:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r,q,u,v){this.context=k;this.log=m;this.Ia=p;this.config=r;this.Oa=q;this.OZb=u;this.HZb=v;this.MWa={};this.zp=new Set();this.LQa=Math.floor(Math.random() * this.config().LQa);}Object.defineProperty(b,"__esModule",{value:!0});b.Gua=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(30869);f=a(5021);e=a(4203);h=a(49917);l=a(80966);d.prototype.FFc=function(k,m,p){var r,q,u,v,w;r=this;u=k.event;if(Object.values(l.E_a).includes(u)){v=m.rF?m.rF.la(f.wa):-1;w={href:m.U.ho.JW("events").href,Jf:m.U.ya.Jf,Ha:this.context.Ha.toString(),event:u,YA:k.YA,fb:k.fb,au:k.au,VE:k.VE,$Fa:k.b4,position:k.Ah.offset.G,rl:v,jC:{},BE:this.Ia.oG.la(f.wa),appId:this.config().appId || this.Oa.id,sessionId:this.config().sessionId || this.Oa.id,UFa:k.UFa,J$:k.J$,TFa:k.TFa,jRa:null === (q=m.U) || void 0 === q?void 0:q.ya.Zd};this.Pnb(m,p,function(){r.HZb.Se({log:r.log,J:m.R},w).catch(function(x){r.log.error("Failed to send event",{eventKey:u,xid:m.Ha,error:x});});});}else this.log.debug("Ignoring unsupported event " + k.event);};d.prototype.GFc=function(k,m,p,r){var q,u,v,w,x,y;q=this;v=k.event;if(Object.values(l.Fua).includes(v)){w=k.U.links.events.href;x=k.U.Jf;this.MWa[k.rl] || (this.MWa[k.rl]=this.Ia.T_b((0,f.ac)(k.rl)).la(f.wa));y={href:w,Jf:x,Ha:this.context.Ha.toString(),event:v,YA:k.YA,fb:k.fb,au:k.au,VE:k.VE,$Fa:k.b4,position:k.Ah.offset.G,bGa:k.bGa,rl:this.MWa[k.rl],jC:k.jC,BE:this.Ia.oG.la(f.wa),appId:this.config().appId || this.Oa.id,sessionId:this.config().sessionId || this.Oa.id,jRa:null === (u=m.U) || void 0 === u?void 0:u.ya.Zd,zKc:null !== p && void 0 !== p?p:void 0};this.Pnb(m,r,function(){q.OZb.Se({log:q.log,J:m.R},y).catch(function(A){q.log.error("Failed to send event",{eventKey:v,xid:q.context.Ha,error:A});});});}else this.log.debug("Ignoring unsupported event " + k.event);};d.prototype.gfc=function(){this.zp.forEach(function(k){k();});};d.prototype.Pnb=function(k,m,p){var r,q,u;r=this;k=k.Fc.xa && !m?this.LQa:0;if(0 < k){q=function(){Ba.clearTimeout(u);r.zp.delete(q);p();};u=Ba.setTimeout(q,k);this.zp.add(q);}else p();};a=d;b.Gua=a;b.Gua=a=t.__decorate([t.__param(2,(0,n.l)(g.di)),t.__param(3,(0,n.l)(e.Cc)),t.__param(4,(0,n.l)(c.Sd)),t.__param(5,(0,n.l)(h.Eua)),t.__param(6,(0,n.l)(h.Cua))],a);},54952:function(t,b){function a(m){this.Nc=m;}function d(m){this.padding=m;}function n(m){this.Sg=m;}function c(m){this.Ah=m;}function g(m){this.Tqa=m;}function f(m){this.uUa=m;}function e(m){this.tUa=m;}function h(m){this.iE=m;}function l(m){this.oK=m;}function k(m){this.Oc=m;}Object.defineProperty(b,"__esModule",{value:!0});b.JMb=b.ITb=b.IMb=b.KPb=b.ZTb=b.$Tb=b.YTb=b.HMb=b.XTb=b.P_a=void 0;k.prototype.getPresentingAdBreak=function(){var m;m=this.Oc.EB();if(m)return new l(m);};k.prototype.getPlayerControlState=function(){var m;m=this.Oc.o7();return {seekEnabled:m.mG,playPauseEnabled:m.YF,languageSelectionEnabled:m.wF};};k.prototype.getAds=function(){return this.Oc.cF();};k.prototype.getLogInfo=function(){return this.Oc.Lqb();};b.P_a=k;Ga.Object.defineProperties(l.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new h(this.oK.Qa);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var m;m=this.oK.RH;if(m)return new e(m);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var m;m=this.oK.tTa;if(m)return new f(m);}},progress:{configurable:!0,enumerable:!0,get:function(){return new g(this.oK.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new c(this.oK.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.oK.index;}}});b.XTb=l;Ga.Object.defineProperties(h.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new n(this.iE.Sg);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new d(this.iE.Nsa);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new d(this.iE.e6);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.iE.bmc;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.iE.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.iE.cqa.G};}},type:{configurable:!0,enumerable:!0,get:function(){return this.iE.type;}},segmentationTypeId:{configurable:!0,enumerable:!0,get:function(){return this.iE.rn;}},isPreroll:{configurable:!0,enumerable:!0,get:function(){return this.iE.oX;}}});b.HMb=h;Ga.Object.defineProperties(e.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.tUa.Nc);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.tUa.Zfb;}},index:{configurable:!0,enumerable:!0,get:function(){return this.tUa.index;}}});b.YTb=e;Ga.Object.defineProperties(f.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.uUa.fqa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.uUa.Mxc;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.uUa.cqa.G};}}});b.$Tb=f;Ga.Object.defineProperties(g.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.Tqa.LZb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Tqa.Rfb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Tqa.NZb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Tqa.MZb.G};}}});b.ZTb=g;Ga.Object.defineProperties(c.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Ah.L;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Ah.offset.G};}}});b.KPb=c;Ga.Object.defineProperties(n.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.Sg.jc.map(function(m){return new a(m);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Sg.duration.G};}},type:{configurable:!0,enumerable:!0,get:function(){return this.Sg.type;}},segmentationTypeId:{configurable:!0,enumerable:!0,get:function(){return this.Sg.rn;}},isPreroll:{configurable:!0,enumerable:!0,get:function(){return this.Sg.oX;}}});b.IMb=n;Ga.Object.defineProperties(d.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.ITb=d;Ga.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.Nc.zk;}},id:{configurable:!0,enumerable:!0,get:function(){return this.Nc.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Nc.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Nc.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.Nc.iX;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.Nc.o_;}},uiComponent:{configurable:!0,enumerable:!0,get:function(){return this.Nc.hZa;}}});b.JMb=a;},89540:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p,r,q,u,v,w,x){var y;y=this;this.Xa=l;this.j=k;this.log=m;this.config=p;this.rFc=r;this.Z_b=q;this.HIb=u;this.Xo=new n.tc(!1);this.$b=new e.Bl();this.zia=!1;this.l$=function(){y.zia=!0;y.bu.gfc();h.oe.removeListener(h.cn,y.l$);};this.lO=w(this);l=l.Wm();this.bu=v({Ha:k.Ha.toString()});v=null === l || void 0 === l?void 0:l.ft.events;null === v || void 0 === v?void 0:v.addListener("adPresenting",function(){!1;y.lob();});null === v || void 0 === v?void 0:v.addListener("adBreakPresenting",function(A){!1;!1;y.Uga=A.presentingInfo.Qa.type;"embedded" === y.Uga || y.j.lna() || x.eY(k);y.Xo.set(!0);});null === v || void 0 === v?void 0:v.addListener("adBreakEnded",function(){!1;y.Xo.set(!1);});null === v || void 0 === v?void 0:v.addListener("adPlaygraphUpdated",function(){!1;});null === v || void 0 === v?void 0:v.addListener("segmentDropped",function(A){var z;!1;z=y.j.el(A.segmentId);y.rFc.eBc(A,z);});null === v || void 0 === v?void 0:v.addListener("advertsMismatch",function(A){!1;y.Z_b.SAc(A,y.j.ea);});this.dv=new g.qfa();this.j.addEventListener("playbackStart",function(){y.dv.resolve();});v=null === l || void 0 === l?void 0:l.kP.events;null === v || void 0 === v?void 0:v.addListener("adEvent",function(A){y.dv.promise.then(function(){var z,B;A.event === c.Fua.QZb && y.HIb.forEach(function(C){return C.start(y.j);});z=y.Qkc(A);if(A.event === c.Fua.RZb && z){B=y.zia?c.Lua.XJb:k.mj?c.Lua.error:c.Lua.Kdc;z=Object.assign(Object.assign({},z),{reason:B});}y.bu.GFc(A,k,z,y.zia);});});null === v || void 0 === v?void 0:v.addListener("adBreakEvent",function(A){A.event === c.E_a.xha && y.$b.bd(f.Hua.xha);y.dv.promise.then(function(){y.bu.FFc(A,k,y.zia);});});h.oe.addListener(h.cn,this.l$);}Object.defineProperty(b,"__esModule",{value:!0});b.Q_a=void 0;n=a(81734);c=a(80966);g=a(94293);f=a(85001);e=a(94886);h=a(37509);d.prototype.addEventListener=function(l,k,m){this.$b.addListener(l,k,m);};d.prototype.removeEventListener=function(l,k){this.$b.removeListener(l,k);};d.prototype.EB=function(){var l,k;if(this.CKa)return null === (k=null === (l=this.Xa) || void 0 === l?void 0:l.Wm()) || void 0 === k?void 0:k.pn.oK;};d.prototype.o7=function(){var l,k;return (null === (k=null === (l=this.Xa) || void 0 === l?void 0:l.Wm()) || void 0 === k?void 0:k.ft.o7()) || ({mG:void 0,YF:void 0,wF:void 0});};d.prototype.Lqb=function(){var l,k,m,p;m=this.EB();if(m){p={position:null === m || void 0 === m?void 0:m.position.offset.G,adDuration:null === (l=null === m || void 0 === m?void 0:m.RH) || void 0 === l?void 0:l.Nc.endTime.G,adIndex:null === (k=m.RH) || void 0 === k?void 0:k.index,adBreakIndex:m.index,adBreakDuration:null === m || void 0 === m?void 0:m.Qa.duration.G};(l=m.tTa) && (p.padding={type:l.fqa,duration:l.cqa.G});return p;}};d.prototype.cF=function(){var l,k,m,p,r;if(!this.CKa)return [];p=this.j.ea.R.toString();r=null === (k=null === (l=this.Xa) || void 0 === l?void 0:l.Wm()) || void 0 === k?void 0:k.ft.cF({NG:[p]});return null !== (m=null === r || void 0 === r?void 0:r.result[p]) && void 0 !== m?m:[];};d.prototype.lob=function(){};d.prototype.Qkc=function(l){var k;k=this.HIb.reduce(function(m,p){return Object.assign(Object.assign({},m),p.ema(l));},{});return Object.assign(Object.assign({},k),{thirdPartyVerificationToken:l.o_});};Ga.Object.defineProperties(d.prototype,{CKa:{configurable:!0,enumerable:!0,get:function(){var l;return this.Uga?this.config().nnb || "embedded" !== this.Uga:(null === (l=this.j.Fc) || void 0 === l?0:l.xa)?this.config().nnb:!0;}},uQa:{configurable:!0,enumerable:!0,get:function(){return this.Uga;}}});b.Q_a=d;},63013:function(t,b,a){var n,c,g,f,e;function d(h,l){var k;k=e.yn.call(this) || this;k.Oa=h;k.paused=!1;k.ow=function(){var m,p,r;p=k.Oc.Xo.value;r=k.Oc.EB();p && r?(p=null === (m=r.RH) || void 0 === m?void 0:m.Nc.id,m=k.paused,k.paused=k.j.paused.value,m !== k.paused && (k.paused?(k.qqa=k.Oa.uc(),k.c4=r.position.offset.G,k.ta.debug("Ad " + p + " paused at " + k.c4 + " ms into the ad")):void 0 !== k.qqa && void 0 !== k.c4 && (r=k.Oa.uc().ca(k.qqa).la(f.wa),k.ta.debug("Ad " + p + " resumed. Pause duration: " + r),k.trace.push([k.c4,r]),k.c4=void 0,k.qqa=void 0))):k.unsubscribe();};k.ta=l.qb("AdPauseStateTracker");return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Jua=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(87386);f=a(5021);e=a(87144);Ia(d,e.yn);d.prototype.start=function(h){e.yn.prototype.start.call(this,h);this.OB || (this.j.paused.addListener(this.ow),this.OB=!0);};d.prototype.ema=function(){return {pauseTrace:this.trace};};d.prototype.Haa=function(){this.c4=void 0;this.paused=this.j.paused.value;this.qqa=void 0;this.trace=[];};d.prototype.unsubscribe=function(){e.yn.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.ow);};a=d;b.Jua=a;b.Jua=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Sd)),t.__param(1,(0,n.l)(g.wb))],a);},56386:function(t,b,a){var n,c,g,f,e;function d(h,l){var k;k=e.yn.call(this) || this;k.GJa=l;k.cEc=function(){0 === k.trace.length?k.ow():k.aLa.Vf(function(){k.ow();});};k.ow=function(){var m,p,r,q;m=k.Oc.Xo.value;p=k.Oc.EB();if(m && p){(m=k.trace[k.trace.length - 1]) && m[0] === p.position.offset.G && k.trace.pop();m=k.trace[k.trace.length - 1];r=k.j.st.getBoundingClientRect();q=r.height;r=r.width;0 < q && 0 < r && (!m || m[1] !== r || m[2] !== q) && k.trace.push([p.position.offset.G,r,q]);}else k.unsubscribe();};k.ta=h.qb("AdResizeTracker");k.aLa=l((0,f.ci)(1));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Kua=void 0;t=a(22970);n=a(22674);c=a(34043);g=a(87386);f=a(5021);e=a(87144);Ia(d,e.yn);d.prototype.start=function(h){e.yn.prototype.start.call(this,h);this.OB || (this.Czb=new ResizeObserver(this.cEc),this.Czb.observe(this.j.st),this.OB=!0);};d.prototype.ema=function(){return {resizeTrace:this.trace.slice(1)};};d.prototype.Haa=function(){this.trace=[];};d.prototype.unsubscribe=function(){var h;e.yn.prototype.unsubscribe.call(this);null === (h=this.Czb) || void 0 === h?void 0:h.disconnect();};a=d;b.Kua=a;b.Kua=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.wb)),t.__param(1,(0,n.l)(c.Qda))],a);},87144:function(t,b){function a(){var d;d=this;this.OB=!1;this.trace=[];this.yja=function(){d.aLa.Vf(function(){d.ow();});};}Object.defineProperty(b,"__esModule",{value:!0});b.yn=void 0;a.prototype.start=function(d){var n;n=this;this.j=d;this.Oc=this.j.Wm();this.OB || (this.Oc.Xo.addListener(this.ow),this.j.addEventListener("closing",function(){return n.unsubscribe();}));this.Haa();};a.prototype.unsubscribe=function(){this.Oc.Xo.removeListener(this.ow);this.OB=!1;this.Haa();};b.yn=a;},38508:function(t,b,a){var n,c;function d(g){var f;f=this;this.FN=function(){var e,h,l;h=!document.hidden;l=null === (e=f.j.Wm()) || void 0 === e?void 0:e.Xo.value;e=f.j.paused.value;h || !l || e || (f.ta.debug("Pausing playback because window is not visible"),f.j.paused.set(!0,{Gz:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",f.FN);f.j.Wm().Xo.removeListener(f.FN);f.j.paused.removeListener(f.FN);};this.ta=g.qb("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.Mua=void 0;t=a(22970);n=a(22674);a=a(87386);d.prototype.eY=function(g){this.luc || (this.ta.debug("Starting to monitor playback for visibility"),this.j=g,this.luc=!0,document.addEventListener("visibilitychange",this.FN),this.j.Wm().Xo.addListener(this.FN),this.j.paused.addListener(this.FN),this.j.addEventListener("closing",this.unsubscribe),this.FN());};c=d;b.Mua=c;b.Mua=c=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.wb))],c);},24711:function(t,b,a){var n,c,g;function d(f){var e;e=g.yn.call(this) || this;e.BRa=0;e.tlb=[0];e.TP=[0];e.visibility=0;e.ow=function(){var h,l;h=e.Oc.Xo.value;l=e.Oc.EB();h && l?(h=e.visibility,e.visibility=document.hidden?0:1,h !== e.visibility && (1 === e.visibility?(e.BRa=e.visibility,e.voa=l.position.offset.G):(l=l.position.offset.G - (e.voa || 0),l > e.TP[0] && (e.TP[0]=l),e.voa=void 0))):e.unsubscribe();};e.ta=f.qb("AdVisibilityTracker");return e;}Object.defineProperty(b,"__esModule",{value:!0});b.Nua=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(87144);Ia(d,g.yn);d.prototype.start=function(f){g.yn.prototype.start.call(this,f);this.OB || (document.addEventListener("visibilitychange",this.ow),this.OB=!0);};d.prototype.ema=function(f){var e,h,l;h=this.j.st.getBoundingClientRect();l=h.height;h=h.width;"adStart" === f.event && (l=0 === l?document.documentElement.clientHeight:l,h=0 === h?document.documentElement.clientWidth:h);f=f.Ah.offset.G - (null !== (e=this.voa) && void 0 !== e?e:0);f > this.TP[0] && (this.TP[0]=f);e=document.fullscreenElement?!0:screen.height === Ba.outerHeight && screen.width === Ba.outerWidth;this.tlb=this.TP;return {cumulativeTimeByVisibilityMs:this.tlb,maxContinuousTimeByVisibilityMs:this.TP,visibility:this.visibility,maxVisibility:this.BRa,screenHeight:screen.height,screenWidth:screen.width,adHeight:l,adWidth:h,fullScreen:e};};d.prototype.Haa=function(){this.voa=void 0;this.TP=[0];this.BRa=this.visibility=document.hidden?0:1;};d.prototype.unsubscribe=function(){g.yn.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.ow);};a=d;b.Nua=a;b.Nua=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb))],a);},14177:function(t,b,a){var n,c,g,f,e;function d(h,l){var k;k=e.yn.call(this) || this;k.Vg=h;k.GJa=l;k.ow=function(){var m,p;m=k.Oc.Xo.value;p=k.Oc.EB();m && p?(m=k.trace[k.trace.length - 1],p=p.position.offset.G,m && m[0] === p && k.trace.pop(),(m=k.trace[k.trace.length - 1]) && m[1] === k.j.BV || k.trace.push([p,k.j.BV])):k.unsubscribe();};k.ta=h.qb("AdVolumeTracker");k.aLa=l((0,f.ci)(1));return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Oua=void 0;t=a(22970);n=a(22674);c=a(34043);g=a(87386);f=a(5021);e=a(87144);Ia(d,e.yn);d.prototype.start=function(h){e.yn.prototype.start.call(this,h);this.OB || (this.j.volume.addListener(this.yja),this.j.muted.addListener(this.yja),this.OB=!0);};d.prototype.ema=function(){return {volumeChangeTrace:this.trace,volume:this.j.BV};};d.prototype.Haa=function(){this.trace=[];};d.prototype.unsubscribe=function(){e.yn.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.yja);this.j.muted.removeListener(this.yja);};a=d;b.Oua=a;b.Oua=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.wb)),t.__param(1,(0,n.l)(c.Qda))],a);},79785:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Pua=void 0;t=a(22970);a=a(22674);d.prototype.SAc=function(c,g){g.JJ.eb.vGa({xid:g.Ha,playbackcontextid:g.Zd,pbcid:g.correlationId,manifestUnmatchedAdBreakLocations:c.manifestUnmatchedAdBreakLocations,mediaEventsUnmatchedAdBreakLocations:c.mediaEventsUnmatchedAdBreakLocations,sev:c.sev});};n=d;b.Pua=n;b.Pua=n=t.__decorate([(0,a.Y)()],n);},31085:function(t,b){function a(d){this.j=d;}Object.defineProperty(b,"__esModule",{value:!0});b.$0a=void 0;a.prototype.zKb=function(){var d;d=this.j.Xa;if(null !== d && void 0 !== d && d.SD){d=d.ed.get();if(null === d || void 0 === d?0:d.ph)this.j.ph=d.ph.Da;if(null === d || void 0 === d?0:d.ob)this.j.ob=d.ob.Da;}};a.prototype.ar=function(){-1 === this.j.ob && this.zKb();return this.j.ob;};a.prototype.r3b=function(d){-1 !== this.j.ph && -1 !== this.j.ob || this.zKb();return -1 === this.j.ph || -1 === this.j.ob?Number.MAX_VALUE:this.j.ph + 8 * d / this.j.ob;};b.$0a=a;},11372:function(t,b,a){var n;function d(c,g,f,e){this.cKa=c;this.debug=g;this.Oa=f;this.j=e;this.gqa=[];this.Poa={};this.fKa={};this.BLa=!1;this.CIb=1;this.V0a=7.8125;}b.lxa=void 0;n=a(5021);a(85001);a(32687);a(61726);d.prototype.register=function(c,g){this.debug.assert(!(0 <= this.gqa.indexOf(c)),"panel already registered");this.Poa[c]=g;this.gqa.push(c);};d.prototype.qzb=function(c){var g;g=this;this.fKa[c]=!0;this.BLa || (this.BLa=!0,setTimeout(function(){return g.Yec();},0));};d.prototype.Uic=function(c){return (c=this.Poa[c])?c():void 0;};d.prototype.b7=function(){var c;c=this.j.Bqa;return c?c.b7():[];};d.prototype.addEventListener=function(c,g){this.cKa.addListener(c,g);this.Poa[c] && this.qzb(c);};d.prototype.removeEventListener=function(c,g){this.cKa.removeListener(c,g);};d.prototype.getTime=function(){return this.Oa.uc().la(n.wa);};d.prototype.Yec=function(){this.BLa=!1;for(var c=this.gqa.length,g;c--;)(g=this.gqa[c],this.fKa[g] && (this.fKa[g]=!1,this.cKa.bd(g + "changed",{getModel:this.Poa[g]})));};b.lxa=d;},78312:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r,q,u,v){var w,x,y,A,z;w=this;this.config=m;this.nd=r;this.K=u;this.j=v;this.nP=new h.tc(!1);this.QGa=new h.tc(!1);this.Vm=this.Sj=void 0;this.vXa=!1;this.DO=void 0;this.log=q.qb("LivePlaybackManager");this.DO=this.config().nfc;x=this.config().OIc;y=this.config().nrc;this.vXa=(0,g.ec)(x) && (0,g.ec)(y);null === v || void 0 === v?void 0:v.addEventListener(f.ha.uo,function(){var B;if(w.xa && ((0,c.qa)(w.j && w.j.ea === w.K,"Unexpected playback segment on playbackReady"),w.config().scc && (w.FBb=p(function(C){(0,c.qa)(w.xa && w.j && w.j.ea === w.K,"Unexpected playback segment on playback rate update");w.K.playbackRate.value !== C && (w.K.playbackRate.set(C),w.j.fireEvent(f.ha.HJ));})),w.vXa)){B=w.Vy();A=w.nd.jR((0,n.ac)(500),function(){var C,D,F,H;C=w.Vy();F=B + x;C >= F - 500 && (D=w.UIa(F));F=B + x + y;if(C >= F - 500){H=w.UIa(F);null === A || void 0 === A?void 0:A.cancel();}w.SWa(D,H,!0);});}});null === v || void 0 === v?void 0:v.addEventListener(f.ha.Tg,function(){var B;w.xa && ((0,c.qa)(w.j && w.j.ea === w.K,"Unexpected playback segment on closing"),w.FBb=void 0,null === (B=w.T8) || void 0 === B?void 0:B.cancel(),w.T8=void 0,null === A || void 0 === A?void 0:A.cancel());});null === v || void 0 === v?void 0:v.addEventListener(f.ha.gG,function(B){w.xa && ((0,c.qa)(w.j && w.j.ea === w.K,"Unexpected playback segment on repositioning"),B.Ec !== f.Dc.Ov && B.Ec !== f.Dc.bT || w.nP.set((B.Ec === f.Dc.bT || w.config().wR) && !w.Gub()));});null === v || void 0 === v?void 0:v.addEventListener(f.ha.$Kb,function(){w.xa && ((0,c.qa)(w.j && w.j.ea === w.K,"Unexpected playback segment on userInitiatedPause"),w.nP.set(!1));});null === v || void 0 === v?void 0:v.background.addListener(function(){var B;w.xa && ((0,c.qa)(w.j && w.j.ea === w.K,"Unexpected playback segment on background update"),!w.j.background.value && w.Ls() && void 0 === w.DO && (w.tP()?null === (B=w.j.Qd) || void 0 === B?void 0:B.seek(w.Sj,f.Dc.Ov):w.Vaa()));});this.K.mediaTime.addListener(function(){var B,C,D,F,H,E;if(w.xa){(0,c.qa)(w.j && w.j.ea === w.K,"Unexpected playback segment on mediaTime update");F=w.j;w.Pia();H=z;E=null !== (B=w.K.Qq) && void 0 !== B?B:void 0;z=E;B=w.TI(H);H=w.TI(E);B !== H && (!1,F.fireEvent(f.ha.HJ));w.tP()?(null === (C=w.T8) || void 0 === C?void 0:C.cancel(),w.T8=void 0):w.T8 || (w.T8=w.nd.jR((0,n.ac)(1E3),function(){w.Pia();F.fireEvent(f.ha.HJ);}));null === (D=w.FBb) || void 0 === D?void 0:D.F_(w.j.zj.value && w.Ls(),E,w.Vy());w.config().hcc && w.Joc() && w.gpb();}});null === v || void 0 === v?void 0:v.zj.addListener(function(){w.xa && ((0,c.qa)(w.j && w.j.ea === w.K,"Unexpected playback segment on playing update"),w.config().icc && w.gpb());});this.nP.addListener(function(){(0,c.qa)(w.xa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.xa);(0,c.qa)(w.j && w.j.ea === w.K,"Playback is required for live.");w.Pia();});this.QGa.addListener(function(){(0,c.qa)(w.xa,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.xa);(0,c.qa)(w.j && w.j.ea === w.K,"Playback is required for live.");!1;w.j.fireEvent(f.ha.HJ);});}Object.defineProperty(b,"__esModule",{value:!0});b.z6a=void 0;n=a(5021);c=a(45146);g=a(32687);f=a(85001);e=a(30873);h=a(81734);l=a(45247);k=a(91176);d.prototype.CHc=function(){var m,p,r;(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");return this.config().qfc || (null !== (r=null === (p=null === (m=this.K.U) || void 0 === m?void 0:m.ya.Ti) || void 0 === p?void 0:p.xmb) && void 0 !== r?r:!1);};d.prototype.EUa=function(){var m;(0,c.qa)(this.xa,"Unexpected call to processManifest(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");(0,c.qa)(null === (m=this.K.U) || void 0 === m?void 0:m.ya.Ti,"Live manifest is unavailable.");m=this.K.U.ya.Ti;this.SWa(m.n6,m.dW);m=this.config().rfc;void 0 !== m && void 0 !== this.Sj && (this.DO=this.Sj + m);};d.prototype.SWa=function(m,p,r){var q,u,v,w,x;(0,c.qa)(this.xa,"Unexpected call to setLiveEventTimes(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");if(!this.vXa || r){r=this.j;v=this.Sj;w=this.Vm;x=null !== (q=this.wkb(m)) && void 0 !== q?q:v;q=null !== (u=this.wkb(p)) && void 0 !== u?u:w;if(void 0 === x && void 0 === q || void 0 !== x && 0 <= x && void 0 === q || void 0 !== x && 0 <= x && void 0 !== q && q > x){if((this.Sj=x,this.Vm=q,v !== this.Sj || w !== this.Vm))(!1,r.fireEvent(f.ha.HJ));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (m + ", startPts:") + (x + ", endTime:") + (p + ", endPts:") + q);}};d.prototype.hhc=function(){var m;(0,c.qa)(this.xa,"Unexpected call to getCurrentContentEventTime(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");m=this.K.Qq;if(null !== m)return this.UIa(m);};d.prototype.ihc=function(){var m,p,r;(0,c.qa)(this.xa,"Unexpected call to getCurrentSegmentNumber(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");(0,c.qa)(null === (m=this.K.U) || void 0 === m?void 0:m.ya.Ti,"Live manifest is unavailable.");m=this.K.Qq;if(null !== m){p=this.K.U.ya.Ti;r=p.lR[p.fka[this.K.U.ya.qA[0].streams[0].Vn]];p=Number(r.vHb);r=new l.I(r.duration,r.P);return p + Math.floor(m / r.G);}};d.prototype.gma=function(){var m;(0,c.qa)(this.xa,"Unexpected call to getUIAdjustedCurrentContentPts(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");m=this.K.Qq;if(null !== m)switch(this.TI(m)){case e.Rx.C2:return 0;case e.Rx.oya:return ((0,c.qa)(void 0 !== this.Sj,"eventStartPts should be defined in LIVE_EVENT slate."),m - this.Sj);case e.Rx.Iwa:return ((0,c.qa)(void 0 !== this.Sj && void 0 !== this.Vm,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Vm - this.Sj);}};d.prototype.MEb=function(m){var p,r;(0,c.qa)(this.xa,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");return void 0 === this.Sj?null !== (r=null !== (p=this.Vy()) && void 0 !== p?p:this.K.Qq) && void 0 !== r?r:m:this.Sj + m;};d.prototype.Sub=function(m){var p;(0,c.qa)(this.xa,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");p=this.Vy();return void 0 !== p && m >= p - this.config().Yqc;};d.prototype.VMa=function(m,p){var r,q,u;(0,c.qa)(this.xa,"Unexpected call to getLiveBookmark(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");if(void 0 !== this.DO)return {ap:this.DO,jK:Number.MAX_SAFE_INTEGER,Tlb:this.DO};this.config().wR && this.nP.set(!0);u=Number.MAX_SAFE_INTEGER;p || void 0 === this.Sj || void 0 === this.Vm && 0 === m?(this.nP.set(!0),m=u):(m=this.Sj + m,void 0 !== this.Vm && m > this.Vm && (m=this.Sj));return {ap:m,jK:null !== (r=this.Vm) && void 0 !== r?r:Number.MAX_SAFE_INTEGER,Tlb:null !== (q=this.Sj) && void 0 !== q?q:u};};d.prototype.NI=function(){var m,p,r;return Math.max(null !== (m=this.Vm) && void 0 !== m?m:0,null !== (p=this.Vy()) && void 0 !== p?p:0,null !== (r=this.K.Qq) && void 0 !== r?r:0);};d.prototype.esb=function(){var m;(0,c.qa)(this.xa,"Unexpected call to getLiveContentDuration(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");if(void 0 === this.Sj)return 0;m=this.K.Qq;return (void 0 !== this.Vm?this.Vm:this.kz() && null !== m?m:this.NI()) - this.Sj;};d.prototype.Oic=function(){var m;(0,c.qa)(this.xa,"Unexpected call to getMaxSeekPts(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");m=this.Vy();m=void 0 !== this.Vm && void 0 !== m?Math.min(this.Vm,m):m;!1;return null !== m && void 0 !== m?m:0;};d.prototype.Vy=function(){var m,p;(0,c.qa)(this.xa,"Unexpected call to getLiveEdge(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");return null === (p=null === (m=this.j.Xa) || void 0 === m?void 0:m.Ym(this.K.R)) || void 0 === p?void 0:p.G;};d.prototype.Vaa=function(){var m;(0,c.qa)(this.xa,"Unexpected call to seekToLiveEdge(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");this.nP.set(!this.Gub());if(this.j.Qd){m=this.Vy();void 0 !== m?this.j.Qd.seek(m,f.Dc.bT,this.K.L):!1;}else this.K.ap=this.VMa(0,!0).ap;};d.prototype.kz=function(){(0,c.qa)(this.xa,"Unexpected call to isAtLiveEdge(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");this.Pia();return this.QGa.value;};d.prototype.Ls=function(){(0,c.qa)(this.xa,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");return this.nP.value;};d.prototype.TI=function(m){var p,r,q;(0,c.qa)(this.xa,"Unexpected call to getLiveEventState(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");m=null !== (p=null !== m && void 0 !== m?m:this.K.Qq) && void 0 !== p?p:0;p=null !== (r=this.Sj) && void 0 !== r?r:Infinity;r=null !== (q=this.Vm) && void 0 !== q?q:Infinity;return m < p?e.Rx.C2:m > r?e.Rx.Iwa:e.Rx.oya;};d.prototype.tP=function(m){(0,c.qa)(this.xa,"Unexpected call to isLiveEventEnded(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");if(m)return void 0 !== this.Vm;m=this.Vy();return void 0 !== this.Vm && void 0 !== m && this.Vm < m;};d.prototype.Joc=function(){var m;(0,c.qa)(this.xa,"Unexpected call to isLiveEventStarted(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");m=this.Vy();return void 0 !== this.Sj && void 0 !== m && this.Sj < m;};d.prototype.Gub=function(){var m;(0,c.qa)(this.xa,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");return this.j.paused.value && !(null === (m=this.j.paused.Xl) || void 0 === m?0:m.Gz);};d.prototype.Pia=function(){var m;(0,c.qa)(this.xa,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");this.QGa.set(this.Ls() && this.Sub(null !== (m=this.K.Qq) && void 0 !== m?m:0));};d.prototype.gpb=function(){(0,c.qa)(this.xa,"Unexpected call to forceLiveEdgeInStartSlate(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");this.j.zj.value && this.TI() === e.Rx.C2 && !this.kz() && void 0 === this.DO && this.Vaa();};d.prototype.UIa=function(m){var p,r;(0,c.qa)(this.xa,"Unexpected call to convertPtsToEventTime(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");(0,c.qa)(null === (p=this.K.U) || void 0 === p?void 0:p.ya.Ti,"Live manifest is unavailable.");p=this.K.U.ya.Ti;r=new Date(p.lR[p.fka[this.K.U.ya.qA[0].streams[0].Vn]].wN).getTime();return new Date(r - p.Eka + m).toISOString();};d.prototype.wkb=function(m){var p,r,q;(0,c.qa)(this.xa,"Unexpected call to convertEventTimeToPts(). isLive:" + this.xa);(0,c.qa)(this.j && this.j.ea === this.K,"Playback is required for live.");(0,c.qa)(null === (p=this.K.U) || void 0 === p?void 0:p.ya.Ti,"Live manifest is unavailable.");if(m){p=this.K.U.ya.Ti;r=p.lR[p.fka[this.K.U.ya.qA[0].streams[0].Vn]];q=new Date(m).getTime() + p.Eka - new Date(r.wN).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (m + ", eventAvailabilityOffsetMs:") + (p.Eka + ", availabilityStartTime:") + r.wN);else return q;}};Ga.Object.defineProperties(d.prototype,{xa:{configurable:!0,enumerable:!0,get:function(){var m,p;m=this.K;p=m.U;m=m.We;return p?(0,k.Ow)(p.ya.Jf):"live" === m;}}});b.z6a=d;},31099:function(t,b,a){var n,c;function d(g,f,e,h){this.config=g;this.tsa=h;this.log=f.qb("LivePlaybackRateController");this.AKc=e((0,n.ac)(this.config().grc));}Object.defineProperty(b,"__esModule",{value:!0});b.B6a=void 0;n=a(5021);c=a(8825);d.prototype.F_=function(g,f,e){var h,l;h=this;if(!g || void 0 === f || void 0 === e || Math.abs(f - e) < this.config().hrc)l=1;else (g=e - f,g=1 + this.config().frc / 1E3 * g,l=(0,c.AD)(g,this.config().jrc,this.config().irc));this.AKc.Vf(function(){!1;h.tsa(l);});};b.B6a=d;},95735:function(t,b,a){var n,c,g,f;function d(){this.OM=!1;this.Yga=n.S1.U1;this.Dec=["chgstrm","debug","cdnsel","netstats","midplay"];}Object.defineProperty(b,"__esModule",{value:!0});b.Tya=void 0;t=a(22970);n=a(6823);c=a(22674);g=a(29204);f=a(45146);d.prototype.Bnb=function(e){var h,l,k,m;h=this;l=e.duration;k=e.lnaStartTime;m=e.level;(0,f.qa)(void 0 !== l && 0 < l,"Unexpected or undefined duration value");(0,f.qa)(void 0 !== k && 0 < k,"Unexpected or undefined start time value");e.platform && !e.platform.includes("web") || g.config.pfc || (this.Yga=null !== m && void 0 !== m?m:n.S1.U1,setTimeout(function(){h.OM=!0;h.Rnb({lnaStopTime:l});},k));};d.prototype.Rnb=function(e){var h,l;h=this;e=e.lnaStopTime;(0,f.qa)(void 0 !== e && 0 < e,"Unexpected or undefined stop time value");l=Math.floor(Math.random() * g.config.wrc) + 1;this.hLa && clearTimeout(this.hLa);this.hLa=setTimeout(function(){h.OM && (h.OM=!1,h.hLa=void 0);},e + l);};d.prototype.WAc=function(e){var h,l,k,m;if("enterLNAMode" === e.type && e.payload)this.Bnb(e.payload);else if("exitLNAMode" === e.type && e.payload)this.Rnb(e.payload);else if("lna" === e.type){h=e.lnaStartTime;l=e.lnaEndTime;k=e.serverCurrTime;e=e.level;if(h && l && k){m=Math.min(l - k,g.config.Qsc);k < l && k > h && this.Bnb({lnaStartTime:1,duration:m,level:e});}}};d.prototype.INc=function(){return this.OM && this.Yga === n.S1.y4a;};d.prototype.gCb=function(){return this.OM && (this.Yga === n.S1.MEDIUM || this.Yga === n.S1.y4a);};d.prototype.Nrc=function(e){return this.OM && this.Dec.includes(e);};Ga.Object.defineProperties(d.prototype,{vrc:{configurable:!0,enumerable:!0,get:function(){return this.OM;}}});a=d;b.Tya=a;b.Tya=a=t.__decorate([(0,c.Y)()],a);},11953:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G;function d(){this.wta=[];this.dLc=50;}function n(K){var N;N=this;this.j=K;Promise.resolve();this.IH=[];this.Kl=new e.Bl();this.Odb=0;this.sga=[];this.cg=(0,k.bn)(this.j,"MediaElementASE");this.efb=g.kH;this.gEa=!1;this.Za=new d();this.dg=new E.tc(C.It.aH.HAVE_NOTHING);this.FFa={};this.Ala=this.tga(function(){var I;if(N.Ga)return null !== (I=N.Ga.webkitDecodedFrameCount) && void 0 !== I?I:0;});this.Ty=this.tga(function(){var I;if(N.Ga){I=N.sEa();return I?I.totalVideoFrames:N.Ga.webkitDecodedFrameCount;}});this.SO=this.tga(function(){var I;if(N.Ga){I=N.sEa();return I?I.droppedVideoFrames:N.Ga.webkitDroppedFrameCount;}});this.W6=this.tga(function(){var I;if(N.Ga){I=N.sEa();return I && I.corruptedVideoFrames;}});this.veb=function(I){!1;N.Kl.bd(A.Ok.dwb,{J:I});};this.TEa=function(){!0 === w.fi.hidden?N.sga.forEach(function(I){I.refresh();I.BIc();}):N.sga.forEach(function(I){I.refresh();I.XIc();});};this.Oeb=function(I){var L,J;if(N.Ga){I=I.Xta;L=N.$Wb();L && (I.ConstrictionActive=L.constrictionActive,I.Status=L.status);try{I.readyState="" + N.Ga.readyState;I.currentTime="" + N.Ga.currentTime;I.pbRate="" + N.Ga.playbackRate;}catch(Q){}L=N.IH.length;for(var O;L--;){O=N.IH[L];J="";O.type == g.Hea?J="audio":O.type == g.c2 && (J="video");(0,u.uf)(I,O.rla(),{prefix:J});}N.QA && (L=N.QA.duration) && !isNaN(L) && (I.duration=L.toFixed(4));}};this.Meb=function(){N.Kl.bd(A.Ok.jDb);};G?(this.UB=k.Pa.get(y.m6a).create(this,this.j),this.nd=k.Pa.get(H.Pk),f.config.BX && new Promise(function(I){N.efb=I;N.j.addEventListener(B.ha.Tg,I);}),this.cg.trace("Created Media Element"),this.addEventListener=this.Kl.addListener,this.removeEventListener=this.Kl.removeListener,this.Xcc="encrypted"):this.pga(m.aa.d9a);}Object.defineProperty(b,"__esModule",{value:!0});b.pza=void 0;c=a(90762);g=a(33096);f=a(29204);e=a(94886);h=a(37509);l=a(52569);k=a(31276);m=a(36129);p=a(45146);r=a(8825);q=a(67572);u=a(3887);v=a(77705);w=a(22365);x=a(32687);y=a(80012);A=a(16520);z=a(5021);B=a(85001);C=a(63156);D=a(82100);F=a(26388);H=a(53085);E=a(81734);G=!!(w.kM && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);n.prototype.dF=function(K){try{this.Ga && (this.Odb=this.Ga.currentTime);}catch(N){this.cg.error("Exception while getting VIDEO.currentTime",N);K && this.a3(m.aa.xTb,N);}return (0,w.Xr)(this.Odb * g.iq);};n.prototype.seek=function(K){var N;(0,p.qa)(!this.zq);this.Zeb();N=this.dF(!0);if(!f.config.l0b && (0,w.Jea)(N - K) <= this.rFb)(this.cg.trace("Seek delta too small",{currentTime:N,seekTime:K,min:this.rFb}),this.Za.trace("smallseek",K));else {this.Za.trace("seek",K);try{this.cg.trace("Setting video elements currentTime",{From:(0,r.Ij)(N),To:(0,r.Ij)(K)});this.zq={};this.Ga.currentTime=K / g.iq;this.Kl.bd(A.Ok.zs);}catch(I){this.cg.error("Exception while setting VIDEO.currentTime",I);this.a3(m.aa.yTb,I);}}};n.prototype.Hrb=function(){return !!this.zq;};n.prototype.addSourceBuffer=function(K){var N;try{N=new c.qza(this.j,K,this.QA,this.cg);this.IH.push(N);K == g.c2 && N.FLa && N.FLa.addListener(this.efb);this.Kl.bd(A.Ok.lHb);return N;}catch(I){N=(0,u.Mi)(I);this.cg.error("Unable to add source buffer.",{error:N});this.j.Pf(m.aa.pAa,{Ma:K === F.v.X?m.W.bza:m.W.cza,df:N});}};n.prototype.h4=function(K){var N;N=this;K.forEach(function(I){return N.addSourceBuffer(I);});return !0;};n.prototype.removeSourceBuffer=function(K){this.IH=this.IH.filter(function(N){return !(0,l.Z5b)(K,N);});this.QA.removeSourceBuffer(K);};n.prototype.endOfStream=function(){this.Za.trace("endofstream");!1;f.config.JHa && this.QA.endOfStream();};n.prototype.Cs=function(K){!1;this.IH=[];K && K.X1c();return !0;};n.prototype.dNa=function(){if(this.QA)return (0,z.Kzc)(this.QA.duration);};n.prototype.Jac=function(){var K;if(!this.gEa && this.Ga && this.Ga.readyState >= C.It.aH.HAVE_CURRENT_DATA){K=this.Ga.webkitDecodedFrameCount;if(void 0 === K || 0 < K || f.config.eOc)this.gEa=!0;}return this.gEa;};n.prototype.open=function(){var K;K=this;this.Ga=(0,l.createElement)("VIDEO","position:absolute;width:100%;height:100%");try{this.QA=new w.kM();}catch(N){this.a3(m.aa.oTb,N);return;}try{this.ug=URL.createObjectURL(this.QA);}catch(N){this.a3(m.aa.pTb,N);return;}try{this.QA.addEventListener("sourceopen",function(N){return K.hYb(N);});this.UB.i_b(this.veb);this.K_b(this.Ga);this.L_b(this.Ga);this.Ga.src=this.ug;this.dg.addListener(this.Meb);this.j.addEventListener(B.ha.tXa,this.Oeb);h.oe.addListener(h.cr,this.TEa);this.TEa();}catch(N){this.a3(m.aa.qTb,N);return;}this.j.wP && !f.config.OKb && this.UB.Qzb();};n.prototype.close=function(){this.Za.trace("close");this.Ga && (this.dF(!1),this.Zeb(),this.IH=[],this.jDc(this.Ga),this.eDc(this.Ga),this.UB.cDc(this.veb),this.UB.close(),clearTimeout(this.UB.P2c),this.dg.removeListener(this.Meb),this.j.removeEventListener(B.ha.tXa,this.Oeb),h.oe.removeListener(h.cr,this.TEa),this.Ga=void 0);};n.prototype.bEc=function(){this.zq && (this.Za.trace("resetSeek"),this.zq=void 0);};n.prototype.bYb=function(){f.config.OKb && this.UB.Qzb();};n.prototype.sEa=function(){if(this.Ga)return this.Ga.getVideoPlaybackQuality && this.Ga.getVideoPlaybackQuality() || this.Ga.videoPlaybackQuality || this.Ga.playbackQuality;};n.prototype.PYb=function(){var K;K=this.j.mj;return (K=K && K.errorCode) && 0 <= [m.aa.cfa,m.aa.rea].indexOf(K);};n.prototype.tga=function(K){var N;N=k.Pa.get(q.Q8a)(K);this.sga.push(N);return function(){N.refresh();return N.ghc();};};n.prototype.a3=function(K,N){var I,L;I={Ma:m.W.fq,df:(0,u.Mi)(N)};try{L=N.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase();L && 8 == L.length && (I.yg=L);}catch(O){}this.j.Pf(K,I);};n.prototype.Zeb=function(){this.sga.forEach(function(K){K.refresh();});};n.prototype.$Wb=function(){return this.Ga && this.Ga.msGraphicsTrustStatus;};n.prototype.pga=function(K,N){this.j.Pf(K,N,void 0);};n.prototype.hYb=function(K){!1;this.SYb || (this.SYb=!0,this.Kl.bd(A.Ok.IXa,K));};n.prototype.gYb=function(){this.Za.trace("seeking");this.cg.trace("Video element event: seeking");this.zq?this.zq.Gvc=!0:(this.cg.error("unexpected seeking event"),f.config.kec && this.pga(m.aa.DTb,{df:{Trace:this.Za.WW()}}));};n.prototype.fYb=function(){this.Za.trace("seeked");this.cg.trace("Video element event: seeked");this.zq?((0,p.qa)(this.zq.Gvc),this.zq.Fvc=!0,this.zfb()):(this.cg.error("unexpected seeked event"),f.config.jec && this.pga(m.aa.CTb,{df:{Trace:this.Za.WW()}}));};n.prototype.iYb=function(){var K;this.Za.trace("timeupdate",null === (K=this.Ga) || void 0 === K?void 0:K.currentTime);!1;this.zq && (this.zq.Hvc=!0,this.zfb());this.Kl.bd(A.Ok.zs);};n.prototype.eYb=function(){this.cg.trace("Video element event: loadstart");};n.prototype.jYb=function(K){this.cg.trace("Video element event:",K.type);try{this.j.volume.set(this.Ga.volume);this.j.muted.set(this.Ga.muted);}catch(N){this.cg.error("error updating volume",N);}};n.prototype.cYb=function(K){var N,I,L,O,J,Q,P,S;N=this.pga;I=m.aa.c9a;L=m.F3a;O=this.Za.WW();J=K.target;Q=J && J.error;P=K.errorCode;J=Q && Q.code;(0,x.$c)(J) || (J=P && P.code);P=Q && Q.message;S=Q && Q.msExtendedCode;(0,x.$c)(S) || (S=Q && Q.systemCode);(0,x.$c)(S) || (S=K.systemCode);(0,x.$c)(S) || (S=(0,D.pNa)(P));K=(0,u.uf)({},{code:J,systemCode:S,trace:JSON.stringify(O)},{Tpa:!0});L={Ma:L(J),df:(0,v.lRa)(K)};try{P && (L.G9=P);}catch(Y){}S=(0,u.jl)(S);(0,x.ec)(S) && (L.yg=(0,k.fHa)(S,4));N.call(this,I,L);};n.prototype.zfb=function(){this.zq && this.zq.Fvc && this.zq.Hvc && (this.Za.trace("seekcomplete"),this.zq=void 0,this.Kl.bd(A.Ok.Xaa));};n.prototype.K_b=function(K){var I,L;function N(O,J){K.addEventListener(O,L[O]=J);}I=this;L=this.FFa;N("error",function(O){return I.cYb(O);});N("seeking",function(){return I.gYb();});N("seeked",function(){return I.fYb();});N("timeupdate",function(){return I.iYb();});N("loadstart",function(){return I.eYb();});N("volumechange",function(O){return I.jYb(O);});N(this.Xcc,function(){return I.bYb();});f.config.Sac && N("contextmenu",function(O){return O.preventDefault();});this.VBc=this.nd.jR((0,z.ac)(500),function(){I.dg.set(K.readyState);});};n.prototype.jDc=function(K){var N,O;if(K){for(var I=Ea(Object.entries(this.FFa)),L=I.next();!L.done;L=I.next()){O=Ea(L.value);L=O.next().value;O=O.next().value;K.removeEventListener(L,O);delete this.FFa[L];}null === (N=this.VBc) || void 0 === N?void 0:N.cancel();this.dg.set(C.It.aH.HAVE_NOTHING);}};n.prototype.L_b=function(K){var N,I;N=this.j.st;I=N.lastChild;I?N.insertBefore(K,I):N.appendChild(K);};n.prototype.eDc=function(K){f.config.vAc && this.PYb() || (K.removeAttribute("src"),K.load(),this.j.st.removeChild(K));this.ug && (URL.revokeObjectURL(this.ug),this.ug=void 0);this.QA=void 0;};Ga.Object.defineProperties(n.prototype,{sourceBuffers:{configurable:!0,enumerable:!0,get:function(){return this.IH;}},rFb:{configurable:!0,enumerable:!0,get:function(){return f.config.iIc;}}});b.pza=n;d.prototype.trace=function(K,N){this.wta.push([K,N]);this.wta.length > this.dLc && this.wta.shift();};d.prototype.WW=function(){return this.wta;};},51149:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p){var r;r=this;this.Cp=m;this.bF=p;this.mJb=function(q){var u,v,w,x,y,A;u=r.CIb++;v=q.request.wI || "dl";w=r.csb(v,"start");if(w){x=q.request.TJ.L;if(x && !r.FHb.has(x)){y=r.jrb(x);A=q.vC;r.Cp.mark(w,y,A?v + "-" + A + "-" + u:v);q.Aha(function(){var z,B;z=r.csb(v,"end");B=A?v + "-" + A + "-" + u:v;z && r.Cp.mark(z,y,B);});}}};this.CIb=0;this.FHb=new Set();this.vWa=new Map();p.c6 && this.iOc();}Object.defineProperty(b,"__esModule",{value:!0});b.Dza=void 0;t=a(22970);n=a(22674);c=a(63156);g=a(77134);f=a(5021);e=a(61726);h=a(34231);l=a(79542);k={start:{video:c.gb.t0,audio:c.gb.p0},end:{video:c.gb.s0,audio:c.gb.o0}};d.prototype.krb=function(m){var r,q,u,v,w,x,y,A;function p(z){return (0,f.timestamp)(r.Igb((0,f.timestamp)(z),m,!0));}r=this;q=new Set();u=m.tf;v=m.Ha;w=void 0 === m.zHb?null:m.zHb;x=m.L;y=this.Cp.Tqb(v);A=x && this.jrb(x);A && y.push.apply(y,za(this.Cp.Tqb(A)));this.Cp.LDb(m.Ha);A && this.Cp.LDb(A);x && this.FHb.add(x);x=[];("pr_ats" in u) && x.push({name:c.gb.xfa,Dx:p(u.pr_ats),Ha:v,correlationId:"request-pre-manifest"});("ats" in u) && x.push({name:c.gb.vfa,Dx:p(u.ats),Ha:v,correlationId:"request-manifest"});("pr_at" in u) && x.push({name:c.gb.wfa,Dx:p(u.pr_at),Ha:v,correlationId:"request-pre-manifest"});("at" in u) && x.push({name:c.gb.ufa,Dx:p(u.at),Ha:v,correlationId:"request-manifest"});("lg" in u) && x.push({name:c.gb.tfa,Dx:p(u.lg),Ha:v,correlationId:"request-license"});("lr" in u) && (x.push({name:c.gb.sfa,Dx:p(u.lr),Ha:v,correlationId:"request-license"}),x.push({name:c.gb.gda,Dx:p(u.lr),Ha:v,correlationId:"apply-license"}));("ld" in u) && x.push({name:c.gb.fda,Dx:p(u.ld),Ha:v,correlationId:"apply-license"});("tt_start" in u) && x.push({name:c.gb.r0,Dx:p(u.tt_start),Ha:v,correlationId:"request-timed-text"});("tt_comp" in u) && x.push({name:c.gb.q0,Dx:p(u.tt_comp),Ha:v,correlationId:"request-timed-text"});return x.concat(y).map(function(z){return r.PKc(z,m);}).filter(function(z){return z.ts <= (null !== w && void 0 !== w?w:z.ts)?("end" === z.step && q.add(z.eventId),!0):!1;}).filter(function(z){return "start" !== z.step || q.has(z.eventId)?!0:!1;}).sort(function(z,B){return z.ts - B.ts;}).reduce(function(z,B){var C;C=B.eventName;delete B.eventName;C && (z[C]=B);return z;},{});};d.prototype.S_b=function(m,p,r){return (void 0 === r?0:r)?m.la(f.wa) + p.xj.la(f.wa):m.la(f.wa) - p.xj.la(f.wa);};d.prototype.Igb=function(m,p,r){r=void 0 === r?!1:r;if(p.Xp)if(r)m.la(f.wa) + p.Xp;else return m.la(f.wa) - p.Xp;return this.S_b(m,p,r);};d.prototype.PKc=function(m,p){var r,q;r=m.correlationId;q=m.name;return {eventName:this.evc(q,r),eventId:r || q,ts:this.Igb(m.Dx,p),comp:this.V6(q),cat:this.Ogc(q),step:this.Akc(q)};};d.prototype.evc=function(m,p){switch(m){case c.gb.r0:case c.gb.q0:case c.gb.p0:case c.gb.o0:case c.gb.t0:case c.gb.s0:return m + "-" + p;default:return m;}};d.prototype.V6=function(m){switch(m){case c.gb.xfa:case c.gb.wfa:case c.gb.vfa:case c.gb.ufa:return "manifest";case c.gb.tfa:case c.gb.sfa:case c.gb.hCa:case c.gb.gCa:case c.gb.gea:case c.gb.fea:case c.gb.gda:case c.gb.fda:return "license";case c.gb.r0:case c.gb.q0:case c.gb.p0:case c.gb.o0:case c.gb.t0:case c.gb.s0:case c.gb.rua:case c.gb.qua:return "buffering";case c.gb.mAa:case c.gb.lAa:return "playback";default:return (0,l.fW)(m);}};d.prototype.Ogc=function(m){switch(m){case c.gb.xfa:case c.gb.wfa:case c.gb.vfa:case c.gb.ufa:return "aws";case c.gb.tfa:case c.gb.sfa:return "mixed";case c.gb.mAa:case c.gb.lAa:case c.gb.hCa:case c.gb.gCa:case c.gb.gea:case c.gb.fea:case c.gb.gda:case c.gb.fda:case c.gb.rua:case c.gb.qua:return "device";case c.gb.r0:case c.gb.q0:case c.gb.p0:case c.gb.o0:case c.gb.t0:case c.gb.s0:return "cdn";default:return (0,l.fW)(m);}};d.prototype.Akc=function(m){switch(m){case c.gb.xfa:case c.gb.mAa:case c.gb.vfa:case c.gb.tfa:case c.gb.rua:case c.gb.r0:case c.gb.p0:case c.gb.t0:case c.gb.hCa:case c.gb.gea:case c.gb.gda:return "start";case c.gb.wfa:case c.gb.lAa:case c.gb.ufa:case c.gb.sfa:case c.gb.gCa:case c.gb.fea:case c.gb.fda:case c.gb.qua:case c.gb.q0:case c.gb.o0:case c.gb.s0:return "end";default:return (0,l.fW)(m);}};d.prototype.csb=function(m,p){if((m in k[p]))return k[p][m];};d.prototype.YLc=function(){e.Je.removeEventListener(e.Cma,this.mJb);};d.prototype.iOc=function(){this.YLc();e.Je.addEventListener(e.Cma,this.mJb);};d.prototype.jrb=function(m){var p;if(this.vWa.has(m))return this.vWa.get(m);p=Date.now();this.vWa.set(m,p);return p;};a=d;b.Dza=a;b.Dza=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.i2)),t.__param(1,(0,n.l)(h.Vr))],a);},27104:function(t,b,a){var c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x,y){var A;A=this;this.Vi=q;this.config=v;this.Zb=w;this.debug=x;this.xN={};this.Gmb=!1;this.D4={};this.sPa=0;this.Cla=function(z){var B,C,D;B=z.stream;if(B){z=B.Yb;C=B.bitrate;D=B.Ob;}else z=z.track.Yb;return {key:z + "$" + C + "$" + D,Yb:z,bitrate:C,Ob:D};};this.hqb=function(z){var B,C,D;C=A.Cla(z);D=null === (B=z.Kc) || void 0 === B?void 0:B.id;z=z.track.correlationId;return Object.assign({},C,{key:C.key + "$" + D + "$" + z,On:D,correlationId:z});};this.Jgc=function(z){var B;B=z.stream;z=null === B || void 0 === B?void 0:B.Yb;B=null === B || void 0 === B?void 0:B.bitrate;return {key:z + "$" + B,Yb:null !== z && void 0 !== z?z:"",XX:B};};this.nlc=function(z){var B;B=z.stream;z=null === B || void 0 === B?void 0:B.Yb;B=null === B || void 0 === B?void 0:B.Ob;return {key:z + "$" + B,Yb:null !== z && void 0 !== z?z:"",XX:B};};this.log=u.qb("PlayTimeTracker");this.Gqa=y(q);this.Rz=y(q);this.VTa=y(q);this.startTime=this.Vi.mediaTime.value;this.foa=this.config().vZb;this.pS();this.xN.abrdel=0;this.foa.forEach(function(z){z="abrdel" + z;A.D4[z]=0;A.xN[z]=0;});}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;t=a(22970);c=a(22674);g=a(87386);f=a(4203);e=a(71501);a(5021);h=a(42207);l=a(90597);k=a(33096);m=a(3887);p=a(39551);r=a(30873);n.prototype.encode=function(q){return {downloadableId:q.Yb,correlationId:q.correlationId,bitrate:q.bitrate,vmaf:q.Ob,duration:q.duration,metric:q.XX,cdnId:q.On};};n.prototype.decode=function(q){return {Yb:q.downloadableId,correlationId:q.correlationId,bitrate:q.bitrate,Ob:q.vmaf,duration:q.duration,XX:q.metric,On:q.cdnId};};d.prototype.Ku=function(q){q=void 0 === q?"content":q;this.WK(this.Vi.mediaTime.value);return Math.floor(this.Rz.Ku(function(u){return u.Bp === q;}));};d.prototype.mqb=function(q){this.WK(this.Vi.mediaTime.value);return Math.floor(this.Rz.Ku(q));};d.prototype.B7=function(q){var u;q=void 0 === q?"content":q;this.WK(this.Vi.mediaTime.value);u=this.Rz.B7(function(v){return v.Bp === q;});this.debug.assert(u === Math.floor(u),"Value of totalContentPlayTime is not an integer.");return Math.floor(u);};d.prototype.Agc=function(){this.WK(this.Vi.mediaTime.value);return {audio:this.Z6(this.Gqa,this.hqb),video:this.Z6(this.Rz,this.hqb)};};d.prototype.Bjc=function(){var q,u,v;q=this.Ku("content");u=this.Ku("ads");v=this.Ku("other");q={total:q,totalAdDuration:u,totalOtherDuration:v,totalCombinedDuration:q + u + v,totalContentTime:this.B7("content"),totalStartSlateDuration:this.mqb(function(w){return !0 === w.w8;}),totalLiveEdgeDuration:this.mqb(function(w){return !0 === w.kz;}),audio:this.Z6(this.Gqa,this.Cla),video:this.Z6(this.Rz,this.Cla),timedtext:this.Z6(this.VTa,this.Cla)};this.debug.assert(!(!q.audio || !q.video));return q;};d.prototype.iMa=function(){var q,u;this.WK(this.Vi.mediaTime.value);q=this.Rz.eMa(this.Jgc);try{u=this.Hpb(q);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.xN.abrdel=Math.round(u);return this.xN.abrdel;};d.prototype.Ipb=function(){var q,u;this.WK(this.Vi.mediaTime.value);q=this.Rz.eMa(this.nlc);try{u=this.Hpb(q);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(u);};d.prototype.Gpb=function(){var q,u;q=this;if(!this.Gmb){u=this.Ku();this.foa.forEach(function(v){var w,x,y;if(0 === q.D4["abrdel" + v] && u > v * k.iq){w=0;x=0;y=0;q.Rz.some(function(A){w+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;y=A.stream.bitrate;return x > v * k.iq;});w && (q.D4["abrdel" + v]=Math.round((w - y * (x - v * k.iq)) / (v * k.iq)));}});0 !== this.D4["abrdel" + this.foa[this.foa.length - 1]] && (this.Gmb=!0);(0,m.Yh)(this.D4,function(v,w){q.xN[v]=0 === w?q.xN.abrdel:w;});}return this.xN;};d.prototype.e_b=function(q){this.sPa+=q;};d.prototype.yma=function(){return this.Rz.yma();};d.prototype.pS=function(){var q;q=this;this.Vi.Gf.addListener(function(u){q.wV=q.Vib(q.wV,q.Gqa,u.newValue);});this.Vi.Te.addListener(function(u){q.AV=q.Vib(q.AV,q.Rz,u.newValue);});this.Vi.playbackRate.addListener(function(u){q.WK(q.Vi.mediaTime.value,u.oldValue);});this.Vi.nk.addListener(this.Yvc.bind(this));};d.prototype.xSa=function(q,u){this.WK(q);this.startTime=u;this.AV=this.wV=void 0;this.zV && (this.zV.startTime=this.startTime);!1;};d.prototype.Yvc=function(q){this.VTa.Lf(this.zV,this.Vi.mediaTime.value);this.zV=(q=q.newValue)?{track:q,startTime:this.Vi.mediaTime.value,endTime:e.uD}:void 0;};d.prototype.WK=function(q,u){u=void 0 === u?this.Vi.playbackRate.value:u;q && this.wV && this.AV && (q=Math.min(q,this.wV.endTime,this.AV.endTime),this.Gqa.Lf(this.wV,q,u),this.wV.startTime=q,this.Rz.Lf(this.AV,q,u),this.AV.startTime=q,this.zV && (this.VTa.Lf(this.zV,q,u),this.zV.startTime=q),this.startTime=q,!1);};d.prototype.Vib=function(q,u,v){var w,x;q && u.Lf(q,Math.min(q.endTime,this.Vi.mediaTime.value));if(v && v.stream){q=v.bV;u=v.stream;w=v.Bp;x=this.Vi.Fc;return {Kc:v.Kc,track:u.track,stream:u,startTime:Math.max(q.startTime,this.startTime),endTime:q.endTime,w8:x.xa?x.TI(q.okb) === r.Rx.C2:void 0,kz:x.xa?x.Ls():void 0,Bp:w};}};d.prototype.Z6=function(q,u){return q.eMa(u,"content").map(function(v){return new n().encode(v);});};d.prototype.Hpb=function(q){var u,v,w;u=this;v=0;q.forEach(function(x){if(u.Zb.Xh(x.duration) && u.Zb.Xh(x.XX))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;w=0;q.forEach(function(x){w+=x.XX * x.duration / v;});return w;};a=d;b.dBa=a;b.dBa=a=t.__decorate([(0,c.Y)(),t.__param(1,(0,c.l)(g.wb)),t.__param(2,(0,c.l)(f.Cc)),t.__param(3,(0,c.l)(h.ei)),t.__param(4,(0,c.l)(l.iD)),t.__param(5,(0,c.l)(p.rBa))],a);},24722:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L;function d(O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma,R,M,V,ba,ha,ca,la,ra,ta,ja,W,ea,ka,pa){this.fz=O;this.YH=J;this.Oa=Q;this.Ia=P;this.$1b=S;this.BYa=Y;this.t9=X;this.pRa=T;this.LX=U;this.$f=Z;this.yj=aa;this.Ek=da;this.zN=fa;this.M$=ma;this.Wg=R;this.$Ya=M;this.Bh=V;this.Cp=ba;this.Cf=ha;this.TTa=ca;this.zDc=la;this.NGa=ra;this.ZP=ta;this.GTa=ja;this.aGa=W;this.j3b=ea;this.AF=ka;this.BU=pa;}Object.defineProperty(b,"__esModule",{value:!0});b.kBa=void 0;t=a(22970);n=a(62665);c=a(22674);g=a(45842);f=a(11479);e=a(81918);h=a(30869);l=a(12826);k=a(37104);m=a(24273);p=a(73449);r=a(66476);q=a(79274);u=a(52531);v=a(24550);w=a(91622);x=a(61861);y=a(78388);A=a(45118);z=a(6823);B=a(74870);C=a(92205);D=a(77134);F=a(93367);H=a(85405);E=a(2160);G=a(49745);K=a(50889);N=a(70068);I=a(33258);d.prototype.create=function(O,J,Q,P,S,Y,X,T){return new (a(18128).c$a)(O,J,Y,X,P,S,this.fz,Q,this.Oa,this.YH,this.Ia,this.t9,this.$1b,this.BYa,this.pRa,this.LX,this.$f,this.yj,this.Ek,this.zN,this.M$,this.Wg,this.$Ya,this.Bh,this.Cf,this.TTa,this.Cp,this.zDc(),this.NGa,this.ZP,this.GTa,this.aGa,this.j3b,this.AF,void 0,T);};L=d;b.kBa=L;b.kBa=L=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(n.sD)),t.__param(1,(0,c.l)(f.Fj)),t.__param(2,(0,c.l)(e.Sd)),t.__param(3,(0,c.l)(h.di)),t.__param(4,(0,c.l)(l.Z0a)),t.__param(5,(0,c.l)(g.rH)),t.__param(6,(0,c.l)(k.lza)),t.__param(7,(0,c.l)(m.o7a)),t.__param(8,(0,c.l)(p.Z1)),t.__param(9,(0,c.l)(r.vM)),t.__param(10,(0,c.l)(q.v2)),t.__param(11,(0,c.l)(u.oM)),t.__param(12,(0,c.l)(w.g1a)),t.__param(13,(0,c.l)(x.pBa)),t.__param(14,(0,c.l)(G.iT)),t.__param(15,(0,c.l)(y.qcb)),t.__param(16,(0,c.l)(A.Io)),t.__param(17,(0,c.l)(D.i2)),t.__param(18,(0,c.l)(B.Il)),t.__param(19,(0,c.l)(C.d$a)),t.__param(20,(0,c.l)(F.mab)),t.__param(21,(0,c.l)(H.q0a)),t.__param(22,(0,c.l)(E.Eza)),t.__param(23,(0,c.l)(K.J9a)),t.__param(24,(0,c.l)(N.Iua)),t.__param(25,(0,c.l)(I.Jva)),t.__param(26,(0,c.l)(z.Gea)),t.__param(27,(0,c.l)(v.f0)),t.__param(27,(0,c.optional)())],L);},18128:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma;function d(R,M,V,ba,ha,ca,la,ra,ta,ja,W,ea,ka,pa,qa,na,Aa,Ha,oa,wa,ya,ua,xa,Ca,Ja,Ka,La,Oa,Na,Qa,Ra,Va,Xa,mb,nb,eb){var Fa,Hb;function wb(Da){Da.newValue && Da.newValue.stream && (Fa.Te.removeListener(wb),Fa.Tma=Da.newValue.stream.bitrate);}function xb(Da){Da.newValue !== Q.Gb.Qg && Da.newValue !== Q.Gb.gi && (Fa.Tb.removeListener(xb),Fa.rF=Fa.Ia.oG,Fa.$b.bd(Q.ha.Pz));}function yb(Da){Da.newValue !== Q.Gb.Qg && (Fa.Tb.removeListener(yb),Fa.uo=!0,Fa.L$=Fa.Ia.gg.la(C.wa),Fa.$b.bd(Q.ha.uo));}Fa=this;this.rb=ha;this.xl=ca;this.fz=la;this.Oa=ta;this.YH=ja;this.Ia=W;this.t9=ea;this.pRa=qa;this.LX=na;this.$f=Aa;this.yj=Ha;this.Ek=oa;this.zN=wa;this.M$=ya;this.Wg=ua;this.$Ya=xa;this.Bh=Ca;this.Cf=Ja;this.TTa=Ka;this.Cp=La;this.eEb=Oa;this.NGa=Na;this.ZP=Qa;this.GTa=Ra;this.aGa=Va;this.DHa=Xa;this.AF=mb;this.BU=nb;this.SBb=[];this.nn=new Map();this.IOa=new Map();this.ji=new aa.AbortController();this.ja=new da.vBa();this.nk=new p.tc(null);this.lA=new p.tc(void 0);this.mg=new p.tc(null);this.Hi=new p.tc(null);this.mediaTime=new p.tc(void 0);this.playbackRate=new T.g$a(1,r.config.ARa);this.background=new p.tc(!0);this.Aca=function(Da){return Fa.ja.Ax(Da);};this.aMc=function(Da){return Fa.nk.set(Da.newValue);};this.MMc=function(Da){return Fa.lA.set(Da.newValue);};this.OMc=function(Da){return Fa.mg.set(Da.newValue);};this.cMc=function(Da){return Fa.Hi.set(Da.newValue);};this.EMc=function(Da){return Fa.Te.set(Da.newValue);};this.DMc=function(Da){return Fa.Gf.set(Da.newValue);};this.wMc=function(Da){return Fa.mediaTime.set(Da.newValue);};this.dMc=function(Da){return Fa.background.set(Da.newValue);};this.F_=function(Da){return Fa.playbackRate.set(Da.newValue);};this.mr={};this.PVa=this.QYa=0;this.$b=new q.Bl();this.Xta={};this.Dba=this.HBb=this.uo=!1;this.lS=new p.tc(void 0);this.state=new p.tc(Q.xc.oT);this.zj=new p.tc(!1);this.paused=new p.tc(!1);this.muted=new p.tc(!1);this.volume=new p.tc(r.config.Y$b / 100);this.Tb=new p.tc(Q.Gb.Qg);this.Xd=new p.tc(Q.Pg.Df);this.qs=new p.tc(Q.Pg.Df);this.Bm=new p.tc(Q.Pg.Df);this.Gf=new p.tc(null);this.Te=new p.tc(null);this.yHa=new p.tc(null);this.Dma=(0,k.WPb)(this);this.Kc=[new p.tc(null),new p.tc(null),new p.tc(null)];this.hHa={};this.QV=!1;this.ob=this.ph=-1;this.bP=function(Da,Pa){var Wa;Da=void 0 === Da?null:Da;return (0,K.ec)(Da)?Pa && !Fa.el(Pa).U?Da:(null === (Wa=Fa.Xa) || void 0 === Wa?0:Wa.Mj)?Fa.Xa.TIa(Da):Da:null;};this.l$=function(){Fa.LXa();};this.hAb=function(){var Da,Pa;Pa=document.hidden;0 === Fa.BV && Pa && !Fa.paused.value?(Fa.paused.set(!0,{Gz:!0}),!1):Pa || !Fa.paused.value || !0 !== (null === (Da=Fa.paused.Xl) || void 0 === Da?void 0:Da.Gz) || Fa.background.value || (Fa.Fc.xa && Fa.Fc.Ls() && Fa.Fc.Vaa(),Fa.paused.set(!1,{Gz:!0}),!1);};this.$rc=this.rI=R;this.addEventListener=this.$b.addListener;this.removeEventListener=this.$b.removeListener;this.fireEvent=this.$b.bd;this.Eha({J:R,qf:ha.ea.jo,L:ba,jb:V || ({})},r.config.px?this.$f.Yy(R):void 0,M);this.log=(0,B.bn)(this);this.rmb=ra(this);this.Z1b=ka(this);this.st=(0,O.createElement)("DIV",m.TBa,void 0,{id:this.R});this.snc();this.Zc=this.log.lV("Playback");(0,g.QTb)(this);w.Yx.W9=this;w.Yx.ILa || (w.Yx.ILa=this);this.Zc.info("Playback created",this.ai);this.Fwb?this.Zc.info("Playback selected for trace playback info logging"):this.Zc.trace("Playback not selected for trace playback info logging");r.config.px && (this.$f.Hlc(this.R),this.addEventListener(Q.ha.Pz,function(){Fa.$f.Jlc(Fa.R);Fa.ja.addListener([Z.v.Aa],function(){Fa.$f.psb();});Fa.ja.addListener([Z.v.X],function(){Fa.$f.psb();});}),this.addEventListener(Q.ha.Tg,function(){Fa.$f.Glc(Fa.R);}));this.state.addListener(function(Da){Fa.Zc.info("Playback state changed",{From:Da.oldValue,To:Da.newValue});(0,F.qa)(Da.newValue > Da.oldValue);});v.oe.addListener(v.cn,this.l$,m.dAa);Hb=pa((0,C.ci)(1));this.mediaTime.addListener(function(){Fa.Xec();Hb.Vf(function(){return Fa.Pob();});});this.Tb.addListener(function(Da){Fa.Zc.info("PresentingState changed",{From:Da.oldValue,To:Da.newValue,MediaTime:(0,H.Ij)(Fa.mediaTime.value)},Fa.zz());});this.Tb.addListener(function(){Fa.zj.set(Fa.Tb.value === Q.Gb.bg);});this.Xd.addListener(function(Da){Fa.Zc.info("BufferingState changed",{From:Da.oldValue,To:Da.newValue,MediaTime:(0,H.Ij)(Fa.mediaTime.value)},Fa.zz());});this.qs.addListener(function(Da){Fa.Zc.info("AV BufferingState changed",{From:Da.oldValue,To:Da.newValue,MediaTime:(0,H.Ij)(Fa.mediaTime.value)},Fa.zz());});this.Bm.addListener(function(Da){Fa.Zc.info("Text BufferingState changed",{From:Da.oldValue,To:Da.newValue,MediaTime:(0,H.Ij)(Fa.mediaTime.value)},Fa.zz());});this.ja.addListener([Z.v.X],function(Da){(0,F.qa)(Da.gx && Da.gx.hg);Fa.Zc.info("AudioTrack changed",Da.gx && ({ToBcp47:Da.gx.wg,To:Da.gx.trackId}),Da.$u && ({FromBcp47:Da.$u.wg,From:Da.$u.trackId}),{MediaTime:(0,H.Ij)(Fa.mediaTime.value)});});this.ja.addListener([Z.v.Aa],function(Da){(0,F.qa)(!Da.jn || Da.jn.hg);Fa.Zc.info("TimedTextTrack changed",Da.jn?{ToBcp47:Da.jn.wg,To:Da.jn.trackId}:{To:"none"},Da.jx?{FromBcp47:Da.jx.wg,From:Da.jx.trackId}:{From:"none"},{MediaTime:(0,H.Ij)(Fa.mediaTime.value)});});this.Tb.addListener(yb,m.qT);this.Tb.addListener(xb);this.addEventListener(Q.ha.Pz,function(){Fa.Dba=!0;Fa.zHb=Fa.T4();Fa.Kg("start");});this.Te.addListener(wb);(0,z.STb)(this);w.No.push(this);r.config.raa && (this.Bqa=this.TTa(this),this.Eqa=new y.i$a(this));w.hBa.forEach(function(Da){Da(Fa);});this.r_b=function(){Fa.addEventListener(Q.ha.gG,function(Da){var Pa;Da=Da.Ec;Da !== Q.Dc.gq && Da !== Q.Dc.rM && (null === (Pa=Fa.Xa) || void 0 === Pa?void 0:Pa.stop());});Fa.addEventListener(Q.ha.qm,function(Da){var Pa,Wa,zb,Ib,Ya,ob,Jb,pb,Ab,Kb;Fa.eEb.qm(Da);zb=Da.Ec;Ib=Da.skip;Ya=Da.gpa;ob=Da.BSa;Jb=Da.R;pb=Da.Oq;Fa.ea.so.xSa(ob,Ya);if(zb !== Q.Dc.rM && zb !== Q.Dc.gq)if(Ib){if(null !== (Pa=Fa.Xa) && void 0 !== Pa && Pa.sk(Ya)){Fa.Zc.trace("Repositioned. Skipping from " + ob + " to " + Ya);Da=function(Sa){Fa.log.error("streamingSession.skipped threw an exception",Sa);Sa=P.ue.gla(D.aa.rMb,Sa);Fa.jv(Sa.code,Sa);};try{Fa.Xa.VK(Ya).then(function(Sa){var $a;Sa.kX || (null === ($a=Fa.Xa) || void 0 === $a?void 0:$a.play());}).catch(Da);}catch(Sa){Da(Sa);}}else Fa.log.error("can skip returned false");}else {Fa.Zc.trace("Repositioned. Seeking from " + ob + " to " + Ya);try{Ab=Fa.rb.YO(Fa.ea);Kb=Object.keys(Ab.$).find(function(Sa){var $a;Sa=Ab.$[Sa];return Sa.J === Jb && Sa.cb <= pb && (null !== ($a=Sa.ib) && void 0 !== $a?$a:Infinity) > pb;});null === (Wa=Fa.Xa) || void 0 === Wa?void 0:Wa.nFc(pb,Kb);}catch(Sa){Fa.log.error("streamingSession.seekByContentPts threw an exception",Sa);Ya=P.ue.gla(D.aa.pMb,Sa);Fa.jv(Ya.code,Ya);}}});};this.playbackRate.addListener(function(){var Da,Pa;if(null === (Da=Fa.Xa) || void 0 === Da?0:Da.Mj)null === (Pa=Fa.Xa) || void 0 === Pa?void 0:Pa.ezc();});this.addEventListener(Q.ha.rE,function(Da){var Pa;if(Da.Ec == w.fBa)try{Fa.Xd.set(Q.Pg.Df);null === (Pa=Fa.Xa) || void 0 === Pa?void 0:Pa.Zp(Fa.Qd.iqb());}catch(Wa){Fa.log.error("streamingSession.underflow threw an exception",Wa);Da=P.ue.gla(D.aa.sMb,Wa);Fa.jv(Da.code,Da);}});v.oe.addListener(v.cr,this.hAb);eb && (this.ea.U=eb,this.Wg.FR(R,eb));}Object.defineProperty(b,"__esModule",{value:!0});b.c$a=void 0;n=a(22970);c=a(50040);g=a(86258);f=a(20318);e=a(66093);h=a(11953);l=a(73585);k=a(24427);m=a(33096);p=a(81734);r=a(29204);q=a(94886);u=a(42654);v=a(37509);w=a(13044);x=a(59032);y=a(62439);A=a(79014);z=a(39480);B=a(31276);C=a(5021);D=a(36129);F=a(45146);H=a(8825);E=a(3887);G=a(32219);K=a(32687);N=a(73056);I=a(45266);L=a(16520);O=a(52569);J=a(72639);Q=a(85001);P=a(31149);S=a(78719);Y=a(35128);X=a(13494);T=a(65361);U=a(79048);Z=a(26388);aa=a(91176);da=a(73403);fa=a(54973);ma=a(99416);d.prototype.Kg=function(R,M){var V;M=void 0 === M?this.rI:M;null === (V=this.nn.get(M)) || void 0 === V?void 0:V.Kg(R);};d.prototype.dJ=function(R){this.ea.dJ(R);};d.prototype.qma=function(){var R;return !(null === (R=this.U) || void 0 === R || !R.ya.Iy);};d.prototype.pX=function(){return this.rb.pX();};d.prototype.mF=function(){var R,M,V;return !(null === (V=null === (M=null === (R=this.U) || void 0 === R?void 0:R.ya.He) || void 0 === M?void 0:M.yb.length) || void 0 === V || !V);};d.prototype.bQa=function(R){return void 0 !== R && R === this.qf;};d.prototype.snc=function(){var R;R=this;this.ja.addListener([Z.v.X,Z.v.Aa,Z.v.V],function(M){return R.ea.ja.Ax(M);});this.nk.addListener(function(M){return R.ea.nk.set(M.newValue);});this.lA.addListener(function(M){return R.ea.lA.set(M.newValue);});this.mg.addListener(function(M){return R.ea.mg.set(M.newValue);});this.Hi.addListener(function(M){return R.ea.Hi.set(M.newValue);});this.Te.addListener(function(M){return R.ea.Te.set(M.newValue);});this.Gf.addListener(function(M){return R.ea.Gf.set(M.newValue);});this.Kc[Z.v.X].addListener(function(M){return R.ea.Kc[Z.v.X].set(M.newValue);});this.Kc[Z.v.V].addListener(function(M){return R.ea.Kc[Z.v.V].set(M.newValue);});this.Kc[Z.v.Aa].addListener(function(M){return R.ea.Kc[Z.v.Aa].set(M.newValue);});this.mediaTime.addListener(function(M){return R.ea.mediaTime.set(M.newValue);});this.background.addListener(function(M){return R.ea.background.set(M.newValue);});this.playbackRate.addListener(function(M){return R.ea.playbackRate.set(M.newValue);});this.PEb();};d.prototype.PEb=function(){var R;R=this;this.ea !== this.aba && (this.ea.mediaTime.set(this.mediaTime.value),this.ea.background.set(this.background.value),this.ea.playbackRate.set(this.playbackRate.value),this.jOc(this.Aca),this.Lx(function(M){return M.lA;},this.MMc),this.Lx(function(M){return M.nk;},this.aMc),this.Lx(function(M){return M.mg;},this.OMc),this.Lx(function(M){return M.Hi;},this.cMc),this.Lx(function(M){return M.Gf;},this.DMc),this.Lx(function(M){return M.Te;},this.EMc),this.Lx(function(M){return M.Kc[Z.v.X];},function(M){return R.Kc[Z.v.X].set(M.newValue);}),this.Lx(function(M){return M.Kc[Z.v.V];},function(M){return R.Kc[Z.v.V].set(M.newValue);}),this.Lx(function(M){return M.Kc[Z.v.Aa];},function(M){return R.Kc[Z.v.Aa].set(M.newValue);}),this.Lx(function(M){return M.mediaTime;},this.wMc),this.Lx(function(M){return M.background;},this.dMc),this.Lx(function(M){return M.playbackRate;},this.F_),this.ja.yo(this.ea.ja.Cd),this.ja.bA(this.ea.ja.Vd,{kE:!0}),this.ja.mXa(this.ea.ja.sh),this.nk.set(this.ea.nk.value),this.lA.set(this.ea.lA.value),this.mg.set(this.ea.mg.value),this.Hi.set(this.ea.Hi.value),this.aba=this.ea);};d.prototype.jOc=function(R){this.aba && this.aba.ja.removeListener(R);this.ea.ja.addListener([Z.v.X,Z.v.V,Z.v.Aa],R);};d.prototype.Lx=function(R,M){this.aba && R(this.aba).removeListener(M);R(this.ea).addListener(M);};d.prototype.e4b=function(){var R,M;M=!(null === (R=this.Oc) || void 0 === R || !R.Xo.value);R=!M;if(M && "embedded" === this.Oc.uQa || this.lna())R=!0;return R;};d.prototype.lna=function(){var R,M;return this.Fc.xa && !(null === (M=null === (R=this.U) || void 0 === R?void 0:R.ya.He) || void 0 === M || !M.Rq);};d.prototype.load=function(R){var M,V;M=this;this.load=function(){};this.XBb=R;if(!(this.state.value != Q.xc.oT || this.zub() && this.AF.INc())){this.Zc.info("Playback loading",this);this.mvc();this.Kg("asl_load_start");V=this.YH;R=V.startTime;V=V.endTime;(0,K.$c)(R)?(0,K.$c)(V)?this.Kg("asl_ended"):this.Kg("asl_in_progress"):this.Kg("asl_not_started");this.YH.Z8(function(ba){M.Kg("asl_load_complete");ba.success?M.F8b():M.jv(ba.errorCode || D.aa.Lxa,ba);});}};d.prototype.Dzc=function(){!1;try{this.state.value === Q.xc.LOADING && (this.CKb(),this.ap=this.zN.U_b({SC:(0,C.ac)(this.Db),R:this.R,jK:this.FE,jb:this.jb,dK:this.jb.Ag?r.config.hTa:r.config.dK,Fc:this.Fc}).la(C.wa),this.KGa(),this.Y9b());}catch(R){this.jv(D.aa.sQb,{Ma:D.W.fq,df:(0,E.Mi)(R)});}};d.prototype.CKb=function(){var R,M,V;V={width:1,height:1};this.XI({MKb:!0}).forEach(function(ba){V.width * V.height < ba.width * ba.height && (V={width:ba.width,height:ba.height});});V.height === (null === (R=this.lS.value) || void 0 === R?void 0:R.height) && V.width === (null === (M=this.lS.value) || void 0 === M?void 0:M.width) || this.lS.set(V);};d.prototype.fC=function(){var R,M;!1;M=this.rb.YO(this);this.clb(M);null === (R=this.Xa) || void 0 === R?void 0:R.qL(M);};d.prototype.iQ=function(R){var M,V;!1;(0,F.qa)(this.Xa,"ASE should be initialized");V=this.rb.i7(R);V?R === this.rb.Vh?this.Xa.Wia(V,!0) || this.G7(V,{}):null === (M=this.Xa) || void 0 === M?void 0:M.ym(R,V,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};d.prototype.G7=function(R,M,V){var ba,ha,ca,la,ra;ba=this;V=void 0 === V?!0:V;!1;la=this.rb.Ks(R);if(this.Ek.Pta && this.rb.ea.J === la.J)return Promise.resolve(this.Qd.seek(la.cb,Q.Dc.Ov,void 0));la=this.xl.fP(la.J);M=(0,I.Foa)(la.zb,M);if(null === (ha=this.Xa) || void 0 === ha || !ha.Mj)throw (!1,Error("No streaming session"));!1;this.pN("Transition " + this.rb.Vh + "->" + R);ra=this.el(R);ra.Xp=this.Oa.uc().la(C.wa);ra.jb=M;return "seamless" !== (null !== (ca=this.rb.Ks(R).Ld) && void 0 !== ca?ca:"seamless") || V?(this.Xa.j7(R).N4?this.plc(R,ra.R):this.Waa(R,ra.R)).then(function(){ba.wfc(ra.R);}):Promise.resolve();};d.prototype.Waa=function(R,M){var V;V=this.rb.om.$[R].cb;!1;this.pN("NO DATA " + R + ", SEEKING " + V + ", viewableId: " + M);return Promise.resolve(this.Qd.seek(V,Q.Dc.Ov,R,!0));};d.prototype.plc=function(R,M){var V,ba,ha,ca,la;V=this;!1;ba=this.Xa;if(null === ba || void 0 === ba || !ba.Mj)throw Error("No streaming session");ha=new Promise(function(ra){function ta(){!1;ba.removeEventListener("stop",ta);ra();}ba.addEventListener("stop",ta);});ca=!1;la=new Promise(function(ra){function ta(W){!1;V.removeEventListener(Q.ha.qm,ta);ca=W.skip;ra();}function ja(){!1;V.removeEventListener(Q.ha.gG,ja);ba.stop();}V.addEventListener(Q.ha.gG,ja);V.addEventListener(Q.ha.qm,ta);});ha=Promise.all([ha,la]).then(function(){var ra;ra=!1;ca && (ra=ba.Wia(R,!1));if(!ra)return (V.pN("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),V.Waa(R,M));});la=ba.VIa(R,this.rb.om.$[R].cb);!1;this.Qd.seek(la,Q.Dc.rM,R,!0);return ha;};d.prototype.Eha=function(R,M,V){var ba,ha,ca,la,ra,ta,ja,W,ea;M=void 0 === M?this.fz.GE():M;V=void 0 === V?this.Oa.uc():V;ca=!!r.config.jLb && !(M % r.config.jLb);la=R.J;ra=R.qf;ta=R.L;ja=R.jb;W=R.ke;if(this.nn.has(la))M=this.nn.get(la);else {M=this.M$(w.Yx.index++,la,ta,ja,M,V,ca,this.ea,this.bP,W,ra,this);this.nn.set(la,M);1 < this.nn.size && (M.JJ=this.bQa(M.qf)?this.JJ:this.LX.create(this,M,!1,this.bP));M.WX=new x.O7a(this,M);ea=null === W || void 0 === W?void 0:W.Bb;(R=R.O1b) || (R=null === (ha=null === (ba=this.ea.U) || void 0 === ba?void 0:ba.$o) || void 0 === ha?void 0:ha.find(function(ka){return ka.ya.R === la && (void 0 === ea || ka.ya.Bb === ea);}));R?this.X$(R,M):1 < this.nn.size && this.Wg.Pu(M.R) && this.nra(M);}};d.prototype.blb=function(R,M,V,ba){var ha,ca,la,ra,ta,ja,W,ea,ka,pa;ha=this;!1;ea={NB:!0,Ag:!1,oA:Date.now()};(0,F.qa)(M.Mf,"Auxiliary viewable config request options must have auxiliary options");ka=M.Mf;M=ka.Bb;if((ka=ka.kd) && this.J7(ka)){pa=null === (ca=this.xk(ka).U) || void 0 === ca?void 0:ca.ya;ca={Bb:M,gC:this.Zd,kd:ka,z$:pa};(0,F.qa)(null === (la=this.Xa) || void 0 === la?void 0:la.li,"If we have auxiliary viewables combined playgraph must exist");if(null === (ta=null === (ra=this.Xa) || void 0 === ra?void 0:ra.li) || void 0 === ta?0:ta.$)(la=Object.keys(null === (W=null === (ja=this.Xa) || void 0 === ja?void 0:ja.li) || void 0 === W?void 0:W.$).find(function(qa){var na,Aa;return (null === (Aa=null === (na=ha.Xa) || void 0 === na?void 0:na.li) || void 0 === Aa?void 0:Aa.$[qa].J) === R;}),!la && this.lna() && (la="placeholder-segmentId-" + R),(0,F.qa)(!!la,"Segment for the auxiliary viewable should exist in the combined playgraph"),la && this.Eha({O1b:ba,ke:ca,jb:ea,L:la,J:R},V));}};d.prototype.J7=function(R){return !!this.nn.has(R);};d.prototype.Hsb=function(R){try{return (this.el(R),!0);}catch(M){return !1;}};d.prototype.xk=function(R){if(R === U.mq)return this.ea;if(!this.nn.has(R))throw Error("Playback segment not found: " + R);return this.nn.get(R);};d.prototype.el=function(R){var M,V,ba;a:{for(var ha=Ea(this.zQ),ca=ha.next();!ca.done;ca=ha.next())if((ca=ca.value,ca.L === R)){ha=ca;break a;}ha=void 0;}return ha?ha:(null === (V=null === (M=this.Xa) || void 0 === M?void 0:M.li) || void 0 === V?0:V.$[R])?(R=null === (ba=this.Xa) || void 0 === ba?void 0:ba.li.$[R].J,this.iRa.R === R && (ha=this.iRa),null !== ha && void 0 !== ha?ha:this.xk(R)):this.ea;};d.prototype.uqb=function(R){return this.IOa.get(R);};d.prototype.nra=function(R){var M,V;M=this;!1;V=R.R;this.xl.tGc(V);return this.fba(R).then(function(ba){M.X$(ba,R);ba=R.wP?M.kc.UB.EDc(R):Promise.resolve();M.Rzc(R);return ba.then(function(){return M.xl.dGb(V);});}).catch(function(ba){M.log.error("queueManifest failed",ba);M.xl.sGc(V,ba);throw M.yj(ba.code,ba);});};d.prototype.fAc=function(){var R,M,V,ba,ha,ca;V=this.ea;(0,F.qa)(void 0 !== V.qf,"segment should have mainViewableId defined to fetch main manifest");V.Ha=null !== (R=V.Ha) && void 0 !== R?R:this.fz.GE();ba=this.rb.YO(this);R=Object.keys(ba.$).find(function(la){return ba.$[la].J === V.qf;});ha=J.Ko.oq;ca={NB:!0,Ag:!1};R && (ca=ba.$[R],ca=Object.assign(null !== (M=this.xl.fP(V.qf).zb) && void 0 !== M?M:this.jb,{Db:ca.cb,xg:ca.ib,Ag:!1,oA:Date.now(),NB:!0}),this.Eha({J:V.qf,qf:V.qf,L:R,jb:ca},V.Ha));return r.config.px && this.Wg.Pu(this.R)?this.Wg.R6(this.R):this.Wg.Yn({Ha:V.Ha,jb:ca,J:V.qf,Gs:ha,$h:void 0,lL:void 0,ke:void 0},this.ji.signal,!1);};d.prototype.ZQ=function(R){var M,V,ba,ha,ca,la,ra;M=this;V=R.Hz;ba=R.P4;ha=R.Mf;R=ha.Bb;ca=ha.kd;ha=this.xk(ca);la=J.Ko.oq;ra={NB:!0,Ag:!1,oA:Date.now()};return this.Wg.Yn({Ha:ha.Ha,jb:ra,J:ha.R,Gs:la,$h:void 0,Hz:V,P4:ba,ke:{Bb:R,gC:ha.Zd}},this.ji.signal,!1).then(function(ta){M.Wg.sCb();ta.$o.forEach(function(ja){M.Wg.FR(ja.ya.R,ja);M.IOa.set(ja.ya.R,ja);});if(!ta.ya.He)throw Error("Dai prefetch request has no adverts forparentViewableId: " + ca);return ta.ya.He;});};d.prototype.YQ=function(R){var M,V,ba,ha,ca,la,ra;M=this;(0,F.qa)(R.Mf,"auxiliaryOptions must exist if an adBreak hydration was requested");V=R.Mf;ba=V.Bb;ha=V.kd;ca=R.pk;la=R.fb;(0,F.qa)(!!ba,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;R=this.xk(R.Mf.kd);V=J.Ko.oq;ra={NB:!0,Ag:!1,oA:Date.now()};return this.Wg.Yn({Ha:R.Ha,jb:ra,J:R.R,Gs:V,$h:void 0,lL:void 0,ke:{pk:ca,fb:la,Bb:ba,kd:ha,gC:R.Zd}},this.ji.signal,!1).then(function(ta){var ja,W;ta.$o.forEach(function(ea){M.IOa.set(ea.ya.R,ea);});if(null === (ja=ta.ya.He) || void 0 === ja || !ja.yb.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (ha + ", adBreakToken: " + ca + ", adBreakTriggerId: " + la));return null === (W=ta.ya.He) || void 0 === W?void 0:W.yb[0];});};d.prototype.Bgc=function(){if((0,K.ec)(this.tf.ats) && (0,K.ec)(this.tf.at))return this.tf.at - this.tf.ats;};d.prototype.Mpb=function(){var R,M;R=this.Nca();M=this.t4();return Math.min(R,M);};d.prototype.XZ=function(){this.background.value || (this.Zc.info("Starting inactivity monitor for movie " + this.R),new u.GQb(this));};d.prototype.close=function(R){R && (this.state.value == Q.xc.CLOSED?R():this.addEventListener(Q.ha.closed,function(){R();}));this.LXa();};d.prototype.Pf=function(R,M,V){R=this.yj(R,M,V);this.IN(R,void 0);};d.prototype.IN=function(R,M){var V,ba,ha,ca;V=this;!1;(0,D.cea)(R.errorCode,R.Ma,this.Oa.uc().ca(this.xj).la(C.wa),null === (ba=this.Qd) || void 0 === ba?void 0:ba.Ty()) || this.DHa.add(this.Ia.gg,null === (ha=this.Zl) || void 0 === ha?void 0:ha.Dz.BJ,R.errorCode,R.Ma,R.yg);R.pGb(this.uo);if(this.state.value == Q.xc.oT)this.mj || (this.mj=R,this.load());else {M && (this.state.value == Q.xc.CLOSED?M():this.addEventListener(Q.ha.closed,function(){M();}));ba=function(){V.LXa(R);};ha=r.config.cmb && R && r.config.cmb[R.errorCode];ca=-1;(0,K.uX)(ha) && (ca=(0,E.jl)(ha));this.Zc.error("Fatal playback error",{Error:"" + R,HandleDelay:"" + ha});0 <= ca?setTimeout(ba,ca):ba();}};d.prototype.pN=function(R){var M;M=void 0 === M?this.L:M;R=this.Oa.uc().la(C.wa) + "-" + M + "-" + R;!1;this.SBb.push(R);};d.prototype.hfc=function(){this.Pob();};d.prototype.tNa=function(){var R;if(null === (R=this.Xa) || void 0 === R?0:R.Mj)if((R=this.Xa.Js().id,void 0 !== R))return R;return null;};d.prototype.isb=function(){var R;R=this.rb.YO(this);R=Object.values(R.$).map(function(M){return M.J;});return [].concat(za(new Set(R)));};d.prototype.kqb=function(){var R,M,V,ba;ba=this.qf?null === (M=null === (R=this.nn.get(this.qf)) || void 0 === R?void 0:R.U) || void 0 === M?void 0:M.ya.duration:null === (V=this.U) || void 0 === V?void 0:V.ya.duration;if(ba)return this.rb.Kqa.vFc(this.iF(),this.rb.Vh,ba);};d.prototype.iF=function(){var R,M;M=null === (R=this.Xa) || void 0 === R?void 0:R.Mj;return void 0 === this.ea.o5 || M?this.bP(this.mediaTime.value):this.ea.o5;};d.prototype.sNa=function(){var R;R=this.bP(this.Qd.iqb());return null === R?null:Math.min(this.FE.la(C.wa),Math.max(0,R));};d.prototype.S6=function(){var R,M;return null === (M=null === (R=this.U) || void 0 === R?void 0:R.ya.Lq) || void 0 === M?void 0:M.$;};d.prototype.Jta=function(R){!1;this.jb=(0,I.Foa)(this.jb,R);this.KGa();};d.prototype.bOa=function(R){return (null === R || void 0 === R?0:R.J)?R.J:(null === R || void 0 === R?0:R.MKb) && this.KN?this.KN.J === U.mq?(R=this.KN.Ac) && this.Xa && this.Xa.li?this.Xa.li.$[R].J:this.R:this.KN.J:this.R;};d.prototype.xgc=function(){var R;R=this.xk(this.bOa(void 0)).ja.Vd;return R?R.streams:[];};d.prototype.XI=function(R){return (R=this.xk(this.bOa(R)).ja.sh)?R.streams:[];};d.prototype.xsb=function(R){for(var M=Ea(this.zQ),V=M.next();!V.done;V=M.next())if(V=(V=V.value.Th) && V.find(function(ba){return ba.id === R;}))return V;!1;};d.prototype.Rzc=function(R){R=void 0 === R?this.ea:R;!1;R.ja.Cd?this.Sp.oUa(R.ja.Cd):Promise.resolve();};d.prototype.yKb=function(R){var M,V;M=this;V=this.rb.YO(this);Object.values(V.$).forEach(function(ba){var ha,ca;ba=M.nn.get(ba.J);ca=null === (ha=null === ba || void 0 === ba?void 0:ba.Pc) || void 0 === ha?void 0:ha.$i;ca && (ha=ca.filter(function(la){return la.wg === R.wg;}),1 < ha.length && (ha=ha.filter(function(la){return la.displayName === R.displayName;})),1 < ha.length && (ha=ha.filter(function(la){return la.Ci === R.Ci;})),(ha=Ea(ha.sort(function(la,ra){return la.wc - ra.wc;})).next().value) && ha !== ba.ja.Cd && (ba.ja.yo(ha),M.Sp.oUa(ba.ja.Cd)));});};d.prototype.ssb=function(R){for(var M=Ea(this.zQ),V=M.next();!V.done;V=M.next()){V=Ea(V.value.qk);for(var ba=V.next();!ba.done;ba=V.next())if(ba=ba.value.streams.find(function(ha){return ha.Yb === R;}))return ba;}!1;};d.prototype.Msb=function(R){for(var M=Ea(this.zQ),V=M.next();!V.done;V=M.next()){V=Ea(V.value.VC);for(var ba=V.next();!ba.done;ba=V.next())if(ba=(ba=ba.value) && ba.streams.find(function(ha){return ha.Yb === R;}))return ba;}!1;};d.prototype.cmc=function(R){for(var M=Ea(this.zQ),V=M.next();!V.done;V=M.next())if(V.value.Zd === R)return !0;return !1;};d.prototype.mB=function(){var R,M,V;return null !== (V=null === (M=null === (R=this.Eqa) || void 0 === R?void 0:R.u5) || void 0 === M?void 0:M.call(R)) && void 0 !== V?V:this.P8b().vob;};d.prototype.DGb=function(R){var M,V;null !== (M=this.Xa) && void 0 !== M && M.Mj && this.nn.has(R) && ((null === (V=this.Eqa) || void 0 === V?0:V.u5)?this.Eqa.bKb():(M=this.qJa(R),this.Xa.ysa(M,R)));};d.prototype.rpc=function(){return "trailer" === this.We;};d.prototype.aoc=function(){return !!this.We && 0 <= this.We.indexOf("billboard");};d.prototype.ypc=function(){return !!this.We && 0 <= this.We.indexOf("video-merch");};d.prototype.zub=function(){return !!this.We && 0 <= this.We.indexOf("mini-modal");};d.prototype.sX=function(){return this.rpc() || this.aoc() || this.ypc() || this.zub();};d.prototype.vla=function(){var R,M,V;M={MKb:!0};if((null === (R=this.xk(this.bOa(M)).U) || void 0 === R || !R.ya.tPa) && this.VC){this.XI(M).forEach(function(ba){var ha,ca;if((0,K.ec)(ba.sJa) && (0,K.ec)(ba.rlb) && (0,K.ec)(ba.qlb) && (0,K.ec)(ba.plb) && (0 < ba.sJa || 0 < ba.rlb)){ha=1;ca=1;(0,K.ec)(ba.xBb) && (0,K.ec)(ba.yBb) && (ha=ba.xBb,ca=ba.yBb);ha=ba.plb * ca / (ba.qlb * ha);V=(0,K.ec)(V)?0 < ba.sJa?Math.max(V,ha):Math.min(V,ha):ha;}});return V;}};d.prototype.dkc=function(){return {tr:this.QYa,rt:this.PVa};};d.prototype.KW=function(R){return this.mr[R];};d.prototype.GHa=function(){return this.Xp?this.Oa.uc().la(C.wa) - this.Xp:this.Ia.gg.la(C.wa) - this.LO();};d.prototype.T4=function(){var R;if(this.Xp)return this.Oa.uc().la(C.wa) - this.Xp;R=this.Oa.zF;return this.L$ - (this.xj.la(C.wa) + R.la(C.wa));};d.prototype.HHa=function(){return this.Xp?this.Oa.uc().la(C.wa) - this.Xp:this.L$ - this.LO();};d.prototype.Hgc=function(){var R,M;R=this.loadTime;M={};(0,E.Yh)(this.hHa,function(V,ba){M[V]=ba.map(function(ha){return ha - R;});});return e.dB?{level:e.dB.Fqb(),charging:e.dB.qMa(),statuses:M}:null;};d.prototype.kma=function(){this.Oob();return this.Xta;};d.prototype.LO=function(){var R;R=this.jb.oA;R=(0,K.ec)(R)?R:this.xj.la(C.wa) + this.Oa.zF.la(C.wa);(0,F.qa)((0,K.xJ)(R));return R;};d.prototype.Brb=function(){return this.Oa.uc().la(C.wa) - this.xj.la(C.wa);};d.prototype.XNc=function(){this.NHc=!0;};d.prototype.spa=function(){this.CDb();};d.prototype.Nca=function(){var R;R=this.DU();return R && R.vbuflmsec || 0;};d.prototype.t4=function(){var R;R=this.DU();return R && R.abuflmsec || 0;};d.prototype.vKc=function(){var R;R=this.DU();return R && R.tbuflmsec || 0;};d.prototype.TZa=function(){var R;R=this.DU();return R && R.vbuflbytes || 0;};d.prototype.SGa=function(){var R;R=this.DU();return R && R.abuflbytes || 0;};d.prototype.uKc=function(){var R;R=this.DU();return R && R.tbuflbytes || 0;};d.prototype.fba=function(R,M,V){var ba,ha,ca,la;ba=this;R=void 0 === R?this.ea:R;V=void 0 === V?!0:V;!1;ha=!!M;ca=!ha && R !== this.ea;la=r.config.lra.enabled?J.Ko.eUb:ca?J.Ko.t2:this.sX()?J.Ko.Mfa:J.Ko.oq;ha=this.sX() || ha || ca?void 0:(0,fa.f7)(r.config,ca);return this.Wg.Yn({Ha:R.Ha,jb:R.jb,J:R.R,Gs:la,$h:ha,lL:M,ke:R.ke},this.ji.signal,R.ke?!1:V).then(function(ra){ra.IPa && ba.fireEvent(Q.ha.JQa,{R:R.R});return ra;});};d.prototype.X$=function(R,M,V){var ba,ha,ca,la;M=void 0 === M?this.ea:M;V=void 0 === V?!1:V;!1;if(M.jb.Ag && !R.ya.Lq)this.Pf(D.aa.aNb);else {ha=this.t9.create(this);ca=!!(M.ke && M.ke.Bb && M.ke.z$);if(V){la=ha.Hmc(M.U,M.Pc,R);R=la.U;la=la.Pc;}else (R=ca?ha.TEc(R,null === (la=M.ke) || void 0 === la?void 0:la.z$):R,la=ha.SAb(R));M.U=R;M.Pc=la;M.qf && (M.ke=Object.assign(null !== (ba=M.ke) && void 0 !== ba?ba:{},{Bb:R.ya.Bb,gC:R.ya.Zd}));M.R !== M.qf || this.ioa || (this.ioa=R.ya.Zd);V || (M.ja.mXa(la.L5),M.ja.bA(la.G5),M.ja.yo(la.I5));M.Fc.xa && M.Fc.EUa();}};d.prototype.wfc=function(R){var M;M=void 0 === M?!1:M;!1;this.kR({J:R,rP:M});};d.prototype.zsb=function(R,M){if(!this.Ek.MZa)return !0;R=this.yr.la(C.wa) - R;return 0 > R || R > M;};d.prototype.DEb=function(){!1;this.Qd.seek(this.iF() || 0,Q.Dc.eea);};d.prototype.etb=function(R,M){var V,ba;V=this;!1;ba=this.ea;ba.Yja=!0;return this.fba(ba,{gC:ba.Zd,VDc:R,YDc:M},!1).then(function(ha){var ca;V.X$(ha,ba,!0);V.Wg.FR(ba.R,ba.U);return null === (ca=V.Xa) || void 0 === ca?void 0:ca.G_(V.RBb);}).then(function(){var ha,ca;ha=ba.qk.find(function(la){return la.trackId === R;});ca=ba.$i.find(function(la){return la.trackId === M;});if(!(ha && ha.hg && ca && ca.hg))throw Error("Track hydration failed: requiredAudioTrackId=" + R + " requiredTextTrackId=" + M);V.fireEvent(Q.ha.rJb);return {Vd:ha,$ba:ca};});};d.prototype.Wm=function(){return this.Oc;};d.prototype.kR=function(R){var M,V,ba;M=R.J;V=R.rP;R=R.KN;!1;R !== this.KN && (this.KN=R,this.CKb());if(this.YY){if(M === this.rI){this.YY=M;return;}R=this.xk(M);ba=R.U;ba && (0,K.$c)(ba.$Q) && (0,K.$c)(ba.rZ) && R.dJ({pr_ats:ba.$Q,pr_at:ba.rZ});this.qf && R.qf === this.qf || this.fireEvent(Q.ha.oRa,{R:this.rI});this.rI=M;this.KGa();V || this.PEb();this.rF=this.Ia.oG;this.ea.Xp || (this.ea.Xp=this.Oa.uc().la(C.wa));}("boolean" === typeof this.jb.ZV?this.jb.ZV:r.config.ZV) && !V && this.$Ya.ZV(this);V={R:M,rP:V,YY:this.YY};this.YY=M;this.fireEvent(Q.ha.WB,V);};d.prototype.F8b=function(){!1;try{this.kc=new h.pza(this);this.JJ=this.LX.create(this,this.ea,!0,this.bP);r.config.k4b && new S.wPb(this,this.log);r.config.X4 && this.X4(this);this.nNc();}catch(R){this.jv(D.aa.rQb,{Ma:D.W.fq,df:(0,E.Mi)(R)});}};d.prototype.nNc=function(){!1;this.mj?this.IN(this.mj):(0,K.WPa)(this.R)?this.R4b():this.jv(D.aa.oQb,{df:"" + this.R});};d.prototype.R4b=function(){var R;!1;R=c.ER.WFb;R?R.success?this.uIa():this.jv(D.aa.u5a,R):((0,F.qa)(!r.config.zka),this.NFa());};d.prototype.uIa=function(){var R;R=this;!this.background.value && r.config.uIa?(0,w.a$a)(function(){R.NFa();},this):this.NFa();};d.prototype.NFa=function(){var R;R=this;!1;this.state.value == Q.xc.LOADING && (r.config.TKa && !this.sX()?c.ER.vy(w.$9a,function(M){M.success?(R.eoa=M.eoa,R.Ghb()):R.jv(D.aa.t5a);},!0):this.Ghb());};d.prototype.Ghb=function(){var R,M,V,ba;R=this;if(this.state.value == Q.xc.LOADING){this.log.info("Authorizing",this);M=this.Oa.uc().la(C.wa);this.Kg("ats");(0,F.CV)(this.R);(0,F.CV)(this.Em);V=this.bBc.bind(this,M);ba=this.ea;Promise.all([this.U,r.config.px && this.Wg.Pu(this.R)?this.Wg.R6(this.R).catch(function(){}):void 0,ba.qf && ba.qf !== ba.R?this.fAc():void 0]).then(function(ha){var ca,la,ra,ta,ja,W;ca=Ea(ha);ha=ca.next().value;la=ca.next().value;ca=ca.next().value;ha && la?ta=la.ya.expiration > ha.ya.expiration?la:ha:ha?ta=ha:la && (ta=la);ta && 18E5 > ta.ya.expiration - R.Ia.oG.la(C.wa) && (ta=void 0);if(ca){la=R.nn.get(ba.qf);ja=ca.ya.Zd;W=ca.ya.Bb;R.ioa=ja;la && R.X$(ca,la);ba.ke=Object.assign(null !== (ra=ba.ke) && void 0 !== ra?ra:{},{Bb:W,gC:ja});W && W !== (null === ta || void 0 === ta?void 0:ta.ya.Bb) && (ta=void 0);}return ta?(R.EN=ta === ha?"ui":"videopreparer",ta):R.fba();}).then(function(ha){try{R.X$(ha);V(m.Jj);R.HBb || (R.HBb=!0,R.GTa.sl(R));}catch(ca){R.log.error("Exception processing authorization response",ca);V({success:!1,Ma:D.W.GTb});}}).catch(V);}};d.prototype.bBc=function(R,M){var V,ba;V=this;!1;if(this.state.value == Q.xc.LOADING){this.Kg("at");ba=this.U;this.dJ({pr_ats:ba && (0,K.$c)(ba.$Q)?ba.$Q:R,pr_at:ba && (0,K.$c)(ba.rZ)?ba.rZ:this.Oa.uc().la(C.wa)});M.success?((0,aa.xa)(ba.ya.Jf),0 < this.Pc.Th.length && this.Pc.G5 && this.Pc.L5 && this.Pc.I5?this.XBb?(this.log.info("Processing post-authorize",this),this.XBb(this,function(ha){ha.success?V.hKb():V.jv(D.aa.vQb,ha);})):this.hKb():this.jv(D.aa.Y6a,this.pRa(this.Pc))):this.jv(D.aa.eM,M);}};d.prototype.hKb=function(){n.__awaiter(this,void 0,void 0,function M(){var V,ba,ha;ha=this;return Ta(M,function(ca){!1;if(ha.state.value != Q.xc.LOADING)return ca.return();(null === (V=ha.ea.U) || void 0 === V?0:V.ya.Lq) && ha.rb.reset((0,U.fIa)(null === (ba=ha.ea.U) || void 0 === ba?void 0:ba.ya.Lq,{config:r.config}));ha.Xa=ha.NGa(ha.rb,ha);ha.Xa.iHc({fu:f.fu,config:r.config,Cf:ha.Cf,Zc:ha.Zc,zz:ha.zz.bind(ha),bm:B.bm,kba:ha.kba.bind(ha),kR:ha.kR.bind(ha)});ha.Dzc();ca.oo=0;});});};d.prototype.Y9b=function(){var R,M,V,ba,ha,ca,la,ra;R=this;!1;try{if(this.state.value === Q.xc.LOADING){this.kc.open();M=new Promise(function(ta){R.kc.addEventListener(L.Ok.IXa,ta);});this.Qd=new N.vza(this,this.Db);V=this.Pc.G5.Ci === Y.Pt.NONE;ba={oLb:this.Pc.G5.xp || V};ha={Ha:this.Ha,yi:this.correlationId,CI:this.CI};try{if(this.state.value !== Q.xc.LOADING)return;ca=this.Xa;ca.d8({flags:ba,x5:ha,L:this.RBb,qJa:this.qJa.bind(this)});la=this.rb.YO(this);this.clb(la);ca.qL(la);this.r_b();ca.m2b({mr:this.mr,loadTime:this.loadTime});this.Oc=this.aGa(ca,this);this.Oc.Xo.addListener(function(ta){var ja,W;ta.newValue?("dynamic" === (null === (ja=R.Oc) || void 0 === ja?void 0:ja.uQa) && R.Sp.tmc(),r.config.px && R.$f.msb()):"dynamic" === (null === (W=R.Oc) || void 0 === W?void 0:W.uQa) && R.Sp.QHc();});this.Oc.addEventListener(Q.Hua.xha,function(){R.$f.msb();});}catch(ta){throw (this.log.error("Failed to initialize ASE streaming",{error:ta,startPts:this.Db,flags:ba}),ta);}M.then(function(){var ta;R.state.value !== Q.xc.CLOSING && R.state.value !== Q.xc.CLOSED && (null === (ta=R.Xa) || void 0 === ta?void 0:ta.open());});this.mediaTime.set(this.Db);ra=new ma.ccb(r.config);this.Sp=new l.bcb(this,ra);if("boolean" === typeof this.jb.yra?this.jb.yra:r.config.yra)this.eca=new A.dcb(this,ra);this.XZ();w.iBa.forEach(function(ta){ta(R);});this.lvc();}}catch(ta){this.jv(D.aa.tQb,{Ma:D.W.fq,df:(0,E.Mi)(ta)});}};d.prototype.mvc=function(){(0,F.qa)(this.state.value == Q.xc.oT);this.loadTime=this.Oa.uc().la(C.wa);this.state.set(Q.xc.LOADING);};d.prototype.lCc=function(){return n.__awaiter(this,void 0,void 0,function M(){var V,ba,ha,ca,la,ra,ta;V=this;return Ta(M,function(ja){if(1 == ja.oo)return (ba=V,la=(0,K.ec)(null === (ha=V.Xa) || void 0 === ha?void 0:ha.nib)?null === (ca=V.Xa) || void 0 === ca?void 0:ca.nib:V.Qq,(0,F.qa)((0,K.ec)(la),"lastPts before restart should have a valid number type"),ra=V.Qd.Lz,V.$b.bd(Q.ha.Kaa),V.kc=new h.pza(V),V.kc.open(),ta=new Promise(function(W){ba.kc.addEventListener(L.Ok.IXa,W);}),V.Qd=new N.vza(V,ra?V.mediaTime.value:la),ab(ja,ta,2));if(V.state.value !== Q.xc.CLOSING && V.state.value !== Q.xc.CLOSED)return ja.return(Promise.resolve());ja.oo=0;});});};d.prototype.jv=function(R,M){this.done || (this.done=!0,M instanceof P.ue?this.Pf(M.code,M):this.Pf(R,M));};d.prototype.X4=function(R){var V,ba;function M(){var ha,ca;ha=e.dB.qMa() + "";ca=R.hHa[ha];ca || (ca=R.hHa[ha]=[]);ca.push(V.Oa.uc().la(C.wa));V.log.trace("charging change event",{level:e.dB.Fqb(),charging:e.dB.qMa()});}V=this;ba=e.dB.GNb;e.dB.addEventListener(ba,M);R.addEventListener(Q.ha.Tg,function(){e.dB.removeEventListener(ba,M);});};d.prototype.LXa=function(R){var M,V;M=this;if(this.state.value == Q.xc.oT || this.state.value == Q.xc.LOADING || this.state.value == Q.xc.mf){this.Zc.info("Playback closing",this,R?{ErrorCode:R.bka}:void 0);this.pN("Closing");v.oe.removeListener(v.cn,this.l$);v.oe.removeListener(v.cr,this.hAb);this.mj=R;this.ea.o5=this.iF();this.Oob();(null === (V=this.Xa) || void 0 === V?0:V.Mj) && this.Xa.flush();try{this.$b.bd(Q.ha.Tg,{movieId:this.rI});}catch(ba){this.Zc.error("Unable to fire playback closing event",ba);}this.state.set(Q.xc.CLOSING);this.oMb();this.ji.abort();this.NHc || (0,G.yh)(function(){return M.CDb();});}};d.prototype.Xec=function(){this.$b.bd(Q.ha.aKb);};d.prototype.Pob=function(){var R;R=this.mediaTime.value;this.lqc != R && (!1,this.lqc=R,this.$b.bd(Q.ha.CYa));};d.prototype.CDb=function(){var R,M;R=this;(0,F.qa)(this.state.value == Q.xc.CLOSING);M=this.eoa;this.eoa=void 0;M?c.ER.release(M,function(V){(0,F.qa)(V.success);R.zIa();}):this.zIa();};d.prototype.oMb=function(){var R;null === (R=this.Xa) || void 0 === R?void 0:R.Qe();delete this.Xa;};d.prototype.zIa=function(){var R,M;this.zIa=m.kH;(0,F.qa)(this.state.value == Q.xc.CLOSING);M=w.No.indexOf(this);(0,F.qa)(0 <= M);w.No.splice(M,1);this.state.set(Q.xc.CLOSED);this.$b.bd(Q.ha.closed,void 0,!0);this.$b.Hg();M=Ea(this.zQ);for(var V=M.next();!V.done;V=M.next())(V=V.value,null === (R=V.Zl) || void 0 === R?void 0:R.close().catch(function(){}),delete V.Zl);this.ea.spa();};d.prototype.KGa=function(){this.jb.playbackState && ("number" === typeof this.jb.playbackState.volume && this.volume.set((0,H.AD)(this.jb.playbackState.volume,0,1)),"boolean" === typeof this.jb.playbackState.muted && this.muted.set(this.jb.playbackState.muted),"number" === typeof this.jb.playbackState.playbackRate && this.playbackRate.set(this.jb.playbackState.playbackRate));};d.prototype.Oob=function(){this.$b.bd(Q.ha.tXa,{Xta:this.Xta});};d.prototype.kba=function(R,M,V){M=this.xsb(M);R=this.el(R);M && R.Kc[V].set(M);};d.prototype.zz=function(){return {AudioBufferLength:this.t4(),VideoBufferLength:this.Nca()};};d.prototype.DU=function(){var R;if(null === (R=this.Xa) || void 0 === R?0:R.Mj)return this.Xa.Xtb();};d.prototype.lvc=function(){this.state.value == Q.xc.LOADING && this.state.set(Q.xc.mf);};d.prototype.P8b=function(){var R,M,V;R=void 0 === R?this.R:R;M=this.XI({J:R});V=this.xk(R);return (0,X.mB)(M,function(ba){return V.WX.sG(ba);});};d.prototype.qJa=function(R){var M,V;R=void 0 === R?this.R:R;M=this.XI({J:R});V=this.xk(R);return (0,X.hlc)(M,function(ba){return V.WX.sG(ba);});};d.prototype.clb=function(R){var M;M=this;Object.keys(R.$).filter(function(V){return !M.nn.has(R.$[V].J);}).forEach(function(V){var ba,ha,ca,la,ra,ta,ja;ca=R.$[V];la=ca.J;ra=M.nn.get(R.$[R.ff].J);ta=ca.jo?M.nn.get(ca.jo):void 0;ja=Object.assign(null !== (ba=M.xl.fP(la).zb) && void 0 !== ba?ba:M.jb,{Db:ca.cb,xg:ca.ib,Ag:!1,oA:Date.now(),NB:!0});ba=M.bQa(ca.jo) && M.ioa?{Bb:null !== (ha=null === ta || void 0 === ta?void 0:ta.Bb) && void 0 !== ha?ha:null === ra || void 0 === ra?void 0:ra.Bb,gC:M.ioa}:void 0;M.Eha({J:la,qf:ca.jo,L:V,jb:ja,ke:ba},M.bQa(ca.jo)?null === ra || void 0 === ra?void 0:ra.Ha:void 0);});};Ga.Object.defineProperties(d.prototype,{zQ:{configurable:!0,enumerable:!0,get:function(){return this.nn.values();}},ea:{configurable:!0,enumerable:!0,get:function(){return this.nn.get(this.rI);}},iRa:{configurable:!0,enumerable:!0,get:function(){return this.xk(this.$rc);}},Db:{configurable:!0,enumerable:!0,get:function(){var R,M;return void 0 !== this.ap?this.ap:null !== (M=null === (R=this.zQ.next()) || void 0 === R?void 0:R.value.jb.Db) && void 0 !== M?M:0;}},Pc:{configurable:!0,enumerable:!0,get:function(){return this.ea.Pc;},set:function(R){this.ea.Pc=R;}},bla:{configurable:!0,enumerable:!0,get:function(){return this.ea.jb.bla;}},cla:{configurable:!0,enumerable:!0,get:function(){return this.ea.jb.cla;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ea.index;}},L:{configurable:!0,enumerable:!0,get:function(){return this.ea.L;}},RBb:{configurable:!0,enumerable:!0,get:function(){return this.rb.NZa?this.rb.Vh:this.ea.L;}},Zl:{configurable:!0,enumerable:!0,get:function(){return this.ea.Zl;},set:function(R){this.ea.Zl=R;}},Xp:{configurable:!0,enumerable:!0,get:function(){return this.ea.Xp;},set:function(R){this.ea.Xp=R;}},EN:{configurable:!0,enumerable:!0,get:function(){return this.ea.EN;},set:function(R){this.ea.EN=R;}},TU:{configurable:!0,enumerable:!0,get:function(){return this.ea.TU;},set:function(R){this.ea.TU=R;}},Tma:{configurable:!0,enumerable:!0,get:function(){return this.ea.Tma;},set:function(R){this.ea.Tma=R;}},U:{configurable:!0,enumerable:!0,get:function(){return this.ea.U;},set:function(R){this.ea.U=R;}},ap:{configurable:!0,enumerable:!0,get:function(){return this.ea.ap;},set:function(R){this.ea.ap=R;}},Uba:{configurable:!0,enumerable:!0,get:function(){return this.ea.Uba;},set:function(R){this.ea.Uba=R;}},jb:{configurable:!0,enumerable:!0,get:function(){return this.ea.jb;},set:function(R){this.ea.jb=R;}},JJ:{configurable:!0,enumerable:!0,get:function(){return this.ea.JJ;},set:function(R){this.ea.JJ=R;}},so:{configurable:!0,enumerable:!0,get:function(){return this.ea.so;}},R:{configurable:!0,enumerable:!0,get:function(){return this.ea.R;}},We:{configurable:!0,enumerable:!0,get:function(){return this.ea.We;}},qk:{configurable:!0,enumerable:!0,get:function(){return this.ea.qk;}},VC:{configurable:!0,enumerable:!0,get:function(){return this.ea.VC;}},EG:{configurable:!0,enumerable:!0,get:function(){return this.ea.EG;}},$i:{configurable:!0,enumerable:!0,get:function(){return this.ea.$i;}},Zd:{configurable:!0,enumerable:!0,get:function(){return this.ea.Zd;}},Bb:{configurable:!0,enumerable:!0,get:function(){return this.ea.Bb;}},wP:{configurable:!0,enumerable:!0,get:function(){return this.ea.wP;}},NQ:{configurable:!0,enumerable:!0,get:function(){return this.ea.NQ;}},Tq:{configurable:!0,enumerable:!0,get:function(){return this.ea.Tq;}},Th:{configurable:!0,enumerable:!0,get:function(){return this.ea.Th;}},FE:{configurable:!0,enumerable:!0,get:function(){return this.ea.FE;},set:function(R){this.ea.FE=R;}},Ha:{configurable:!0,enumerable:!0,get:function(){return this.ea.Ha;}},qf:{configurable:!0,enumerable:!0,get:function(){return this.ea.qf;}},Em:{configurable:!0,enumerable:!0,get:function(){return this.ea.Em;}},xj:{configurable:!0,enumerable:!0,get:function(){return this.ea.xj;}},rF:{configurable:!0,enumerable:!0,get:function(){return this.ea.rF;},set:function(R){this.ea.rF=R;}},correlationId:{configurable:!0,enumerable:!0,get:function(){return this.ea.correlationId;}},oR:{configurable:!0,enumerable:!0,get:function(){return this.ea.oR;}},Qq:{configurable:!0,enumerable:!0,get:function(){return this.ea.Qq;}},tf:{configurable:!0,enumerable:!0,get:function(){return this.ea.tf;}},ju:{configurable:!0,enumerable:!0,get:function(){return this.ea.ju;}},tKa:{configurable:!0,enumerable:!0,get:function(){return this.ea.tKa;}},WX:{configurable:!0,enumerable:!0,get:function(){return this.ea.WX;}},CI:{configurable:!0,enumerable:!0,get:function(){var R,M,V,ba;V=r.config.Lmb;ba=null === (M=null === (R=this.U) || void 0 === R?void 0:R.ya.YK) || void 0 === M?void 0:M.ata;if(void 0 !== ba && void 0 !== ba.downloadReportDenominator)try{V=parseInt(ba.downloadReportDenominator,10);}catch(ha){this.log.error("Unable to parse manifest config override:" + ba.downloadReportDenominator);}return 0 !== V && 0 === this.ea.Ha % V;}},Yja:{configurable:!0,enumerable:!0,get:function(){return this.ea.Yja;}},Fc:{configurable:!0,enumerable:!0,get:function(){return this.ea.Fc;}},BV:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},ai:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.R,TrackingId:this.Em,Xid:this.Ha};}},zr:{configurable:!0,enumerable:!0,get:function(){return this.rb.zr;}}});b.c$a=d;},52200:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x;function d(y,A,z,B,C,D){var F;F=this;this.j=y;this.Un=A;this.zca=z;this.ek=B;this.mHb=C;this.My=D;this.Flb={};this.update=function(){var H;if(F.zt.selectionStart == F.zt.selectionEnd){H="";F.b7().forEach(function(E){H=H?H + "\n":"";Object.entries(E).forEach(function(G){var K;K=Ea(G);G=K.next().value;K=K.next().value;H+=G + ": " + K + "\n";});});F.zt.style.fontSize=(0,g.AD)((0,e.jT)(F.element.clientHeight / 60),8,18) + "px";F.zt.value=H;}};this.pwc=function(){var H,E;if(F.j.Qd){E=F.j.Qd.SO();E && (F.vJa=E - (null !== (H=F.eJb) && void 0 !== H?H:0),F.eJb=E,F.vY());}};this.vY=function(){F.zca.Vf(F.update);};this.onkeydown=function(H){H.ctrlKey && H.altKey && H.shiftKey && (H.keyCode == k.aT.eOb || H.keyCode == k.aT.Q) && F.toggle();};this.EBb=[y.mediaTime,y.Kc[p.v.X],y.Kc[p.v.V],y.Kc[p.v.Aa],y.Gf,y.Te,y.Hi,y.mg,y.nk,y.state,y.qs,y.Tb,y.volume,y.muted];this.element=this.ek.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.zt=this.ek.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.zt);this.controls=this.ek.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);A=this.ek.createElement("button",void 0,"X");A.addEventListener("click",function(){return F.JB();},!1);this.controls.appendChild(A);c.oe.addListener(c.YI,this.onkeydown);y.addEventListener(l.ha.Tg,function(){c.oe.removeListener(c.YI,F.onkeydown);F.JB();});}Object.defineProperty(b,"__esModule",{value:!0});b.e$a=void 0;n=a(13044);c=a(37509);g=a(8825);f=a(77705);e=a(22365);h=a(32687);l=a(85001);k=a(43193);m=a(5021);p=a(26388);r=a(45247);q=a(75568);t={};u=(t[l.xc.oT]="Not Loaded",t[l.xc.LOADING]="Loading",t[l.xc.mf]="Normal",t[l.xc.CLOSING]="Closing",t[l.xc.CLOSED]="Closed",t);t={};v=(t[l.Pg.mf]="Normal",t[l.Pg.Df]="Pre-buffering",t[l.Pg.Iab]="Network stalled",t);t={};w=(t[l.Gb.Qg]="Waiting for decoder",t[l.Gb.bg]="Playing",t[l.Gb.gi]="Paused",t[l.Gb.Iv]="Media ended",t);x=[l.ha.E9];d.prototype.nGc=function(y){this.Flb.DFR=y;};d.prototype.show=function(){var y;y=this;this.visible || (this.i8=Ba.setInterval(this.pwc,1E3),document.body.appendChild(this.element),this.EBb.forEach(function(A){A.addListener(y.vY);}),x.forEach(function(A){y.j.addEventListener(A,y.vY);}),this.visible=!0,this.My.Oba().then(function(A){y.tOa=A;y.vY();}));this.update();};d.prototype.JB=function(){var y;y=this;this.visible && (clearInterval(this.i8),this.eJb=this.vJa=void 0,document.body.removeChild(this.element),this.EBb.forEach(function(A){A.removeListener(y.vY);}),x.forEach(function(A){y.j.removeEventListener(A,y.vY);}),this.zca.Vf(),this.visible=!1);};d.prototype.toggle=function(){this.visible?this.JB():this.show();};d.prototype.b7=function(){var y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma,R,M,V,ba,ha,ca,la,ra,ta,ja,W,ea,ka,pa,qa,na,Aa,Ha,oa,wa,ya,ua,xa,Ca,Ja,Ka,La,Oa;y=this;Y=[];X=this.Un();Y.push({Version:"6.0052.501.911",Esn:X?X.Li:"UNKNOWN",PBCID:this.j.correlationId,UserAgent:e.nT});try{T=this.j.mediaTime.value;U={MovieId:this.j.R,PackageId:null === (z=null === (A=this.j.U) || void 0 === A?void 0:A.ya) || void 0 === z?void 0:z.ur,Xid:this.j.Ha + " (" + n.No.map(function(Na){return Na.Ha;}).join(", ") + ")",Position:(0,g.Ij)(T),Duration:(0,g.Ij)(this.j.FE.la(m.wa)),PlayerDuration:(0,g.Ij)(this.j.yr.la(m.wa)),Volume:(0,e.Xr)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.tNa()};if(this.j.jb.Ag || this.j.jb.NB)U["Segment Position"]=(0,g.Ij)(this.j.iF());null === (B=this.j.Wm()) || void 0 === B || B.Lqb();if(this.j.Fc.xa){U["Is Live"]="true";U["Live Event Slate"]=this.j.Fc.TI();U["Is At Live Edge"]="" + this.j.Fc.kz();U["Adjusted Live Edge Target"]=(0,g.Ij)(this.j.Fc.Vy());U["Live Adjusted Duration"]=(0,g.Ij)(this.j.Fc.esb());U["Live Adjusted Playback Position"]=(0,g.Ij)(this.j.Fc.gma());U["Live Event Time Playback Position"]=this.j.Fc.hhc();U["Live Segment Number"]=this.j.Fc.ihc();Z=[p.v.V,p.v.X,p.v.Aa].reduce(function(Na,Qa){var Ra,Va,Xa;Xa=null === (Va=null === (Ra=y.j.Xa) || void 0 === Ra?void 0:Ra.vz) || void 0 === Va?void 0:Va[Qa];Na[(0,r.LF)(Qa)]=Xa?{encoderRegion:Xa.zu,encoderTag:Xa.Au}:void 0;return Na;},{});U["Live Logging Info"]=JSON.stringify(Z);}Y.push(U);}catch(Na){}try{Y.push({"Player state":u[this.j.state.value],"Buffering state":v[this.j.qs.value],"Rendering state":w[this.j.Tb.value]});}catch(Na){}try{aa=this.j.TZa() + this.j.SGa();da=this.j.Gf.value;fa=null === da || void 0 === da?void 0:da.stream;ma=this.j.Te.value;R=null === ma || void 0 === ma?void 0:ma.stream;M=null !== (C=null === fa || void 0 === fa?void 0:fa.bitrate) && void 0 !== C?C:"?";V=R?R.bitrate + " (" + R.width + "x" + R.height + ")":"?";ba=null !== (D=null === fa || void 0 === fa?void 0:fa.Yb) && void 0 !== D?D:"?";ha=null !== (F=null === R || void 0 === R?void 0:R.Yb) && void 0 !== F?F:"?";ca=null !== (H=null === R || void 0 === R?void 0:R.Ob) && void 0 !== H?H:"?";la=null !== (G=null === (E=this.j.mg.value) || void 0 === E?void 0:E.Ob) && void 0 !== G?G:"?";ra=null !== (N=null === (K=this.j.Hi.value) || void 0 === K?void 0:K.bitrate) && void 0 !== N?N:"?";ta=null !== (L=null === (I=this.j.mg.value) || void 0 === I?void 0:I.bitrate) && void 0 !== L?L:"?";ja=this.j.Kc[p.v.X].value;W=this.j.Kc[p.v.V].value;ea=this.j.Kc[p.v.Aa].value;Y.push({"Playing bitrate (a/v)":M + " / " + V,"Playing/Buffering vmaf":ca + "/" + la,"Buffering bitrate (a/v)":ra + " / " + ta,"Buffer size in Bytes (a/v)":this.j.SGa() + " / " + this.j.TZa(),"Buffer size in Bytes":"" + aa,"Buffer size in Seconds (a/v)":(0,g.Ij)(this.j.t4()) + " / " + (0,g.Ij)(this.j.Nca()),"Downloadables (a/v)":ba + " / " + ha,"Current CDN (a/v/t)":(ja?ja.name + ", Id: " + ja.id:"?") + " / " + (W?W.name + ", Id: " + W.id:"?") + " / " + (ea?ea.name + ", Id: " + ea.id:"?")});}catch(Na){}try{ka=this.j.Gf.value;A={};if(ka && ka.stream){pa=ka.stream;qa=pa.track;na=this.mHb.Fkb(qa.streams);Aa=pa.me;if((/xheaac/).test(Aa))Ha="xhe-aac";else if((/heaac/).test(Aa))Ha="he-aac";else if((/ddplus/).test(Aa))switch(Aa){case q.Ic.NL:Ha="ddplus51";break;case q.Ic.OL:Ha="ddplus51hq";break;case q.Ic.PL:Ha="ddplusatmos";break;default:Ha="ddplus";}else Ha="unknown";A["Audio Track"]=qa.wg + ", Id: " + qa.trackId + ", Channels: " + qa.channels + ", Codec: " + na + " (" + Ha + ")";A["Audio Tags"]=null === (O=ka.stream) || void 0 === O?void 0:O.ck.toString();}oa=this.j.Te.value;if(oa && oa.stream){wa=oa.stream;ya=this.mHb.nlb(this.j.ja.sh?this.j.ja.sh.streams:[]);ua=wa.me;xa=(/hevc/).test(ua)?"hevc":(/h264hpl/).test(ua)?"avchigh":(/av1/).test(ua)?"av1":"avc";(/hdr/).test(ua) && (xa+=", hdr");(/dv/).test(ua) && (xa+=", dv");(/prk/).test(ua) && (xa+=", prk");A["Video Track"]="Codec: " + ya + " (" + xa + ")";A["Video Tags"]=null === (J=oa.stream) || void 0 === J?void 0:J.ck.toString();}Ca=this.j.nk.value;A["Timed Text Track"]=Ca?Ca.wg + ", Profile: " + Ca.profile + ", Id: " + Ca.trackId + ", DownloadableId: " + Ca.Yb:"none";Y.push(A);}catch(Na){}try{Ja=this.j.Qd;Ka=this.j.mg.value?this.j.mg.value.framerate:0;La=a(99732).Qwb;Y.push({Framerate:Ka.toFixed(3),"Current Dropped Frames":(0,h.ec)(this.vJa)?this.vJa:"","Total Frames":Ja.Ty(),"Total Dropped Frames":Ja.SO(),"Total Corrupted Frames":Ja.W6(),"Main Thread stall/sec":La?La.Hla().join(" "):"DISABLED",KeySystem:null === (Q=this.j.Zl) || void 0 === Q?void 0:Q.Dz.BJ,KeyStatus:null === (S=null === (P=this.j.Zl) || void 0 === P?void 0:P.Cqb) || void 0 === S?void 0:S.call(P),VideoDiag:(0,f.lRa)(this.j.kma()),"HDR support":this.tOa?this.tOa.result + " (" + this.tOa.reason + ")":"unknown"});}catch(Na){}try{Y.push({Throughput:this.j.ob + " kbps"});}catch(Na){}Oa=void 0;try{Object.entries(this.Flb).forEach(function(Na){var Qa;Qa=Ea(Na);Na=Qa.next().value;Qa=Qa.next().value;Oa=Oa || ({});Oa[Na]=JSON.stringify(Qa);});Oa && Y.push(Oa);}catch(Na){}return Y;};b.e$a=d;},25138:function(t,b,a){var c,g,f,e;function d(h,l,k,m){this.Ha=h;this.SDc=l;this.ta=k;this.Qh=m;this.tf={};}function n(h,l){this.Vg=h;this.Qh=l;this.Kd={};this.ta=h.qb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.UTb=b.mBa=void 0;t=a(22970);c=a(22674);g=a(87386);f=a(81918);e=a(5021);n.prototype.NCc=function(h,l){this.Kd[h] && this.ta.warn("registerPlayback: xid " + h + " already registered, overriding");l=(l?l:this.Qh.uc()).la(e.wa);this.ta.trace("registerPlayback: xid " + h + " at " + l);this.Kd[h]=new d(h,l,this.ta,this.Qh);return this.Kd[h];};n.prototype.Cjc=function(h){this.Kd[h] || this.ta.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.Kd[h];};n.prototype.gDc=function(h){this.ta.trace("removePlayback: xid " + h);delete this.Kd[h];};a=n;b.mBa=a;b.mBa=a=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(g.wb)),t.__param(1,(0,c.l)(f.Sd))],a);d.prototype.eu=function(h,l){l=l?l.la(e.wa):this.Qh.uc().la(e.wa) - this.SDc;this.ta.trace("addMilestone: xid " + this.Ha + " " + h + " at " + l);this.tf[h]=l;};b.UTb=d;},81889:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;a.prototype.qRa=function(d){d=void 0 === d?{}:d;return {Em:d.trackingId,tia:d.authParams,Op:d.sessionParams,We:d.uiLabel,Qta:d.uxLabels,hKa:d.disableTrackStickiness,oA:d.uiPlayStartTime,bla:d.forceAudioTrackId,cla:d.forceTimedTextTrackId,Ag:d.isBranching,playbackState:d.playbackState?{currentTime:d.playbackState.currentTime,volume:d.playbackState.volume,muted:d.playbackState.muted,playbackRate:d.playbackState.playbackRate}:void 0,ZV:d.enableTrickPlay,uOa:d.heartbeatCooldown,NB:d.isPlaygraph,coa:d.loadImmediately || !1,tBb:d.pin,R$:d.preciseSeeking,Db:d.startPts,xg:d.endPts,Ui:d.logicalEnd,yra:d.renderTimedText,Ynb:d.extraManifestParams,PGa:d.assetId,s1b:d.audioLanguages,wKc:d.textLanguages,mLb:d.videoLanguage,kLb:d.videoAspectRatio,ur:d.packageId,jmb:d.desiredDownloadables,GVa:d.requestReference,N_b:d.additionalAudioAssets,Q_b:d.additionalTextAssets};};b.oBa=a;},65361:function(t,b,a){var n,c;function d(g,f){g=n.tc.call(this,g) || this;g.ARa=f;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.g$a=void 0;n=a(81734);c=a(8825);Ia(d,n.tc);d.prototype.set=function(g){n.tc.prototype.set.call(this,(0,c.AD)(g,0,this.ARa));};b.g$a=d;},37025:function(t,b,a){var n,c,g;function d(f,e,h,l,k,m,p,r,q,u,v,w,x,y,A){this.index=f;this.R=e;this.L=h;this.jb=l;this.Ha=k;this.xj=m;this.Fwb=p;this.pkb=q;this.$xb=v;this.ke=x;this.qf=y;this.j=A;this.ja=new g.vBa();this.nk=new n.tc(null);this.lA=new n.tc(void 0);this.mg=new n.tc(null);this.Hi=new n.tc(null);this.Gf=new n.tc(null);this.Te=new n.tc(null);this.Kc=[new n.tc(null),new n.tc(null),new n.tc(null)];this.mediaTime=new n.tc(void 0);this.playbackRate=new n.tc(1);this.ju=new n.tc(null);this.background=new n.tc(!1);this.TU={source:"notcached",type:void 0};this.EN="notcached";this.Yja=!1;r && (this.mg.set(r.mg.value),this.Hi.set(r.Hi.value));this.so=u(this);this.Cp=this.$xb.NCc(this.Ha,this.xj);this.Fc=w(this,A);}Object.defineProperty(b,"__esModule",{value:!0});b.h$a=void 0;n=a(81734);c=a(5021);g=a(73403);d.prototype.Kg=function(f){this.Cp.eu(f);};d.prototype.dJ=function(f){var e;e=this;Object.entries(f).forEach(function(h){var l;l=Ea(h);h=l.next().value;l=l.next().value;e.Cp.eu(h,(0,c.ac)(l - e.xj.la(c.wa)));});};d.prototype.spa=function(){this.$xb.gDc(this.Ha);};Ga.Object.defineProperties(d.prototype,{We:{configurable:!0,enumerable:!0,get:function(){return this.jb.We;}},Qta:{configurable:!0,enumerable:!0,get:function(){return this.jb.Qta;}},Tq:{configurable:!0,enumerable:!0,get:function(){return this.Pc && this.Pc.Tq;}},qk:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.qk) && void 0 !== f?f:[];}},VC:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.VC) && void 0 !== f?f:[];}},EG:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.EG) && void 0 !== f?f:[];}},$i:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.$i) && void 0 !== f?f:[];}},Zd:{configurable:!0,enumerable:!0,get:function(){return this.Pc && this.Pc.Zd;}},Bb:{configurable:!0,enumerable:!0,get:function(){return this.Pc && this.Pc.Bb;}},wP:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.wP) && void 0 !== f?f:!1;}},NQ:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.NQ) && void 0 !== f?f:[];}},Th:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Pc && this.Pc.Th) && void 0 !== f?f:[];}},FE:{configurable:!0,enumerable:!0,get:function(){var f,e;return this.Fc.xa && (void 0 === this.QT || 0 >= this.QT.la(c.wa) || Infinity <= this.QT.la(c.wa))?(0,c.ac)(this.Fc.NI()):this.QT && 0 < this.QT.la(c.wa)?this.QT:(0,c.ac)(null !== (e=null === (f=this.U) || void 0 === f?void 0:f.ya.duration) && void 0 !== e?e:0);},set:function(f){this.QT=f;}},Cxb:{configurable:!0,enumerable:!0,get:function(){return this.Fc.xa && (void 0 === this.bha || 0 >= this.bha.la(c.wa) || Infinity <= this.bha.la(c.wa))?(0,c.ac)(this.Fc.Oic()):this.bha;},set:function(f){this.bha=f;}},Em:{configurable:!0,enumerable:!0,get:function(){return this.jb.Em || 0;}},Qq:{configurable:!0,enumerable:!0,get:function(){var f,e,h,l,k;if(void 0 !== this.o5)return this.o5;if(void 0 === this.mediaTime.value)return null;k=null === (e=null === (f=this.j) || void 0 === f?void 0:f.Xa) || void 0 === e?void 0:e.ulb;return k && this.Fc.xa && this.Fc.tP() && (f=this.j.xk(k.J),e=null === (l=null === (h=this.j.Xa) || void 0 === h?void 0:h.li) || void 0 === l?void 0:l.$[f.L],"content" !== (null === e || void 0 === e?void 0:e.type) && (h=this.pkb(this.mediaTime.value,f.L),l=this.Fc.Sj,null !== h && l && h < l))?h + l:this.pkb(this.mediaTime.value,this.L);}},correlationId:{configurable:!0,enumerable:!0,get:function(){var f,e;return null === (e=null === (f=this.U) || void 0 === f?void 0:f.ya.gB) || void 0 === e?void 0:e.yi;}},oR:{configurable:!0,enumerable:!0,get:function(){var f,e;return null === (e=null === (f=this.U) || void 0 === f?void 0:f.ya.gB) || void 0 === e?void 0:e.oR;}},tf:{configurable:!0,enumerable:!0,get:function(){return this.Cp.tf;}},Xa:{configurable:!0,enumerable:!0,get:function(){var f;return null === (f=this.j) || void 0 === f?void 0:f.Xa;}}});b.h$a=d;},69334:function(t,b,a){var n,c,g;function d(f,e,h){this.Vi=f;this.Zb=h;this.$=[];this.log=e.qb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.sBa=void 0;n=a(22970);t=a(22674);c=a(42207);g=a(87386);a(5021);d.prototype.some=function(f){return this.$.some(f);};d.prototype.yma=function(){return !!(this.$[0] && this.$[0].stream && this.Zb.Xh(this.$[0].stream.Ob));};d.prototype.Ku=function(f){return this.$.filter(f).reduce(function(e,h){return e + (h.endTime - h.startTime) / h.rate;},0);};d.prototype.B7=function(f){return this.$.filter(f).reduce(function(e,h){return e + h.endTime - h.startTime;},0);};d.prototype.eMa=function(f,e){var h,l;h=this;l={};return this.$.filter(function(k){return !e || k.Bp === e;}).reduce(function(k,m){var p,r,q;p=f.bind(h,m)();r=p.key;p=n.__rest(p,["key"]);m=m.endTime - m.startTime;q=l[r];q?q.duration+=m:(q=p,q.duration=m,k.push(q),l[r]=q);return k;},[]);};d.prototype.Lf=function(f,e,h){var l;h=void 0 === h?this.Vi.playbackRate.value:h;l=this.$;f && e && e >= f.startTime && (f={Kc:f.Kc,track:f.track,stream:f.stream,startTime:f.startTime,kz:f.kz,w8:f.w8,endTime:e,rate:h,Bp:f.Bp || "content"},(e=l[l.length - 1]) && e.track === f.track && e.stream === f.stream && e.Kc === f.Kc && e.endTime === f.startTime && e.rate === f.rate && e.kz === f.kz && e.w8 === f.w8 && e.Bp === f.Bp?e.endTime=f.endTime:l.push(f),!1);};a=d;b.sBa=a;b.sBa=a=n.__decorate([n.__param(1,(0,t.l)(g.wb)),n.__param(2,(0,t.l)(c.ei))],a);},73403:function(t,b,a){var n,c;function d(){this.Ll=[];this.Cd=this.sh=this.Vd=null;}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;n=a(26388);c=a(45146);d.prototype.yo=function(g,f){var e,h;if(g !== this.Cd){h=this.Cd;this.Cd=g;g={yYa:!0,jx:h,kE:null !== (e=null === f || void 0 === f?void 0:f.kE) && void 0 !== e?e:!1};this.upa(g);}};d.prototype.bA=function(g,f){var e,h;if(g !== this.Vd){h=this.Vd;this.Vd=g;g={$u:h,WGa:!0,kE:null !== (e=null === f || void 0 === f?void 0:f.kE) && void 0 !== e?e:!1};this.upa(g);}};d.prototype.mXa=function(g){var f;if(g !== this.sh){f=this.sh;this.sh=g;this.upa({Hzb:f,UZa:!0});}};d.prototype.Ax=function(g){var f,e,h,l,k,m;f=this.sh !== g.Tyb;e=this.Vd !== g.gx;h=this.Cd !== g.jn;if(f || e || h){l=this.sh;this.sh=g.Tyb;k=this.Vd;this.Vd=g.gx;m=this.Cd;this.Cd=g.jn;this.upa({Hzb:l,UZa:f,$u:k,WGa:e,jx:m,yYa:h});}};d.prototype.addListener=function(g,f){(0,c.A5)(f);(0,c.qa)(0 > this.Dob(f));this.Ll=this.Ll.slice();this.Ll.push({jh:g,listener:f});};d.prototype.removeListener=function(g){var f;(0,c.A5)(g);this.Ll=this.Ll.slice();0 <= (f=this.Dob(g)) && this.Ll.splice(f,1);};d.prototype.Dob=function(g){return this.Ll.findIndex(function(f){return f.listener === g;});};d.prototype.upa=function(g){var l,k;g=Object.assign({yYa:!1,jx:this.Cd,jn:this.Cd,WGa:!1,$u:this.Vd,gx:this.Vd,UZa:!1,Hzb:this.sh,Tyb:this.sh,kE:!1},g);for(var f=this.Ll,e=f.length,h=0;h < e;h++){l=f[h];k=l.jh;l=l.listener;(k.includes(n.v.X) && g.WGa || k.includes(n.v.V) && g.UZa || k.includes(n.v.Aa) && g.yYa) && l(g);}};b.vBa=d;},82557:function(t,b,a){var n,c,g,f;function d(e){this.Oa=e;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.aCa=void 0;t=a(22970);n=a(85001);c=a(22674);g=a(81918);f=a(5021);d.prototype.qm=function(e){e.Ec !== n.Dc.gq && (this.trace.unshift({time:this.Oa.uc(),event:e}),5 < this.trace.length && this.trace.pop());};d.prototype.Srb=function(){var e,h;e=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.RIb(h.time),lastRepositionCause:this.Rpb(h.event.Ec),repositionTrace:this.trace.map(function(l){return {timeSince:e.RIb(l.time),cause:e.Rpb(l.event.Ec),newMediaTime:l.event.gpa,oldMediaTime:l.event.BSa,contentPts:l.event.Oq,skip:l.event.skip};})};};d.prototype.RIb=function(e){return this.Oa.uc().ca(e).la(f.wa);};d.prototype.Rpb=function(e){switch(e){case n.Dc.gq:return "initial";case n.Dc.Ov:return "seek";case n.Dc.bT:return "live_edge";case n.Dc.rM:return "segment_changed";case n.Dc.L2:return "track_changed";case n.Dc.eea:return "force_rebuffer";case n.Dc.R0:return "fragments_missing";case n.Dc.Iea:return "media_discontinuity";}};a=d;b.aCa=a;b.aCa=a=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(g.Sd))],a);},13889:function(t,b,a){var n,c,g,f;function d(e,h,l){this.config=e;this.j=h;this.Vg=l;this.Lz=void 0;this.uqa=!1;this.Ovb=0;this.log=this.Vg.qb();}Object.defineProperty(b,"__esModule",{value:!0});b.Vab=void 0;n=a(85001);c=a(5021);g=a(8825);f=a(32687);d.prototype.Zic=function(e,h,l,k,m){var p,r,q,u;l=void 0 === l?this.j.L:l;k=void 0 === k?!1:k;p=h === n.Dc.rM || h === n.Dc.Iea;r=this.M3b(p?e:this.n5b(e,l),h,k,l);k=this.j.Xa;p?(e=r,r=k.TIa(r)):e=k.VIa(l,r);h === n.Dc.gq && (this.j.jib=r);m=this.sk(e,h,m);q=(p=p || m)?e:r;if(this.j.yr){u=this.j.jb.Ag?this.config().hTa:this.config().dK;this.j.zsb(q,u) || h !== n.Dc.Ov && h !== n.Dc.bT || (q=this.j.yr.la(c.wa) - u - 1E3,p?(e=q,r=k.TIa(q)):(e=k.VIa(l,q),r=q));}return {gpa:q,Oq:r,ozc:e,sk:m};};d.prototype.M3b=function(e,h,l,k){this.Voc() || l?e=Math.round(e):(l=this.j.Xa.O3b(e,k),e=(0,f.ec)(l)?l:Math.round(e));this.j.jb.Ag && (e=this.vfc(e));this.config().qFb && 0 !== e && h !== n.Dc.gq && (e+=this.config().qFb);return e;};d.prototype.sk=function(e,h,l){if(this.config().Rac || h === n.Dc.gq || h === n.Dc.L2 || h === n.Dc.eea || !l || e < l.start.la(c.wa) || e >= l.end.la(c.wa))return !1;h=this.j.Xa;return (null === h || void 0 === h?void 0:h.Mj) && h.sk(e) || !1;};d.prototype.Voc=function(){return this.j.jb.Ag || this.j.Fc.xa?(!1,!0):"boolean" === typeof this.j.jb.R$?this.j.jb.R$:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().R$ && this.config().Lzc:this.config().R$;};d.prototype.n5b=function(e,h){var l;l=this.j.el(h);h=l.FE;l=l.Cxb;!1;h=l || h;l=this.j.Fc.xa && !this.j.Fc.tP()?0:this.config().rOc;h=Math.max(0,h.la(c.wa) - l);return (0,g.AD)(e,0,h);};d.prototype.vfc=function(e){var h,l,k;h=this.j.S6();if(Object.values(h).find(function(m){var p;p=m.ib;p=e < (null !== p && void 0 !== p?p:Infinity);return m.cb <= e && p;}))return (!1,e);k=e;Object.entries(h).forEach(function(m){var p;m=Ea(m);m.next();m=m.next().value.cb;p=m - e;0 < p && (void 0 === l || p < l) && (l=p,k=m);});!1;return k;};Ga.Object.defineProperties(d.prototype,{z8:{configurable:!0,enumerable:!0,get:function(){return this.uqa || !!this.Lz;}}});b.Vab=d;},74834:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;t=a(22970);a=a(22674);d.prototype.eBc=function(c,g){g.JJ.eb.sWa({xid:g.Ha,auxPlaybackcontextid:g.Zd,auxMid:c.auxMid,auxMidType:c.auxMidType,reason:c.reason,adBreakLocationMs:c.adBreakLocationMs},"error" === c.sev);};n=d;b.wCa=n;b.wCa=n=t.__decorate([(0,a.Y)()],n);},37517:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r,q,u,v,w,x,y){var A;A=this;this.sLc=k;this.j=m;this.id=p;this.height=r;this.width=q;this.Uyc=u;this.Vyc=v;this.size=w;this.cz=x;this.urls=y;this.type=n.Jm.aZa;this.retry=!0;this.state=e.ey.Uea;this.ai={};this.lia={};this.Y$=function(z){if(z.success)try{A.data=A.sLc.parse(z.content);A.state=e.ey.aM;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.ai);A.j.fireEvent(h.ha.rca);}catch(B){A.state=e.ey.T8a;A.log.error("TrickPlay parse failed.",B);}else (A.state=e.ey.Uea,A.log.error("TrickPlay download failed.",(0,l.pD)(z),A.ai));};this.log=(0,g.bn)(m,"TrickPlay");}b.z=void 0;n=a(51344);c=a(29204);g=a(31276);f=a(61726);e=a(94025);h=a(85001);l=a(36129);d.prototype.Vhc=function(k){if(this.data && (this.cz && (k+=this.cz),k=Math.floor(k / this.data.header.WIb),0 <= k && k < this.data.images.length))return {image:this.data.images[k],time:k * this.data.header.WIb,height:this.height,width:this.width,pixelAspectHeight:this.Uyc,pixelAspectWidth:this.Vyc};};d.prototype.UW=function(){switch(this.state){case e.ey.aM:return "downloaded";case e.ey.LOADING:return "loading";case e.ey.T1:return "downloadfailed";case e.ey.T8a:return "parsefailed";default:return "notstarted";}};d.prototype.download=function(){var k;k=this.alc();k?(this.state=e.ey.LOADING,this.jbc(k)):this.retry=!1;};d.prototype.getState=function(){return this.state;};d.prototype.alc=function(){var k,m,p;k=this;m=Object.keys(this.urls).find(function(r){return (k.lia[k.urls[r]] || 0) <= c.config.oLc;});if(m){p=this.urls[m];(p in this.lia)?this.lia[p]++:this.lia[p]=1;return {url:p,On:m};}};d.prototype.jbc=function(k){var m,p;this.log.trace("Downloading",k.url,this.ai);p=this.sla(k.On);k={responseType:f.U7,Kc:p,url:k.url,track:this,zx:null !== (m=null === p || void 0 === p?void 0:p.type) && void 0 !== m?m:"unknown",wI:"trickplay"};this.j.Dma.download(k,this.Y$);};d.prototype.sla=function(k){return this.j.Th.find(function(m){return m && m.id === k;});};b.z=d;},18181:function(t,b,a){var n,c,g,f,e,h;function d(l,k){this.Qh=l;this.config=k;}Object.defineProperty(b,"__esModule",{value:!0});b.hDa=void 0;t=a(22970);n=a(85001);c=a(94025);g=a(81918);f=a(22674);e=a(5021);a=a(4203);d.prototype.ZV=function(l){var k;l.sca={};if(!l.sX() && l.EG && 0 < l.EG.length && (l.DG=this.tqb(l),l.DG)){k=this.jHc(l);k() || (l.Tb.addListener(k),l.mg.addListener(k));}};d.prototype.jHc=function(l){var m;function k(){var p,r;if(!l.mg.value || l.Tb.value === n.Gb.Qg)return !1;p=l.DG;r=p.getState();return r === c.ey.LOADING?!1:r !== c.ey.aM && p.retry?(p=m.Vkc(l))?(l.sca.offset=m.Qh.uc().la(e.wa),l.DG=p,p.download(),!0):!1:(l.Tb.removeListener(k),l.mg.removeListener(k),!1);}m=this;return k;};d.prototype.Vkc=function(l){var k,m;k=this.config();m=l.so.Ku() < k.qLc;k=(l.mg.value?l.mg.value.bitrate:0) > k.pLc;return this.kkc(l,m && k);};d.prototype.kkc=function(l,k){if(k && (k=this.tqb(l),this.Frb(l,k.size)))return (l.sca.mEb="h",k);k=this.Iic(l);if(this.Frb(l,k.size))return (l.sca.mEb="l",k);};d.prototype.Frb=function(l,k){var m,p;m=this.config();p=Math.min(l.t4(),l.Nca());return l.Z1b.r3b(k) * (1 + .01 * m.P_b[2]) < p * m.tLc;};d.prototype.tqb=function(l){return l.EG[l.EG.length - 1];};d.prototype.Iic=function(l){return l.EG[0];};h=d;b.hDa=h;b.hDa=h=t.__decorate([(0,f.Y)(),t.__param(0,(0,f.l)(g.Sd)),t.__param(1,(0,f.l)(a.Cc))],h);},25837:function(t,b,a){var n,c,g;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;t=a(22970);c=a(70834);a=a(22674);d.prototype.parse=function(f){var e,h;if(!f)throw Error("invalid array buffer");e=new Uint8Array(f);h=new c.Pda(e);f=this.hqa(h);e=this.cyc(h,e,f);return {header:f,images:e};};d.prototype.hqa=function(f){var e,h,l,k;if(f.r7() < this.WDc())throw Error("array buffer too short");n.W6a.forEach(function(m){if(m != f.kt())throw Error("BIF has invalid magic.");});e=f.eZ();if(e > n.VERSION)throw Error("BIF version in unsupported");h=f.eZ();if(0 == h)throw Error("BIF has no frames.");l=f.eZ();k=f.pm(n.cab);return {version:e,Dvc:h,WIb:l,oEb:k};};d.prototype.cyc=function(f,e,h){var m,p;for(var l=[],k=0;k <= h.Dvc;k++){m={timestamp:f.eZ(),offset:f.eZ()};void 0 != p && l.push(e.subarray(p.offset,m.offset));p=m;}return l;};d.prototype.WDc=function(){return n.W6a.length + 4 + 4 + 4 + n.cab;};g=n=d;b.iDa=g;g.W6a=[137,66,73,70,13,10,26,10];g.VERSION=0;g.cab=44;b.iDa=g=n=t.__decorate([(0,a.Y)()],g);},72614:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v;function d(w){return function(){return w.Hb.get(n.K9a).Sb();};}Object.defineProperty(b,"__esModule",{value:!0});b.BQ=void 0;t=a(22674);n=a(96687);c=a(32979);g=a(23048);f=a(62278);e=a(95480);h=a(91859);l=a(95398);k=a(77334);m=a(10469);p=a(44698);r=a(36258);q=a(78339);u=a(50889);v=a(18477);b.BQ=new t.je(function(w){w(l.j$a).to(k.qBa).pa();w(c.SAa).to(g.RAa).pa();w(f.y9a).to(e.zAa).pa();w(n.K9a).to(h.UAa).pa();w(n.u2).jca(d);w(u.J9a).to(v.TAa).pa();w(m.A9a).to(p.EAa).pa().$ca();w(r.L9a).to(q.VAa).pa();w(r.H9a).to(q.PAa).pa();w(r.I9a).to(q.QAa).pa();});},62278:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.y9a="PboCachedPlaydataSymbol";},10469:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DAa={J8:"keepAlive",splice:"splice"};b.A9a="PboEventSenderSymbol";},32979:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.SAa="PboPlaydataFactorySymbol";},50889:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.J9a="PboPlaydataPlaybackMonitorSymbol";},96687:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.K9a="PboPlaydataServicesSymbol";b.u2="PboPlaydataServicesProviderSymbol";},95398:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.j$a="PlaydataConfigSymbol";},95480:function(t,b,a){var g,f,e,h,l,k,m,p,r,q;function d(){}function n(){}function c(u,v,w,x,y){var A;A=this;this.is=u;this.Or=v;this.config=w;this.VN=x;this.Eyc=y;this.lca=function(){return new d().encode({version:A.version,data:A.BQ});};this.SMc=function(z){z=A.upgrade(z);A.Eyc.validate(z);return z;};this.upgrade=function(z){var B;if(A.is.aw(z))return A.TMc(z);B=z.version;if(void 0 != B && A.is.Ln(B) && 1 == B)return A.UMc(z);B=z.version;if(void 0 != B && A.is.Ln(B) && 2 == B)return new d().decode(z);if(z.version && A.is.Ln(z.version))throw new l.ue(e.aa.bH,e.W.CNb,void 0,void 0,void 0,"Version number is not supported. Version: " + z.version,void 0,z);throw new l.ue(e.aa.bH,e.W.zda,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,z);};this.yx=new k.y5a(2,this.config().IBb,"" !== this.config().IBb && 0 < this.config().hzc,this.Or,this.lca);}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;t=a(22970);g=a(22674);f=a(4203);e=a(36129);h=a(42207);l=a(31149);k=a(52657);m=a(17892);p=a(33554);r=a(23048);a=a(36258);c.prototype.RBc=function(){return this.yx.load(this.SMc).catch(function(u){throw new l.ue(e.aa.bH,u.Ma || u.subCode,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u);});};c.prototype.t_b=function(u){return this.yx.add(u);};c.prototype.ODb=function(u){return this.yx.remove(u,function(v,w){return v.Ha === w.Ha;});};c.prototype.vZa=function(u){return this.yx.update(u,function(v,w){return v.Ha === w.Ha;});};c.prototype.toString=function(){return JSON.stringify(this.lca(),null,"  ");};c.prototype.GKb=function(u){return u?"/events?playbackContextId=" + u + "&esn=" + this.VN().Li:"";};c.prototype.EZa=function(u){return u.map(function(v){return {Yb:v.downloadableId,duration:v.duration};});};c.prototype.HKb=function(u){var v;return u?{total:u.playTimes.total,WR:null !== (v=u.playTimes.totalContentTime) && void 0 !== v?v:u.playTimes.total,w_:u.playTimes.total,iL:0,kL:0,XR:0,YR:0,audio:this.EZa(u.playTimes.audio || []),video:this.EZa(u.playTimes.video || []),text:this.EZa(u.playTimes.timedtext || [])}:{total:0,WR:0,w_:0,iL:0,kL:0,XR:0,YR:0,audio:[],video:[],text:[]};};c.prototype.TMc=function(u){var v,w,x;v=this;u=JSON.parse(u);w={Jf:"VOD",href:this.GKb(u.playbackContextId),Ha:u.xid?u.xid.toString():"",R:u.movieId,position:u.position,BE:u.timestamp,rl:u.playback?1E3 * u.playback.startEpoch:-1,TX:u.mediaId,jC:this.HKb(u.playback),trackId:"",Op:{},$Y:u.accountKey};x=JSON.stringify({keySessionIds:u.keySessionIds,movieId:u.movieId,xid:u.xid,licenseContextId:u.licenseContextId,profileId:u.profileId});this.Or.create().then(function(y){y.save(v.config().qKa,x,!1);});if("" === w.href || "" === w.Ha)throw new l.ue(e.aa.bH,e.W.zda);return {version:2,data:[w]};};c.prototype.UMc=function(u){var v;v=this;if(!u.playdata || !this.is.tN(u.playdata))throw new l.ue(e.aa.bH,e.W.zda,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,u);return {version:2,data:(function(w){return w.map(function(x){var y;return {Jf:null !== (y=x.streamingType) && void 0 !== y?y:"VOD",href:v.GKb(x.playbackContextId),Ha:x.xid?x.xid.toString():"",R:x.movieId,position:x.position,BE:x.timestamp,rl:x.playback?1E3 * x.playback.startEpoch:-1,TX:x.mediaId,jC:v.HKb(x.playback),trackId:"",Op:{},$Y:x.profileId};});})(u.playdata)};};Ga.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.yx.version;}},BQ:{configurable:!0,enumerable:!0,get:function(){return this.yx.Kq;}}});q=c;b.zAa=q;b.zAa=q=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(h.ei)),t.__param(1,(0,g.l)(m.PG)),t.__param(2,(0,g.l)(f.Cc)),t.__param(3,(0,g.l)(p.uA)),t.__param(4,(0,g.l)(a.I9a))],q);n.prototype.encode=function(u){var v;v=new r.ffa();return u.map(v.encode);};n.prototype.decode=function(u){var v;v=new r.ffa();return u.map(v.decode);};d.prototype.encode=function(u){return {version:u.version,data:new n().encode(u.data)};};d.prototype.decode=function(u){return {version:u.version,data:new n().decode(u.data)};};},44698:function(t,b,a){var n,c,g;function d(f,e){this.b5=e;this.log=f.qb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;t=a(22970);n=a(87607);c=a(87386);a=a(22674);d.prototype.BWa=function(f,e){var h;h=this.b5(n.Jt.start);return this.Mnb(h,f,e);};d.prototype.MFb=function(f){var e;e=this;return this.b5(n.Jt.stop).Se({log:this.log,J:f.R},f).then(function(){}).catch(function(h){e.log.error("PBO stop event failed",h);throw h;});};d.prototype.eba=function(f,e,h){f=this.b5(f);return this.Mnb(f,e,h);};d.prototype.Mnb=function(f,e,h){var l;l=this;return f.Se({log:this.log,links:e.U.ho,J:h.R},h).then(function(){}).catch(function(k){l.log.error("PBO event failed",k);throw k;});};g=d;b.EAa=g;b.EAa=g=t.__decorate([(0,a.Y)(),t.__param(0,(0,a.l)(c.wb)),t.__param(1,(0,a.l)(n.Xwa))],g);},23048:function(t,b,a){var h,l,k,m,p,r;function d(q,u,v,w){this.Ia=q;this.E7=u;this.Oa=v;this.profile=w;}function n(){}function c(){}function g(){}function f(){}function e(){}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=b.ffa=void 0;t=a(22970);h=a(22674);l=a(30869);k=a(5021);m=a(4203);p=a(81918);a=a(71501);e.prototype.encode=function(q){return {downloadableId:q.Yb,duration:q.duration};};e.prototype.decode=function(q){return {Yb:q.downloadableId,duration:q.duration};};f.prototype.encode=function(q){return {total:q.total,totalContentTime:q.WR,totalAdDuration:q.iL,totalCombinedDuration:q.w_,totalOtherDuration:q.kL,totalStartSlateDuration:q.YR,totalLiveEdgeDuration:q.XR,audio:q.audio.map(new e().encode),video:q.video.map(new e().encode),text:q.text.map(new e().encode)};};f.prototype.decode=function(q){var u;return {total:q.total,WR:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,iL:q.totalAdDuration,w_:q.totalCombinedDuration,kL:q.totalOtherDuration,YR:q.totalStartSlateDuration,XR:q.totalLiveEdgeDuration,audio:q.audio.map(new e().decode),video:q.video.map(new e().decode),text:q.text.map(new e().decode)};};g.prototype.encode=function(q){var u;u=new c();return {audio:u.encode(q.audio),video:u.encode(q.video),timedtext:u.encode(q.u_),mediaevents:u.encode(q.Mxb)};};g.prototype.decode=function(q){var u;u=new c();return {audio:u.decode(q.audio),video:u.decode(q.video),u_:u.decode(q.timedtext),Mxb:u.decode(q.mediaevents)};};c.prototype.encode=function(q){return {streamingCdnId:q.Jba,presentingCdnId:q.Uqa};};c.prototype.decode=function(q){return {Jba:q.streamingCdnId,Uqa:q.presentingCdnId};};n.prototype.encode=function(q){return {streamingType:q.Jf,href:q.href,xid:q.Ha,movieId:q.R,position:q.position,clientTime:q.BE,sessionStartTime:q.rl,videoTrackId:q.Go,audioTrackId:q.iu,timedTextTrackId:q.t_,mediaId:q.TX,playTimes:new f().encode(q.jC),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Op,profileId:q.$Y,cdnDownloadableInfos:q.Y4?new g().encode(q.Y4):void 0};};n.prototype.decode=function(q){return {Jf:q.streamingType,href:q.href,Ha:q.xid,R:q.movieId,position:q.position,BE:q.clientTime,rl:q.sessionStartTime,Go:q.videoTrackId,iu:q.audioTrackId,t_:q.timedTextTrackId,TX:q.mediaId,jC:new f().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Op:q.sessionParams,$Y:q.profileId,Y4:q.cdnDownloadableInfos?new g().decode(q.cdnDownloadableInfos):void 0};};b.ffa=n;d.prototype.create=function(q){var u,v,w,x,y,A,z,B,C;C=Object.assign(Object.assign({},null !== (u=q.jb.Op) && void 0 !== u?u:{}),{uiVersion:this.E7().yu.uiVersion});u=null !== (v=q.Fc.xa?q.Fc.gma():q.Qq) && void 0 !== v?v:0;v=null === (w=q.Xa) || void 0 === w?void 0:w.oNa();return {href:q.U && q.U.ho?q.U.ho.JW("events").href:"",Jf:null !== (y=null === (x=q.U) || void 0 === x?void 0:x.ya.Jf) && void 0 !== y?y:"VOD",Ha:q.Ha.toString(),R:q.R,position:Math.floor(u),BE:this.Ia.oG.la(k.wa),rl:q.rF?q.rF.la(k.wa):-1,Go:null === (A=q.ja.sh) || void 0 === A?void 0:A.trackId,iu:null === (z=q.ja.Vd) || void 0 === z?void 0:z.trackId,t_:null === (B=q.ja.Cd) || void 0 === B?void 0:B.trackId,TX:void 0,jC:this.qNa(q),trackId:void 0 !== q.Em?q.Em.toString():"",sessionId:this.E7().sessionId || this.Oa.id,appId:this.E7().appId || this.Oa.id,Op:C,$Y:this.profile,Y4:null === v || void 0 === v?void 0:v.Y4};};d.prototype.load=function(q){return new n().decode(q);};d.prototype.uNa=function(q){return q.map(function(u){return {Yb:u.downloadableId,duration:u.duration};});};d.prototype.qNa=function(q){return (q=q.so)?(q=q.Bjc(),{total:q.total,WR:q.totalContentTime,iL:q.totalAdDuration,kL:q.totalOtherDuration,w_:q.totalCombinedDuration,XR:q.totalLiveEdgeDuration,YR:q.totalStartSlateDuration,audio:this.uNa(q.audio),video:this.uNa(q.video),text:this.uNa(q.timedtext)}):{total:0,WR:0,iL:0,w_:0,kL:0,XR:0,YR:0,video:[],audio:[],text:[]};};r=d;b.RAa=r;b.RAa=r=t.__decorate([(0,h.Y)(),t.__param(0,(0,h.l)(l.di)),t.__param(1,(0,h.l)(m.Cc)),t.__param(2,(0,h.l)(p.Sd)),t.__param(3,(0,h.l)(a.xT))],r);},18477:function(t,b,a){var n,c,g,f,e;function d(h,l){this.jBb=l;this.log=h.qb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(85001);f=a(96687);e=a(26388);d.prototype.sl=function(h){var l;l=this;this.jBb().then(function(k){h.addEventListener(g.ha.WB,function(m){var p,r;if(void 0 !== m.YY){p=h.xk(m.YY);r=p.qf && p.qf === h.ea.qf;r || k.Hba(p);m.rP || new Promise(function(q){var u;if(h.zj.value)q();else {u=function(v){v.newValue && (q(),h.zj.removeListener(u));};h.zj.addListener(u);}}).then(function(){r || k.sl(h,l.VGb(h),function(q){return h.IN(q);});});}});h.addEventListener(g.ha.Pz,function(){k.sl(h.ea,l.VGb(h),function(m){return h.IN(m);});});h.background.value || h.addEventListener(g.ha.JQa,function(m){var p;m=h.xk(m.R);if(null === (p=m.ke) || void 0 === p?0:p.kd)(p=h.xk(m.ke.kd),l.log.trace("Auxiliary viewable segment (viewableId: " + m.R + "). Starting playdata monitor for parent viewable " + p.R),m=p);k.OXa(m);});h.addEventListener(g.ha.Tg,function(){k.JHb();});h.addEventListener(g.ha.aLb,function(){k.KFb(h.ea).catch(function(m){(m=m.RY) && h.IN(m);});});h.ja.addListener([e.v.Aa],function(){h.jb.hKa?l.log.trace("stickiness is disabled for timedtext"):k.ksa(h.ea);});h.ja.addListener([e.v.X],function(){h.jb.hKa?l.log.trace("stickiness is disabled for audio"):k.ksa(h.ea).catch(function(m){(m=m.RY) && h.IN(m);});});});};d.prototype.VGb=function(h){return h.state.value == g.xc.mf;};a=d;b.TAa=a;b.TAa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(f.u2))],a);},91859:function(t,b,a){var g,f,e,h,l,k,m,p,r,q,u,v,w;function d(x,y,A,z,B,C,D,F){this.config=x;this.nd=A;this.TC=z;this.Qz=B;this.Fqa=C;this.yj=D;this.CP=Promise.resolve();this.closed=!1;this.log=y.qb("PlaydataServices");this.AQ=[];this.active=new Set();this.sEc=new n(x,F);}function n(x,y){this.config=x;this.Ia=y;}function c(x,y,A,z,B,C){this.log=x;this.nd=y;this.Vi=A;this.Qz=z;this.TC=B;this.azc=C;this.hob=this.Gd=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.UAa=b.KTb=void 0;t=a(22970);g=a(22674);f=a(5021);e=a(87386);h=a(53085);l=a(32979);k=a(62278);m=a(95398);p=a(36129);r=a(23048);q=a(10469);u=a(45266);v=a(30869);a=a(79274);c.prototype.eY=function(x,y){var z;function A(){var B;B=z.Qz.create(z.Vi);z.TC.vZa(B).catch(function(C){var D;D=z.hob?e.Cn.EDa:e.Cn.Ho;z.hob=!0;z.log.write(D,"Unable to save playdata changes to IDB",C);});}z=this;this.log.trace("Adding initial playdata",y);this.TC.t_b(y).then(function(){z.log.trace("Scheduling monitor",{interval:x});z.wx=z.nd.jR(x,A);}).catch(function(B){z.log.error("Unable to add playdata",{error:B,playdata:new r.ffa().encode(y)});z.wx=z.nd.jR(x,A);});};c.prototype.stop=function(x){var y,A;y=this;if(this.Gd)return Promise.resolve();this.wx && this.wx.cancel();A=this.Qz.create(this.Vi);return this.TC.vZa(A).catch(function(z){y.log.error("Unable to update playdata changes during stop",z);}).then(function(){if(x){if(y.Vi.background.value)return (y.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());y.log.trace("Sending final playdata to the server",A);return y.azc.MFb(A);}y.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (y.log.trace("Removing playdata from the persisted store",A),y.TC.ODb(A));y.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){y.log.info("Successfully stopped the playback",A.R);}).catch(function(z){y.log.error("Unable to remove playdata changes",z);throw z;});};c.prototype.cancel=function(){this.Gd=!0;this.wx && this.wx.cancel();this.TC.vZa(this.Qz.create(this.Vi));};Ga.Object.defineProperties(n.prototype,{b4b:{configurable:!0,enumerable:!0,get:function(){var x;x=this.Ia.gg;return !this.CP || 0 <= x.ca(this.CP).Ul(this.config.ovb)?(this.CP=x,!0):!1;}}});b.KTb=n;d.prototype.Sb=function(){var x;x=this;this.hJ || (this.log.trace("Starting playdata services"),this.hJ=this.TC.RBc().then(function(){!1;return x;}).catch(function(y){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",y);return x;}));return this.hJ;};d.prototype.close=function(){this.closed=!0;this.AQ.forEach(function(x){x.eY.cancel();});};d.prototype.send=function(x){var y;if(this.closed)return Promise.resolve();y=this.config;return y.wQ && y.zWa?this.HFc(x):Promise.resolve();};d.prototype.sl=function(x,y,A){var z;z=this;this.closed || (this.OXa(x),this.BWa(x).catch(function(B){z.log.error("Start command failed",{playdata:B.BQ,error:B.i6});}),y && this.MXa(this.qic(x),x,A));};d.prototype.Hba=function(x){var y,A,z;y=this;if(this.closed)return Promise.resolve();A=this.Qz.create(x);this.active.delete(A.Ha);x=Ea((0,u.gK)(function(B){return B.key === A.Ha;},this.AQ));z=x.next().value;this.AQ=x.next().value;return Promise.all(z.map(function(B){B.stopped=!0;return B.eY.stop(y.config.zWa);})).then(function(){});};d.prototype.OXa=function(x){var y,A;x.Kg("pdb");if(this.config.NTa.VPa()){y=this.Qz.create(x);A=y.Ha;this.AQ.some(function(z){return z.key === A;})?this.log.trace("Already collecting playdata, ignoring",y):(this.log.info("Starting to collect playdata",y),this.active.add(A),this.AQ.push({key:A,eY:this.Vic(x,y),Cx:!1,stopped:!1}));}};d.prototype.HFc=function(x){var y,A,z,B;y=this;A=this.TC.BQ.filter(function(C){return !y.active.has(C.Ha);});z=void 0;B=void 0;x && Infinity === x?z=A:(A=Ea((0,u.gK)(function(C){return C.R === x;},A)),z=A.next().value,B=A.next().value);B && 0 < B.length && this.nd.Kp(this.config.IFb,function(){y.LFb(B).catch(function(){});});return z && 0 !== z.length?this.LFb(z):Promise.resolve();};d.prototype.LFb=function(x){var A;function y(z){return A.Fqa.MFb(z).then(function(){return A.fDc(z);});}A=this;return x.reduce(function(z,B){return z.then(function(){return y(B);});},Promise.resolve());};d.prototype.fDc=function(x){var y;y=this;return this.TC.ODb(x).then(function(){}).catch(function(A){y.log.error("Unable to complete the stop lifecycle event",A);throw A;});};d.prototype.Vic=function(x,y){x=new c(this.log,this.nd,x,this.Qz,this.TC,this.Fqa);x.eY(this.config.NTa,y);return x;};d.prototype.BWa=function(x){var y,A;y=this;A=this.Qz.create(x);return this.Fqa.BWa(x,A).then(function(){!1;y.mxb(x);}).catch(function(z){y.mxb(x);throw {BQ:A,i6:z};});};d.prototype.mxb=function(x){this.AQ.filter(function(y){return y.key === x.Ha.toString();}).forEach(function(y){y.Cx=!0;});};d.prototype.KFb=function(x){return this.sEc.b4b?this.eba(q.DAa.J8,x,p.aa.eya):Promise.resolve();};d.prototype.ksa=function(x){return this.eba(q.DAa.splice,x,p.aa.Hab);};d.prototype.eba=function(x,y,A){var B;function z(C){var D;D=B.AQ.filter(function(F){return F.key === C.Ha.toString();});return 0 === D.length?!0:D.reduce(function(F,H){return F || H.stopped || !H.Cx;},!1);}B=this;return z(y)?this.CP:this.CP=this.CP.catch(function(){return Promise.resolve();}).then(function(){var C;if(z(y))return Promise.resolve();!1;C=B.Qz.create(y);return B.Fqa.eba(x,y,C);}).then(function(C){!1;return C;}).catch(function(C){var D;B.log.error("Failed to send event",{eventKey:x,xid:y.Ha,error:C});C.XKa?D=B.yj(A,C):C.PF === p.Oea.Vc && (D=B.yj(A,C));throw {i6:C,RY:D};});};d.prototype.MXa=function(x,y,A){var z;z=this;!1;this.nIa();this.jQa=this.nd.Kp(x,function(){z.nIa();z.eba(q.DAa.J8,y,p.aa.eya).then(function(){z.MXa(x,y,A);}).catch(function(B){var C;C=B.i6;(B=B.RY) && A(B);C.PF !== p.Oea.Vc && z.MXa(x,y,A);});});};d.prototype.JHb=function(){this.nIa();};d.prototype.nIa=function(){this.jQa && (this.jQa.cancel(),this.jQa=void 0);};d.prototype.qic=function(x){return x.jb.uOa?(0,f.ac)(x.jb.uOa):this.config.nvb;};w=d;b.UAa=w;b.UAa=w=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(m.j$a)),t.__param(1,(0,g.l)(e.wb)),t.__param(2,(0,g.l)(h.Pk)),t.__param(3,(0,g.l)(k.y9a)),t.__param(4,(0,g.l)(l.SAa)),t.__param(5,(0,g.l)(q.A9a)),t.__param(6,(0,g.l)(a.v2)),t.__param(7,(0,g.l)(v.di))],w);},78339:function(t,b,a){var g,f,e,h;function d(){}function n(l){this.Dyc=l;}function c(l){this.Fyc=l;}Object.defineProperty(b,"__esModule",{value:!0});b.VAa=b.QAa=b.PAa=void 0;t=a(22970);g=a(22674);f=a(36258);e=a(31149);h=a(36129);c.prototype.validate=function(l){l.map(this.Fyc.validate);};a=c;b.PAa=a;b.PAa=a=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(f.L9a))],a);n.prototype.validate=function(l){this.Dyc.validate(l.data);};a=n;b.QAa=a;b.QAa=a=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(f.H9a))],a);d.prototype.validate=function(l){var k;l.Ha && "string" === typeof l.Ha?l.href && "string" === typeof l.href?l.$Y && "string" === typeof l.$Y || (k="ProfileId value is corrupted."):k="Href value is corrupted.":k="Xid value is corrupted.";if(k)throw new e.ue(h.aa.bH,h.W.zda,void 0,void 0,void 0,k,void 0,l.Ha);};f=d;b.VAa=f;b.VAa=f=t.__decorate([(0,g.Y)()],f);},77334:function(t,b,a){var n,c,g,f,e,h;function d(l,k){l=c.Ef.call(this,l,"PlaydataConfigImpl") || this;l.config=k;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.qBa=void 0;t=a(22970);n=a(22674);c=a(64174);g=a(83767);f=a(12501);e=a(5021);a=a(34231);Ia(d,c.Ef);Ga.Object.defineProperties(d.prototype,{wQ:{configurable:!0,enumerable:!0,get:function(){return this.config.RE?"unsentplaydatatest":"unsentplaydata";}},zWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},IFb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ac)(1E4);}},NTa:{configurable:!0,enumerable:!0,get:function(){return (0,e.ac)(4E3);}},nvb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ZRa)(1);}},ovb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ci)(30);}}});h=d;b.qBa=h;t.__decorate([f.config(f.string,"playdataPersistKey")],h.prototype,"wQ",null);t.__decorate([f.config(f.fd,"sendPersistedPlaydata")],h.prototype,"zWa",null);t.__decorate([f.config(f.hm,"playdataSendDelayMilliseconds")],h.prototype,"IFb",null);t.__decorate([f.config(f.hm,"playdataPersistIntervalMilliseconds")],h.prototype,"NTa",null);t.__decorate([f.config(f.hm,"heartbeatCooldown")],h.prototype,"nvb",null);t.__decorate([f.config(f.hm,"keepAliveWindow")],h.prototype,"ovb",null);b.qBa=h=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Fn)),t.__param(1,(0,n.l)(a.Vr))],h);},58343:function(t,b,a){var n,c;function d(g,f){var e;e=this;this.xj=g;this.oh=f;this.addEventListener=function(h,l,k){return e.oh.addListener(h,e.Qlb(h,l),k);};this.removeEventListener=function(h,l){return e.oh.removeListener(h,e.Qlb(h,l));};this.getReady=function(){return e.oh.kr();};this.getXid=function(){return e.Lb().Yy();};this.getPlaybackContextId=function(){return e.Lb().lrb();};this.getMovieId=function(){return e.Lb().arb();};this.getElement=function(){return e.oh.mp();};this.isPlaying=function(){return e.Lb().Rw();};this.isPaused=function(){return e.Lb().x8();};this.isMuted=function(){return e.Lb().NPa();};this.isReady=function(){return e.Lb().kr();};this.isBackground=function(){return e.Lb().eub();};this.setBackground=function(h){return e.Lb().OWa(h);};this.startInactivityMonitor=function(){return e.Lb().XZ();};this.setTransitionTime=function(h){return e.Lb().kXa(h);};this.getDiagnostics=function(){return e.Lb().eqb();};this.getTextTrackList=function(h){return e.Lb().PNa(h);};this.getMaxRecommendedTextIndex=function(h){return e.Lb().aNa(h);};this.getTextTrack=function(){return e.Lb().ONa();};this.setTextTrack=function(h){return e.Lb().yo(h);};this.getVolume=function(){return e.Lb().jsb();};this.isEnded=function(){return e.Lb().CPa();};this.getBusy=function(){return e.Lb().nj();};this.getError=function(){return e.Lb().getError();};this.getCurrentTime=function(){return e.Lb().dF();};this.getAdManager=function(){return e.Lb().Wm();};this.getLivePlaybackManager=function(){var h;h=e.Lb().Zm();(0,c.qa)(h,"Unexpected call to getLivePlaybackManager()");if(h.xa && !h.CHc())return {seekToLiveEdge:function(){return h.Vaa();},isAtLiveEdge:function(){return h.kz();},getLiveEventState:function(){return h.TI();},isLiveEventEnded:function(){return h.tP();}};};this.getBufferedTime=function(){return e.Lb().Npb();};this.getSegmentTime=function(){return e.Lb().RO();};this.getDuration=function(){return e.Lb().NI();};this.getVideoSize=function(){return e.Lb().gsb();};this.getAudioTrackList=function(){return e.Lb().Fpb();};this.getMaxRecommendedAudioIndex=function(){return e.Lb().Uqb();};this.getAudioTrack=function(){return e.Lb().Epb();};this.getTimedTextTrackList=function(h){return e.Lb().PNa(h);};this.getMaxRecommendedTimedTextIndex=function(h){return e.Lb().aNa(h);};this.getTimedTextTrack=function(){return e.Lb().ONa();};this.getAdditionalLogInfo=function(){return e.Lb().Dpb();};this.getTrickPlayFrame=function(h){return e.Lb().dsb(h);};this.getSessionSummary=function(){return e.Lb().FNa();};this.getTimedTextSettings=function(){return e.Lb().A7();};this.setMuted=function(h){return e.Lb().nGb(h);};this.setVolume=function(h){return e.Lb().FGb(h);};this.getPlaybackRate=function(){return e.Lb().OW();};this.getTimeCodes=function(){return e.Lb().$rb();};this.setPlaybackRate=function(h){return e.Lb().tsa(h);};this.setAudioTrack=function(h){return e.Lb().bA(h);};this.setTimedTextTrack=function(h){return e.Lb().yo(h);};this.setTimedTextSettings=function(h){return e.Lb().QZ(h);};this.prepare=function(){return e.Lb().GQ();};this.load=function(){return e.Lb().load();};this.close=function(h){return e.hhb(e.oh.close(),h);};this.play=function(){return e.Lb().play();};this.pause=function(){return e.Lb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(h,l){return e.hhb(e.Lb().$V(h),l);};this.induceError=function(h){return e.Lb().xtb(h);};this.loadCustomTimedTextTrack=function(h,l,k,m){return e.Lb().uwb(h,l,k,m);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return e.Lb().vla();};this.generateScreenshots=function(h){return e.Lb().xpb(h);};this.getPlaygraphManager=function(){return {getPlaygraphId:function(){return e.oh.Gjc();},getCurrentSegmentId:function(){return e.oh.aqb();},getPlaygraphMap:function(){return e.oh.ZO();},updatePlaygraphMap:function(h){return e.oh.qL(h);},getSegmentOffset:function(){return e.oh.Jrb();},getPlaygraphSessionOffset:function(){return e.oh.Hjc();},getPlaygraphDuration:function(){return e.oh.Fjc();}};};this.cLa=new Map();this.log=(0,n.bm)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.fga=void 0;n=a(31276);a(24550);c=a(45146);d.prototype.Lb=function(){return this.oh.Lb();};d.prototype.Qlb=function(g,f){var e;this.cLa.has(g) || this.cLa.set(g,new Map());e=this.cLa.get(g);e.has(f) || e.set(f,this.I$b(g,f));return e.get(f);};d.prototype.I$b=function(g,f){var e;e=this;return function(h){return f(Object.assign({},h,{type:g,target:e}));};};d.prototype.hhb=function(g,f){return f?g.then(f,f):g;};b.fga=d;},64059:function(t,b,a){var n;function d(c,g,f){var e;e=n.fga.call(this,c,g) || this;e.seek=function(h){return e.Lb().seek(h);};e.addEpisode=function(h){return e.GQa.YZb(h);};e.playNextEpisode=function(h){h=void 0 === h?{}:h;return e.GQa.bzc(h);};e.watchCredits=function(h){return e.GQa.aOc(h);};e.playSegment=function(h){return e.Lb().CBb(h);};e.queueSegment=function(h){return e.Lb().VCb(h);};e.updateNextSegmentWeights=function(h,l){return e.Lb().Kk(h,l);};e.setNextSegment=function(h){for(var l=[],k=0;k < arguments.length;++k)l[k - 0]=arguments[k];l=l.map(function(m){return {L:m.segmentId,kY:m.nextSegmentId};});e.oh.ym.apply(e.oh,za(l));};e.clearNextSegment=function(h){for(var l=[],k=0;k < arguments.length;++k)l[k - 0]=arguments[k];return e.oh.w5b.apply(e.oh,za(l));};e.goToNextSegment=function(h,l){return e.oh.eOa(h,l);};e.getPlaying=function(){return e.isPlaying();};e.getPaused=function(){return e.isPaused();};e.getMuted=function(){return e.isMuted();};e.getEnded=function(){return e.isEnded();};e.getTimedTextVisibility=function(){return e.isTimedTextVisible();};e.isTimedTextVisible=function(){return !!e.Lb().A7().visibility;};e.setTimedTextVisibility=function(h){return e.setTimedTextVisible(h);};e.setTimedTextSize=function(h){return e.Lb().QZ({size:h});};e.setTimedTextBounds=function(h){return e.Lb().QZ({bounds:h});};e.setTimedTextMargins=function(h){return e.Lb().QZ({margins:h});};e.setTimedTextVisible=function(h){return e.Lb().QZ({visibility:h});};e.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};e.GQa=f(c,g,e.log);return e;}b.uda=void 0;n=a(58343);Ia(d,n.fga);b.uda=d;},59219:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x;function d(y){var A,z;A=this;this.Dqa=new w.oBa();this.createPlaygraphPlayer=function(B,C,D){var F;B=r.xBa.encode(B);F=g.Pa.get(q.hT);D=D?F.create(D):void 0;F=g.Pa.get(k.BBa).create(B);return F.A9b(B.ff,A.Dqa.qRa(A.Fhb(C,F.yla())),D);};this.closeAllPlayers=function(B){B=void 0 === B?function(){}:B;(0,c.a$a)(B);};this.init=function(B){A.YH.Z8(function(C){C.success?A.KFc().catch(function(D){g.log.error("Unable to initialize the playdata services",D);}).then(function(){Object.assign(A,d.EU);B(Object.assign({success:!0},d.EU));}):B({success:!1,error:(0,g.m$a)(C.errorCode || e.aa.Lxa,C)});});};this.applyConfig=function(B){A.nKb(B);(0,n.GIa)(B);};this.prepare=function(B,C){var D;B=A.fCb.yac(B) || [];D=new Set();B=B.filter(function(F){var H;H=D.has(F.R);D.add(F.R);return !H && (!A.AF.gCb() || F.LPa);});if(n.config.px && A.$f && 0 < B.length)try{A.$f.GQ(B,C);}catch(F){g.log.warn("Prepare call failed",F);}};this.ppmUpdate=function(B){A.AF.gCb() || (Ba._cad_global.playerPredictionModel?(B=A.fCb.Aac(B)) && Ba._cad_global.playerPredictionModel.update(B):g.log.error("ppmUpdate called but there is no ppmModel"));};this.supportsHdr=function(B){(0,g.FW)().Oba().then(function(C){return B(C.result);}).catch(function(){return B(!1);});};this.supportsUltraHd=function(B){(0,g.FW)().Pba().then(B).catch(function(){return B(!1);});};this.supportsDolbyAtmos=function(B){(0,g.FW)().Nba().then(B).catch(function(){return B(!1);});};this.supportsDolbyVision=function(B){(0,g.FW)().jta().then(function(C){return B(C.result);}).catch(function(){return B(!1);});};this.supportsDolby51=function(B){(0,g.FW)().ita().then(B).catch(function(){return B(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return n.config.Icc;};this.lnaMessage=function(B){A.AF.WAc(B);};this.isLNAOn=function(){return A.AF.vrc;};this.nKb(y);g.Pa.get(v.k0a);this.fCb=g.Pa.get(f.U9a);this.YH=g.Pa.get(p.Fj);this.AF=g.Pa.get(x.Gea);z=g.Pa.get(u.S9a).apply();(0,n.m6b)([y],z);this.$f=g.Pa.get(m.vM);(0,g.FW)().Pba();}Object.defineProperty(b,"__esModule",{value:!0});b.wM=void 0;n=a(29204);c=a(13044);g=a(31276);f=a(68976);e=a(36129);h=a(83767);l=a(96687);k=a(58252);m=a(66476);p=a(11479);r=a(79048);q=a(17398);u=a(52033);v=a(13847);w=a(81889);x=a(6823);d.prototype.Fhb=function(y,A){var z,B,C,D;y=void 0 === y?{}:y;D=null !== (B=null === (z=y.playbackState) || void 0 === z?void 0:z.currentTime) && void 0 !== B?B:A.cb;return Object.assign(Object.assign({startPts:D,uiPlayStartTime:Date.now()},y),{endPts:null !== (C=A.ib) && void 0 !== C?C:void 0,isPlaygraph:!0});};d.prototype.nKb=function(y){g.Pa.get(h.YL).ztc(y);};d.prototype.KFc=function(){g.Pa.get(l.u2)().catch(function(y){g.log.error("Unable to initialize the playdata services",y);throw y;}).then(function(y){return y.send(Infinity);}).catch(function(y){g.log.error("Unable to send deferred playdata",y);});return Promise.resolve();};b.wM=d;d.EU={};},17925:function(t,b,a){var n,c,g,f,e,h;function d(l){var k;k=g.wM.call(this,l) || this;k.createPlayer=function(m,p){var r,q,u;p=void 0 === p?{}:p;p="number" === typeof p?{Em:p}:p;r=n.Pa.get(c.w2);q=n.Pa.get(e.hT).create(p.manifest);u=n.Pa.get(f.IBa);m=r.y9b(m);r=n.Pa.get(h.BBa).create(m);m=r.yla();u=u.jlb(r);u.addEpisode({movieId:m.J,playbackParams:k.Fhb(p,m),manifest:q});return u;};return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Vcb=void 0;n=a(31276);c=a(75864);g=a(59219);f=a(32050);e=a(17398);h=a(58252);Ia(d,g.wM);b.Vcb=d;},41325:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});t=a(17925);d=a(29204);n=a(13044);b=a(87386);c=a(31276);g=a(45118);f=a(36410);e=a(45146);h=a(32687);Ba.netflix=Ba.netflix || ({});(0,e.qa)(!Ba.netflix.player);Ba.netflix.player={VideoSession:t.Vcb,diag:{togglePanel:function(l,k){var m;m=[];if(!d.config || d.config.raa){switch(l){case "info":m=n.No.map(function(p){return p.Bqa;});break;case "streams":m=n.No.map(function(p){return p.Eqa;});break;case "log":m=[];}m.forEach(function(p){(0,h.$c)(k)?k?p.show():p.JB():p.toggle();});}},addLogMessageSink:function(l){c.Pa.get(g.Io).addListener({w3c:function(){},Etc:function(k){l({data:k.data});}});}},log:(0,c.bm)("Ext"),LogLevel:b.Cn,addLogSink:function(l,k){c.Pa.get(f.eT).ura(l,k);},getVersion:function(){return "6.0052.501.911";},getMostRecentPlaybackDiagnosticGroups:function(){var l;return null === (l=n.Yx.W9) || void 0 === l?void 0:l.rmb.b7();}};},61524:function(t,b,a){var d,n,c,g,f,e,h,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});d=a(1481);n=a(59219);c=a(33096);g=a(29204);t=a(36129);f=a(31276);e=a(45146);h=a(3887);l=a(32687);k=a(45118);m=a(31850);a=a(11479);f.Pa.get(a.Fj).register(t.aa.o5a,function(p){var r,q;r=(0,f.bm)("NccpApi");q=(0,h.R0b)(["info","warn","trace","error"]);n.wM.EU.nccp={getEsn:function(){return d.Un.Li;},getPreferredLanguages:function(){return g.config.yu.nUa;},setPreferredLanguages:function(u){(0,e.qa)((0,l.isArray)(u) && (0,l.uX)(u[0]));g.config.yu.nUa=u;},queueLogblob:function(u,v,w){var x;if(u && v)if((v=v.toLowerCase(),q[v])){x=f.Pa.get(k.Io);u=f.Pa.get(m.tD).tu(u,v,w);x.Lc(u);}else r.warn("Invalid severity",{severity:v});},flushLogblobs:function(){f.Pa.get(k.Io).flush(!0);}};p(c.Jj);});},42433:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});d=a(59219);n=a(1481);c=a(33096);g=a(52569);t=a(36129);f=a(31276);e=a(70834);h=a(45146);l=a(32687);k=a(22365);b=a(11479);m=a(24066);p=a(71501);r=a(97996);q=a(22816);u=a(65630);f.Pa.get(b.Fj).register(t.aa.p5a,function(v){var B;function w(){return n.Un.Li;}function x(C){var D;D=f.Pa.get(p.xT);f.Pa.get(r.k2)().then(function(F){var E,G,K,N;function H(I){var L;L={tokendata:"",signature:""};L.tokendata=(0,f.bB)(I.Up);L.signature=(0,f.bB)(I.bk);return L;}E=F.dQ.wkc(D);G=E.Rn;K=E.Xb;E=E.Xf;N=F.dQ.eQ.qg;K && E && G?((0,h.qa)(G),F=["1",(0,f.bB)(JSON.stringify(H(K))),(0,f.bB)(JSON.stringify(H(E)))].join(),C({success:!0,cryptoContext:{cTicket:F,encrypt:function(I,L){I=(0,l.Zh)(I)?(0,f.K_)(I):I;G.encrypt(I,N,u.CA.JSON,{result:function(O){O=(0,f.bB)(O);L({success:!0,mslEncryptionEnvelopeBase64:O});},error:function(O){(0,h.qa)(!1,"Encrypt error: " + O);L({success:!1});}});},decrypt:function(I,L){I=(0,f.oE)(I);G.decrypt(I,N,{result:function(O){L({success:!0,text:(0,f.Hca)(O)});},error:function(O){(0,h.qa)(!1,"Decrypt error: " + O);L({success:!1});}});},hmac:function(I,L){I=(0,l.Zh)(I)?(0,f.K_)(I):I;G.sign(I,N,u.CA.JSON,{result:function(O){L({success:!0,hmacBase64:(0,f.bB)(O)});},error:function(O){(0,h.qa)(!1,"Hmac error: " + O);L({success:!1});}});}}})):((0,h.qa)(!1,"Must login first"),C({success:!1}));});}function y(C,D){var F;F=(0,f.oE)(C);C=F.subarray(32,48);F=F.subarray(0,32);if(16 != C.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,g.DY)(k.Sm.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,g.DY)(k.Sm.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(H){D({success:!0,cryptoContext:A(H[0],H[1])});},function(){D({success:!1});});}function A(C,D){function F(H){H=new e.Pda((0,f.oE)(H));H.kt();return {iv:H.aDb(),Wcc:H.aDb()};}return {encrypt:function(H,E){var G;H=(0,l.Zh)(H)?(0,f.K_)(H):H;G=k.iH.getRandomValues(new Uint8Array(16));(0,g.DY)(k.Sm.encrypt({name:"AES-CBC",iv:G},C,H)).then(function(K){var N,I;K=new Uint8Array(K);N=[];I=new e.Pda(N);I.Mx(2);I.XLb(G);I.XLb(K);K=(0,f.bB)(N);E({success:!0,encryptedDataAsn1Base64:K});},function(K){(0,h.qa)(!1,"Encrypt error: " + K);E({success:!1});});},decrypt:function(H,E){var G;G=F(H);H=G.iv;G=G.Wcc;(0,g.DY)(k.Sm.decrypt({name:"AES-CBC",iv:H},C,G)).then(function(K){K=new Uint8Array(K);E({success:!0,text:(0,f.Hca)(K)});},function(K){(0,h.qa)(!1,"Decrypt error: " + K);E({success:!1});});},hmac:function(H,E){H=(0,l.Zh)(H)?(0,f.K_)(H):H;(0,g.DY)(k.Sm.sign({name:"HMAC",hash:{name:"SHA-256"}},D,H)).then(function(G){G=new Uint8Array(G);E({success:!0,hmacBase64:(0,f.bB)(G)});},function(G){(0,h.qa)(!1,"Hmac error: " + G);E({success:!1});});}};}function z(){return (0,m.E5b)();}B=f.Pa.get(q.zS);if(B.jub || B.p8)d.wM.EU.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:z};v(c.Jj);});},13777:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});t=a(11479);b=a(36129);d=a(87386);n=a(91581);c=a(15348);g=a(33096);f=a(29204);e=a(31276);h=a(13044);l=a(59219);k=a(62898);m=a(66476);p=a(45118);e.Pa.get(t.Fj).register(b.aa.q5a,function(r){var v,w,x,y;function q(A,z){return void 0 === A || void 0 === z?Promise.reject("Invalid email and/or password"):e.Pa.get(k.w9a).Se({log:this.log,iHa:{email:A,password:z}},{}).then(function(){});}function u(A){var z;z=e.Pa.get(m.vM);return z.rob.fetch(A,z);}if(f.config.Qdc){v=e.Pa.get(c.XAa);w=e.Pa.get(n.Yr);x=e.Pa.get(d.wb).qb("Test");y=e.Pa.get(p.Io);l.wM.EU.test={setPboRequestsListener:function(A){return v.EGc(A);},playbacks:h.No,playgraphManager:{isNextSegmentReady:function(A){var z,B;return void 0 !== (null === (B=null === (z=h.No.find(function(C){return C.Ha === A;})) || void 0 === z?void 0:z.Xa) || void 0 === B?void 0:{oHa:0});},isNextSegmentBuffering:function(A,z){var B,C;return null === (C=null === (B=h.No.find(function(D){return D.Ha === A;})) || void 0 === B?void 0:B.Xa) || void 0 === C?void 0:C.j7(z).N4;}},live:{isLive:function(A){var z;return null === (z=h.No.find(function(B){return B.Ha === A;})) || void 0 === z?void 0:z.Fc.xa;},isAtLiveEdge:function(A){var z;return null === (z=h.No.find(function(B){return B.Ha === A;})) || void 0 === z?void 0:z.Fc.kz();}},device:{esn:Ba._cad_global.device.Li,esnPrefix:w.Ds,errorPrefix:w.zw},log:{info:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.info(A,B);},error:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.error(A,B);},warn:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.warn(A,B);},trace:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.trace(A,B);},log:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.log(A,B);},debug:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.debug(A,B);},flush:function(){return y.flush();}},login:q,getManifest:u};}r(g.Jj);});},66093:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.dB=void 0;d=a(33096);n=a(29204);t=a(36129);c=a(31276);g=a(22365);f=a(11479);e=a(32687);h=a(59818);l=a(5021);a=c.Pa.get(f.Fj);k=c.Pa.get(h.CD);a.register(t.aa.e5a,function(m){var u,v;function p(){m(d.Jj);p=d.kH;}function r(w){if(!(w instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,e.Nw)(w[x]))throw x + " is not a function";});}function q(){return Promise.resolve().then(function(){var w;w=g.ng.getBattery();if(!(0,e.Nw)(w.then))throw "getBattery did not return a promise";return w;});}u=(0,c.bm)("BatteryManager");b.dB={GNb:"chargingchange",Fqb:function(){return v?v.level:null;},qMa:function(){return v?v.charging:null;},addEventListener:function(w,x){v && v.addEventListener(w,x);},removeEventListener:function(w,x){v && v.removeEventListener(w,x);}};n.config.X4 && (0,e.Nw)(g.ng.getBattery)?k.ot((0,l.ac)(n.config.Ggc),q()).then(function(w){r(w);v=w;}).catch(function(w){u.error("getBattery failed",w);}).then(p):p();});},94886:function(t,b,a){var n,c;function d(){var g,f;g=this;this.jy={};this.on=function(e,h,l){g.addListener(e,h,l);};this.addListener=function(e,h,l){g.jy && (g.jy[e]=g.jy[e] || new c.ofa(!0)).add(h,l);};this.removeListener=function(e,h){g.jy && g.jy[e] && g.jy[e].removeAll(h);};this.CMa=function(e){return g.jy && g.jy[e]?g.jy[e].flatten():[];};f=this;this.bd=function(e,h,l){var k;if(f.jy){k=f.CMa(e);for(e={tS:0};e.tS < k.length;(e={tS:e.tS},e.tS++))l?(function(m){return function(){var p;p=k[m.tS];(0,n.yh)(function(){p(h);});};})(e)():k[e.tS].call(this,h);}};}Object.defineProperty(b,"__esModule",{value:!0});b.Bl=void 0;n=a(32219);c=a(20483);d.prototype.Hg=function(){this.jy=void 0;};b.Bl=d;},31298:function(t,b,a){var n,c,g;function d(f,e,h,l,k,m){this.debug=f;this.config=e;this.platform=h;this.debug.assert(l && l != c.aa.hk,"There should always be a specific error code");this.errorCode=l || c.aa.hk;k && "object" === typeof k?(this.Ma=k.Ma || k.subCode,this.yg=k.yg || k.extCode,this.k6=k.k6 || k.Wmb,this.df=k.df || k.details,this.T5=k.XKa,this.Bka=k.Bka || k.G1c || k.PF,this.j6=k.j6 || k.data,k.G9 && (this.G9=k.G9),this.C$=k.C$,this.Uq=k.Uq,this.method=k.method,this.RF=k.RF,this.alert=k.alert,this.zGa=k.zGa,this.iP=k.iP,!this.df && this.iP && (this.df=JSON.stringify(this.iP)),this.Zd=k.Zd,this.debug.assert(!this.Uq || this.Uq == this.yg)):(this.Ma=k,this.yg=m);this.stack=[this.errorCode];this.Ma?this.stack.push(this.Ma):this.yg && this.stack.push(c.W.hk);this.yg && this.stack.push(this.yg);this.bka=this.nna?this.C$:this.platform.zw + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.n$a=void 0;n=a(33096);c=a(36129);g=a(32687);a(3887);d.prototype.pGb=function(f){this.nzc=f;};d.prototype.toString=function(){var f;f="[PlayerError #" + this.bka + "]";this.df && (f+=" " + this.df);this.T5 && (f+=" (CustomMessage: " + this.T5 + ")");return f;};d.prototype.yB=function(){return (/widevine/i).test(this.config().Uw)?n.Awa:(/fps/i).test(this.config().Uw)?"fairplay":n.Yda;};d.prototype.kca=function(){var f,e,h,l;this.T5 && (h=["streaming_error"]);h || this.yB() !== n.Yda || ("80080017" == this.yg && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.yg && (h=["pause_timeout"]));h || this.yB() !== n.Awa || this.errorCode !== c.aa.i3a && this.errorCode !== c.aa.Dwa || (h=["no_cdm","platform_error","plugin_error"]);h || this.errorCode !== c.aa.Gwa || this.Ma !== c.W.Ewa || (h=["pause_timeout"]);this.Bka === c.Oea.Vc && (this.WHa("2018") || this.WHa("2020")?h=["received_soad"]:this.WHa("5000") && (h=["should_reset_device"]));l=this.Qgc();l && (h=[l],this.T5=void 0);if(!h)switch(this.errorCode){case c.aa.cfa:case c.aa.rea:case c.aa.AMb:case c.aa.nAa:this.nzc && (h=["pause_timeout"]);break;case c.aa.t5a:case c.aa.u5a:h=this.Ma?["platform_error"]:["multiple_tabs"];break;case c.aa.Mxa:case c.aa.d9a:case c.aa.pAa:case c.aa.nTb:h=["platform_error","plugin_error"];break;case c.aa.wTb:h=["no_cdm","platform_error","plugin_error"];break;case c.aa.o3a:case c.aa.dfa:case c.aa.f9a:switch(this.yg){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case c.aa.b9a:case c.aa.oAa:h=["unsupported_output"];}!h && (0,c.E3a)(this.Ma) && (h=this.Ma == c.W.E1?["geo"]:["internet_connection_problem"]);h || this.errorCode !== c.aa.Dwa || this.Ma !== c.W.fq || "S" !== this.platform.zw || (h=["private_mode"]);if(!h)switch(this.eYa(this.Ma)){case c.W.FDa:h=["should_upgrade"];break;case c.W.X8a:h=["should_reset_device"];break;case c.W.W8a:h=["should_reload_device"];break;case c.W.V8a:h=["should_exit_device"];break;case c.W.YRb:case c.W.d7a:h=["should_signout_and_signin"];break;case c.W.ZRb:h=["internet_connection_problem"];break;case c.W.u2a:h=["platform_error","plugin_error"];break;case c.W.nOb:case c.W.b5a:case c.W.c5a:h=["private_mode"];break;case c.W.Yya:h=["should_reload_with_preferred_locales"];}h=h || [];if(this.nna)(h.push(this.C$,this.k6),this.eYa(this.Ma) === c.W.kAa && h.push("incorrect_pin"));else if((h.push(this.platform.zw + this.errorCode),this.Ma))switch(this.eYa(this.Ma)){case c.W.kAa:h.push("incorrect_pin");break;default:h.push("" + this.Ma);}h={display:{code:this.bka,text:this.T5},messageIdList:h,alert:this.alert,alertTag:this.zGa,preferredAudioLocale:null === (f=this.iP) || void 0 === f?void 0:f.gtb,preferredTextLocale:null === (e=this.iP) || void 0 === e?void 0:e.htb};this.config().Pdc && (h.debugData=this.j6);return h;};d.prototype.eYa=function(f){var e;e=parseInt(f,10);return isNaN(e)?f:e;};d.prototype.WHa=function(f){return ((0,g.ec)(this.yg)?this.yg.toString():(0,g.Zh)(this.yg)?this.yg:"").endsWith(f);};d.prototype.Qgc=function(){if(this.errorCode === c.aa.g6a && (this.Ma === c.W.jAa || this.Ma === c.W.U8a))return this.Rgc(this.Ma === c.W.jAa);};d.prototype.Rgc=function(f){var e,h,l,k;l=this.config().browserInfo || ({});k=null === (e=l.os) || void 0 === e?void 0:e.name;e=((null === (h=l.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(e && e[0]);e=parseInt(e && e[1]);switch(k){case "windows":return 6 > h || 6 === h && 1 > e?f?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":f?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > e?f?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":f?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return f?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};Ga.Object.defineProperties(d.prototype,{nna:{configurable:!0,enumerable:!0,get:function(){return !!this.C$ && !!this.k6;}}});b.n$a=d;},981:function(t,b){function a(d,n){this.JYa=d;this.HB=n;}Object.defineProperty(b,"__esModule",{value:!0});b.iab=void 0;a.prototype.cHc=function(){this.rha || (this.rha=setInterval(this.HB,this.JYa));};a.prototype.Fjb=function(){this.rha && (clearInterval(this.rha),this.rha=void 0);};b.iab=a;},35128:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$fa=void 0;b.Pt={sT:"PRIMARY",sua:"ASSISTIVE",E1a:"COMMENTARY",NONE:"NONE"};b.$fa={assistive:b.Pt.sua,closedcaptions:b.Pt.sua,directorscommentary:b.Pt.E1a,commentary:b.Pt.E1a,subtitles:b.Pt.sT,primary:b.Pt.sT,none:b.Pt.NONE};},24066:function(t,b,a){var n,c,g,f,e;function d(){return n.Yc.get(g.Sd).zF.la(e.wa);}Object.defineProperty(b,"__esModule",{value:!0});b.qw=function(){return n.Yc.get(g.Sd).uc().la(e.wa);};b.Jjb=function(){return n.Yc.get(c.di).gg.la(e.Nt);};b.WWc=function(){return n.Yc.get(g.Sd).zF.la(e.Nt);};b.VWc=function(){return n.Yc.get(f.sD).GE();};b.D5b=d;b.E5b=function(){return n.Yc.get(c.di).gg.la(e.wa);};b.XWc=function(){return d();};n=a(83989);c=a(30869);g=a(81918);f=a(62665);e=a(5021);},33096:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q0a=b.TBa=b.c2=b.Hea=b.nNb=b.pNb=b.qNb=b.i1a=b.mNb=b.oNb=b.h1a=b.rNb=b.vNb=b.tNb=b.uNb=b.sNb=b.$Ob=b.ZOb=b.YOb=b.mRb=b.oRb=b.nRb=b.jRb=b.lRb=b.kRb=b.aPb=b.Awa=b.Yda=b.vSb=b.LUb=b.b7a=b.gNb=b.r2a=b.dAa=b.qT=b.afa=b.a7a=b.uD=b.fNb=b.V0a=b.KQb=b.HVb=b.iRb=b.hRb=b.zUb=b.yUb=b.iq=b.Jj=b.dab=b.kH=void 0;b.P0a=b.R0a=b.T0a=b.S0a=void 0;b.kH=function(){};b.dab=function(){return !0;};b.Jj={success:!0};b.iq=1E3;b.yUb=86400;b.zUb=604800;b.hRb=1E4;b.iRb=1E7;b.HVb=1.5;b.KQb=.128;b.V0a=7.8125;b.fNb=128;b.uD=145152E5;b.a7a=1E5;b.afa="$netflix$player$order";b.qT=-1;b.dAa=1;b.r2a=["en-US"];b.gNb=8;b.b7a=65535;b.LUb=65536;b.vSb=Number.MAX_VALUE;b.Yda="playready";b.Awa="widevine";b.aPb="fps";b.kRb='audio/mp4; codecs="mp4a.40.5"';b.lRb='audio/mp4; codecs="mp4a.40.42"';b.jRb='audio/mp4; codecs="ec-3"';b.nRb='video/mp4; codecs="avc1.640028"';b.oRb='video/mp4; codecs="hev1.2.6.L153.B0"';b.mRb='video/mp4; codecs="dvhe.01000000"';b.YOb="9A04F079-9840-4286-AB92-E65BE0885F95";b.ZOb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.$Ob="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.sNb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.uNb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.tNb="4E657466-6C69-7846-7261-6D6552617465";b.vNb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.rNb="mp4a";b.h1a="enca";b.oNb="ec-3";b.mNb="avc1";b.i1a="encv";b.qNb="hvcC";b.pNb="hev1";b.nNb="dvhe";b.Hea=0;b.c2=1;b.TBa="position:relative;width:100%;height:100%;overflow:hidden";b.Q0a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAKWZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQwAAAAXwbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAABdwAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAzt0cmFrAAAAXHRraGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAYAAAADYAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAH0gABAAAAAAKzbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAABdwAAAAABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABNZWRpYUhhbmRsZXIAAAACXm1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAh5zdGJsAAAB0nN0c2QAAAAAAAAAAgAAAQllbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAYAA2ABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAP2F2Y0MBZAAW/+EAI2dkABasylBgd+XARAAAD6QAA6mDkgAD0JAAehKTTAHixbLAAQAFaOk7LIv9+PgAAAAAEHBhc3AAAAABAAAAAQAAAFBzaW5mAAAADGZybWFhdmMxAAAAFHNjaG0AAAAAY2VuYwABAAAAAAAoc2NoaQAAACB0ZW5jAAAAAAAAAQgAAAAABJJuTQAAAAAAAAAAAAAAFGJ0cnQAAFdDAAQxEAAA4PAAAAC5YXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAGAANgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAD9hdmNDAWQAFv/hACNnZAAWrMpQYHflwEQAAA+kAAOpg5IAA9CQAHoSk0wB4sWywAEABWjpOyyL/fj4AAAAABBwYXNwAAAAAQAAAAEAAAAUYnRydAAAV0MABDEQAADg8AAAABBzdHRzAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAOG12ZXgAAAAQbWVoZAAAAAABSRwjAAAAIHRyZXgAAAAAAAAAAQAAAAEAAAPpAAAAAAABAAAAAAGJcHNzaAAAAACaBPB5mEBChquS5lvgiF+VAAABaUoCAAAQAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiAD4ADQAKACAAIAA8AEQAQQBUAEEAPgANAAoAIAAgACAAIAA8AEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+AE8ATgBEAEUATQBBAE4ARAA8AC8ARABFAEMAUgBZAFAAVABPAFIAUwBFAFQAVQBQAD4ADQAKACAAIAA8AC8ARABBAFQAQQA+AA0ACgA8AC8AVwBSAE0ASABFAEEARABFAFIAPgAAAABMcHNzaAAAAAApcB/kPMdKNIxbrpDHQ5pHAAAALAAAAAQAAAAABJJuTcxdH7v6mbzxtj405AeHQcIhLEFIaAigoatAInie7Qj4AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAASSbk0AAAAAAAAAAA==";b.S0a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAKWZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQwAAAAa0bW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAB1MAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA/90cmFrAAAAXHRraGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAABQAAAALQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAH0gABAAAAAAN3bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAAABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABNZWRpYUhhbmRsZXIAAAADIm1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAuJzdGJsAAAClnN0c2QAAAAAAAAAAgAAAWtlbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABQAC0ABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAjmh2Y0MBAiAAAACQAAAAAABd8AD9/fr6AAAPA6AAAQAYQAEMAf//AiAAAAMAkAAAAwAAAwBdkcCQoQABAEFCAQECIAAAAwCQAAADAAADAF2gAoCALRNnkeSQpEM5Kym/RhSVgLUBAQEEAAAPpAAB1MPoq978AS6AJeACXQBLwqIAAQAHRAHBcvY8kAAAABBwYXNwAAAAAQAAAAEAAAATY29scm5jbHgAAQABAAEAAAAAUHNpbmYAAAAMZnJtYWh2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAEkm5NAAAAAAAAAAAAAAAUYnRydAAAfR0ADq1AAAfrqAAAARtodmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABQAC0ABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAjmh2Y0MBAiAAAACQAAAAAABd8AD9/fr6AAAPA6AAAQAYQAEMAf//AiAAAAMAkAAAAwAAAwBdkcCQoQABAEFCAQECIAAAAwCQAAADAAADAF2gAoCALRNnkeSQpEM5Kym/RhSVgLUBAQEEAAAPpAAB1MPoq978AS6AJeACXQBLwqIAAQAHRAHBcvY8kAAAABBwYXNwAAAAAQAAAAEAAAATY29scm5jbHgAAQABAAEAAAAAFGJ0cnQAAH0dAA6tQAAH66gAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAADhtdmV4AAAAEG1laGQAAAAAAAbfkgAAACB0cmV4AAAAAAAAAAEAAAABAAAD6QAAAAAAAQAAAAABiXBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAWlKAgAAEAEAlAI8AFcAUgBNAEgARQBBAEQARQBSACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADIALgAwAC4AMAAiACAAeABtAGwAbgBzAD0AIgBoAHQAdABwADoALwAvAHMAYwBoAGUAbQBhAHMALgBtAGkAYwByAG8AcwBvAGYAdAAuAGMAbwBtAC8ARABSAE0ALwAyADAAMAA3AC8AMAAzAC8AUABsAGEAeQBSAGUAYQBkAHkASABlAGEAZABlAHIAIgA+AA0ACgAgACAAPABEAEEAVABBAD4ADQAKACAAIAAgACAAPABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+AA0ACgAgACAAPAAvAEQAQQBUAEEAPgANAAoAPAAvAFcAUgBNAEgARQBBAEQARQBSAD4AAAAATHBzc2gAAAAAKXAf5DzHSjSMW66Qx0OaRwAAACwAAAAEAAAAAASSbk3MXR+7+pm88bY+NOQHh0HCISxBSGgIoKGrQCJ4nu0I+AAAADRwc3NoAAAAAO3vi6l51krOo8gn3NUdIe0AAAAUCAESEAAAAAAEkm5NAAAAAAAAAAA=";b.T0a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAKWZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQwAAAAX3bW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAABdwAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA0J0cmFrAAAAXHRraGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAmAAAAFWAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAPpAABAAAAAAK6bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAABdwAAAAABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABNZWRpYUhhbmRsZXIAAAACZW1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAiVzdGJsAAAB2XN0c2QAAAAAAAAAAQAAAcllbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAmABVgBIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAwGh2Y0MBAiAAAACQAAAAAABa8AD9/fr6AAAPA6AAAQAYQAEMAf//AiAAAAMAkAAAAwAAAwBamLAkoQABAHFCAQECIAAAAwCQAAADAAADAFqgBMIBWfTZ5i5JCkQE7hCsImJ5ff6PNnL+jmUyXv6ObMv0YUITiKxJl7+jmzL9GFETmrEm/Zl+jCmnJWU36MKSsBahIgE2wgAAAwACAAADADHzze9+ALWAFrgBawAtcaIAAQAJRAHBcsKhljyQAAAAEHBhc3AAAAABAAAAAQAAABNjb2xybmNseAAJABAACQAAAAAgbWRjdjPChsQdTAu4hNA+gD0TQEICYloAAAAAMgAAAAxjbGxpJxAArwAAAFBzaW5mAAAADGZybWFodmMxAAAAFHNjaG0AAAAAY2VuYwABAAAAAAAoc2NoaQAAACB0ZW5jAAAAAAAAAQgAAAAABJJuTQAAAAAAAAAAAAAAFGJ0cnQAACRGAAVtaAABwSAAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAADhtdmV4AAAAEG1laGQAAAAAADb8kAAAACB0cmV4AAAAAAAAAAEAAAABAAAD6QAAAAAAAQAAAAABiXBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAWlKAgAAEAEAlAI8AFcAUgBNAEgARQBBAEQARQBSACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADIALgAwAC4AMAAiACAAeABtAGwAbgBzAD0AIgBoAHQAdABwADoALwAvAHMAYwBoAGUAbQBhAHMALgBtAGkAYwByAG8AcwBvAGYAdAAuAGMAbwBtAC8ARABSAE0ALwAyADAAMAA3AC8AMAAzAC8AUABsAGEAeQBSAGUAYQBkAHkASABlAGEAZABlAHIAIgA+AA0ACgAgACAAPABEAEEAVABBAD4ADQAKACAAIAAgACAAPABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+AA0ACgAgACAAPAAvAEQAQQBUAEEAPgANAAoAPAAvAFcAUgBNAEgARQBBAEQARQBSAD4AAAAATHBzc2gAAAAAKXAf5DzHSjSMW66Qx0OaRwAAACwAAAAEAAAAAASSbk3MXR+7+pm88bY+NOQHh0HCISxBSGgIoKGrQCJ4nu0I+AAAADRwc3NoAAAAAO3vi6l51krOo8gn3NUdIe0AAAAUCAESEAAAAAAEkm5NAAAAAAAAAAA=";b.R0a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAOmZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQyAyLjIuMS1yZXZyZWxlYXNlAAAABiBtb292AAAAbG12aGQAAAAA5NfWeuTX1noAAF3AAAAAAAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAADa3RyYWsAAABcdGtoZAAAAAHk19Zf5NfWegAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAADwAAAAhwAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAAAAAA+kAAEAAAAAAuNtZGlhAAAAIG1kaGQAAAAA5NfWX+TX1noAAF3AAAAAAFXEAAAAAAA3aGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAD9AR1BBQzIuMi4xLXJldnJlbGVhc2UAAAAChG1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAkRzdGJsAAAB+HN0c2QAAAAAAAAAAgAAARxlbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAA8ACHABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAH2h2Y0MBAiAAAACQAAAAAABa8AD9/fr6AAAPAAAAACBkdmNDAQAKDQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEHBhc3AAAAABAAAAAQAAABNjb2xybmNseAACAAIAAoAAAABQc2luZgAAAAxmcm1hZHZoZQAAABRzY2htAAAAAGNlbmMAAQAAAAAAKHNjaGkAAAAgdGVuYwAAAAAAAAEIAAAAAASSbk0AAAAAAAAAAAAAABRidHJ0AACamQAHyWAAAdpQAAAAzGR2aGUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAADwAIcAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAfaHZjQwECIAAAAJAAAAAAAFrwAP39+voAAA8AAAAAIGR2Y0MBAAoNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQcGFzcAAAAAEAAAABAAAAE2NvbHJuY2x4AAIAAgACgAAAABRidHJ0AACamQAHyWAAAdpQAAAAEHN0dHMAAAAAAAAAAAAAABBzdHNjAAAAAAAAAAAAAAAUc3RzegAAAAAAAAAAAAAAAAAAABBzdGNvAAAAAAAAAAAAAAA4bXZleAAAABBtZWhkAAAAAASXy9QAAAAgdHJleAAAAAAAAAABAAAAAQAAA+kAAAAAAAEAAAAAAYlwc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAFpSgIAABABAJQCPABXAFIATQBIAEUAQQBEAEUAUgAgAHYAZQByAHMAaQBvAG4APQAiADQALgAyAC4AMAAuADAAIgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAPgANAAoAIAAgADwARABBAFQAQQA+AA0ACgAgACAAIAAgADwARABFAEMAUgBZAFAAVABPAFIAUwBFAFQAVQBQAD4ATwBOAEQARQBNAEEATgBEADwALwBEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgANAAoAIAAgADwALwBEAEEAVABBAD4ADQAKADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAEkm5NzF0fu/qZvPG2PjTkB4dBwiEsQUhoCKChq0AieJ7tCPgAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABJJuTQAAAAAAAAAA";b.P0a="AAAAIGZ0eXBpc282AAAAAWlzbzZkc21zbXNpeGRhc2gAAABJZnJlZUlzb01lZGlhIEZpbGUgUHJvZHVjZWQgd2l0aCBHUEFDIDIuMy1ERVYtcmV2NzMyNC1nYmY2MjljNjllLUhFQUQAAAACyW1vb3YAAABsbXZoZAAAAADh+ZcJ4fmXCQAAu4AAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIddHJhawAAAFx0a2hkAAAAB+H5lKLh+ZcJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAAAAAAAAAAAQAAAAABlW1kaWEAAAAgbWRoZAAAAADh+ZSi4fmXCQAAu4AAAAAAFccAAAAAACVoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAc291bgAAAAFIbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEMc3RibAAAAKZzdHNkAAAAAAAAAAEAAACWbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAALuAAAAAAAByZXNkcwAAAAADZAAAAARcQBUABhoAAx/QAALzCAVN+UZDIjzA08ngIAAAEkt4gQIEBgtciAIJAggJCAAJ1AGAQARCAAV1AGAwsAGQgAgdcgBgKHACEIAIGQAYCAAABMAK5JYATgAgAASfSwAGAQIAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAABpzZ3BkAQAAAHByb2wAAAACAAAAAQABAAAAOG12ZXgAAAAQbWVoZAAAAAAJVBbgAAAAIHRyZXgAAAAAAAAAAQAAAAEAAAQAAAAAAAABAAA=";},77705:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.slb=b.lRa=void 0;d=a(45146);n=a(3887);c=a(32687);(function(){var f,e,h;function g(l){(0,d.qa)(void 0 !== f[l]);return f[l];}f={'"':'""',"\r":"","\n":" "};e=/["\r\n]/g;h=/[", ]/;b.slb=function(l){return (0,c.$c)(l)?(0,c.ec)(l)?l:(0,c.Zh)(l)?l.replace(e,g):(0,c.fub)(l)?l:isNaN(l)?"NaN":"":"";};b.lRa=function(l){var k,m;k=b.slb;m="";(0,n.Yh)(l,function(p,r){p=k(p) + "=" + k(r);h.test(p) && (p='"' + p + '"');m=m?m + ("," + p):p;});return m;};})();},45146:function(t,b,a){var c,g,f;function d(){f || (f=c.Pa.get(g.iD));return f;}function n(e,h){return d().assert(e,h);}Object.defineProperty(b,"__esModule",{value:!0});b.A$b=b.A5=b.t$b=b.x$b=b.CV=b.B5=b.w$b=b.y$b=b.C5=b.Llb=b.v$b=b.u$b=b.z$b=b.RMb=void 0;b.qa=n;c=a(31276);g=a(90597);b.RMb=function(){n(!1);};b.z$b=!0;f=void 0;b.u$b=function(e,h){return d().Y0b(e,h);};b.v$b=function(e,h){return d().Z0b(e,h);};b.Llb=function(e,h){return d().hia(e,h);};b.C5=function(e,h){return d().e1b(e,h);};b.y$b=function(e,h){return d().c1b(e,h);};b.w$b=function(e,h){return d().gia(e,h);};b.B5=function(e,h){return d().a1b(e,h);};b.CV=function(e,h){return d().d1b(e,h);};b.x$b=function(e,h){return d().b1b(e,h);};b.t$b=function(e,h){return d().X0b(e,h);};b.A5=function(e,h){return d().$0b(e,h);};b.A$b=function(){return d().Qnc();};},32219:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yh=function(a){return setTimeout(a,0);};},22894:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EPb=function(a){var c,g,f,e;function d(){if(f)for(var h;h=c.pop();)h(e);}function n(h){f=!0;e=h;d();}c=[];return function(h){c.push(h);g || (g=!0,a(n));d();};};},37509:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.lma=b.cr=b.mma=b.YI=b.cn=b.oe=void 0;t=a(94886);d=a(32219);n=a(22365);b.oe=new t.Bl();b.cn=1;b.YI=2;b.mma=3;b.cr=4;b.lma=5;(0,d.yh)(function(){var g,f,e;function c(h,l){if(f)f.on(h,l);else Ba.addEventListener(h,l);}g=Ba.jQuery;f=g && g(Ba);g=(g=Ba.netflix) && g.cadmium && g.cadmium.addBeforeUnloadHandler;e=n.fi.hidden;g?g(function(h){b.oe.bd(b.cn,h);}):c("beforeunload",function(h){b.oe.bd(b.cn,h);});c("keydown",function(h){b.oe.bd(b.YI,h);});c("resize",function(){b.oe.bd(b.mma);});n.fi.addEventListener("visibilitychange",function(){e !== n.fi.hidden && (e=n.fi.hidden,b.oe.bd(b.cr));});});(function(){Ba.addEventListener("error",function(c){b.oe.bd(b.lma,c);return !0;});})();},52828:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});t=a(36129);d=a(31276);n=a(31701);a=a(11479);d.Pa.get(a.Fj).register(t.aa.g5a,function(c){d.Pa.get(n.c3a)().then(function(){c({success:!0});}).catch(function(g){d.log.error("error in initializing indexedDb debug tool",g);c({success:!0});});});},37353:function(t,b,a){var h,l,k,m,p;function d(r){var q,v;(0,l.C5)(r);if((0,m.Zh)(r) && b.v5a.test(r)){q=r.split(".");if(4 === q.length){for(var u=0;u < q.length;u++){v=(0,p.jl)(q[u]);if(0 > v || !(0,m.xJ)(v,0,255) || 1 !== q[u].length && 0 === q[u].indexOf("0"))return;}return r;}}}function n(r){var q;q=0;if(d(r) === r)return (r=r.split("."),q+=(0,p.jl)(r[0]) << 24,q+=(0,p.jl)(r[1]) << 16,q+=(0,p.jl)(r[2]) << 8,q + (0,p.jl)(r[3]));}function c(r){var q,u;(0,l.C5)(r);if((0,m.Zh)(r) && r.match(b.w5a)){q=r.split(":");-1 !== q[q.length - 1].indexOf(".") && (r=g(q[q.length - 1]),q.pop(),q.push(r[0]),q.push(r[1]),r=q.join(":"));r=r.split("::");if(!(2 < r.length || 1 === r.length && 8 !== q.length) && (q=1 < r.length?f(r):q,r=q.length,8 === r)){for(;r--;){u=parseInt(q[r],16);if(!(0,m.xJ)(u,0,h.b7a))return;}return q.join(":");}}}function g(r){var q;r=n(r) >>> 0;q=[];q.push((r >>> 16 & 65535).toString(16));q.push((r & 65535).toString(16));return q;}function f(r){var q,u,v;q=r[0].split(":");r=r[1].split(":");1 === q.length && "" === q[0] && (q=[]);1 === r.length && "" === r[0] && (r=[]);u=8 - (q.length + r.length);if(1 > u)return [];for(v=0;v < u;v++)q.push("0");for(v=0;v < r.length;v++)q.push(r[v]);return q;}function e(r){return -1 << 32 - r;}Object.defineProperty(b,"__esModule",{value:!0});b.XL=b.w5a=b.v5a=void 0;b.aSc=d;b.XRc=n;b.bSc=c;b.ZRc=g;b.$Rc=f;b.cSc=function(r,q,u){var v,w,x,y;v=d(r);w=c(r);x=d(q);y=c(q);if(!v && !w || !x && !y || v && !x || w && !y)return !1;if(r === v)return (u=e(u),(n(r) & u) !== (n(q) & u)?!1:!0);if(r === w){r=r.split(":");q=q.split(":");for(v=(0,k.jT)(u / b.XL.length);v--;)if(r[v] !== q[v])return !1;u%=b.XL.length;if(0 !== u)for((r=parseInt(r[v],16).toString(2),q=parseInt(q[v],16).toString(2),r=b.XL.substring(0,b.XL.length - r.length) + r,q=b.XL.substring(0,b.XL.length - q.length) + q,v=0);v < u;v++)if(r[v] !== q[v])return !1;return !0;}return !1;};b.YRc=e;h=a(33096);l=a(45146);k=a(22365);m=a(32687);p=a(3887);b.v5a=/^[0-9.]*$/;b.w5a=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.XL="0000000000000000";},32687:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Nw=b.fub=b.uX=b.Zh=b.eQa=b.voc=b.doc=b.WPa=b.xJ=b.xub=b.ec=b.F8=b.isArray=b.Rub=b.mz=b.$c=b.is=void 0;t=a(76564);b.is=t.ZL;b.$c=function(d){return b.is.Xh(d);};b.mz=function(d){return b.is.l4(d);};b.Rub=function(d){return b.is.LFa(d);};b.isArray=function(d){return b.is.tN(d);};b.F8=function(d){return b.is.Tgb(d);};b.ec=function(d,n,c){return b.is.Ln(d,n,c);};b.xub=function(d,n,c){return b.is.EGa(d,n,c);};b.xJ=function(d,n,c){return b.is.m4(d,n,c);};b.WPa=function(d){return b.is.T3(d);};b.doc=function(d){return b.is.qZb(d);};b.voc=function(d){return b.is.rZb(d);};b.eQa=function(d){return b.is.Ugb(d);};b.Zh=function(d){return b.is.ks(d);};b.uX=function(d){return b.is.aw(d);};b.fub=function(d){return b.is.sha(d);};b.Nw=function(d){return b.is.uha(d);};},2734:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(31276);b=a(36410);a=a(34126);t.Pa.get(b.eT).ura(a.Rya.SNb,function(d){var n,c;n=d.level;if(!Ba._cad_global.config || n <= Ba._cad_global.config.Src){d=d.uta();c=Ba.console;1 >= n?c.error(d):2 >= n?c.warn(d):c.log(d);}});},73100:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);t=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);t.Pa.get(a.Fj);!1;},8825:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.AD=void 0;b.iTc=function(n,c,g,f,e){return (n - c) * (e - f) / (g - c) + f;};b.Ij=function(n){if((0,d.ec)(n))return (n / 1E3).toFixed(3);};d=a(32687);b.AD=b.AD || (function(n,c,g){return n >= c?n <= g?n:g:c;});},87051:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.QUc=function(c,g,f){for(f=(f - c.length) / g.length;0 < f--;)c+=g;return c;};b.OUc=function(c,g,f){f=(0,d.Zh)(f)?f:"...";return c.length <= g?c:c.substr(0,c.length - (c.length + f.length - g)) + f;};b.PUc=function(c,g){var e;for(var f=1;f < arguments.length;++f);e=n.slice.call(arguments,1);return c.replace(/{(\d+)}/g,function(h,l){return "undefined" != typeof e[l]?e[l]:h;});};b.RUc=function(c){for(var g=c.length,f=new Uint16Array(g),e=0;e < g;e++)f[e]=c.charCodeAt(e);return f.buffer;};b.Z4c=function(c){var g;g=new Uint8Array(c.length);Array.prototype.forEach.call(c,function(f,e){g[e]=f.charCodeAt(0);});return g;};d=a(32687);n=a(22365);},52569:function(t,b,a){var h,l,k,m,p,r;function d(){var q,u;if(q=b.Vla.Veb)return q;q=m.Sea.search.substr(1);u=q.indexOf("#");0 <= u && (q=q.substr(0,u));q=n(q);return b.Vla.Veb=q;}function n(q){for(var u=/[+]/g,v=(q || "").split("&"),w={},x,y=0;y < v.length;y++)(q=(0,k.trim)(v[y]),x=q.indexOf("="),0 <= x?w[decodeURIComponent(q.substr(0,x).replace(u,"%20")).toLowerCase()]=decodeURIComponent(q.substr(x + 1).replace(u,"%20")):w[q.toLowerCase()]=null);return w;}function c(q){return (q=(/function (.{1,})\(/).exec(q.toString())) && 1 < q.length?q[1]:"";}function g(q){return c(q.constructor);}function f(q){return m.sort.call(q,function(u,v){return u - v;});}function e(q){for(var u=0,v=q.length;v--;)u+=q[v];return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Xka=b.createElement=b.q5=b.Vla=b.e5=void 0;b.Z5b=function(q,u){if(q === u)return !0;if(!q || !u)return !1;for(var v in q)if(q.hasOwnProperty(v) && (!u.hasOwnProperty(v) || q[v] !== u[v]))return !1;return !0;};b.M2c=function(q){var u;if(q){u=q.length;if(u)return (u=(0,k.JBc)(0,u - 1),q[u]);}};b.z6b=function(q,u){if(q.length != u.length)return !1;q.sort();u.sort();for(var v=q.length;v--;)if(q[v] !== u[v])return !1;return !0;};b.C_b=function(q,u,v){function w(){q.removeEventListener(u,w);v.apply(this,arguments);}q.addEventListener(u,w);};b.NBc=function(){var q,u,v,w,x,y;q=m.fi.cookie.split("; ");u=q.length;x={};for(v=0;v < u;v++)if(w=(0,k.trim)(q[v])){y=w.indexOf("=");0 < y && (x[w.substr(0,y)]=w.substr(y + 1));}return x;};b.OZc=d;b.jqa=n;b.getFunctionName=c;b.Xpb=g;b.Ezb=function(q){var u;u="";(0,p.isArray)(q) || (0,p.F8)(q)?u=m.reduce.call(q,function(v,w){return v + (32 <= w && 128 > w?(0,m.Gbb)(w):".");},""):(0,p.Zh)(q)?u=q:(0,k.Yh)(q,function(v,w){u+=(u?", ":"") + "{" + v + ": " + ((0,p.Nw)(w)?c(w) || "function":w) + "}";});return "[" + g(q) + " " + u + "]";};b.A2c=function(q,u){q.firstChild?q.insertBefore(u,q.firstChild):q.appendChild(u);};b.C_c=function(q,u){var v;v=q[0];if(u <= v[0])return v.slice(1);for(var w=1,x;x=q[w++];){if(u <= x[0]){q=(u - v[0]) / (x[0] - v[0]);u=[];for(w=1;w < v.length;w++)u.push((v[w] || 0) + q * ((x[w] || 0) - (v[w] || 0)));return u;}v=x;}return v.slice(1);};b.nPc=function(q,u){var x;for(var v={},w=0;w < u.length;w++){x=u[w];if("string" != typeof x && "number" != typeof x)return !1;v[u[w]]=1;}for(w=0;w < q.length;w++)if((x=q[w],!v[x]))return !1;return !0;};b.Vua=f;b.pPc=e;b.oda=function(q,u){var v,w,x,y;v=-1;w=q.length;if(1 === arguments.length){for(;++v < w && !(null != (x=q[v]) && x <= x);)x=void 0;for(;++v < w;)null != (y=q[v]) && y > x && (x=y);}else {for(;++v < w && !(null != (x=u.call(q,q[v],v)) && x <= x);)x=void 0;for(;++v < w;)null != (y=u.call(q,q[v],v)) && y > x && (x=y);}return x;};b.oPc=function(q,u){var v,w,x,y;v=-1;w=q.length;if(1 === arguments.length){for(;++v < w && !(null != (x=q[v]) && x <= x);)x=void 0;for(;++v < w;)null != (y=q[v]) && x > y && (x=y);}else {for(;++v < w && !(null != (x=u.call(q,q[v],v)) && x <= x);)x=void 0;for(;++v < w;)null != (y=u.call(q,q[v],v)) && x > y && (x=y);}return x;};b.DY=function(q){return (0,p.Nw)(q.then)?q:new Promise(function(u,v){q.oncomplete=function(){u(q.result);};q.onerror=function(){v(q.error);};});};b.LYc=function(q,u){var w,x,y,A,z,B;function v(C){0 > w.indexOf(C) && (0,p.ec)(C) && w.push(C);}q=q.slice();f(q);w=[];if(!u || !u.length)return q;if(!q.length)return [];x=u.length;try{for(;x--;){A="" + u[x];z=(0,k.jl)(A);switch(A[A.length - 1]){case "-":for(y=q.length;y--;){B=q[y];if(B < z){v(B);break;}}break;case "+":for(y=0;y < q.length;y++)if((B=q[y],B > z)){v(B);break;}break;default:0 <= q.indexOf(z) && v(z);}}}catch(C){}w.length || w.push(q[0]);f(w);return w;};b.dXc=function(q,u,v){for(var w=[],x=0;x < u;x++)w.push((0,m.r7a)(q[x] - v,2));return (0,m.s7a)(e(w) / w.length);};b.S4=function(q,u){var v;v=q.length;u=(v - 1) * u + 1;if(1 === u)return q[0];if(u == v)return q[v - 1];v=(0,m.jT)(u);return q[v - 1] + (u - v) * (q[v] - q[v - 1]);};b.UYc=function(q,u){if(!(0,p.isArray)(q))throw Error("boxes is not an array");if(0 >= q.length)throw Error("There are no boxes in boxes");u=(0,p.isArray)(u)?u:[u];for(var v=q.length,w=0;w < v;w++)for(var x=0;x < u.length;x++)if(q[w].type == u[x])return q[w];throw Error("Box not found " + u);};b.TPc=function(q){return q.nhc("trak/mdia/minf/stbl/stsd/" + h.h1a + "|" + h.i1a).children.filter(function(u){return "sinf" == u.type && u.QYc.schm.i3c == r.gD;})[0].nhc("schi/tenc").pz;};b.SPc=function(q){var v;function u(w,x){var y;y=v[w];v[w]=v[x];v[x]=y;}v=new Uint8Array(q);u(0,3);u(1,2);u(4,5);u(6,7);return v;};b.r2c=function(q){return function(u){return u && u[q];};};b.Qub=function(q){return q && 0 == q.toLowerCase().indexOf("https");};b.Fhc=function(){var q,u;q=new ArrayBuffer(4);u=new Uint8Array(q);q=new Uint32Array(q);u[0]=161;u[1]=178;u[2]=195;u[3]=212;return 3569595041 == q[0]?"LE":2712847316 == q[0]?"BE":"undefined";};b.PW=function(){var q,u,v;try{q=/playercore.*js/;u=m.DA.getEntries("resource").filter(function(w){return null !== q.exec(w.name);});if(u && 0 < u.length){v=(0,m.Xr)(u[0].duration);return JSON.stringify(v);}}catch(w){}};b.u2c=function(q,u,v){if(q && q.length){if(v && v.b5b)try{q.forEach(function(w,x){var y;y=(x=v.b5b[x]) && x.media;y && (0,p.Zh)(y)?(!1,y=(0,l.oE)(y).buffer,w.media={arrayBuffer:y,length:y.byteLength,stream:u,Kc:x.cdn}):l.log.warn("chunk not in cache",w.ai);});}catch(w){l.log.error("error reading cached chunks",w);}else l.log.warn("chunks not available in cached stream",v.type);}else l.log.warn("chunks not available in mediabuffer",v.type);};h=a(33096);l=a(31276);k=a(3887);m=a(22365);p=a(32687);r=a(82100);b.e5=b.e5 || (function(q,u){if(q.length == u.length){for(var v=q.length;v--;)if(q[v] != u[v])return !1;return !0;}return !1;});b.Vla=Object.assign(d,{Veb:void 0});b.q5=b.q5 || (function(q){var u;u="";(0,k.Yh)(q,function(v,w){u+=(u?";":"") + v + ":" + w;});return u;});b.createElement=b.createElement || (function(q,u,v,w){var x;x=m.fi.createElement(q);u && (x.style.cssText=u);v && (x.innerHTML=v);w && (0,k.Yh)(w,function(y,A){x.setAttribute(y,A);});return x;});b.Xka=b.Xka || (function(q,u,v){var w;if(q / u > v){w=(0,m.Xr)(u * v);q=u;}else (w=q,q=(0,m.Xr)(q / v));return {width:w,height:q};});(0,p.Nw)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(q,u){var v,w;void 0 === q && (q=0);void 0 === u && (u=this.byteLength);q=Math.floor(q);u=Math.floor(u);0 > q && (q+=this.byteLength);0 > u && (u+=this.byteLength);q=Math.min(Math.max(0,q),this.byteLength);u=Math.min(Math.max(0,u),this.byteLength);if(0 >= u - q)return new ArrayBuffer(0);v=new ArrayBuffer(u - q);w=new Uint8Array(v);q=new Uint8Array(this,q,u - q);w.set(q);return v;});},3887:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Mi=b.trim=b.COa=b.jl=b.uf=b.Yh=void 0;b.W3b=function(g,f,e,h){var l;if(g){l=g[f];(0,c.Nw)(l) && (e=l.apply(g,n.slice.call(arguments,3)));}return e;};b.R0b=function(g){for(var f={},e=g.length;e--;)f[g[e]]=!0;return f;};b.h2c=function(g){return (/^true$/i).test(g);};b.JBc=function(g,f){return (0,n.Xr)(g + (0,n.Kea)() * (f - g));};b.yJc=function(g){return JSON.stringify(g,null,"  ");};b.KJ=function(g){return Array.isArray(g)?g:[g];};b.ZWc=function(g){var h;for(var f=0;f < arguments.length;++f);f=0;for(var e=arguments.length;f < e;){h=arguments[f++];if((0,c.$c)(h))return h;}};b.zh=function(g){return (0,c.ec)(g)?g.toFixed(0):void 0;};b.Xq=function(g){return (0,c.ec)(g)?(g / 1E3).toFixed(0):void 0;};b.lXc=function(g){for(var f=[],e=0;e < g.length;e++)f[e]=g[e];return f;};d=a(45146);n=a(22365);c=a(32687);b.Yh=function(g,f){for(var e in g)g.hasOwnProperty(e) && f(e,g[e]);};b.uf=b.uf || (function(g,f,e){var h,l,k;if(f)if(e){h=e.o9;l=e.prefix;k=e.Tpa;(0,b.Yh)(f,function(m,p){if(!k || (0,c.$c)(p))g[(l || "") + (h?m.toLowerCase():m)]=p;});}else (0,b.Yh)(f,function(m,p){g[m]=p;});return g;});b.jl=b.jl || (function(g){return parseInt(g,10);});b.COa=(function(){var f,e;function g(h){(0,d.qa)(void 0 !== f[h]);return f[h];}f={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};e=/[&'"<>]/g;return function(h){return h.replace(e,g);};})();b.trim=(function(){var g;g=/^\s+|\s+$/gm;return function(f){return f.replace(g,"");};})();b.Mi=b.Mi || (function(g){var f,e,h;if(g){f=g.stack;e=g.number;h=g.message;h || (h="" + g);f?(g="" + f,0 != g.indexOf(h) && (g=h + "\n" + g)):g=h;e && (g+="\nnumber:" + e);return g;}});},29204:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C;function d(D){return (D=b.config.JLc[n(D)])?D:{};}function n(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=b.config=void 0;b.m6b=function(D,F){var aa,da,fa,ma,R,M,V,ba,ha;function H(ca,la){(0,m.Yh)(ca,function(ra,ta){(0,r.Nw)(ta)?la[ra]=ta.call(void 0,la[ra]):(0,r.mz)(ta) && (la[ra]=la[ra] || ({}),H(ta,la[ra]));});}function E(ca,la,ra,ta){for(var ja=[],W=3;W < arguments.length;++W)ja[W - 3]=arguments[W];return function(ea){(0,r.$c)(ea) && (ra=ea);(0,h.qa)((0,r.Nw)(ca));return ca.apply(void 0,[la,ra].concat(za(ja)));};}function G(ca){ca=ca.toLowerCase();ma.hasOwnProperty(ca) && (fa[ca]=ma[ca],R[ca]=ma[ca]);return ca;}function K(ca,la,ra){var ta;ca=ca.toLowerCase();if(fa.hasOwnProperty(ca)){ta=fa[ca];try{ta=ra?ra(ta):ta;}catch(ja){ta=void 0;}if(void 0 !== ta)return ta;(0,h.qa)(!1);f.log.error("Invalid configuration value. Name: " + ca);}return la;}function N(ca,la,ra,ta){return K(ca,la,function(ja){(0,r.Zh)(ja) && (ja=(0,m.jl)(ja));if((0,r.xub)(ja,ra,ta))return ja;});}function I(ca,la,ra,ta){return K(ca,la,function(ja){(0,r.Zh)(ja) && (ja=(0,m.jl)(ja));if((0,r.xJ)(ja,ra,ta))return ja;});}function L(ca,la,ra,ta){return K(ca,la,function(ja){(0,r.Zh)(ja) && (ja=parseFloat(ja));if((0,r.ec)(ja,ra,ta))return ja;});}function O(ca,la,ra){return K(ca,la,function(ta){if(ra?ra.test(ta):(0,r.Zh)(ta))return ta;});}function J(ca,la){return K(ca,la,function(ra){if("true" == ra || !0 === ra)return !0;if("false" == ra || !1 === ra)return !1;});}function Q(ca,la){return K(ca,la,function(ra){if((0,r.Zh)(ra))return JSON.parse((0,p.Tea)(ra));if((0,r.mz)(ra))return ra;});}function P(ca,la,ra,ta,ja,W){var ea;ca=ca.toLowerCase();fa.hasOwnProperty(ca) && (ea=fa[ca]);if(!(0,r.$c)(ea))return la;if((0,r.Zh)(ea))if(ea[0] !== ra)ea=ta(ea);else try{ea=JSON.parse((0,p.Tea)(ea));}catch(ka){ea=void 0;}if(void 0 === ea)return la;for(ca=0;ca < ja.length;ca++)if(!ja[ca](ea))return la;return W?W(ea):ea;}function S(ca,la,ra,ta,ja){return P(ca,la,"[",function(W){W=W.split("|");for(var ea=W.length;ea--;)W[ea]=(0,m.jl)(W[ea]);return W;},[function(W){return (0,r.isArray)(W) && 0 < W.length;},function(W){for(var ea=W.length;ea--;)if(!(0,r.xJ)(W[ea],ra,ta))return !1;return !0;},function(W){return void 0 === ja || W.length >= ja;}]);}function Y(ca,la){return P(ca,la,"[",function(ra){ra=(0,r.isArray)(ra)?ra:ra.split("|");for(var ta=ra.length;ta--;)try{ra[ta]=JSON.parse((0,p.Tea)(ra[ta]));}catch(ja){ra=void 0;break;}return ra;},[function(ra){return (0,r.isArray)(ra) && 0 < ra.length;},function(ra){for(var ta=ra.length;ta--;)if(!(0,r.$c)(ra[ta]) || !(0,r.mz)(ra[ta]))return !1;return !0;}]);}function X(ca,la){var ra;ra=T(ca,[]);return ra && 0 < ra.length?(0,C.ig)(ra):Y(ca,la);}function T(ca,la,ra,ta){return P(ca,la,"[",function(ja){return (0,r.isArray)(ja)?ja:ja.split("|");},[function(ja){return (0,r.isArray)(ja) && 0 < ja.length;},function(ja){for(var W=ja.length;W--;)if(ra?!ra.test(ja[W]):!(0,r.uX)(ja[W]))return !1;return !0;},function(ja){return void 0 === ta || ja.length >= ta;}]);}function U(ca,la,ra){return P(ca,la,"{",function(ta){var ja,ea,ka;ja={};ta=ta.split(";");for(var W=ta.length;W--;){ea=ta[W];ka=ea.indexOf(":");if(0 >= ka)return;ja[ea.substring(0,ka)]=ea.substring(ka + 1);}return ja;},[function(ta){return (0,r.mz)(ta) && 0 < Object.keys(ta).length;},function(ta){if(ra)for(var ja in ta)if(!ra.test(ta[ja]))return !1;return !0;}],function(ta){var ja;ja={};(0,m.uf)(ja,la);(0,m.uf)(ja,ta);return ja;});}function Z(ca){var la;la=[];(0,m.Yh)(ca,function(ra,ta){var ja;try{ja="videoapp" === ra.toLowerCase()?"[object object]":JSON.stringify(ta);}catch(W){ja="cantparse";}la.push(ra + "=" + ja);});return la.join("\n");}aa=/^[0-9]+[%]?$/;da=/^[0-9]*$/;R={};M=f.Pa.get(e.Vr);V=f.Pa.get(w.vT);(function(ca){function la(ra){ra.split(",").forEach(function(ta){var ja;ja=ta.indexOf("=");0 < ja && (fa[ta.substring(0,ja).toLowerCase()]=ta.substring(ja + 1));});}fa={};(0,m.uf)(fa,ca);D && D.length && p.forEach.call(D,function(ra){(0,r.Zh)(ra)?la(ra):(0,r.mz)(ra) && (0,m.uf)(fa,ra,{o9:!0});});ma=(0,m.uf)({},(0,g.Vla)(),{o9:!0});if(ca=(0,g.NBc)().cadmiumconfig)(f.log.info("Config cookie loaded",ca),la(ca));if(f.Pa.get(z.Yr).CGa || fa.istestaccount)((0,m.uf)(fa,ma),R=ma);})(F);b.config={};ba={Qcc:E(J,G("enableXHEAAC"),!1),a6:E(J,G("enableDDPlus51"),!1),qka:E(J,G("enableDDPlusAtmos"),!1),qcc:E(J,G("enableLSSDH"),!0),lcc:E(J,G("enableHEVC"),!1),CAb:E(J,G("overrideEnableHEVC"),!1),FKa:E(J,G("enableHDR"),!1),BAb:E(J,G("overrideEnableHDR"),!1),Bxc:E(J,G("overrideEnableHdrDisplay"),!1),AAb:E(J,G("overrideEnableDV"),!1),RV:E(J,G("enableAVCHigh"),V.RV),yAb:E(J,G("overrideEnableAVCHigh"),!1),BKa:E(J,G("enableAVCHighLive"),V.BKa),zAb:E(J,G("overrideEnableAVCHighLive"),!0),Vbc:E(J,G("enableAV1"),!1),wAb:E(J,G("overrideEnableAV1"),!1),Wbc:E(J,G("enableAV1HDR10P"),!1),xAb:E(J,G("overrideEnableAV1HDR10P"),!1),Cxc:E(J,G("overrideEnableXHEAAC"),!1),zxc:E(J,"overrideEnableAllAudioProfiles",!1),Axc:E(J,"overrideEnableAllVideoProfiles",!1),Bcc:E(J,G("enablePRK"),!1),fcc:E(J,G("enableDV"),!1),mcc:E(J,G("enableHWDRM"),!1),occ:E(J,G("enableHwdrmOnArm"),!1),UXc:E(J,G("disablePlayReady"),!1),pcc:E(J,G("enableImageSubs"),!0),$H:E(X,G("audioProfiles"),V.$H),kcc:E(J,G("enableFullHdForSWDRM"),!1),jcc:E(J,G("enableFullHdForHWDRM"),!1),Mcc:E(J,G("enableUHD"),!0),Wta:E(I,"videoCapabilityDetectorType",l.uq.jD),VGa:E(I,"audioCapabilityDetectorType",l.eD.jD),Jh:E(X,G("videoProfiles"),V.Jh),io:E(X,G("liveVideoProfiles"),V.io),Dgb:E(X,G("additionalVideoProfiles"),[]),WYb:E(T,G("timedTextProfiles"),V.mA),mA:function(){return ba.WYb().filter(function(ca){return ca === k.rq.Zva?ba.qcc():ca === k.rq.mT?ba.pcc():!0;});},endpoint:E(J,G("endpoint"),!1),version:E(O,"version","unknown"),ncc:E(J,G("enableHdcp"),!1),px:E(J,G("prepareCadmium"),!1),wZb:E(J,G("acceptManifestOnPrepareItemParams"),!0),Izc:E(Q,"ppmconfig",{maxNumberTitlesScheduled:1}),ska:E(J,G("enableLdlPrefetch"),!1),uka:E(J,G("enableMediaPrefetch"),x.Ra.uka),vcc:E(J,G("enableManifestCache"),!0),lac:E(J,G("deleteCachedManifestOnPlayback"),!1),kac:E(J,G("deleteCachedManifestOnCreate"),!1),nac:E(J,G("deleteOtherManifestCacheOnCreate"),!1),mac:E(J,G("deleteOtherLdlCacheOnCreate"),!1),n2c:E(I,G("periodicPrepareLogsIntervalMilliseconds"),36E5),eAc:E(I,G("prepareManifestCacheMaxCount"),50),cAc:E(I,G("prepareLdlCacheMaxCount"),30),lCb:E(I,G("prepareManifestExpiryMilliseconds"),12E5),dAc:E(I,G("prepareLdlExpiryMilliseconds"),78E4),Xzc:E(I,G("prefetcherMaxWishlistSize"),10),Wzc:E(I,G("prefetcherBudgetInBytes"),Infinity),Yzc:E(J,G("prefetcherOverrideItemPriority"),!0),bAc:E(O,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),d5c:E(Q,"videoApp"),ZK:E(Q,"storageRules"),Qfc:E(J,"ftlEnabled",!0),NOa:E(I,G("imageSubsResolution"),0),Tmc:E(I,G("imageSubsMaxBuffer"),V.Osc.la(y.Qx),0),X4:E(J,G("captureBatteryStatus"),!1),Ggc:E(I,G("getBatteryApiTimeoutMilliseconds"),5E3),Uw:E(O,G("keySystemId"),V.Uw),nQa:E(T,G("keySystemList"),void 0,void 0),SZa:E(J,G("validateKeySystemAccess"),!1),Htc:E(I,G("hdcpGlobalTimeout1"),1E4),Itc:E(I,G("hdcpGlobalTimeout2"),1E4),p1c:E(I,G("hdcpQueryTimeout1"),1E3),q1c:E(I,G("hdcpQueryTimeout2"),1E3),Txb:E(I,G("hdcpQueryTimeout2"),100),Uxb:E(J,G("microsoftHwdrmRequiresHevc"),!1),Vxb:E(J,G("microsoftHwdrmRequiresQHD"),!1),Gtc:E(J,G("microsoftClearLeadRequiresSwdrm"),!1),wcc:E(J,G("enableMediaCapabilities"),!1),Hzc:E(J,G("powerEfficientForVideo"),!1),xcc:E(J,G("enableMediaCapabilitiesSourceBufferCheck"),!1),x0c:E(J,"logMediaPipelineStatus",!1),raa:E(J,G("renderDomDiagnostics"),!0),Ewb:function(){return -1;},IX:E(N,G("logDisplayMaxEntryCount"),V.IX,-1),Src:E(N,G("logToConsoleLevel"),-1),vWc:E(N,G("bladerunnerCmdHistorySize"),10),RE:function(){return M.RE;},XQa:E(J,"logErrorIfEsnNotProvided",!0),TKa:E(J,"enforceSinglePlayback",V.TKa),zka:E(J,"enforceSingleSession",V.zka),uIa:E(J,"closeOtherPlaybacks",!0),i1b:E(I,"asyncLoadTimeout",15E3,1),asc:E(I,"mainThreadMonitorPollRate",0),groupName:function(){return M.groupName;},XU:function(){return M.XU;},uca:function(){return M.uca;},jLb:E(I,G("verbosePlaybackInfoDenominator"),0),yra:E(J,"renderTimedText",!0),Jzc:E(J,"preBufferTimedText",!0),iec:E(J,"fatalOnTimedTextLoadError",!0),LKc:E(U,"timedTextStyleDefaults",{characterSize:"MEDIUM"}),MKc:E(U,"timedTextStyleOverrides",{}),sta:E(U,"timedTextFontFamilyMapping",V.sta || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),s_:E(I,"timedTextSimpleFallbackThreshold",V.s_.la(y.Qx)),Mma:E(T,G("increasedMediumScaleLanguageList"),V.Mma),Nma:E(T,G("increasedSmallScaleLanguageList"),V.Nma),Rna:E(T,G("lessBoldLanguageList"),V.Rna),CJa:E(O,G("customDfxpUrl")),Kcc:E(J,G("enableSubtitleTrackerLogging"),!1),OFc:E(J,G("sendSubtitleQoeLogblobOnMidplay"),!1),RHa:E(S,"cdnIdWhiteList",[]),QHa:E(S,"cdnIdBlackList",[]),OLa:E(O,G("forceAudioTrack")),RLa:E(O,G("forceTimedTextTrack")),Xsc:E(I,G("maxRetriesTimedTextDownload"),0),KKc:E(I,G("timedTextRetryInterval"),8E3),dJc:E(O,"storageType","idb",/^(none|fs|idb|ls)$/),Awb:E(I,"lockExpiration",1E4),Krc:E(I,"lockRefresh",3E3),k4b:E(J,"captureUnhandledExceptions",!0),Smc:E(J,"ignoreUnhandledExceptionDuringPlayback",!0),PLc:E(J,"unhandledExceptionsArePlaybackErrors",!1),TJb:E(O,"unhandledExceptionSource",""),vAc:E(J,"preserveLastFrame",!1),Utc:E(I,"minBufferingTimeInMilliseconds",4E3),kBc:E(I,"progressBackwardsGraceTimeMilliseconds",4E3),lBc:E(I,"progressBackwardsMinPercent",10),s2b:E(O,G("bookmarkIgnoreBeginning"),"0",aa),t2b:E(O,G("bookmarkIgnoreEnd"),"5%",aa),u2b:E(O,G("bookmarkIgnoreEndForBranching"),"60000",aa),toa:E(I,"maxParallelConnections",3),BVa:E(J,"reportThroughputInLogblobs",!0),Bz:E(I,"minAudioMediaRequestDuration",4E3),ayb:E(I,"minAudioMediaRequestDurationBranching",0),$B:E(I,"minVideoMediaRequestDuration",4E3),lyb:E(I,"minVideoMediaRequestDurationVariableGOP",0),kyb:E(I,"minVideoMediaRequestDurationBranching",0),Hoa:E(I,"minAudioMediaRequestSizeBytes",0),Loa:E(I,"minVideoMediaRequestSizeBytes",0),vbc:E(J,"droppedFrameRateFilterEnabled",!1),wbc:E(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),ybc:E(function(ca,la,ra,ta,ja,W){return P(ca,la,"[",function(ea){ea=ea.split(";");for(var ka=ea.length;ka--;){ea[ka]=ea[ka].split("|");for(var pa=ea[ka].length;pa--;)ea[ka][pa]=(0,m.jl)(ea[ka][pa]);}return ea;},[function(ea){return (0,r.isArray)(ea) && 0 < ea.length;},function(ea){for(var ka=ea.length;ka-- && void 0 !== ea;){if(!(0,r.isArray)(ea[ka]))return !1;for(var pa=ea[ka].length;pa--;)if(!(0,r.xJ)(ea[ka][pa],ra,ta))return !1;}return !0;},function(ea){if(void 0 !== ja)for(var ka=ea.length;ka--;)if(ja !== ea[ka].length)return !1;return !0;},function(ea){return void 0 === W || ea.length >= W;}]);},"droppedFrameRateFilterPolicy",[[4,15],[8,9],[12,2],[20,1]],void 0,void 0,2,0),xbc:E(I,"droppedFrameRateFilterMinHeight",384),zbc:E(S,"droppedFramesPercentilesList",[]),Jtc:E(J,"microsoftScreenSizeFilterEnabled",!1),Qpc:E(J,"keyStatusFilterEnabled",!1),ILc:E(J,"uiLabelFilterEnabled",!0),HLc:E(Q,"uiLabelFilter",{}),Y$b:E(I,G("defaultVolume"),100,0,100),ARa:E(I,G("maxPlaybackRate"),2,0,16),lob:E(J,"fastForwardAds",!1),Sac:E(J,"disableVideoRightClickMenu",!1),Joa:E(I,"minDecoderBufferMilliseconds",1E3,0,c.uD),dK:E(I,"optimalDecoderBufferMilliseconds",5E3,0,c.uD),hTa:E(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,c.uD),U9:E(I,"minimumTimeBeforeBranchDecision",3E3,0,c.uD),pyb:E(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,c.uD),GF:E(I,"maxDecoderBufferMilliseconds",V.GF.la(A.wa),0,c.uD),Plb:E(I,"decoderTimeoutMilliseconds",1E4,1),bzb:E(I,"noRenderTimeoutMilliseconds",0),upb:E(I,"gapsTimeoutMilliseconds",500),juc:E(J,"monitorAudioGaps",!0),Byc:E(I,"pauseTimeoutLimitMilliseconds",18E5),VOa:E(I,"inactivityMonitorInterval",3E4,0),vZb:E(S,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),ZV:E(J,"enableTrickPlay",!1),P_b:E(S,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),pLc:E(I,"trickPlayHighResolutionBitrateThreshold",1E3),qLc:E(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),tLc:E(L,"trickplayBufferFactor",.5),oLc:E(I,"trickPlayDownloadRetryCount",1),noa:E(O,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),Tnb:E(T,"experimentalFilter",["throughput-wssl"]),Xia:E(O,"ciPredictorSource","throughput-ci"),Fsa:E(O,"simulationDurationStrategy","default"),cpa:E(O,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),yRa:E(N,"maxIQRSamples",Infinity),URa:E(N,"minIQRSamples",5),UKb:E(J,"useResourceTimingAPI",!1),Qmc:E(J,"ignoreFirstByte",!0),bec:E(S,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),jja:E(I,"connectTimeoutMilliseconds",8E3,500),mSa:E(I,"noProgressTimeoutMilliseconds",8E3,500),TIb:E(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),I1c:E(I,"netflixRequestExpiryTimeout",0),eOc:E(J,"webkitDecodedFrameCountIncorrectlyReported",!1),hta:E(T,G("supportedAudioTrackTypes"),[],void 0,1),Rma:E(I,"initialLogFlushTimeout",5E3),IBb:E(O,"playdataPersistKey",M.RE?"unsentplaydatatest":"unsentplaydata"),u3c:E(J,"sendPersistedPlaydata",!0),hzc:E(I,"playdataPersistIntervalMilliseconds",4E3),p2c:E(I,"playdataSendDelayMilliseconds",1E4),v3c:E(J,"sendPlaydataBackupOnInit",!0),Qrc:E(T,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),Wxb:E(J,"midplayEnabled",!0),Goa:E(I,"midplayIntervalMilliseconds",3E5),Xxb:E(S,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),Lmb:E(I,"downloadReportDenominator",0),lbc:E(I,"downloadReportInterval",3E5),Dwb:E(I,"logConfigApplyDenominator",0),hib:E(U,G("bookmarkByMovieId"),{}),PLa:E(J,G("forceLimitedDurationLicense"),!1),BX:E(I,G("licenseRenewalRequestDelay"),0),pBb:E(I,G("persistedReleaseDelay"),1E4),t0c:E(J,G("limitedDurationFlagOverride"),void 0),XEb:E(I,"safariPlayPauseWorkaroundDelay",100),rOc:E(I,"workaroundValueForSeekIssue",1200),JHa:E(J,G("callEndOfStream"),V.JHa),nBb:E(J,"performRewindCheck",!1),bRa:E(I,"logUnexpectedRewindDelay",1E3),kec:E(J,"fatalOnUnexpectedSeeking",!0),jec:E(J,"fatalOnUnexpectedSeeked",!0),hec:E(J,"fatalOnManifestMistmatch",!0),dmb:E(I,G("delayPlayPause"),0),OKb:E(J,G("useEncryptedEvent"),!0),qKa:E(O,G("drmPersistKey"),"unsentDrmData"),xvc:E(J,G("nudgeSourceBuffer"),!1),qFb:E(N,G("seekDelta"),1),R$:E(J,G("preciseSeeking"),!1),Lzc:E(J,G("preciseSeekingOnTwoCoreDevice"),!1),cmb:E(U,G("delayErrorHandling")),Li:E(O,"esn",""),oob:E(O,"fesn",""),Fcc:E(J,G("enablePerformanceLogging"),!1),pYc:E(J,G("enableEmeVerboseLogging"),!1),appId:E(O,"appId","",da),sessionId:E(O,"sessionId","",da),Pib:E(O,"cdnProxyUrl"),ipb:E(I,"forceXhrErrorResponseCode",void 0),yu:{F1c:E(O,"mslApiPath","/msl/"),H2c:E(O,"proxyPath",""),uiVersion:E(O,"uiVersion"),uiPlatform:E(O,"uiPlatform"),OWc:function(){return "0";},nUa:E(T,"preferredLanguages",c.r2a,/^[a-zA-Z-]{2,5}$/,1),ofc:E(O,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),RJc:E(J,"supportPreviewContentPin",!0),SJc:E(J,"supportWatermarking",!0),OHc:E(J,"showAllSubDubTracks",!1),JYc:E(J,G("failOnGuidMismatch"),!1)},lra:{enabled:E(J,"qcEnabled",!1),ur:E(O,"qcPackageId","")},Ix:E(J,"useRangeHeader",!1),c6:E(J,"enableMilestoneEventList",!0),L1b:E(U,"authenticationKeyNames",(0,m.uf)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),gKc:E(O,"systemKeyWrapFormat"),IHc:E(J,"shouldSendUserAuthData",!0),CWa:E(J,"sendUserAuthIfRequired",V.CWa),zHc:E(J,"shouldClearUserData",!1),J_:E(J,"usesMsl",!0),tuc:E(J,"mslDeleteStore",!1),vuc:E(J,"mslPersistStore",!0),P6b:E(J,"correctNetworkForShortTitles",!0),ZJc:E(J,"supportsUnequalizedDownloadables",!0),Mlb:E(I,G("debugAseDenominator"),100),dia:E(I,"aseAudioBufferSizeBytes",V.dia.la(y.Qx)),fia:E(I,"aseVideoBufferSizeBytes",V.fia.la(y.Qx)),eia:E(I,"aseTextBufferSizeBytes",V.eia.la(y.Qx)),dx:E(I,"minInitVideoBitrate",x.Ra.dx),yz:E(I,"maxInitVideoBitrate",x.Ra.yz),Cz:E(I,"minInitAudioBitrate",x.Ra.Cz),Ys:E(I,"maxInitAudioBitrate",x.Ra.Ys),bQ:E(I,"minAllowedVideoBitrate",x.Ra.bQ),v9:E(I,"maxAllowedVideoBitrate",x.Ra.v9),zo:E(T,"switchableAudioProfiles",x.Ra.zo),yG:E(Y,"switchableAudioProfilesOverride",x.Ra.yG),aQ:E(I,"minAcceptableVideoBitrate",x.Ra.aQ),ex:E(I,"minRequiredBuffer",x.Ra.ex),no:E(I,"minPrebufSize",x.Ra.no),N9:E(I,"minCheckBufferingCompleteInterval",x.Ra.N9),haa:E(L,"rebufferingFactor",x.Ra.haa),pr:E(I,"maxBufferingTime",x.Ra.pr),Fca:E(J,"useMaxPrebufSize",x.Ra.Fca),YB:E(I,"maxPrebufSize",x.Ra.YB),B9:E(I,"maxRebufSize",x.Ra.B9),jJ:E(Y,"initialBitrateSelectionCurve",x.Ra.jJ),OR:E(I,"throughputPercentForAudio",x.Ra.OR),G4:E(I,"bandwidthMargin",x.Ra.G4),H4:E(J,"bandwidthMarginContinuous",x.Ra.H4),I4:E(Y,"bandwidthMarginCurve",x.Ra.I4),h5:E(I,"conservBandwidthMargin",x.Ra.h5),Tba:E(J,"switchConfigBasedOnInSessionTput",x.Ra.Tba),j5:E(I,"conservBandwidthMarginTputThreshold",x.Ra.j5),i5:E(Y,"conservBandwidthMarginCurve",x.Ra.i5),UP:E(I,"maxTotalBufferLevelPerSession",x.Ra.UP),fO:E(J,"enableCombinedPlaygraphs",x.Ra.fO),tB:E(J,"enableAdPlaygraphs",x.Ra.tB),hO:E(J,"enableLiveAdPlaygraphs",x.Ra.hO),zZ:E(J,"retainSbrOnFade",x.Ra.zZ),o6:E(T,"excludedContentPlaygraphIds",x.Ra.o6),SV:E(J,"enableDiscontiguousBuffering",x.Ra.SV),E6:E(S,"forceImmediateTransitionTypeForTitles",x.Ra.E6),D6:E(I,"forceImmediateTransitionExitZone",x.Ra.D6),LG:E(J,"useBufferSizeLimiter",x.Ra.LG),xba:E(J,"skipBitrateInUpswitch",x.Ra.xba),Zca:E(I,"watermarkLevelForSkipStart",x.Ra.Zca),P7:E(I,"highStreamRetentionWindow",x.Ra.P7),h9:E(I,"lowStreamTransitionWindow",x.Ra.h9),R7:E(I,"highStreamRetentionWindowUp",x.Ra.R7),j9:E(I,"lowStreamTransitionWindowUp",x.Ra.j9),Q7:E(I,"highStreamRetentionWindowDown",x.Ra.Q7),i9:E(I,"lowStreamTransitionWindowDown",x.Ra.i9),O7:E(L,"highStreamInfeasibleBitrateFactor",x.Ra.O7),wz:E(I,"lowestBufForUpswitch",x.Ra.wz),NP:E(I,"lockPeriodAfterDownswitch",x.Ra.NP),l9:E(I,"lowWatermarkLevel",x.Ra.l9),xz:E(I,"lowestWaterMarkLevel",x.Ra.xz),n9:E(J,"lowestWaterMarkLevelBufferRelaxed",x.Ra.n9),WP:E(L,"mediaRate",x.Ra.WP),IF:E(I,"maxTrailingBufferLen",x.Ra.IF),u4:E(I,"audioBufferTargetAvailableSize",x.Ra.u4),Oca:E(I,"videoBufferTargetAvailableSize",x.Ra.Oca),lW:E(L,"fastUpswitchFactor",x.Ra.lW),r6:E(L,"fastDownswitchFactor",x.Ra.r6),HF:E(I,"maxMediaBufferAllowed",x.Ra.HF),uxb:E(I,"maxLiveMediaBufferAllowed",x.Ra.uxb),Esa:E(J,"simulatePartialBlocks",x.Ra.Esa),k5:E(J,"considerConnectTime",x.Ra.k5),g5:E(L,"connectTimeMultiplier",x.Ra.g5),soa:E(I,"maxNetworkErrorsDuringBuffering",x.Ra.soa),w9:E(I,"maxBufferingTimeAllowedWithNetworkError",x.Ra.w9),bG:E(J,"probeServerWhenError",x.Ra.bG),ara:E(I,"probeRequestTimeoutMilliseconds",x.Ra.ara),sN:E(J,"allowSwitchback",x.Ra.sN),$qa:E(I,"probeDetailDenominator",x.Ra.$qa),P9:E(I,"minProbeIntervalMs",x.Ra.P9),PX:E(I,"maxDelayToReportFailure",x.Ra.PX),c9:E(I,"locationStatisticsUpdateInterval",x.Ra.c9),L7:E(I,"headerRequestSize",4096),cW:E(J,"estimateHeaderSize",!1),YX:E(I,"minBufferLenForHeaderDownloading",1E4),Ap:E(J,"pipelineEnabled",!1),GXa:E(I,"socketReceiveBufferSize",0),x4:E(I,"audioSocketReceiveBufferSize",32768),Tca:E(I,"videoSocketReceiveBufferSize",65536),Bma:E(I,"headersSocketReceiveBufferSize",32768),pib:E(I,"bufferLevelNotifyIntervalMs",2E3),gu:E(I,"aseReportDenominator",0),yy:E(I,"aseReportIntervalMs",3E5),UY:E(I,"prebufferTimeLimit",24E4),sqa:E(I,"penaltyFactorForLongConnectTime",2),goa:E(I,"longConnectTimeThreshold",200),Lha:E(I,"additionalBufferingLongConnectTime",2E3),Mha:E(I,"additionalBufferingPerFailure",8E3),hZ:E(I,"rebufferCheckDuration",6E4),jO:E(J,"enableOCSideChannel",!0),o2:E(Q,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Jja:E(I,"defaultHeaderCacheSize",4),Ija:E(I,"defaultHeaderCacheDataPrefetchMs",8E3),$oa:E(I,"networkFailureResetWaitMs",2E3),Zoa:E(I,"networkFailureAbandonMs",12E4),C9:E(I,"maxThrottledNetworkFailures",3),aca:E(I,"throttledNetworkFailureThresholdMs",2E3),hoa:E(N,"lowThroughputThreshold",400),Gka:E(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),cR:E(J,"requireAudioStreamToEncompassVideo",!0),HKa:E(J,"enableManagerDebugTraces",!1),R1c:E(J,"notifyManifestCacheEom",!1),F$:E(I,"periodicHistoryPersistMs",3E5),Raa:E(I,"saveBitrateMs",18E4),eua:E(J,"waitForDrmToAppendMedia",!1),ala:E(J,G("forceAppendHeadersAfterDrm"),!1),epb:E(J,G("forceAppendEncryptedStreamHeaderFirst"),!0),Kyb:E(I,"netIntrStoreWindow",36E3),fyb:E(I,"minNetIntrDuration",8E3),mob:E(I,"fastHistoricBandwidthExpirationTime",10368E3),Uhb:E(I,"bandwidthExpirationTime",5184E3),iob:E(I,"failureExpirationTime",86400),k_c:E(I,"historyTimeOfDayGranularity",4),Snb:E(J,"expandDownloadTime",!1),Hma:E(J,"ignoreShortResponses",!1),PGb:E(J,"shortResponseDurationMs",10),OGb:E(J,"shortResponseBytes",1E4),Ooa:E(I,"minimumMeasurementTime",500),Noa:E(I,"minimumMeasurementBytes",131072),cra:E(I,"probingMeasurementTime",2E3),bra:E(I,"probingMeasurementBytes",262144),Ysb:E(I,"historicBandwidthUpdateInterval",2E3),dsa:E(O,"secondThroughputEstimator","none"),jnb:E(T,"enableFilters",("throughput-ewma throughput-sw throughput-sw-fast throughput-iqr throughput-tdigest avtp entropy").split(" ")),tob:E(Q,"filterDefinitionOverrides",{}),Ulb:E(O,"defaultFilter","throughput-ewma"),nFb:E(O,"secondaryFilter","none"),NJa:E(Q,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),Voa:E(J,"needMinimumNetworkConfidence",!0),Bia:E(J,"biasTowardHistoricalThroughput",!0),Cha:E(J,"addHeaderDataToNetworkMonitor",!1),Lsa:E(J,"startMonitorOnLoadStart",!1),Dra:E(J,"reportFailedRequestsToNetworkMonitor",!1),poa:E(N,"maxFastPlayBufferInMs",Infinity),Yha:E(J,"appendFirstHeaderOnComplete",!0),vhb:E(O,"ase_stream_selector","optimized"),X8:E(O,"liveStreamSelectorAlgorithm","livesimple"),H8:E(J,"jointStreamSelectorEnabled",!1),O4:E(O,"bufferingSelectorAlgorithm","default"),zja:E(J,"ase_dump_fragments",!1),Bja:E(I,"ase_location_history",0),j_c:E(O,"historicByLocationOrGlobal","timedPerLocation"),Azc:E(I,"pollingPeriod",150),Erc:E(I,"loadTimeMs",18E4),ysc:E(I,"marginTimeMs",1E4),vMa:E(J,"getDeviceIdFromBindDevice",!1),hGa:E(J,"addFailedLogBlobsToQueue",!0),JLc:{"content-sampling":{pr:E(I,"contentSamplingMaxBufferingTime",3E3),MK:E(O,"contentSamplingSelectStartingVMAFMethod",x.Ra.MK),lU:E(J,"contentSamplingActivateSelectStartingVMAF",!0),Zu:E(I,"contentSamplingMinStartingVideoVMAF",80),$P:E(I,"contentSamplingMinAcceptableVMAF",70),OF:E(I,"contentSamplingMinAllowedVmaf",60)},billboard:{dx:E(I,"billboardMinInitVideoBitrate",1050),yz:E(I,"billboardMaxInitVideoBitrate",null),no:E(I,"billboardMinPrebufSize",null),YB:E(I,"billboardMaxPrebufSize",null),pr:E(I,"billboardMaxBufferingTime",null),xz:E(I,"billboardLowestWaterMarkLevel",6E3),wz:E(I,"billboardLowestBufForUpswitch",25E3),b4c:E(O,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{dx:E(I,"preplayMinInitVideoBitrate",1050),yz:E(I,"preplayMaxInitVideoBitrate",null),no:E(I,"preplayMinPrebufSize",null),YB:E(I,"preplayMaxPrebufSize",null),pr:E(I,"preplayMaxBufferingTime",null),xz:E(I,"preplayLowestWaterMarkLevel",6E3),wz:E(I,"preplayLowestBufForUpswitch",25E3)},embedded:{dx:E(I,"embeddedMinInitVideoBitrate",1050),yz:E(I,"embeddedMaxInitVideoBitrate",null),no:E(I,"embeddedMinPrebufSize",null),YB:E(I,"embeddedMaxPrebufSize",null),pr:E(I,"embeddedMaxBufferingTime",null),xz:E(I,"embeddedLowestWaterMarkLevel",6E3),wz:E(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{dx:E(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),yz:E(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),no:E(I,"videoMerchBobHorizontalMinPrebufSize",null),YB:E(I,"videoMerchBobHorizontalMaxPrebufSize",null),pr:E(I,"videoMerchBobHorizontalMaxBufferingTime",null),xz:E(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),wz:E(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{dx:E(I,"miniModalHorizontalMinInitVideoBitrate",null),yz:E(I,"miniModalHorizontalMaxInitVideoBitrate",null),no:E(I,"miniModalHorizontalMinPrebufSize",null),YB:E(I,"miniModalHorizontalMaxPrebufSize",null),pr:E(I,"miniModalHorizontalMaxBufferingTime",500),xz:E(I,"miniModalHorizontalLowestWaterMarkLevel",null),wz:E(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},Ncc:E(J,"enableVerbosePlaydelayLogging",!1),Icc:E(J,"enableSeamless",!1),xOa:E(I,"hindsightDenominator",0),wOa:E(I,"hindsightDebugDenominator",0),yOa:E(Q,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),A9:E(I,"maxNumSessionHistoryStored",30),R9:E(I,"minSessionHistoryDuration",3E5),NX:E(I,"maxActiveRequestsPerSession",3),ooa:E(I,"maxActiveRequestsSABCell100",x.Ra.ooa),Una:E(J,"limitAudioDiscountByMaxAudioBitrate",!0),Be:E(Q,"browserInfo",{}),$2b:E(I,G("busyGracePeriod"),199),QFc:E(J,G("sendTransitionLogblob"),!0),bnc:E(J,G("includeSegmentInfoOnLogblobs"),!0),Qdc:E(J,"exposeTestData",!1),Pdc:E(J,G("exposeErrorData"),!1),WH:E(J,G("applyProfileTimestampOffset"),!1),Z$:E(Q,G("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),wh:E(J,G("applyProfileStreamingOffset"),!1),I9:E(J,G("mediaSourceSupportsNegativePts"),!1),l0b:E(J,G("allowSmallSeekDelta"),!1),iIc:E(I,G("smallSeekDeltaThresholdMilliseconds"),q.mCa),bcc:E(J,"enableCDMAttestedDescriptors",!1),Faa:E(J,"requireDownloadDataAtBuffering",x.Ra.Faa),Gaa:E(J,"requireSetupConnectionDuringBuffering",x.Ra.Gaa),QKb:E(J,"useMobileVMAF",!1),lmb:E(O,"desiredVMAFTypeMobile","phone_plus_lts"),mmb:E(O,"desiredVMAFTypeNonMobile","plus_lts"),lU:E(J,"activateSelectStartingVMAF",x.Ra.lU),Zu:E(I,"minStartingVideoVMAF",x.Ra.Zu),$P:E(I,"minAcceptableVMAF",x.Ra.$P),OF:E(I,"minAllowedVmaf",x.Ra.OF),OX:E(I,"maxAllowedOutstandingRequests",x.Ra.OX),S9:E(I,"minStreamableConcurrencyWindow",x.Ra.S9),Iba:E(L,"streamableConcurrencyFactor",x.Ra.Iba),AN:E(I,"bufferingConcurrencyWindow",x.Ra.AN),YV:E(J,"enableResolutionVMAFStreamFilter",x.Ra.YV),wZ:E(Q,"resolutionVMAFCappingRuleList",x.Ra.wZ),D$:E(N,"percentCapTitlesForResolutionVMAFStreamFilter",x.Ra.D$),Rac:E(J,"disableSkipping",!1),Ota:E(J,"useHLSPlayer",V.Ota),Eca:E(J,G("useExitZones"),x.Ra.Eca),PDc:E(J,"requestSegmentVmaf",!1),uQ:E(Q,"perFragmentVMAFConfig",{enabled:!1}),dqa:E(I,"paddingDurationMs",1E3),eqa:E(O,"paddingMediaType","padding"),qQ:E(O,"paddingCodecSelector","flexible"),oYa:E(J,"supportsPtsChanged",!1),Nzc:E(J,G("preferUnletterboxed"),!1),rHb:E(J,"standaloneMode",!1),lnb:E(J,"enableKeySystemRestrictor",!1),vdc:E(I,"errorEventToRestrict",2),udc:E(S,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),tdc:E(S,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),inb:E(J,"enableCachedErrors",!1),i3b:E(I,"cachedErrorCountLimit",20),k3b:E(I,"cachedErrorExpirationSeconds",604800),l3b:E(I,"cachedErrorsStorageTimeoutSeconds",2E3),Orc:E(J,"logKeySystemHasHwdrmAvailable",!1),V8:E(N,"liveEdgeCushion",0),tka:E(J,"enableLive5XXHandling",!1),Y8:E(J,"liveStreamSelectorUseLatency",!0),Mna:E(L,"latencyMultiplierForLive",4),Xna:E(J,"liveLowQualityAvoidance",!0),W8:E(N,"liveLowQualityThreshold",750),EX:E(L,"liveLowQualityMultiplier",6),Vna:E(J,"liveBufferRatioStrategy","strict"),Yna:E(N,"liveMaxUpswitchSteps",Infinity),nka:E(J,"enableConditionalServerTimeUpdate",!1),Xoa:E(N,"negligibleServerTimeDeltaDifference",1E3),boa:E(J,"liveSwitchStreamsOnErrorInPipeline",!0),iO:E(J,"enableMissingSegmentsReplacement",!0),wR:E(J,"simulateLiveEdge",!1),Yqc:E(N,"liveEdgeThreshold",1E4),qfc:E(J,"forceDisableLiveUi",!1),hcc:E(J,"enableForceLiveEdgeAtEventStart",!0),icc:E(J,"enableForceLiveEdgeOnResumeInStartSlate",!0),scc:E(J,"enableLivePlaybackRateDriftCorrection",!1),jrc:E(L,"livePlaybackRateMin",.98),irc:E(L,"livePlaybackRateMax",1.02),hrc:E(N,"livePlaybackRateAdjustmentThresholdMs",20),grc:E(N,"livePlaybackRateAdjustmentIntervalMs",1E3),frc:E(L,"livePlaybackRateAdjustmentFactor",.1),nfc:E(N,"forceAstRelativeLiveBookmark",void 0),rfc:E(N,"forceEstRelativeLiveBookmark",void 0),OIc:E(N,"startSlateMs",void 0),nrc:E(N,"liveSlateMs",void 0),GKa:E(J,"enableLiveManifestReuse",!0),QQa:E(J,"liveShouldAccountForPlayDelay",!1),$na:E(J,"livePrefetchEnabled",!0),E5:E(N,"decryptOCSideChannelMinInterval",1E3),Hja:E(N,"decryptOCSideChannelMinIntervalAfterCompleted",1E3),TV:E(J,"enableLiveOCSideChannelRefresh",!0),GX:E(N,"liveOCSideChannelRefreshInterval",3E4),Acc:E(J,G("enableNonSeamlessTransitions"),!1),DNc:E(T,G("videoCodecsRequiringNonSeamlessTransitions"),[]),xFc:E(T,G("segmentTypesRequiringNonSeamlessTransitions"),[]),LP:E(Q,"liveOriginOverride",void 0),aoa:E(N,"liveRequestSpreadMs",1E3),NQa:E(J,"liveConsiderSpreadInCushion",!1),vka:E(J,"enableTwoPartLiveFragmentEditing",!0),MP:E(J,"liveSlowBufferFilling",!1),wrc:E(N,"lnaModeJitterMs",12E5),Qsc:E(N,"maxLNADuration",36E6),pfc:E(J,"forceDisableLNA",!1),Uqc:E(O,"liveAdsCapability","replace"),kO:E(J,"enableRequestAbandonment",!1),yqa:E(N,"pipelineHealthThresholdCriticalMs",2E3),zqa:E(N,"pipelineHealthThresholdLowMs",6E3),yaa:E(N,"requestAbandonmentLockIntervalMs",1E4),Ysa:E(L,"streamModeAppendAttachThreshold",.75),nnb:E(J,"enableLiveAdsUi",!0),Wna:E(L,"liveEarlyRequestProbability",.05),U8:E(N,"liveEarlyRequestDefaultOffsetMs",-500),Mba:E(J,"supportLiveIdrMismatch",!1),m_:E(N,"synthesizeLiveIdrMismatch",0),k4:E(J,"alwaysRetainAds",!1),WV:E(J,"enableMediaEventsTrack",!0),Vba:E(O,"syntheticAdBreakUx",""),b6:E(J,"enableMediaEventHistory",x.Ra.b6),gO:E(J,"enableLiveAdBreakReportingEvents",x.Ra.gO),eO:E(J,"enableBlackBoxNotification",x.Ra.eO),LQa:E(N,"liveAdEventJitterMs",6E4),Mhb:E(O,"auxiliaryManifestTokenOverride"),gl:E(N,"minimumPresentationDelayMs",x.Ra.gl),KP:E(N,"liveEdgeSegmentSkipCount",x.Ra.KP),V$:E(J,"probeBeforeSwitchingBackToPrimary",x.Ra.V$),ZX:E(N,"minIntervalForSwitchingBackToPrimary",x.Ra.ZX),x9:E(N,"maxIntervalForSwitchingBackToPrimary",x.Ra.x9),pIb:E(J,"supportsAdLazyLoading",!1),Exb:E(N,"maxSupportedAdAuxiliaryManifests",void 0),Pac:E(J,"disableDAISupportedForHWDRM",!0),UV:E(J,"enableLiveRequestPacing",x.Ra.UV),JX:E(I,"logarithmicRequestPacingCurveCenterPositionMs",x.Ra.JX),KX:E(L,"logarithmicRequestPacingCurveSharpness",x.Ra.KX),OJ:E(I,"maxLiveTargetBufferDurationMs",x.Ra.OJ),d6:E(J,"enableSvodRequestPacing",x.Ra.d6),aY:E(I,"minSvodTargetBufferDurationMs",x.Ra.aY),j_:E(L,"svodBufferGrowthRateSlope",x.Ra.j_),NJb:E(Q,"uiContext")};ha=!0;b.GIa=function(ca){var la,ra,ta;la=f.Pa.get(B.Sd).id;if(0 < b.config.Dwb && 0 === la % b.config.Dwb)try{ra=f.Pa.get(u.Io);ta=f.Pa.get(v.tD).tu("config","info",{params:ca});ra.Lc(ta);}catch(ja){f.log.error("Failed to log config$apply",ja);}Ba._cad_global.config=b.config;(0,h.qa)(ca);ca && (fa=(0,m.uf)({},ca,{o9:!0}),(0,m.uf)(fa,R,{o9:!0}),H(ba,b.config),fa.istestaccount && f.log.trace("Config applied for",Z(ha?fa:ca)),ha=!1);};(0,b.GIa)(fa);};b.HIa=function(D){D=d(D);return (0,m.uf)({},a(87141)(D),{Tpa:!0});};b.l6b=function(D,F,H){F=!!H && (0 <= H.indexOf("h264hpl") || 0 <= H.indexOf("av1"));D={Bz:D?b.config.ayb:b.config.Bz,$B:D?b.config.kyb:F?b.config.lyb:b.config.$B};return (0,m.uf)({},a(87141)(D),{Tpa:!0});};b.fXc=d;b.eXc=n;c=a(33096);g=a(52569);f=a(31276);e=a(34231);h=a(45146);l=a(56800);k=a(75568);m=a(3887);a(87386);p=a(22365);r=a(32687);q=a(93294);u=a(45118);v=a(31850);w=a(5614);x=a(45247);y=a(72574);A=a(5021);z=a(91581);B=a(81918);C=a(88195);},70:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});d=a(52569);n=a(33096);c=a(36129);g=a(22365);t=a(31276);a=a(11479);f=t.Pa.get(a.Fj);f.register(c.aa.r5a,function(e){g.Sm && g.Sm.generateKey && g.Sm.importKey && g.Sm.unwrapKey?(f.Kg("wcs"),(0,d.DY)(g.Sm.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){f.Kg("wcdone");e(n.Jj);},function(h){var l;h="" + h;if(0 <= h.indexOf("missing crypto.subtle"))l=c.W.FDa;else 0 <= h.indexOf("timeout waiting for iframe to load") && (l=c.W.KVb);e({Ma:l,df:h});})):e({Ma:c.W.FDa});});},1481:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Un=void 0;d=a(33096);n=a(29204);t=a(36129);c=a(45146);g=a(31276);f=a(68703);e=a(22365);h=a(11479);l=a(91581);k=g.Pa.get(h.Fj);k.register(t.aa.Mxa,function(m){var p,r,q;p=g.Pa.get(l.Yr);(0,c.qa)(n.config);(0,c.qa)(e.iH && e.iH.getDeviceId || e.f8a || p.yW);r=g.Pa.get(f.N2a);q=(0,g.bm)("Device");k.Kg("devs");r.create({deviceId:n.config.deviceId,yW:p.yW,pmb:"deviceid",Li:n.config.Li,Ds:p.Ds,Q5:p.Q5,userAgent:e.nT,XQa:n.config.XQa,vMa:n.config.vMa,H1c:n.config.RE?"mslstoretest":"mslstore",J_:n.config.J_}).then(function(u){b.Un=u;Ba._cad_global.device=b.Un;q.info("Esn source: " + b.Un.Cka);k.Kg("devdone");m(d.Jj);}).catch(function(u){u.success=void 0;m(u);});});},15531:function(t,b,a){var m,p,r,q,u,v,w,x;function d(y,A,z,B,C){var D;D={};"right" == y.horizontalAlignment?D.right=100 * (z - A.left - A.width - C) / z + "%":D.left=100 * (A.left - C) / z + "%";"bottom" == y.verticalAlignment?D.bottom=100 * (B - A.top - A.height - C) / B + "%":D.top=100 * (A.top - C) / B + "%";return D;}function n(y,A){var z;if(y && A){40 === A.x && 19 === A.y?z=4 / 3 / (40 / 19):52 === A.x && 19 === A.y && (z=16 / 9 / (52 / 19));if(z)return y.width / y.fontSize / z;}}function c(y,A,z,B,C,D,F){for(var H=y.style,E=(0,p.COa)(y.text),G=y.lineBreaks;G--;)E="<br />" + E;return g(E,H,A,z,B,C,D,y.lang,F);}function g(y,A,z,B,C,D,F,H,E){var G;G=A.characterStyle;C=C[G];G=0 <= G.indexOf("MONOSPACE")?n(C,A.cellResolution) || C.lineHeight:C.lineHeight;B=A.characterSize * B.height / (G || 1);H && "ja" === H.slice(0,2) && A.ruby && "text" === A.ruby && (B/=2);B=0 < D?(0,r.jT)(B * D):(0,r.Xr)(B);D={"font-size":B + "px","line-height":"normal","font-weight":"normal"};A.characterItalic && (D["font-style"]="italic");A.characterUnderline && (D["text-decoration"]="underline");A.characterColor && (D.color=A.characterColor);A.backgroundColor && 0 !== A.backgroundOpacity && (D["background-color"]=f(A.backgroundColor,A.backgroundOpacity));if(H && "ja" === H.slice(0,2)){if(A.textEmphasis){B=A.textEmphasis;switch(B.textEmphasisShape){case "auto":D["text-emphasis"]="vertical-lr" === F || "vertical-rl" === F?"filled sesame":"filled circle";break;default:D["text-emphasis"]=B.textEmphasisFill + " " + B.textEmphasisShape;}E=h(B.textEmphasisPosition,E);switch(F){case "vertical-rl":D["text-emphasis-position"]=w[E];break;case "vertical-lr":D["text-emphasis-position"]=x[E];break;default:D["text-emphasis-position"]=v[E];}}A.textCombine && (D["text-combine-upright"]=A.textCombine);}F=A.characterEdgeColor || "#000000";switch(A.characterEdgeAttributes){case "DROP_SHADOW":D["text-shadow"]=F + " 0px 0px 7px";break;case "UNIFORM":D["text-shadow"]="-1px 0px " + F + ",0px 1px " + F + ",1px 0px " + F + ",0px -1px " + F;break;case "RAISED":D["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":D["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}F=(0,m.q5)(D);(z=z[A.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (F+=";" + z);z=A.characterOpacity;0 < z && 1 > z && (y='<span style="opacity:' + z + '">' + y + "</span>");H && "ja" === H.slice(0,2)?(y='<span lang="ja" style="' + F + '">' + y + "</span>",A.ruby && "text" === A.ruby && (y="<rt>" + y + "</rt>")):y='<span style="' + F + '">' + y + "</span>";return y;}function f(y,A){y=y.substring(1);y=parseInt(y,16);return "rgba(" + (y >> 16 & 255) + "," + (y >> 8 & 255) + "," + (y & 255) + "," + (void 0 !== A?A:1) + ")";}function e(y,A,z,B){var C;C="";y && "text" === y && (C='<ruby style="ruby-position: ' + ("before" === A || "over" === A || "outside" === A && 0 === z?"over":"under") + "; " + B + '">');return C;}function h(y,A){return y === u[0] || "outside" === y && 0 === A?u[0]:u[1];}function l(y){return y.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}function k(y){return (y=y.match(/(font-size:\d+px)/))?y[0]:"";}Object.defineProperty(b,"__esModule",{value:!0});b.Dnb=function(y,A,z,B,C){var D,F,H,E,G,K,N;D="";F="";H=0;E="";G=!1;K="";N="";y.textNodes.forEach(function(I){var L,O,J,Q;H+=I.lineBreaks;J=c(I,z,A,B,C,y.region.writingMode,H);if(I.lang && "ja" === I.lang.slice(0,2)){if(I.style && I.style.ruby && "" != I.style.ruby && (I.style.ruby === q.Jq && (N=k(J)),I.style.ruby !== q.Hb && (K+=J),J="",I.style.ruby === q.text)){Q=e(I.style.ruby,null !== (L=I.style.rubyPosition) && void 0 !== L?L:"outside",H,N);G="" !== Q;K=Q + K;}!E || "" === E || I.style.ruby && "" !== I.style.ruby && I.style.ruby !== q.Hb || (K=l(K + (G?"</ruby> ":"")),J=K + J,G=!1,K="");}D+=J;E=null !== (O=I.style.ruby) && void 0 !== O?O:"";"" === F && I.style && I.style.shear && (F="font-style: oblique " + -90 * parseFloat(I.style.shear) + "deg;");});"" !== K && (D+=K + (G?"</ruby> ":""));y.region && y.region.multiRowAlignment && (D='<span style="display:inline-block;' + F + "text-align:" + y.region.multiRowAlignment + '">' + D + "</span>");return D;};b.odc=function(y,A,z,B,C){var D,F,E,G,K;D="";F=C.width;C=C.height;for(var H=A.length;H--;){E=A[H];G=y[H];G=G && G.region;K="position:absolute;background:" + B + ";width:" + (0,r.Xr)(E.width + 2 * z) + "px;height:" + (0,r.Xr)(E.height + 2 * z) + "px;";E=d(G,E,F,C,z);(0,p.Yh)(E,function(N,I){K+=N + ":" + I + ";";});D+='<div style="' + K + '"></div>';}return D;};b.ndc=d;b.vYc=n;b.xYc=c;b.uYc=g;b.wYc=f;b.mdc=function(y){var A;y=y.region;A={display:"block","white-space":"nowrap"};switch(y.horizontalAlignment){case "left":A["text-align"]="left";break;case "right":A["text-align"]="right";break;default:A["text-align"]="center";}"vertical-lr" === y.writingMode || "vertical-rl" === y.writingMode?A["writing-mode"]=y.writingMode:"horizontal-tb" === y.writingMode && y.direction && (A.direction=y.direction);return (0,m.q5)(A);};b.zWc=e;b.kXc=h;b.D1c=l;b.yZc=k;m=a(52569);p=a(3887);r=a(22365);q={Hb:"container",text:"text",Jq:"base"};u=["before","after"];v={before:"over right",after:"under right"};w={before:"over right",after:"over left"};x={before:"over left",after:"over right"};},33579:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.NLc=function(n,c){function g(h,l,k){var q,v,w,x,y;if(h && 1 < h.length){for(var m=[],p=[],r=0;r < h.length;r++)(m[r]=0,p[r]=0);q=!1;for(r=0;r < h.length;r++)for(var u=r + 1;u < h.length;u++){v=h[r];w=h[u];if(0 > v.width || 0 > w.width || w.left > v.left + v.width || w.left + w.width < v.left || w.top > v.top + v.height?0:w.top + w.height >= v.top){x=(0,d.Sx)(v.left,w.left);y=(0,d.Sx)(v.top,w.top);x={width:(0,d.Sx)((0,d.wD)(v.left + v.width,w.left + w.width) - x,0),height:(0,d.Sx)((0,d.wD)(v.top + v.height,w.top + w.height) - y,0),x:x,y:y};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((y=x.width <= x.height,v=f(h[r]),w=f(h[u]),y && l || !y && !l))(x=(0,d.Sx)(x.width / 2,.25),v.x <= w.x?(p[r]-=x,p[u]+=x):(p[u]-=x,p[r]+=x));else if(y && !l || !y && l)(v=(0,d.Sx)(x.height / 2,.25),m[r]-=v,m[u]+=v);}for(r=0;r < h.length;r++){if(-.25 > p[r] && 0 <= h[r].left + p[r] || .25 < p[r] && h[r].left + h[r].width + p[r] <= k.width)(h[r].left+=p[r],q=!0);if(-.25 > m[r] && 0 <= h[r].top + m[r] || .25 < m[r] && h[r].top + h[r].height + m[r] <= k.height)(h[r].top+=m[r],q=!0);}return q;}}function f(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}n=n.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,l){h.forEach(function(k){0 > k.left && k.left + k.width < l.width?k.left+=(0,d.wD)(-k.left,l.width - (k.left + k.width)):k.left + k.width > l.width && 0 < k.left && (k.left-=(0,d.wD)(k.left + k.width - l.width,k.left));0 > k.top && k.top + k.height < l.height?k.top+=(0,d.wD)(-k.top,l.height - (k.top + k.height)):k.top + k.height > l.height && 0 < k.top && (k.top-=(0,d.wD)(k.top + k.height - l.height,k.top));});})(n,c);for(var e=0;50 > e && g(n,!0,c);e++);for(e=0;50 > e && g(n,!1,c);e++);return n;};d=a(22365);},99732:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.Qwb=void 0;d=a(29204);n=a(33096);c=a(24066);t=a(36129);g=a(22365);f=a(32687);e=a(31276);a=a(11479);e.Pa.get(a.Fj).register(t.aa.i5a,function(h){var m,p,r,q,u;function l(){return (0,g.jT)((0,c.qw)() / r);}function k(){var v;v=l();if(v != u){for(var w=(0,g.wD)(v - u,30);w--;)q.push(0);(w=(0,g.Sx)(q.length - 31,0)) && q.splice(0,w);u=v;}q[q.length - 1]++;}m=d.config.asc;p=-6 / (m - 2 - 2);r=n.iq;q=[];u=l();(0,f.WPa)(m) && (setInterval(k,1E3 / m),b.Qwb={Hla:function(){var x;for(var v=[],w=q.length - 1;w--;){x=q[w];v.unshift(0 >= x?9:1 >= x?8:x >= m - 1?0:(0,g.Xr)((x - 2) * p + 7));}return v;}});h(n.Jj);});},24674:function(t,b,a){var f,e,h,l,k,m;function d(p){var r;p=new h.Pda(p);if(1481462272 != p.pv())throw Error("Invalid header");r={XMR:{Version:p.pv(),RightsID:p.xC(16)}};n(p,r.XMR,p.Kla());return r;}function n(p,r,q){var u,v,w,x,y;for(;p.position < q;){u=p.Wi();v=p.pv();v-=8;switch(u){case 1:w="OuterContainer";break;case 2:w="GlobalPolicy";break;case 3:w="MinimumEnvironment";break;case 4:w="PlaybackPolicy";break;case 5:w="OutputProtection";break;case 6:w="UplinkKID";break;case 7:w="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:w="AnalogVideoOutputConfiguration";break;case 9:w="KeyMaterial";break;case 10:w="ContentKey";break;case 11:w="Signature";break;case 12:w="DeviceIdentification";break;case 13:w="Settings";break;case 18:w="ExpirationRestriction";break;case 42:w="ECCKey";break;case 48:w="ExpirationAfterFirstPlayRestriction";break;case 50:w="PlayReadyRevocationInformationVersion";break;case 51:w="EmbeddedLicenseSettings";break;case 52:w="SecurityLevel";break;case 54:w="PlayEnabler";break;case 57:w="PlayEnablerType";break;case 85:w="RealTimeExpirationRestriction";break;default:w="Other";}x={Type:c(u)};y=r[w];y?(0,m.isArray)(y)?y.push(x):(r[w]=[],r[w].push(y),r[w].push(x)):r[w]=x;switch(u){case 1:case 2:case 4:case 7:case 9:case 54:n(p,x,p.position + v);break;case 5:x.Reserved1=p.Wi();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=p.Wi();x.MinimumAnalogVideoOutputProtectionLevel=p.Wi();x.Reserved2=p.Wi();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=p.Wi();break;case 10:x.Reserved=p.xC(16);x.SymmetricCipherType=p.Wi();x.AsymmetricCipherType=p.Wi();v=p.Wi();x.EncryptedKeyLength=v;u=p.xC(v);x.EncryptedKeyData=10 >= v?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 11:x.SignatureType=p.xC(2);v=p.Wi();u=p.xC(v);x.SignatureData=10 >= v?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 13:x.Reserved=p.Wi();break;case 18:x.BeginDate=p.pv();x.EndDate=p.pv();break;case 42:x.CurveType=p.xC(2);v=p.Wi();u=p.xC(v);x.Key=10 >= v?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 48:x.ExpireAfterFirstPlay=p.pv();break;case 50:x.Sequence=p.pv();break;case 51:x.LicenseProcessingIndicator=p.Wi();break;case 52:x.MinimumSecurityLevel=p.Wi();break;case 57:x.PlayEnablerType=g(p.xC(16));break;case 85:break;default:x.OtherData=p.xC(v);}}}function c(p){return "0x" + p.toString(16);}function g(p){return p.substring(6,8) + p.substring(4,6) + p.substring(2,4) + p.substring(0,2) + "-" + p.substring(10,12) + p.substring(8,10) + "-" + p.substring(14,16) + p.substring(12,14) + "-" + p.substring(16,20) + "-" + p.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.BXc=function(p,r,q){switch(r){case f.Yda:p && (p=(0,e.Xhb)(p),(0,k.AOc)(p,function(u){u.success && (u=u.object) && (u=(0,l.ohc)(u,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (u=(0,l.uyc)(u)) && (u=(0,e.oE)(u)) && (u=d(u)) && q(u);}));}};b.CXc=d;b.DXc=n;b.FXc=c;b.EXc=g;f=a(33096);e=a(31276);h=a(70834);l=a(62604);k=a(84281);m=a(32687);},59032:function(t,b){var d;function a(n,c){var g;g=this;this.oEa=[];d.forEach(function(f){(f=f(n,c)) && g.oEa.push(f);});}Object.defineProperty(b,"__esModule",{value:!0});b.O7a=void 0;b.Lea=function(n){d.push(n);};d=[];a.prototype.sG=function(n){var f;for(var c=[],g=this.oEa.length;g--;){f=this.oEa[g];f.sG(n) && c.push(f.Rka);}if(c.length)return c;};b.O7a=a;},3390:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});t=a(59032);d=a(31276);n=a(4203);c=a(95136);g=a(81918);(0,t.Lea)(function(f,e){var h,l;h=d.Pa.get(n.Cc);if(h().vbc){l=d.Pa.get(g.Sd);return new c.a3a(f,e,d.Vg,l,h);}});},95136:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r,q){var u;u=this;this.j=k;this.Ka=m;this.ta=p;this.Oa=r;this.Epa={};this.KV={};this.VZ=[];this.Ztb=1E3;this.Wsa=n.a7a;this.$Sa=function(){var v;v=u.j.Tb.value === f.Gb.bg && u.j.state.value === f.xc.mf && u.j.R === u.Ka.R;u.i8?v || (clearInterval(u.i8),u.i8=void 0,u.N8=void 0):v && (u.i8=Ba.setInterval(u.EKc,u.Ztb));};this.EKc=function(){var v,w,x,y;w=u.j.Te.value;w=w && w.stream;w=null !== (v=w && w.height) && void 0 !== v?v:null;if(null !== w && 0 < w){v=u.Oa.uc().la(h.wa);x=u.j.Qd.SO();if(x){if(u.N8 && v - u.N8.time < 2 * u.Ztb && w === u.N8.height){y=x - u.N8.ubc;u.nGa(w,y);u.o_b(w,y);}u.N8={time:v,ubc:x,height:w};u.j.Bqa && u.j.Bqa.nGc(u.Epa);}}};this.jMa=function(){var v;v={};u.KV && u.VZ.forEach(function(w){var x,y,A;x=u.KV[w];if(x){y=0;A=0;(0,e.Yh)(x,function(z,B){A+=(0,e.jl)(z);y+=B;});v[w]=A / y;}});return v;};this.m7=function(v){var w;w={};v.forEach(function(x){w[x]={};});u.KV && ((0,c.Vua)(v),u.VZ.forEach(function(x){var y,A,z,B;y=u.KV[x];if(y){A=0;z=0;(0,e.Yh)(y,function(E,G){A+=G;});B=Object.keys(y).map(Number);(0,c.Vua)(B);for(var C=B.length - 1,D=B[C],F=v.length - 1;0 <= F;F--){for(var H=v[F];D >= H && 0 <= C;)((D=y[D]) && (z+=D),D=B[--C]);w[H][x]=(0,g.Xr)(z / A * 100);}}}));return w;};this.nEc=function(v){!1 === v.oldValue && !0 === v.newValue && (u.j.DEb(),u.FEb.set(!1));};this.log=this.ta.qb("DFF",k);this.fUa=q().ybc;this.Vsc=q().wbc;this.jyb=q().xbc;this.Ka.tKa={jMa:this.jMa,m7:this.m7};this.FEb=new l.tc(!1,this.nEc);k.state.addListener(this.$Sa);k.Tb.addListener(this.$Sa);k.addEventListener(f.ha.WB,this.$Sa);}Object.defineProperty(b,"__esModule",{value:!0});b.a3a=void 0;n=a(33096);c=a(52569);g=a(22365);f=a(85001);e=a(3887);h=a(5021);l=a(81734);d.prototype.sG=function(k){return k.lower && k.height > this.jyb?k.height >= this.Ckc():!1;};d.prototype.nGa=function(k,m){var p;p=this.Epa[k];p || (this.Epa[k]=p=[],k > this.jyb && (this.VZ.push(k),(0,c.Vua)(this.VZ)));0 < m && !(this.O9 && this.O9 < k) && (this.O9=k);p.push(m);p.length > this.Vsc && p.shift();};d.prototype.o_b=function(k,m){var p;p=this.KV[k];p || (this.KV[k]=p={});k=p[m];p[m]=k?k + 1:1;};d.prototype.Ckc=function(){var p,r;if(this.O9){for(var k=this.VZ.length,m=0;m < k;m++){p=this.VZ[m];if(p >= this.O9 && p < this.Wsa){r=this.Epa[p];if(r && this.L4b(this.fUa,r) && this.Wsa != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ka.ju.set({reason:"droppedFrames",height:p}),this.FEb.set(!0),this.Wsa=p);}}this.O9=void 0;}return this.Wsa;};d.prototype.L4b=function(k,m){var u,v;for(var p=k.length,r=m.length,q=0;q < p;q++){u=k[q];v=u[0];u=u[1];for(var w=0;w < r;w++)if(m[w] >= u && 0 >= --v)return !0;}return !1;};Ga.Object.defineProperties(d.prototype,{Rka:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.a3a=d;},25357:function(t,b,a){var n,c;function d(g,f,e,h){var l;l=this;this.j=g;this.Ka=f;this.ta=e;this.Ia=h;this.m0b=function(k){!0 === k.oldValue && !1 === k.newValue && (l.log.error("RestartStreaming: UHD key is no longer usable"),l.j.DEb());};this.GLc=function(k){var m,p,r;l.log.trace("UhdKeyStatus: " + k.oldValue + " -> " + k.newValue);p=null === k || void 0 === k?void 0:k.newValue;r=null === k || void 0 === k?void 0:k.oldValue;"usable" !== p && (l.cGc(p,(null === (m=null === k || void 0 === k?void 0:k.Xl) || void 0 === m?void 0:m.height) || 0),"usable" === r && (k=l.Ia.gg.ca(l.Spc),l.log.error("UHD KeyStatus unexpectedly changed: " + k.la(c.wa))));};this.Pub=!1;this.log=this.ta.qb("KeyStatusStreamFilter",this.j);this.Qgb=new n.tc(!1,this.m0b);this.FLc=new n.tc(void 0,this.GLc);}Object.defineProperty(b,"__esModule",{value:!0});b.d6a=void 0;n=a(81734);c=a(5021);d.prototype.sG=function(g){return g.Wj && (this.CJc(),this.Qgb.set(this.Pub),g.lower && 1080 < g.height && !this.Qgb.value)?!0:!1;};d.prototype.Uyb=function(g){var f;f=this;Object.entries(g).forEach(function(e){var h,l,k;h=Ea(e);e=h.next().value;h=h.next().value;e=null !== (k=null === (l=f.Rpc) || void 0 === l?void 0:l[e]) && void 0 !== k?k:0;1080 < e && (f.Pub="usable" === h,f.FLc.set(h,{height:e}));});};d.prototype.CJc=function(){var g,f,e;g=this;e=this.Ka.Zl;!this.opc && e && (this.opc=!0,this.Rpc=null === (f=null === e || void 0 === e?void 0:e.context) || void 0 === f?void 0:f.Cna,this.Uyb(e.keyStatuses.value),e.keyStatuses.addListener(function(h){return g.Uyb(h.newValue);}),this.Spc=this.Ia.gg);};d.prototype.cGc=function(g,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:g});this.Ka.ju.set({reason:"keyStatus",height:f});};Ga.Object.defineProperties(d.prototype,{Rka:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.d6a=d;},2898:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});t=a(59032);d=a(29204);n=a(31276);c=a(25357);(0,t.Lea)(function(g,f){if(d.config.Qpc)return new c.d6a(g,f,n.Vg,n.Ia);});},45706:function(t,b,a){var n,c;function d(g,f){var e,h;e=(0,c.bn)(g,"MSS");if(n.config.Jtc)return {Rka:"mss",sG:function(l){var k,m;if(l.lower && 2160 <= l.height)a:{for(k=l;k.lower;){if(2160 > k.height && 1080 < k.height){k=!0;break a;}if(1080 >= k.height)break;k=k.lower;}k=!1;}else k=void 0;if(k){if(void 0 === h){try{m=Ba.MSMediaKeys;h=m && m.isTypeSupportedWithFeatures?"probably" === m.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(p){e.error("hasUltraHdDisplay exception");h=!0;}h || (e.warn("Restricting resolution due screen size",{MaxHeight:l.height}),f.ju.set({reason:"microsoftScreenSize",height:l.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.ESc=d;t=a(59032);n=a(29204);c=a(31276);(0,t.Lea)(d);},76563:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});t=a(59032);d=a(29204);n=a(31276);(0,t.Lea)(function(c,g){var f,e,h,l;f={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(f,d.config.HLc);e=f[g.We];if(d.config.ILc && e){h={};l=(0,n.bn)(c,"MediaStreamFilter");return {Rka:"uiLabel",sG:function(k){if(k.lower && k.height > e)return (h[k.height] || (h[k.height]=!0,l.warn("Restricting resolution due to uiLabel",{MaxHeight:e,streamHeight:k.height}),g.ju.set({reason:"uiLabel",height:k.height})),!0);}};}});},24427:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.WPb=function(c){function g(f){c.fireEvent(d.ha.ZN,{response:f,R:c.ea.R});}return {download:function(f,e){f.j=c;f=n.Je.download(f,e);f.Aha(g);return f;}};};d=a(85001);n=a(61726);},61726:function(t,b,a){var e,h,l,k,m,p,r,q,u,v,w,x,y,A;function d(){this.cg=(0,p.bm)("Http");this.Kl=new e.Bl();this.EM=0;this.stats={ssl:0,"non-ssl":0,invalid:0};this.yfa={Aa:1,NVb:2,U0a:3};this.addEventListener=this.Kl.addListener;this.removeEventListener=this.Kl.removeListener;}function n(z){var B,C,D,F;B=z.url.split("?");C="sc=" + z.jFc;D=z.f3b?"random=" + (1E17 * (0,u.Kea)()).toFixed(0):"";F=B[0];F=B[1]?F + ("?" + B[1] + "&" + C):F + ("?" + C);F+=D?"&" + D:"";z.Kc && !(0,l.Qub)(F) && (z=h.config && h.config.Pib) && (F=z.replace("{URL}",F).replace("{EURL}",encodeURIComponent(F)));return F;}function c(z,B){var C,D,F;C=z.url.split("?");D=g(z);F=C[0];D && (B.vC=D,(void 0 === z.Ix?h.config.Ix:z.Ix) || z.zx !== x.p2?(z.headers=z.headers || ({}),z.headers.Range="bytes=" + D):(B.vC=D,F="/" === F[F.length - 1]?F + "range/":F + "/range/",F+=D));D=z.f3b?"random=" + (1E17 * (0,u.Kea)()).toFixed(0):"";h.config.jO && z.HC && (D="sc=" + z.HC + (D?"&" + D:""));F=C[1]?F + ("?" + C[1] + (D?"&" + D:"")):F + (D?"?" + D:"");z.Kc && !(0,l.Qub)(F) && (z=h.config && h.config.Pib) && (F=z.replace("{URL}",F).replace("{EURL}",encodeURIComponent(F)));B.url=F;}function g(z){var B;B=z.offset;if(void 0 !== B)return ((0,r.B5)(B),void 0 !== z.length?(z=B + z.length - 1,(0,r.B5)(z),B + "-" + z):B + "-");}function f(z,B,C,D){var F,H;F=D.YBb;H=D.headers;z.open(F?"POST":"GET",B,C);switch(D.responseType){case b.U7:z.responseType="arraybuffer";break;case b.EOa:(0,q.W3b)(z,"overrideMimeType",void 0,"text/xml");}F && (B={"Content-Type":(0,w.Zh)(F)?"text/plain":"application/x-octet-stream"},H=H?(0,q.uf)(B,H):B);H && (0,q.Yh)(H,function(E,G){z.setRequestHeader(E,G);});D.withCredentials && (z.withCredentials=!0);F?z.send(F):z.send();}Object.defineProperty(b,"__esModule",{value:!0});b.U7=b.EOa=b.DOa=b.Amc=b.FOa=b.zmc=b.btb=b.Cma=b.Je=void 0;b.s_c=c;b.r_c=g;e=a(94886);h=a(29204);t=a(33096);l=a(52569);k=a(24066);m=a(36129);p=a(31276);r=a(45146);q=a(3887);u=a(22365);v=a(32219);w=a(32687);x=a(32934);y=a(57504);d.prototype.RHc=function(z){var B;B=new XMLHttpRequest();z=n(z);B.open("HEAD",z,!0);B.onreadystatechange=function(){2 === B.readyState && 200 <= B.status && 299 >= B.status && !1;};B.send();return function(){return B.abort();};};d.prototype.download=function(z,B){var N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa;function C(){var da;if(!P){P=!0;aa && (Ba.clearTimeout(aa),aa=null);N.Kl.removeListener(b.FOa,H);N.hFa(T,U);U && (U.onloadstart=null,U.onreadystatechange=null,U.onprogress=null,U.onerror=null,U.onload=null,U=U.onabort=null);T.success || (T.Ma != m.W.UL?L.warn("Download failed",Q,(0,m.pD)(T)):L.trace("Download aborted",Q));da=S;S=null;null === da || void 0 === da?void 0:da.reduceRight(function(fa,ma){(0,v.yh)(function(){return ma(T);});},null);N.Kl.bd(b.btb,T,!0);}}function D(){aa && (Ba.clearTimeout(aa),aa=null);aa=Ba.setTimeout(E,Z?J:O);}function F(da,fa,ma){var R,M;T.success=!1;T.Ma=da;R=(0,k.qw)();M=T.yp;M.pl=M.pl || R;M.rv=M.rv || R;fa && 0 < fa && (T.Uq=fa,T.yg=fa.toString());ma && (T.df=ma);da !== m.W.C1 && da !== m.W.VL && da !== m.W.G1 || !U || (U.onabort=null,G());C();}function H(){A() || F(m.W.C1);}function E(){F(Z?m.W.VL:m.W.G1);}function G(){try{null === U || void 0 === U?void 0:U.abort();}catch(da){}}function K(){F(m.W.UL);}N=this;(0,r.qa)(B);L=(null === (I=null === z || void 0 === z?void 0:z.j) || void 0 === I?0:I.log)?(0,p.bn)(z.j,"Http"):this.cg;O=z.jja || h.config.jja;J=z.mSa || h.config.mSa;Q={Num:this.EM++};P=!1;S=[B];Y={};this.dZb(z);T=new y.Y4a(z,G,E,Y,function(da){P || ((0,r.qa)(S,"Callback should be added before download starts."),S && S.unshift(da));});Z=!1;(0,v.yh)(function(){var da;if((0,w.eQa)(z.url))try{if((c(z,T),X=T.url,(0,r.C5)(X),Q.Url=X,A())){!1;U=new XMLHttpRequest();U.onreadystatechange=function(){2 === (null === U || void 0 === U?void 0:U.readyState) && (Z=!0,Y.pl=(0,k.qw)(),U.onreadystatechange=null,D(),!1,N.hFa(T,U),T.jQ({timestamp:Y.pl,connect:!0,mediaRequest:z,start:Y.hG,rt:[Y.pl - Y.hG],responseHeaders:T.headers,httpCode:T.Vj}));};U.onprogress=function(fa){Z=!0;Y.Rm=fa.loaded;D();N.hFa(T,U);fa={mediaRequest:z,bytes:fa.loaded,timestamp:(0,k.qw)(),bytesLoaded:fa.loaded,responseHeaders:T.headers,httpCode:T.Vj};T.jQ(fa);};U.onload=function(fa){if(!P && U){(0,r.qa)(void 0 === Y.rv);Y.rv=(0,k.qw)();Y.pl=Y.pl || Y.rv;Y.Rm=fa.loaded;if(200 <= U.status && 299 >= U.status){a:switch((fa=U,T.type)){case b.U7:fa=fa.response || new ArrayBuffer(0);break a;case b.EOa:fa=fa.responseXML;break a;default:fa=fa.responseText;}T.parsed=!1;T.content=fa;T.success=!0;}else 420 === U.status?F(m.W.E1,U.status):F(m.W.D1,U.status,U.response);C();}};U.onabort=K;U.onerror=function(){var fa,ma;if(U){fa=U.status;"undefined" !== typeof h.config.ipb && (fa=h.config.ipb);if(0 < fa){if(420 === fa)F(m.W.E1,fa);else {try{ma=U.responseText;}catch(R){}F(m.W.D1,fa,ma);}}else F(m.W.H1);}};da=(0,k.qw)();f(U,X,!0,z);N.Kl.bd(b.Cma,T,!0);Y.hG=da;T.tY({mediaRequest:z,timestamp:da});D();N.Kl.addListener(b.FOa,H);}else (0,v.yh)(F.bind(void 0,m.W.C1));}catch(fa){L.error("Exception starting download",fa,Q);F(m.W.Dxa,void 0,(0,q.Mi)(fa));}else F(m.W.C4a);});return T;};d.prototype.PAc=function(z){var B,C;B=new XMLHttpRequest();C=z.MAc;B.open("HEAD",z.url,!0);B.timeout=h.config.ara;B.onreadystatechange=function(){2 === B.readyState && (!1,C && C.oY(B.status));};B.ontimeout=B.onerror=function(){!1;C && C.wSa(B.status);};B.send();};d.prototype.dZb=function(z){var B;try{B=z.url;(0,w.eQa)(B)?0 === B.indexOf("https")?this.stats.ssl++:0 === B.indexOf("http")?this.stats["non-ssl"]++:this.stats.invalid++:this.stats.invalid++;}catch(C){}};d.prototype.hFa=function(z,B){var C;if((void 0 === z.Vj || void 0 === z.headers) && B){z.Vj=B.status;C={};B.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(D){var F;F=Ea(D.split(": "));D=F.next().value;F=sb(F).join(": ");D && (C[D.toLowerCase()]=F);});z.headers=C;}};A=t.dab;b.Je=new d();b.Cma=1;b.btb=2;b.zmc=3;b.FOa=4;b.Amc=5;b.DOa=b.Je.yfa.Aa;b.EOa=b.Je.yfa.NVb;b.U7=b.Je.yfa.U0a;Ba._cad_global.http=b.Je;},57504:function(t,b,a){var n;function d(c,g,f,e,h){this.Aha=this.jQ=this.tY=n.kH;this.request=c;this.type=c.responseType;this.yp=e;this.abort=g;this.timeout=f;this.Aha=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Y4a=void 0;n=a(33096);d.prototype.FGc=function(c){this.tY=c;};d.prototype.SGc=function(c){this.jQ=c;};b.Y4a=d;},31276:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.Pa=b.m$a=b.N6=b.bn=b.bm=b.log=b.Vg=b.Xhb=b.oE=b.bB=b.wd=b.d2b=b.fHa=b.b2b=b.c2b=b.Zk=b.K_=b.Hca=b.cj=b.nd=b.Ia=void 0;b.FW=function(){return d.Yc.get(n.KS);};d=a(83989);t=a(87386);n=a(56800);c=a(84408);g=a(6405);f=a(2248);e=a(32687);h=a(79274);l=a(30869);a=a(53085);b.Ia=d.Yc.get(l.di);b.nd=d.Yc.get(a.Pk);b.cj=d.Yc.get(c.LD);b.Hca=b.cj.encode.bind(b.cj);b.K_=b.cj.decode.bind(b.cj);b.Zk=d.Yc.get(g.FL);b.c2b=b.Zk.encode.bind(b.Zk);b.b2b=b.Zk.decode.bind(b.Zk);b.fHa=b.Zk.hla.bind(b.Zk);b.d2b=b.Zk.cJb.bind(b.Zk);b.wd=d.Yc.get(f.yl);b.bB=function(k){k=(0,e.Zh)(k)?(0,b.K_)(k):k;return b.wd.encode(k);};b.oE=b.wd.decode.bind(b.wd);b.Xhb=function(k){return (0,b.Hca)((0,b.oE)(k));};b.Vg=d.Yc.get(t.wb);b.log=b.Vg.qb("General");b.bm=function(k,m){return b.Vg.qb(k,void 0,m);};b.bn=function(k,m,p){return b.Vg.qb(m,k,p);};b.N6=function(k,m,p,r){return b.Vg.qb(k,void 0,r,m,p);};b.m$a=function(k,m,p){return d.Yc.get(h.v2)(k,m,p).kca();};b.Pa=d.Yc;},93114:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v;Object.defineProperty(b,"__esModule",{value:!0});d=a(82956);n=a(33096);c=a(29204);g=a(13044);f=a(24066);t=a(36129);e=a(31276);h=a(77134);l=a(22365);k=a(32219);m=a(32687);p=a(45118);r=a(31850);a=a(11479);v=e.Pa.get(a.Fj);v.register(t.aa.h5a,function(w){var y;function x(){var A,z,B;A=v.startTime;z={browserua:l.nT,browserhref:l.Sea.href,initstart:A,initdelay:v.endTime - A};(A=l.fi.documentMode) && (z.browserdm="" + A);(0,m.uX)(c.config.oob) && (z.fesn=c.config.oob);Object.assign(z,(0,d.Grb)());B=l.DA && l.DA.timing;B && c.config.Qrc.map(function(C){var D;D=B[C];D && (z["pt_" + C]=D - (0,f.D5b)());});A=y.Kic();Object.entries(A).forEach(function(C){var D;D=Ea(C);C=D.next().value;D=D.next().value;return z["m_" + C]=D;});A=u.tu("startup","info",z,g.Yx.ILa);q.Lc(A);}u=e.Pa.get(r.tD);q=e.Pa.get(p.Io);y=e.Pa.get(h.IT);v.Z8(function(){q.Sb();(0,k.yh)(x);});w(n.Jj);});},86258:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.QTb=function(h){var m,p,r,q;function l(){p || (h.Kg("pdsb"),p=c.Pa.get(g.u2)().then(function(u){q=u;h.Kg("pdsc");return u;}).catch(function(u){m.error("Unable to initialize the playdata services",u);h.Kg("pdse");throw u;}));return p;}function k(){r=!0;q && q.close();n.oe.removeListener(n.cn,k);}m=(0,c.bn)(h,"PlayDataManager");r=!1;h.Kg("pdctor");h.addEventListener(f.ha.Tg,function(){n.oe.removeListener(n.cn,k);});h.addEventListener(f.ha.Tg,function(){var u;if(!r){h.XNc();u=[(function(){return l().then(function(v){return v.Hba(h.ea);}).then(function(){m.info("Sent the playdata");}).catch(function(v){m.error("Unable to send the playdata",v);});})(),(function(){return new Promise(function(v){c.Pa.get(e.Io).flush(!1).catch(function(){m.error("Unable to send logblob");v(void 0);}).then(function(){v(void 0);});});})()];Promise.all(u).then(function(){h.spa();}).catch(function(){h.spa();});}});n.oe.addListener(n.cn,k);return {};};d=a(33096);n=a(37509);c=a(31276);t=a(36129);g=a(96687);f=a(85001);e=a(45118);a=a(11479);c.Pa.get(a.Fj).register(t.aa.bH,function(h){h(d.Jj);});},8129:function(t,b,a){var n,c,g,f,e;function d(h){this.vq=h;}Object.defineProperty(b,"__esModule",{value:!0});b.V4a=void 0;n=a(48795);c=a(45146);g=a(31276);f=a(32687);e=a(3887);d.prototype.u7=function(h,l){var k,m,p;k=this.vq;m=k.eQ.Je || m;h=(0,f.F8)(h.body)?(0,g.Hca)(h.body):h.body;(0,c.C5)(h,"Msl should not be sending empty request");k={url:k.url,YBb:h,withCredentials:!0,wI:"nq-" + k.method,headers:k.headers};h=this.vq.timeout;k.jja=h;k.mSa=h;p=m.download(k,function(r){try{if(r.success)l.result({body:r.content,headers:r.headers});else throw (0,e.uf)(new n.default("HTTP error, SubCode: " + r.Ma + (r.Uq?", HttpCode: " + r.Uq:"")),{cadmiumResponse:r});}catch(q){l.error(q);}});return {abort:function(){p.abort();}};};b.V4a=d;},41292:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r,q,u,v){this.log=p;this.suc=r;this.eQ=q;this.qr=u;this.W=v;this.TGb=[];}Object.defineProperty(b,"__esModule",{value:!0});n=a(51411);c=a(1966);g=a(36114);f=a(14348);e=a(42979);h=a(14945);l=a(70390);k=a(94971);m=a(5988);d.prototype.$Zb=function(p){this.TGb.push(p);};d.prototype.send=function(p){var r;r=this;return new Promise(function(q,u){var v,w,x;v=p.timeout;w=new m.default.mSb(r.log,r.eQ,p,r.qr.VO());x=new k.Hcb(p.url);r.log.trace("Sending MSL request");r.suc.request(r.eQ,w,x,v,{result:function(y){var A;r.log.trace("Received MSL response",{Method:p.method});if(y){p.allowTokenRefresh && r.xqa();A=y.input.IW();A?(r.xdc(A,p.profileGuid || p.userId),u({error:A})):r.LBc(y,v,{result:function(z){q({headers:y.input.c7(),body:new f.Yfa().de(z)});},timeout:function(){u({subCode:this.W.f7a});},error:function(z){u({headers:y.input.c7(),error:z});}});}else u({success:!1,error:new c.default(g.default.zA,"Null response stream"),description:"Null response stream"});},timeout:function(){u({success:!1,subCode:this.W.g7a});},error:function(y){u({success:!1,error:y});}});});};d.prototype.xdc=function(p,r){p.errorCode === n.default.N.ag || p.errorCode === n.default.N.Kh?(this.qr.r5b(),this.xqa()):p.errorCode !== n.default.N.Ee && p.errorCode !== n.default.N.Vc || this.qaa(r);};d.prototype.XNa=function(){return this.qr.XNa();};d.prototype.qaa=function(p){if(p=this.qr.Fw(p))(this.qr.qaa(p),this.xqa());};d.prototype.qoc=function(p){return p && p.errorCode == n.default.N.Vc;};d.prototype.poc=function(p){return p instanceof l.O0;};d.prototype.Hhc=function(p){return p && p.errorCode;};d.prototype.wkc=function(p){var r,q;r=this.qr.BB();p=this.qr.Fw(p);q=r?this.qr.Sy(r):null;return {Xb:r,Xf:p,Rn:q};};d.prototype.LBc=function(p,r,q){var u;u=[];(function w(){p.input.read(-1,r,{result:function(x){(0,e.default)(q,function(){if(x)(u.push(x),w());else switch(u.length){case 0:return new Uint8Array(0);case 1:return u[0];default:return h.default.concat(u);}},null);},timeout:function(){q.timeout();},error:function(x){q.error(x);}});})();};d.prototype.xqa=function(){var p;p=this;this.qr.Bkc({result:function(r){for(var q=p.TGb.slice(),u=0;u < q.length;u++)q[u]({eJc:r});},timeout:function(){p.log.error("Timeout getting store state","");},error:function(r){p.log.error("Error getting store state","" + r);}});};d.prototype.VI=function(p){var r;r=this.qr.BB();(p=this.qr.Fw(p)) && !p.fh(r) && (p=null);return this.qr.VI(r,p);};d.prototype.RDb=function(){var p;p=this.qr.BB();this.qr.VI(p,null).find(function(r){return "cad" === r.name;}) && (this.qr.xra("cad",p,null),this.xqa());};b["default"]=d;},5988:function(t,b,a){var c,g,f,e,h,l;function d(k,m){this.cg=k;this.vq=m;}function n(k,m,p,r){this.cg=k;this.RXb=m;this.vq=p;this.yH=r;}Object.defineProperty(b,"__esModule",{value:!0});c=a(23710);g=a(48795);f=a(49123);e=a(14348);h=a(42979);l=a(61693);n.prototype.zNa=function(){return null;};n.prototype.jna=function(){return !1;};n.prototype.wla=function(){return {};};n.prototype.q8=function(){return !!this.vq.encrypted;};n.prototype.Rs=function(){return !!this.vq.nonReplayable;};n.prototype.B8=function(){return !0;};n.prototype.Xy=function(){return this.vq.profileGuid || this.vq.userId || null;};n.prototype.ima=function(k,m,p,r){var q;q=this.vq;(0,h.default)(r,function(){return k || !q.shouldSendUserAuthData?null:q.email?new c.Mwa(q.email,q.password):q.useNetflixUserAuthData || p && q.sendUserAuthIfRequired?new f.Sza():null;},null);};n.prototype.VO=function(k){k.result(this.vq.allowTokenRefresh?[this.yH]:[]);};n.prototype.xZa=function(k,m,p){var r,q,u,v,w;r=this.cg;q=(this.vq.serviceTokens || []).slice();u=this.RXb;m=u.Nl;v=k.eb.BB();w=m.Fw(this.Xy());(function y(){var A;A=q.shift();if(A)try{A instanceof l.ebb?(k.rgb(A),y()):(0,l.lqa)(u,A,v,w,null,{result:function(z){try{k.rgb(z);}catch(B){r.warn("Exception adding service token","" + B);}y();},error:function(z){r.warn("Error parsing service token","" + z);y();}});}catch(z){r.warn("Exception processing service token","" + z);y();}else p.result(!0);})();};n.prototype.write=function(k,m,p){var r;r=new e.Yfa().gd(this.vq.body);k.write(r,0,r.length,m,{result:function(q){q != r.length?p.error(new g.default("Not all data was written to output.")):k.flush(m,{result:function(){p.result(!0);},timeout:function(){p.timeout();},error:function(u){p.error(u);}});},timeout:function(){p.timeout();},error:function(q){p.error(q);}});};n.prototype.zla=function(){this.Pdb || (this.Pdb=new d(this.cg,this.vq));return this.Pdb;};d.prototype.RFc=function(k){this.cg.trace("Sent MSL header",this.Is(this.vq,k),("serviceTokens" in k) && k.PK.map(this.wsc).join("\n"));};d.prototype.dCc=function(k){var m,p;m=this.Is(this.vq,k);p=k.errorCode;p?this.cg.warn("Received MSL error header",m,{errorCode:p,errorMessage:null === k || void 0 === k?void 0:k.errorMessage,internalCode:null === k || void 0 === k?void 0:k.h8}):this.cg.trace("Received MSL header",m);};d.prototype.Is=function(k,m){var p,r;p=null === m || void 0 === m?void 0:m.Xb;r=null === m || void 0 === m?void 0:m.Xf;m=null === m || void 0 === m?void 0:m.PK;return {NccpMethod:k.method,UserId:k.userId,UT:r && r.Bf,MT:p && p.Bf + ":" + p.Aj,STCount:m && m.length};};d.prototype.wsc=function(k){return k.Ih();};b["default"]={mSb:n,fTc:d};},49614:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v;function d(w,x,y,A,z,B){var C,D,F;C=k.Jza.call(this) || this;D=new l.T7a([q.VG.qya],null,null);F=new f.zab();F.v_b(x,y);A[e.oD.zT]=new g.yab(null,F);x={};x[u.ega.Cwa]=new n.u3a();x[v.Xea.Oza]=new c.n8a();y=new r.F2a();F=new p.W1a();C.cha=F;C.QD=D;C.qg=y;C.IM=z;C.MWb=A;C.fZb=x;C.uXb=B;C.Nl=w;return C;}Object.defineProperty(b,"__esModule",{value:!0});n=a(25606);c=a(79925);g=a(18089);f=a(88774);e=a(36332);h=a(75948);l=a(68480);k=a(38470);m=a(31809);p=a(48603);r=a(30370);q=a(51411);u=a(91331);v=a(32256);Ia(d,k.Jza);d.prototype.getTime=function(){return Date.now();};d.prototype.Arb=function(){return new m.hab();};d.prototype.Dla=function(w){w.result(this.IM);};d.prototype.Ghc=function(w){return e.default.w7(w);};d.prototype.Ela=function(w){return this.MWb[w];};d.prototype.dlc=function(w){return u.default.w7(w);};d.prototype.fsb=function(w){return this.fZb[w];};d.prototype.Aqb=function(w){return h.default.w7(w);};d.prototype.RMa=function(w){return this.uXb.filter(function(x){return x.scheme == w;})[0];};b["default"]=d;},74810:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y;function d(A,z,B,C,D,F){var H;H=p.ET.call(this) || this;H.cg=A;H.Xdb=z;H.yH=B;H.tWb=C;H.sfb=D;H.dU=F;return H;}Object.defineProperty(b,"__esModule",{value:!0});n=a(50441);c=a(1966);g=a(36114);f=a(44127);e=a(42979);h=a(96837);l=a(10558);k=a(43088);m=a(9E3);p=a(25137);r=a(58892);q=a(85065);u=a(61693);v=a(72672);w=a(60426);x={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Ia(d,p.ET);d.prototype.lba=function(A,z,B){var C;C=this;C.cg.trace("Adding MasterToken",{SequenceNumber:A.Aj,SerialNumber:A.Bf,Expiration:A.Tj().getTime()});p.ET.prototype.lba.call(this,A,z);!B && (A=C.tWb) && (C.cg.trace("Generating new keyx request data"),A().then(function(D){D=Ea(D);C.yH=D.next().value;C.CEa=D.next().value;},function(D){C.cg.error("Unable to generate new keyx request data","" + D);}));};d.prototype.Kha=function(A,z){this.cg.trace("Adding UserIdToken",{UserId:A,SerialNumber:z.Bf,MTSerialNumber:z.vj,Expiration:z.Tj().getTime()});p.ET.prototype.Kha.call(this,A,z);};d.prototype.Gha=function(A){p.ET.prototype.Gha.call(this,A.filter(function(z){return !x[z.name];}));};d.prototype.XNa=function(){var A,z;A=[];for(z in this.Jx)A.push(z);return A;};d.prototype.VO=function(){return this.yH;};d.prototype.Bkc=function(A){var z;z=this;(0,e.default)(A,function(){var B;B=z.BB();B?z.uic(B,{result:function(C){(0,e.default)(A,function(){var D,F;D=z.Jx;F=Object.keys(D).map(function(H){var E;E=D[H];return {userId:H,userIdTokenJSON:z.toJSON(D[H]),serviceTokenJSONList:z.VI(B,E).map(z.toJSON)};});C.esn=z.Xdb;C.masterTokenJSON=z.toJSON(B);C.userList=F;z.CEa && Object.keys(z.CEa).forEach(function(H){C[H]=z.CEa[H];});return C;},null);},timeout:A.timeout,error:A.error}):A.result(null);},null);};d.prototype.uic=function(A,z){var B;B=this;(0,e.default)(z,function(){var C;C=B.Sy(A);if(!(C instanceof v.UCa))throw new c.default(g.default.zA,"CryptoContext was not a SymmetricCryptoContext");C={encryptionKey:C.Bu,hmacKey:C.uG};if(C.encryptionKey && C.hmacKey){if(B.dU)B.sOc(C,z);else return C;}else throw new c.default(g.default.zA,"Unable to get CryptoContext keys");},null);};d.prototype.toJSON=function(A){return {tokendata:(0,f.Sh)(A.Up),signature:(0,f.Sh)(A.bk)};};d.prototype.Wrb=function(A,z){y?z.result(y):Promise.resolve().then(function(){return n.Cg.generateKey({name:A},!1,["wrapKey","unwrapKey"]);}).then(function(B){y=B;z.result(y);}).catch(function(){z.error(new c.default(g.default.zA,"Unable to get system key"));});};d.prototype.sOc=function(A,z){var B;B=this;this.Wrb(this.sfb,{result:function(C){(0,e.default)(z,function(){var D,F,H,E;D=A.encryptionKey;F=A.hmacKey;H=D.$netflix$msl$wrapsys;E=F.$netflix$msl$wrapsys;if(H && E)return {tOc:H,uOc:E};Promise.resolve().then(function(){return Promise.all([n.Cg.wrapKey(B.dU,D,C,C.algorithm),n.Cg.wrapKey(B.dU,F,C,C.algorithm)]);}).then(function(G){H=(0,f.Sh)(G[0],!0);D.$netflix$msl$wrapsys=H;E=(0,f.Sh)(G[1],!0);F.$netflix$msl$wrapsys=E;z.result({tOc:H,uOc:E});}).catch(function(G){z.error(new c.default(g.default.zA,"Error wrapping key with SYSTEM key",G));});},null);},timeout:z.timeout,error:z.error});};d.prototype.ZLc=function(A,z){var B;B=this;this.Wrb(this.sfb,{result:function(C){(0,e.default)(z,function(){var D,F;D=(0,f.Pj)(A.wrappedEncryptionKey,!0);F=(0,f.Pj)(A.wrappedHmacKey,!0);Promise.resolve().then(function(){return Promise.all([n.Cg.unwrapKey(B.dU,D,C,C.algorithm,h.Fe.yL,!1,l.ND.aea),n.Cg.unwrapKey(B.dU,F,C,C.algorithm,h.Fe.WS,!1,l.ND.CT)]);}).then(function(H){var E;E=H[0];H=H[1];E.$netflix$msl$wrapsys=A.wrappedEncryptionKey;H.$netflix$msl$wrapsys=A.wrappedHmacKey;z.result({encryptionKey:E,hmacKey:H});}).catch(function(H){z.error(new c.default(g.default.zA,"Error wrapping key with SYSTEM key",H));});},null);},timeout:z.timeout,error:z.error});};d.prototype.Drc=function(A,z,B,C){var H,E;function D(G,K){var N;try{N=B.userList.slice();}catch(I){}N?(function L(){var O,J;O=N.shift();J={};if(O){for(var Q in O.userIdTokenJSON)J[Q]=(0,f.Pj)(O.userIdTokenJSON[Q]);J=new m.Ei(J);(0,q.DTa)(z,J,G,{result:function(P){try{H.Kha(O.userId,P);F(G,P,O.serviceTokenJSONList,{result:L,timeout:L,error:L});}catch(S){L();}},error:function(){L();}});}else K.result();})():K.result();}function F(G,K,N,I){var L,O;try{L=N.slice();}catch(J){}if(L){O=H.Sy(G);(function Q(){var P,S;P=L.shift();S={};if(P){for(var Y in P)S[Y]=(0,f.Pj)(P[Y]);P=new m.Ei(S);S=z.qg.ro(P.get("tokendata")).de("name");Y={};Y[S]=O;(0,u.lqa)(z,P,G,K,Y,{result:function(X){H.Gha([X]);Q();},error:function(){Q();}});}else I.result();})();}else I.result();}H=this;E=H.cg;B.esn != H.Xdb?(E.error("Esn mismatch, starting fresh"),C.error()):(function(G){var I,L,O,J,Q;function K(){!I && L && O && J && (I=!0,new w.uCa(O,{result:function(S){new w.uCa(J,{result:function(Y){Y=new k.E2(z,L,A.esn,S,Y);H.lba(L,Y,!0);G.result(L);},error:G.error});},error:G.error}));}function N(S,Y){E.error(S,Y && "" + Y);I || (I=!0,G.error(new c.default(g.default.zA,S)));}Q={};if(B.masterTokenJSON){for(var P in B.masterTokenJSON)Q[P]=(0,f.Pj)(B.masterTokenJSON[P]);Q=new m.Ei(Q);(0,r.iqa)(z,Q,{result:function(S){L=S;K();},error:function(S){N("Error parsing MasterToken",S);}});H.dU?H.ZLc(B,{result:function(S){O=S.encryptionKey;J=S.hmacKey;K();},timeout:function(){N("Timeout unwrapping keys");},error:function(S){N("Error unwrapping keys",S);}}):Promise.resolve().then(function(){return n.Cg.encrypt({name:h.Fe.yL.name,iv:new Uint8Array(16)},B.encryptionKey,new Uint8Array(1));}).then(function(){O=B.encryptionKey;}).catch(function(){N("Error loading encryptionKey");}).then(function(){return n.Cg.sign(h.Fe.WS,B.hmacKey,new Uint8Array(1));}).then(function(){J=B.hmacKey;K();}).catch(function(){N("Error loading hmacKey");});}else N("Persisted store is corrupt");})({result:function(G){D(G,C);},timeout:C.timeout,error:C.error});};b["default"]=d;},24354:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.I6b=function(c){return (0,n.J6b)(c,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},d.Kt.aya);};d=a(93562);n=a(43124);},43124:function(t,b,a){var d,n,c,g,f,e,h,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.J6b=function(p,r,q){var w;function u(){return Promise.resolve().then(function(){return c.Cg.generateKey(r,!1,["wrapKey","unwrapKey"]);}).then(function(x){return v(x.publicKey,x.privateKey);});}function v(x,y){return Promise.all([new Promise(function(A,z){new f.rfa(x,{result:A,error:function(B){z(new k.default(m.default.zA,"Unable to create keyx public key",B));}});}),new Promise(function(A,z){new e.W$a(y,{result:A,error:function(B){z(new k.default(m.default.zA,"Unable to create keyx private key",B));}});})]).then(function(A){return [new d.Efa("rsaKeypairId",q,A[0],A[1]),w?{keyxPublicKey:x,keyxPrivateKey:y}:null];});}w=!p.systemKeyWrapFormat;return Promise.resolve().then(function(){var x,y;x=p.storeState;y=x && x.keyxPublicKey;x=x && x.keyxPrivateKey;return w && y && x?v(y,x):u();}).then(function(x){var y,A,z;x=x[0];y={};y[n.oD.NONE]=new h.Fcb(new g.Zza());A=new l.pDa(p.esn);z=[new d.H0a(new g.Zza())];return {ldc:y,kdc:A,Ppc:z,PB:x,a9b:w?u:void 0};});};d=a(93562);n=a(36332);c=a(50441);g=a(18461);f=a(42486);e=a(36911);h=a(28296);l=a(2479);k=a(1966);m=a(36114);},65799:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q,u,v,w;function d(){return l.Mea.apply(this,arguments) || this;}function n(){return h.Tza.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VPb=void 0;b.p9b=function(x,y){var A,z,B,C,D;A=x.log;z=x.notifyMilestone || (function(){});Promise.resolve().then(function(){var F;if(!(g.Sm && g.Sm.generateKey && g.Sm.importKey && g.Sm.unwrapKey))throw new q.default(r.default.zA,"No WebCrypto");F=g.Sm.generateKey({name:"AES-CBC",length:128},!0,p.ND.aea);(0,f.nXa)("function" === typeof F.then?f.Qb.sq:f.Qb.Wr);z("mslisik");return f.Cg.importKey("spki",x.serverIdentityKeyData,m.Fe.y2,!1,["verify"]);}).then(function(F){return new Promise(function(H,E){new k.rfa(F,{result:H,error:function(){E(new q.default(r.default.NQb,"Unable to create server identity verification key"));}});});}).then(function(F){B=F;z("mslcc");return (0,c.I6b)(x);}).then(function(F){var H;C=new w.default(A,x.esn,F.PB,F.a9b,x.authenticationKeyNames.s,x.systemKeyWrapFormat);D=new u.default(C,x.serverIdentityId,B,F.ldc,F.kdc,F.Ppc);H=x.storeState;if(H)return (z("mslss"),A.info("Loading store state"),new Promise(function(E){C.Drc(x,D,H,{result:E,timeout:E,error:E});}));A.info("No store state, starting fresh");}).then(function(){var F;F=new e.$7a(void 0,new n());z("msldone");y.result(new v.default(A,F,D,C,x.ErrorSubCodes));}).catch(function(F){y.error(F);});};c=a(24354);g=a(22365);f=a(50441);e=a(84898);h=a(61368);l=a(34801);k=a(42486);m=a(96837);p=a(10558);r=a(36114);q=a(1966);u=a(49614);v=a(41292);w=a(74810);Ia(n,h.Tza);n.prototype.eJa=function(x,y,A,z,B,C){new d(x,y,A,z,B,C);};Ia(d,l.Mea);d.prototype.c7=function(){return "function" === typeof this.hs.c7?this.hs.c7() || ({}):{};};b.VPb=d;},46493:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);n=a(62807);c=a(80824);g=a(50040);f=a(1481);e=a(29204);h=a(33096);l=a(36129);k=a(45146);m=a(31276);p=a(77134);r=a(63156);q=a(17892);u=a(3887);v=a(22365);w=a(52569);x=a(45842);y=a(5021);t=a(11479);A=a(50681);z=a(59219);B=a(32934);C=a(71501);D=a(65799);F=a(8129);H={};E=m.Pa.get(t.Fj);E.register(l.aa.j5a,function(G){var L,O,J,Q,P,S,Y,X,T,U,Z;function K(aa){var da;aa && aa.userList && e.config.zHc && (aa.userList=[]);da=new n.gdb();c.Mza.Se(da);aa={esn:f.Un.Li,esnPrefix:f.Un.Ds,authenticationKeyNames:e.config.L1b,systemKeyWrapFormat:e.config.gKc,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:U,storeState:aa,notifyMilestone:E.Kg.bind(E),log:J,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:l.W.g7a,MSL_READ_TIMEOUT:l.W.f7a}};(0,D.p9b)(aa,{result:function(fa){N(fa);},timeout:function(){G({Ma:l.W.e7a});},error:function(fa){G(I(l.W.e7a,void 0,fa));}});}function N(aa){var fa,ma,R;function da(){T && m.Pa.get(q.PG).create().then(function(M){return M.save(S,R,!1);}).catch(function(M){J.error("Error persisting msl store",(0,l.pD)(M));});}fa=this;ma=m.Pa.get(x.rH)((0,y.ac)(100));P && aa.$Zb(function(M){R=M.eJc;ma.Vf(da);});(0,u.uf)(H,{z_c:function(){X=!0;},send:function(M){function V(){var ba,ha;ba=M.eQ;ha={method:M.method,nonReplayable:M.fzb,encrypted:M.Ny,userId:M.ZKb,body:M.body,timeout:2 * M.timeout,url:new F.V4a(M),allowTokenRefresh:T,sendUserAuthIfRequired:Z,shouldSendUserAuthData:e.config.IHc};ba.email?(ha.email=ba.email,ha.password=ba.password || ""):X && (ha.useNetflixUserAuthData=!0);return ha;}return new Promise(function(ba,ha){var ca;ca=V();aa.send(ca).then(function(la){X && (X=!1);ba({body:la.body,headers:la.headers});}).catch(function(la){la.error?ha(I(la.error.cadmiumResponse && la.error.cadmiumResponse.Ma?la.error.cadmiumResponse.Ma:aa.qoc(la.error)?l.W.d7a:aa.poc(la.error)?l.W.DRb:l.W.CRb,aa.Hhc(la.error),la.error)):(J.error("Unknown MSL error",la),la.subCode=la.subCode,ha({Ma:la.subCode?la.subCode:l.W.IRb}));});});},dQ:aa});z.wM.EU.mslFetch=function(M,V){return d.__awaiter(fa,void 0,void 0,function ha(){var ca,la,ra;return Ta(ha,function(ta){if(1 == ta.oo)return (ca=m.Pa.get(C.xT),ab(ta,H.send({eQ:{Je:m.Pa.get(B.AA),profile:ca},timeout:8E3,url:M.toString(),body:null === V || void 0 === V?void 0:V.body,headers:{"Content-Encoding":"msl_v1","Content-Type":"application/json"},ZKb:ca,pDc:!1,fzb:!0,Ny:!0}),2));la=ta.rS;ra={get body() {this.bodyUsed=!0;return la.body;}};return ta.return((ra.bodyUsed=!1,ra.ok=!0,ra.status=200,ra.statusText="OK",ra.type="basic",ra.url=M.toString(),ra.headers=new Headers(la.headers),ra.text=function(){return Promise.resolve(this.body);},ra.json=function(){return Promise.resolve(JSON.parse(this.body));},ra.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},ra.clone=function(){return Object.assign({},this);},ra.blob=function(){return this.arrayBuffer().then(function(ja){return new Blob([ja]);});},ra.formData=function(){throw Error("Not implemented");},ra.redirected=!1,ra));});});};G(h.Jj);m.Pa.get(A.Lza).xuc(H);}function I(aa,da,fa){var ma,R,M,V;M={Ma:aa,Bka:da};if(fa){V=function(ba){var ha;ba=ba || "" + fa;if(fa.stack){ha="" + fa.stack;ba=0 <= ha.indexOf(ba)?ha:ba + ha;}return ba;};if(R=fa.cadmiumResponse){if(ma=R.yg && R.yg.toString())R.yg=ma;R.Ma=aa;R.Bka=da;R.df=V(fa.message);R.error={subCode:aa,extCode:ma,PF:da,data:fa.cause,message:fa.message};return R;}V=V(fa.errorMessage);ma=(0,u.jl)(fa.h8) || (0,u.jl)(fa.error && fa.error.h8);R=void 0 !== fa.l6?(0,w.Ezb)(fa.l6):void 0;}V && (M.df=V);ma && (M.yg=ma);M.error={subCode:aa,extCode:ma.toString(),PF:da,data:R,message:V};return M;}(0,k.qa)(e.config);if(v.iH && v.Sm && v.Sm.unwrapKey){L=m.Pa.get(p.IT);O=r.It.Km;J=(0,m.bm)("Msl");Q=e.config.tuc;P=e.config.vuc;S=e.config.RE?"mslstoretest":"mslstore";Y=g.ER.WFb;X=!0;T=!Y || Y.success;U=(0,m.oE)(e.config.RE?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Z=!!e.config.CWa;m.Pa.get(q.PG).create().then(function(aa){Q?aa.remove(S).then(function(){K();}).catch(function(da){J.error("Unable to delete MSL store",(0,l.pD)(da));K();}):P?aa.load(S).then(function(da){L.mark(O.FRb);K(da.value);}).catch(function(da){da.Ma == l.W.FD?(L.mark(O.HRb),K()):(J.error("Error loading msl store",(0,l.pD)(da)),L.mark(O.GRb),aa.remove(S).then(function(){K();}).catch(function(fa){G(fa);}));}):K();}).catch(function(aa){J.error("Error creating app storage while loading msl store",(0,l.pD)(aa));G(aa);});}else G({Ma:l.W.ERb});});},78719:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.wPb=function(e,h){function l(m){var p,r;p=m.error || m;r=(0,c.Mi)(p);h.error("uncaught exception",p,r);(p=(p=p && p.stack) && d.config.TJb && d.config.PLc?0 <= p.indexOf(d.config.TJb):void 0) && (m && m.stopImmediatePropagation && m.stopImmediatePropagation(),e.Pf(g.aa.wcb));}function k(){n.oe.removeListener(n.lma,l);e.removeEventListener(f.ha.Tg,k);e.removeEventListener(f.ha.Pz,k);}try{n.oe.addListener(n.lma,l);e.addEventListener(f.ha.Tg,k);d.config.Smc && e.addEventListener(f.ha.Pz,k);}catch(m){h.error("exception in exception handler ",m);}};d=a(29204);n=a(37509);c=a(3887);g=a(36129);f=a(85001);},42654:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.GQb=function(m){var r,q,u,v;function p(){m.state.value !== h.xc.mf || m.Tb.value !== h.Gb.gi && m.Tb.value !== h.Gb.Iv?q.yt():q.FI();}r=d.config.Byc;if(!m.sX() && r){q=l.Pa.get(k.M2)(r,function(){m.fireEvent(h.ha.aX,c.aa.cfa);});m.Tb.addListener(p);m.state.addListener(p);if(d.config.VOa){u=(0,n.qw)();v=new g.iab(d.config.VOa,function(){var w,x;w=(0,n.qw)();x=w - u;x > r && (m.fireEvent(h.ha.aX,c.aa.rea),v.Fjb());x > 2 * d.config.VOa && (m.WOa=(0,f.Sx)(x,m.WOa || 0));u=w;});v.cHc();}m.addEventListener(h.ha.Tg,function(){q.yt();(0,e.$c)(v) && v.Fjb();});}};d=a(29204);n=a(24066);c=a(36129);g=a(981);f=a(22365);e=a(32687);h=a(85001);l=a(31276);k=a(4246);},33059:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x;function d(y,A){this.j=y;this.Ik=A;this.$Jc=!1;this.log=(0,g.bn)(this.j,"MediaAppendManager");this.kc=this.j.kc;this.Ga=this.kc.Ga;this.Vca=this.z4=!1;this.audio={type:c.Jm.audio,uw:[],mo:[],MY:!1};this.video={type:c.Jm.video,uw:[],mo:[],MY:!1};y={};this.ZR=(y[v.v.V]=this.video,y[v.v.X]=this.audio,y);this.closed=!1;this.GF=n.config.GF;this.Joa=n.config.Joa;this.dK=this.j.jb.Ag?n.config.hTa:n.config.dK;this.Rhb=!0;this.wd=g.Pa.get("Base64EncoderSymbol");this.GLa=!1;(0,e.qa)(this.GF > this.Joa,"bad config");(0,e.qa)(this.GF > this.dK,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.u7a=void 0;n=a(29204);c=a(51344);g=a(31276);f=a(36129);e=a(45146);h=a(3887);l=a(33096);k=a(85001);m=a(93294);p=a(5021);r=a(63156);q=a(75568);u=a(69931);v=a(26388);w=a(79048);x=a(22210);d.prototype.BW=function(){var z,B;function y(C,D){return A(C,D.SJ);}function A(C,D){var F,H,E,G;E=!!D.response;G=D.response;if(D.gf)return C + (G.byteLength || 0);D=(null !== (F=null === D || void 0 === D?void 0:D.Lia) && void 0 !== F?F:0) - (null !== (H=null === D || void 0 === D?void 0:D.Mia) && void 0 !== H?H:0);return (E?G.byteLength:D) + C;}z=this.ZR[v.v.V];B=this.ZR[v.v.X];return {videoToAppend:z.mo.reduce(A,0),videoInBuffer:z.uw.reduce(y,0),audioToAppend:B.mo.reduce(A,0),audioInBuffer:B.uw.reduce(y,0)};};d.prototype.DW=function(){return {audioBufferedSegments:this.audio.uw.map(function(y){return [y.SJ.tK,y.SJ.sC];}),videoBufferedSegments:this.video.uw.map(function(y){return [y.SJ.tK,y.SJ.sC];})};};d.prototype.wvc=function(){this.audio.Bd && !this.audio.Bd.nj() && (!1,this.audio.Bd.bhb(new Uint8Array([0,0,0,8,102,114,101,101])));};d.prototype.UGc=function(){this.audio.rXa=!0;this.video.rXa=!0;};d.prototype.YGc=function(y){y === v.v.X?this.z4=!0:y === v.v.V && (this.Vca=!0);};d.prototype.nj=function(){var y,A;return !(null === (y=this.audio.Bd) || void 0 === y || !y.nj()) || !(null === (A=this.video.Bd) || void 0 === A || !A.nj());};d.prototype.jba=function(y){var A,z;null === (A=this.audio.Bd) || void 0 === A?void 0:A.jba(y);null === (z=this.video.Bd) || void 0 === z?void 0:z.jba(y);};d.prototype.A0b=function(y){var A;y.mediaType === v.v.X?this.z4=!1:y.mediaType === v.v.V && (this.Vca=!1);A=this.ZR[y.mediaType];A?A.mo.push(y):(0,e.qa)(!1);};d.prototype.z0b=function(y,A,z){A=this.wib(y.mediaType,A,z);this.GLa || y.mediaType !== v.v.V || (this.iAc(y,z.profile),this.GLa=!0);this.chb(A);};d.prototype.chb=function(y){var A;A=this.ZR[y.mediaType];A?A.mo.push(y):(0,e.qa)(!1);};d.prototype.wib=function(y,A,z){return {mediaType:y,lz:!1,response:A,ti:function(){return "header";},get gf() {return !this.lz;},profile:z.profile};};d.prototype.iAc=function(y,A){(0,e.qa)(!!y.xHb,"startOfSegment properties need to be set before first header is appended");this.GLa || !n.config.epb || !this.j.qma() && !this.j.mF() || y.xHb.lub || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.Dhc(A),this.chb(this.wib(v.v.V,y.data,{profile:y.profile})));};d.prototype.Dhc=function(y){var A;A=y;x.ie.Mk.test(y)?y=l.R0a:x.ie.Nk.test(y)?y=l.T0a:x.ie.wxa.test(y)?y=l.S0a:(A=q.H.qD,y=l.Q0a);return {data:this.wd.decode(y),profile:A};};d.prototype.XGc=function(y){var A;A=this.ZR[y.type];if(A)try{A.Bd=y;}catch(z){this.Pf(f.aa.pAa,{Ma:(0,m.AMa)(y.type),df:(0,h.Mi)(z)});}};d.prototype.close=function(){this.Ga=this.kc=void 0;this.closed=!0;};d.prototype.Pf=function(y,A,z){this.closed || this.j.Pf(y,A,z);};d.prototype.JJa=function(y){return this.Emb(this.audio,y,this.Dja()) && this.Emb(this.video,y,this.Dja());};d.prototype.Dja=function(){return this.j.Tb.value === k.Gb.Qg?this.dK:this.Joa;};d.prototype.RKc=function(){var y,A;y=this.video.mo.filter(function(z){return !z.gf;}).reduce(function(z,B){return z + B.Ig;},0);A=this.audio.mo.filter(function(z){return !z.gf;}).reduce(function(z,B){return z + B.Ig;},0);return Math.min(y,A);};d.prototype.Emb=function(y,A,z){var B;B=y.KJa;B=B && B.SJ;return !y.Bd || 0 === y.mo.length && (y.type === c.Jm.audio && this.z4 || y.type === c.Jm.video && this.Vca)?!0:B && B.sC - A >= z || !1;};d.prototype.GJb=function(y){this.$Jc || (this.FJb(this.audio,y),this.FJb(this.video,y));this.closed || this.ejb();};d.prototype.ejb=function(){var y,A,z,B,C,D;B=!this.audio.Bd || 0 !== this.audio.uw.length;C=0 === this.video.mo.length && this.Vca;D=!this.video.Bd || 0 !== this.video.uw.length;!(0 === this.audio.mo.length && this.z4 && D || C && B) || (null === (y=this.audio.Bd) || void 0 === y?0:y.nj()) || (null === (A=this.video.Bd) || void 0 === A?0:A.nj()) || this.OKa || !(this.Ga.readyState > r.It.aH.HAVE_NOTHING) || this.Ik.z8 || (this.OKa=!0,null === (z=this.kc) || void 0 === z?void 0:z.endOfStream());};d.prototype.FJb=function(y,A){var z,B,C,D;if(!this.closed && y.Bd){B=y.Bd;C=y.uw;!B.nj() && 0 < C.length && (y.KJa=C[C.length - 1]);if(y.rXa){if(B.nj())return;y.rXa=!1;D=null === (z=this.kc) || void 0 === z?void 0:z.dNa().mUa(p.wa);D && 0 < D && B.remove(0,D / l.iq);}for(z=y.mo[0];z && z.response && (z.gf || z.tK - A <= this.GF);)if((this.OKa=!1,this.DLc(z)))(y.mo.shift(),z=y.mo[0]);else break;!B.nj() && 0 < C.length && (y.KJa=C[C.length - 1]);}};d.prototype.DLc=function(y){var A,z,B;!1;(0,e.qa)(y && !!y.response);A=y.response;z=y.mediaType;B=this.ZR[z];if(!this.closed && B.Bd && !B.Bd.nj()){try{y.gf && y.profile && B.Bd.v4b(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:A.byteLength});B.Bd.bhb(A,y);y.gf || B.uw.push(this.I8b(y));}catch(C){"QuotaExceededError" === C.name?(this.j.Fja=this.j.Fja?this.j.Fja + 1:1,this.Rhb=!1,B.MY=!0):(this.log.error("Exception while appending media",y,C),this.Pf("CodecSwitchingError" === C.name?f.aa.g9a:f.aa.zTb,(0,m.AMa)(z)));return;}return !0;}};d.prototype.A8b=function(y){var A;if(u.MCa[y.Jb])return u.MCa[y.Jb];A=this.j.xsb(y.Qc);A || (this.log.warn("Could not find CDN",{cdnId:y.Qc}),A={id:y.Qc,doa:y.location});return A;};d.prototype.oJa=function(y){var A,z;A=y.Jb;if(u.NCa[A])return u.NCa[A];y.mediaType === v.v.X?z=this.j.ssb(A):y.mediaType === v.v.V && (z=this.j.Msb(A));z || this.log.error("Could not find stream",{stream:A});return z;};d.prototype.I8b=function(y){var A,z,B,C;z=this.oJa(y);B={startTime:Math.floor(y.tK),endTime:Math.floor(y.sC),E6b:Math.floor(y.Oq),okb:Math.floor(y.Oq + y.Ig)};C=null === z || void 0 === z?void 0:z.track.Bp;"content" === C && (null === (A=this.j.Xa) || void 0 === A?0:A.li) && (A=this.j.Xa.li.$[y.L],A.type === w.Fd.Nc || A.type === w.Fd.Qa) && (C="ads");return {SJ:y,stream:z,bV:B,Kc:this.A8b(y),Bp:C};};d.prototype.YHa=function(y){this.ljb(y,v.v.X);this.ljb(y,v.v.V);};d.prototype.ljb=function(y,A){var z,B,C,D,F,H,E,G,K;z=this;C=y;this.Rhb && (C-=n.config.IF);D=this.ZR[A];F=D.uw;G=!1;F.some(function(N,I){var L;L=N.SJ;if(y < L.tK)return ((0,e.qa)(!1,"decoder content does not contain media time"),!0);C >= L.sC && (H=I);if(y < L.sC)return (E=I,I=A === v.v.X?z.j.Gf:z.j.Te,N !== I.value && (I.set(N),G=!0),!0);});if((D.MY || G) && void 0 !== H && !this.OKa){if(H + 1 === E){if(0 === H)return;H--;}K=H === F.length - 1?null === (B=this.kc) || void 0 === B?void 0:B.dNa().mUa(p.wa):F[H].SJ.sC - 1;!1;K && 0 < K && ((B=D.Bd) && !B.nj()?(B.remove(0,K / l.iq),D.MY=!1,F.splice(0,H + 1)):(D.MY=!0,!1));}};d.prototype.qEb=function(){!1;[this.audio,this.video].forEach(function(y){y.uw=[];y.KJa=void 0;y.mo=[];});this.Vca=this.z4=!1;this.j.fireEvent(k.ha.E9);};d.prototype.WNa=function(){return [this.audio,this.video].filter(function(y){return y.Bd;});};d.prototype.Mgc=function(){var y,A;if(this.nj())(0,e.qa)(!1,"should not be busy while checking buffer ranges");else {y=this.WNa().map(function(z){var B,C,D,F,H;F=z.mo.filter(function(E){return E.lz;});H=z.Bd.buffered();z=H.length?Math.ceil(1E3 * H.start(0)):void 0;H=H.length?Math.floor(1E3 * H.end(H.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (B=F[0]) || void 0 === B?void 0:B.tK;B=null !== (D=null === (C=F[F.length - 1]) || void 0 === C?void 0:C.sC) && void 0 !== D?D:H;if(void 0 !== z && void 0 !== B)return {start:z,end:B};});if(y.every(function(z){return z;})){A=Math.max.apply(Math,za(y.map(function(z){return z.start;})));y=Math.min.apply(Math,za(y.map(function(z){return z.end;})));if(y > A)return {start:(0,p.ac)(A),end:(0,p.ac)(y)};}}};d.prototype.skip=function(y){(0,e.qa)(!this.nj(),"should not be busy while skipping");this.WNa().forEach(function(A){A.MY=!0;});this.YHa(y);this.WNa().forEach(function(A){0 < A.uw.length || (A.mo=A.mo.filter(function(z){return z.gf || z.sC > y?!0:!1;}));});};b.u7a=d;},90762:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q,u;function d(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function n(v,w,x,y){var A,z;A=this;this.j=v;this.type=w;this.log=y;this.Nga=new f.tc(!1);this.FM={data:void 0,state:"",operation:""};this.error=void 0;this.mimeType=this.aob((this.type === u.v.V?this.j.ja.sh:this.j.ja.Vd).streams);this.Kl=new e.Bl();this.HEa={Type:this.type};if(g.config.BX){z=!0;this.FLa=new f.tc(!1);}this.log.trace("Adding source buffer",this.HEa,{TypeId:this.mimeType});this.Tk=x.addSourceBuffer(this.mimeType);this.Tk.addEventListener("updatestart",function(){!1;A.FM.state="updatestart";});this.Tk.addEventListener("update",function(){!1;A.FM.state="update";});this.Tk.addEventListener("updateend",function(){var B;!1;A.Nga.set(!1);A.Edb && A.Edb();A.FM.state="updateend";B=0;try{B=A.Tk.buffered.length;}catch(C){}z && B && (z=!1,A.FLa.set(!0),!1);});this.Tk.addEventListener("error",function(B){var C;!1;try{C=B.target.error && B.target.error.message;(B.message || C) && y.error("error event received on sourcebuffer",{mediaErrorMessage:B.message});}catch(D){}B={Ma:(0,c.AMa)(A.type),df:A.yla()};v.Pf(l.aa.ATb,B);});this.Tk.addEventListener("abort",function(){!1;});v.addEventListener(p.ha.closed,function(){A.Tk=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.ZNb=b.qza=void 0;c=a(93294);g=a(29204);f=a(81734);e=a(94886);h=a(31276);a(24550);l=a(36129);a(5021);k=a(45146);m=a(32687);p=a(85001);r=a(95162);q=a(48220);u=a(26388);n.prototype.nj=function(){return this.Nga.value;};n.prototype.updating=function(){return this.Tk?this.Tk.updating:!1;};n.prototype.jba=function(v){this.Edb=v;};n.prototype.yla=function(){return this.FM;};n.prototype.buffered=function(){return this.Tk.buffered;};n.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};n.prototype.toJSON=function(){return {type:this.type};};n.prototype.oMa=function(){var v,y,A;try{v=this.Tk.buffered;if(v){for(var w=[],x=0;x < v.length;x++){y=1E3 * v.start(x);A=1E3 * v.end(x);(0,k.qa)(A > y);w.push({start:y,end:A});}return w;}}catch(z){}};n.prototype.rla=function(){var v,w;v=this.oMa();if(v){v=v.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});w=v.reduce(function(x,y){return x + y.end - y.start;},0);v=v.map(function(x){return x.start + "-" + x.end;});return {Buffered:w.toFixed(3),Ranges:v.join("|")};}};n.prototype.bhb=function(v,w){var x;!1;try{(0,k.qa)(this.Tk.buffered && 1 >= this.Tk.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.rla()));}catch(y){}(0,k.qa)(!this.nj());x=w && w.eaa / 1E3;(0,m.ec)(x) && this.Tk.timestampOffset !== x && (!1,this.zsa("timestampOffset",x),this.Tk.timestampOffset=x);this.zsa((null === w || void 0 === w?0:w.gf)?"headerappend":"mediaappend");this.Tk.appendBuffer(v);!1;this.Nga.set(!0);};n.prototype.remove=function(v,w){(0,k.qa)(!this.nj());try{this.zsa("remove");!1;this.Tk.remove(v,w);this.Nga.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.HEa);}};n.prototype.zsa=function(v,w){this.FM.data=w;this.FM.state="init";this.FM.operation=v;};n.prototype.CGb=function(v,w){this.mqc=v / w * 1E3;};n.prototype.v4b=function(v){var w;if(this.Tk){if((v=this.aob([{type:this.D6b,me:v}]),v !== this.mimeType)){w=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Tk.changeType)throw new d("Platform doesnt support changing SourceBuffer mime-type");try{this.zsa("changeType",v);this.Tk.changeType(v);this.mimeType=v;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.HEa,{From:w,To:v}),new d(x.message));}}}else this.log.info("No SourceBuffer");};n.prototype.appendBuffer=function(v,w){!w || w.gf?this.zU(v,w):this.IGa(v,w);return !0;};n.prototype.zU=function(v,w){this.j.Qd.zU(this,v,w || ({}));};n.prototype.IGa=function(v,w){v=this.w6b(v,w);!1;this.j.Qd.IGa(v);};n.prototype.w6b=function(v,w){var x;x=this.mqc || 0;return {ti:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:q.ae.Md.DONE,tK:w.Db,sC:w.Db + w.duration,Ig:w.duration,eaa:x,Oq:w.Oq,L:w.L,Jb:w.Jb,Qc:+w.Qc,location:w.location,Mia:w.offset,Lia:w.offset + w.ka - 1,bitrate:w.bitrate,response:v,Ylc:v && 0 < v.byteLength,lz:!0,get gf() {return !this.lz;},uFb:this.e3 - Math.floor(x) || Infinity,toJSON:function(){var y;y={requestId:this.requestId,segmentId:this.L,isHeader:this.gf,ptsStart:this.tK,ptsOffset:this.eaa,responseType:this.GVc,duration:this.Ig,readystate:this.dg};this.stream && (y.bitrate=this.stream.bitrate);return JSON.stringify(y);}};};n.prototype.endOfStream=function(){var v;this.j.pN("EndOfStream");null === (v=this.j.Qd) || void 0 === v?void 0:v.tpa(this.mediaType);return !0;};n.prototype.wHb=function(v){this.TYb=v;};n.prototype.addEventListener=function(v,w,x){this.Kl.addListener(v,w,x);};n.prototype.removeEventListener=function(v,w){this.Kl.removeListener(v,w);};n.prototype.aob=function(v){var w;w=h.Pa.get(r.HCa);return this.type === u.v.V?w.nlb(v):w.Fkb(v);};Ga.Object.defineProperties(n.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},xHb:{configurable:!0,enumerable:!0,get:function(){return this.TYb;}},D6b:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.qza=n;Ia(d,Error);b.ZNb=d;},73056:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N;function d(I,L){var O;O=this;this.j=I;this.Dtb=L;this.kc=this.j.kc;this.log=(0,l.bn)(this.j,"MediaPresenterASE");this.bpa=this.Eja=0;this.Ga=this.kc.Ga;this.WF=new K.Pcb(this.Ga,this.j);this.BBb=this.oBb=this.sna=this.UTa=!1;this.Tna=new Set();this.eKc=l.Pa.get(z.rH)((0,A.ac)(x.mCa));this.BU=void 0;this.Ik=l.Pa.get(C.Uab)(this.j);this.UC={};this.Ixb={};this.F7={};this.ll={};this.DV={};this.uVa={};this.ih=new F.u7a(this.j,this.Ik);this.SJb=0;this.Cub=!1;this.cKc=function(){var J,Q,P;O.j.Uba=(0,h.qw)();if(!O.vp() && O.kJ){J=O.kc.Hrb();J || (O.Kyc(),O.ih.GJb(O.mediaTime));O.j.paused.value || !O.ih.JJa(O.mediaTime) || !O.uHa() || J || O.Ik.z8?O.YVa():O.UTa || O.ZVa();O.Jyc();if(!(O.kc.Hrb() || O.sna || O.Cub)){J=O.kc.dF(!0);Q=O.j.Tb.value;P=O.g6b();Q !== P && !1;P === v.Gb.Iv?(O.mediaTime=O.j.yr.la(A.wa),O.YVa()):P !== v.Gb.Qg && O.xMc(J);O.tKb();O.ih.YHa(O.mediaTime);O.j.Tb.set(P);P !== v.Gb.Qg || Q !== v.Gb.bg && Q !== v.Gb.gi || O.USa();}}};this.wn=(0,D.nBc)(this.cKc);this.mediaTime=this.Dtb;this.j.ij=!1;this.kc.addEventListener(y.Ok.lHb,function(){if(O.nHb){O.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{O.Sb();}catch(J){O.log.error("Exception while initializing",J);O.Pf(k.aa.mTb);}}});this.kc.addEventListener(y.Ok.dwb,function(J){J=J.J;O.nHb?O.Uzb(J):O.Tna.add(J);});}Object.defineProperty(b,"__esModule",{value:!0});b.vza=void 0;n=a(33096);c=a(29204);g=a(13044);f=a(37509);e=a(52569);h=a(24066);l=a(31276);a(24550);k=a(36129);m=a(91591);p=a(45146);r=a(8825);q=a(3887);u=a(32219);v=a(85001);w=a(32687);x=a(93294);y=a(16520);A=a(5021);z=a(45842);B=a(4246);C=a(65106);D=a(97368);F=a(33059);H=a(91562);E=a(22365);G=a(26388);K=a(49587);N=a(63156);d.prototype.xBc=function(I){this.WF.paused?(I=Math.ceil(I.Anc),I > (this.Ik.Lz?this.Ik.Lz.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",I),this.Ik.Lz?this.Ik.Lz.time=I:this.Lxb=I)):this.log.error("Unexpected setMediaTime while not paused, ignoring");};d.prototype.iqb=function(){return this.kc.dF(!1);};d.prototype.Ala=function(){return this.kc.Ala();};d.prototype.Ty=function(){return this.kc.Ty();};d.prototype.SO=function(){return this.kc.SO();};d.prototype.W6=function(){return this.kc.W6();};d.prototype.Sb=function(){var I,L;I=this;this.log.trace("Video element initializing");this.kc.sourceBuffers.forEach(function(O){return I.ih.XGc(O);});this.j.wP?this.log.trace("Waiting for encrypted"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.R}),null === (L=this.j.Xa) || void 0 === L?void 0:L.hka(this.j.R));0 < this.Tna.size && setTimeout(function(){I.log.trace("Notifying about licenses that were added before source buffers created");Array.from(I.Tna).forEach(function(O){I.Tna.delete(O);I.Uzb(O);});},0);this.log.trace("Waiting for loadedmetadata");(0,e.C_b)(this.Ga,"loadedmetadata",function(){I.log.trace("Video element event: loadedmetadata");I.j.Kg("md");});f.oe.addListener(f.cn,this.F7[f.cn]=function(){return I.close();},n.qT);this.j.addEventListener(v.ha.Tg,this.ll[v.ha.Tg]=function(){return I.close();},n.qT);this.j.addEventListener(v.ha.Kaa,this.ll[v.ha.Kaa]=function(){return I.close();});this.j.addEventListener(v.ha.Paa,this.ll[v.ha.Paa]=function(){return I.ZVa();});this.j.addEventListener(v.ha.WB,this.ll[v.ha.WB]=function(){return I.twc();});this.j.paused.addListener(this.ll.paused=function(){return I.wn();});this.j.muted.addListener(this.ll.muted=function(){return I.zZa();});this.j.volume.addListener(this.ll.volume=function(){return I.zZa();});this.j.playbackRate.addListener(this.ll.playbackRate=function(){return I.F_();});this.j.qs.addListener(this.ll.avBufferingState=function(){return I.wn();});this.j.Bm.addListener(this.ll.textBufferingState=function(){return I.wn();});this.zZa();this.F_();this.ih.jba(function(){return I.yoa();});this.yoa();this.wLc();};d.prototype.Uzb=function(I){var L;this.j.Kg("ld",I);null === (L=this.j.Xa) || void 0 === L?void 0:L.hka(I);this.j.fireEvent(v.ha.Sna);};d.prototype.IGa=function(I){var L;L=this;!1;this.ih.A0b(I);this.u4b(I).then(function(){L.yoa();L.j.fireEvent(v.ha.E9);}).catch(function(O){L.Pf(k.aa.rTb,{df:(0,q.Mi)(O)});});};d.prototype.zU=function(I,L,O){L=this.Jbc(I,L);this.ih.z0b(I,L,O);this.yoa();this.oBb || I.type !== G.v.V || (this.Ik.z8 || this.seek(this.Dtb,v.Dc.gq),this.oBb=!0);};d.prototype.wLc=function(){var I;I=this;this.kc.addEventListener(y.Ok.Xaa,this.UC[y.Ok.Xaa]=function(){return I.Rwc();});this.kc.addEventListener(y.Ok.zs,this.UC[y.Ok.zs]=function(){return I.Kpa();});this.Ga.addEventListener("ended",this.UC.ended=function(){return I.lwc();});this.Ga.addEventListener("play",this.UC.play=function(){return I.RSa();});this.Ga.addEventListener("pause",this.UC.pause=function(){return I.QSa();});this.Ga.addEventListener("playing",this.UC.playing=function(){return I.uY();});this.kJ=!0;this.ih.GJb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Kg("vi");c.config.dmb?setTimeout(function(){I.ASa=!0;I.wn();},c.config.dmb):this.ASa=!0;this.FIc();this.j.Fc.xa && this.GIc();(0,u.yh)(function(){return I.wn();});};d.prototype.FIc=function(){var O;function I(){var J;O.j.Tb.value !== v.Gb.bg || 0 !== (null === (J=O.j.Qd) || void 0 === J?void 0:J.Ala()) || E.fi.hidden?(O.czb.yt(),J="stopTimer"):(O.czb.FI(),J="ensureTimer");O.log.trace("No render timer update: " + J,{presentingState:v.Gb[O.j.Tb.value],hidden:E.fi.hidden});}function L(J){var Q,P;J=void 0 === J?!0:J;Q=O.j.Xa;P=(null === Q || void 0 === Q?void 0:Q.Mj) && Q.Csb();O.j.Tb.value == v.Gb.Qg && O.j.state.value == v.xc.mf && O.j.qs.value == v.Pg.mf && O.j.Bm.value == v.Pg.mf && !O.j.ij && P?(J && O.Gja.yt(),O.Gja.FI(),Q="ensureTimer"):(O.Gja.yt(),Q="stopTimer");O.log.trace("Timer update: " + Q,{presentingState:v.Gb[O.j.Tb.value],playbackState:v.xc[O.j.state.value],avBufferingState:v.Pg[O.j.qs.value],textBufferingState:v.Pg[O.j.Bm.value],autoplayWasBlocked:O.j.ij,hasLicense:P,restartTimer:J});}O=this;c.config.Plb && ((0,p.qa)(!this.Gja),this.Gja=l.Pa.get(B.M2)(c.config.Plb,function(){var J;J=l.Pa.get(m.lwa).qmb(O.j);O.Pf(J.code,J);}),this.DIc(L));c.config.bzb && (this.czb=l.Pa.get(B.M2)(c.config.bzb,function(){var J;0 === (null === (J=O.j.Qd) || void 0 === J?void 0:J.Ty()) && (J=l.Pa.get(m.lwa).qmb(O.j),O.Pf(J.code,J));O.KHb();}),this.EIc(I));};d.prototype.DIc=function(I){var J;function L(Q,P,S){S=void 0 === S?I:S;J.DV[P]=S;Q.addEventListener(P,S);}function O(Q,P,S){S=void 0 === S?I:S;J.DV[P]=S;Q.addListener(S);}J=this;O(this.j.qs,"avBufferingState");O(this.j.Tb,"presentingState");O(this.j.Bm,"textBufferingState");O(this.j.state,"state");L(this.j,v.ha.uia);L(this.j,v.ha.ij);L(this.j,v.ha.Sna);L(this.j,v.ha.gG,function(){return I(!0);});I();};d.prototype.YIc=function(){var O;function I(J,Q){var P;P=O.DV[Q];P && (J.removeEventListener(Q,P),delete O.DV[Q]);}function L(J,Q){var P;P=O.DV[Q];P && (J.removeListener(P),delete O.DV[Q]);}O=this;L(this.j.qs,"avBufferingState");L(this.j.Tb,"presentingState");L(this.j.Bm,"textBufferingState");L(this.j.state,"state");I(this.j,v.ha.uia);I(this.j,v.ha.ij);I(this.j,v.ha.Sna);I(this.j,v.ha.gG);};d.prototype.EIc=function(I){this.j.Tb.addListener(this.uVa.presentingState=I);f.oe.addListener(f.cr,this.F7[f.cr]=I);I();};d.prototype.KHb=function(){this.uVa.presentingState && this.j.Tb.removeListener(this.uVa.presentingState);f.oe.removeListener(f.cr,this.F7[f.cr]);};d.prototype.GIc=function(){var J;function I(){var Q,P,S,Y,X;S=O();if(S){Y=S.YUa;S=S.mediaType;X=null !== (P=null === (Q=J.Ga) || void 0 === Q?void 0:Q.readyState) && void 0 !== P?P:N.It.aH.HAVE_NOTHING;P=X < N.It.aH.HAVE_FUTURE_DATA;Q=L(Y,J.mediaTime);P && Q?(J.jla.FI(),P="ensureTimer"):(J.jla.yt(),P="stopTimer");J.log.trace("Gaps Monitor Timer update: " + P,{mediaType:S,mediaTime:J.mediaTime,bufferedRanges:JSON.stringify(Y),nextRange:JSON.stringify(Q),readyState:X});}else J.jla.yt();}function L(Q,P){return Q.find(function(S,Y){if(Math.abs(P - S.end) < Math.abs(P - S.start))return !1;S=S.end - S.start;return Y !== Q.length - 1 && 1E4 > S?!1:!0;});}function O(){var Q,P,S;S=J.kc.sourceBuffers.find(function(Y){return Y.mediaType === G.v.V;});S=null !== (Q=null === S || void 0 === S?void 0:S.oMa()) && void 0 !== Q?Q:[];Q=J.kc.sourceBuffers.find(function(Y){return Y.mediaType === G.v.X;});Q=c.config.juc?null !== (P=null === Q || void 0 === Q?void 0:Q.oMa()) && void 0 !== P?P:[]:[];if(1 < S.length)return {YUa:S,mediaType:"video"};if(1 < Q.length)return {YUa:Q,mediaType:"audio"};}J=this;c.config.upb && ((0,p.qa)(!this.jla),this.jla=l.Pa.get(B.M2)(c.config.upb,function(){var Q,P;Q=O();if(Q){Q=Q.YUa;P=L(Q,J.mediaTime);P && (J.log.error("Detected media gaps: seeking over gap",{seekPoint:P.start,ranges:JSON.stringify(Q)}),J.kc.bEc(),J.seek(P.start,v.Dc.Iea));}}),this.j.mediaTime.addListener(I),this.j.kc.addEventListener(y.Ok.jDb,I),this.j.addEventListener(v.ha.E9,I),I());};d.prototype.Jbc=function(I,L){var O;O=this.j.Zl;(O=null === O || void 0 === O?void 0:O.GW()) && I.type === G.v.V && ((I=new H.Q1(this.log,{mediaType:G.v.V,url:"http://some-url"},L).ma(O))?L=I:!1);return L;};d.prototype.yoa=function(){this.kJ && this.wn();this.ih.ejb();};d.prototype.RIc=function(){!1;this.j.Tb.set(v.Gb.Qg);this.sna=!0;this.wn();};d.prototype.c6b=function(){var I;I=this;this.sna && (!1,this.sna=!1,(0,u.yh)(function(){return I.seek(I.j.iF() || 0,v.Dc.L2);}));};d.prototype.IIc=function(){!1;this.Cub=!0;this.j.Tb.set(v.Gb.Qg);this.wn();};d.prototype.BW=function(){return this.ih.BW();};d.prototype.DW=function(){return this.ih.DW();};d.prototype.tpa=function(I){var L;L=this;this.ih.YGc(I);(0,u.yh)(function(){return L.wn();});};d.prototype.jic=function(){return {Eja:this.Eja,bpa:this.bpa};};d.prototype.u4b=function(I){var L;L=this.kc && this.kc.dNa();(0,p.qa)(this.j.yr,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.yr && L && (I=Infinity !== I.uFb && 0 < I.eaa?I.uFb + I.eaa:I.sC,I > this.j.yr.mUa(A.wa) && (!1,this.j.yr=(0,A.ac)(I)));return Promise.resolve();};d.prototype.Jyc=function(){var I,L;I=this;this.Ik.uqa && (!1,this.uHa() && this.ih.JJa(this.mediaTime) && (this.kc.seek(null !== (L=this.Lxb) && void 0 !== L?L:this.mediaTime),this.Lxb=void 0,this.Ik.uqa=!1,(0,u.yh)(function(){return I.wn();})));};d.prototype.xMc=function(I){var L,O;L=this;if(I < this.mediaTime){if(this.mediaTime - I > x.eab && (c.config.nBb || c.config.bRa)){this.SJb++;O={Trace:this.kc.Za.WW(),ElementTime:(0,r.Ij)(I),MediaTime:(0,r.Ij)(this.mediaTime)};c.config.nBb?this.Pf(k.aa.BTb,{df:O}):c.config.bRa && (this.kc.Za.trace("unexpected-rewind"),Ba.setTimeout(function(){L.log.error("UnexpectedRewind",O);},c.config.bRa));}}else this.mediaTime=(0,r.AD)(I,0,this.j.yr.la(A.wa));};d.prototype.uHa=function(){return this.j.qs.value === v.Pg.mf && this.j.Bm.value === v.Pg.mf;};d.prototype.g6b=function(){var I,L,O;I=this;L=this.j.Tb.value;O=L;this.Ik.z8?O=v.Gb.Qg:this.Ga && this.Ga.ended?L === v.Gb.bg && (O=v.Gb.Iv):this.uHa() && this.ih.JJa(this.mediaTime)?this.kc.Jac()?O=this.WF.paused?v.Gb.gi:v.Gb.bg:this.eKc.Vf(function(){return I.dKc();}):O=this.j.yr?this.j.zsb(this.mediaTime,this.ih.Dja())?v.Gb.Qg:v.Gb.Iv:v.Gb.Qg;return O;};d.prototype.USa=function(){var I;if(this.j.Tb.value === v.Gb.Qg){I=this.ih.RKc() > this.ih.Dja();this.j.Bm.value !== v.Pg.mf?this.j.nk.value?(this.j.fireEvent(v.ha.rE,{Ec:g.Y9a}),this.log.warn("rebuffer due to timed text",this.j.nk.value.ai)):this.j.fireEvent(v.ha.r_):I?(this.Eja++,this.j.fireEvent(v.ha.rE,{Ec:g.eBa})):(this.bpa++,this.j.fireEvent(v.ha.rE,{Ec:g.fBa}));}};d.prototype.dKc=function(){this.vp() || (c.config.xvc && this.ih.wvc(),this.wn());};d.prototype.Rwc=function(){this.wn();};d.prototype.Kpa=function(){this.wn();this.j.fireEvent(v.ha.zs);};d.prototype.lwc=function(){this.log.trace("Video element event: ended");this.wn();};d.prototype.RSa=function(){this.log.trace("Video element event: play");this.wn();};d.prototype.QSa=function(){this.log.trace("Video element event: pause");this.WF.QSa();this.wn();};d.prototype.uY=function(){this.log.trace("Video element event: playing");this.WF.RSa();this.wn();};d.prototype.zZa=function(){this.vp() || (this.Ga && this.Ga.volume !== this.j.volume.value && (this.Ga.volume=this.j.volume.value),this.Ga && this.Ga.muted !== this.j.muted.value && (this.Ga.muted=this.j.muted.value));};d.prototype.F_=function(){!this.vp() && this.Ga && (this.Ga.playbackRate=this.j.playbackRate.value);};d.prototype.ZVa=function(){var I;I=this;!this.vp() && (0,w.$c)(this.Ga) && !this.Ga.ended && this.ASa && this.WF.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.WF.play()).then(function(){I.closed || (I.UTa=!1,I.Ga.style.display=null,I.j.ij=!1,I.j.fireEvent(v.ha.uia));}).catch(function(L){"NotAllowedError" === L.name?(I.log.warn("Playback is blocked by the browser settings",L),I.j.ij=!0,I.closed || (I.UTa=!0,I.Ga.style.display="none",I.j.fireEvent(v.ha.ij,{player:{play:function(){return I.ZVa();}}}))):I.closed || I.BBb || (I.BBb=!0,I.log.error("Play promise rejected",L));}));};d.prototype.twc=function(){this.Ik.Ovb=this.j.iF() || 0;};d.prototype.YVa=function(){this.vp() || !(0,w.$c)(this.Ga) || this.Ga.ended || !this.ASa || this.WF.paused || (this.log.trace("Calling pause on element"),this.WF.pause());};d.prototype.tKb=function(I){this.j.mediaTime.set(this.mediaTime);I && this.j.hfc();};d.prototype.seek=function(I,L,O,J){var Q,P,S,Y,X;O=void 0 === O?this.j.L:O;J=void 0 === J?!1:J;X=null === (Q=this.j.Xa) || void 0 === Q?void 0:Q.Mj;!this.vp() && X && (Q=null !== (Y=null === (S=null === (P=this.j.U) || void 0 === P?void 0:P.ya.Ti) || void 0 === S?void 0:S.xmb) && void 0 !== Y?Y:!1,this.j.Fc.xa && !1 === Q && 0 === I && this.log.error("Unexpected seek to 0 for the live playback",Error().stack),this.j.fireEvent(v.ha.gG,{Ec:L}),this.Ik.Lz={time:I,Ec:L,L:O,tfc:J},this.j.Tb.set(v.Gb.Qg),this.wn());};d.prototype.Kyc=function(){var I,L,O,J,Q,P,S,Y;if(this.Ik.Lz){I=this.Ik.Lz;L=I.time;O=I.Ec;J=I.L;Q=I.tfc;if(!this.ih.nj() || O === v.Dc.gq){I=this.j.el(J).R;P=this.ih.nj()?void 0:this.ih.Mgc();P=this.Ik.Zic(L,O,J,Q,P);J=P.gpa;Q=P.Oq;S=P.ozc;P=P.sk;this.ih.YHa(this.mediaTime);Y=this.mediaTime;L=(0,r.Ij)(L);this.j.pN("SEEKING: Requested: (" + I + ":" + O + ":" + L + ") - Actual: (contentPts: " + Q + ",playerPts: " + (S + ", newMediaTime: " + J + ")"));this.log.info("Seeking",{Requested:L,Actual:(0,r.Ij)(J),Cause:O,Skip:P});O === v.Dc.gq || P || (this.ih.qEb(),this.ih.UGc());this.mediaTime=J;this.Ik.Ovb=Q;L=this.j.Gf.value;S=this.j.Te.value;this.j.Gf.set(null);this.j.Te.set(null);this.tKb(!0);this.Ik.Lz=void 0;this.Ik.uqa=!0;this.j.fireEvent(v.ha.qm,{BSa:Y,gpa:J,Oq:Q,Ec:O,skip:P,Gf:L,Te:S,R:I});P && this.ih.skip(J);}}};d.prototype.Pf=function(I,L,O){this.closed || this.j.Pf(I,L,O);};d.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.ih.close();this.YIc();this.KHb();this.kc.removeEventListener(y.Ok.Xaa,this.Ixb[y.Ok.Xaa]);this.kc.removeEventListener(y.Ok.zs,this.Ixb[y.Ok.zs]);this.Ga.removeEventListener("ended",this.UC.ended);this.Ga.removeEventListener("play",this.UC.play);this.Ga.removeEventListener("pause",this.UC.pause);this.Ga.removeEventListener("playing",this.UC.playing);this.WF.close();f.oe.removeListener(f.cn,this.F7[f.cn]);f.oe.removeListener(f.cr,this.F7[f.cr]);this.j.removeEventListener(v.ha.Tg,this.ll[v.ha.Tg]);this.j.removeEventListener(v.ha.Kaa,this.ll[v.ha.Kaa]);this.j.removeEventListener(v.ha.Paa,this.ll[v.ha.Paa]);this.j.removeEventListener(v.ha.WB,this.ll[v.ha.WB]);this.j.paused.removeListener(this.ll.paused);this.j.muted.removeListener(this.ll.muted);this.j.volume.removeListener(this.ll.volume);this.j.playbackRate.removeListener(this.ll.playbackRate);this.j.qs.removeListener(this.ll.avBufferingState);this.j.Bm.removeListener(this.ll.textBufferingState);this.ih.jba(function(){});this.closed=!0;try{this.Ga.volume=0;this.Ga.muted=!0;this.YVa();this.kc.close();}catch(I){}this.Ga=void 0;this.ih.qEb();}};d.prototype.vp=function(){return this.closed?!0:(0,w.$c)(this.Ga)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Ga.Object.defineProperties(d.prototype,{nHb:{configurable:!0,enumerable:!0,get:function(){var I,L;I=this;return !(null === (L=this.j.Xa) || void 0 === L || !L.jh) && [].concat(za(this.j.Xa.jh)).every(function(O){return I.kc.sourceBuffers.find(function(J){return J.mediaType === O;});});}},Lz:{configurable:!0,enumerable:!0,get:function(){return this.Ik.z8;}}});b.vza=d;},93294:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.eab=b.mCa=void 0;b.AMa=function(c){return c === d.v.X?n.W.bza:n.W.cza;};d=a(26388);n=a(36129);b.mCa=50;b.eab=1E3;},53754:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m){var r,q;function p(){r.N3=new l.ecb();return r.N3;}(0,n.bm)("MediaSourceASE").trace("Inside MediaSourceASE");r=this;q=m.Ric();r.zeb=q;r.readyState=k.Md.CLOSED;r.addSourceBuffer=function(u){return u === h.v.Aa?p():q.addSourceBuffer(u);};r.h4=function(u){u.includes(h.v.Aa) && p();return q.h4(u);};r.removeSourceBuffer=function(u){if(u.mediaType === h.v.Aa)r.N3=void 0;else return ((0,e.qa)(u.mediaType === h.v.Aa,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),q.removeSourceBuffer(u));};r.Cs=function(u){r.N3=void 0;q.Cs(u);};r.duration=void 0;this.readyState=k.Md.OPEN;this.eg=c.Pa.get(g.Il).cY(k.eg,{});m=new f.EventEmitter();m.on("subtitleData",function(u){(0,e.qa)(q.j.ja.Cd,"Unexpected AseSubtitleEvent. No current timedTextTrack.");q.j.ja.Cd.RUa(u);});this.events=m;}Object.defineProperty(b,"__esModule",{value:!0});b.M7a=void 0;n=a(31276);c=a(31276);g=a(74870);f=a(90745);e=a(45146);h=a(45247);l=a(91515);Object.defineProperty(d.prototype,"sourceBuffers",{get:function(){return this.N3?this.zeb.sourceBuffers.concat(this.N3):this.zeb.sourceBuffers;}});Object.defineProperty(d.prototype,"duration",{get:function(){return this.e3;},set:function(m){var p;this.e3=m || Infinity;p=Math.floor(1E3 * m) || Infinity;this.sourceBuffers.forEach(function(r){r.e3=p;});}});k={Md:{CLOSED:0,OPEN:1,Iv:2,name:["CLOSED","OPEN","ENDED"]},eg:{N5b:!0,yuc:!0}};b.M7a=Object.assign(d,k);},69931:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.NCa=b.MCa=void 0;t=a(79048);a={};b.MCa=(a[t.mq]={id:-1,name:"hardcoded",wc:1,type:"hardcoded",doa:"-1",Koc:!1,location:{id:"-1",wc:1,level:100,weight:1}},a);a={};b.NCa=(a[t.mq]={track:{type:"padding",trackId:"padding",Ci:"padding",correlationId:"padding",Bp:"other",wg:"padding",wK:"padding",ai:{},wc:1},type:"padding",Yb:"-1",bitrate:1,Ob:100,me:"unknown",size:1,oKa:{},ai:{},Tq:"",framerate:0,Wj:!1,ck:[],height:1,width:1},a);},6305:function(t,b,a){var n,c,g;function d(f,e,h,l,k,m,p,r,q,u,v){this.track=f;this.type=e;this.Yb=h;this.bitrate=l;this.Ob=k;this.size=m;this.oKa=p;this.me=r;this.framerate=q;this.Wj=u;this.ck=v;this.ai={Type:e,Bitrate:l,DownloadableId:h};}Object.defineProperty(b,"__esModule",{value:!0});b.MediaStream=void 0;b.fQc=function(f,e,h,l,k){if(f == n.Hea || f === g.Jm.audio)return e;if(f == n.c2 || f === g.Jm.video)return h;if(f == g.Jm.u_)return l;if(f == g.Jm.aZa)return k;};n=a(33096);c=a(32687);g=a(51344);d.prototype.toJSON=function(){return this.ai;};d.prototype.fHc=function(f,e,h,l){(0,c.$c)(f) && (0,c.$c)(e) && (this.width=f,this.height=e,(0,c.ec)(h) && (0,c.ec)(l) && (this.width=Math.round(h / l * f)),this.ai.Resolution=(this.width || "") + ":" + (this.height || ""));};d.prototype.kGc=function(f,e,h,l,k,m){(0,c.$c)(f) && (0,c.$c)(e) && (0,c.$c)(h) && (0,c.$c)(l) && (this.sJa=f,this.rlb=e,this.qlb=h,this.plb=l);(0,c.$c)(k) && (0,c.$c)(m) && (this.xBb=k,this.yBb=m);};b.MediaStream=d;},51344:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jm={audio:"audio",video:"video",u_:"timedtext",aZa:"trickplay"};},62439:function(t,b,a){var n,c,g,f,e,h,l;function d(k){var m,p,r,q;m=this;this.j=k;this.u5=void 0;this.kEa=(0,c.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.bEa=(0,c.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.WDa=(0,c.createElement)("DIV","width:100%;text-align:center");this.aWb=this.dEa("Audio Bitrate");this.GFa=this.dEa("Video Bitrate / VMAF");this.XDa=this.dEa("CDN");this.v3={};this.E7=g.Pa.get(f.Vr);this.kEa.appendChild(this.bEa);this.bEa.appendChild(this.WDa);p=(0,c.createElement)("BUTTON",void 0,"Override");p.addEventListener("click",this.$Vb.bind(this),!1);this.WDa.appendChild(p);p=(0,c.createElement)("BUTTON",void 0,"Reset");p.addEventListener("click",this.HYb.bind(this),!1);this.WDa.appendChild(p);r=this.kYb.bind(this);n.oe.addListener(n.YI,r);k.addEventListener(h.ha.WB,function(){m.v3={};});k.addEventListener(h.ha.Tg,function(){n.oe.removeListener(n.YI,r);});q=this.EYb.bind(this);k.Kc.forEach(function(u){u.addListener(q);});k.ja.addListener([l.v.X,l.v.V],q);}Object.defineProperty(b,"__esModule",{value:!0});b.i$a=void 0;n=a(37509);c=a(52569);g=a(31276);f=a(34231);e=a(43193);h=a(85001);l=a(26388);d.prototype.show=function(){this.S3 || (this.bfb(),document.body.appendChild(this.kEa),this.S3=!0);};d.prototype.JB=function(){this.S3 && (document.body.removeChild(this.kEa),this.S3=!1);};d.prototype.toggle=function(){this.S3?this.JB():this.show();};d.prototype.bKb=function(){var p,r,q,u;function k(v,w,x){var y,A,z;A=[];w.filter(function(B){return B.me === v;}).forEach(function(B){0 <= x.indexOf(B)?(void 0 === z?z=B.bitrate:y=B.bitrate,void 0 === y && (y=B.bitrate)):void 0 !== z && void 0 !== y && (A.push({min:z,max:y}),z=y=void 0);});if(void 0 !== z && void 0 !== y){A.push({min:z,max:y});z=y=void 0;}return A;}function m(v,w,x){var y;y=[];w.filter(function(A){return A.me === v;}).forEach(function(A){-1 === x.indexOf(A) && y.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return y;}r=this.j.mB();q=this.j.XI().sort(function(v,w){return v.bitrate - w.bitrate;});u=q.reduce(function(v,w){0 > v.indexOf(w.me) && v.push(w.me);return v;},[]).map(function(v){return {profile:v,ranges:k(v,q,r),disallowed:m(v,q,r)};});!1;null === (p=this.j.Xa) || void 0 === p?void 0:p.ysa(u,this.j.R);};d.prototype.$Vb=function(){var p,r;this.v3={};for(var k=this.GFa.options,m=k.length;m--;){p=k[m];p.selected && (this.v3[p.value]=1);}this.u5=this.rWb.bind(this);this.bKb();if(k=this.j.Th){r=this.XDa.value;k=k.filter(function(q){return q.id == r;})[0];m=this.j.Kc[l.v.V].value;k && k != m && (k.Rib={testreason:"streammanager",selreason:"userselection"},this.j.Kc[l.v.V].set(k));}this.JB();};d.prototype.HYb=function(){this.u5=void 0;this.j.DGb(this.j.R);this.JB();};d.prototype.rWb=function(){var k;k=this;return this.j.XI().filter(function(m){return k.v3[m.bitrate];});};d.prototype.bfb=function(){var k,m,p,r;k=this;m=this.j.ja.Vd;p=this.j.ja.sh;r=this.j.Th;m && (r=r.slice(),r.sort(function(q,u){return q.wc - u.wc;}),this.xFa(this.aWb,m.streams.map(function(q){return {value:q.bitrate,caption:q.bitrate,selected:q == k.j.Hi.value};})));p && (this.xFa(this.GFa,p.streams.map(function(q){var u,v,w;u=k.j.WX.sG(q);v=q.bitrate;q=q.Ob;w="" + v;q && (w+=" / " + q);u && (w+=" (" + u.join("|") + ")");return {value:v,caption:w,selected:k.u5?k.v3[v]:!u};})),this.GFa.removeAttribute("disabled"));r && (this.xFa(this.XDa,r.map(function(q){return {value:q.id,caption:"[" + q.id + "] " + q.name,selected:q == k.j.Kc[l.v.V].value};})),this.XDa.removeAttribute("disabled"));};d.prototype.EYb=function(){this.S3 && this.bfb();};d.prototype.dEa=function(k){var m,p;m=(0,c.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");k=(0,c.createElement)("DIV",void 0,k);p=(0,c.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});m.appendChild(k);m.appendChild(p);this.bEa.appendChild(m);return p;};d.prototype.xFa=function(k,m){k.innerHTML="";m.forEach(function(p){var r;r={title:p.caption};p.selected && (r.selected="selected");r=(0,c.createElement)("option",void 0,p.caption,r);r.value=p.value;k.appendChild(r);});};d.prototype.kYb=function(k){k.ctrlKey && k.altKey && k.shiftKey && k.keyCode == e.aT.uda && this.E7.dQa && this.toggle();};b.i$a=d;},79173:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.X$a=void 0;d=a(31276);n=a(61726);b.X$a=(function(){(0,d.bm)("ProbeDownloader");return {ila:function(c){c={url:c.url,MAc:c};!1;n.Je.PAc(c);}};})();},27758:function(t,b,a){var n,c,g,f,e,h,l;function d(){var k;k=new c.Bl();this.addEventListener=k.addListener.bind(this);this.removeEventListener=k.removeListener.bind(this);this.emit=k.bd.bind(this);this.jha=h++;this.cg=(0,g.bm)("ProbeRequest");this.Reb=n.X$a;(0,f.qa)(void 0 !== this.Reb);this.dg=b.El.Md.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.El=void 0;n=a(79173);c=a(94886);g=a(31276);f=a(45146);e=a(3887);h=0;(function(){function k(){return JSON.stringify({url:this.ug,id:this.jha,affected:this.nga,readystate:this.dg});}(0,e.uf)(d.prototype,{oY:function(m){this.dg !== b.El.Md.dea && this.dg !== b.El.Md.DONE && (this.oha=m,m={url:this.ug,affected:this.nga,probed:{requestId:this.jha,url:this.ug,Qc:this.L3,groupId:this.Jga}},200 <= this.oha && 299 >= this.oha?(this.dg=b.El.Md.DONE,this.emit(b.El.Al.q2,m)):(this.dg=b.El.Md.dea,this.emit(b.El.Al.mH,m)));},wSa:function(m){this.dg !== b.El.Md.dea && this.dg !== b.El.Md.DONE && (this.oha=m,m={url:this.ug,affected:this.nga,probed:{requestId:this.jha,url:this.ug,Qc:this.L3,groupId:this.Jga}},this.dg=b.El.Md.dea,this.emit(b.El.Al.mH,m));},open:function(m,p,r){if(!m)return (!1,!1);this.ug=m;this.nga=p;this.L3=r;this.dg=b.El.Md.OPENED;this.Reb.ila(this);this.dg=b.El.Md.ED;return !0;},Qe:function(){!1;return !0;},ti:function(){return this.jha;},toString:k,toJSON:k});Object.defineProperties(d.prototype,{readyState:{get:function(){return this.dg;}},status:{get:function(){return this.oha;}},url:{get:function(){return this.ug;}},SVc:{get:function(){return this.nga;}}});})();(function(k){k.Al={q2:"pr0",mH:"pr1"};k.Md={UNSENT:0,OPENED:1,ED:2,DONE:3,dea:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(l || (l={}));b.El=Object.assign(d,l);},59405:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(29204);n=a(33096);t=a(36129);c=a(31276);g=a(69484);a=a(11479);c.Pa.get(a.Fj).register(t.aa.f5a,function(f){d.config.Qfc && c.Pa.get(g.Z3a).start();f(n.Jj);});},91515:function(t,b,a){var n;function d(){this.mediaType=n.v.Aa;}Object.defineProperty(b,"__esModule",{value:!0});b.ecb=void 0;n=a(45247);d.prototype.appendBuffer=function(){return !0;};d.prototype.CGb=function(){};b.ecb=d;},49587:function(t,b){function a(d,n){this.j=n;this.tQ=!0;this.Ata=!1;this.Ga=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Pcb=void 0;a.prototype.RSa=function(){this.tQ && (this.tQ=!1,this.j.paused.set(!1));};a.prototype.QSa=function(){this.tQ || (this.tQ=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var d;this.paused || (this.tQ=!0,null === (d=this.Ga) || void 0 === d?void 0:d.pause());};a.prototype.play=function(){var d,n;d=this;return this.paused && !this.Ata?(this.Ata=!0,Promise.resolve(null === (n=this.Ga) || void 0 === n?void 0:n.play()).then(function(){d.Ata=!1;}).catch(function(c){var g;d.Ata=!1;d.tQ=!(null === (g=d.Ga) || void 0 === g || !g.paused);throw c;})):Promise.resolve();};a.prototype.close=function(){this.Ga=void 0;};Ga.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.tQ;}}});b.Pcb=a;},20318:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.fu=b.NMb=void 0;b.NMb=a;b.fu=new a();},70632:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);n=a(45247);c=a(51790);g=a(27758);f=a(90762);e=a(29204);h=a(33096);l=a(67263);k=a(53754);m=a(24066);t=a(36129);p=a(31276);r=a(21941);q=a(22365);u=a(59416);b=a(11479);v=a(13044);w=a(20318);x=a(2248);y=a(84408);A=a(97685);({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).iSc && A.Fna.enable();p.Pa.get(b.Fj).register(t.aa.d5a,function(z){var B,C,D,F,H,E,G,K,N,I;B=p.Pa.get(r.r8a).s9b();C=p.Pa.get(l.vwa).K0;D=p.Pa.get(c.K7a).Cl;F=p.Pa.get(x.yl);H=p.Pa.get(y.LD);E={Cqa:(0,p.N6)("ASE"),S0b:(0,p.N6)("JS-ASE",void 0,"Platform"),bm:p.N6,storage:u.storage,hjc:q.B2a,getTime:m.qw,Cja:function(L){return F.decode(L).buffer;},sI:function(L){return H.encode(L);},wka:function(L){return H.decode(L);},JP:{},Cl:D,El:g.El,K0:C,MediaSource:k.M7a,SourceBuffer:f.qza,LW:function(){return [e.config.dia,e.config.fia,e.config.eia];},mB:function(L){v.No.forEach(function(O){O.DGb(L);});}};C=new Promise(function(L){u.storage.load("nh",function(O){E.JP.nh=O.success?O.data:void 0;L();});});D=new Promise(function(L){u.storage.load("lh",function(O){E.JP.lh=O.success?O.data:void 0;L();});});G=new Promise(function(L){u.storage.load("gh",function(O){E.JP.gh=O.success?O.data:void 0;L();});});K=new Promise(function(L){u.storage.load("sth",function(O){E.JP.sth=O.success?O.data:void 0;L();});});N=new Promise(function(L){u.storage.load("vb",function(O){E.JP.vb=O.success?O.data:void 0;L();});});I=new Promise(function(L){u.storage.load("ab",function(O){E.JP.ab=O.success?O.data:void 0;L();});});Promise.all([C,D,I,N,K,G]).then(function(){return d.__awaiter(this,void 0,void 0,function O(){var J,Q;return Ta(O,function(P){if(1 == P.oo)return (J=a(92623)(E),w.fu.Rl=a(21457),w.fu.Rl.declare(n.Qf),w.fu.Rl.set(a(87141)(e.config),!0,(0,p.N6)("ASE")),ab(P,n.k7(J),2));Q=P.rS;Q.open(w.fu.Rl,B);Q.dGc({audio:e.config.dia,video:e.config.fia,text:e.config.eia},{G:e.config.IF,ka:void 0});w.fu.Cj=Q;z(h.Jj);P.oo=0;});});}).catch(function(L){E.Cqa.error("Exception loading location history from local storage",L);});});},39480:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.STb=function(k){var q,u,v,w,x,y;function m(){return k.state.value === l.xc.LOADING || k.state.value === l.xc.mf && k.Tb.value === l.Gb.Qg;}function p(){m()?y || (y=setInterval(r,100)):y && (clearInterval(y),y=void 0,(0,e.yh)(r));}function r(){var A,z,B,C,D,F,H,E;A=(0,c.qw)();z=q.value;B=z?z.progress:0;C=k.state.value == l.xc.LOADING || m() && A - u > n.config.$2b;if(C && k.state.value == l.xc.mf){if(k.Xd.value === l.Pg.Iab)(D=B,F=!0);else {H=A;v=v || A;w=w || v + n.config.Utc + 1;(0,h.ec)(H) && (H=(0,f.Sx)(H,w),D=(0,f.Xr)(1E3 * (0,g.AD)((A - v) / (H - v),0,.99)) / 1E3);}if(D < B)if(B - D < n.config.lBc / 100)(D=B,x=void 0);else if(x){if(A - x > n.config.kBc){E=!0;x=void 0;}else D=B;}else (x=A,D=B);}else x=w=v=void 0;A=C?{Lr:F,progress:D,mBc:E}:null;(!A || !q || !z || (0,h.ec)(A.progress) && !(0,h.ec)(z.progress) || (0,h.ec)(A.progress) && (0,h.ec)(z.progress) && .01 < (0,f.Jea)(A.progress - z.progress) || A.Lr !== z.Lr) && q.set(A);}q=k.yHa;u=0;k.state.addListener(function(){p();r();},d.dAa);k.Tb.addListener(function(A){if(A.oldValue !== l.Gb.Qg || A.newValue !== l.Gb.Qg)u=(0,c.qw)();p();});k.Xd.addListener(function(){p();});k.qs.addListener(function(){p();});k.Bm.addListener(function(){p();});y || (y=setInterval(r,100));};d=a(33096);n=a(29204);c=a(24066);g=a(8825);f=a(22365);e=a(32219);h=a(32687);l=a(85001);},13044:function(t,b,a){var n,c;function d(g,f){var e;e=b.No[0];e == f && (e=b.No[1]);e?e.close(function(){d(g,f);}):g && g(n.Jj);}Object.defineProperty(b,"__esModule",{value:!0});b.$9a=b.Y9a=b.eBa=b.fBa=b.Yx=b.gBa=b.Z9a=b.iBa=b.hBa=b.No=void 0;b.a$a=d;b.TTb=function(g,f){switch(g){case b.Z9a:b.hBa.push(f);return;case b.gBa:b.iBa.push(f);return;}(0,c.qa)(!1);};b.jBa=function(){return b.Yx.W9 && b.No.includes(b.Yx.W9)?b.Yx.W9:void 0;};n=a(33096);c=a(45146);b.No=[];b.hBa=[];b.iBa=[];b.Z9a=1;b.gBa=3;b.Yx={index:0,W9:void 0,ILa:void 0};b.fBa="network";b.eBa="media";b.Y9a="timedtext";b.$9a="playback";},30689:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});d=a(29204);n=a(33096);t=a(36129);c=a(31276);b=a(11479);g=a(66476);c.Pa.get(b.Fj).register(t.aa.k5a,function(e){var h,l,k;if(d.config.px){h=(0,c.bm)("PlayerPredictionModel");l=c.Pa.get(g.vM);k=a(99886);h.log=h.trace.bind(h);f=new k({},h,{vaa:function(){},rDc:function(){}},l,{GQ:function(){}});Ba._cad_global.playerPredictionModel=f;h.info("ppm v2 initialized");}e(n.Jj);});},22365:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.UQa=b.localStorage=b.lnc=b.indexedDB=b.f8a=b.Sm=b.iH=b.kM=b.URL=b.Tea=b.cSb=b.s7a=b.r7a=b.Jea=b.Kea=b.wD=b.Sx=b.Xr=b.NRb=b.jT=b.Gbb=b.B2a=b.ySb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.mE=b.bSb=b.fi=b.DA=b.g8a=b.jH=b.Sea=b.nT=void 0;t=Ba;b.ng=t.navigator;b.nT=null === b.ng || void 0 === b.ng?void 0:b.ng.userAgent;b.Sea=t.location;b.jH=t.screen;b.g8a=t.devicePixelRatio;b.DA=t.performance;b.fi=t.document;b.bSb=b.fi.documentElement;b.mE=Array.prototype;b.sort=b.mE.sort;b.map=b.mE.map;b.slice=b.mE.slice;b.every=b.mE.every;b.reduce=b.mE.reduce;b.filter=b.mE.filter;b.forEach=b.mE.forEach;b.pop=b.mE.pop;b.ySb=Object.create;b.B2a=Date.now;b.Gbb=String.fromCharCode;b.jT=Math.floor;b.NRb=Math.ceil;b.Xr=Math.round;b.Sx=Math.max;b.wD=Math.min;b.Kea=Math.random;b.Jea=Math.abs;b.r7a=Math.pow;b.s7a=Math.sqrt;b.cSb=t.escape;b.Tea=t.unescape;b.URL=t.URL || t.webkitURL;b.kM=t.MediaSource || t.WebKitMediaSource;b.iH=t.webkitCrypto || t.msCrypto || t.crypto;b.Sm=b.iH && (b.iH.webkitSubtle || b.iH.subtle);b.f8a=t.webkitCryptokeys || t.msCryptokeys || t.cryptokeys;try{b.indexedDB=t.indexedDB;}catch(a){b.lnc=a || "noex";}try{b.localStorage=t.localStorage;}catch(a){b.UQa=a || "noex";}},59416:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(29204);n=a(33096);c=a(50350);t=a(36129);g=a(75876);f=a(19630);e=a(31276);a=a(11479);b.storage=b.storage || void 0;e.Pa.get(a.Fj).register(t.aa.m5a,function(h){var l;switch(d.config.dJc){case "idb":l=g.$Ic;break;case "none":l=c.bJc;break;case "ls":l=f.aJc;}l(function(k){k.success?(b.storage=k.storage,h(n.Jj)):h(k);});});},75876:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.$Ic=function(f){d.Pa.get(n.PG).create().then(function(e){f({success:!0,storage:new g.tya(e,d.Pa.get(c.Il))});}).catch(function(e){f(e);});};d=a(31276);n=a(17892);c=a(74870);g=a(6675);},19630:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.aJc=function(f){f({success:!0,storage:new d.tya(n.Pa.get(c.L6a),n.Pa.get(g.Il))});};d=a(6675);n=a(31276);c=a(56278);g=a(74870);},50350:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.bJc=function(g){var f;(0,n.bm)("Storage");f={};g({success:!0,storage:{load:function(e,h){var l;if(f.hasOwnProperty(e)){l=f[e];!1;h({success:!0,data:l,Usa:e});}else (!1,h({Ma:c.W.FD}));},save:function(e,h,l,k){l && f.hasOwnProperty(e)?k({success:!1}):(f[e]=h,!1,k && k({success:!0,Usa:e}));},remove:function(e,h){delete f[e];!1;h && h(d.Jj);}}});};d=a(33096);n=a(31276);c=a(36129);a(3887);},50040:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.ER=void 0;d=a(33096);n=a(29204);c=a(37509);g=a(24066);f=a(36129);e=a(45146);h=a(31276);l=a(3887);k=a(22365);m=a(59416);p=a(32687);t=a(11479);h.Pa.get(t.Fj).register(f.aa.n5a,function(r){var v,w,x;function q(){var y;q=d.kH;y=setInterval(u,n.config.Krc);c.oe.addListener(c.cn,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,l.Yh)(w,function(z,B){localStorage.removeItem(B.Yw);}),clearInterval(y));},d.qT);}function u(){var y;y=(0,g.Jjb)();(0,l.Yh)(w,function(A,z){!1;A=localStorage.getItem(z.Yw);(A=JSON.parse(A))?A.updated=y:A={updated:y,sessionId:x,count:1};localStorage.setItem(z.Yw,JSON.stringify(A));});}(0,e.qa)(m.storage);v=(0,h.bm)("StorageLock");w={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.ER={vy:function(y,A,z){var C,D,F,H,E,G,K,N,I,L;function B(O){localStorage.setItem(F,JSON.stringify(O));O={Yw:F};w[F]=O;v.trace("Lock acquired",{Name:O.Yw});q();A({success:!0,eoa:O});}C=this;z=void 0 === z?!1:z;if(localStorage){D=(0,g.Jjb)();F="lock-" + y;H={updated:D,sessionId:x,count:1};try{if((F in localStorage)){E=localStorage.getItem(F);G=0;K=JSON.parse(E);(0,p.xJ)(K.updated) && (G=K.updated);N=(0,k.Jea)(D - G) * d.iq;I=x === K.sessionId;if(N < n.config.Awb){if(I)(K.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:x,count:K.count}),K.updated=D,B(K));else if(z){L=n.config.Awb - N + d.iq;v.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:K.count,Epoch:D,LockEpoch:G,waitTimeoutMs:L});Ba.setTimeout(function(){return C.vy(y,A,!1);},L);}else A({success:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:D,LockEpoch:G}),B(H));}else B(H);}catch(O){v.error("Error acquiring Lock",{errorSubCode:f.W.fq,errorDetails:(0,l.Mi)(O)});A({success:!0});}}else (k.UQa?v.error("Local storage access exception",{errorSubCode:f.W.SUb,errorDetails:(0,l.Mi)(k.UQa)}):v.error("No localstorage",{errorSubCode:f.W.TUb}),A({success:!0}));},release:function(y,A){var z,B;(0,e.qa)(w[y.Yw] == y);if(localStorage){try{z=localStorage.getItem(y.Yw);B=JSON.parse(z);B && 1 < B.count?(--B.count,localStorage.setItem(y.Yw,JSON.stringify(B)),v.trace("Lock count decremented",{Name:y.Yw,count:B.count})):(localStorage.removeItem(y.Yw),delete w[y.Yw],v.trace("Lock released",{Name:y.Yw}));}catch(C){v.error("Unable to release Lock",{Name:y.Yw},C);}A && A(d.Jj);}}};n.config.zka?b.ER.vy("session",function(y){b.ER.WFb=y;r(d.Jj);}):r(d.Jj);});},991:function(t,b,a){var g,f,e,h;function d(l,k,m,p){var r,q,u;(0,g.qa)((0,h.mz)(l) && !(0,h.isArray)(l));p=p || "";r="";q=l.hasOwnProperty(e.cda) && l[e.cda];q && (0,f.Yh)(q,function(v,w){r && (r+=" ");r+=v + '="' + c(w) + '"';});m=(k?k + ":":"") + m;q=p + "<" + m + (r?" " + r:"");u=l.hasOwnProperty(e.ZC) && l[e.ZC].trim && "" !== l[e.ZC].trim() && l[e.ZC];if(u)return q + ">" + c(u) + "</" + m + ">";l=n(l,k,p + "  ");return q + (l?">\n" + l + "\n" + p + "</" + m + ">":"/>");}function n(l,k,m){var p;(0,g.qa)((0,h.mz)(l) && !(0,h.isArray)(l));m=m || "";p="";(0,f.Yh)(l,function(r,q){var w;if("$" != r[0])for(var u=(0,f.KJ)(q),v=0;v < u.length;v++)if((q=u[v],p && (p+="\n"),(0,h.mz)(q)))p+=d(q,k,r,m);else {w=(k?k + ":":"") + r;p+=m + "<" + w + ">" + c(q) + "</" + w + ">";}});return p;}function c(l){if((0,h.Zh)(l))return (0,f.COa)(l);if((0,h.ec)(l))return ((0,g.B5)(l,"Convert non-integer numbers to string for xml serialization."),"" + l);if(null === l || void 0 === l)return "";(0,g.qa)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.d0c=d;b.e0c=n;b.v4c=c;g=a(45146);f=a(3887);e=a(62604);h=a(32687);},62604:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.zyc=b.cMb=b.bMb=b.ZC=b.m_a=b.aMb=b.cda=void 0;b.ohc=function(c,g,f){for(var e=2;e < arguments.length;++e);for(e=1;(g=arguments[e++]) && (c=c[g]););return c;};b.i2c=function(c,g){var f;c?f=(0,d.jl)(c[b.ZC]):void 0 !== g && (f=g);(0,n.B5)(f);return f;};b.uyc=function(c,g){var f;c?f=c[b.ZC]:void 0 !== g && (f=g);(0,n.Llb)(f);return f;};b.G0c=function(c,g){var f;f={};f[b.cda]=c;f[b.ZC]=g;return f;};d=a(3887);n=a(45146);b.cda="$attributes";b.aMb="$children";b.m_a="$name";b.ZC="$text";b.bMb="$parent";b.cMb="$sibling";b.zyc=/^\s*<\?xml.*\?>/i;},84281:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.AOc=function(e,h){var l,k;try{k=(0,c.BOc)(e);}catch(m){d.log.error("xml2xmlDoc exception",m);}(0,f.yh)(function(){if(k && k.documentElement)try{l=(0,g.COc)(k);}catch(m){d.log.error("xmlDoc2js exception",m);}(0,f.yh)(function(){l?h({success:!0,object:l}):h({success:!1,Ma:n.W.zPb});});});};d=a(31276);n=a(36129);c=a(78857);g=a(74413);f=a(32219);},78857:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.BOc=function(c){var g,f;if((0,n.uX)(c)){g=new DOMParser().parseFromString(c,"text/xml");f=g.getElementsByTagName("parsererror");if(f && f[0]){try{d.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(f[0]),xmlData:c.slice(0,300),fileSize:c.length});}catch(e){}throw Error("xml parser error");}return g;}throw Error("bad xml text");};d=a(31276);n=a(32687);},74413:function(t,b,a){var n;function d(c){var g,f,e,h,l,k,m;f={};f[n.m_a]=c.localName;e={};f[n.cda]=e;h=[];f[n.aMb]=h;l=c.attributes;k=l.length;for(g=0;g < k;g++){m=l[g];e[m.localName]=m.value;}c=c.childNodes;k=c.length;e={};for(g=0;g < k;g++)switch((l=c[g],l.nodeType)){case b.fMb:l=d(l);m=l[n.m_a];l[n.bMb]=f;h.push(l);f[m]?e[m][n.cMb]=l:f[m]=l;e[m]=l;break;case b.gMb:case b.dMb:(l=l.text || l.nodeValue,h.push(l),f[n.ZC] || (f[n.ZC]=l));}return f;}Object.defineProperty(b,"__esModule",{value:!0});b.eMb=b.dMb=b.gMb=b.DOc=b.fMb=void 0;b.COc=function(c){return d(c.nodeType == b.eMb?c.documentElement:c);};b.o5c=d;n=a(62604);b.fMb=1;b.DOc=2;b.gMb=3;b.dMb=4;b.eMb=9;},87886:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.oh=void 0;t=a(22674);d=a(58252);n=a(60443);c=a(32050);g=a(62468);f=a(75864);e=a(45716);h=a(99282);l=a(52531);k=a(88063);m=a(79054);p=a(56190);r=a(69751);q=a(62665);u=a(7342);v=a(82585);w=a(76409);x=a(69882);b.oh=new t.je(function(y){y(d.BBa).to(n.ABa).pa();y(c.IBa).to(g.HBa).pa();y(f.w2).to(e.yBa).pa();y(l.oM).to(h.wBa).pa();y(w.E$a).to(x.GBa).pa();y(k.z$a).to(m.DBa).pa();y(p.B$a).Kf(function(A){var z;z=A.Hb;return function(B){return new r.C$a(B,z.get(w.E$a),z.get(q.sD),z.get(l.oM));};});y(u.k6a).Kf(function(A){var z;z=A.Hb;return function(B,C,D){return new v.l6a(B,C,D,z.get(l.oM),z.get(f.w2));};});});},7342:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.k6a="LegacyPostPlayShimFactorySymbol";},52531:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oM="PlaygraphConfigSymbol";},75864:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.x2={};t.SRc="ident";t.Xya="main";t.L1a="credits";b.w2="PlaygraphHelperSymbol";},58252:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.BBa="PlaygraphManagerFactorySymbol";},88063:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.z$a="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.B$a="PlaygraphStateFactorySymbol";},76409:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.E$a="PlaygraphUtilsSymbol";},32050:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IBa="PlaygraphVideoPlayerFactorySymbol";},56819:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.xM={};t[t.y8a=0]="None";t[t.U3a=1]="Fetching";t[t.XOb=2]="Done";t[t.Error=3]="Error";},82585:function(t,b,a){var n,c;function d(g,f,e,h,l){this.xj=g;this.oh=f;this.log=e;this.Ek=h;this.Ep=l;this.Dqa=new n.oBa();}Object.defineProperty(b,"__esModule",{value:!0});b.l6a=void 0;n=a(81889);c=a(75864);d.prototype.YZb=function(g){var f,e,h,l,k,m,p;this.log.info("Next episode added",g);m=this.Dqa.qRa(g.playbackParams);p=Math.max(0,null !== (h=null !== (e=null !== (f=g.startPts) && void 0 !== f?f:g.nextStartPts) && void 0 !== e?e:m.Db) && void 0 !== h?h:0);f=null !== (k=null !== (l=g.endPts) && void 0 !== l?l:g.currentEndPts) && void 0 !== k?k:m.Ui;return this.oh.M_b({R:g.movieId,Db:p,Ui:f,zb:m,U:g.manifest,xj:this.xj});};d.prototype.bzc=function(g){var f,e,h,l,k,m;g=this.Dqa.qRa(g);this.log.info("Playing the next episode",g);h=this.oh.aqb();l=this.oh.ZO();k=l.$[h];m=Object.keys(null !== (f=k.next) && void 0 !== f?f:{}).find(function(p){return k.J !== l.$[p].J;});f=!this.Ek.Mqa || !(null === (e=g.Op) || void 0 === e?0:e.isUIAutoPlay);return m?this.oh.eOa(h,m,g,f):Promise.reject(Error("Next episode not found"));};d.prototype.aOc=function(g){var f,e;f=this.Ep.Ew(g,c.x2.Xya);g=this.Ep.Ew(g,c.x2.L1a);e=this.oh.rb;this.Ek.Mqa && e.Vh !== g && e.KK(g) && e.i7(f) !== g && this.oh.ym({L:f,kY:g});};b.l6a=d;},65473:function(t,b,a){var n;function d(c,g,f,e,h){var l;l=this;this.rb=c;this.xl=g;this.tt=f;this.$b=e;this.Ep=h;this.Pqa=new Map();this.kHc();this.$b.addListener(n.Sa.loaded,function(){return l.mCb();});}Object.defineProperty(b,"__esModule",{value:!0});b.jM=void 0;n=a(85001);d.prototype.ygb=function(c){var g,f;g=this;f=Object.keys(this.rb.om.$).find(function(e){return g.rb.om.$[e].J === c.R;});c.id || (c.id=null !== f && void 0 !== f?f:this.Ep.Ew(c.R));f || (this.rb.om=this.Ep.C0b(this.rb.om,c));f=this.HQ(c.id);c.Ui && this.rb.xKb(c.id,c.Ui);return f;};d.prototype.IJb=function(){return Promise.reject(Error("Error isn't recoverable"));};d.prototype.fOa=function(c,g){var f;f=this;g=void 0 === g?{}:g;return this.tt.transition(c,g).then(function(){f.rb.Vh=c;});};d.prototype.close=function(c){return this.tt.close(c);};d.prototype.kr=function(){return this.tt.Ujc();};d.prototype.mp=function(){return this.tt.mp();};d.prototype.hF=function(){return this.tt.hF();};d.prototype.HQ=function(c){this.Pqa.has(c) || this.Pqa.set(c,this.tt.Lf(this.Y2b(c)));return this.Pqa.get(c);};d.prototype.kHc=function(){var c;c=this;this.tt.addListener(n.wT.$aa,function(g){return c.$b.bd(n.wT.$aa,g);});Object.values(n.Sa).forEach(function(g){c.tt.addListener(g,function(f){return c.$b.bd(g,f);});});};d.prototype.fC=function(){this.mCb();};d.prototype.YSa=function(c){this.tt.uKb({id:c,R:this.rb.Ks(c).J,Ui:this.rb.rkc(c)});};d.prototype.iQ=function(){};d.prototype.mCb=function(){var c,g;if(this.kr()){c=this.rb.Vh;g=this.rb.i7(c);g && !this.Pqa.has(g) && (this.YSa(c),this.HQ(g));}};d.prototype.Y2b=function(c){var g,f,e,h;f=this.rb.Ks(c);e=this.xl.fP(f.J);h=null === e || void 0 === e?void 0:e.zb;e=null === e || void 0 === e?void 0:e.U;return {id:c,R:f.J,qf:f.jo,Db:f.cb,Ui:null !== (g=null === h || void 0 === h?void 0:h.Ui) && void 0 !== g?g:f.ib,zb:h,U:e};};b.jM=d;},99282:function(t,b,a){var n,c,g,f,e;function d(h){return c.Ef.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wBa=void 0;t=a(22970);n=a(22674);c=a(64174);g=a(83767);f=a(12501);e=a(5021);Ia(d,c.Ef);Ga.Object.defineProperties(d.prototype,{hAc:{configurable:!0,enumerable:!0,get:function(){return 2;}},gAc:{configurable:!0,enumerable:!0,get:function(){return (0,e.ZRa)(3);}},MZa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Pta:{configurable:!0,enumerable:!0,get:function(){return !1;}},VKb:{configurable:!0,enumerable:!0,get:function(){return !1;}},hpb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Mqa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=d;b.wBa=a;t.__decorate([f.config(f.Ex,"prepareSegmentsUpfront")],a.prototype,"hAc",null);t.__decorate([f.config(f.hm,"prepareSegmentsDuration")],a.prototype,"gAc",null);t.__decorate([f.config(f.fd,"usePlaygraphForPostPlay")],a.prototype,"MZa",null);t.__decorate([f.config(f.fd,"usePlaygraphForSkipSegment")],a.prototype,"Pta",null);t.__decorate([f.config(f.fd,"useSinglePlayerPlayback")],a.prototype,"VKb",null);t.__decorate([f.config(f.fd,"forcePlaygraphTrace")],a.prototype,"hpb",null);t.__decorate([f.config(f.fd,"postPlayDefaultNextEpisode")],a.prototype,"Mqa",null);b.wBa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Fn))],a);},45716:function(t,b,a){var n,c,g;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.yBa=void 0;t=a(22970);n=a(75864);c=a(22674);g=a(79048);d.prototype.y9b=function(f){var l,k,m;for(var e=[],h=0;h < arguments.length;++h)e[h - 0]=arguments[h];l=this;if(0 === e.length)throw Error("Empty playgraph");k=new g.Nv().qG(this.Ew(e[0]));e.reverse().forEach(function(p){var r;r=l.Ew(p);k.Lf(r,Object.assign({J:p,cb:0,ib:Infinity},m?{Ac:m}:{}));m=r;});return k.build();};d.prototype.Ew=function(f,e){e=void 0 === e?n.x2.Xya:e;return f + ":" + e;};d.prototype.C0b=function(f,e){var h,l,k,m;if(void 0 === k)k=null !== (h=e.id) && void 0 !== h?h:this.Ew(e.R);h=this.Dqb(f);m=new g.Nv(f);m.Lf(k,{J:e.R,cb:null !== (l=e.Db) && void 0 !== l?l:0,ib:Infinity});f=f.$[h];e={};m.Lf(h,Object.assign({},f,{Ac:k,next:Object.assign({},f.next || ({}),(e[k]={},e))}));return m.build();};d.prototype.Dqb=function(f){for(var e=f.ff,h=e;h=f.$[h].Ac;)e=h;return e;};a=d;b.yBa=a;b.yBa=a=t.__decorate([(0,c.Y)()],a);},60443:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r,q,u,v,w,x){this.Vg=p;this.eLa=r;this.Ek=q;this.WYa=u;this.vzc=v;this.xzc=w;this.wzc=x;}Object.defineProperty(b,"__esModule",{value:!0});b.ABa=void 0;t=a(22970);n=a(22674);c=a(9862);g=a(87386);f=a(52531);e=a(44720);h=a(88063);l=a(25830);k=a(56190);a=a(32050);d.prototype.create=function(p){return new c.w$a(p,this.Vg,this.eLa,this.Ek,this.WYa,this.vzc,this.xzc,this.wzc);};m=d;b.ABa=m;b.ABa=m=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.wb)),t.__param(1,(0,n.l)(e.Q0)),t.__param(2,(0,n.l)(f.oM)),t.__param(3,(0,n.l)(l.mcb)),t.__param(4,(0,n.l)(h.z$a)),t.__param(5,(0,n.l)(k.B$a)),t.__param(6,(0,n.l)(a.IBa))],m);},9862:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r,q,u,v,w){this.WYa=q;this.VZa=w;r.Pta && (k=new g.x$a().iLc(k));this.rb=v(k);this.xl=new c.F$a(this.rb);this.xl.dGb(this.rb.ea.J);this.log=m.qb("PlaygraphManager");this.$b=p.create();this.ox=u.create(this.rb,this.xl,this.log,this.$b);this.lHc();this.mHc();}Object.defineProperty(b,"__esModule",{value:!0});b.w$a=void 0;n=a(85001);c=a(98899);g=a(15645);f=a(5021);e=a(33096);h=a(31276);l=a(45842);d.prototype.mHc=function(){var k,m,p;k=this;try{if(null !== (m=navigator.mediaSession) && void 0 !== m && m.setActionHandler){p=h.Pa.get(l.rH)((0,f.ac)(500));navigator.mediaSession.setActionHandler("play",function(){p.Vf(function(){k.Lb().play();});});navigator.mediaSession.setActionHandler("pause",function(){p.Vf(function(){k.Lb().pause();});});navigator.mediaSession.setActionHandler("seekbackward",function(){p.Vf(function(){var r,q;r=k.Lb();q=r.dF();q && r.seek(Math.max(0,q - 10 * e.iq),n.Dc.Ov);});});navigator.mediaSession.setActionHandler("seekforward",function(){p.Vf(function(){var r,q,u;r=k.Lb();q=r.dF();u=r.NI();q && r.seek(Math.min(q + 10 * e.iq,u),n.Dc.Ov);});});navigator.mediaSession.setActionHandler("seekto",function(r){p.Vf(function(){var q;q=k.Lb();r.oWa && 0 <= r.oWa && r.oWa < q.NI() && q.seek(r.oWa * e.iq,n.Dc.Ov);});});navigator.mediaSession.setActionHandler("previoustrack",null);navigator.mediaSession.setActionHandler("nexttrack",null);}}catch(r){this.log.error("Error setting up MediaSession",r);}};d.prototype.Gjc=function(){return this.rb.zr;};d.prototype.yla=function(){return this.rb.ea;};d.prototype.aqb=function(){return this.rb.Vh;};d.prototype.ZO=function(){return this.rb.om;};d.prototype.ym=function(k){for(var m=[],p=0;p < arguments.length;++p)m[p - 0]=arguments[p];this.rb.ym.apply(this.rb,za(m));};d.prototype.w5b=function(k){for(var m=[],p=0;p < arguments.length;++p)m[p - 0]=arguments[p];this.rb.whb(m);};d.prototype.qL=function(k){this.rb.om=k;};d.prototype.Fjc=function(){return this.rb.Kqa.QW();};d.prototype.Kk=function(k,m){this.rb.Kk(k,m);};d.prototype.eOa=function(k,m,p,r){var q,u;p=void 0 === p?{}:p;r=void 0 === r?!0:r;if(k !== this.rb.Vh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (q=this.ZO().$[k].next) && void 0 !== q?q:{}).indexOf(m))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + k + " -> " + m);null === (u=p.Op) || void 0 === u?void 0:u.isUIAutoPlay;return this.ox.fOa(m,p,r);};d.prototype.Jrb=function(){var k,m;k=this.ox.hF().RO();m=this.rb.ea.cb;return k?k - m:void 0;};d.prototype.Hjc=function(){var k,m;k=this.rb.Kqa.QW(this.rb.Vh);m=this.Jrb();return k && m?k + m:void 0;};d.prototype.kr=function(){return this.ox.kr();};d.prototype.addListener=function(k,m,p){this.$b.addListener(k,m,p);};d.prototype.removeListener=function(k,m){this.$b.removeListener(k,m);};d.prototype.mp=function(){return this.ox.mp();};d.prototype.Lb=function(){return this.ox.hF();};d.prototype.A9b=function(k,m,p){var r;k=void 0 === k?this.ZO().ff:k;m=void 0 === m?{}:m;r=this.VZa.jlb(this);this.aAc(null !== k && void 0 !== k?k:this.ZO().ff,m,p);return r;};d.prototype.M_b=function(k){var m;this.log.info("Adding segment - movieId: " + k.R + ", startPts: " + k.Db + ", logicalEnd: " + k.Ui);m=Object.assign({},k.zb,k.Db?{Db:k.Db}:{},k.Ui?{Ui:k.Ui}:{});this.OHb(k.R,m,k.U);return this.ox.ygb(k);};d.prototype.transition=function(k){var m;m=this.rb.i7(this.rb.Vh);return m?this.eOa(this.rb.Vh,m,k):(this.log.error("Next segment is not defined"),Promise.reject());};d.prototype.close=function(k){return this.ox.close(k);};d.prototype.aAc=function(k,m,p){var r;void 0 === k && (k=null === (r=this.ZO()) || void 0 === r?void 0:r.ff);(m || p) && this.OHb(this.ZO().$[k].J,null !== m && void 0 !== m?m:{},p);this.ox.HQ(k);};d.prototype.OHb=function(k,m,p){p && this.xl.TH(k,p);this.xl.s_b(k,m);};d.prototype.lHc=function(){var k;k=this;this.rb.FJc(function(){k.xl.fC();k.ox.fC();});this.rb.GJc(function(m){k.ox.YSa(m);});this.rb.EJc(function(m){k.ox.iQ(m);});this.addListener(n.wT.$aa,function(m){return k.Twc(m);});this.addListener(n.Sa.Wtb,function(m){return k.Fwc(m);});};d.prototype.Fwc=function(k){var m;m=this;this.ox.IJb(k).catch(function(){return m.$b.bd(n.Sa.error,k.kca());});};d.prototype.Twc=function(k){var m,p,r;m=this;p=this.Lb().getError();if(p)this.$b.bd(n.Sa.NU,p);else {k=k.player;p=k.mp().id;if(!this.xlb || this.xlb !== p){r=function(q){return m.Jz(q);};this.Lb().NDb(n.ha.LK,r);k.oGa(n.ha.LK,r);this.xlb=p;}this.$b.bd(n.Sa.qia);this.$b.bd(n.Sa.Zo);this.$b.bd(n.Sa.nA);this.$b.bd(n.Sa.Ao);this.$b.bd(n.Sa.rca);this.$b.bd(n.Sa.NU);}};d.prototype.Jz=function(k){var m,p,r;!1;m=k.metrics;if(m){p=this.Lb();r=p.el(k.position.segmentId);m=p.el(m.srcsegment);this.WYa.hBc(k,r,m,!!p.mrb().Ag);}};b.w$a=d;},15645:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.x$a=void 0;n=a(79048);d.prototype.iLc=function(c){var g;if(!this.kpc(c.$))return c;g=new n.Nv().qG(c.ff);Object.entries(c.$).forEach(function(f){var e;e=Ea(f);f=e.next().value;e=e.next().value;f === c.ff?g.Lf(f,Object.assign(Object.assign({},e),{next:void 0,ib:void 0,Ac:void 0})):g.Lf(f,e);});return g.build();};d.prototype.kpc=function(c){c=Object.values(c).map(function(g){return g.J;});return 1 === new Set(c).size;};b.x$a=d;},79054:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r,q,u,v,w,x,y){this.Oa=r;this.uFc=u;this.Ek=w;this.Ep=y;this.pFc=q.QO(!1,"6.0052.501.911",r.id,x,v);}Object.defineProperty(b,"__esModule",{value:!0});b.DBa=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(52531);f=a(88574);e=a(93488);h=a(2911);l=a(4203);k=a(65473);m=a(63368);a=a(75864);d.prototype.create=function(r,q,u,v){var w,x;w=this.uFc.h9b(r,this.pFc,q);x=r.NZa;u.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new f.lbb(this.Ek,r,q,u,w,v,this.Ep):new k.jM(r,q,w,v,this.Ep);};p=d;b.DBa=p;b.DBa=p=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Sd)),t.__param(1,(0,n.l)(e.Wab)),t.__param(2,(0,n.l)(h.yCa)),t.__param(3,(0,n.l)(l.Cc)),t.__param(4,(0,n.l)(g.oM)),t.__param(5,(0,n.l)(m.ifa)),t.__param(6,(0,n.l)(a.w2))],p);},69751:function(t,b,a){var n,c;function d(g,f,e,h){this.Kqa=f;this.fz=e;this.Ek=h;this.dha={};this.lKb=[];this.gHb=[];this.Xyb=[];this.OGa=new WeakMap();this.reset(g);}Object.defineProperty(b,"__esModule",{value:!0});b.C$a=void 0;n=a(79048);c=a(79048);d.prototype.reset=function(g){var f;f=1 < Object.keys(g.$).length && 1 === new Set(Object.values(g.$).map(function(e){return e.J;})).size;this.eZb=this.Ek.VKb || f;this.rGb(g);this.Vh=g.ff;this.bFa=this.fz.GE();this.FXa=new Map();};d.prototype.YO=function(g){if(this.NZa)return this.om;this.OGa.has(g) || this.OGa.set(g,(0,n.CXa)(g.R,g.L));return this.OGa.get(g);};d.prototype.rGb=function(g){this.In=g;this.dha={};g=Object.keys(g.$);this.whb(g);this.Kqa.CMc(this.In);this.vvc();};d.prototype.ym=function(g){var h;for(var f=[],e=0;e < arguments.length;++e)f[e - 0]=arguments[e];h=this;f.filter(function(l){return h.KK(l.L);}).filter(function(l){l=l.kY;return !l || h.KK(l);}).forEach(function(l){var k;k=l.L;h.dha[k]=h.rzb(l.kY);h.pvc(k);});};d.prototype.whb=function(g){var f;f=this;g.filter(function(e){return f.KK(e);}).forEach(function(e){f.dha[e]=f.rzb(f.Ks(e).Ac);});};d.prototype.Kk=function(g,f){var e,h,l;e=this.Ks(g);if(e && e.next){h=new c.Nv(this.om);l=Object.keys(e.next).reduce(function(k,m){k[m]=void 0 === f[m]?e.next[m]:Object.assign({},e.next[m],{weight:f[m]});return k;},{});l=Object.assign({},e,{next:l});h.Lf(g,l);this.om=h.build();}};d.prototype.KK=function(g,f){f=void 0 === f?this.om.$:f;return (g in f);};d.prototype.i7=function(g){return this.dha[g];};d.prototype.Ks=function(g){return this.om.$[g];};d.prototype.rkc=function(g){if(this.FXa.has(g))return this.FXa.get(g);g=this.Ks(g);return isFinite(g.ib)?g.ib:void 0;};d.prototype.xKb=function(g,f){this.FXa.set(g,f);this.svc(g);};d.prototype.FJc=function(g){this.lKb.push(g);};d.prototype.GJc=function(g){this.gHb.push(g);};d.prototype.EJc=function(g){this.Xyb.push(g);};d.prototype.pX=function(){var g;g=void 0 === g?this.om:g;return Object.values(g.$).every(function(f){return void 0 !== f.jo;}) && 1 < Object.values(g.$).length;};d.prototype.vvc=function(){var g;g=this;this.lKb.forEach(function(f){return f(g.om);});};d.prototype.pvc=function(g){this.Xyb.forEach(function(f){return f(g);});};d.prototype.svc=function(g){this.gHb.forEach(function(f){return f(g);});};d.prototype.rzb=function(g){return null === g?void 0:g;};Ga.Object.defineProperties(d.prototype,{zr:{configurable:!0,enumerable:!0,get:function(){return this.bFa;}},NZa:{configurable:!0,enumerable:!0,get:function(){return this.eZb;}},om:{configurable:!0,enumerable:!0,get:function(){return this.In;},set:function(g){if(this.Vh && !this.KK(this.Vh,g.$))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Vh);this.rGb(g);}},Vh:{configurable:!0,enumerable:!0,get:function(){return this.AWb;},set:function(g){if(!this.KK(g))throw Error("Provided currentSegmentId " + g + " does not exist in the current playgraph");this.AWb=g;}},ea:{configurable:!0,enumerable:!0,get:function(){return this.Ks(this.Vh);}}});b.C$a=d;},69882:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;t=a(22970);n=a(45146);a=a(22674);d.prototype.CMc=function(g){this.In=g;this.Pwb=this.g9b(this.In.$[this.In.ff].jo);};d.prototype.QW=function(g){var l;(0,n.qa)(this.In,"Playgraph should be initialized");for(var f=this.In.ff,e=0,h=new Set();f && !h.has(f);){l=this.In.$[f];if(!l || !l.ib)break;if(g && g === f)break;e+=l.ib - l.cb;h.add(f);f=l.Ac;}return e;};d.prototype.vFc=function(g,f,e){var h,l,k,m,p;(0,n.qa)(this.In,"Playgraph should be initialized");k=this.In.$[f];m=this.QW(f);p=k.jo;if(k && void 0 !== p && void 0 !== m){m=m + g - k.cb;if(p === k.J)return g;g=null === (h=this.Pwb.get(f)) || void 0 === h?void 0:h.before;f=null === (l=this.Pwb.get(f)) || void 0 === l?void 0:l.after;l=g?this.In.$[g].ib:0;e=f?this.In.$[f].cb:e;h=g?this.QW(g) + this.In.$[g].ib - this.In.$[g].cb:0;f=f?this.QW(f):this.QW();if(void 0 != l && void 0 != e && void 0 != h && void 0 != f)return l + (m - h) * (e - l) / (f - h);}};d.prototype.g9b=function(g){var m;(0,n.qa)(this.In,"Playgraph should be initialized");for(var f,e=this.In.ff,h=[],l=new Map(),k=new Set();e && !k.has(e);){m=this.In.$[e];m.J === g?(l.set(e,{before:e,after:e}),f=e,h.forEach(function(p){if(p=l.get(p))p.after=f;}),h=[]):(l.set(e,{before:f,after:void 0}),h.push(e));e=m.Ac;}return l;};c=d;b.GBa=c;b.GBa=c=t.__decorate([(0,a.Y)()],c);},62468:function(t,b,a){var n,c,g,f;function d(e,h){this.Oa=e;this.uqc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(7342);d.prototype.create=function(e){return new (a(58343).fga)(this.Oa.uc(),e);};d.prototype.jlb=function(e){return new (a(64059).uda)(this.Oa.uc(),e,this.uqc);};f=d;b.HBa=f;b.HBa=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Sd)),t.__param(1,(0,n.l)(g.k6a))],f);},98899:function(t,b,a){var n;function d(c){this.Z=c;this.N_={};this.fC();}Object.defineProperty(b,"__esModule",{value:!0});b.F$a=void 0;n=a(56819);d.prototype.fC=function(){var c;c=this;Object.values(this.Z.om.$).forEach(function(g){g=g.J;c.N_[g] || c.Ltb(g);});this.Ita();};d.prototype.fP=function(c){return this.N_[c];};d.prototype.tGc=function(c){this.l7(c).state=n.xM.U3a;this.Ita();};d.prototype.sGc=function(c,g){c=this.l7(c);c.state=n.xM.Error;c.error=g;c.yEb(!1);this.Ita();};d.prototype.dGb=function(c){c=this.l7(c);c.state=n.xM.XOb;c.yEb(!0);this.Ita();};d.prototype.s_b=function(c,g){this.l7(c).zb=g;};d.prototype.TH=function(c,g){this.l7(c).U=g;};d.prototype.l7=function(c){var g;return null !== (g=this.fP(c)) && void 0 !== g?g:this.Ltb(c);};d.prototype.Ltb=function(c){var g,f;g=void 0;f=new Promise(function(e,h){g=function(l){(l?e:h)();};});return this.N_[c]={state:n.xM.y8a,TBc:f,yEb:g};};d.prototype.Ita=function(){var g;for(var c=this.Z.Vh;c=this.Z.i7(c);){g=this.oj(c);if(this.N_[g].state === n.xM.Error)break;if(this.N_[g].state === n.xM.U3a)break;if(this.N_[g].state === n.xM.y8a)break;}};d.prototype.oj=function(c){return this.Z.om.$[c].J;};b.F$a=d;},88574:function(t,b,a){var n,c,g,f,e;function d(h,l,k,m,p,r,q){var u;u=f.jM.call(this,l,k,p,r,q) || this;u.Ek=h;u.ta=m;u.tt=p;u.Wob=!1;u.YKa=new Map();u.Kwc=function(){u.hF().oGa(c.ha.LK,function(v){u.$b.bd(c.wT.$aa,{player:u.tt.hF()});u.rb.Vh=v.position.segmentId;});};u.onc();r.addListener(c.Sa.loaded,u.Kwc);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.lbb=void 0;n=a(79048);c=a(85001);g=a(36129);f=a(65473);e=a(75864);Ia(d,f.jM);d.prototype.ygb=function(h){var l,k,m,p,r,q,u,v,w,x,y;l=this;m=this.rb.om;p=this.Ep.Ew(h.R,"ident");r=this.Ep.Ew(h.R,"main");q=this.Ep.Ew(h.R,"credits");u=isFinite(h.Ui);v=isFinite(h.Db) && h.R !== m.$[m.ff].J;w={};x=new n.Nv(m).Lf(r,Object.assign({J:h.R,cb:v && h.Db || 0,ib:null !== (k=h.Ui) && void 0 !== k?k:Infinity},u?{next:(w[q]={},w),Ac:q}:{}));v && (k={},x.Lf(p,{J:h.R,cb:0,ib:h.Db,next:(k[r]={},k),Ac:r}));u && x.Lf(q,{J:h.R,cb:h.Ui,ib:Infinity});if(!this.rb.KK(r)){h=m.$[this.Ep.Dqb(m)].J;y=this.Ep.Ew(h,e.x2.L1a);[this.Ep.Ew(h,e.x2.Xya),y].filter(function(A){return l.rb.KK(A);}).forEach(function(A){var z,B,C;z=l.rb.Ks(A);B=A === y || l.Ek.Mqa;C={};x.Lf(A,Object.assign({},z,{next:Object.assign({},z.next,(C[r]={},C))},B?{Ac:r}:{}));});}this.rb.om=x.build();return this.HQ(r);};d.prototype.fC=function(){this.kr() && this.hF().fC();};d.prototype.YSa=function(){};d.prototype.iQ=function(h){this.hF().iQ(h);};d.prototype.fOa=function(h,l,k){l=void 0 === l?{}:l;this.ta.debug("goToSegment " + h);return this.hF().G7(h,l,k);};d.prototype.HQ=function(h){if(h === this.oFc)return null;this.oFc=h;return this.Wob?this.xl.fP(this.rb.Ks(h).J).TBc:(this.Wob=!0,f.jM.prototype.HQ.call(this,h));};d.prototype.IJb=function(h){return h.errorCode && this.YKa.has(h.errorCode)?this.YKa.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};d.prototype.onc=function(){var h;h=this;this.YKa.set(g.aa.g9a,function(){var l,k;return null !== (k=null === (l=f.jM.prototype.HQ.call(h,h.rb.Vh)) || void 0 === l?void 0:l.then(function(){var m,p;f.jM.prototype.fOa.call(h,h.rb.Vh,null !== (p=null === (m=h.xl.fP(h.rb.ea.J)) || void 0 === m?void 0:m.zb) && void 0 !== p?p:{});})) && void 0 !== k?k:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.lbb=d;},32754:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.LCb=void 0;t=a(22674);d=a(69493);n=a(28978);c=a(98166);g=a(660);b.LCb=new t.je(function(f){f(d.X2a).to(n.wwa).pa();f(c.n6a).to(g.xya).pa();});},82100:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Z4a=b.wab=b.yA=b.J4a=b.Ofa=b.Nfa=b.bdb=b.cdb=b.lTb=b.bxa=b.TEMPORARY=b.gD=void 0;b.bNa=function(c){var g;g=c.getConfiguration();return [b.yA,b.Ofa,b.Nfa].find(function(f){var e;return null === (e=g.videoCapabilities) || void 0 === e?void 0:e.some(function(h){return h.robustness === f;});});};b.pNa=function(c){var g,f,e,l;try{f=c.match(/\(hr=([0-9a-fA-F]+)\)/);if(f && f[1]){e=parseInt(f[1],16);if((0,d.ec)(e))return e;}f=/\((\d[^)]+)\)/g;for(var h;h=f.exec(c);){l=Number(h[1]);(0,d.ec)(l) && (g=l);}}catch(k){}return g;};b.kub=function(c){return n.ie.dj.test(c);};b.ikb=function(c){return c.robustness?c.keySystem + "." + c.robustness:c.keySystem;};d=a(32687);n=a(22210);b.gD="cenc";b.TEMPORARY="temporary";b.bxa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.lTb="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.cdb="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.bdb="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.Nfa="SW_SECURE_CRYPTO";b.Ofa="SW_SECURE_DECODE";b.J4a="HW_SECURE_DECODE";b.yA="HW_SECURE_ALL";b.wab={Nfa:"SW_SECURE_CRYPTO",Ofa:"SW_SECURE_DECODE",J4a:"HW_SECURE_DECODE",yA:"HW_SECURE_ALL"};b.Z4a=[b.yA];},56039:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Bqb=function(n){var c;c={};try{n.forEach(function(g){var f,e;if(g.bO){for(var h=(0,d.bB),l=g.bO,k=0,m=new Uint8Array(16),p=0;p < l.length;p+=2)m[k++]=parseInt(l.slice(p,p + 2),16);h=h(m);g=null !== (f=g.height) && void 0 !== f?f:g.KVa;c[h]=Math.max(g,null !== (e=c[h]) && void 0 !== e?e:0);}});}catch(g){}return c;};d=a(31276);},69493:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.X2a="DrmProviderSymbol";},98166:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.n6a="LicenseProviderSymbol";},24735:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.hq=void 0;b.cwb=function(d){return ["STANDARD","LIMITED"][d];};(function(d){d[d.oq=0]="STANDARD";d[d.cH=1]="LIMITED";})(a || (b.hq=a={}));},28978:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r,q){this.ek=m;this.cB=p;this.fNc=r;this.yqc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.wwa=void 0;t=a(22970);n=a(22674);c=a(74870);g=a(2248);f=a(84408);e=a(53921);h=a(24735);l=a(82100);a=a(98166);d.prototype.Ws=function(m){var p;p=this;return this.ek.e5(m.iI[0].data[0],[8,4])?Promise.resolve({vX:[{id:"ddd",$vb:"cert",awb:void 0}],uz:[{sessionId:"ddd",data:new Uint8Array(this.cB.decode(l.bdb))}]}):this.ek.e5(m.iI[0].data[0],this.fNc.decode("certificate"))?Promise.resolve({vX:[{id:"ddd",$vb:"cert",awb:void 0}],uz:[{sessionId:"ddd",data:new Uint8Array(this.cB.decode(l.bxa))}]}):this.yqc.vy(this.Lfc(m)).then(function(r){return p.Mfc(r);});};d.prototype.Lfc=function(m){var p,r;p=this;r=m.iI.map(function(q){return q.data.map(function(u){return {sessionId:q.sessionId,dataBase64:p.cB.encode(u)};});});return {Ha:m.Ha,Zd:m.Zd,Pmb:m.Pmb,$h:(0,h.cwb)(m.$h),cO:e.cq[m.cO],iI:r.reduce(function(q,u){return q.concat(u);},[]),ho:m.ho,Jf:m.Jf,J:m.J,Go:m.Go};};d.prototype.Mfc=function(m){return {vX:m.vX,uz:m.uz};};k=d;b.wwa=k;b.wwa=k=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.Il)),t.__param(1,(0,n.l)(g.yl)),t.__param(2,(0,n.l)(f.LD)),t.__param(3,(0,n.l)(a.n6a))],k);},660:function(t,b,a){var n,c,g,f,e;function d(h,l,k,m){this.zZb=h;this.QDc=k;this.kEc=m;this.ta=l.qb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.xya=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(81378);a(24674);f=a(16257);a=a(829);d.prototype.vy=function(h){var l,k;l=this;!1;k=this.QDc.gLc(h);return this.zZb.Se({log:this.ta,links:h.ho,J:h.J},k).then(function(m){m.map(function(p){return p.zqc;});return l.kEc.uJb(m);}).catch(function(m){l.ta.error("PBO license failed",m);return Promise.reject(m);});};e=d;b.xya=e;b.xya=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.uAa)),t.__param(1,(0,n.l)(c.wb)),t.__param(2,(0,n.l)(f.C9a)),t.__param(3,(0,n.l)(a.IAa))],e);},45266:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.wmb=b.rlc=b.WJb=b.gK=b.Foa=b.Oxb=void 0;t=a(29664);d=a(31435);n=a(60024);c=a(56663);a=a(5154);b.Oxb=t;b.Foa=function(g,f){return (0,b.Oxb)(function(e,h){return void 0 !== h?h:e;},g,f);};b.gK=d;b.WJb=n;b.rlc=c;b.wmb=a;},17892:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cVb="StorageValidatorSymbol";b.PG="AppStorageFactorySymbol";},44272:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zbb="Storage";},62945:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;t=a(22674);d=a(91133);n=a(48159);c=a(56278);g=a(42304);f=a(42236);e=a(84970);h=a(57925);l=a(67894);k=a(17892);m=a(86607);p=a(26305);b.storage=new t.je(function(r){r(n.l8a).Kf(function(){return function(){return Ba.localStorage;};});r(n.a5a).Kf(function(){return function(){return Ba.indexedDB;};});r(m.S7a).to(p.yza).pa();r(k.PG).to(l.Sua).pa();r(c.L6a).to(g.Bya).pa();r(d.uea).to(h.Sxa).pa();r(f.B5a).to(e.Txa).pa();r(f.$4a).to(e.Kxa).pa();r(f.C5a).to(e.Uxa).pa();});},56278:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L6a="LocalStorageSymbol";},86607:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.S7a="MemoryStorageSymbol";},48159:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lSb="NativeLocalStorageSymbol";b.l8a="NativeLocalStorageFactorySymbol";b.a5a="IDBFactorySymbol";},31679:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lOb="__default_rule_key__";},67894:function(t,b,a){var c,g,f,e,h,l,k;function d(m,p,r,q){this.ta=m;this.config=p;this.Lmc=r;this.MRa=q;this.MN={mem:{storage:this.MRa,key:"mem"}};this.ZK=this.config.ZK;}function n(m,p,r,q){this.Vg=m;this.Or=p;this.MRa=r;this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Tua=b.Sua=void 0;t=a(22970);c=a(22674);g=a(36129);f=a(42236);e=a(87386);h=a(86607);l=a(31679);a=a(34231);n.prototype.create=function(){this.v5 || (this.v5=this.jV());return this.v5;};n.prototype.jV=function(){this.t0b=new d(this.Vg.qb("AppStorage"),this.config,this.Or,this.MRa);return this.t0b.create();};k=n;b.Sua=k;b.Sua=k=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(e.wb)),t.__param(1,(0,c.l)(f.C5a)),t.__param(2,(0,c.l)(h.S7a)),t.__param(3,(0,c.l)(a.Vr))],k);d.prototype.create=function(){var m;m=this;return this.V8b().then(function(p){if(!m.d4b(p,m.config.W7))throw m.dvc(p);return m;});};d.prototype.load=function(m){var p;p=this;return new Promise(function(r,q){p.V6(m).storage.load(m).then(function(u){r(u);}).catch(function(u){q(u);});});};d.prototype.save=function(m,p,r){var q;q=this;return new Promise(function(u,v){q.V6(m).storage.save(m,p,r).then(function(w){u(w);}).catch(function(w){v(w);});});};d.prototype.remove=function(m){var p;p=this;return new Promise(function(r,q){p.V6(m).storage.remove(m).then(function(){r();}).catch(function(u){q(u);});});};d.prototype.removeAll=function(){var m;m=this;return new Promise(function(p,r){m.FDb("mem").then(function(){return m.FDb("idb");}).catch(function(q){return Promise.reject(q);}).then(function(){p();}).catch(function(q){m.ta.error("remove all failed");r(q);});});};d.prototype.loadAll=function(){var m,p;m=this;p=[];return this.twb("mem").then(function(r){p=p.concat(r);return m.twb("idb");}).catch(function(r){m.mpc(r) || m.ta.error("IndexedDb.LoadAll exception",r);return [];}).then(function(r){return p=p.concat(r);}).catch(function(r){m.ta.error("load all failed",r);throw r;});};d.prototype.V8b=function(){var m;m=this;return this.Lmc.create().then(function(p){m.MN.idb={storage:p,key:"idb"};}).catch(function(p){m.ta.error("idb failed to load",p);return p || ({Ma:g.W.hk});});};d.prototype.d4b=function(m,p){return !m || m && p?!0:!1;};d.prototype.dvc=function(m){var p;p="";m && (p+=m.Ma);return {Ma:p};};d.prototype.FDb=function(m){return (m=this.MN[m])?m.storage.removeAll():Promise.resolve();};d.prototype.twb=function(m){return (m=this.MN[m])?m.storage.loadAll():Promise.resolve([]);};d.prototype.Mec=function(m){for(var p in this.ZK)if(m.startsWith(p))return this.ZK[p];return this.ZK[l.lOb];};d.prototype.V6=function(m){var p,r;p=this;this.Mec(m).every(function(q){return p.MN[q]?(r=p.MN[q],!1):!0;});if(!r){this.ta.error("component not found for storageKey",{cJc:m,lWc:Object.keys(this.MN),rules:this.ZK});r=this.MN.mem;}this.ta.trace("component found for key",{storageKey:m,componentKey:r.key});return r;};d.prototype.mpc=function(m){return (m && (m.Ma || m.errorSubCode)) === g.W.FD;};b.Tua=d;},6675:function(t,b){function a(d,n){this.lE=d;this.Cf=n;}Object.defineProperty(b,"__esModule",{value:!0});b.tya=void 0;a.prototype.load=function(d,n){var c;c=this;this.lE.load(d).then(function(g){n && n(a.mIb(g));}).catch(function(g){n && n(c.TE(d,g));});};a.prototype.save=function(d,n,c,g){var f;f=this;this.lE.save(d,n,c).then(function(){g && g(a.mIb({key:d,value:n}));}).catch(function(e){g && g(f.TE(d,e));});};a.prototype.remove=function(d,n){var c;c=this;this.lE.remove(d).then(function(){n && n({success:!0,Usa:d});}).catch(function(g){n && n(c.TE(d,g));});};a.mIb=function(d){return {success:!0,data:d.value,Usa:d.key};};a.prototype.TE=function(d,n){return {success:!1,Usa:d,Ma:n.Ma,df:n.Ec?this.Cf.Mi(n.Ec):void 0};};b.tya=a;},42304:function(t,b,a){var n,c,g;function d(f){this.iK=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Bya=void 0;t=a(22970);n=a(22674);c=a(36129);a=a(48159);d.prototype.load=function(f){var e;e=this;return new Promise(function(h,l){var k,m;try{k=e.iK.getItem(f);if(k){m=k;if("{" === k[0])try{m=JSON.parse(k) || k;}catch(p){}h({key:f,value:m});}else l({Ma:c.W.FD});}catch(p){l({Ma:c.W.Kab,Ec:p});}});};d.prototype.save=function(f,e,h){var l;l=this;return new Promise(function(k,m){if(h && l.iK.getItem(f))k(!1);else try{"string" === typeof e?l.iK.setItem(f,e):l.iK.setItem(f,JSON.stringify(e));k(!0);}catch(p){m({Ma:c.W.Lab,Ec:p});}});};d.prototype.remove=function(f){var e;e=this;return new Promise(function(h,l){try{e.iK.removeItem(f);h();}catch(k){l({Ma:c.W.oCa,Ec:k});}});};d.prototype.loadAll=function(){return Promise.reject("Not supported");};d.prototype.removeAll=function(){return Promise.reject("Not supported");};g=d;b.Bya=g;b.Bya=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.lSb))],g);},26305:function(t,b,a){var n,c,g;function d(f){this.Vg=f;this.fQ={};this.ta=this.Vg.qb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.yza=void 0;t=a(22970);n=a(22674);c=a(36129);a=a(87386);d.prototype.load=function(f){var e;if(this.fQ.hasOwnProperty(f)){e=this.fQ[f];this.ta.debug("Storage entry loaded",{key:f});return Promise.resolve({key:f,value:e});}this.ta.debug("Storage entry not found",{key:f});return Promise.reject({Ma:c.W.FD});};d.prototype.save=function(f,e,h){if(h && this.fQ.hasOwnProperty(f))return Promise.resolve(!1);this.fQ[f]=e;return Promise.resolve(!0);};d.prototype.remove=function(f){delete this.fQ[f];return Promise.resolve();};d.prototype.loadAll=function(){var f;f=Object.entries(this.fQ).map(function(e){var h;h=Ea(e);e=h.next().value;h=h.next().value;return {key:e,value:h};});return Promise.resolve(f);};d.prototype.removeAll=function(){this.fQ={};return Promise.resolve();};g=d;b.yza=g;b.yza=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.wb))],g);},92093:function(t,b,a){var c,g,f;function d(e,h,l){this.config=e;this.Gp=h;this.iK=l;}function n(e,h){this.reason=e;this.Ec=h;}Object.defineProperty(b,"__esModule",{value:!0});b.A5a=b.pUb=void 0;c=a(36129);g=a(59818);(function(e){e[e.Xza=0]="NoData";e[e.Error=1]="Error";e[e.JD=2]="Timeout";})(f || (b.pUb=f={}));d.prototype.load=function(e){var h;h=this;return new Promise(function(l,k){h.Hka("get",!1,e).then(function(m){l({key:e,value:m});}).catch(function(m){var p;p=c.W.Kab;switch(m.reason){case f.Xza:p=c.W.FD;break;case f.JD:p=c.W.RUb;}k({Ma:p,Ec:m.Ec});});});};d.prototype.save=function(e,h,l){var k;k=this;return new Promise(function(m,p){k.Hka(l?"add":"put",!0,{name:e,data:h}).then(function(){m(!l);}).catch(function(r){var q;q=c.W.Lab;switch(r.reason){case f.JD:q=c.W.UUb;}p({Ma:q,Ec:r.Ec});});});};d.prototype.remove=function(e){var h;h=this;return new Promise(function(l,k){h.Hka("delete",!0,e).then(function(){l();}).catch(function(m){var p;p=c.W.oCa;switch(m.reason){case f.JD:p=c.W.Jab;}k({Ma:p,Ec:m.Ec});});});};d.prototype.removeAll=function(){var e;e=this;return new Promise(function(h,l){e.Hka("clear",!0,"").then(function(){h();}).catch(function(k){var m;m=c.W.oCa;switch(k.reason){case f.JD:m=c.W.Jab;}l({Ma:m,Ec:k.Ec});});});};d.prototype.loadAll=function(){var e;e=this;return this.Gp.ot(this.config.timeout,new Promise(function(h,l){var k,m,p;if(e.config.AXa)l(new n(e.config.AXa));else {k=[];m=e.iK.transaction(e.config.k$,"readonly");p=m.objectStore(e.config.k$).openCursor();m.onerror=function(){l(new n(f.Error,p.error));};p.onsuccess=function(r){if(r=r.target.result)try{k.push({key:r.value.name,value:r.value.data});r.continue();}catch(q){l(new n(f.Error,q));}else h(k);};p.onerror=function(){l(new n(f.Error,p.error));};}})).catch(function(h){return h instanceof g.Pv?Promise.reject(new n(f.JD,h)):h instanceof n?Promise.reject(h):Promise.reject(new n(f.Error,h));});};d.prototype.Hka=function(e,h,l){var k;k=this;return this.Gp.ot(this.config.timeout,new Promise(function(m,p){var r,q;r=k.iK.transaction(k.config.k$,h?"readwrite":"readonly");q=r.objectStore(k.config.k$)[e](l);r.onerror=function(){p(new n(f.Error,q.error));};q.onsuccess=function(u){var v;if("get" == e)try{v=u.target.result;v?m(v.data):p(new n(f.Xza));}catch(w){p(new n(f.Xza,w));}else m(void 0);};q.onerror=function(){p(new n(f.Error,q.error));};})).catch(function(m){return m instanceof g.Pv?Promise.reject(new n(f.JD,m)):m instanceof n?Promise.reject(m):Promise.reject(new n(f.Error,m));});};b.A5a=d;},91133:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uea="IndexedDBConfigSymbol";},42236:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$4a="IDBDatabaseFactorySymbol";b.B5a="IndexedDBFactorySymbol";b.C5a="IndexedDBStorageFactorySymbol";},57925:function(t,b,a){var n,c,g,f,e;function d(h,l){h=g.Ef.call(this,h,"IndexedDBConfigImpl") || this;h.config=l;h.version=1;h.k$="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Sxa=void 0;t=a(22970);n=a(22674);c=a(12501);g=a(64174);f=a(34231);a=a(83767);Ia(d,g.Ef);Ga.Object.defineProperties(d.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.RE?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.MHb;}},aia:{configurable:!0,enumerable:!0,get:function(){return this.config.aia;}},BXa:{configurable:!0,enumerable:!0,get:function(){return 0;}},AXa:{configurable:!0,enumerable:!0,get:function(){return 0;}},$ob:{configurable:!0,enumerable:!0,get:function(){return !0;}}});e=d;b.Sxa=e;t.__decorate([c.config(c.Ex,"simulateIdbOpenError")],e.prototype,"BXa",null);t.__decorate([c.config(c.Ex,"simulateIdbLoadAllError")],e.prototype,"AXa",null);t.__decorate([c.config(c.fd,"fixInvalidDatabase")],e.prototype,"$ob",null);b.Sxa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Fn)),t.__param(1,(0,n.l)(f.Vr))],e);},84970:function(t,b,a){var g,f,e,h,l,k,m,p,r,q,u,v;function d(w,x,y,A,z,B){this.config=x;this.z5=y;this.Or=A;this.uNc=z;this.xn=B;this.ta=w.qb(k.zbb);}function n(w,x){this.config=w;this.NC=x;}function c(w,x,y,A,z){this.config=x;this.NC=y;this.xn=z;this.ta=w.qb(k.zbb);this.z5=new Promise(function(B,C){var D;try{D=A();D?B(D):C({Ma:l.W.b5a});}catch(F){C({Ma:l.W.sea,Ec:F});}});}Object.defineProperty(b,"__esModule",{value:!0});b.Uxa=b.Txa=b.Kxa=void 0;t=a(22970);g=a(22674);f=a(87386);e=a(92093);h=a(48159);l=a(36129);k=a(44272);m=a(91133);p=a(59818);r=a(17892);q=a(77134);u=a(42236);v=a(63156);c.prototype.create=function(){this.FJa || (this.FJa=this.jV());return this.FJa;};c.prototype.Cs=function(w){var x;x=this;this.FJa=null;return this.NC.ot(this.config.timeout,new Promise(function(y,A){w.close();x.delete(w.name).then(function(){y();}).catch(function(z){A(z);});})).catch(function(y){return y instanceof p.Pv?Promise.reject({Ma:l.W.sea}):y.Ma?Promise.reject(y):Promise.reject({Ma:l.W.sea,Ec:y});});};c.prototype.delete=function(w){var x;x=this;return this.NC.ot(this.config.timeout,new Promise(function(y,A){x.z5.then(function(z){var B;B=z.deleteDatabase(w);B.onsuccess=function(){y();};B.onerror=function(){A({Ma:l.W.sea,Ec:B.error});};}).catch(function(z){A(z);});}));};c.prototype.jV=function(){var w,x;w=this;return this.NC.ot(this.config.timeout,new Promise(function(y,A){if(w.config.BXa)return A({Ma:w.config.BXa});w.z5.then(function(z){w.xn.mark(v.Km.gQb);x=z.open(w.config.name,w.config.version);if(!x)return A({Ma:l.W.c5a});x.onblocked=function(){w.xn.mark(v.Km.dQb);A({Ma:l.W.$Pb});};x.onupgradeneeded=function(){var B;w.xn.mark(v.Km.nQb);B=x.result;try{B.createObjectStore(w.config.k$,{keyPath:"name"});}catch(C){w.ta.error("Exception while creating object store",C);}};x.onsuccess=function(B){var C,D;w.xn.mark(v.Km.mQb);try{C=B.target.result;D=C.objectStoreNames.length;w.ta.trace("objectstorenames length ",D);if(0 === D){w.ta.error("invalid indexedDb state, deleting");w.xn.mark(v.Km.fQb);try{C.close();}catch(F){}z.deleteDatabase(w.config.name);setTimeout(function(){A({Ma:l.W.ZPb});},1);return;}}catch(F){w.ta.error("Exception while inspecting indexedDb objectstorenames",F);}y(x.result);};x.onerror=function(){w.xn.mark(v.Km.eQb);w.ta.error("IndexedDB open error",x.error);A({Ma:l.W.aQb,Ec:x.error});};}).catch(function(z){A(z);});})).catch(function(y){if(y instanceof p.Pv){try{x && x.readyState && w.xn.mark("readyState-" + x.readyState);}catch(A){}if(w.config.aia && x && "done" === x.readyState){if(w.kNc(x))return (w.xn.mark(v.Km.kQb),Promise.resolve(x.result));w.xn.mark(v.Km.jQb);}w.xn.mark(v.Km.iQb);return Promise.reject({Ma:l.W.cQb});}if(y.Ma)return Promise.reject(y);w.xn.mark(v.Km.hQb);w.ta.error("IndexedDB open exception occurred",y);return Promise.reject({Ma:l.W.bQb,Ec:y});});};c.prototype.kNc=function(w){try{return 0 < w.result.objectStoreNames.length;}catch(x){this.xn.mark(v.Km.lQb);this.ta.error("failed to check open request state",x);}return !1;};a=c;b.Kxa=a;b.Kxa=a=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(f.wb)),t.__param(1,(0,g.l)(m.uea)),t.__param(2,(0,g.l)(p.CD)),t.__param(3,(0,g.l)(h.a5a)),t.__param(4,(0,g.l)(q.IT))],a);n.prototype.create=function(w){return Promise.resolve(new e.A5a(this.config,this.NC,w));};a=n;b.Txa=a;b.Txa=a=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(m.uea)),t.__param(1,(0,g.l)(p.CD))],a);d.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.v5 || (this.v5=this.jV(this.uNc));return this.v5;};d.prototype.jV=function(w){var x;x=this;w=void 0 === w?[]:w;return new Promise(function(y,A){x.xn.mark(v.Km.QUb);x.z5.create().then(function(z){x.Or.create(z).then(function(B){Promise.all(w.map(function(C){return C.validate(B);})).then(function(){x.storage=B;y(x.storage);}).catch(function(C){x.ta.debug("DB validation failed, cause: " + C);x.config.$ob?(x.ta.debug("Fixing corrupt DB"),x.z5.Cs(z).then(function(){x.ta.error("Invalid database deleted, creating new database.");x.jV().then(function(D){x.ta.error("Invalid database successfully recreated.");x.storage=D;y(x.storage);});}).catch(function(D){x.ta.error("Couldn't delete invalid database.");A(D);})):(x.ta.debug("Ignoring invalid DB due to config"),x.storage=B,y(x.storage));});}).catch(function(B){A(B);});}).catch(function(z){A(z);});});};a=d;b.Uxa=a;b.Uxa=a=t.__decorate([(0,g.Y)(),t.__param(0,(0,g.l)(f.wb)),t.__param(1,(0,g.l)(m.uea)),t.__param(2,(0,g.l)(u.$4a)),t.__param(3,(0,g.l)(u.B5a)),t.__param(4,(0,g.optional)()),t.__param(4,(0,g.QF)(r.cVb)),t.__param(5,(0,g.l)(q.IT))],a);},69899:function(t,b,a){var c;function d(g,f,e){this.start=g;this.track=f;this.aL=Array.isArray(e)?e:[];}function n(g,f){this.log=g;this.Uta=f;this.XUa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Jbb=void 0;c=a(45146);n.prototype.DZb=function(g,f){this.Ryb(g,f,"activating");};n.prototype.r$b=function(g){this.QKa(g,"de-activating");};n.prototype.Ryb=function(g,f,e){var h;this.Tm && this.QKa(g,"close current for new");h=[];this.orphans.length && (h.push.apply(h,za(this.orphans)),this.orphans=[]);this.Tm=new d(g,f,h);this.Uta && this.log.trace("new range: " + e,this.Tm);};n.prototype.QKa=function(g,f){this.Tm && (this.Tm.end=g,this.XUa.push(this.Tm),this.Uta && this.log.trace("end range: " + f,this.Tm || ({})),this.Tm=void 0);};n.prototype.DKb=function(g){for(var f=[],e=0;e < arguments.length;++e)f[e - 0]=arguments[e];this.Tm?this.Tm.aL.push.apply(this.Tm.aL,za(f)):this.orphans.push.apply(this.orphans,za(f));};n.prototype.MNa=function(g){var f,e;f=this.XUa.slice(0);if(this.Tm && "undefined" !== typeof g){e=new d(this.Tm.start,this.Tm.track,this.Tm.aL);e.end=g;f.push(e);}g=f.reduce(function(h,l){var k,m,p,r;if(!l.track)return h;m=l.track.Yb;p=l.track.pp(l.start,l.end);if(void 0 === p || null === p)return h;r=new Set(l.aL);h[m]?(l=h[m],l.expected+=p,l.missed+=p - r.size):h[m]={dlid:m,bcp47:l.track.wg,profile:l.track.profile,expected:p,missed:p - r.size,startPts:null !== (k=l.track.vkc()) && void 0 !== k?k:0};return h;},{});g=Object.values(g);this.Uta && this.log.trace("subtitleqoe:",JSON.stringify(g,null,"\t"));return g;};n.prototype.lkc=function(g){var f,e,h,l;f=this.XUa.slice(0);e=0;h=0;if(this.Tm && "undefined" != typeof g){l=new d(this.Tm.start,this.Tm.track,this.Tm.aL);l.end=g;f.push(l);}f.forEach(function(k){var m,p;if(k.track){if(k.end < k.start){(0,c.qa)(!1,"negative range");k.IK=0;return;}m=new Set(k.aL);p=k.track.pp(k.start,k.end);k.Jka=p;k.IK=void 0 === p || null === p?0:0 === p?100:100 * m.size / p;}else k.IK=100;m=k.end - k.start;e+=m;h+=k.IK * m;});l=e?Math.round(h / e):100;this.log.trace("qoe score " + l + ", at pts: " + g);this.Uta && (g=f.map(function(k){return {start:k.start,"end  ":k.end,duration:k.end - k.start,score:Math.round(k.IK),lang:k.track?k.track.wg:"none","actual  ":k.aL.join(" "),expected:k.Jka};}),this.log.trace("score for each range: ",JSON.stringify(g,function(k,m){return m;}," ")));return l;};b.Jbb=n;},40076:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.PR=void 0;t=a(22674);d=a(53205);n=a(29773);c=a(22692);g=a(87549);b.PR=new t.je(function(f){f(g.Zbb).to(d.$Ca);f(c.Xbb).Bo(new n.ZCa());f(g.Ybb).Kf(function(e){return function(){return e.Hb.get(g.Zbb);};});});},87549:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zbb="ThroughputTrackerSymbol";b.Ybb="ThroughputTrackerFactorySymbol";},22692:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xbb="ThroughputTrackerConfigSymbol";},70826:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.U2a=void 0;d=a(72574);b.U2a=function(n,c){this.mbc=n;this.size=c.PPa()?d.fa:c;};},29773:function(t,b,a){function d(n){this.nbc=void 0 === n?10:n;}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;t=a(22970);a=a(22674);b.ZCa=d;b.ZCa=d=t.__decorate([(0,a.Y)()],d);},53205:function(t,b,a){var n,c,g,f;function d(e){this.config=e;this.DXa=c.fa;this.UZ=[];}Object.defineProperty(b,"__esModule",{value:!0});b.$Ca=void 0;t=a(22970);n=a(22674);c=a(72574);g=a(5021);a=a(22692);d.prototype.ar=function(){var h;for(var e;0 < this.UZ.length;)(e=this.UZ.shift(),this.hgb(e));e=void 0 === this.U5 || void 0 === this.$N?g.fa:this.$N.ca(this.U5);h=e.Tub()?0:this.DXa.la(c.HL) / e.la(g.wa);return {DYa:Math.floor(h),$Xc:e.la(g.wa)};};d.prototype.XZb=function(e){this.DXa=this.DXa.add(e.size);this.UZ.push(e.mbc);for(this.UZ.sort(function(h,l){return h.start.Ul(l.start);});this.UZ.length > this.config.nbc;)(e=this.UZ.shift(),this.hgb(e));};d.prototype.hgb=function(e){void 0 === this.U5 && (this.U5=e.start);void 0 !== this.$N && 0 > this.$N.Ul(e.start) && (this.U5=this.U5.add(e.start.ca(this.$N)));if(void 0 === this.$N || 0 > this.$N.Ul(e.end))this.$N=e.end;};f=d;b.$Ca=f;b.$Ca=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Xbb))],f);},35781:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r,q,u,v,w){var x,y;p=e.uM.call(this,r,p,v,!0,{correlationId:"",Bp:"content"},"1",[{Uh:0,url:q,type:"unknown"}],"xx",u || p,h.Pt.sT,void 0,void 0,"primary",null !== (x=null === w || void 0 === w?void 0:w.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (y=null === w || void 0 === w?void 0:w.midx) && void 0 !== y?y:{},!1,!1,null === w || void 0 === w?void 0:w.isLanguageLeftToRight) || this;p.j=r;p.url=q;p.options=w;p.Ix=null === w || void 0 === w?void 0:w.useRangeHeader;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.$bb=void 0;t=a(13044);n=a(29204);c=a(37509);g=a(31276);f=a(52569);e=a(26159);h=a(35128);l=a(61726);k=a(43193);m=a(85001);(0,t.TTb)(t.gBa,function(p){var q;function r(u){var v;if(u.ctrlKey && u.altKey && u.shiftKey && u.keyCode == k.aT.fVb){v=(0,f.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var w,x,y;w=v.files[0];if(w){x=w.name;q.info("Loading file",{FileName:x});y=new FileReader();y.readAsText(w);y.addEventListener("load",function(){return p.Sp.eGa("nourl",x,{content:y.result});});}});v.click();}}q=(0,g.bn)(p,"TimedTextCustomTrack");n.config.CJa && (q.info("Loading url",{Url:n.config.CJa}),p.Sp.eGa(n.config.CJa,"custom"));c.oe.addListener(c.YI,r);p.addEventListener(m.ha.Tg,function(){c.oe.removeListener(c.YI,r);});});Ia(d,e.uM);d.G8b=function(p,r,q,u){var v;v="custom" + d.Knc++;return new d(v,p,r,q,-1,u);};d.prototype.Nmb=function(){var p;p=this;return new Promise(function(r,q){var u,v;if(null === (u=p.options) || void 0 === u?0:u.content)r(p.options.content);else if(p.url){v={responseType:l.DOa,url:p.url,track:p,Kc:void 0,wI:"tt-" + p.wg,zx:"unknown"};p.j.Dma.download(v,function(w){w.success?r(w.content):(w.reason="downloadfailed",w.url=v.url,w.track=p,q(w));});}});};b.$bb=d;d.Knc=0;},97154:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m,p){this.eL=l;this.Zka=k;this.OE={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,n.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.gGb(m);this.MLa=this.oqb(this.Zka);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.acb=void 0;n=a(52569);c=a(33579);g=a(15531);f=a(29204);e=a(22365);h=a(3887);d.prototype.mp=function(){return this.element;};d.prototype.bGc=function(l){this.$A=l;};d.prototype.qGc=function(l){this.entry=l;this.UQ();};d.prototype.BGc=function(l){this.gGb(l);this.UQ();};d.prototype.CGc=function(l){this.lang=l;this.UQ();};d.prototype.UQ=function(){var l,k,m,p,r,q,u,v,w,x,y,A,B,C,D;l=this;k=this.mp();m=k.parentElement;p=m && m.clientWidth || 0;r=m && m.clientHeight || 0;q=m=0;u=0;v={width:p,height:r};x=this.eL.Vpb().characterSize;this.lang && f.config.Mma && f.config.Mma.includes(this.lang) && "MEDIUM" === x && (u=1.4);this.lang && f.config.Nma && f.config.Nma.includes(this.lang) && "SMALL" === x && (u=1.6);if(0 < p && 0 < r && this.entry){this.$A && (v=(0,n.Xka)(p,r,this.$A),m=Math.round((p - v.width) / 2),q=Math.round((r - v.height) / 2));y=this.N3b(v);A=(0,n.Xka)(y.width,y.height,this.$A);(w=this.oIc(this.entry.blocks)) && (w=this.yEc(w));y=w && w.map(function(F){var H;H=null === F || void 0 === F?void 0:F.region;switch(H.horizontalAlignment){case "start":H.horizontalAlignment="rtl" === l.OE.direction?"right":"left";break;case "end":H.horizontalAlignment="rtl" === l.OE.direction?"left":"right";}H=(0,g.Dnb)(F,A,l.Zka,l.MLa,u);F=(0,g.mdc)(F) + ";position:absolute";return (0,n.createElement)("div",F,H,d.Yva);});}Object.assign(this.OE,{left:m + "px",right:m + "px",top:q + "px",bottom:q + "px"});k.style.display="none";k.style.direction=this.OE.direction;k.innerHTML="";if(y && y.length){p=v.width;m=v.height;x=v;this.L4 && (x=this.xZb(v,this.L4,r,q));this.OE.margin=this.Zw?this.Qia(v,"top") + "px " + this.Qia(v,"right") + "px " + this.Qia(v,"bottom") + "px " + this.Qia(v,"left") + "px ":void 0;y.forEach(function(F){return k.appendChild(F);});r=(0,n.q5)(this.OE);k.style.cssText=r + ";visibility:hidden;z-index:-1";q=[];for(var z=y.length - 1;0 <= z;z--){B=y[z];C=w[z];D=this.ezb(B,C,p,m);u=0 < u?p / D.width * u:p / D.width;D.width > p && (B.innerHTML=(0,g.Dnb)(C,v,this.Zka,this.MLa,u),D=this.ezb(B,C,p,m));q[z]=D;}q=(0,c.NLc)(q,x);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(x=z.windowColor,z=z.windowOpacity,x && 0 < z && (B=Math.round(m / 50),v=(0,g.odc)(w,q,B,x,v),v=(0,n.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,v,d.Yva),k.insertBefore(v,k.firstChild)));k.style.display="none";for(v=q.length - 1;0 <= v;v--)(z=q[v],x=y[v].style,B=w[v].region,z=(0,g.ndc)(B,z,p,m,0),Object.assign(x,z));k.style.cssText=r;}};d.prototype.fXa=function(l){this.L4=l;this.UQ();};d.prototype.QNa=function(){return this.L4;};d.prototype.gXa=function(l){this.Zw=l;this.UQ();};d.prototype.RNa=function(){return this.Zw;};d.prototype.SNa=function(){return "block" === this.OE.display;};d.prototype.hXa=function(l){var k;k=l?"block":"none";this.element.style.display=k;this.OE.display=k;l && this.UQ();};d.prototype.lMc=function(l){this.Zka=l;this.MLa=this.oqb(l);};d.prototype.oqb=function(l){var k,m;k=this;m={};(0,h.Yh)(l,function(p,r){m[p]=k.otc(r);});return m;};d.prototype.gGb=function(l){this.OE.direction="boolean" === typeof l?l?"ltr":"rtl":"inherit";};d.prototype.Qia=function(l,k){if(this.Zw){if("left" === k || "right" === k)return l.width * (this.Zw[k] || 0);if("top" === k || "bottom" === k)return l.height * (this.Zw[k] || 0);}return 0;};d.prototype.N3b=function(l){return this.Zw?{height:l.height * (1 - (this.Zw.top || 0) - (this.Zw.bottom || 0)),width:l.width * (1 - (this.Zw.left || 0) - (this.Zw.right || 0))}:l;};d.prototype.otc=function(l){var k;l="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + l + ";";l=(0,n.createElement)("DIV",l,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",d.Yva);e.fi.body.appendChild(l);k={fontSize:1E3,height:l.clientHeight,width:l.clientWidth / 52,lineHeight:l.clientHeight / 1E3};e.fi.body.removeChild(l);return k;};d.prototype.ezb=function(l,k,m,p){var r,q,u,v,w;r=k.region;q=(r.marginTop || 0) * p;u=(r.marginBottom || 0) * p;v=(r.marginLeft || 0) * m;w=(r.marginRight || 0) * m;k=l.clientWidth || 1;l=l.clientHeight || 1;switch(r.verticalAlignment){case "top":p=q;break;case "center":p=(q + p - u - l) / 2;break;default:p=p - u - l;}switch(r.horizontalAlignment){case "left":m=v;break;case "right":m=m - w - k;break;default:m=(v + m - w - k) / 2;}return {top:p,left:m,width:k,height:l};};d.prototype.xZb=function(l,k,m,p){return {height:m - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:l.width};};d.prototype.yEc=function(l){var k,r,q,u;k=l && l.map(function(v,w){var x;return "vertical-rl" === (null === (x=null === v || void 0 === v?void 0:v.region) || void 0 === x?void 0:x.writingMode)?w:-1;}).filter(function(v){return -1 !== v;});if(k && 0 !== k.length)for(var m=0,p=k.length - 1;m < p;(m++,p--)){r=k[m];q=k[p];u=Ea([l[q],l[r]]);l[r]=u.next().value;l[q]=u.next().value;}return l;};d.prototype.oIc=function(l){var k,m;if(!l || 0 === l.length)return l;m=l.filter(function(q){var u;return "horizontal-tb" === (null === (u=q.region) || void 0 === u?void 0:u.writingMode);}).sort(function(q,u){return q.region.marginTop - u.region.marginTop;});if(!m || 0 === m.length)return l;for(var p=0,r=0;p < m.length && r < l.length;r++)"horizontal-tb" === (null === (k=l[r].region) || void 0 === k?void 0:k.writingMode) && (l[r]=m[p++]);return l;};b.acb=d;d.Yva={"class":"player-timedtext-text-container"};},99416:function(t,b){function a(d){this.Qf=d.LKc;this.oTa=d.MKc;this.TQa={};}Object.defineProperty(b,"__esModule",{value:!0});b.ccb=void 0;a.prototype.Vpb=function(){return Object.assign(Object.assign(Object.assign({},this.Qf),this.oTa),this.TQa);};a.prototype.sjc=function(){return Object.assign(Object.assign({},this.oTa),this.TQa);};a.prototype.LGc=function(d){this.TQa.characterSize=d;};b.ccb=a;},7953:function(t,b){function a(d,n){var c;c=this;this.Vqb=d;this.Izb=n;this.LYa=!1;this.AY=function(){c.Tp=void 0;c.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.fcb=void 0;a.prototype.update=function(d){var n,c,g,f,e;g=this.Vqb();if(this.EKb !== g){f=null === (c=null === (n=this.q9) || void 0 === n?void 0:n.OI(g)) || void 0 === c?void 0:c[0];if(f && ("startTime" in f))if(f.startTime <= g && g <= f.endTime){e=f;this.oKb(f.endTime - g);}else this.oKb(f.startTime - g);this.EKb=g;this.PFa !== e && (this.PFa=e,!d && this.Izb && this.Izb());}};a.prototype.start=function(){this.LYa=!0;this.update();};a.prototype.mGb=function(d){this.q9=d;this.PFa=this.EKb=void 0;d || this.stop();};a.prototype.stop=function(){this.LYa=!1;this.yt();};a.prototype.kgc=function(){this.update(!0);return this.PFa;};a.prototype.oKb=function(d){this.yt();this.LYa && 0 < d && (this.Tp=Ba.setTimeout(this.AY,d + a.$Rb));};a.prototype.yt=function(){this.Tp && (Ba.clearTimeout(this.Tp),this.Tp=void 0);};b.fcb=a;a.$Rb=10;},26159:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;function d(x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P){this.j=x;this.trackId=y;this.wc=A;this.hg=z;this.lJb=B;this.Yb=C;this.urls=D;this.wg=F;this.displayName=H;this.Ci=E;this.IR=G;this.variant=K;this.wK=N;this.profile=I;this.Az=L;this.mY=O;this.xfc=J;this.kna=Q;this.cz=P;this.type=f.Jm.u_;this.Ix=void 0;this.wp=!(!I || I != h.rq.mT);this.ai={bcp47:F,trackId:y,downloadableId:C,isImageBased:this.wp};this.log=(0,e.bn)(x,"TimedTextTrack");this.state=w.Uea;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.uM=void 0;n=a(22970);c=a(61726);g=a(29204);f=a(51344);e=a(31276);h=a(75568);l=a(45146);k=a(32687);m=a(58174);p=a(85001);r=a(36129);q=a(92020);u=a(32934);v=a(45247);(function(x){x[x.Uea=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.aM=2]="LOADED";x[x.T1=3]="LOAD_FAILED";})(w || (w={}));d.prototype.Pma=function(x){var y;y=this;if(this.j.state.value === p.xc.CLOSED || this.j.state.value === p.xc.CLOSING)return Promise.reject({success:!1});if(this.g_ && this.j.qf)return Promise.resolve({success:!0,track:this});if(this.wp)return this.Dnc();if(this.j.Fc.xa)return (this.state=w.LOADING,this.Ktb(x));this.Kmb || (this.Kmb=this.Nmb());return this.Kmb.then(function(A){return y.Ktb(x,A);});};d.prototype.getState=function(){return this.state;};d.prototype.xp=function(){return this.mY;};d.prototype.co=function(){return this.xfc;};d.prototype.LNa=function(){var x;return (null === (x=this.g_) || void 0 === x?0:x.ready)?this.g_.q9:void 0;};d.prototype.pp=function(x,y){var A;try{return null === (A=this.LNa()) || void 0 === A?void 0:A.pp(x,y);}catch(z){this.log.error("error in getSubtitlesCount",z,{start:x,end:y,isImageBased:this.wp});}};d.prototype.vkc=function(){var x,y,A;if(!(0,k.$c)(this.Db))try{A=null === (y=null === (x=this.LNa()) || void 0 === x?void 0:x.OI(0)) || void 0 === y?void 0:y[0];this.Db=null === A || void 0 === A?void 0:A.displayTime;}catch(z){this.log.error("exception in getStartPts",z);}return this.Db;};d.prototype.RUa=function(x){var y,A;(0,l.qa)((0,v.Yma)(x));(0,l.qa)(null === (y=this.j.U) || void 0 === y?void 0:y.ya.Ti,"Live manifest is unavailable.");(0,l.qa)(null === (A=this.g_) || void 0 === A?void 0:A.q9,"Subtitle manager is unavailable");y=x.JJb;this.g_.q9.RUa({L:x.L,xml:y,Db:x.Db,xg:x.xg,size:y.length,qx:x.qx,endOfStream:x.endOfStream});};d.prototype.Hr=function(x){return this.j.state.value === p.xc.CLOSING || this.j.state.value === p.xc.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.ja.Cd !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};d.prototype.llb=function(x){var y,A;y=this;A=(0,e.bn)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,m.K9b)(this.j,A,this.request,this);x=new q.default(A,x);this.g_={q9:x,ready:!1};x.on("ready",function(){y.g_.ready=!0;});return x;};d.prototype.Dnc=function(){var x,y,A,z,B,C,D;x=this;if(!this.Gtb){this.state=w.LOADING;y={profile:"nflx-cmisc",url:"",Khb:!1,RRa:this.Az.offset,Yxb:this.Az.length,re:this.j.mediaTime.value || 0,bufferSize:g.config.Tmc,isa:{$:this.j.S6()}};A=(this.urls || []).map(function(F){return F.Uh;});z=0;B={};C=!0;D=function(F,H){var E;(0,k.$c)(F)?C || x.Hr(x.Is(x.Ky,"","image"))?(C=!1,x.Az.url=null === (E=x.sla(x.Ky)) || void 0 === E?void 0:E.url,y.url=x.Az.url,B[F]=(B[F] || 0) + 1,E=x.llb(y),E.on("ready",function(){H({success:!0,track:x});}),E.on("error",function(G){var K;G=Object.assign({success:!1},G);K=x.Is(x.Ky,x.Az.url,"image");K.details={midxoffset:x.Az.offset,midxsize:x.Az.length};K.errorstring=G.errorString;B[F] <= g.config.TIb?(x.Tka(K,!0,"retry with current cdn"),x.dHa(B[F]).then(function(N){x.log.trace("retry timed text download after " + N,x.Is(x.Ky,"","image"));D(x.Ky,H);})):(x.Ky=A[z++],x.Ky?(x.Tka(K,!0,"retry with next cdn"),x.dHa(B[F]).then(function(N){x.log.trace("retry timed text download after " + N,x.Is(x.Ky,"","image"));D(x.Ky,H);})):(x.Tka(K,!1,"all cdns tried"),H({success:!1,quc:"all cdns failed for image subs",track:x})));}),E.start()):H({success:!1,aborted:!0}):(H({success:!1,quc:"cdnId is not defined for image subs downloadUrl"}),x.Tka(x.Is(0,"","image"),!1,"cdnId is undefined"));};this.Ky=A[z++];this.Gtb=new Promise(function(F,H){D(x.Ky,function(E){E.success?(x.log.info("Loaded image subtitle manager"),x.state=w.aM,F(E)):(x.log.error("Unable to load image subtitles manager",E),x.state=w.T1,H(E));});});}return this.Gtb;};d.prototype.Ktb=function(x,y){var A,z;A=this;z=this.j.lS.value;(0,l.qa)(z);(0,l.qa)(void 0 !== y || this.j.Fc.xa);return new Promise(function(B,C){var D,F,H;F=null === (D=A.j.ea.U) || void 0 === D?void 0:D.ya;D=null === F || void 0 === F?void 0:F.LOa;H=A.llb({profile:A.profile,xml:y,Qf:x.Qf,preferences:x.sjc(),re:A.j.mediaTime.value || 0,Khb:!1,videoSize:z,xa:A.j.Fc.xa,LOa:D});H.on("ready",function(){B(H);}).on("error",function(E){C({success:!1,error:E});}).start();}).then(function(){A.state=w.aM;return {success:!0,track:A};}).catch(function(B){A.log.error("Unable to parse timed text track",(0,r.pD)(B),A.ai,{url:B.url});A.state=w.T1;B.reason="parseerror";B.track=A;throw B;});};d.prototype.Tka=function(x,y,A){x=Object.assign({},x,{m5c:y,status:A});this.j.fireEvent(p.ha.h_,x);this.log.warn("subtitleerror event",x);};d.prototype.request=function(x,y){var A,z,B;A=this;this.log.trace("Downloading",x);B=this.sla(this.Ky);x={url:x.url,offset:x.offset,length:x.size,Ix:this.Ix,responseType:c.U7,headers:{},Kc:B?{id:B.Uh}:void 0,wI:"tt-" + this.wg,zx:null !== (z=null === B || void 0 === B?void 0:B.type) && void 0 !== z?z:u.p2};this.j.Dma.download(x,function(C){A.log.trace("imgsub: request status " + C.success);C.success?y(null,new Uint8Array(C.content)):y({Ma:C.Ma,yg:C.yg});});};d.prototype.Is=function(x,y,A){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Yb,subtitletype:A,bcp47:this.wg,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.wp};};d.prototype.sla=function(x){return (this.urls || []).find(function(y){return y.Uh === x;});};d.prototype.Nmb=function(){var z,B;function x(C){return n.__awaiter(z,void 0,void 0,function F(){var H,E,G;E=this;return Ta(F,function(K){H=A();G=E.Is(C.Kc.Uh,C.url,"text");G.errorstring=C.reason;return H && E.Hr(G)?K.return(E.dHa(B[H.Uh]).then(y)):K.return(Promise.reject({success:!1,aborted:!0}));});});}function y(){return n.__awaiter(z,void 0,void 0,function D(){var F,H,E;E=this;return Ta(D,function(G){F=A();H=null === F || void 0 === F?void 0:F.url;return F && H?(B[F.Uh]=(B[F.Uh] || 0) + 1,G.return(E.ibc(H,F).catch(x))):G.return(Promise.reject({}));});});}function A(){return (z.urls || []).find(function(C){return !!((B[C.Uh] || 0) < g.config.TIb);});}z=this;this.state=w.LOADING;B={};return y();};d.prototype.dHa=function(x){return new Promise(function(y){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(A);},A);});};d.prototype.ibc=function(x,y){var A;A=this;this.log.trace("Downloading",y && ({Kc:y.Uh}),this.Is(y.Uh,x,"text"));return new Promise(function(z,B){var C,D;D={responseType:c.DOa,url:x,track:A,Kc:{id:y.Uh},wI:"tt-" + A.wg,zx:null !== (C=y.type) && void 0 !== C?C:u.p2};A.j.Dma.download(D,function(F){F.success?z(F.content):(F=Object.assign(Object.assign({},F),{reason:"downloadfailed",url:D.url,track:A,Kc:y}),B(F));});});};Ga.Object.defineProperties(d.prototype,{correlationId:{configurable:!0,enumerable:!0,get:function(){return this.lJb.correlationId;}},Bp:{configurable:!0,enumerable:!0,get:function(){return this.lJb.Bp;}}});b.uM=d;d.pq=w;},58174:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.K9b=function(a,d,n,c){return {Qjc:function(){var g;g=a.sNa();c.cz && (g+=c.cz);return g;},ta:d,request:n,LB:!1};};},73585:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q;function d(u,v){var w;w=this;this.j=u;this.eL=v;this.iYa=this.Eyb=0;this.Tg=this.uo=!1;this.fR=0;this.Ima=new Set();this.qba=!0;this.Ao=function(){var x,y;w.Kra();w.QN && (w.log.info("Deactivating",w.QN),w.xG.r$b(w.lp()));w.j.nk.set(null);w.RR.mGb(void 0);w.Djb();x=w.j.ja.Cd;x && x.xp() && !x.co() && (x=null);if(x && w.j.Tb.value !== p.Gb.Qg){y=w.lp();w.xG.DZb(y,x);}x?(w.log.info("Activating",x),w.j.Bm.set(x.getState() === n.uM.pq.aM?p.Pg.mf:p.Pg.Df),w.uo || w.j.Kg("tt_start"),x.Pma(w.eL).then(w.mU).catch(w.mU)):w.j.Bm.set(p.Pg.mf);w.QN=x;w.JG();w.j.Fc.xa && w.j.Bm.set(p.Pg.mf);};this.sync=function(){w.uo && (w.RR.start(),w.j.Tb.value !== p.Gb.bg && w.RR.stop());};this.JG=function(){var x;w.qba && w.j.state.value === p.xc.mf && w.j.Tb.value !== p.Gb.Qg && (w.Zi?x=w.RR.kgc():w.j.ja.Cd && (x=d.SIc[w.j.ja.Cd.getState()]));x && (0,m.$c)(x.startTime) && w.j.lA.value !== x && (w.Eyb++,w.iYa+=w.RR.Vqb() - x.startTime,w.Qhb=Math.ceil(w.iYa / (w.Eyb + 0)));w.j.lA.set(x);};this.lp=function(){var x;x=w.j.sNa();w.QN && w.QN.cz && (x+=w.QN.cz);return x;};this.XSa=function(x){w.Ima.add(x);w.qba && (w.fireEvent(d.ZGb,x),x && x.id && (w.xG.DKb(x.id),!1));w.log.trace("showsubtitle",w.$la(x));};this.q$=function(x){w.Ima.delete(x) && w.qba && (w.fireEvent(d.WDb,x),w.log.trace("removesubtitle",w.$la(x)));};this.rmc=function(){w.Ima.forEach(function(x){w.fireEvent(d.WDb,x);w.log.trace("hide subtitle",w.$la(x));});};this.qEc=function(){w.Ima.forEach(function(x){w.fireEvent(d.ZGb,x);w.log.trace("resume subtitle",w.$la(x));});};this.Dk=function(){w.log.warn("imagesubs buffer underflow",w.j.ja.Cd.ai);w.j.Bm.set(p.Pg.Df);};this.GSa=function(){w.log.info("imagesubs buffering complete",w.j.ja.Cd.ai);w.j.Bm.set(p.Pg.mf);};this.Kpa=function(){w.uo && w.Zi && w.Zi.KG(w.lp());};this.$zb=function(x){w.uo && w.Zi && (w.Zi.pause(),w.Zi.RK(x.Oq));};this.Jz=function(){w.uo && w.Zi && w.Zi.NCb();};this.Xzb=function(x){w.Zi && w.Zi.ym(x.Vh,x.kY);};this.gAb=function(x){w.Zi && w.Zi.Kk(x.L,x.FKb);};this.Hwc=function(){w.uo=!0;(0,k.yh)(function(){var x,y;(null === (x=w.QN) || void 0 === x?0:x.wp)?null === (y=w.Zi) || void 0 === y?void 0:y.KG(w.lp()):w.sync();w.JG();});};this.Ewc=function(){w.Djb();w.RR.stop();w.JG();w.Tg=!0;w.Kra();};this.aTa=function(x){(x=x.newValue) && (0,m.isArray)(x.blocks) && (w.xG.DKb.apply(w.xG,za(x.blocks.map(function(y){return y.id;}))),!1);};this.Nwc=function(x){w.LMc(x.newValue,x.oldValue);w.sync();w.JG();};this.mU=function(x){var y;if(!w.Tg){y=x.track;if(y === w.j.ja.Cd)try{w.Zi=y.LNa();y.wp?w.BZb(x):w.CZb(x);}catch(A){w.log.error("Error activating track:",A,y);return;}w.uo || w.j.Kg(x.success?"tt_comp":"tt_err");x.success?(f.config.XEb?setTimeout(function(){w.j.Bm.set(p.Pg.mf);},f.config.XEb):w.j.Bm.set(p.Pg.mf),y.wp || w.JG()):x.aborted?w.log.warn("aborted timed text track loading"):f.config.iec?w.j.Pf(l.aa.wQb,{df:x.track?x.track.ai:{}}):(w.log.error("ignore subtitle initialization error",x),w.j.Bm.set(p.Pg.mf));}};this.$b=new g.Bl();this.xG=new h.Jbb((0,e.bn)(u,"SubtitleTracker"),f.config.Kcc);this.log=(0,e.bn)(u,"TimedTextManager");this.RR=new c.fcb(this.lp,this.JG);this.j.ja.addListener([q.v.Aa],this.Ao);f.config.Jzc?(this.j.addEventListener(p.ha.uo,this.Hwc),this.Ao()):(this.j.Bm.set(p.Pg.mf),this.j.addEventListener(p.ha.uo,function(){w.uo=!0;w.Ao();}));this.j.Tb.addListener(this.Nwc);this.j.addEventListener(p.ha.CYa,this.sync);this.j.lA.addListener(this.aTa);this.j.addEventListener(p.ha.Tg,this.Ewc);}Object.defineProperty(b,"__esModule",{value:!0});b.bcb=void 0;n=a(26159);c=a(7953);g=a(94886);f=a(29204);e=a(31276);h=a(69899);l=a(36129);k=a(32219);m=a(32687);p=a(85001);r=a(35781);q=a(26388);d.prototype.QHc=function(){this.qba=!0;this.qEc();this.JG();};d.prototype.tmc=function(){this.qba=!1;this.rmc();this.JG();};d.prototype.addEventListener=function(u,v,w){this.$b.addListener(u,v,w);};d.prototype.removeEventListener=function(u,v){this.$b.removeListener(u,v);};d.prototype.fireEvent=function(u,v,w){this.$b.bd(u,v,w);};d.prototype.eGa=function(u,v,w){var x,y;x=this;y=r.$bb.G8b(this.j,u,v,w);this.Stb(this.j.$i,y);this.j.qk.forEach(function(A){x.Stb(A.$i,y);});this.j.ja.yo(y);this.j.fireEvent(p.ha.nA);};d.prototype.oUa=function(u){return this.JVa(u)?u.Pma(this.eL).then(function(){}):Promise.resolve();};d.prototype.Jkc=function(u){return this.xG.lkc(u);};d.prototype.MNa=function(u){return this.xG.MNa(u);};d.prototype.A7=function(){var u,v;u={size:this.eL.Vpb().characterSize};v=this.j.eca;v && (u.visibility=v.SNa(),u.L4=v.QNa(),u.Zw=v.RNa());return u;};d.prototype.bHc=function(u){this.eL.LGc(u);u=this.j.ja.Cd;this.JVa(u) && !u.wp && u.Pma(this.eL).then(this.mU).catch(this.mU);};d.prototype.LMc=function(u,v){var w;u === p.Gb.bg || u == p.Gb.gi?v !== p.Gb.bg && v !== p.Gb.gi && ((v=this.j.ja.Cd) && !this.JVa(v) || this.xG.Ryb(this.lp(),v || void 0,"presentingstate:" + u)):u !== p.Gb.Qg && u !== p.Gb.Iv || this.xG.QKa(null !== (w=this.lp()) && void 0 !== w?w:void 0,"presentingstate:" + u);};d.prototype.Kra=function(){this.fR=0;Ba.clearTimeout(this.vEc);};d.prototype.Djb=function(){var u;this.Zi && this.Zi.stop();(null === (u=this.QN) || void 0 === u?0:u.wp) && this.Xwb("removeListener");this.Zi=void 0;};d.prototype.Xwb=function(u){this.Zi && (this.Zi[u]("showsubtitle",this.XSa),this.Zi[u]("removesubtitle",this.q$),this.Zi[u]("underflow",this.Dk),this.Zi[u]("bufferingComplete",this.GSa),"addListener" === u?(this.j.addEventListener(p.ha.zs,this.Kpa),this.j.addEventListener(p.ha.qm,this.$zb),this.j.addEventListener(p.ha.LK,this.Jz),this.j.addEventListener(p.ha.hpa,this.Xzb),this.j.addEventListener(p.ha.tZa,this.gAb)):(this.j.removeEventListener(p.ha.zs,this.Kpa),this.j.removeEventListener(p.ha.qm,this.$zb),this.j.removeEventListener(p.ha.LK,this.Jz),this.j.removeEventListener(p.ha.hpa,this.Xzb),this.j.removeEventListener(p.ha.tZa,this.gAb)));};d.prototype.$la=function(u){return {currentPts:this.lp(),displayTime:u.displayTime,duration:u.duration,id:u.id,originX:u.originX,originY:u.originY,sizeX:u.sizeX,sizeY:u.sizeY,rootContainerExtentX:u.rootContainerExtentX,rootContainerExtentY:u.rootContainerExtentY};};d.prototype.BZb=function(u){var v,w;v=this;w=u.track;if(!w || !w.wp)throw Error("Not an image base subtitle");u.success?(this.Kra(),this.Xwb("addListener"),this.log.info("Activated",w),this.j.nk.set(w),this.uo?(0,k.yh)(function(){v.Zi.KG(v.lp());}):this.Zi.pause()):this.KEb(w,u);};d.prototype.CZb=function(u){var v,w;v=u.track;w=u.success;if(!v || v.wp)throw Error("Not a valid text track");w?(this.Kra(),this.RR.mGb(this.Zi),this.log.info("Activated",v),this.j.nk.set(v)):this.KEb(v,(0,l.pD)(u));this.JG();};d.prototype.KEb=function(u,v){var w,x;w=this;x=this.fR < f.config.Xsc;x && (this.vEc=Ba.setTimeout(function(){w.fR++;u.Pma(w.eL).then(w.mU).catch(w.mU);},f.config.KKc));this.log.error("Failed to activate" + ((null === u || void 0 === u?0:u.wp)?" img subtitle":""),{retry:x},v,u);};d.prototype.JVa=function(u){return !(!u || u.xp() && !u.co());};d.prototype.Stb=function(u,v){var w;w=u.findIndex(function(x){return x.wc >= v.wc;});-1 === w && (w=0);u.splice(w,0,v);};b.bcb=d;t={};d.SIc=(t[n.uM.pq.LOADING]={a9:!0},t[n.uM.pq.T1]={Ff:!0},t);d.ZGb="showsubtitle";d.WDb="removesubtitle";},79014:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m){var p,r,q,u;p=this;this.j=k;this.jwc=function(){var v;g.oe.removeListener(g.mma,p.cAb);v=p.Ns.mp();v && v.parentNode && v.parentNode.removeChild(v);};this.aTa=function(v){p.Ns.qGc(v.newValue);};this.Zwc=function(v){var w;p.Ns.BGc(v.jn?v.jn.kna:void 0);p.Ns.CGc(null === (w=v.jn) || void 0 === w?void 0:w.wg);p.Ns.lMc(p.nqb(v.jn));};this.cAb=function(){p.Ns.UQ();};q=k.ja.Cd?k.ja.Cd.kna:void 0;u=null === (r=k.ja.Cd) || void 0 === r?void 0:r.wg;r=this.nqb(k.ja.Cd);this.Ns=new e.acb(m,r,q,u);m=k.lS.value;(0,c.qa)(.1 < m.width / m.height);this.Ns.bGc(m.width / m.height);k.st.appendChild(this.Ns.mp());k.lA.addListener(this.aTa);k.ja.addListener([l.v.Aa],this.Zwc);k.addEventListener(h.ha.Tg,this.jwc,n.qT);g.oe.addListener(g.mma,this.cAb);}Object.defineProperty(b,"__esModule",{value:!0});b.dcb=void 0;n=a(33096);c=a(45146);g=a(37509);f=a(29204);e=a(97154);h=a(85001);l=a(26388);d.prototype.hXa=function(k){this.Ns.hXa(k);};d.prototype.SNa=function(){return this.Ns.SNa();};d.prototype.fXa=function(k){this.Ns.fXa(k);};d.prototype.QNa=function(){return this.Ns.QNa();};d.prototype.gXa=function(k){this.Ns.gXa(k);};d.prototype.RNa=function(){return this.Ns.RNa();};d.prototype.nqb=function(k){var m;if(k && f.config.Rna && 0 <= f.config.Rna.indexOf(k.wg)){m=Object.assign({},f.config.sta);Object.entries(m).forEach(function(p){var r;r=Ea(p);p=r.next().value;r=r.next().value;m[p]=r.replace(/font-weight:bolder/g,"font-weight:normal");});return m;}return f.config.sta;};b.dcb=d;},28838:function(t,b,a){var d,n,c,g,f,e,h,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Cf=void 0;t=a(22674);d=a(58421);n=a(6856);c=a(48864);g=a(37187);f=a(17842);e=a(96723);h=a(67371);l=a(47511);k=a(45613);m=a(51361);b.Cf=new t.je(function(p){p(g.Vfa).to(d.SCa).pa();p(f.PBa).to(c.OBa).pa();p(e.Ncb).to(n.wDa).pa();p(h.zSb).to(l.eAa).pa();p(k.LVb).to(m.JDa).pa();});},97368:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nBc=function(a){var d,n;d=!1;n=!1;return function(){if(d)n=!0;else for(n=!0;n;){n=!1;d=!0;try{a();}finally{d=!1;}}};};},54973:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.f7=function(n,c,g){return n.PLa?d.hq.cH:c && !g?d.hq.cH:d.hq.oq;};d=a(24735);},67371:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zSb="ObjectComparerSymbol";},88195:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.ig=function(n,c){return [].concat.apply([],za(n)).map(function(g){return Object.assign({name:g},null !== c && void 0 !== c?c:{});});};b.Iz=function(n,c){for(var g=[],f=1;f < arguments.length;++f)g[f - 1]=arguments[f];return (0,d.wmb)(function(e,h){return e.name === h;},n,g);};d=a(45266);},17842:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PBa="QueryStringDataProviderSymbol";},37187:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vfa=b.Lt=void 0;b.Lt=function(){};b.Vfa="StringObjectReaderSymbol";},79542:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fW=void 0;b.Hub=function(a){return void 0 !== a && null !== a;};b.iDb=function(a,d){return a.includes(d);};b.fW=function(){return null;};},96723:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ncb="UuidProviderSymbol";},45613:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LVb="WindowUtilsSymbol";},47511:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;t=a(22970);n=a(22674);c=a(76564);d.prototype.compare=function(g,f){var e;e=[];this.xIa(g,f,"",e);return e;};d.prototype.xIa=function(g,f,e,h){var l;l=this;if(c.ZL.tN(g))c.ZL.tN(f) && g.length === f.length?g.forEach(function(p,r){l.xIa(g[r],f[r],e + "[" + r + "]",h);}):h.push({a:g,b:f,path:e});else if(c.ZL.l4(g) && null != g){if(c.ZL.l4(f) && null != f){for(var k in g)this.xIa(g[k],f[k],e + "." + k,h);for(var m in f)(m in g) || void 0 === f[m] || h.push({a:void 0,b:f[m],path:e + "." + m});}else h.push({a:g,b:f,path:e});}else g !== f && h.push({a:g,b:f,path:e});};a=d;b.eAa=a;b.eAa=a=t.__decorate([(0,n.Y)()],a);},48864:function(t,b,a){var n,c,g,f;function d(e){this.location=e;(0,c.Wu)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;t=a(22970);c=a(66523);g=a(63368);a=a(22674);d.jqa=function(e){var h,k,m;h={};if(0 < e.length){e=e.split("&");for(var l=0;l < e.length;l++){k=e[l].trim();m=k.indexOf("=");0 <= m?h[decodeURIComponent(k.substr(0,m).replace(n.h9a,"%20"))]=decodeURIComponent(k.substr(m + 1).replace(n.h9a,"%20")):h[k.toLowerCase()]="";}}return h;};Ga.Object.defineProperties(d.prototype,{EBc:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=n.jqa(this.RCb);}},RCb:{configurable:!0,enumerable:!0,get:function(){var e;if(void 0 !== this.faa)return this.faa;this.faa=this.location.search.substr(1);e=this.faa.indexOf("#");0 <= e && (this.faa=this.RCb.substr(0,e));return this.faa;}}});f=n=d;b.OBa=f;f.h9a=/[+]/g;b.OBa=f=n=t.__decorate([(0,a.Y)(),t.__param(0,(0,a.l)(g.M6a))],f);},58421:function(t,b,a){var n,c,g,f,e,h;function d(l,k){this.is=l;this.json=k;(0,c.Wu)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;t=a(22970);c=a(66523);g=a(63368);f=a(22674);e=a(42207);h=a(37187);d.prototype.eDb=function(l){var k;k=this;return n.read(l,function(m){return parseInt(m);},function(m){return k.is.EGa(m);});};d.prototype.aVa=function(l){var k;k=this;return n.read(l,function(m){return "true" == m?!0:"false" == m?!1:void 0;},function(m){return k.is.sha(m);});};d.prototype.pv=function(l){var k;k=this;return n.read(l,function(m){return parseInt(m);},function(m){return k.is.m4(m);});};d.prototype.OBc=function(l){var k;k=this;return n.read(l,function(m){return parseFloat(m);},function(m){return k.is.Ln(m);});};d.prototype.cDb=function(l,k){return n.read(l,function(m){return n.Gec(m,k);},function(m){return void 0 !== m;});};d.prototype.eVa=function(l,k){return n.read(l,function(m){return m;},function(m){return k?k.test(m):!0;});};d.prototype.fDb=function(l){var k,m;k=this;m=void 0 === m?function(){return !0;}:m;try{return n.read(l,function(p){return k.json.parse(decodeURIComponent(p));},function(p){return k.is.l4(p) && m(p);});}catch(p){return new h.Lt();}};d.prototype.pm=function(l,k,m){var p,r;p=this;m=void 0 === m?1:m;l=l.trim();r=k instanceof Function?k:this.q9b(k,m);k=l.indexOf("[");m=l.lastIndexOf("]");if(0 != k || m != l.length - 1)return new h.Lt();l=l.substring(k + 1,m);try{return n.iyc(l).map(function(q){q=r(p,n.rNc(q));if(q instanceof h.Lt)throw q;return q;});}catch(q){return q instanceof h.Lt?q:new h.Lt();}};d.prototype.q9b=function(l,k){var m;m=this;k=void 0 === k?1:k;return function(p,r){p=n.njc(l);return 1 < k?m.pm(r,l,k - 1):p(m,r);};};d.Gec=function(l,k){var p;for(var m in k){p=parseInt(m);if(k[p] == l)return p;}};d.read=function(l,k,m){l=k(l);return void 0 !== l && m(l)?l:new h.Lt();};d.njc=function(l){switch(l){case "int":return function(k,m){return k.eDb(m);};case "bool":return function(k,m){return k.aVa(m);};case "uint":return function(k,m){return k.pv(m);};case "float":return function(k,m){return k.OBc(m);};case "string":return function(k,m){return k.eVa(m);};case "object":return function(k,m){return k.fDb(m);};}};d.iyc=function(l){var w;for(var k=[["[","]"]],m=[],p=0,r=0,q=0,u=[],v={};r < l.length;(v={U_:v.U_},++r)){v.U_=l.charAt(r);w=void 0;"," == v.U_ && 0 == q?(m.push(l.substr(p,r - p)),p=r + 1):(w=k.find((function(x){return function(y){return y[0] == x.U_;};})(v)))?(++q,u.push(w)):0 < u.length && u[u.length - 1][1] == v.U_ && (--q,u.pop());}if(p != r)m.push(l.substr(p,r - p));else if(p == r && 0 < p)throw new h.Lt();return m;};d.rNc=function(l){var k;k=l.charAt(0);if('"' == k || "'" == k){if(l.charAt(l.length - 1) != k)throw new h.Lt();return l.substring(1,l.length - 1);}return l;};a=n=d;b.SCa=a;b.SCa=a=n=t.__decorate([(0,f.Y)(),t.__param(0,(0,f.l)(e.ei)),t.__param(1,(0,f.l)(g.$S))],a);},6856:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.wDa=void 0;t=a(22970);a=a(22674);d.prototype.zpb=function(c){var g;g=this;return c?(c ^ 16 * Math.random() >> c / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(f){return g.zpb(f);});};n=d;b.wDa=n;b.wDa=n=t.__decorate([(0,a.Y)()],n);},51361:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.JDa=void 0;t=a(22970);n=a(22674);a(22365);b.JDa=d;b.JDa=d=t.__decorate([(0,n.Y)()],d);},67590:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gva="AsePrefetcherAdapterSymbol";b.u0a="AsePrefetcherProviderSymbol";},18148:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.i6a=36E7;b.Gva="CacheManagerFactorySymbol";},99584:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v;Object.defineProperty(b,"__esModule",{value:!0});b.$f=void 0;t=a(22674);d=a(68976);n=a(37780);c=a(66476);g=a(87657);f=a(12849);e=a(85671);h=a(19484);l=a(71576);k=a(32737);m=a(59315);p=a(20318);r=a(67590);q=a(61170);u=a(18148);v=a(94028);b.$f=new t.je(function(w){w(d.U9a).to(n.cBa).pa();w(g.N$a).to(f.KBa).pa();w(c.vM).to(e.BDa).pa();w(k.M$a).to(l.mza).pa();w(k.L$a).to(h.wya).pa();w(r.u0a).XKc(function(){var x;return null === (x=p.fu.Cj) || void 0 === x?void 0:x.Sz;});w(r.gva).to(q.fva).pa();w(m.FBa).to(m.EBa);w(u.Gva).to(v.Fva).pa();});},68976:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.U9a="PlayPredictionDeserializerSymbol";},32737:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M$a="PreparerManifestFetcherSymbol";b.L$a="PreparerLicenseFetcherSymbol";},32573:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.nq={};t.Vl="created";t.Cx="started";t.i_="succeeded";t.Ff="failed";t.Gd="cancelled";t.j4b="cancelled_on_start";t.OHa="cancelled_not_encrypted";},87657:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.mfa={};t.qKc="taskstart";t.oKc="taskabort";t.pKc="taskfail";t.rKc="tasksuccess";b.N$a="PreparerTaskSchedulerSymbol";},66476:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vM="VideoPreparerSymbol";},61170:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A;function d(){var z;z=this;this.promise=new Promise(function(B,C){z.resolve=B;z.reject=C;});}function n(z,B,C,D,F){var H;H=this;this.dUa=C;this.Zzc=D;this.Wg=F;this.ada=[];this.nK=new Map();this.JOa=new Map();this.Mwc=function(E){var G,K;E=E.wishListItem.key.J;if(H.nK.has(E)){K=H.nK.get(E);E=K.XY;K=K.BIa;null === (G=K.resolve) || void 0 === G?void 0:G.call(K,E);}};this.Opa=function(E){var G,K;G=E.J;K=E.U;E.target.XZa(E.J) || (H.he.has({J:G}) && (H.he.Yq(G).Aw=!0),null === K || void 0 === K?void 0:K.then(function(N){var I;I=N.ya;I && I.Bb && I.$o && I.$o.forEach(function(L){var O;O={Mf:{Bb:I.Bb,kd:G}};H.he.has({J:L.R,kd:I.R,Bb:I.Bb}) && (H.he.Yq(L.R,O).Aw=!0);});}).catch(function(){}),H.IDb(G),H.GGb(H.ada));};this.Vnb=function(E,G){var K,N;K=E.J;N=E.U;E.target.XZa(K) || (null === N || void 0 === N?void 0:N.then(function(I){(I=I.ya) && I.Bb && I.Bb === G.Bb && K === G.kd && (I={Mf:{Bb:I.Bb,kd:K}},H.he.has(G) && (H.he.Yq(G.J,I).Aw=!0),H.JOa.delete(H.he.generateKey(G)));}).catch(function(){}));};this.ta=z.qb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.fva=void 0;t=a(22970);c=a(87386);a(50323);g=a(20318);f=a(45247);e=a(4203);h=a(29204);l=a(72639);k=a(67590);m=a(22674);p=a(59315);r=a(90745);q=a(49745);u=a(64213);v=a(25505);w=a(45146);x=a(37991);y=a(91176);A=a(54973);n.prototype.Sb=function(z){var B;B=this;this.he=new u.DDa(function(C,D){return B.nB(C,z,g.fu.Rl,D);},function(C){return B.YQ(z,C);},function(C,D){return B.ZQ(C,z,D);});};n.prototype.fetch=function(z,B){var C;C=this;if(-1 === B.events.listeners("manifestRemovedFromCache").indexOf(this.Opa))B.events.on("manifestRemovedFromCache",this.Opa);if(-1 === B.events.listeners("playbackClosing").indexOf(this.Opa))B.events.on("playbackClosing",this.Opa);!1;return this.Yn(z.R,B,z.zb).then(function(){C.GGb(C.W5b(C.X9b(z,B)));return C.nK.get(z.R).BIa.promise;});};n.prototype.getStats=function(){return this.Sz.getStats();};n.prototype.PHb=function(z,B,C){B={pk:C,U:B};this.JOa.set(this.he.generateKey(z),B);};n.prototype.Ijc=function(z){return this.JOa.get(this.he.generateKey(z));};n.prototype.W5b=function(z){return [z].concat(za(this.ada.filter(function(B){return B.key.J !== z.key.J;}))).slice(0,this.config.Xzc).map(this.config.Yzc?function(B,C){return Object.assign({},B,{priority:C});}:function(B){return B;});};n.prototype.Oqb=function(z,B,C){var D;D=this;C=void 0 === C?{}:C;return this.Yn(z,B,C).then(function(F){D.$Ia(F,B);return F.ya;});};n.prototype.Yn=function(z,B,C){var D,F;C=void 0 === C?{}:C;F=new y.AbortController();return this.Wg.Yn({Ha:null !== (D=B.Yy(z)) && void 0 !== D?D:B.rJa(z),J:z,Gs:l.Ko.t2,$h:(0,A.f7)(this.config,!0),jb:C},F.signal);};n.prototype.EGb=function(z,B){var F;function C(H){F.Vnb(H,B);z.events.mm("playbackClosing",C);}function D(H){F.Vnb(H,B);z.events.mm("manifestRemovedFromCache",D);}F=this;z.events.on("manifestRemovedFromCache",D);z.events.on("playbackClosing",C);};n.prototype.ZQ=function(z,B,C){var D,F,H,E,G,K;D=this;F=z.Hz;H=z.P4;z=z.Mf;E=z.Bb;G=z.kd;K=this.he.Yq(G);return K.Ct.then(function(N){var I,L,O;N=N.U.Zd;I=K.Ha;L=l.Ko.oq;O={NB:!0,Ag:!1,oA:Date.now()};return D.Wg.Yn({Ha:Number(I),jb:O,J:G,P4:H,Hz:F,Gs:L,$h:void 0,lL:void 0,ke:{Bb:E,gC:N}},C,!1).then(function(J){D.$Ia(J,B);D.Wg.sCb();J.$o.forEach(function(Q){var P;D.Wg.FR(Q.ya.R,Q);P={J:Q.ya.R,kd:G,Bb:E};D.PHb(P,Q);D.EGb(B,P);});if(!J.ya.He)throw Error("Dai prefetch request has no adverts forparentViewableId: " + G);return J.ya.He;});});};n.prototype.YQ=function(z,B){var C,D,F,H,E,G,K,N;C=this;(0,w.qa)(B.Mf,"auxiliaryOptions must exist if an adBreak hydration was requested");F=B.Mf;H=F.Bb;E=F.kd;G=B.pk;K=B.fb;(0,w.qa)(!!H,"auxiliaryManifestToken must exist if an adBreak hydration was requested");N=this.he.Yq(null === (D=null === B || void 0 === B?void 0:B.Mf) || void 0 === D?void 0:D.kd);return N.Ct.then(function(I){var L,O,J,Q;I=I.U.Zd;L=N.Ha;(0,w.qa)(void 0 !== L,"parent xid must exist if an adBreak hydration was requested");O=l.Ko.oq;J={NB:!0,Ag:!1,oA:Date.now()};Q=new y.AbortController();return C.Wg.Yn({Ha:Number(L),jb:J,J:E,Gs:O,$h:void 0,lL:void 0,ke:{pk:G,fb:K,Bb:H,kd:E,gC:I}},Q.signal,!1).then(function(P){var S,Y;C.$Ia(P,z);P.$o.forEach(function(X){var T;T={J:X.ya.R,kd:E,Bb:H};C.PHb(T,X,G);C.EGb(z,T);});if(null === (S=P.ya.He) || void 0 === S || !S.yb.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (E + ", adBreakToken: " + G + ", adBreakTriggerId: " + K));return null === (Y=P.ya.He) || void 0 === Y?void 0:Y.yb[0];});});};n.prototype.$Ia=function(z,B){var C,D,F;C=this;D=z.ya;null === (F=D.$o) || void 0 === F?void 0:F.forEach(function(H){C.nB(H.R,B,g.fu.Rl,{Mf:{Bb:H.Bb,kd:D.R}},H);});};n.prototype.X9b=function(z,B){var C,D,F,H,E,G;F=new d();if(this.nK.has(z.R)){H=this.nK.get(z.R);E=H.XY;if(E.R === z.R && E.We === z.We)G=H.mOc.key;this.Sz.getStats().contents.some(function(K){return K.id === z.R;}) && (F=H.BIa);}H=g.fu.Rl.xs((0,h.HIa)(z.We));G || (G={J:z.R,config:H});E={J:z.R};this.he.has(E) || this.he.store(E,this.V9b(z,B,H));B={key:G,S_c:!1,priority:z.priority,Cia:f.I.Ca(null !== (D=null === (C=z.zb) || void 0 === C?void 0:C.Db) && void 0 !== D?D:0),he:this.he};this.nK.set(z.R,{mOc:B,XY:z,BIa:F});return B;};n.prototype.V9b=function(z,B,C){var D,F,H;D=this;F=z.R;return {get Ha() {return B.Yy(F);},Aw:!1,events:new r.EventEmitter(),ZU:function(){},get Ct() {H || (H=D.Oqb(z.R,B,z.zb).then(function(E){return {U:E,jB:E.pma && !E.$I,config:C,xXa:{}};}));return H;},J:F,gta:!1,equals:function(E){var G;G=B.Yy(F);return E && E.J === F && (!E.Ha || !G || G === E.Ha);}};};n.prototype.nB=function(z,B,C,D,F){var H,E,G,K,N,I,L,O;H=this;N=B.Yy(z);if(N || D){I={J:z,kd:null === (E=null === D || void 0 === D?void 0:D.Mf) || void 0 === E?void 0:E.kd,Bb:null === (G=null === D || void 0 === D?void 0:D.Mf) || void 0 === G?void 0:G.Bb};if(!this.he.has(I)){L=null !== N && void 0 !== N?N:this.he.Yq(null === (K=null === D || void 0 === D?void 0:D.Mf) || void 0 === K?void 0:K.kd).Ha;this.he.store(I,{ZU:function(){},equals:function(J){return J && J.J === I.J && (L === J.Ha || !J.Ha || !L);},get Ct() {O || (O=(F?Promise.resolve(F):H.Oqb(z,B)).then(function(J){return {U:J,jB:J.pma && !J.$I,config:C,xXa:{}};}));return O;},set Ct(J) {O=J;},events:new r.EventEmitter(),Ha:L,J:I.J,Aw:!1,gta:!1});}}};n.prototype.lGb=function(z){this.ada=z;};n.prototype.GGb=function(z){this.lGb(z);this.Sz.oXa(this.ada);};n.prototype.IDb=function(z){this.nK.has(z) && (this.lGb(this.ada.filter(function(B){return B.key.J !== z;})),this.nK.delete(z));};Ga.Object.defineProperties(n.prototype,{Sz:{configurable:!0,enumerable:!0,get:function(){this.bE || (this.bE=this.Zzc(),this.bE.qGa(new x.vab()).VWa(this.dUa).uGb(new v.D5a()).$Fb({oF:this.config.Wzc}),this.bE.events.on("prefetchComplete",this.Mwc));return this.bE;}}});a=n;b.fva=a;b.fva=a=t.__decorate([(0,m.Y)(),t.__param(0,(0,m.l)(c.wb)),t.__param(1,(0,m.l)(e.Cc)),t.__param(2,(0,m.l)(p.FBa)),t.__param(3,(0,m.l)(k.u0a)),t.__param(4,(0,m.l)(q.iT))],a);},94028:function(t,b,a){var n,c,g,f,e,h;function d(l,k,m){var p;p=this;this.Qh=k;k=m();this.Of=new h({log:l.qb("CacheManager"),Ia:{getTime:function(){return p.Qh.uc().la(f.wa);}},Promise:Promise,LB:!1,h3b:k.eAc,g3b:k.cAc,Ndc:k.lCb,Mdc:k.dAc});}Object.defineProperty(b,"__esModule",{value:!0});b.Fva=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(87386);f=a(5021);e=a(4203);h=a(83195);b.Fva=d;b.Fva=d=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.wb)),t.__param(1,(0,n.l)(c.Sd)),t.__param(2,(0,n.l)(e.Cc))],d);},25505:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.D5a=void 0;a.prototype.Job=function(d,n){var c;return null !== (c=this.Hec(d,n)) && void 0 !== c?c:this.Lec(d,n);};a.prototype.Hec=function(d,n){var c,g;c=this;g=n.Z;return d.find(function(f){var e;return c.MJa(g,null === (e=f.Z) || void 0 === e?void 0:e.Z);});};a.prototype.Lec=function(d,n){var c,g;c=n.Z.ff;g=n.Z.$[c];return d.find(function(f){var e;f=null === (e=f.Z) || void 0 === e?void 0:e.Z;f=(e=null === f || void 0 === f?void 0:f.ff) && (null === f || void 0 === f?void 0:f.$[e]) || void 0;return c === e && g.J === (null === f || void 0 === f?void 0:f.J) && g.cb === (null === f || void 0 === f?void 0:f.cb);});};a.prototype.MJa=function(d,n){var c;c=this;return d === n?!0:"object" !== typeof d || "object" !== typeof n?d === n:Object.keys(d).length === Object.keys(n).length && Object.keys(d).every(function(g){return c.MJa(d[g],n[g]);});};b.D5a=a;},19484:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q;function d(u,v,w,x,y,A){this.n6b=v;this.wd=w;this.rbc=x;this.UX=y;this.Wg=A;this.log=u.qb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.wya=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(4203);f=a(2248);e=a(47737);h=a(92395);l=a(32573);k=a(50323);m=a(49745);p=a(82100);r=a(56039);q=a(54973);d.prototype.fetch=function(u,v){var w;w=this;this.log.trace("Fetching LDL",(0,k.hxa)(u));this.R=u.R;this.$f=v;return v.Q6(u.R,"ldl").then(function(x){return x.nsa;}).catch(function(){w.log.trace("Requesting a new license",(0,k.hxa)(u));return w.Wg.R6(u.R).then(function(x){var y,A,z,B,C,D,F;w.ya=x.ya;if(v.wsb(u.R))return v.Q6(u.R,"ldl").then(function(H){return H.nsa;});y=w.$f.wHc(u.R,w.ya);if(y)throw {status:y};A=w.ya.qA[0];y=A.Zqa;z=A.Qmb;A=A.streams[0].lI;B=(0,p.kub)(A);C=(y?y:[z]).map(function(H){return w.wd.decode(H.bytes);});D=(0,q.f7)(w.n6b(),!0,u.LPa);F=w.rbc().then(function(H){var E,G,K;K={type:D,initData:C,dna:B,context:{Cna:(0,r.Bqb)(w.ya.qA[0].streams)},xr:{R:u.R,Ha:v.rJa(u.R),Zd:w.ya.Zd,Tq:w.ya.Tq,ho:x.ho,Jf:w.ya.Jf,Go:null !== (G=null === (E=w.ya.RQ) || void 0 === E?void 0:E.Go) && void 0 !== G?G:w.ya.qA[0].Dh}};return H.Ws(K,w.UX());}).catch(function(H){w.handleError("Unable to prepare an EME session.",H);throw H;});w.$f.fGc(u.R,{nsa:F,IQa:{source:"videopreparer",type:D}},function(){if(!w.$f.XZa(u.R))try{F.then(function(H){return H.close();}).catch(function(H){w.handleError("Unable to cleanup LDL session, Unable to get the session.",H);});}catch(H){w.handleError("Unable to cleanup LDL session, unexpected exception.",H);}});return F;}).catch(function(x){w.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:l.nq.Gd};});});};d.prototype.handleError=function(u,v){this.log.warn(u + " LDL is now invalid.",v);this.$f.q5b(this.R);this.$f.Gjb(this.R);};a=d;b.wya=a;b.wya=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(g.Cc)),t.__param(2,(0,n.l)(f.yl)),t.__param(3,(0,n.l)(e.Xda)),t.__param(4,(0,n.l)(h.e2)),t.__param(5,(0,n.l)(m.iT))],a);},71576:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u,v,w,x){this.r9=v;this.Qh=w;this.Wg=x;this.log=q.qb("VideoPreparer");this.config=u();}Object.defineProperty(b,"__esModule",{value:!0});b.mza=void 0;t=a(22970);n=a(4203);c=a(22674);g=a(87386);f=a(81918);e=a(5021);h=a(17398);l=a(72639);k=a(50323);m=a(49745);p=a(91176);r=a(54973);d.prototype.fetch=function(q,u){var v,w,x;this.log.trace("Fetching manifest",(0,k.hxa)(q));w=q.zb;x=new p.AbortController();this.config.wZb && w && w.U && !this.Wg.Pu(q.R) && (!(("clientGenesis" in w.U) && w.U.clientGenesis) || "number" === typeof w.U.clientGenesis && Date.now() - w.U.clientGenesis < this.config.lCb) && (w=this.r9.create(w.U)) && (w.$Q=this.Qh.uc().la(e.wa),w.rZ=this.Qh.uc().la(e.wa),this.Wg.FR(q.R,w));return this.Wg.Yn({Ha:u.rJa(q.R),J:q.R,jb:null !== (v=q.zb) && void 0 !== v?v:{},Gs:l.Ko.t2,$h:(0,r.f7)(this.config,!0,q.LPa)},x.signal,!0,function(y){u.events.emit("manifestRemovedFromCache",{target:u,type:"manifestRemovedFromCache",J:q.R,U:y});});};a=d;b.mza=a;b.mza=a=t.__decorate([(0,c.Y)(),t.__param(0,(0,c.l)(g.wb)),t.__param(1,(0,c.l)(n.Cc)),t.__param(2,(0,c.l)(h.hT)),t.__param(3,(0,c.l)(f.Sd)),t.__param(4,(0,c.l)(m.iT))],a);},37780:function(t,b,a){var n,c,g;function d(f,e){this.Zb=e;this.ta=f.qb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.cBa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(42207);d.prototype.Aac=function(f){var e;e=this;try{return {direction:f.direction,q0c:f.layoutHasChanged,$2c:f.rowInteractionIndex,ic:f.lolomos.map(function(h){return e.vac(h);})};}catch(h){this.ta.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(f)});}};d.prototype.vac=function(f){var e;e=this;return {context:f.context,list:f.list.map(function(h){return e.uac(h);}),requestId:f.requestId,rowIndex:f.rowIndex,a3c:f.rowSegment};};d.prototype.uac=function(f){var e,h;e={re:f.pts,property:f.property,J:f.viewableId,index:f.index};h=f.preplay;this.Zb.Xh(h) && (e.Rqa=this.zac(h));f=f.params;this.Zb.Xh(f) && (e.zb=this.imb(f));return e;};d.prototype.zac=function(f){var e;e={re:f.pts,J:f.viewableId,PY:f.pipelineNum,index:f.index};f=f.params;this.Zb.Xh(f) && (e.zb=this.imb(f));return e;};d.prototype.imb=function(f){return {We:f.uiLabel,Em:f.trackingId,Op:f.sessionParams};};d.prototype.yac=function(f){var e;e=this;try{return f.map(function(h){return e.wac(h);});}catch(h){this.ta.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(f)});}};d.prototype.wac=function(f){var e,h;h=f.params;this.Zb.Xh(h) && (e=this.xac(h));return {R:f.movieId,priority:f.priority,force:f.force,zb:e,We:f.uiLabel,LPa:f.isLivePostplay,J4c:f.uiExpectedStartTime,I4c:f.uiExpectedEndTime,Wn:f.firstTimeAdded};};d.prototype.xac=function(f){var e,h;e=void 0;h=f.sessionParams;this.Zb.Xh(h) && (e=h);return {tia:this.tac(f.authParams),Op:e,Em:f.trackingId,Db:f.startPts,U:f.manifest,Ag:f.isBranching};};d.prototype.tac=function(f){return {Qyc:null === f || void 0 === f?void 0:f.pinCapableClient};};g=d;b.cBa=g;b.cBa=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(a.ei))],g);},59315:function(t,b,a){var n,c,g,f;function d(e,h){this.Ep=e;this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=b.EBa=void 0;t=a(22970);n=a(22674);c=a(75864);g=a(79048);a=a(4203);d.prototype.gxb=function(e){var h,l;h=this;if(e.sd.key.Z)return Promise.resolve(e.sd.key.Z);l=e.sd.key.J;return e.sd.he.Yq(l).Ct.then(function(k){k=k.U;return k.Lq?(0,g.fIa)(k.Lq,{config:h.config()}):(0,g.CXa)(l,h.Ep.Ew(l));});};f=d;b.EBa=f;b.EBa=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.w2)),t.__param(1,(0,n.l)(a.Cc))],f);b.FBa="PlaygraphResolverSymbol";},50323:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hxa=function(){return "";};},79538:function(t,b,a){var n,c;function d(g,f,e,h,l,k,m,p){this.type=g;this.Vl=f;this.Lyc=void 0 === e?!1:e;this.notify=l;this.rec=k;this.XY=m;this.$f=p;this.id=++c;this.status=n.nq.Vl;}Object.defineProperty(b,"__esModule",{value:!0});b.lfa=void 0;n=a(32573);c=0;d.prototype.Is=function(){var g;g={id:this.id,type:this.type,created:this.Vl,status:this.status,movieId:this.R};this.startTime && (g.startTime=this.startTime);this.endTime && this.startTime && (g.duration=this.endTime - this.startTime,g.endTime=this.endTime);return g;};d.prototype.oY=function(g){this.notify && this.notify(g);};d.prototype.JEc=function(){return this.rec.fetch(this.XY,this.$f);};Ga.Object.defineProperties(d.prototype,{R:{configurable:!0,enumerable:!0,get:function(){return this.XY.R;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.XY.priority;}}});b.lfa=d;},12849:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r,q,u,v){this.is=u;this.Qh=v;this.log=r.qb("TaskScheduler");this.$b=new m.Bl();this.config=q();this.currentIteration=this.y5=0;this.NR=[];this.paused=!1;this.Qsa=[];this.ekb=[];this.Hnc=this.config.bAc || p.append;this.addEventListener=this.$b.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.KBa=void 0;t=a(22970);n=a(22674);c=a(87657);g=a(87386);f=a(4203);e=a(32573);h=a(42207);l=a(81918);k=a(5021);m=a(94886);(function(r){r.prepend="prepend";r.append="append";r.Ema="ignore";})(p || (p={}));d.prototype.E_b=function(r){this.log.trace("adding tasks, number of tasks: " + r.length);this.paused=!1;this.NR=this.Inc(r);this.y5=0;this.currentIteration+=1;this.yh();};d.prototype.pause=function(){this.paused=!0;};d.prototype.yh=function(){var r,q,u,v;r=this;if(this.y5 === this.NR.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.y5,numberOfTasks:this.NR.length});else {q=this.ejc();u=this.currentIteration;q.startTime=this.Qh.uc().la(k.wa);q.status=e.nq.Cx;this.$b.bd(c.mfa.qKc,{R:q.R,type:q.type});this.Qsa.push(q);v=function(w){q.endTime=r.Qh.uc().la(k.wa);w();r.ekb.push(q);r.Qsa.splice(r.Qsa.indexOf(q),1);r.currentIteration === u && (r.y5++,r.yh());};q.JEc().then(function(){v(function(){q.status=e.nq.i_;r.GUa(q,c.mfa.rKc,"task succeeded");});}).catch(function(w){v(function(){0 <= [e.nq.Gd,e.nq.j4b,e.nq.OHa].indexOf(w.status)?(q.status=w.status,r.GUa(q,c.mfa.oKc,"cancelled task")):(q.status=e.nq.Ff,r.GUa(q,c.mfa.pKc,"task failed",w));});});}};d.prototype.ejc=function(){return this.NR[this.y5];};d.prototype.getStats=function(r,q,u){var v,w,x,y;v=this.ekb.map(function(A){return A.Is();});w=this.Qsa.map(function(A){return A.Is();});x=this.is.Xh(r) && this.is.Xh(q);y={};if(this.is.Xh(u))return (y.d6b=v.filter(function(A){return A.movieId === u;}),y);v.concat(w).forEach(function(A){var z;y[A.type + "_" + A.status]=(y[A.type + "_" + A.status] | 0) + 1;z=A.status == e.nq.Cx?A.startTime:A.endTime;x && z && z >= r && z < q && (y[A.type + "_" + A.status + "_delta"]=(y[A.type + "_" + A.status + "_delta"] | 0) + 1);});return y;};d.prototype.GUa=function(r,q,u,v){var w;w=r.Is();v?this.log.warn(u,w,v):this.log.trace(u,w);this.$b.bd(q,{R:r.R,type:r.type,reason:r.status});r.oY(w);};d.prototype.Inc=function(r){var q,u;q=this.NR.filter(function(v){return v.Lyc && v.status === e.nq.Vl;});u=this.Hnc;return u === p.Ema?[].concat(r):u === p.prepend?q.concat(r):r.concat(q);};a=d;b.KBa=a;b.KBa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.wb)),t.__param(1,(0,n.l)(f.Cc)),t.__param(2,(0,n.l)(h.ei)),t.__param(3,(0,n.l)(l.Sd))],a);},37991:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vab=void 0;a.prototype.IHa=function(d,n){var c;d=n(d);null === (c=d.wo) || void 0 === c?void 0:c.forEach(function(g){g.THb.video.push({Tia:!1,dh:function(f){return f.filter(function(e){return !e.Wj || 1080 >= e.vZ;});}});});return d;};b.vab=a;},85671:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q,u,v,w,x;function d(y,A,z,B,C,D,F,H,E,G){this.zOc=z;this.Zb=B;this.Qh=C;this.cc=D;this.rob=F;this.oec=H;this.Pka=E;this.events=new x.EventEmitter();this.log=y.qb("VideoPreparer");this.config=A();this.l_a={};this.Soa={};this.stats={num_of_calls:0,num_of_movies:0};this.Pka.Sb(this);this.Of=G.Of;}function n(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.BDa=void 0;t=a(22970);c=a(79538);g=a(4203);f=a(22674);e=a(87386);h=a(62665);l=a(42207);k=a(87657);m=a(81918);p=a(5021);r=a(32573);q=a(18148);u=a(32737);v=a(67590);w=a(91176);x=a(90745);d.prototype.fGc=function(y,A,z){this.Of.setData(y,"ldl",A,z);};d.prototype.wsb=function(y){return this.Of.I7(y,"ldl");};d.prototype.q5b=function(y){this.Of.clearData(y,"ldl",void 0,!0);};d.prototype.Q6=function(y,A){return this.Of.getData(y,A);};d.prototype.Ngc=function(y){var A;A=this.Of.getData(y,"ldl");this.Of.clearData(y,"ldl",void 0,!0);return A;};d.prototype.XZa=function(y){return this.EHb === y || this.olb === y;};d.prototype.GQ=function(y,A){var z,B,C;z=this;y=y.map(function(D){D.zb=D.zb || ({tia:{Qyc:!1},Em:0});z.Zb.FV(D.zb.Em) || (D.zb.Em=0);z.Zb.FV(D.re) && (D.zb.Db=D.re);return D;});B=y.map(function(D){return z.M9b(D,A);}).reduce(function(D,F){return D.concat(F);},[]);C=B.map(function(D){return D.R + "-" + D.type;});this.log.trace("prepare tasks",C);this.cc.E_b(B);this.stats.num_of_calls++;this.stats.num_of_movies+=y.length;};d.prototype.getStats=function(y,A,z){return Object.assign(Object.assign({},z && this.Soa[z] || ({})),{NR:this.cc.getStats(y,A,z),cache:this.Of.getStats(y,A),Rfc:Object.assign(Object.assign({},this.stats),this.Pka.getStats())});};d.prototype.Jlc=function(y){this.EHb=y;};d.prototype.Hlc=function(y){this.log.trace("task scheduler paused on playback created");this.cc.pause();this.config.nac && this.Of.mIa(y,["manifest"]);this.config.mac && this.Of.mIa(y,["ldl"]);this.config.kac && this.Of.clearData(y,"manifest");this.Pka.IDb(y);this.olb=y;};d.prototype.msb=function(){this.log.info("ad played, clearing all manifests from cache");this.apb();};d.prototype.psb=function(){this.log.info("track changed, clearing all manifests from cache");this.apb();};d.prototype.Glc=function(y){var A;A=this;this.config.lac?this.Of.clearData(y,"manifest"):this.Of.I7(y,"manifest") && this.Of.getData(y,"manifest").then(function(z){z.ya.isSupplemental || A.config.GKa && (0,w.Ow)(z.ya.Jf)?z.OZa=!0:A.Of.clearData(y,"manifest");},function(z){A.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",z);});this.Of.getState().reduce(function(z,B){B=B.movieId;z.includes(B) || z.push(B);return z;},[]).forEach(function(z){A.Of.getData(z,"manifest").then(function(B){var C,D;(null === (D=null === (C=B.ya.YK) || void 0 === C?void 0:C.$Z) || void 0 === D?0:D.E8) && ["manifest","ldl"].forEach(function(F){return A.Of.jKb(z,F);});}).catch(function(){A.Of.clearData(z,"ldl");});});this.Gjb(y);this.EHb=this.olb=void 0;this.events.emit("playbackClosing",{J:y,type:"playbackClosing",target:this});};d.prototype.apb=function(){this.Of.mIa("none",["manifest","ldl"]);};d.prototype.Gjb=function(y){delete this.l_a[y];};d.prototype.Yy=function(y){return this.l_a[y];};d.prototype.rJa=function(y){return this.l_a[y]=this.zOc.GE();};d.prototype.wHc=function(y,A){if(this.wsb(y))return r.nq.Gd;if(!A.$I)return r.nq.OHa;};d.prototype.M9b=function(y,A){var z,B;y.We && y.zb && (y.zb.We=y.We);this.HMc(y.R,y.Wn);z=this.j9b(y,A);B=this.e9b(y,null === z || void 0 === z?void 0:z.id,A);y=this.n9b(y,null === z || void 0 === z?void 0:z.id,A);return [z,B,y].filter(n);};d.prototype.j9b=function(y,A){if(this.Of.I7(y.R,"manifest"))this.log.trace("manifest exists in cache for " + y.R);else return new c.lfa("manifest",this.Qh.uc().la(p.wa),!!y.zb.gFb,void 0,A,this.rob,y,this);};d.prototype.e9b=function(y,A,z){if(this.config.ska)if(this.Of.I7(y.R,"ldl"))!1;else return new c.lfa("license",this.Qh.uc().la(p.wa),!!y.zb.gFb,A,z,this.oec,y,this);};d.prototype.n9b=function(y,A,z){if(this.config.uka)return new c.lfa("getMedia",this.Qh.uc().la(p.wa),!!y.zb.gFb,A,z,this.Pka,y,this);};d.prototype.HMc=function(y,A){this.Soa[y] || (this.Soa[y]={Oqa:0,Wn:0});y=this.Soa[y];y.Oqa=(void 0 !== y?void 0 !== y.Oqa?y.Oqa:0:0) + 1;y.Wn=A;};a=d;b.BDa=a;b.BDa=a=t.__decorate([(0,f.Y)(),t.__param(0,(0,f.l)(e.wb)),t.__param(1,(0,f.l)(g.Cc)),t.__param(2,(0,f.l)(h.sD)),t.__param(3,(0,f.l)(l.ei)),t.__param(4,(0,f.l)(m.Sd)),t.__param(5,(0,f.l)(k.N$a)),t.__param(6,(0,f.l)(u.M$a)),t.__param(7,(0,f.l)(u.L$a)),t.__param(8,(0,f.l)(v.gva)),t.__param(9,(0,f.l)(q.Gva))],a);},36149:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.qLb=void 0;t=a(22674);d=a(58872);n=a(52357);b.qLb=new t.je(function(c){c(d.Rcb).to(n.ADa).pa();});},58872:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rcb="VideoPlayerFactorySymbol";},85001:function(t,b){var d,n,c,g,f,e,h,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dc=b.Gb=b.Pg=b.xc=b.Hua=b.ha=b.Xxa=b.wT=b.Sa=void 0;(function(k){k.ywb="loadedtracks";k.xwb="loadedmetadata";k.loaded="loaded";k.error="error";k.closed="closed";k.zs="currenttimechanged";k.$Jb="unthrottledcurrenttimechanged";k.Hia="bufferedtimechanged";k.uKa="durationchanged";k.WZa="videosizechanged";k.fBb="pausedchanged";k.eUa="playingchanged";k.xnb="endedchanged";k.NU="busychanged";k.qia="audiotracklistchanged";k.Zo="audiotrackchanged";k.nA="timedtexttracklistchanged";k.Ao="timedtexttrackchanged";k.rca="trickplayframeschanged";k.IYa="timecodesupdated";k.Dyb="mutedchanged";k.xLb="volumechanged";k.wXa="showsubtitle";k.qVa="removesubtitle";k.cOc="watermark";k.ZPa="isReadyToTransition";k.aX="inactivated";k.Wtb="internalPlaybackError";k.AFc="segmentmaploaded";k.BFc="segmentpresenting";k.Jhb="autoplaywasallowed";k.wia="autoplaywasblocked";k.W_b="adsstatechanged";k.HJ="livestatechanged";k.Jgb="admetadataupdated";})(d || (b.Sa=d={}));(n || (b.wT=n={})).$aa="playgraphsegmenttransition";b.Xxa=a;a.TFb="serverTimeChanged";(function(k){k.Zna="livePipelineFailover";k.uia="autoplayWasAllowed";k.ij="autoplayWasBlocked";k.rE="bufferUnderrun";k.closed="closed";k.Tg="closing";k.zs="currentTimeChanged";k.ZN="downloadComplete";k.aX="inactivated";k.Sna="licenseAdded";k.JQa="licensed";k.b9="locationSelected";k.oRa="manifestClosing";k.WB="manifestPresenting";k.E9="mediaBufferChanged";k.hpa="nextBranchingSegmentChosen";k.Pz="playbackStart";k.uo="playbackReady";k.qm="repositioned";k.gG="repositioning";k.Paa="safePlayRequested";k.LK="segmentPresenting";k.gba="serverSwitch";k.tXa="shouldUpdateVideoDiagInfo";k.h_="subtitleError";k.CYa="throttledMediaTimeChanged";k.aKb="unthrottledMediaTimeChanged";k.r_="timedTextRebuffer";k.nA="timedTextTrackListChanged";k.rca="trickPlayFramesChanged";k.tZa="updateNextBranchingSegmentWeights";k.$Kb="userInitiatedPause";k.aLb="userInitiatedResume";k.rJb="tracksHydrated";k.HJ="livestatechanged";k.Kaa="restarting";k.qwb="livePostplayUpdated";k.CU="aseLogblob";})(c || (b.ha=c={}));(g || (b.Hua=g={})).xha="adBreakComplete";(function(k){k[k.oT=0]="NOTLOADED";k[k.LOADING=1]="LOADING";k[k.mf=2]="NORMAL";k[k.CLOSING=3]="CLOSING";k[k.CLOSED=4]="CLOSED";})(f || (b.xc=f={}));(function(k){k[k.mf=1]="NORMAL";k[k.Df=2]="BUFFERING";k[k.Iab=3]="STALLED";})(e || (b.Pg=e={}));(function(k){k[k.Qg=1]="WAITING";k[k.bg=2]="PLAYING";k[k.gi=3]="PAUSED";k[k.Iv=4]="ENDED";})(h || (b.Gb=h={}));(function(k){k[k.gq=0]="INITIAL";k[k.Ov=1]="SEEK";k[k.bT=2]="LIVE_EDGE";k[k.L2=3]="TRACK_CHANGED";k[k.rM=4]="SEGMENT_CHANGED";k[k.eea=5]="FORCE_REBUFFER";k[k.R0=6]="FRAGMENTS_MISSING";k[k.Iea=7]="MEDIA_DISCONTINUITY";})(l || (b.Dc=l={}));},91122:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.S1a="CdnPartitionerSymbol";},75950:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z;Object.defineProperty(b,"__esModule",{value:!0});b.$sb=void 0;t=a(22674);d=a(70673);n=a(78033);c=a(23002);g=a(487);f=a(77764);e=a(23179);h=a(52794);l=a(52961);k=a(44376);m=a(15850);p=a(47500);r=a(68272);q=a(10242);u=a(78029);v=a(62553);w=a(91122);x=a(12394);y=a(20034);A=a(91825);z=a(27134);b.$sb=new t.je(function(B){B(d.L4a).to(n.Exa).pa();B(c.O4a).to(g.Fxa).pa();B(f.z4a).to(e.yxa).pa();B(h.A4a).to(l.zxa).pa();B(w.S1a).to(x.Mva).pa();B(k.p$a).to(m.uBa).pa();B(p.RCa).to(r.QCa);B(q.X1).to(y.cM);B(A.Z1).to(z.dM);B(u.xxa).to(v.Gxa);});},78029:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xxa="HLSConfigSymbol";},77764:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.z4a="HLSPlaylistBuilderSymbol";},52794:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.A4a="HLSPlaylistTransformerSymbol";},70673:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L4a="HeaderFetcherSymbol";},23002:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.O4a="HLSHeaderParserFactorySymbol";},10242:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mSc="LogblobBuilderSymbol";b.X1="HLSLogblobBuilderFactorySymbol";},91825:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z1="HLSLogblobMonitorFactorySymbol";},44376:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.p$a="PlayerPlaydataMonitorSymbol";},47500:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RCa="StreamChangeDetectorSymbol";},12394:function(t,b,a){var n,c;function d(g){this.ta=g.qb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Mva=void 0;t=a(22970);n=a(22674);a=a(87386);d.prototype.Sgc=function(g){var e,h,l,k,m,p,r;function f(q,u,v){var w,x,y;w=q.map(function(A){return A.Uh;});w.sort(function(A,z){return u[A] - u[z];});if(1 === w.length)(!1,l.set(v,{ZY:q[0],esa:q[0]}));else {x=w.find(function(A){return e.has(A);});x || ((x=w.find(function(A){return !h.has(A);}))?e.add(x):(x=w[0],!1));y=w.find(function(A){return h.has(A) && A !== x;});y || ((y=w.find(function(A){return !e.has(A) && A !== x;}))?h.add(y):(y=w.find(function(A){return A !== x;}),!1));l.set(v,{ZY:q.find(function(A){return A.Uh === x;}),esa:q.find(function(A){return A.Uh === y;})});}}e=new Set();h=new Set();l=new Map();k=g.video;m=g.audio;p=g.text;r=g.xm.reduce(function(q,u){q[u.id]=u.wc;return q;},{});k.forEach(function(q){q=q.stream;f(q.urls,r,q.Vn);});m.forEach(function(q){q=q.stream;f(q.urls,r,q.Vn);});p.forEach(function(q){var u,v;if(!q.track.Qw || q.track.u8){u=q.stream;q=q.id;v=u.urls.reduce(function(w,x,y){w[x.Uh]=y + 1;return w;},{});f(u.urls,v,q);}});return l;};c=d;b.Mva=c;b.Mva=c=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.wb))],c);},62553:function(t,b,a){var n,c,g,f;function d(e){return c.Ef.call(this,e,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Gxa=void 0;t=a(22970);n=a(22674);c=a(64174);g=a(83767);a=a(12501);Ia(d,c.Ef);Ga.Object.defineProperties(d.prototype,{UBb:{configurable:!0,enumerable:!0,get:function(){return !0;}},Bz:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},$B:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},atb:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Zu:{configurable:!0,enumerable:!0,get:function(){return 80;}}});f=d;b.Gxa=f;t.__decorate([a.config(a.fd,"playsInline")],f.prototype,"UBb",null);t.__decorate([a.config(a.nJ,"minAudioMediaRequestDuration")],f.prototype,"Bz",null);t.__decorate([a.config(a.nJ,"minVideoMediaRequestDuration")],f.prototype,"$B",null);t.__decorate([a.config(a.nJ,"hlsVideoMediaRequestTargetDuration")],f.prototype,"atb",null);t.__decorate([a.config(a.nJ,"minStartingVideoVMAF")],f.prototype,"Zu",null);b.Gxa=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.Fn))],f);},23179:function(t,b,a){var f,e,h,l,k,m,p,r,q,u,v,w;function d(x,y){this.J5=y;this.Kd=x.filter(function(A){return A.fZa[m.rq.iga];}).map(function(A){return {track:A,stream:A.fZa[m.rq.iga],id:A.Omb[m.rq.iga]};});}function n(x,y,A){var z;this.LR=y;this.Zu=A;z=x[0];this.pca=z.streams.map(function(B){return {track:z,M7:B.sHb,stream:B};});}function c(x,y,A,z){function B(C,D){return C.bitrate > D.bitrate?C:D;}this.log=x;this.LR=A;this.J5=z;this.pca=y.map(function(C){var D;D=C.streams.reduce(B);return {track:C,M7:D.tn?D.tn.offset + D.tn.size:void 0,stream:D};});}function g(x,y,A,z,B,C){this.omc=x;this.pmc=y;this.zzc=A;this.n4b=z;this.S7=B;this.Vg=C;this.ta=C.qb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.gVb=b.JVb=b.OMb=b.yxa=void 0;t=a(22970);f=a(22674);e=a(70673);h=a(23002);l=a(36129);k=a(31149);m=a(75568);p=a(52794);r=a(91122);q=a(78029);u=a(87386);v=a(79542);w=a(26388);g.prototype.build=function(x,y){var A,z,B,C,D,F;A=this;C=x.ya;x=this.ygc(C,y);D=this.ilc(C,y);F=null !== (B=null === (z=C.RQ) || void 0 === z?void 0:z.t_) && void 0 !== B?B:C.SR.find(function(H){var E;return H.id === (null === (E=C.K5) || void 0 === E?void 0:E[0].jIb);}).Dh;z=new d(C.SR,F);return Promise.all([x,D,z]).then(function(H){var E,G;E=Ea(H);H=E.next().value;G=E.next().value;E=E.next().value;H={audio:H.getMetadata(),video:G.getMetadata(),text:E.getMetadata(),Rlb:H.uMa(),T$b:E.uMa(),duration:C.duration,xm:C.xm};G=A.n4b.Sgc(H);y("h_s");return {nsc:A.zzc.transform(H,G),q4b:G,jJc:H};});};g.prototype.ilc=function(x,y){var A;A=new n(x.qA,this.S7.atb,this.S7.Zu);return this.Hmb(A.pca,w.v.V,y).then(function(z){A.PWa(z);return A;});};g.prototype.ygc=function(x,y){var A,z,B,C;B=null !== (z=null === (A=x.RQ) || void 0 === A?void 0:A.iu) && void 0 !== z?z:x.Ay.find(function(D){var F;return D.id === (null === (F=x.K5) || void 0 === F?void 0:F[0].iu);}).Dh;C=new c(this.ta,x.Ay,this.S7.Bz,B);return this.Hmb(C.pca,w.v.X,y).then(function(D){C.PWa(D);return C;});};g.prototype.xTa=function(x,y,A,z){if(x=this.pmc.parse(y,x,A))return x;this.ta.error("Failed to parse headers",{type:y === w.v.X?"audio":"video",downloadableId:z.stream.Vn});};g.prototype.Hmb=function(x,y,A){var z;z=this;return Promise.all(x.map(function(B,C){if(B.M7)return z.omc.download({urls:B.stream.urls,offset:0,length:B.M7}).then(function(D){A("h_" + (0 === y?"A":"V") + "_" + C + "_s");return z.xTa(D,y,y == w.v.X?z.S7.Bz:z.S7.$B,B);}).catch(function(){A("h_" + B.track.Ci[0] + "_" + C + "_f");z.ta.warn("Failed to download and parse headers for " + B.stream.Vn);});z.ta.warn("Stream data offset is missing",{downloadableId:B.stream.Vn});}));};a=g;b.yxa=a;b.yxa=a=t.__decorate([(0,f.Y)(),t.__param(0,(0,f.l)(e.L4a)),t.__param(1,(0,f.l)(h.O4a)),t.__param(2,(0,f.l)(p.A4a)),t.__param(3,(0,f.l)(r.S1a)),t.__param(4,(0,f.l)(q.xxa)),t.__param(5,(0,f.l)(u.wb))],a);c.prototype.PWa=function(x){var y;y=this;if(!x.find(function(A){return void 0 !== A;}))throw k.ue.RLb(l.aa.s5a,l.W.bza);this.Kd=this.pca.map(function(A,z){if(z=x[z])return {track:A.track,stream:A.stream,La:z,LR:y.LR};}).filter(v.Hub);};c.prototype.getMetadata=function(){return this.Kd;};c.prototype.uMa=function(){var x,y;x=this;if(!this.Kd.find(function(A){return A.track.Dh === x.J5;}) && 0 < this.Kd.length){y=this.Kd[0].track.Dh;this.log.warn("Did not find metadata for audio track " + this.J5 + ", falling back to " + y);return y;}return this.J5;};b.OMb=c;n.prototype.PWa=function(x){var y,A;y=this;if(!x.find(function(z){return void 0 !== z;}))throw k.ue.RLb(l.aa.s5a,l.W.cza);A=this.pca.map(function(z,B){if(B=x[B])return {track:z.track,stream:z.stream,La:B,LR:y.LR};}).filter(v.Hub);this.Kd=this.qjc(A);};n.prototype.getMetadata=function(){return this.Kd;};n.prototype.qjc=function(x){var y,A,z;y=this;x.sort(function(B){return B.stream.bitrate;});A=x.findIndex(function(B){var C;return (null !== (C=B.stream.Ob) && void 0 !== C?C:0) >= y.Zu;});if(-1 !== A && A !== x.length - 1){z=x[A];x.splice(A,1);x.push(z);}x.reverse();return x;};b.JVb=n;d.prototype.uMa=function(){return this.J5;};d.prototype.getMetadata=function(){return this.Kd;};b.gVb=d;},52961:function(t,b,a){var n,c,g,f,e,h;function d(l){this.ta=l.qb("HLSPlaylistTransformerImpl");this.LNc=f.nwa.Jy();this.A1b=e.mwa.Jy();}Object.defineProperty(b,"__esModule",{value:!0});b.zxa=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(35128);f=a(48617);e=a(12187);h=[0,1];d.prototype.transform=function(l,k){var m,p,r,q,u,v,w,x,y;m=this;p=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];r=l.text;q=l.audio;u=l.video;v=l.duration;w=l.Rlb;x=l.T$b;r.forEach(function(A){h.forEach(function(z){var B,C,D,F;B=0 === z;C=A.stream;D=A.track;F=k.get(A.id);B=B?F.ZY:F.esa;C=m.Okc({url:B.url,duration:v / 1E3,size:C.size,gp:"Manifest for subtitles " + D.language + ' stream "' + D.CJ + '", ' + D.Dh + ", cdn " + B.Uh});m.ta.trace("Text variant manifest",C.join("\n"));z=m.Pkc({groupId:z,name:D.CJ,zPa:D.Dh === x,co:D.u8,$nc:D.Ci === g.Pt.sua,language:D.language,uri:m.moa(C)});p.push(z);});});q.forEach(function(A){h.forEach(function(z){var B,C,D,F,H,E;B=0 === z;C=A.stream;D=A.track;F=A.La;H=A.LR;E=k.get(C.Vn);B=B?E.ZY:E.esa;C=m.Wqb({url:B.url,M7:C.tn.offset + C.tn.size,La:F,BIb:Math.floor(H / 1E3),gp:"Manifest for audio " + D.language + ' stream "' + D.CJ + '", ' + D.Dh + ", cdn " + B.Uh});m.ta.trace("Audio variant manifest",C.join("\n"));z=m.zgc({groupId:z,language:D.language,name:D.CJ,zPa:D.Dh === w,uri:m.moa(C)});p.push(z);});});y=this.A1b[q[0].track.profile];u.forEach(function(A){h.forEach(function(z){var B,C,D,F,H,E;B=0 === z;C=A.stream;D=A.track;F=A.La;H=A.LR;E=k.get(C.Vn);E=B?E.ZY:E.esa;B=0 < r.length;D=m.Wqb({url:E.url,M7:C.tn?C.tn.offset + C.tn.size:C.sHb,La:F,BIb:Math.floor(H / 1E3),gp:"Manifest for video bitrate " + C.bitrate + ", stream " + D.Dh + ", cdn " + E.Uh});m.ta.trace("Video variant manifest",D.join("\n"));z=m.jlc({groupId:z,F4:1E3 * C.bitrate,Q1b:1E3 * C.bitrate,Roc:0 <= C.lI.indexOf("-hdr-") || 0 <= C.lI.indexOf("-dv5-"),framerate:(C.ppb / C.opb).toFixed(3),qn:C.KVa + "x" + C.nEb,CNc:m.LNc[C.lI],r1b:y,xKc:B});p.push(z);z=m.moa(D);p.push("" + z);});});this.ta.trace("Primary manifest",p.join("\n"));return this.moa(p);};d.prototype.zgc=function(l){var k;k=l.zPa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + l.groupId + '"','CHANNELS="2"','LANGUAGE="' + l.language + '"','NAME="' + l.name + '"',"DEFAULT=" + (k?"YES":"NO"),"AUTOSELECT=" + (k?"YES":"NO"),'URI="' + l.uri + '"'].join(", ");};d.prototype.Wqb=function(l){var k,m;k=l.La;m=["#EXTM3U","# " + l.gp,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + l.BIb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + k[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];k.forEach(function(p,r){m.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.Db.toFixed(3));m.push("#EXT-X-BYTERANGE:" + p.b3b + "@" + p.byteOffset);m.push("{$U}&fi=" + r);});m.push("#EXT-X-ENDLIST");return m;};d.prototype.jlc=function(l){var k,m;k=l.groupId;m=["#EXT-X-STREAM-INF:BANDWIDTH=" + l.F4,"AVERAGE-BANDWIDTH=" + l.Q1b,"VIDEO-RANGE=" + (l.Roc?"PQ":"SDR"),"FRAME-RATE=" + l.framerate,'AUDIO="group_' + k + '"',"RESOLUTION=" + l.qn,'CODECS="' + l.CNc + "," + l.r1b + '"'];l.xKc && m.push('SUBTITLES="subs_' + k + '"');return m.join(", ");};d.prototype.Okc=function(l){var k;k=l.duration;return ["#EXTM3U","# " + l.gp,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(k),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + l.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + k.toFixed(3),"#EXT-X-BYTERANGE:" + l.size + "@0","{$U}","#EXT-X-ENDLIST"];};d.prototype.Pkc=function(l){var k,m,p;k=l.zPa;m=l.language;p=l.uri;k=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + l.groupId + '"','NAME="' + l.name + '"',"DEFAULT=" + (k?"YES":"NO"),"AUTOSELECT=" + (k?"YES":"NO"),"FORCED=" + (l.co?"YES":"NO")];l.$nc && k.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');k.push('LANGUAGE="' + m + '"');k.push('URI="' + p + '"');return k.join(", ");};d.prototype.moa=function(l){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(l.join("\n"));};a=d;b.zxa=a;b.zxa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb))],a);},78033:function(t,b,a){var n,c,g,f;function d(e,h){this.Bmc=e;this.log=h.qb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Exa=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(2571);f=a(32934);d.prototype.download=function(e){var l,k,m,p,r;function h(q){if(r < k.length - 1)return (!1,r++,l.Jmb(k[r].url,m,p).catch(h));throw q;}l=this;k=e.urls;m=e.offset;p=e.length;r=0;return this.Jmb(k[r].url,m,p).catch(h);};d.prototype.Jmb=function(e,h,l){return this.Bmc.download({url:e,withCredentials:!1,responseType:f.ResponseType.iNb,wI:"hls_headers",Ix:!0,offset:h,length:l,zx:f.p2},{QX:1});};a=d;b.Exa=a;b.Exa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.T4a)),t.__param(1,(0,n.l)(c.wb))],a);},487:function(t,b,a){var n,c,g;function d(f){this.ta=f.qb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Fxa=void 0;t=a(22970);n=a(22674);c=a(91562);a=a(87386);d.prototype.parse=function(f,e,h){f=new c.Dl(this.ta,{mediaType:f},e,["sidx"]).parse();if(f.Kz && f.La)return this.wGa(f.La,h);};d.prototype.wGa=function(f,e){var h,l,k,m,p;h=0;l=0;k=0;m=f.offset;p=[];f.fg.forEach(function(r,q){l+=r;k+=f.sizes[q];if(1E3 * l / f.P >= e || q === f.fg.length - 1)(p.push({duration:l / f.P,Db:h / f.P,byteOffset:m,b3b:k}),h+=l,l=0,m+=k,k=0);});return p;};g=d;b.Fxa=g;b.Fxa=g=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.wb))],g);},20034:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r,q){this.Vg=k;this.BF=m;this.Bh=p;this.Gc=r;this.Oa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.cM=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(87386);f=a(45118);e=a(98326);h=a(31850);l=a(97444);d.prototype.create=function(k){return new l.Y1(this.Vg,this.BF,this.Bh,this.Oa,this.Gc,k);};a=d;b.cM=a;b.cM=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(g.wb)),t.__param(1,(0,n.l)(h.tD)),t.__param(2,(0,n.l)(f.Io)),t.__param(3,(0,n.l)(e.Oya)),t.__param(4,(0,n.l)(c.Sd))],a);},97444:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r,q,u){var v;v=this;this.BF=m;this.Bh=p;this.Oa=r;this.Gc=q;this.QRa=this.oJ=this.xaa=0;this.EP=!1;this.NF=function(){var w;w=v.K$();w.prstate=v.jF();w.paustate=v.j.x8();w.midplayseq=v.QRa++;v.Gc.cX(w);v.Lc(n.Ed.NF,void 0,l.Xe | l.$x,w);};this.ij=function(){v.Lc(n.Ed.gib,void 0,l.Xe | l.Gt,{});};this.Ao=function(w){v.CQa=v.getTime();v.DQa=w.jx;};this.y4=function(w){v.pQa=w.oldValue;};this.rqa=function(w){w != v.EP && (v.QXa(v.EP,w),v.EP=w);};this.QXa=function(w,x){var y;y=v.j.Ka;w={newstate:x?"Paused":"Playing",oldstate:w?"Paused":"Playing"};v.Gc.Qu(w,y.Te.value && y.Te.value.stream,y.Gf.value && y.Gf.value.stream);v.Lc(n.Ed.Fba,void 0,l.Xe,w);};this.yba=function(w){v.Lc(n.Ed.oHb,void 0,l.Xe,{speedold:Math.floor(1E3 * w.oldValue),speed:Math.floor(1E3 * w.newValue)});};this.BG=function(w){var x,y,A;y=v.j.Ka;A=y.ja.Cd;if(w.newValue || A && A.xp() && !A.co())(w=null !== (x=w.newValue) && void 0 !== x?x:A,x=v.eP(w),w=v.eP(v.DQa),x={switchdelay:(0,c.zh)(v.getTime() - v.CQa),track:x,oldtrack:w},v.Gc.Qu(x,y.Te.value && y.Te.value.stream,y.Gf.value && y.Gf.value.stream),v.Lc(n.Ed.UIb,void 0,l.Xe,x));};this.PTa=function(w,x){var y;y=v.j.Ka;w={waittime:(0,c.zh)(w),abortedevent:"resumeplay",resumeplayreason:x};v.Gc.Qu(w,y.mg.value,y.Hi.value);v.Lc(n.Ed.kK,void 0,l.Xe | l.Gt,w);};this.qt=function(w,x,y){var A;A=y.SVa;y=y.dEb;w={playdelay:(0,c.zh)(w),reason:A,intrplayseq:v.oJ - 1,skipped:x};"repos" === A && (w.prstate=!0 === v.j.zj.value?"playing":"paused",y === e.Dc.R0 && (w.repos_reason="missing_segments"));v.Lc(n.Ed.qt,void 0,l.Xe | l.Mv,w);};this.ZGa=function(){var w,x,y,A;x=v.NO(v.j.Ka.ja.Vd,v.j.Ka.Hi.value.Yb);y=v.xF;A=null === (w=v.pQa) || void 0 === w?void 0:w.Yb;w=v.NO(y,A);v.Lc(n.Ed.Dhb,void 0,l.Xe,{switchdelay:(0,c.zh)(v.getTime() - v.qQa),track:x,oldtrack:w});};this.Zo=function(w){v.qQa=v.getTime();v.xF=w.$u;};this.QTa=function(){var w,x,y;w=v.j.Ka;x={abortedevent:"startplay",trackid:w.Em,prstate:v.jF(),paustate:v.j.x8()};try{y=(0,g.PW)();y && (x.pdltime=y);(0,c.uf)(x,w.tf,{prefix:"sm_"});}catch(A){}v.Gc.Lma(x,w);v.Gc.bX(x,!1,w.ja.Vd,w);v.Gc.dX(x,!1,w.ja.sh,w);v.Gc.Qu(x,w.mg.value,w.Hi.value);v.lP(x);v.Lc(n.Ed.kK,void 0,l.Xe | l.$x | l.Gt,x);};this.zE=function(w,x,y,A){w={moff:(0,c.Xq)(y),moffms:(0,c.zh)(y),vbitrate:x.bitrate,vbitrateold:w.bitrate,vdlid:x.Yb,vdlidold:w.Yb,vheight:x.height,vheightold:w.height,vwidth:x.width,vwidthold:w.width,bw:A};v.Lc(n.Ed.zE,void 0,0,w);};this.AK=function(w,x,y){w={moffold:(0,c.Xq)(w),reposseq:v.xaa++,prstate:v.jF(),paustate:v.j.x8()};v.Gc.Qu(w,y && y.stream,x && x.stream);v.Lc(n.Ed.AK,void 0,l.Xe,w);};this.Pp=function(w){var x,y,A,z,B,C,D,F,H;C=w.Ka;D={playdelaysdk:(0,c.zh)(v.j.T4()),applicationPlaydelay:(0,c.zh)(v.j.GHa()),playdelay:(0,c.zh)(v.j.HHa()),trackid:C.Em,bookmark:(0,c.zh)(C.ap || 0),pbnum:C.index};D.audiotrackinfo=v.NO(v.j.Ka.ja.Vd,v.j.Ka.Gf.value?v.j.Ka.Gf.value.stream?v.j.Ka.Gf.value.stream.Yb:void 0:void 0);F=v.j.Ka.ja.sh;H=null === (y=null === (x=v.j.Ka.Te.value) || void 0 === x?void 0:x.stream) || void 0 === y?void 0:y.Yb;D.videotrackinfo=v.aOa(F,H);D.texttrackinfo=v.eP(v.j.Ka.ja.Cd);v.j.ij && (D.blocked=v.j.ij);D.initvbitrate=v.j.c8;v.Gc.ZOa(D);v.Gc.otb(D);D.esnSource=null === (A=Ba._cad_global.device) || void 0 === A?void 0:A.Cka;v.vtb(D,C);D.pdltime=(0,g.PW)();(0,c.uf)(D,C.tf,{prefix:"sm_"});D.ttTrackFields=null === (z=C.ja.Cd) || void 0 === z?void 0:z.ai;D.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');v.Gc.bX(D,!0,C.ja.Vd,C);v.Gc.dX(D,!0,C.ja.sh,C);D.packageId=null === (B=C.U) || void 0 === B?void 0:B.ya.ur;v.Gc.cX(D);v.Gc.Lma(D,C);v.lP(D);v.Lc(n.Ed.Pp,w.mj,l.Xe | l.Mv | l.$x | l.TL | l.Gt,D);};this.Cu=function(){var w,x,y;w=v.j;x=w.Ka;w=w.mj;y=v.K$();y.paustate=!v.j.Rw();y.muted=v.j.NPa();y.endreason=w?"error":v.j.CPa()?"ended":"stopped";v.Gc.bX(y,!1,x.ja.Vd,x);v.Gc.dX(y,!1,x.ja.sh,x);v.Gc.cX(y);v.lP(y);v.Lc(n.Ed.Cu,w,l.Xe | l.Mv | l.$x | l.TL | l.Gt,y);};this.tVa=function(w,x,y){var A;A=v.j.Ka.Gf;w={moff:(0,c.Xq)(y),moffms:(0,c.zh)(y),vdlidold:w.Yb,vbitrateold:w.bitrate};v.Gc.Qu(w,x,A.value && A.value.stream);v.Lc(n.Ed.saa,void 0,0,w);};this.jF=function(){var w;w=v.j.Tb.value;return w === e.Gb.bg?"playing":w === e.Gb.gi?"paused":w === e.Gb.Iv?"ended":"waiting";};this.ta=k.qb("LogblobBuilderImpl");this.j=u;}Object.defineProperty(b,"__esModule",{value:!0});b.Y1=void 0;n=a(18169);c=a(3887);g=a(52569);f=a(36129);e=a(85001);h=a(5021);d.prototype.getTime=function(){return this.Oa.uc().la(h.wa);};d.prototype.DNa=function(){return this.getTime() - this.j.Ka.xj.la(h.wa);};d.prototype.NO=function(k,m){return k?{trackId:k.trackId,bcp47:k.wg,downloadableId:m,rank:k.wc,chan:k.channels}:{};};d.prototype.aOa=function(k,m){return k?{id:k.trackId,downloadableId:m,rank:k.wc}:{};};d.prototype.eP=function(k){return k?{trackId:k.trackId,bcp47:k.wg,downloadableId:k.Yb,rank:k.wc,isImageBased:k.wp,profile:k.profile}:{};};d.prototype.vtb=function(k,m){var p;if(m=null === (p=m.ja.sh) || void 0 === p?void 0:p.streams)(k.maxbitrate=(0,g.oda)(m.map(function(r){return r.bitrate;})),k.maxresheight=(0,g.oda)(m.map(function(r){return r.height;})));};d.prototype.lP=function(k){k.cachedManifest="notcached";k.cachedLicense="notcached";k.usedldl="false";};d.prototype.K$=function(){var k,m,p,r;k=this.j.Ka;m=k.so;p={totaltime:(0,c.Xq)(m.Ku()),totalcontenttime:(0,c.Xq)(m.B7()),reposcount:this.xaa,intrplaycount:this.oJ};p.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});r=k.mg.value;r && (p.videofr=r.framerate.toFixed(3));(r=m.iMa()) && (p.abrdel=r);(r=m.yma() && m.Ipb()) && (p.tw_vmaf=r);(m=m.Gpb()) && (0,c.uf)(p,m);p.rbfrs=this.oJ;this.vtb(p,k);return p;};d.prototype.Lc=function(k,m,p,r){var q,u,v;q=this;m && (0,f.cea)(null === m || void 0 === m?void 0:m.errorCode,null === m || void 0 === m?void 0:m.Ma,this.DNa(),void 0) && (u="info");v=this.j.Ka;this.dGa(r,m,p);m=u || (m?"error":"info");r=this.BF.tu(k,m,r,v);this.Bh.Lc(r);"error" !== m && k !== n.Ed.Cu || this.Bh.flush(!1).catch(function(){q.ta.debug("Failed to flush the logblobs");});};d.prototype.dGa=function(k,m,p){var r;r=this.j.Ka;this.Gc.ntb(k,r);p & l.Xe && this.Gc.rtb(k,r,!1);p & l.Mv && this.Gc.ttb(k,r);p & l.$x && this.Gc.utb(k,this.j.mp());m && p & l.TL && this.Gc.ptb(k,r,m);p & l.Gt && this.Gc.ZOa(k);};b.Y1=d;(function(k){k[k.Xe=1]="MOFF";k[k.Mv=2]="PRESENTEDSTREAMS";k[k.$x=4]="SCREEN";k[k.TL=8]="FATALERROR";k[k.Gt=16]="BROWSERINFO";})(l || (l={}));},27134:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r,q){this.Bh=k;this.config=m;this.Ia=p;this.Oa=r;this.dRa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.dM=void 0;t=a(22970);n=a(22674);c=a(81918);g=a(30869);f=a(4203);e=a(45118);h=a(10242);l=a(5522);d.prototype.create=function(k){return new l.a2(k,this.Bh,this.config,this.Oa,this.dRa.create(k));};a=d;b.dM=a;b.dM=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(e.Io)),t.__param(1,(0,n.l)(f.Cc)),t.__param(2,(0,n.l)(g.di)),t.__param(3,(0,n.l)(c.Sd)),t.__param(4,(0,n.l)(h.X1))],a);},5522:function(t,b,a){var n,c,g,f;function d(e,h,l,k,m){var p;p=this;this.j=e;this.Bh=h;this.config=l;this.Oa=k;this.eb=m;this.Z4=function(){p.Tg();p.j.Ka.nk.removeListener(p.BG);p.j.Ka.ja.removeListener(p.eb.Ao);p.j.Ka.ja.removeListener(p.Zo);p.j.Ka.Hi.removeListener(p.eb.y4);p.j.zj.removeListener(p.TBb);p.j.pZ.removeListener(p.qm);p.j.Ka.Te.removeListener(p.T$);p.j.Tb.removeListener(p.iB);p.j.Tb.removeListener(p.aV);p.j.Ka.mg.removeListener(p.Uca);p.j.Ka.playbackRate.removeListener(p.eb.yba);p.j.removeEventListener(g.Sa.closed,p.Z4);p.j.removeEventListener(g.Sa.wia,p.eb.ij);};this.aV=function(){p.j.Tb.value === g.Gb.bg && (p.j.Tb.removeListener(p.aV),p.Pz());};this.BG=function(r){p.dv && p.eb.BG(r);};this.qm=function(r){p.dv && void 0 !== r.newValue && (p.xZ && p.Dt && p.eb.PTa(p.getTime() - p.Dt,p.xZ.SVa),p.xZ={SVa:"repos",dEb:r.newValue},p.eb.AK(r.newValue,p.j.Ka.Gf.value,p.j.Ka.Te.value),p.Dt=p.getTime(),(0,c.yh)(p.iB));};this.TBb=function(r){p.dv && p.eb.rqa(!r.newValue);};this.Zo=function(r){r.$u && (p.xF=r.$u,p.eb.Zo(r),p.xZ={SVa:"repos",dEb:g.Dc.L2},p.Dt=p.getTime(),(0,c.yh)(p.iB));};this.iB=function(){var r;if(p.Dt && p.xZ && p.j.Tb.value !== g.Gb.Qg){r=p.getTime() - p.Dt;p.eb.qt(r,!1,p.xZ);p.xF && p.xF != p.j.Ka.ja.Vd && p.eb.ZGa();p.Dt=void 0;p.xZ=void 0;}};this.Pz=function(){p.dv || (p.dv=!0,p.eb.Pp(p.j),p.hPa(),p.config().Rma && (p.qF=Ba.setTimeout(function(){p.Bh.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.qF=void 0;},p.config().Rma)));};this.Tg=function(){p.qF && (Ba.clearTimeout(p.qF),p.qF=void 0);p.vca && p.vca();p.dv?p.eb.Cu():p.j.mj?p.eb.Pp(p.j):p.eb.QTa();};this.Uca=function(r){r.oldValue && r.Xl && r.Xl.GN && p.eb.zE(r.oldValue,r.newValue,r.Xl.GN,r.Xl.F4);};this.T$=function(r){var q;if(r.newValue){q=r.newValue.stream;p.GP != q && (p.GP && q && p.eb.tVa(p.GP,q,r.newValue.bV.startTime),p.GP=q);}};this.Msa();}Object.defineProperty(b,"__esModule",{value:!0});b.a2=void 0;n=a(5021);c=a(32219);g=a(85001);f=a(26388);d.prototype.Msa=function(){this.j.addEventListener(g.Sa.closed,this.Z4);this.j.addEventListener(g.Sa.wia,this.eb.ij);this.j.Ka.nk.addListener(this.BG);this.j.Ka.ja.addListener([f.v.Aa],this.eb.Ao);this.j.Ka.ja.addListener([f.v.X],this.Zo);this.j.Ka.Hi.addListener(this.eb.y4);this.j.zj.addListener(this.TBb);this.j.pZ.addListener(this.qm);this.j.Ka.Te.addListener(this.T$);this.j.Tb.addListener(this.iB);this.j.Tb.addListener(this.aV);this.j.Ka.mg.addListener(this.Uca);this.j.Ka.playbackRate.addListener(this.eb.yba);};d.prototype.getTime=function(){return this.Oa.uc().la(n.wa);};d.prototype.hPa=function(){var e,h,l;e=this;l=[];this.config().Wxb && (this.config().Xxb.forEach(function(k){l.push(Ba.setTimeout(e.eb.NF,k));}),this.config().Goa && (h=Ba.setInterval(this.eb.NF,this.config().Goa)),this.vca=function(){l.forEach(function(k){Ba.clearTimeout(k);});h && Ba.clearInterval(h);});};b.a2=d;},15850:function(t,b,a){var n,c,g,f,e;function d(h,l){var m;function k(){m.HTa.then(function(p){m.ta.trace("Unloading PBO Playdata Services");p.close();});f.oe.removeListener(f.cn,k);}m=this;this.jBb=l;this.HTa=l();this.ta=h.qb("PlayerPlaydataMonitorImpl");f.oe.addListener(f.cn,k);}Object.defineProperty(b,"__esModule",{value:!0});b.uBa=void 0;t=a(22970);n=a(22674);c=a(87386);g=a(96687);f=a(37509);e=a(85001);d.prototype.sl=function(h,l){this.HTa.then(function(k){k.sl(l,!0,function(m){return h.close(m);});k.OXa(l);h.addEventListener(e.Sa.eUa,function(){h.Rw() && k.KFb(l).catch(function(m){(m=m.RY) && h.close(m);});});h.addEventListener(e.Sa.Ao,function(){k.ksa(l).catch(function(m){(m=m.RY) && h.close(m);});});h.addEventListener(e.Sa.Zo,function(){k.ksa(l).catch(function(m){(m=m.RY) && h.close(m);});});});};d.prototype.Hba=function(h){return this.HTa.then(function(l){l.JHb();return l.Hba(h).catch();});};a=d;b.uBa=a;b.uBa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.wb)),t.__param(1,(0,n.l)(g.u2))],a);},68272:function(t,b,a){var n,c,g,f;function d(e){this.ORa={};this.Oma={};this.Hna=-1;this.cYa=new g.tc(null);this.sUa=new g.tc(null);this.ta=e.qb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;t=a(22970);n=a(22674);c=a(45247);g=a(81734);a=a(87386);d.prototype.Sb=function(e,h,l){var k;k=this;e.forEach(function(m){m.stream.urls.forEach(function(p){k.ORa[p.url]=[m,p.Uh];});});this.PJa=h;this.P$b=l;new PerformanceObserver(function(m){k.pMc(m.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};d.prototype.bGb=function(e){var h,l,k;if(this.PJa){l=this.Gla(e);if(l !== this.Hna){for(this.Hna=l;0 <= l && !this.Oma[l];)l--;k=Ea(null !== (h=this.Oma[l]) && void 0 !== h?h:[this.PJa,this.P$b]);h=k.next().value;k=k.next().value;this.ta.debug("Setting time to " + e + ", using metadata from fragment " + l + " for " + ((0,c.LF)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + k));e=h.La[this.Hna];l=e.Db;this.sUa.set({stream:h,bV:{startTime:Math.floor(1E3 * l),endTime:Math.floor(1E3 * (l + e.duration))},On:k});}}};d.prototype.Gla=function(e){var h,l,k,m,p;h=this.PJa.La;e/=1E3;l=0;k=h.length - 1;if(e >= h[k].Db)return k;for(;k >= l;){m=l + Math.floor((k - l) / 2);p=h[m];if(e < p.Db)k=m - 1;else if(e >= p.Db + p.duration)l=m + 1;else return m;}return h.length - 1;};d.prototype.pMc=function(e){var h;h=this;e.filter(function(l){return "video" === l.initiatorType;}).forEach(function(l){var k,m,p;k=l.name.indexOf("&fi=");if(0 < k){m=l.name.substring(0,k);k=Number(l.name.substring(k + 4));if(h.ORa[m]){p=Ea(h.ORa[m]);l=p.next().value;p=p.next().value;m && !Number.isNaN(k) && l && (h.Oma[k] && (h.Hna=-1),h.Oma[k]=[l,p],m=l.La[k].Db,!1,h.cYa.set(l,{GN:Math.floor(1E3 * m),On:p}));}}});};f=d;b.QCa=f;b.QCa=f=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.wb))],f);},25050:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v;function d(w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O){var J,Q,P;J=this;this.M$=x;this.fz=y;this.Oa=A;this.Wg=z;this.$b=B;this.t9=C;this.yzc=D;this.GBb=F;this.Yta=H;this.pia=E;this.Ia=G;this.LX=K;this.config=N;this.YH=I;this.K=L;this.yj=O;this.a9=new k.tc(!0);this.zj=new k.tc(!1);this.Lr=new k.tc(!1);this.ended=new k.tc(!1);this.Kia=new k.tc(0);this.Tb=new k.tc(n.Gb.Qg);this.pZ=new k.tc(void 0);this.ji=new v.AbortController();this.loaded=this.Dba=this.closed=!1;this.oCb=function(S,Y){return function(X){var T,U,Z,aa;T=X.newValue;U=T.On;X=T.bV;Z=T.stream;T=S.streams.find(function(da){return da.bitrate === Z.stream.bitrate;});aa=J.Ka.Th.find(function(da){return da.id === U;});J.log.info("Presenting " + T.type + " request with bitrate " + T.bitrate + ", track " + (S.trackId + " [" + X.startTime + "..." + X.endTime + "]"));Y.set({stream:T,bV:Object.assign(Object.assign({},X),{E6b:X.startTime,okb:X.endTime}),Kc:aa});};};this.$Hb=function(S,Y,X){return function(T){var U;U=S.streams.find(function(Z){return Z.bitrate === T.newValue.stream.bitrate;});J.log.info("Streaming " + U.type + " stream with bitrate " + U.bitrate + ", track " + S.trackId);Y.set(U,{GN:T.Xl.GN,F4:void 0});U=J.Ka.Th.filter(function(Z){return Z.id === T.Xl.On;})[0];X.set(U);};};this.Rob=new Set();this.log=w.qb("HLSVideoPlayer");this.Ga=(0,c.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.Ga.playsInline=this.config.UBb;this.Ka=this.M$(g.Yx.index++,L.R,L.id,null !== (Q=L.zb) && void 0 !== Q?Q:{},this.fz.GE(),this.Oa.uc(),!1,void 0,function(){return J.DB();});this.Ka.mediaTime.set(null !== (P=this.Ka.ap) && void 0 !== P?P:0);this.pS();this.DXb=this.LX.create(this);this.DXb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.Scb=void 0;n=a(85001);c=a(52569);g=a(13044);f=a(72639);e=a(24735);h=a(36129);l=a(63156);k=a(81734);m=a(5021);p=a(32687);r=a(45266);q=a(3887);u=a(26388);v=a(91176);d.prototype.YJc=function(){return !!this.Ga.canPlayType && ("" !== this.Ga.canPlayType("application/vnd.apple.mpegURL") || "" !== this.Ga.canPlayType("audio/mpegurl"));};d.prototype.pS=function(){var w;w=this;this.Ga.addEventListener("loadedmetadata",function(){w.Fb(n.Sa.ywb);w.Fb(n.Sa.xwb);w.Fb(n.Sa.Zo);w.Fb(n.Sa.qia);w.Fb(n.Sa.Ao);w.Fb(n.Sa.nA);});this.Ga.addEventListener("error",function(x){x=w.yj(h.aa.c9a,x);w.close(x);});this.Ga.addEventListener("timeupdate",function(){w.ended.set(!1);w.Ka.mediaTime.set(w.DB());w.ZJa();w.Fb(n.Sa.zs);w.Fb(n.Sa.$Jb);});this.Ga.addEventListener("durationchange",function(){w.Fb(n.Sa.uKa);});this.Ga.addEventListener("resize",function(){w.Fb(n.Sa.WZa);});this.Ga.addEventListener("playing",function(){w.ZJa();w.Lr.set(!1);w.zj.set(!0);w.ended.set(!1);w.Tb.set(n.Gb.bg);});this.Ga.addEventListener("pause",function(){w.zj.set(!1);w.Lr.set(!1);w.Tb.set(n.Gb.gi);});this.Ga.addEventListener("waiting",function(){w.Tb.set(n.Gb.Qg);});this.Ga.addEventListener("stalled",function(){w.Lr.set(!0);});this.Ga.addEventListener("seeking",function(){w.Lr.set(!1);w.pZ.set(w.Ka.mediaTime.value);w.Tb.set(n.Gb.Qg);});this.Ga.addEventListener("seeked",function(){void 0 !== w.pZ.value && (w.Ka.so.xSa(w.pZ.value,w.DB()),w.pZ.set(void 0));w.Tb.set(w.Rw()?n.Gb.bg:n.Gb.gi);});this.Ga.addEventListener("progress",function(){w.Fb(n.Sa.Hia);w.fMc();});this.Ga.addEventListener("ended",function(){w.Tb.set(n.Gb.Iv);w.Lr.set(!1);w.zj.set(!1);w.ended.set(!0);});this.Ga.addEventListener("volumechange",function(){w.Fb(n.Sa.xLb);w.Fb(n.Sa.Dyb);});this.zj.addListener(function(){w.Fb(n.Sa.eUa);w.Fb(n.Sa.fBb);w.aV();});this.Kia.addListener(function(){w.Fb(n.Sa.NU);});this.Lr.addListener(function(){w.Fb(n.Sa.NU);});this.a9.addListener(function(){w.aV();});this.ended.addListener(function(){w.Fb(n.Sa.xnb);});this.Ka.playbackRate.addListener(function(x){w.Ga.playbackRate=x.newValue;});};d.prototype.aV=function(){!this.Rw() || this.a9.value || this.Dba || this.Ihb || (this.Dba=!0,this.Ka.rF=this.Ia.oG,this.GBb.sl(this,this.Ka));};d.prototype.T4=function(){return this.L$ - (this.Ka.xj.la(m.wa) + this.Oa.zF.la(m.wa));};d.prototype.LO=function(){var w;w=this.Ka.jb.oA;return (0,p.ec)(w)?w:this.Ka.xj.la(m.wa) + this.Oa.zF.la(m.wa);};d.prototype.GHa=function(){return this.Ia.gg.la(m.wa) - this.LO();};d.prototype.HHa=function(){return this.L$ - this.LO();};d.prototype.fMc=function(){var w;w=this.Ga.readyState <= l.It.aH.HAVE_METADATA?0:this.Ga.readyState <= l.It.aH.HAVE_CURRENT_DATA?.5:1;1 === w && (this.L$=this.Ia.gg.la(m.wa),this.a9.set(!1),this.ALa(n.Sa.loaded));this.Kia.set(w);};d.prototype.ZJa=function(){var w;w=this.DB();this.Yta.bGb(w);this.pia.bGb(w);};d.prototype.fba=function(){var w;w=this;this.Ka.Kg("ats");return this.Wg.Yn({Ha:this.Ka.Ha,jb:this.Ka.jb,J:this.Ka.R,Gs:f.Ko.Mfa,$h:e.hq.oq},this.ji.signal).then(function(x){var A;function y(z){var B;B=z;z && z.xp() && !z.co() && (B=null);w.Ka.nk.set(B);}w.Ka.Kg("at");A=w.t9.create({}).SAb(x);w.Ka.U=x;w.Ka.Pc=A;w.Ga.audioTracks.addEventListener("addtrack",function(){w.AKb(w.Ka.ja.Vd);});w.Ga.audioTracks.addEventListener("change",function(){for(var z,B,C={},D=Ea(w.Ga.audioTracks),F=D.next();!F.done;(C={V_:C.V_},F=D.next()))(C.V_=F.value,C.V_.enabled && C.V_.label !== (null === (z=w.Ka.ja.Vd) || void 0 === z?void 0:z.displayName) && (!1,F=null !== (B=w.Ka.qk.find((function(H){return function(E){return E.displayName === H.V_.label;};})(C))) && void 0 !== B?B:null,w.Ka.ja.bA(F)));});w.Ka.ja.addListener([u.v.X],function(z){w.AKb(z.gx);w.Fb(n.Sa.Zo);w.Fb(n.Sa.nA);});w.Ga.textTracks.addEventListener("addtrack",function(){w.BKb(w.Ka.ja.Cd);});w.Ga.textTracks.addEventListener("change",function(){var H;for(var z,B,C=w.Ga.textTracks,D={},F=0;F < C.length;(D={W_:D.W_},F++))if((D.W_=C[F],"showing" === D.W_.mode && D.W_.label !== (null === (z=w.Ka.ja.Cd) || void 0 === z?void 0:z.displayName))){!1;H=null !== (B=w.Ka.$i.find((function(E){return function(G){return G.displayName === E.W_.label;};})(D))) && void 0 !== B?B:null;w.Ka.ja.yo(H);y(H);}});w.Ka.ja.yo(A.I5);y(A.I5);w.Ka.ja.addListener([u.v.Aa],function(z){w.BKb(z.jn);w.Fb(n.Sa.Ao);});return w.yzc.build(x,function(z){return w.Ka.Kg(z);});}).then(function(x){var y,A,z,B,C,D,F,H,E,G,K,N,I,L,O;y=x.nsc;A=x.q4b;x=x.jJc;z=x.audio;B=x.Rlb;C=x.video;D=w.Ka;F=D.Hi;H=D.ja;E=D.qk;G=D.mg;x=D.ap;K=D.Te;N=D.Gf;I=D.so;D=D.Pc;D.qk=E.filter(function(J){return z.find(function(Q){return Q.track.Dh === J.trackId;});});H.mXa(D.L5);H.bA(E.find(function(J){return J.trackId === B;}));D=C[0];L=D.stream;E=z.find(function(J){return J.track.Dh === B;});O=E.stream;w.c8=L.bitrate;w.Yta.sUa.addListener(w.oCb(H.sh,K));w.Yta.cYa.addListener(w.$Hb(H.sh,G,w.Ka.Kc[u.v.V]));G=A.get(L.Vn).ZY.Uh;w.Yta.Sb(C,D,G);w.pia.sUa.addListener(w.oCb(H.Vd,N));w.pia.cYa.addListener(w.$Hb(H.Vd,F,w.Ka.Kc[u.v.X]));A=A.get(O.Vn).ZY.Uh;w.pia.Sb(z,E,A);w.Ga.src=y;w.Ga.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;w.Ga.load();I.xSa(0,x && 0 < x?x:1);}).catch(function(x){var y,A;if(x instanceof Error){A=(0,q.Mi)(x);w.log.error("uncaught exception",x,A);}w.close(w.yj(null !== (y=x.code) && void 0 !== y?y:h.aa.wcb,x));});};d.prototype.$rb=function(){return [];};d.prototype.BKb=function(w){var A;for(var x=this.Ga.textTracks,y=0;y < x.length;y++){A=x[y];A.label === w.displayName && "showing" !== A.mode && (!1,A.mode="showing");A.label !== w.displayName && "showing" === A.mode && (!1,A.mode="hidden");}};d.prototype.AKb=function(w){for(var x=Ea(this.Ga.audioTracks),y=x.next();!y.done;y=x.next())(y=y.value,y.label !== w.displayName || y.enabled || (!1,y.enabled=!0),y.label !== w.displayName && y.enabled && (!1,y.enabled=!1));};d.prototype.Wm=function(){};d.prototype.Zm=function(){};d.prototype.DB=function(){return Math.floor(1E3 * this.Ga.currentTime);};d.prototype.RO=function(){return this.DB();};d.prototype.dF=function(){return this.DB();};d.prototype.NI=function(){return Math.floor(1E3 * this.Ga.duration);};d.prototype.arb=function(){return this.K.R;};d.prototype.Yy=function(){return this.Ka.Ha;};d.prototype.lrb=function(){var w;return null === (w=this.Ka.U) || void 0 === w?void 0:w.ya.Zd;};d.prototype.mp=function(){return this.Ga;};d.prototype.kr=function(){return null === this.nj();};d.prototype.Rw=function(){return this.zj.value;};d.prototype.x8=function(){return !this.zj.value;};d.prototype.CPa=function(){return this.Ga.ended;};d.prototype.nj=function(){return 1 !== this.Kia.value?{stalled:this.Lr.value,progress:this.Kia.value,progressRollback:!1}:null;};d.prototype.getError=function(){var w,x;return null !== (x=null === (w=this.mj) || void 0 === w?void 0:w.kca()) && void 0 !== x?x:null;};d.prototype.Npb=function(){return 1 === this.Ga.buffered.length?1E3 * this.Ga.buffered.end(0):null;};d.prototype.gsb=function(){return {width:this.Ga.videoWidth,height:this.Ga.videoHeight};};d.prototype.NPa=function(){return this.Ga.muted;};d.prototype.jsb=function(){return this.Ga.volume;};d.prototype.nGb=function(w){this.Ga.muted=w;};d.prototype.FGb=function(w){this.Ga.volume=w;};d.prototype.addEventListener=function(w,x,y){this.$b.addListener(w,x,y);};d.prototype.removeEventListener=function(w,x){this.$b.removeListener(w,x);};d.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.YH.Z8(function(x){w.YJc()?x.success?w.fba():w.close(w.yj(x.errorCode || h.aa.Lxa,x)):w.close(w.yj(h.aa.OPb));}));};d.prototype.close=function(w){if(this.closed)return Promise.resolve();this.Ka.mediaTime.set(this.DB());this.ZJa();this.Ka.o5=this.RO();this.closed=!0;this.Ga.removeAttribute("src");this.Ga.load();null === w || void 0 === w?void 0:w.pGb(!this.a9.value);this.mj=w;this.ji.abort();w && this.Fb(n.Sa.error,w.kca());this.Fb(n.Sa.closed);return this.GBb.Hba(this.Ka);};d.prototype.play=function(){var w,x;w=this;x=this.Ga.play();this.Ihb=!1;x && x.then(function(){w.ALa(n.Sa.Jhb);}).catch(function(y){w.Fb(n.Sa.NU);"NotAllowedError" === y.name && (w.log.warn("Playback is blocked by the browser settings",y),w.Ihb=!0,w.ij=!0,w.ALa(n.Sa.wia,{player:{play:function(){return w.play();}}}));});};d.prototype.Fb=function(w,x,y){x=x || ({});x.target=this;this.$b.bd(w,x,!y);};d.prototype.ALa=function(w,x){this.Rob.has(w) || (this.Rob.add(w),this.Fb(w,x,void 0));};d.prototype.pause=function(){this.Ga.pause();};d.prototype.eBb=function(){this.pause();};d.prototype.seek=function(w){this.Ga.currentTime=w / 1E3;};d.prototype.xtb=function(w){this.close(this.yj(h.aa.t3a,h.W.hk,w));};d.prototype.OW=function(){return this.Ka.playbackRate.value;};d.prototype.tsa=function(w){this.Ka.playbackRate.set(w);};d.prototype.Fpb=function(){var w;w=this;return this.Ka.qk.map(function(x){return w.Lu(x);});};d.prototype.PNa=function(w){var x;x=this;return this.p7(w).map(function(y){return x.Lu(y);});};d.prototype.Epb=function(){var w;w=this.Ka.ja.Vd;return w && this.Lu(w);};d.prototype.ONa=function(){var w;w=this.Ka.ja.Cd;return w && this.Lu(w);};d.prototype.bA=function(w){if((w=this.v6(w)) && w.hg)return (this.Ka.ja.bA(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};d.prototype.yo=function(w){var x,y;x=this;y=this.Ka.$i.find(function(A){return x.Lu(A) === w;});if(y && y.hg)return (this.Ka.ja.yo(y),this.Ka.nk.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};d.prototype.Uqb=function(){var w;return this.h7(this.Ka.qk,null === (w=this.Ka.U) || void 0 === w?void 0:w.ya.yxb);};d.prototype.aNa=function(w){var x;return this.h7(this.p7(w),null === (x=this.Ka.U) || void 0 === x?void 0:x.ya.zxb);};d.prototype.Lu=function(w){var x;x=w.NUa=w.NUa || ({trackId:w.trackId,bcp47:w.wg,displayName:w.displayName,trackType:w.Ci,rawTrackType:w.wK,channels:w.channels});this.TPa(w) && (x.isNative=w.isNative,x.surroundFormatLabel=w.Qba);this.UPa(w) && (x.isNoneTrack=w.xp(),x.isForcedNarrative=w.co(),x.isImageBased=w.wp);x.subType=w.IR;x.variant=w.variant;return x;};d.prototype.TPa=function(w){return "undefined" !== typeof w.isNative;};d.prototype.UPa=function(w){return "undefined" !== typeof w.xp && "undefined" !== typeof w.co;};d.prototype.v6=function(w){var x;x=this;return w && this.Ka.qk.find(function(y){return x.Lu(y) === w;});};d.prototype.p7=function(w){var x;w=this.v6(w) || this.Ka.ja.Vd;return null !== (x=null === w || void 0 === w?void 0:w.$i) && void 0 !== x?x:[];};d.prototype.h7=function(w,x){var y;y=w.length - 1;if("number" !== typeof x)return y;w=w.findIndex(function(A){return A.wc > x;});return -1 === w?y:w - 1;};d.prototype.Jta=function(w){this.Ka.jb=(0,r.Foa)(this.Ka.jb,w);};d.prototype.el=function(w){if(w !== this.Ka.L)throw (!1,Error("Unknown segmentId " + w));return this.Ka;};d.prototype.mrb=function(){return this.Ka.jb;};d.prototype.oGa=function(){!1;};d.prototype.NDb=function(){!1;};d.prototype.fC=function(){!1;};d.prototype.iQ=function(){!1;};d.prototype.G7=function(){!1;return Promise.reject();};d.prototype.FNa=function(){return {};};d.prototype.vla=function(){};d.prototype.Dpb=function(){return {};};d.prototype.OWa=function(){};d.prototype.XZ=function(){};d.prototype.eub=function(){return !1;};d.prototype.eqb=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};d.prototype.$V=function(){!1;return Promise.resolve({success:!0});};d.prototype.dsb=function(){!1;};d.prototype.A7=function(){!1;};d.prototype.QZ=function(){!1;};d.prototype.kXa=function(){!1;};d.prototype.uwb=function(){!1;};d.prototype.xpb=function(){!1;return Promise.reject();};d.prototype.CBb=function(){!1;return Promise.reject();};d.prototype.VCb=function(){!1;return Promise.reject();};d.prototype.Kk=function(){!1;return Promise.reject();};d.prototype.GQ=function(){!1;};b.Scb=d;},41893:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m,p,r,q,u,v,w,x,y,A,z,B,C,D){var F;F=this;this.Cf=k;this.Zb=m;this.$b=r;this.Qz=u;this.b5=v;this.ypb=w;this.config=y;this.yj=z;this.K=B;this.j=A.create(B.R,B.xj,x,C,D,B.zb,B.id,B.U);this.j.background.set(!0);this.log=p.qb("VideoPlayer",this.j);this.mBb=[];this.kA=[];this.ended=!1;this.pS();this.j.state.addListener(function(H){H.newValue === c.xc.mf && F.Fb(c.Sa.ZPa,{movieId:B.R});});this.j.jb.Ag && (this.KU=q.w8b(this,this.j),this.j.addEventListener(c.ha.LK,function(H){H=H.position.segmentId;F.kqc !== H && (F.kqc=H,F.Fb(c.Sa.BFc,{segmentId:H}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.G5a=void 0;n=a(36129);c=a(85001);g=a(5021);f=a(22365);e=a(87607);h=a(3887);l=a(26388);d.prototype.kr=function(){return this.j.state.value === c.xc.mf;};d.prototype.arb=function(){return this.j.R;};d.prototype.Yy=function(){return this.j.Ha;};d.prototype.lrb=function(){var k;return null === (k=this.j.U) || void 0 === k?void 0:k.ya.Zd;};d.prototype.mp=function(){return this.j.st;};d.prototype.Rw=function(){return this.j.zj.value;};d.prototype.x8=function(){return this.j.paused.value;};d.prototype.CPa=function(){return this.ended;};d.prototype.nj=function(){var k;k=this.j.yHa.value;return k?{networkStalled:!!k.Lr,stalled:!!k.Lr,progress:k.progress,progressRollback:!!k.mBc}:null;};d.prototype.getError=function(){var k;k=this.j.mj;return k?k.kca():null;};d.prototype.Wm=function(){var k;return null === (k=this.j.Wm()) || void 0 === k?void 0:k.lO;};d.prototype.Zm=function(){return this.j.Fc;};d.prototype.dF=function(){var k;return this.Zm().xa?null !== (k=this.Zm().gma()) && void 0 !== k?k:null:this.DB();};d.prototype.DB=function(){return this.j.mediaTime.value;};d.prototype.Npb=function(){var k;k=(this.RO() || 0) + this.j.Mpb();return Math.min(k,this.NI());};d.prototype.RO=function(){var k;return this.Zm().xa?null !== (k=this.Zm().gma()) && void 0 !== k?k:null:this.j.iF();};d.prototype.NI=function(){return this.Zm().xa?this.Zm().esb():this.j.FE.la(g.wa);};d.prototype.gsb=function(){var k;k=this.j.lS.value;return k?{width:k.width,height:k.height}:null;};d.prototype.vla=function(){return this.j.vla();};d.prototype.xpb=function(k){var m,p;return (null === (m=this.j.U) || void 0 === m?0:m.ho.JW("generateScreenshots"))?this.ypb.Se({log:this.log,links:this.j.U.ho},k):(m=null === (p=this.j.jb) || void 0 === p?void 0:p.ur)?this.ypb.Se({log:this.log},Object.assign({packageId:m},k)):Promise.reject("Unknown packageId");};d.prototype.eqb=function(){return this.qhc(this.j.rmb);};d.prototype.Fpb=function(){var k;k=this;return this.j.qk.map(function(m){return k.Lu(m);});};d.prototype.Uqb=function(){var k;return this.h7(this.j.qk,null === (k=this.j.U) || void 0 === k?void 0:k.ya.yxb);};d.prototype.PNa=function(k){var m;m=this;return this.p7(k).map(function(p){return m.Lu(p);});};d.prototype.aNa=function(k){var m;return this.h7(this.p7(k),null === (m=this.j.U) || void 0 === m?void 0:m.ya.zxb);};d.prototype.NPa=function(){return this.j.muted.value;};d.prototype.jsb=function(){return this.j.volume.value;};d.prototype.Epb=function(){var k,m;m=(null === (k=this.iC) || void 0 === k?void 0:k.Vd) || this.j.ja.Vd;return m && this.Lu(m);};d.prototype.ONa=function(){var k,m;m=(null === (k=this.iC) || void 0 === k?void 0:k.$ba) || this.j.ja.Cd;return m && this.Lu(m);};d.prototype.eub=function(){return this.j.background.value;};d.prototype.nGb=function(k){this.j.muted.set(!!k);};d.prototype.FGb=function(k){this.j.volume.set(this.Cvc(k));};d.prototype.tsa=function(k){this.j.playbackRate.set(k);};d.prototype.OW=function(){return this.j.playbackRate.value;};d.prototype.bA=function(k){var m,p,r,q,u;m=this;r=this.v6(k);if(r){if(r.hg)return (this.j.ja.bA(r),Promise.resolve());q=(k=(null === (p=this.iC) || void 0 === p?void 0:p.$ba) || this.j.ja.Cd) && this.Mub(r,k)?k:r.$i[0];p=r.trackId;u=q.trackId;this.iC={Vd:r,$ba:q};this.Fb(c.Sa.Zo);this.Fb(c.Sa.nA);q !== k && this.Fb(c.Sa.Ao);return this.j.etb(p,u).then(function(v){v=v.Vd;m.iC=void 0;m.j.ja.bA(v);}).catch(function(v){m.iC=void 0;v=m.Cf.Mi(v);m.log.error(v);m.close(m.yj(n.aa.eM,{Ma:n.W.Yya,df:v,iP:{Imc:r.trackId,gtb:r.wg,Jmc:q.trackId,htb:q.wg}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};d.prototype.yo=function(k){var m,p,r,q;m=this;r=(null === (p=this.iC) || void 0 === p?void 0:p.Vd) || this.j.ja.Vd;if(null !== r){q=r.$i;p={};for(var u=0;u < q.length;(p={Et:p.Et},u++)){p.Et=q[u];if(!k && null === p.Et)return (this.j.ja.yo(null),this.j.qf && this.j.yKb(p.Et),Promise.resolve());if(this.Lu(p.Et) === k){if(p.Et.hg)return (this.log.info("Setting Timed Text, profile: " + p.Et.profile),this.j.ja.yo(p.Et),this.j.qf && this.j.yKb(p.Et),Promise.resolve());k=r.trackId;q=p.Et.trackId;this.iC={Vd:r,$ba:p.Et};this.Fb(c.Sa.Ao);return this.j.etb(k,q).then(function(v){v=v.$ba;m.iC=void 0;m.j.ja.yo(v);}).catch((function(v){return function(w){m.iC=void 0;w=m.Cf.Mi(w);m.log.error(w);m.close(m.yj(n.aa.eM,{Ma:n.W.Yya,df:w,iP:{Imc:r.trackId,gtb:r.wg,Jmc:v.Et.trackId,htb:v.Et.wg}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};d.prototype.OWa=function(k){this.j.background.set(k);};d.prototype.XZ=function(){this.j.XZ();};d.prototype.Jta=function(k){this.j.Jta(k);};d.prototype.el=function(k){return this.j.el(k);};d.prototype.mrb=function(){return this.j.jb;};d.prototype.fC=function(){this.j.fC();};d.prototype.iQ=function(k){this.j.iQ(k);};d.prototype.G7=function(k,m,p){return this.j.G7(k,m,p);};d.prototype.oGa=function(k,m){this.j.addEventListener(k,m,void 0);};d.prototype.NDb=function(k,m){this.j.removeEventListener(k,m);};d.prototype.addEventListener=function(k,m,p){this.$b.addListener(k,m,p);};d.prototype.removeEventListener=function(k,m){this.$b.removeListener(k,m);};d.prototype.GQ=function(){};d.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(m,p){try{k.Fb(c.Sa.ywb,void 0,!0);m.U && (m.U.ya.ILb && k.Fb(c.Sa.cOc,m.U.ya.ILb,!0),m.U.ya.Lq && k.Fb(c.Sa.AFc,{segmentMap:m.U.ya.Lq},!0),m.U.ya.HYa && (k.kA=m.U.ya.HYa,k.Fb(c.Sa.IYa,{timecodes:k.kA},!0)));p({success:!0});}catch(r){p({Ma:n.W.fq,df:k.Cf.Mi(r)});}}));};d.prototype.$rb=function(){return this.kA;};d.prototype.close=function(k){var m;m=this;this.Mjb || (this.Mjb=new Promise(function(p){k?m.j.IN(k,p):m.j.close(p);}));return this.Mjb;};d.prototype.play=function(){this.j.ij?this.j.fireEvent(c.ha.Paa):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(c.ha.aLb)));};d.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(c.ha.$Kb));};d.prototype.eBb=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{Gz:!0});};d.prototype.seek=function(k,m,p,r){m=void 0 === m?c.Dc.Ov:m;this.j.e4b() && (this.Zm().xa && this.Zm().Sub(this.Zm().MEb(k)) && !this.Zm().tP(!0)?this.Zm().Vaa():this.j.Qd?(this.Zm().xa && (k=this.Zm().MEb(k)),this.j.Qd.seek(k,m,p,r)):(this.Zm().xa && (k=this.Zm().VMa(k).ap),this.j.ap=k));};d.prototype.CBb=function(k){return this.KU?(this.log.trace("Playing a segment",k),this.KU.play(k)):Promise.resolve();};d.prototype.VCb=function(k){return this.KU?(this.log.trace("Queueing a segment",k),this.KU.Tf(k)):Promise.resolve();};d.prototype.Kk=function(k,m){return this.KU?(this.log.trace("Updating next segment weights",k,m),this.KU.Kk(k,m)):Promise.resolve();};d.prototype.A7=function(){var k;k=this.j.Sp.A7();return {bounds:k.L4,margins:k.Zw,size:k.size,visibility:k.visibility};};d.prototype.QZ=function(k){var m,p,r;m=k.bounds;p=k.margins;r=k.size;k=k.visibility;this.j.eca && (m && this.j.eca.fXa(m),p && this.j.eca.gXa(p),"boolean" === typeof k && this.j.eca.hXa(k));this.j.Sp && r && this.j.Sp.bHc(r);};d.prototype.kXa=function(k){this.j.Xp=k;};d.prototype.dsb=function(k){return this.j.DG && this.j.DG.Vhc(k) || null;};d.prototype.Dpb=function(){return this.Cf.cY({playerver:this.config.version,jssid:this.config.Mpc,groupName:this.config.Zhc(),xid:this.j.Ha,pbi:this.j.index},this.config.$yc,{prefix:"pi_"});};d.prototype.xtb=function(k){this.j.Pf(n.aa.t3a,n.W.hk,k);};d.prototype.uwb=function(k,m,p,r){if(!this.Zb.Ugb(k))throw Error("invalid url");this.mBb.push({url:k,name:m,M1b:p,options:r});this.DCb();};d.prototype.FNa=function(){var k,m,p,r,q,u,v,w;k={};m=this.j.Dba;try{if((this.j.mj && (k.errorCode=this.j.mj.bka,k.errorType=m?"endplay":"startplay"),k.playdelay=(0,h.zh)(this.j.T4()),k.xid=this.j.Ha,this.j.U && this.Zb.ks(this.j.U.ya.ur) && (k.packageId=Number(this.j.U.ya.ur)),k.auth=this.j.Bgc(),m)){k.totaltime=this.j.so?this.Xq(this.j.so.Ku("content")):0;k.abrdel=this.j.so?this.j.so.iMa():0;p=this.j.Qd;r=p?p.SO():null;this.Zb.Ln(r) && (k.totdfr=r);r=p?p.W6():null;this.Zb.Ln(r) && (k.totcfr=r);q=p?p.jic():null;q && (k.rbfrs_decoder=q.Eja,k.rbfrs_network=q.bpa);k.rbfrs_delay=this.j.so?this.j.so.sPa:0;k.init_vbr=this.j.Tma;u=this.PW();this.Zb.FV(u) && (k.pdltime=u);v=this.j.Te.value;w=v && v.stream;w && (k.vbr=w.bitrate,k.vdlid=w.Yb);k.bufferedTime=this.j.Mpb();}}catch(x){this.log.error("error capturing session summary",x);}return k;};d.prototype.$V=function(k){this.j.jb.Op && (this.j.jb.Op.userEngageAction=1);return this.Zb.Ln(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.Qz.create(this.j)),{action:k}),this.b5(e.Jt.$V).Se({log:this.log,links:this.j.U.ho},k).then(function(){return {success:!0};}).catch(function(m){return {success:!1,errorCode:m.code,errorSubCode:m.subCode,errorExternalCode:m.extCode,errorData:m.data,errorDetails:m.details};})):Promise.resolve({success:!1});};d.prototype.qhc=function(k){return {register:k.register.bind(k),notifyUpdated:k.qzb.bind(k),getModel:k.Uic.bind(k),getGroups:k.b7.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};d.prototype.Lu=function(k){var m;m=k.NUa=k.NUa || ({trackId:k.trackId,bcp47:k.wg,displayName:k.displayName,trackType:k.Ci,rawTrackType:k.wK,channels:k.channels});this.TPa(k) && (m.isNative=k.isNative,m.surroundFormatLabel=k.Qba);this.UPa(k) && (m.isNoneTrack=k.xp(),m.isForcedNarrative=k.co(),m.isImageBased=k.wp);m.subType=k.IR;m.variant=k.variant;return m;};d.prototype.TPa=function(k){return "undefined" !== typeof k.isNative;};d.prototype.UPa=function(k){return "undefined" !== typeof k.xp && "undefined" !== typeof k.co;};d.prototype.v6=function(k){var m;m=this;return k && this.j.qk.find(function(p){return m.Lu(p) === k;});};d.prototype.p7=function(k){var m,p;k=this.v6(k) || (null === (m=this.iC) || void 0 === m?void 0:m.Vd) || this.j.ja.Vd;return null !== (p=null === k || void 0 === k?void 0:k.$i) && void 0 !== p?p:[];};d.prototype.h7=function(k,m){var p;p=k.length - 1;if("number" !== typeof m)return p;k=k.findIndex(function(r){return r.wc > m;});return -1 === k?p:k - 1;};d.prototype.Mub=function(k,m){return 0 <= k.$i.indexOf(m);};d.prototype.Cvc=function(k){return 0 <= k?1 >= k?k:1:0;};d.prototype.Xq=function(k){return this.Zb.Ln(k)?(k / 1E3).toFixed(0):"";};d.prototype.Fb=function(k,m,p){m=m || ({});m.target=this;this.$b.bd(k,m,!p);};d.prototype.pS=function(){var k;k=this;this.j.addEventListener(c.ha.CYa,function(){k.Fb(c.Sa.zs);});this.j.lS.addListener(function(){k.Fb(c.Sa.WZa);});this.j.addEventListener(c.ha.aKb,function(){k.Fb(c.Sa.$Jb);});this.j.addEventListener(c.ha.E9,function(){k.Fb(c.Sa.Hia);});this.j.addEventListener(c.ha.qm,function(){k.Fb(c.Sa.Hia);});this.j.addEventListener(c.ha.aX,function(m){k.Fb(c.Sa.aX,{errorCode:m});});this.j.addEventListener(c.ha.uia,function(){k.Fb(c.Sa.Jhb);});this.j.addEventListener(c.ha.ij,function(m){k.Fb(c.Sa.wia,m);});this.j.addEventListener(c.ha.rJb,function(){k.Fb(c.Sa.qia);k.Fb(c.Sa.nA);});this.j.addEventListener(c.ha.qwb,function(m){var p,r;if(k.Zm().xa && k.K.R === m.J){p=m.Q$;if(void 0 !== p){r="execute" === m.action?"ending":"prefetch";k.kA=k.kA.filter(function(q){return q.type !== r;});k.kA.push({type:r,startOffsetMs:p,endOffsetMs:p});k.Fb(c.Sa.IYa,{timecodes:k.kA},!0);}}});this.j.zj.addListener(function(){k.Fb(c.Sa.eUa);});this.j.paused.addListener(function(){k.Fb(c.Sa.fBb);});this.j.muted.addListener(function(){k.Fb(c.Sa.Dyb);});this.j.volume.addListener(function(){k.Fb(c.Sa.xLb);});this.j.Tb.addListener(function(){k.iKb();});this.j.state.addListener(function(){k.iKb();});this.j.yHa.addListener(function(m){k.Frc || k.j.state.value != c.xc.mf || m.newValue || (k.Frc=!0,k.Fb(c.Sa.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.FNa());}));k.Fb(c.Sa.NU);});this.j.ja.addListener([l.v.X],function(){k.Fb(c.Sa.Zo);k.Fb(c.Sa.nA);setTimeout(function(){var m,p;m=k.j.ja.Vd;p=k.j.ja.Cd;null === m || null === p || k.Mub(m,p) || (k.log.info("Changing timed text track to match audio track"),k.j.ja.yo(m.$i[0]));},0);});this.j.ja.addListener([l.v.Aa],function(m){m.jx && m.jn && m.jx.trackId == m.jn.trackId || k.Fb(c.Sa.Ao);});this.j.addEventListener(c.ha.nA,function(){k.Fb(c.Sa.nA);});this.j.addEventListener(c.ha.rca,function(){k.Fb(c.Sa.rca);});this.j.state.addListener(function(m){switch(m.newValue){case c.xc.mf:k.Fb(c.Sa.uKa);k.Fb(c.Sa.WZa);k.Fb(c.Sa.qia);k.Fb(c.Sa.nA);k.Fb(c.Sa.xwb);k.DCb();k.hOc();break;case c.xc.CLOSING:k.j.mj && k.Fb(c.Sa.Wtb,k.j.mj);break;case c.xc.CLOSED:(k.Fb(c.Sa.closed),k.$b.Hg());}});this.j.addEventListener(c.ha.HJ,function(){k.Fb(c.Sa.HJ);k.Fb(c.Sa.zs);k.Fb(c.Sa.Hia);k.Fb(c.Sa.uKa);});};d.prototype.hOc=function(){var k,m,p,r,q;k=this;this.j.Sp.addEventListener("showsubtitle",function(u){k.Fb(c.Sa.wXa,u,!0);});this.j.Sp.addEventListener("removesubtitle",function(u){k.Fb(c.Sa.qVa,u,!0);});r=this.j.Wm();r.Xo.addListener(function(u){r.CKa && k.Fb(c.Sa.W_b,{state:u.newValue?"start":"stop"});});q=null === (m=this.j.Xa) || void 0 === m?void 0:m.Wm();m=null === q || void 0 === q?void 0:q.ft.events;null === m || void 0 === m?void 0:m.addListener("adPlaygraphUpdated",function(){k.Fb(c.Sa.Jgb,{type:"adMetadataUpdated",appliesTo:k.j.R});});null === (p=this.j.Xa) || void 0 === p?void 0:p.addEventListener("adMetadataUpdated",function(u){k.Fb(c.Sa.Jgb,u);});};d.prototype.DCb=function(){if(this.j.state.value == c.xc.mf){for(var k,m,p;m=this.mBb.shift();)(k=this.j.Sp.eGa(m.url,m.name,m.options),m.M1b && (p=k));p && this.j.ja.yo(p);}};d.prototype.iKb=function(){var k,m,p,r;m=this.ended;p=this.j.state.value == c.xc.mf && this.j.Tb.value == c.Gb.Iv;r=!1;p && this.j.Xa && (r=null === (k=this.j.Xa) || void 0 === k?void 0:k.Ejc());m === p || r || (this.ended=p,this.j.pN("Ended changed: " + p),(p || this.j.state.value === c.xc.CLOSING) && this.Fb(c.Sa.xnb));};d.prototype.PW=function(){var k,m;try{k=/playercore.*js/;m=f.DA.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(m && 0 < m.length)return JSON.stringify(Math.round(m[0].duration));}catch(p){}};b.G5a=d;},52357:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G;function d(K){this.Yc=K;}Object.defineProperty(b,"__esModule",{value:!0});b.ADa=void 0;t=a(22970);n=a(22674);c=a(71501);g=a(74870);f=a(42207);e=a(87386);h=a(15160);l=a(2911);k=a(41106);m=a(41893);p=a(32979);r=a(87607);q=a(95738);u=a(25050);v=a(61861);w=a(62665);x=a(81918);y=a(49745);A=a(37104);z=a(77764);B=a(4203);C=a(44376);D=a(47500);F=a(30869);H=a(78029);E=a(91825);G=a(11479);d.prototype.mV=function(K,N,I,L,O,J){return this.Yc.get(B.Cc)().Ota?new u.Scb(this.Yc.get(e.wb),this.Yc.get(v.pBa),this.Yc.get(w.sD),this.Yc.get(x.Sd),this.Yc.get(y.iT),this.Yc.get(h.Zwa),this.Yc.get(A.lza),this.Yc.get(z.z4a),this.Yc.get(C.p$a),this.Yc.get(D.RCa),this.Yc.get(D.RCa),this.Yc.get(F.di),this.Yc.get(E.Z1),this.Yc.get(H.xxa),this.Yc.get(G.Fj),L,I):new m.G5a(this.Yc.get(g.Il),this.Yc.get(f.ei),this.Yc.get(e.wb),this.Yc.get(h.Zwa),this.Yc.get(l.yCa),this.Yc.get(p.SAa),this.Yc.get(r.Xwa),this.Yc.get(q.B9a),this.Yc.get(k.P2a),K,N,I,L,O,J);};a=d;b.ADa=a;b.ADa=a=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(c.E5a))],a);},54861:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.FCa="SocketRouterWebPlayerClient";},42933:function(t,b,a){var c;function d(g,f){var e;e=c.H2.call(this,"WSS",g.trace) || this;e.options=g;e.k_a=f;f.onmessage=function(h){h=h.data;"string" === typeof h?(e.trace("Received",h),e.emit("message",{Ad:e,message:h}),g.sf.oDb(h.length)):e.trace("Received non-string message",h);};f.onclose=function(h){e.trace("Received close event",h);e.options.sf.K5b();e.J5b=h;e.close();};f.onerror=function(h){e.trace("Received error, closing",h);e.options.sf.error();e.failure={type:"ws-native-error",url:g.url,event:null !== h && void 0 !== h?h:"undefined"};e.emit("failure",{te:"ws.onerror",Ad:e,error:e.failure});e.close();};e.closed.then(function(){e.k_a=void 0;f.onopen=n;f.onclose=n;f.onerror=n;f.onmessage=n;f.close();});return e;}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.hdb=void 0;c=a(9568);Ia(d,c.H2);d.open=function(g){return new Promise(function(f,e){var h,l,k,m,p,r;l=new URL(g.url);new URLSearchParams(g.zb).forEach(function(q,u){l.searchParams.append(u,q);});k=l.toString();m=null === (h=g.timing) || void 0 === h?void 0:h.Tsa(["network","web.WebSocket"]);g.sf.gxc();p=new WebSocket(k);r=new d(g,p);r.trace("Connecting with",k);p.onopen=function(){p.onopen=function(){};r.trace("Connected");null === m || void 0 === m?void 0:m.end();g.sf.EY();f(r);};r.closed.then(function(){var q,u,v;v=null !== (q=r.failure) && void 0 !== q?q:{type:"ws-did-not-open",url:g.url,event:null !== (u=r.J5b) && void 0 !== u?u:void 0};null === m || void 0 === m?void 0:m.end(v);e(v);});});};d.prototype.close=function(){if(c.H2.prototype.close.call(this))return (this.options.sf.closed(),!0);};d.prototype.send=function(g){if(this.open && this.k_a)return (this.trace("Sending",g),this.k_a.send(g),this.options.sf.S(g.length),!0);};b.hdb=d;d.supported=globalThis.WebSocket?!0:!1;},4888:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.dOc=function(e,h){function l(k){var m,p,r,q;m=e.url;p=e.trace;r=e.sf;q={"x-netflix.request.client.context":JSON.stringify({appState:e.visible.T_?"foreground":"background"}),"x-netflix.socketrouter.schema.version":"" + d.DCa.hFc,"x-netflix.socketrouter.group.name":"" + h.groupName};return g.hdb.open({url:m,trace:p,sf:r,zb:q,timing:k});}return function(k){return n.$_a.open({timing:k,trace:e.trace,timeout:e.timeout,xU:c.a0a.lfc({trace:e.trace,Yl:e.Yl.xU}),Bw:l,IB:new f.pbb(e.gm)});};};d=a(41066);n=a(42050);c=a(61222);g=a(42933);f=a(1409);},21015:function(t,b,a){var n,c,g,f,e;function d(h,l){h=f.Ef.call(this,h,"SocketRouterConfigImpl") || this;h.config=l;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.CCa=b.Tfa=void 0;t=a(22970);n=a(22674);c=a(4203);g=a(12501);f=a(64174);a=a(83767);b.Tfa="SocketRouterConfigSymbol";Ia(d,f.Ef);Ga.Object.defineProperties(d.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !1;}},url:{configurable:!0,enumerable:!0,get:function(){return "wss://web.ws.prod.cloud.netflix.com/socketrouter";}},OY:{configurable:!0,enumerable:!0,get:function(){return 24E4;}},Xpa:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Gra:{configurable:!0,enumerable:!0,get:function(){return 15E3;}},groupName:{configurable:!0,enumerable:!0,get:function(){return this.config().groupName;}},LE:{configurable:!0,enumerable:!0,get:function(){return !1;}},WGb:{configurable:!0,enumerable:!0,get:function(){return !1;}},UGb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});e=d;b.CCa=e;t.__decorate([g.config(g.fd,"socketRouterEnabled")],e.prototype,"enabled",null);t.__decorate([g.config(g.string,"socketRouterURL")],e.prototype,"url",null);t.__decorate([g.config(g.Ex,"socketRouterPingInterval")],e.prototype,"OY",null);t.__decorate([g.config(g.Ex,"socketRouterOpenTimeout")],e.prototype,"Xpa",null);t.__decorate([g.config(g.Ex,"socketRouterRequestTimeout")],e.prototype,"Gra",null);t.__decorate([g.config(g.string,"socketRouterGroupName")],e.prototype,"groupName",null);t.__decorate([g.config(g.fd,"socketRouterDisableOnSuspend")],e.prototype,"LE",null);t.__decorate([g.config(g.fd,"socketRouterShouldSendLogblobs")],e.prototype,"WGb",null);t.__decorate([g.config(g.fd,"socketRouterShouldSendEvents")],e.prototype,"UGb",null);b.CCa=e=t.__decorate([(0,n.Y)(),t.__param(0,(0,n.l)(a.Fn)),t.__param(1,(0,n.l)(c.Cc))],e);},70885:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.ECa=b.adb=void 0;t=a(22970);a=a(22674);b.adb={logblob:{maxLengthBytes:204800,maxInQueue:4},events:{maxInQueue:void 0},manifest:{maxInQueue:void 0},license:{maxInQueue:void 0},ntlBatch:{maxLengthBytes:204800,maxInQueue:4},ntlSendImmediate:{maxInQueue:void 0}};d.prototype.Sb=function(c,g){this.client=c;this.config=g;};d.prototype.request=function(c){return this.client.request(c);};d.prototype.start=function(){this.client.start();};Ga.Object.defineProperties(d.prototype,{QPa:{configurable:!0,enumerable:!0,get:function(){var c;return !(null === (c=this.client) || void 0 === c || !c.QPa);}}});n=d;b.ECa=n;b.ECa=n=t.__decorate([(0,a.Y)()],n);},99133:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;Object.defineProperty(b,"__esModule",{value:!0});d=a(33351);n=a(12746);c=a(35097);g=a(49217);f=a(41066);t=a(11479);e=a(87386);h=a(91581);l=a(37509);k=a(33554);m=a(31276);p=a(22365);r=a(36475);q=a(4888);b=a(36129);u=a(7605);v=a(21015);w=a(54861);m.Pa.get(t.Fj).register(b.aa.l5a,function(x){var A,z,B,C,D,F,H,E,G,K,N,I,L;function y(){L.set(!0 !== p.fi.hidden);}A=m.Pa.get(v.Tfa);if(!A.enabled)return x({success:!0});z=m.Pa.get(u.Xx);B=m.Pa.get(r.u9a);C=m.Pa.get(k.uA);D=m.Pa.get(h.Yr);F=A.groupName;H=A.url;E=A.OY;G=A.Xpa;K=A.Gra;N=A.LE;I=m.Pa.get(e.wb).qb("SocketRouterClient");H={Bw:function(O){return (0,q.dOc)(O,{groupName:F});},enabled:"function" === typeof globalThis.WebSocket,url:H,OY:E,Xpa:G,Gra:K,LE:N,Mgb:!0,VUa:!1};D=D.version;L=new n.hva().set(!0 !== p.fi.hidden);l.oe.removeListener(l.cr,y);l.oe.addListener(l.cr,y);l.oe.addListener(l.cn,function(){l.oe.removeListener(l.cr,y);});z=new d.I2a({PP:function(O,J){switch(O){case "error":I.error("socket-router-client-error",J);break;case "warn":!1;break;default:!1;}},info:{gZa:"WEBSITE",groupName:F,Mca:{Oa:"",build:"",gZa:z.uiVersion,platform:z.uiPlatform,player:D}},xU:{Li:C().Li,crypto:new c.b0a(),Yf:new g.h0a(),vBc:function(){return B.Se({log:I},{}).then(function(O){return O.provisionResponse;});}},visible:L});z=new f.obb(H,z);z.start();m.Pa.get(w.FCa).Sb(z,A);x({success:!0});});},35558:function(t,b,a){t.exports={hUb:a(81198),RPc:a(52915)};},52915:function(t,b,a){function d(c){this.data=c;this.right=this.left=null;}function n(c){this.sg=null;this.hy=c;this.size=0;}b=a(61161);d.prototype.Ni=function(c){return c?this.right:this.left;};d.prototype.vv=function(c,g){c?this.right=g:this.left=g;};n.prototype=new b();n.prototype.Ps=function(c){if(null === this.sg)(this.sg=new d(c),this.size++);else for(var g=0,f=null,e=this.sg;;){if(null === e){e=new d(c);f.vv(g,e);ret=!0;this.size++;break;}if(0 === this.hy(e.data,c))break;g=0 > this.hy(e.data,c);f=e;e=e.Ni(g);}};n.prototype.remove=function(c){var g,f,k;if(null === this.sg)return !1;g=new d(void 0);f=g;f.right=this.sg;for(var e=null,h=null,l=1;null !== f.Ni(l);){e=f;f=f.Ni(l);k=this.hy(c,f.data);l=0 < k;0 === k && (h=f);}return null !== h?(h.data=f.data,e.vv(e.right === f,f.Ni(null === f.left)),this.sg=g.right,this.size--,!0):!1;};t.exports=n;},81198:function(t,b,a){function d(e){this.data=e;this.right=this.left=null;this.red=!0;}function n(e){this.sg=null;this.hy=e;this.size=0;}function c(e){return null !== e && e.red;}function g(e,h){var l;l=e.Ni(!h);e.vv(!h,l.Ni(h));l.vv(h,e);e.red=!0;l.red=!1;return l;}function f(e,h){e.vv(!h,g(e.Ni(!h),!h));return g(e,h);}b=a(61161);d.prototype.Ni=function(e){return e?this.right:this.left;};d.prototype.vv=function(e,h){e?this.right=h:this.left=h;};n.prototype=new b();n.prototype.Ps=function(e){var h,l,k,m,p,r,q,u;if(null === this.sg)(this.sg=new d(e),this.size++);else {h=new d(void 0);l=0;k=0;m=null;p=h;r=null;q=this.sg;for(p.right=this.sg;;){null === q?(q=new d(e),r.vv(l,q),this.size++):c(q.left) && c(q.right) && (q.red=!0,q.left.red=!1,q.right.red=!1);if(c(q) && c(r)){u=p.right === m;q === r.Ni(k)?p.vv(u,g(m,!k)):p.vv(u,f(m,!k));}u=this.hy(q.data,e);if(0 === u)break;k=l;l=0 > u;null !== m && (p=m);m=r;r=q;q=q.Ni(l);}this.sg=h.right;}this.sg.red=!1;};n.prototype.remove=function(e){var h,l,q,u,v;if(null === this.sg)return !1;h=new d(void 0);l=h;l.right=this.sg;for(var k=null,m,p=null,r=1;null !== l.Ni(r);){q=r;m=k;k=l;l=l.Ni(r);u=this.hy(e,l.data);r=0 < u;0 === u && (p=l);if(!c(l) && !c(l.Ni(r)))if(c(l.Ni(!r)))(m=g(l,r),k.vv(q,m),k=m);else if(!c(l.Ni(!r)) && (u=k.Ni(!q),null !== u))if(c(u.Ni(!q)) || c(u.Ni(q))){v=m.right === k;c(u.Ni(q))?m.vv(v,f(k,q)):c(u.Ni(!q)) && m.vv(v,g(k,q));q=m.Ni(v);q.red=!0;l.red=!0;q.left.red=!1;q.right.red=!1;}else (k.red=!1,u.red=!0,l.red=!0);}null !== p && (p.data=l.data,k.vv(k.right === l,l.Ni(null === l.left)),this.size--);this.sg=h.right;null !== this.sg && (this.sg.red=!1);return null !== p;};t.exports=n;},61161:function(t){function b(){}function a(d){this.yfb=d;this.Qt=[];this.Nh=null;}b.prototype.clear=function(){this.sg=null;this.size=0;};b.prototype.find=function(d){var c;for(var n=this.sg;null !== n;){c=this.hy(d,n.data);if(0 === c)return n.data;n=n.Ni(0 < c);}return null;};b.prototype.lowerBound=function(d){var f;for(var n=this.sg,c=this.iterator(),g=this.hy;null !== n;){f=g(d,n.data);if(0 === f)return (c.Nh=n,c);c.Qt.push(n);n=n.Ni(0 < f);}for(f=c.Qt.length - 1;0 <= f;--f)if((n=c.Qt[f],0 > g(d,n.data)))return (c.Nh=n,c.Qt.length=f,c);c.Qt.length=0;return c;};b.prototype.upperBound=function(d){for(var n=this.lowerBound(d),c=this.hy;null !== n.data() && 0 === c(n.data(),d);)n.next();return n;};b.prototype.min=function(){var d;d=this.sg;if(null === d)return null;for(;null !== d.left;)d=d.left;return d.data;};b.prototype.max=function(){var d;d=this.sg;if(null === d)return null;for(;null !== d.right;)d=d.right;return d.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.X5=function(d){for(var n=this.iterator(),c;null !== (c=n.next());)d(c);};a.prototype.data=function(){return null !== this.Nh?this.Nh.data:null;};a.prototype.next=function(){var d;if(null === this.Nh){d=this.yfb.sg;null !== d && this.Ceb(d);}else if(null === this.Nh.right){do if((d=this.Nh,this.Qt.length))this.Nh=this.Qt.pop();else {this.Nh=null;break;}while(this.Nh.right === d);}else (this.Qt.push(this.Nh),this.Ceb(this.Nh.right));return null !== this.Nh?this.Nh.data:null;};a.prototype.rx=function(){var d;if(null === this.Nh){d=this.yfb.sg;null !== d && this.yeb(d);}else if(null === this.Nh.left){do if((d=this.Nh,this.Qt.length))this.Nh=this.Qt.pop();else {this.Nh=null;break;}while(this.Nh.left === d);}else (this.Qt.push(this.Nh),this.yeb(this.Nh.left));return null !== this.Nh?this.Nh.data:null;};a.prototype.Ceb=function(d){for(;null !== d.left;)(this.Qt.push(d),d=d.left);this.Nh=d;};a.prototype.yeb=function(d){for(;null !== d.right;)(this.Qt.push(d),d=d.right);this.Nh=d;};t.exports=b;},29919:function(t,b,a){var d,n;b=a(4090);d=a(49638);n=a(68418);a=a(36476);t.exports=a || b.call(n,d);},49638:function(t){t.exports=Function.prototype.apply;},68418:function(t){t.exports=Function.prototype.call;},68381:function(t,b,a){var d,n,c,g;d=a(4090);n=a(5408);c=a(68418);g=a(29919);t.exports=function(f){if(1 > f.length || "function" !== typeof f[0])throw new n("a function is required");return g(d,c,f);};},36476:function(t){t.exports="undefined" !== typeof Reflect && Reflect && Reflect.apply;},62680:function(t,b,a){var d,n,c;d=a(67286);n=a(89429);c=n(d("String.prototype.indexOf"));t.exports=function(g,f){f=d(g,!!f);return "function" === typeof f && -1 < c(g,".prototype.")?n(f):f;};},89429:function(t,b,a){var n,c,g,f,e,h,l;function d(){return f(n,c,arguments);}n=a(4090);b=a(67286);c=b("%Function.prototype.apply%");g=b("%Function.prototype.call%");f=b("%Reflect.apply%",!0) || n.call(g,c);e=b("%Object.getOwnPropertyDescriptor%",!0);h=b("%Object.defineProperty%",!0);l=b("%Math.max%");if(h)try{h({},"a",{value:1});}catch(k){h=null;}t.exports=function(k){var m;m=f(n,g,arguments);e && h && e(m,"length").configurable && h(m,"length",{value:1 + l(0,k.length - (arguments.length - 1))});return m;};h?h(t.exports,"apply",{value:d}):t.exports.apply=d;},75195:function(t,b,a){var d,n,c,g,f;b=a(81181)();d=a(67286);n=b && d("%Object.defineProperty%",!0);c=d("%SyntaxError%");g=d("%TypeError%");f=a(50326);t.exports=function(e,h,l){var k,m,p,r,q;if(!e || "object" !== typeof e && "function" !== typeof e)throw new g("`obj` must be an object or a function`");if("string" !== typeof h && "symbol" !== typeof h)throw new g("`property` must be a string or a symbol`");if(3 < arguments.length && "boolean" !== typeof arguments[3] && null !== arguments[3])throw new g("`nonEnumerable`, if provided, must be a boolean or null");if(4 < arguments.length && "boolean" !== typeof arguments[4] && null !== arguments[4])throw new g("`nonWritable`, if provided, must be a boolean or null");if(5 < arguments.length && "boolean" !== typeof arguments[5] && null !== arguments[5])throw new g("`nonConfigurable`, if provided, must be a boolean or null");if(6 < arguments.length && "boolean" !== typeof arguments[6])throw new g("`loose`, if provided, must be a boolean");k=3 < arguments.length?arguments[3]:null;m=4 < arguments.length?arguments[4]:null;p=5 < arguments.length?arguments[5]:null;r=6 < arguments.length?arguments[6]:!1;q=!!f && f(e,h);if(n)n(e,h,{configurable:null === p && q?q.configurable:!p,enumerable:null === k && q?q.enumerable:!k,value:l,writable:null === m && q?q.writable:!m});else if(r || !k && !m && !p)e[h]=l;else throw new c("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");};},14926:function(t,b,a){var d,n,c,g,f,e;d=a(33464);n="function" === typeof Symbol && "symbol" === typeof Symbol("foo");c=Object.prototype.toString;g=Array.prototype.concat;f=a(75195);e=a(81181)();t.exports=function(h,l){var k,m,r,q,u,v;k=2 < arguments.length?arguments[2]:{};m=d(l);n && (m=g.call(m,Object.getOwnPropertySymbols(l)));for(var p=0;p < m.length;p+=1)a:{r=h;q=m[p];u=l[m[p]];v=k[m[p]];if((q in r))if(!0 === v){if(r[q] === u)break a;}else if("function" !== typeof v || "[object Function]" !== c.call(v) || !v())break a;e?f(r,q,u,!0):f(r,q,u);}};},5141:function(t,b,a){var d,n,c;b=a(68381);a=a(50326);try{d=[].__proto__ === Array.prototype;}catch(g){if(!(g && "object" === typeof g && ("code" in g)) || "ERR_PROTO_ACCESS" !== g.code)throw g;}d=!!d && a && a(Object.prototype,"__proto__");n=Object;c=n.getPrototypeOf;t.exports=d && "function" === typeof d.get?b([d.get]):"function" === typeof c?function(g){return c(null == g?g:n(g));}:!1;},70999:function(t){var b;b=Object.defineProperty || !1;if(b)try{b({},"a",{value:1});}catch(a){b=!1;}t.exports=b;},69654:function(t){t.exports=EvalError;},42321:function(t){t.exports=Error;},48205:function(t){t.exports=RangeError;},2976:function(t){t.exports=ReferenceError;},48342:function(t){t.exports=SyntaxError;},5408:function(t){t.exports=TypeError;},82885:function(t){t.exports=URIError;},54546:function(t){t.exports=Object;},5885:function(t,b,a){var d,n,c,g,f;d="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;n=a(53919);c=a(9680);g=a(54277);f=a(88705);t.exports=function(e){var h,l,k;if(n(e))return e;h="default";1 < arguments.length && (arguments[1] === String?h="string":arguments[1] === Number && (h="number"));if(d)if(Symbol.toPrimitive){l=Symbol.toPrimitive;k=e[l];if(null !== k && "undefined" !== typeof k){if(!c(k))throw new TypeError(k + " returned for property " + l + " of object " + e + " is not a function");l=k;}else l=void 0;}else f(e) && (l=Symbol.prototype.valueOf);if("undefined" !== typeof l){h=l.call(e,h);if(n(h))return h;throw new TypeError("unable to convert exotic object to primitive");}"default" === h && (g(e) || f(e)) && (h="string");a:{h="default" === h?"number":h;if("undefined" === typeof e || null === e)throw new TypeError("Cannot call method on " + e);if("string" !== typeof h || "number" !== h && "string" !== h)throw new TypeError('hint must be "string" or "number"');h="string" === h?["toString","valueOf"]:["valueOf","toString"];for(l=0;l < h.length;++l)if((k=e[h[l]],c(k) && (k=k.call(e),n(k))))break a;throw new TypeError("No default value");}return k;};},53919:function(t){t.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(t){var h,l,k,m;function b(){b.Sb.call(this);}function a(p){if("function" !== typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);}function d(p,r,q,u){var v,w;a(q);v=p.dc;if(void 0 === v)(v=p.dc=Object.create(null),p.JM=0);else {void 0 !== v.Kuc && (p.emit("newListener",r,q.listener?q.listener:q),v=p.dc);w=v[r];}void 0 === w?(v[r]=q,++p.JM):("function" === typeof w?w=v[r]=u?[q,w]:[w,q]:u?w.unshift(q):w.push(q),q=void 0 === p.py?b.OJa:p.py,0 < q && w.length > q && !w.c_a && (w.c_a=!0,q=Error("Possible EventEmitter memory leak detected. " + w.length + " " + String(r) + " listeners added. Use emitter.setMaxListeners() to increase limit"),q.name="MaxListenersExceededWarning",q.sB=p,q.type=r,q.count=w.length,console && console.warn && console.warn(q)));return p;}function n(){if(!this.Qob)return (this.target.removeListener(this.type,this.ULb),this.Qob=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function c(p,r,q){p={Qob:!1,ULb:void 0,target:p,type:r,listener:q};r=n.bind(p);r.listener=q;return p.ULb=r;}function g(p){var r;r=this.dc;if(void 0 !== r){p=r[p];if("function" === typeof p)return 1;if(void 0 !== p)return p.length;}return 0;}function f(p,r,q){"function" === typeof p.on && e(p,"error",r,q);}function e(p,r,q,u){if("function" === typeof p.on){if(u.once)p.once(r,q);else p.on(r,q);}else if("function" === typeof p.addEventListener)p.addEventListener(r,function x(w){u.once && p.removeEventListener(r,x);q(w);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p);}h="object" === typeof Reflect?Reflect:null;l=h && "function" === typeof h.apply?h.apply:function(p,r,q){return Function.prototype.apply.call(p,r,q);};k=Number.isNaN || (function(p){return p !== p;});t.exports=b;t.exports.once=function(p,r){return new Promise(function(q,u){function v(x){p.removeListener(r,w);u(x);}function w(){"function" === typeof p.removeListener && p.removeListener("error",v);q([].slice.call(arguments));}e(p,r,w,{once:!0});"error" !== r && f(p,v,{once:!0});});};b.EventEmitter=b;b.prototype.dc=void 0;b.prototype.JM=0;b.prototype.py=void 0;m=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return m;},set:function(p){if("number" !== typeof p || 0 > p || k(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + ".");m=p;}});b.Sb=function(){if(void 0 === this.dc || this.dc === Object.getPrototypeOf(this).dc)(this.dc=Object.create(null),this.JM=0);this.py=this.py || void 0;};b.prototype.setMaxListeners=function(p){if("number" !== typeof p || 0 > p || k(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + ".");this.py=p;return this;};b.prototype.emit=function(p){var u,v;for(var r=[],q=1;q < arguments.length;q++)r.push(arguments[q]);u="error" === p;q=this.dc;if(void 0 !== q)u=u && void 0 === q.error;else if(!u)return !1;if(u){0 < r.length && (v=r[0]);if(v instanceof Error)throw v;r=Error("Unhandled error." + (v?" (" + v.message + ")":""));r.context=v;throw r;}q=q[p];if(void 0 === q)return !1;if("function" === typeof q)l(q,this,r);else {v=q.length;u=Array(v);for(var w=0;w < v;++w)u[w]=q[w];for(q=0;q < v;++q)l(u[q],this,r);}return !0;};b.prototype.addListener=function(p,r){return d(this,p,r,!1);};b.prototype.on=b.prototype.addListener;b.prototype.Qqa=function(p,r){d(this,p,r,!0);};b.prototype.once=function(p,r){a(r);this.on(p,c(this,p,r));return this;};b.prototype.nCb=function(p,r){a(r);this.Qqa(p,c(this,p,r));};b.prototype.removeListener=function(p,r){var q,u,v,w,x;a(r);u=this.dc;if(void 0 === u)return this;v=u[p];if(void 0 === v)return this;if(v === r || v.listener === r)0 === --this.JM?this.dc=Object.create(null):(delete u[p],u.removeListener && this.emit("removeListener",p,v.listener || r));else if("function" !== typeof v){w=-1;for(q=v.length - 1;0 <= q;q--)if(v[q] === r || v[q].listener === r){x=v[q].listener;w=q;break;}if(0 > w)return this;if(0 === w)v.shift();else {for(;w + 1 < v.length;w++)v[w]=v[w + 1];v.pop();}1 === v.length && (u[p]=v[0]);void 0 !== u.removeListener && this.emit("removeListener",p,x || r);}return this;};b.prototype.mm=b.prototype.removeListener;b.prototype.removeAllListeners=function(p){var r,q,u;r=this.dc;if(void 0 === r)return this;if(void 0 === r.removeListener)return (0 === arguments.length?(this.dc=Object.create(null),this.JM=0):void 0 !== r[p] && (0 === --this.JM?this.dc=Object.create(null):delete r[p]),this);if(0 === arguments.length){q=Object.keys(r);for(r=0;r < q.length;++r){u=q[r];"removeListener" !== u && this.removeAllListeners(u);}this.removeAllListeners("removeListener");this.dc=Object.create(null);this.JM=0;return this;}q=r[p];if("function" === typeof q)this.removeListener(p,q);else if(void 0 !== q)for(r=q.length - 1;0 <= r;r--)this.removeListener(p,q[r]);return this;};b.prototype.listeners=function(p){var r;r=this.dc;if(void 0 === r)p=[];else if((p=r[p],void 0 === p))p=[];else if("function" === typeof p)p=[p.listener || p];else {r=Array(p.length);for(var q=0;q < r.length;++q)r[q]=p[q].listener || p[q];p=r;}return p;};b.listenerCount=function(p,r){return "function" === typeof p.listenerCount?p.listenerCount(r):g.call(p,r);};b.prototype.listenerCount=g;},37795:function(t){var n,c;function b(g,f){for(var e="",h=0;h < g.length;h+=1)(e+=g[h],h + 1 < g.length && (e+=f));return e;}function a(g,f){var e;e=[];f=f || 0;for(var h=0;f < g.length;(f+=1,h+=1))e[h]=g[f];return e;}function d(g,f){for(var e=[],h=0;h < g.length;h+=1)e[h]=g[h];for(h=0;h < f.length;h+=1)e[h + g.length]=f[h];return e;}n=Object.prototype.toString;c=Math.max;t.exports=function(g){var f;f=this;if("function" !== typeof f || "[object Function]" !== n.apply(f))throw new TypeError("Function.prototype.bind called on incompatible " + f);for(var e=a(arguments,1),h,l=c(0,f.length - e.length),k=[],m=0;m < l;m++)k[m]="$" + m;h=Function("binder","return function (" + b(k,",") + "){ return binder.apply(this,arguments); }")(function(){var p;if(this instanceof h){p=f.apply(this,d(e,arguments));return Object(p) === p?p:this;}return f.apply(g,d(e,arguments));});f.prototype && (l=function(){},l.prototype=f.prototype,h.prototype=new l(),l.prototype=null);return h;};},4090:function(t,b,a){b=a(37795);t.exports=Function.prototype.bind || b;},67286:function(t,b,a){var g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U;function d(Z){var aa,da,fa;aa=Y(Z,0,1);da=Y(Z,-1);if("%" === aa && "%" !== da)throw new k("invalid intrinsic syntax, expected closing `%`");if("%" === da && "%" !== aa)throw new k("invalid intrinsic syntax, expected opening `%`");fa=[];S(Z,T,function(ma,R,M,V){fa[fa.length]=M?S(V,U,"$1"):R || ma;});return fa;}function n(){throw new m();}function c(Z){try{return A('"use strict"; return (' + Z + ").constructor;")();}catch(aa){}}g=a(54546);f=a(42321);e=a(69654);h=a(48205);l=a(2976);k=a(48342);m=a(5408);p=a(82885);r=a(14383);q=a(45736);u=a(27130);v=a(22400);w=a(23654);x=a(96890);y=a(82026);A=Function;z=a(50326);B=a(70999);C=z?(function(){try{return (arguments.callee,n);}catch(Z){try{return z(arguments,"callee").get;}catch(aa){return n;}}})():n;D=a(32636)();F=a(21750);H=a(2938);E=a(78354);b=a(49638);G=a(68418);K={};N="undefined" !== typeof Uint8Array && F?F(Uint8Array):void 0;I={__proto__:null,"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":D && F?F([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":K,"%AsyncGenerator%":K,"%AsyncGeneratorFunction%":K,"%AsyncIteratorPrototype%":K,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":f,"%eval%":eval,"%EvalError%":e,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":K,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":D && F?F(F([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && D && F?F(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":g,"%Object.getOwnPropertyDescriptor%":z,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":h,"%ReferenceError%":l,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && D && F?F(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":D && F?F(("")[Symbol.iterator]()):void 0,"%Symbol%":D?Symbol:void 0,"%SyntaxError%":k,"%ThrowTypeError%":C,"%TypedArray%":N,"%TypeError%":m,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet,"%Function.prototype.call%":G,"%Function.prototype.apply%":b,"%Object.defineProperty%":B,"%Object.getPrototypeOf%":H,"%Math.abs%":r,"%Math.floor%":q,"%Math.max%":u,"%Math.min%":v,"%Math.pow%":w,"%Math.round%":x,"%Math.sign%":y,"%Reflect.getPrototypeOf%":E};if(F)try{(null).error;}catch(Z){g=F(F(Z));I["%Error.prototype%"]=g;}L=function da(aa){var fa,ma;if("%AsyncFunction%" === aa)fa=c("async function () {}");else if("%GeneratorFunction%" === aa)fa=c("function* () {}");else if("%AsyncGeneratorFunction%" === aa)fa=c("async function* () {}");else if("%AsyncGenerator%" === aa){ma=da("%AsyncGeneratorFunction%");ma && (fa=ma.prototype);}else "%AsyncIteratorPrototype%" === aa && (ma=da("%AsyncGenerator%")) && F && (fa=F(ma.prototype));return I[aa]=fa;};O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};g=a(4090);J=a(72196);Q=g.call(G,Array.prototype.concat);P=g.call(b,Array.prototype.splice);S=g.call(G,String.prototype.replace);Y=g.call(G,String.prototype.slice);X=g.call(G,RegExp.prototype.exec);T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;U=/\\(\\)?/g;t.exports=function(aa,da){var fa,ma,R,M,V,ba,ha,ca,la;if("string" !== typeof aa || 0 === aa.length)throw new m("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof da)throw new m('"allowMissing" argument must be a boolean');if(null === X(/^%?[^%]*%?$/,aa))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");fa=d(aa);ma=0 < fa.length?fa[0]:"";R="%" + ma + "%";M=R;if(J(O,M)){V=O[M];M="%" + V[0] + "%";}if(J(I,M)){ba=I[M];ba === K && (ba=L(M));if("undefined" === typeof ba && !da)throw new m("intrinsic " + R + " exists, but is not available. Please file an issue!");}else throw new k("intrinsic " + R + " does not exist!");R=ba;M=!1;V && (ma=V[0],P(fa,Q([0,1],V)));V=1;for(ba=!0;V < fa.length;V+=1){ha=fa[V];ca=Y(ha,0,1);la=Y(ha,-1);if(('"' === ca || "'" === ca || "`" === ca || '"' === la || "'" === la || "`" === la) && ca !== la)throw new k("property names with quotes must have matching quotes");"constructor" !== ha && ba || (M=!0);ma+="." + ha;ca="%" + ma + "%";if(J(I,ca))R=I[ca];else if(null != R){if(!((ha in R))){if(!da)throw new m("base intrinsic for " + aa + " exists, but the property is not available.");return;}z && V + 1 >= fa.length?(la=z(R,ha),R=(ba=!!la) && ("get" in la) && !(("originalValue" in la.get))?la.get:R[ha]):(ba=J(R,ha),R=R[ha]);ba && !M && (I[ca]=R);}}return R;};},2938:function(t,b,a){b=a(54546);t.exports=b.getPrototypeOf || null;},78354:function(t){t.exports="undefined" !== typeof Reflect && Reflect.getPrototypeOf || null;},21750:function(t,b,a){var d,n,c;d=a(78354);n=a(2938);c=a(5141);t.exports=d?function(g){return d(g);}:n?function(g){if(!g || "object" !== typeof g && "function" !== typeof g)throw new TypeError("getProto: not an object");return n(g);}:c?function(g){return c(g);}:null;},93165:function(t){t.exports=Object.getOwnPropertyDescriptor;},50326:function(t,b,a){if(b=a(93165))try{b([],"length");}catch(d){b=null;}t.exports=b;},81181:function(t,b,a){var n;function d(){if(n)try{return (n({},"a",{value:1}),!0);}catch(c){}return !1;}n=a(67286)("%Object.defineProperty%",!0);d.Rlc=function(){if(!d())return null;try{return 1 !== n([],"length",{value:1}).length;}catch(c){return !0;}};t.exports=d;},32636:function(t,b,a){var d,n;d="undefined" !== typeof Symbol && Symbol;n=a(66679);t.exports=function(){return "function" !== typeof d || "function" !== typeof Symbol || "symbol" !== typeof d("foo") || "symbol" !== typeof Symbol("bar")?!1:n();};},66679:function(t){t.exports=function(){var b,a,d;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");d=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(d))return !1;b[a]=42;for(var n in b)return !1;if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;d=Object.getOwnPropertySymbols(b);return 1 !== d.length || d[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(t,b,a){var d;d=a(66679);t.exports=function(){return d() && !!Symbol.toStringTag;};},23198:function(t,b,a){b=a(4090);t.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},72196:function(t,b,a){var d;b=Function.prototype.call;d=Object.prototype.hasOwnProperty;a=a(4090);t.exports=a.call(b,d);},28041:function(t,b,a){var c,g;function d(f,e,h,l,k){var m,p,q;m={};p="number" === typeof k;k=void 0 !== k && p?k.toString():h;if(p && void 0 !== h)throw Error(c.zQb);Reflect.rOa(f,e) && (m=Reflect.getMetadata(f,e));h=m[k];if(Array.isArray(h)){p=0;for(var r=h;p < r.length;p++){q=r[p];if(q.key === l.key)throw Error(c.ROb + " " + q.key.toString());}}else h=[];h.push(l);m[k]=h;Reflect.Mja(f,m,e);}function n(f,e){return function(h,l){e(h,l,f);};}Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);g=a(37425);b.KR=function(f,e,h,l){d(g.Lbb,f,e,l,h);};b.Xba=function(f,e,h){d(g.Mbb,f.constructor,e,h);};b.tI=function(f,e,h){"number" === typeof h?(f=[n(h,f)],Reflect.tI(f,e)):"string" === typeof h?Reflect.tI([f],e,h):Reflect.tI([f],e);};},29385:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(37425);c=a(67258);g=a(28041);t=(function(){function f(e){this.jWb=e;}f.prototype.oL=function(){return this.jWb();};return f;})();b.rya=t;b.l=function(f){return function(e,h,l){var k;if(void 0 === f)throw Error(d.kVb(e.name));k=new c.Metadata(n.L1,f);"number" === typeof l?g.KR(e,h,l,k):g.Xba(e,h,k);};};},16504:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(37425);b.Y=function(){return function(c){var g;if(Reflect.rOa(n.iAa,c))throw Error(d.QOb);g=Reflect.getMetadata(n.mOb,c) || [];Reflect.Mja(n.iAa,g,c);return c;};};},3342:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.QF=function(g){return function(f,e,h){var l;l=new n.Metadata(d.gM,g);"number" === typeof h?c.KR(f,e,h,l):c.Xba(f,e,l);};};},44466:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.Fyb=function(g){return function(f,e,h){var l;l=new n.Metadata(d.gH,g);"number" === typeof h?c.KR(f,e,h,l):c.Xba(f,e,l);};};},5923:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.optional=function(){return function(g,f,e){var h;h=new n.Metadata(d.I8a,!0);"number" === typeof e?c.KR(g,f,e,h):c.Xba(g,f,h);};};},76311:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(37425);c=a(67258);b.ZBb=function(){return function(g,f){f=new c.Metadata(n.s2,f);if(Reflect.rOa(n.s2,g.constructor))throw Error(d.JRb);Reflect.Mja(n.s2,f,g.constructor);};};},91823:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(67258);n=a(28041);b.zIb=function(c,g){return function(f,e,h){var l;l=new d.Metadata(c,g);"number" === typeof h?n.KR(f,e,h,l):n.Xba(f,e,l);};};},67509:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.Yba=function(g){return function(f,e,h){var l;l=new n.Metadata(d.Pea,g);c.KR(f,e,h,l);};};},53022:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.At=function(){return function(g,f,e){var h;h=new n.Metadata(d.Q2,!0);c.KR(g,f,e,h);};};},70078:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(5493);n=a(72632);t=(function(){function c(g,f){this.id=n.id();this.OFa=!1;this.Fh=g;this.scope=f;this.type=d.zl.HQb;this.NN=function(){return !0;};this.LV=this.eC=this.MQ=this.Bw=this.cache=this.rp=null;}c.prototype.clone=function(){var g;g=new c(this.Fh,this.scope);g.OFa=!1;g.rp=this.rp;g.LV=this.LV;g.scope=this.scope;g.type=this.type;g.Bw=this.Bw;g.MQ=this.MQ;g.NN=this.NN;g.eC=this.eC;g.cache=this.cache;return g;};return c;})();b.jNb=t;},57197:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qva={FSc:2,v8a:0,BSb:1};},25640:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QOb="Cannot apply @injectable decorator multiple times.";b.ROb="Metadata key was used more than once in a parameter:";b.m2="NULL argument";b.W5a="Key Not Found";b.lMb="Ambiguous match found for serviceIdentifier:";b.DNb="Could not unbind serviceIdentifier:";b.gSb="No matching bindings found for serviceIdentifier:";b.yRb="Missing required @injectable annotation in:";b.zRb="Missing required @inject or @multiInject annotation in:";b.kVb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.HNb="Circular dependency found:";b.XSc="Sorry, this feature is not fully implemented yet.";b.yQb="Invalid binding type:";b.jSb="No snapshot available to restore.";b.CQb="Invalid return type in middleware. Middleware must return!";b.BQb="Value provided to function binding must be a function!";b.DQb="The toSelf function can only be applied when a constructor is used as service identifier";b.zQb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.nMb=function(){for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.WNb="Invalid Container constructor argument. Container options must be an object.";b.UNb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.TNb="Invalid Container option. Auto bind injectable must be a boolean";b.VNb="Invalid Container option. Skip base check must be a boolean";b.JRb="Cannot apply @postConstruct decorator multiple times in the same class";b.ETb=function(){for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];return "@postConstruct error in class " + a[0] + ": " + a[1];};b.INb=function(){for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.OUb="Maximum call stack size exceeded";},5493:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Px={Request:"Request",ACa:"Singleton",aga:"Transient"};b.zl={f2a:"ConstantValue",g2a:"Constructor",e3a:"DynamicValue",cxa:"Factory",Function:"Function",Instance:"Instance",HQb:"Invalid",$$a:"Provider"};b.HD={V1a:"ClassProperty",h2a:"ConstructorArgument",zDa:"Variable"};},37425:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gH="named";b.Pea="name";b.Q2="unmanaged";b.I8a="optional";b.L1="inject";b.gM="multi_inject";b.Lbb="inversify:tagged";b.Mbb="inversify:tagged_props";b.iAa="inversify:paramtypes";b.mOb="design:paramtypes";b.s2="post_construct";},99700:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;d=this && this.__awaiter || (function(q,u,v,w){return new (v || (v=Promise))(function(x,y){function A(C){try{B(w.next(C));}catch(D){y(D);}}function z(C){try{B(w["throw"](C));}catch(D){y(D);}}function B(C){C.done?x(C.value):new v(function(D){D(C.value);}).then(A,z);}B((w=w.apply(q,u || [])).next());});});n=this && this.__generator || (function(q,u){var x,y,A,z,B;function v(C){return function(D){return w([C,D]);};}function w(C){if(y)throw new TypeError("Generator is already executing.");for(;x;)try{if((y=1,A && (z=A[C[0] & 2?"return":C[0]?"throw":"next"]) && !(z=z.call(A,C[1])).done))return z;if((A=0,z))C=[0,z.value];switch(C[0]){case 0:case 1:z=C;break;case 4:return (x.label++,{value:C[1],done:!1});case 5:x.label++;A=C[1];C=[0];continue;case 7:C=x.mQ.pop();x.qc.pop();continue;default:if(!(z=x.qc,z=0 < z.length && z[z.length - 1]) && (6 === C[0] || 2 === C[0])){x=0;continue;}if(3 === C[0] && (!z || C[1] > z[0] && C[1] < z[3]))x.label=C[1];else if(6 === C[0] && x.label < z[1])(x.label=z[1],z=C);else if(z && x.label < z[2])(x.label=z[2],x.mQ.push(C));else {z[2] && x.mQ.pop();x.qc.pop();continue;}}C=u.call(q,x);}catch(D){C=[6,D];A=0;}finally{y=z=0;}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}x={label:0,S:function(){if(z[0] & 1)throw z[1];return z[1];},qc:[],mQ:[]};return (B={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (B[Symbol.iterator]=function(){return this;}),B);});Object.defineProperty(b,"__esModule",{value:!0});c=a(70078);g=a(25640);f=a(5493);a(37425);e=a(11499);h=a(75262);l=a(85933);k=a(49825);m=a(72632);p=a(48530);a(95817);r=a(62240);t=(function(){function q(u){u=u || ({});if("object" !== typeof u)throw Error("" + g.WNb);if(void 0 === u.SN)u.SN=f.Px.aga;else if(u.SN !== f.Px.ACa && u.SN !== f.Px.aga && u.SN !== f.Px.Request)throw Error("" + g.UNb);if(void 0 === u.C4)u.C4=!1;else if("boolean" !== typeof u.C4)throw Error("" + g.TNb);if(void 0 === u.xR)u.xR=!1;else if("boolean" !== typeof u.xR)throw Error("" + g.VNb);this.options={C4:u.C4,SN:u.SN,xR:u.xR};this.id=m.id();this.BM=new r.XQb();this.RYb=[];this.parent=this.OEa=null;this.MXb=new e.Cza();}q.hn=function(u,v){var x,y;function w(A,z){A.mLc(function(B,C){C.forEach(function(D){z.add(D.Fh,D.clone());});});}x=new q();y=h.kMa(x);u=h.kMa(u);v=h.kMa(v);w(u,y);w(v,y);return x;};q.prototype.load=function(){var x,y;for(var u=[],v=0;v < arguments.length;v++)u[v]=arguments[v];v=this.deb();for(var w=0;w < u.length;w++){x=u[w];y=v(x.id);x.nVa(y.cib,y.RJb,y.Uub,y.mDb);}};q.prototype.Z8=function(){for(var u=[],v=0;v < arguments.length;v++)u[v]=arguments[v];d(this,void 0,void 0,function(){var w,x,y,A,z;return n(this,function(B){switch(B.label){case 0:(w=this.deb(),x=0,y=u,B.label=1);case 1:if(!(x < y.length))return [3,4];A=y[x];z=w(A.id);return [4,A.nVa(z.cib,z.RJb,z.Uub,z.mDb)];case 2:(B.S(),B.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};q.prototype.XJb=function(){function u(y){return function(A){return A.syb === y;};}for(var v=this,w=[],x=0;x < arguments.length;x++)w[x]=arguments[x];w.forEach(function(y){y=u(y.id);v.BM.ZCc(y);});};q.prototype.bind=function(u){var v;v=new c.jNb(u,this.options.SN || f.Px.aga);this.BM.add(u,v);return new k.lNb(v);};q.prototype.YBc=function(u){this.QJb(u);return this.bind(u);};q.prototype.QJb=function(u){try{this.BM.remove(u);}catch(v){throw Error(g.DNb + " " + p.TW(u));}};q.prototype.gub=function(u){var v;v=this.BM.Bsb(u);!v && this.parent && (v=this.parent.gub(u));return v;};q.prototype.restore=function(){var u;u=this.RYb.pop();if(void 0 === u)throw Error(g.jSb);this.BM=u.J4;this.OEa=u.Ltc;};q.prototype.B8b=function(){var u;u=new q(this.options);u.parent=this;return u;};q.prototype.get=function(u){return this.ceb(!1,!1,f.HD.zDa,u);};q.prototype.getAll=function(u){return this.ceb(!0,!0,f.HD.zDa,u);};q.prototype.resolve=function(u){var v;v=this.B8b();v.bind(u).bJb();return v.get(u);};q.prototype.deb=function(){var y;function u(A){return function(z){z=y.YBc.bind(y)(z);z.Wc.syb=A;return z;};}function v(){return function(A){return y.gub.bind(y)(A);};}function w(){return function(A){y.QJb.bind(y)(A);};}function x(A){return function(z){z=y.bind.bind(y)(z);z.Wc.syb=A;return z;};}y=this;return function(A){return {cib:x(A),Uub:v(A),mDb:u(A),RJb:w(A)};};};q.prototype.ceb=function(u,v,w,x){var y;y=null;u={U1b:u,K6b:function(A){return A;},Moc:v,key:void 0,Fh:x,nKc:w,value:void 0};if(this.OEa){if((y=this.OEa(u),void 0 === y || null === y))throw Error(g.CQb);}else y=this.sYb()(u);return y;};q.prototype.sYb=function(){var u;u=this;return function(v){var w;w=h.QY(u.MXb,u,v.Moc,v.nKc,v.Fh,v.key,v.value,v.U1b);w=v.K6b(w);return l.resolve(w);};};return q;})();b.Jda=t;},51164:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(72632);b.je=(function(){return function(n){this.id=d.id();this.nVa=n;};})();b.I0a=(function(){return function(n){this.id=d.id();this.nVa=n;};})();},95817:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nQc=(function(){function a(){}a.of=function(d,n){var c;c=new a();c.J4=d;c.Ltc=n;return c;};return a;})();},62240:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);t=(function(){function n(){this.Fg=new Map();}n.prototype.Qqb=function(){return this.Fg;};n.prototype.add=function(c,g){var f;if(null === c || void 0 === c)throw Error(d.m2);if(null === g || void 0 === g)throw Error(d.m2);f=this.Fg.get(c);void 0 !== f?(f.push(g),this.Fg.set(c,f)):this.Fg.set(c,[g]);};n.prototype.get=function(c){if(null === c || void 0 === c)throw Error(d.m2);c=this.Fg.get(c);if(void 0 !== c)return c;throw Error(d.W5a);};n.prototype.remove=function(c){if(null === c || void 0 === c)throw Error(d.m2);if(!this.Fg.delete(c))throw Error(d.W5a);};n.prototype.ZCc=function(c){var g;g=this;this.Fg.forEach(function(f,e){f=f.filter(function(h){return !c(h);});0 < f.length?g.Fg.set(e,f):g.Fg.delete(e);});};n.prototype.Bsb=function(c){if(null === c || void 0 === c)throw Error(d.m2);return this.Fg.has(c);};n.prototype.clone=function(){var c;c=new n();this.Fg.forEach(function(g,f){g.forEach(function(e){return c.add(f,e.clone());});});return c;};n.prototype.mLc=function(c){this.Fg.forEach(function(g,f){c(f,g);});};return n;})();b.XQb=t;},22674:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(37425);b.qSc=t;t=a(99700);b.Jda=t.Jda;t=a(5493);b.Px=t.Px;b.zl=t.zl;b.HD=t.HD;t=a(51164);b.I0a=t.I0a;b.je=t.je;t=a(16504);b.Y=t.Y;t=a(91823);b.zIb=t.zIb;t=a(44466);b.Fyb=t.Fyb;t=a(29385);b.l=t.l;b.rya=t.rya;t=a(5923);b.optional=t.optional;t=a(53022);b.At=t.At;t=a(3342);b.QF=t.QF;t=a(67509);b.Yba=t.Yba;t=a(76311);b.ZBb=t.ZBb;t=a(11499);b.Cza=t.Cza;t=a(72632);b.id=t.id;t=a(28041);b.tI=t.tI;t=a(41146);b.EJb=t.EJb;b.AIb=t.AIb;b.Gyb=t.Gyb;b.LJb=t.LJb;t=a(48530);b.TW=t.TW;a=a(14577);b.Cyb=a.Cyb;},91734:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(72632);t=(function(){function n(c){this.id=d.id();this.Hb=c;}n.prototype.q_b=function(c){this.QY=c;};return n;})();b.k2a=t;},67258:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);t=(function(){function n(c,g){this.key=c;this.value=g;}n.prototype.toString=function(){return this.key === d.gH?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return n;})();b.Metadata=t;},11499:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);t=(function(){function n(){}n.prototype.Wpb=function(c){var g;g=Reflect.getMetadata(d.iAa,c);c=Reflect.getMetadata(d.Lbb,c);return {$jb:g,eNc:c || ({})};};n.prototype.Ojc=function(c){return Reflect.getMetadata(d.Mbb,c) || [];};return n;})();b.Cza=t;},4595:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PTb=(function(){return function(a,d){this.IY=a;this.WVa=d;};})();},75262:function(t,b,a){var f,e,h,l,k,m,p,r,q,u,v,w;function d(x,y,A,z,B){var C,D;C=g(A.Hb,B.Fh);D=[];C.length === f.qva.v8a && A.Hb.options.C4 && "function" === typeof B.Fh && x.Wpb(B.Fh).$jb && (A.Hb.bind(B.Fh).bJb(),C=g(A.Hb,B.Fh));D=y?C:C.filter(function(F){var H;H=new v.Request(F.Fh,A,z,F,B);return F.NN(H);});n(B.Fh,D,B,A.Hb);return D;}function n(x,y,A,z){switch(y.length){case f.qva.v8a:if(A.Dub())return y;x=m.TW(x);y=e.gSb;y+=m.Dqc(x,A);y+=m.hwb(z,x,g);throw Error(y);case f.qva.BSb:if(!A.isArray())return y;default:if(A.isArray())return y;x=m.TW(x);y=e.lMb + " " + x;y+=m.hwb(z,x,g);throw Error(y);}}function c(x,y,A,z,B,C){var D;if(null === B){y=d(x,y,z,null,C);D=new v.Request(A,z,null,y,C);A=new q.PTb(z,D);z.q_b(A);}else (y=d(x,y,z,B,C),D=B.egb(C.Fh,y,C));y.forEach(function(F){var H,E,G;H=null;if(C.isArray())H=D.egb(F.Fh,F,C);else {if(F.cache)return;H=D;}if(F.type === h.zl.Instance && null !== F.rp){E=u.mhc(x,F.rp);if(!z.Hb.options.xR){G=u.Egc(x,F.rp);if(E.length < G)throw (F=e.nMb(u.getFunctionName(F.rp)),Error(F));}E.forEach(function(K){c(x,!1,K.Fh,z,H,K);});}});}function g(x,y){var A,z;A=[];z=x.BM;z.Bsb(y)?A=z.get(y):null !== x.parent && (A=g(x.parent,y));return A;}Object.defineProperty(b,"__esModule",{value:!0});f=a(57197);e=a(25640);h=a(5493);l=a(37425);k=a(69523);m=a(48530);p=a(91734);r=a(67258);q=a(4595);u=a(34912);v=a(22929);w=a(23927);b.kMa=function(x){return x.BM;};b.QY=function(x,y,A,z,B,C,D,F){void 0 === F && (F=!1);y=new p.k2a(y);A=new r.Metadata(A?l.gM:l.L1,B);z=new w.Xfa(z,"",B,A);void 0 !== C && (C=new r.Metadata(C,D),z.Kd.push(C));try{return (c(x,F,B,y,null,z),y);}catch(H){throw (k.Kub(H) && y.QY && m.f5b(y.QY.WVa),H);}};b.qXc=function(x,y,A,z){A=new w.Xfa(h.HD.zDa,"",y,new r.Metadata(A,z));x=new p.k2a(x);return new v.Request(y,x,null,[],A);};},11625:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.b_=d;}a.prototype.startsWith=function(d){return 0 === this.b_.indexOf(d);};a.prototype.endsWith=function(d){var n;n=d.split("").reverse().join("");d=this.b_.split("").reverse().join("");return this.startsWith.call({b_:d},n);};a.prototype.contains=function(d){return -1 !== this.b_.indexOf(d);};a.prototype.equals=function(d){return this.b_ === d;};a.prototype.value=function(){return this.b_;};return a;})();b.fUb=t;},34912:function(t,b,a){var f,e,h,l,k,m;function d(p,r,q,u){var v,w,x,y,z,B,C,D,F,H,E,G;v=p.Wpb(q);w=v.$jb;if(void 0 === w)throw Error(e.yRb + " " + r + ".");v=v.eNc;x=Object.keys(v);y=0 === q.length && 0 < x.length?x.length:q.length;x=[];for(var A=0;A < y;A++){z=A;B=u;C=r;D=w;F=v[z.toString()] || [];H=g(F);E=!0 !== H.At;D=D[z];G=H.l || H.QF;D=G?G:D;D instanceof f.rya && (D=D.oL());if(E){E=D === Function;E=D === Object || E || void 0 === D;if(!B && E)throw Error(e.zRb + " argument " + z + " in class " + C + ".");z=new m.Xfa(h.HD.h2a,H.Yba,D);z.Kd=F;F=z;}else F=null;null !== F && x.push(F);}p=n(p,q);return x.concat(p);}function n(p,r){var x,y,A;for(var q=p.Ojc(r),u=[],v=0,w=Object.keys(q);v < w.length;v++){x=w[v];y=q[x];A=g(q[x]);x=new m.Xfa(h.HD.V1a,A.Yba || x,A.l || A.QF);x.Kd=y;u.push(x);}r=Object.getPrototypeOf(r.prototype).constructor;r !== Object && (p=n(p,r),u=u.concat(p));return u;}function c(p,r){var q,u;r=Object.getPrototypeOf(r.prototype).constructor;if(r !== Object){q=k.getFunctionName(r);q=d(p,q,r,!0);u=q.map(function(v){return v.Kd.filter(function(w){return w.key === l.Q2;});});u=[].concat.apply([],u).length;q=q.length - u;return 0 < q?q:c(p,r);}return 0;}function g(p){var r;r={};p.forEach(function(q){r[q.key.toString()]=q.value;});return {l:r[l.L1],QF:r[l.gM],Yba:r[l.Pea],At:r[l.Q2]};}Object.defineProperty(b,"__esModule",{value:!0});f=a(29385);e=a(25640);h=a(5493);l=a(37425);k=a(48530);b.getFunctionName=k.getFunctionName;m=a(23927);b.mhc=function(p,r){var q;q=k.getFunctionName(r);return d(p,q,r,!1);};b.Egc=c;},22929:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(72632);t=(function(){function n(c,g,f,e,h){this.id=d.id();this.Fh=c;this.IY=g;this.VF=f;this.target=h;this.eIa=[];this.J4=Array.isArray(e)?e:[e];this.ODc=null === f?new Map():null;}n.prototype.egb=function(c,g,f){c=new n(c,this.IY,this,g,f);this.eIa.push(c);return c;};return n;})();b.Request=t;},23927:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(72632);c=a(67258);g=a(11625);t=(function(){function f(e,h,l,k){this.id=n.id();this.type=e;this.Fh=l;this.name=new g.fUb(h || "");this.Kd=[];e=null;"string" === typeof k?e=new c.Metadata(d.gH,k):k instanceof c.Metadata && (e=k);null !== e && this.Kd.push(e);}f.prototype.Ksb=function(e){for(var h=0,l=this.Kd;h < l.length;h++)if(l[h].key === e)return !0;return !1;};f.prototype.isArray=function(){return this.Ksb(d.gM);};f.prototype.Gsc=function(e){return this.uRa(d.gM)(e);};f.prototype.OPa=function(){return this.Ksb(d.gH);};f.prototype.cQa=function(){return this.Kd.some(function(e){return e.key !== d.L1 && e.key !== d.gM && e.key !== d.Pea && e.key !== d.Q2 && e.key !== d.gH;});};f.prototype.Dub=function(){return this.uRa(d.I8a)(!0);};f.prototype.Wic=function(){return this.OPa()?this.Kd.filter(function(e){return e.key === d.gH;})[0]:null;};f.prototype.jhc=function(){return this.cQa()?this.Kd.filter(function(e){return e.key !== d.L1 && e.key !== d.gM && e.key !== d.Pea && e.key !== d.Q2 && e.key !== d.gH;}):null;};f.prototype.uRa=function(e){var h;h=this;return function(l){var p;for(var k=0,m=h.Kd;k < m.length;k++){p=m[k];if(p.key === e && p.value === l)return !0;}return !1;};};return f;})();b.Xfa=t;},40198:function(t,b,a){var c,g,f;function d(e,h,l){var k;h=h.filter(function(m){return null !== m.target && m.target.type === g.HD.V1a;});k=h.map(l);h.forEach(function(m,p){m=m.target.name.value();e[m]=k[p];});return e;}function n(e,h){var l;if(Reflect.Zlc(f.s2,e)){l=Reflect.getMetadata(f.s2,e);try{h[l.value]();}catch(k){throw Error(c.ETb(e.name,k.message));}}}Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);g=a(5493);f=a(37425);b.dEc=function(e,h,l){var k;k=null;0 < h.length?(k=h.filter(function(m){return null !== m.target && m.target.type === g.HD.h2a;}).map(l),k=new (e.bind.apply(e,[void 0].concat(k)))(),k=d(k,h,l)):k=new e();n(e,k);return k;};},85933:function(t,b,a){var c,g,f,e,h;function d(l){return function(k){var m,p,r,q,u;m=k.J4;p=k.eIa;r=k.target && k.target.isArray();q=!k.VF || !k.VF.target || !k.target || !k.VF.target.Gsc(k.target.Fh);if(r && q)return p.map(function(v){return d(l)(v);});r=null;if(!k.target.Dub() || 0 !== m.length){u=m[0];m=u.scope === g.Px.ACa;q=u.scope === g.Px.Request;if(m && u.OFa)return u.cache;if(q && null !== l && l.has(u.id))return l.get(u.id);if(u.type === g.zl.f2a)r=u.cache;else if(u.type === g.zl.Function)r=u.cache;else if(u.type === g.zl.g2a)r=u.rp;else if(u.type === g.zl.e3a && null !== u.LV)r=n("toDynamicValue",u.Fh,function(){return u.LV(k.IY);});else if(u.type === g.zl.cxa && null !== u.Bw)r=n("toFactory",u.Fh,function(){return u.Bw(k.IY);});else if(u.type === g.zl.$$a && null !== u.MQ)r=n("toProvider",u.Fh,function(){return u.MQ(k.IY);});else if(u.type === g.zl.Instance && null !== u.rp)r=h.dEc(u.rp,p,d(l));else throw (p=e.TW(k.Fh),Error(c.yQb + " " + p));"function" === typeof u.eC && (r=u.eC(k.IY,r));m && (u.cache=r,u.OFa=!0);q && null !== l && !l.has(u.id) && l.set(u.id,r);return r;}};}function n(l,k,m){try{return m();}catch(p){if(f.Kub(p))throw Error(c.INb(l,k.toString()));throw p;}}Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);g=a(5493);f=a(69523);e=a(48530);h=a(40198);b.resolve=function(l){return d(l.QY.WVa.ODc)(l.QY.WVa);};},51580:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(5493);n=a(75714);t=(function(){function c(g){this.Wc=g;}c.prototype.pa=function(){this.Wc.scope=d.Px.ACa;return new n.GL(this.Wc);};c.prototype.TOa=function(){this.Wc.scope=d.Px.aga;return new n.GL(this.Wc);};return c;})();b.kNb=t;},61142:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(51580);n=a(1003);c=a(7190);t=(function(){function g(f){this.Wc=f;this.Y2=new c.rva(this.Wc);this.TDa=new n.wda(this.Wc);this.Adb=new d.kNb(f);}g.prototype.pa=function(){return this.Adb.pa();};g.prototype.TOa=function(){return this.Adb.TOa();};g.prototype.when=function(f){return this.Y2.when(f);};g.prototype.$ca=function(){return this.Y2.$ca();};g.prototype.eC=function(f){return this.TDa.eC(f);};return g;})();b.d1a=t;},1003:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(7190);t=(function(){function n(c){this.Wc=c;}n.prototype.eC=function(c){this.Wc.eC=c;return new d.rva(this.Wc);};return n;})();b.wda=t;},49825:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(5493);c=a(61142);g=a(75714);t=(function(){function f(e){this.Wc=e;}f.prototype.to=function(e){this.Wc.type=n.zl.Instance;this.Wc.rp=e;return new c.d1a(this.Wc);};f.prototype.bJb=function(){if("function" !== typeof this.Wc.Fh)throw Error("" + d.DQb);this.to(this.Wc.Fh);};f.prototype.Bo=function(e){this.Wc.type=n.zl.f2a;this.Wc.cache=e;this.Wc.LV=null;this.Wc.rp=null;new g.GL(this.Wc);};f.prototype.gL=function(e){this.Wc.type=n.zl.e3a;this.Wc.cache=null;this.Wc.LV=e;this.Wc.rp=null;return new c.d1a(this.Wc);};f.prototype.WKc=function(e){this.Wc.type=n.zl.g2a;this.Wc.rp=e;new g.GL(this.Wc);};f.prototype.Kf=function(e){this.Wc.type=n.zl.cxa;this.Wc.Bw=e;new g.GL(this.Wc);};f.prototype.XKc=function(e){if("function" !== typeof e)throw Error(d.BQb);this.Bo(e);this.Wc.type=n.zl.Function;};f.prototype.$Ib=function(e){this.Wc.type=n.zl.cxa;this.Wc.Bw=function(h){return function(){return h.Hb.get(e);};};new g.GL(this.Wc);};f.prototype.jca=function(e){this.Wc.type=n.zl.$$a;this.Wc.MQ=e;new g.GL(this.Wc);};f.prototype.$Kc=function(e){this.gL(function(h){return h.Hb.get(e);});};return f;})();b.lNb=t;},75714:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(1003);n=a(7190);t=(function(){function c(g){this.Wc=g;this.Y2=new n.rva(this.Wc);this.TDa=new d.wda(this.Wc);}c.prototype.when=function(g){return this.Y2.when(g);};c.prototype.$ca=function(){return this.Y2.$ca();};c.prototype.eC=function(g){return this.TDa.eC(g);};return c;})();b.GL=t;},7190:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(1003);a(41146);t=(function(){function n(c){this.Wc=c;}n.prototype.when=function(c){this.Wc.NN=c;return new d.wda(this.Wc);};n.prototype.$ca=function(){this.Wc.NN=function(c){return null !== c.target && !c.target.OPa() && !c.target.cQa();};return new d.wda(this.Wc);};return n;})();b.rva=t;},41146:function(t,b,a){var c;function d(g){return function(f){function e(h){return null !== h && null !== h.target && h.target.uRa(g)(f);}e.Rxb=new c.Metadata(g,f);return e;};}function n(g,f){g=g.VF;return null !== g?f(g)?!0:n(g,f):!1;}Object.defineProperty(b,"__esModule",{value:!0});t=a(37425);c=a(67258);b.EJb=n;b.AIb=d;a=d(t.gH);b.Gyb=a;b.LJb=function(g){return function(f){var e;if(null !== f){e=f.J4[0];return "string" === typeof g?e.Fh === g:g === f.J4[0].rp;}return !1;};};},14577:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cyb=function(a){return function(d){return function(){for(var n=[],c=0;c < arguments.length;c++)n[c]=arguments[c];return n.forEach(function(g){return a.bind(g).$Kc(d);});};};};},69523:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);b.Kub=function(n){return n instanceof RangeError || n.message === d.OUb;};},72632:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(t,b,a){var e;function d(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function n(h,l){return null === h.VF?!1:h.VF.Fh === l?!0:n(h.VF,l);}function c(h){function l(k,m){var p;void 0 === m && (m=[]);p=d(k.Fh);m.push(p);return null !== k.VF?l(k.VF,m):m;}return l(h).reverse().join(" --\x3e ");}function g(h){h.eIa.forEach(function(l){if(n(l,l.Fh))throw (l=c(l),Error(e.HNb + " " + l));g(l);});}function f(h){var l;if(h.name)return h.name;h=h.toString();l=h.match(/^function\s*([^\s(]+)/);return l?l[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});e=a(25640);b.TW=d;b.hwb=function(h,l,k){var m;m="";h=k(h,l);0 !== h.length && (m="\nRegistered bindings:",h.forEach(function(p){var r;r="Object";null !== p.rp && (r=f(p.rp));m=m + "\n " + r;p.NN.Rxb && (m=m + " - " + p.NN.Rxb);}));return m;};b.f5b=g;b.Dqc=function(h,l){var k,m;if(l.cQa() || l.OPa()){k="";m=l.Wic();l=l.jhc();null !== m && (k+=m.toString() + "\n");null !== l && l.forEach(function(p){k+=p.toString() + "\n";});return " " + h + "\n " + h + " - " + k;}return " " + h;};b.getFunctionName=f;},9680:function(t){var n,c,g,f,e,h,l,k;function b(){return !1;}function a(m){try{if(d(m))return !1;n.call(m);return !0;}catch(p){return !1;}}function d(m){var p;try{p=n.call(m);return e.test(p);}catch(r){return !1;}}n=Function.prototype.toString;c="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof c && "function" === typeof Object.defineProperty)try{g=Object.defineProperty({},"length",{get:function(){throw f;}});f={};c(function(){throw 42;},null,g);}catch(m){m !== f && (c=null);}else c=null;e=/^\s*class\b/;h=Object.prototype.toString;l="function" === typeof Symbol && !!Symbol.toStringTag;k=!((0 in [,]));"object" === typeof document && h.call(document.all) === h.call(document.all) && (b=function(m){var p;if(!(!k && m || "undefined" !== typeof m && "object" !== typeof m))try{p=h.call(m);return ("[object HTMLAllCollection]" === p || "[object HTML document.all class]" === p || "[object HTMLCollection]" === p || "[object Object]" === p) && null == m("");}catch(r){}return !1;});t.exports=c?function(m){if(b(m))return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;try{c(m,null,g);}catch(p){if(p !== f)return !1;}return !d(m) && a(m);}:function(m){var p;if(b(m))return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;if(l)return a(m);if(d(m))return !1;p=h.call(m);return "[object Function]" === p || "[object GeneratorFunction]" === p || (/^\[object HTML/).test(p)?a(m):!1;};},54277:function(t,b,a){var d,n,c;d=Date.prototype.getDay;n=Object.prototype.toString;c=a(67226)();t.exports=function(g){if("object" !== typeof g || null === g)g=!1;else if(c)try{d.call(g);g=!0;}catch(f){g=!1;}else g="[object Date]" === n.call(g);return g;};},58786:function(t,b,a){var d,n,c,g,f,e,h;b=a(62680);if(a=a(67226)()){d=b("Object.prototype.hasOwnProperty");n=b("RegExp.prototype.exec");c={};g=function(){throw c;};f={toString:g,valueOf:g};"symbol" === typeof Symbol.toPrimitive && (f[Symbol.toPrimitive]=g);}e=b("Object.prototype.toString");h=Object.getOwnPropertyDescriptor;t.exports=a?function(l){var k;if(!l || "object" !== typeof l)return !1;k=h(l,"lastIndex");if(!k || !d(k,"value"))return !1;try{n(l,f);}catch(m){return m === c;}}:function(l){return !l || "object" !== typeof l && "function" !== typeof l?!1:"[object RegExp]" === e(l);};},26302:function(t,b,a){var d,n,c;d=String.prototype.valueOf;n=Object.prototype.toString;c=a(67226)();t.exports=function(g){if("string" === typeof g)g=!0;else if("object" !== typeof g)g=!1;else if(c)try{d.call(g);g=!0;}catch(f){g=!1;}else g="[object String]" === n.call(g);return g;};},88705:function(t,b,a){var d,n,c;d=Object.prototype.toString;if(a(32636)()){n=Symbol.prototype.toString;c=/^Symbol\(.*\)$/;t.exports=function(g){if("symbol" === typeof g)return !0;if("[object Symbol]" !== d.call(g))return !1;try{return "symbol" !== typeof g.valueOf()?!1:c.test(n.call(g));}catch(f){return !1;}};}else t.exports=function(){return !1;};},14383:function(t){t.exports=Math.abs;},45736:function(t){t.exports=Math.floor;},68806:function(t){t.exports=Number.isNaN || (function(b){return b !== b;});},27130:function(t){t.exports=Math.max;},22400:function(t){t.exports=Math.min;},23654:function(t){t.exports=Math.pow;},96890:function(t){t.exports=Math.round;},82026:function(t,b,a){var d;d=a(68806);t.exports=function(n){return d(n) || 0 === n?n:0 > n?-1:1;};},62082:function(t){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},r7:function(){return this.buffer.length - this.position;},Kla:function(){return this.buffer.length;},kt:function(){return this.buffer[this.position++];},pm:function(a){var d;d=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(d,this.position):a.slice(d,this.position);},ov:function(a){for(var d=0;a--;)d=256 * d + this.buffer[this.position++];return d;},cVa:function(a){for(var d="";a--;)d+=String.fromCharCode(this.buffer[this.position++]);return d;},Wi:function(){return this.ov(2);},pv:function(){return this.ov(4);},fZ:function(){return this.ov(8);},xC:function(a){for(var d,n="";a--;)(d=this.kt(),n+=("0123456789ABCDEF")[d >>> 4] + ("0123456789ABCDEF")[d & 15]);return n;},dVa:function(a){for(var d=0,n=0;n < a;n++)d+=this.kt() << (n << 3);return d;},eZ:function(){return this.dVa(4);},Mx:function(a){this.buffer[this.position++]=a;},ZLb:function(a,d){this.position+=d;for(var n=1;n <= d;n++)(this.buffer[this.position - n]=a & 255,a=Math.floor(a / 256));},h_a:function(a){for(var d=a.length,n=0;n < d;n++)this.buffer[this.position++]=a[n];},R_:function(a,d){this.h_a(a.pm(d));}};t.exports=b;},31503:function(t){t.exports=function(b,a){for(var d in b)b.hasOwnProperty(d) && (a[d]=b[d]);return a;};},27E3:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(13752);n=a(29636);c=a(67566);b["default"]=function(g){var f;g=new d.Tua(g);f=new c.rSb(g);return new n.qSb(g,f);};},13752:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.Hrc=d;}a.prototype.sqb=function(){var d;try{d=this.Hrc.getItem("gtp");if(d)return JSON.parse(d);}catch(n){}};a.prototype.ar=function(){var d;d=this.sqb();if(d && d.tp)return d.tp.a;};a.prototype.kic=function(){var d;d=this.QMa();if(d)return d.p25;};a.prototype.lic=function(){var d;d=this.QMa();if(d)return d.p50;};a.prototype.mic=function(){var d;d=this.QMa();if(d)return d.p75;};a.prototype.QMa=function(){var d;d=this.sqb();if(d && (d=d.iqr))return d;};return a;})();b.Tua=t;},29636:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d,n){this.lE=d;this.lpa=n;}a.prototype.ar=function(){return this.lE.ar();};return a;})();b.qSb=t;},67566:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.lE=d;}a.prototype.lpa=function(){var d,n,c;d=this.lE.kic();n=this.lE.lic();c=this.lE.mic();if("number" === typeof d && "number" === typeof n && "number" === typeof c)return (c - d) / n;};return a;})();b.rSb=t;},79809:function(t){t.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.na:Date.now;},94030:function(t,b,a){var g;function d(f,e,h,l,k,m,p){this.Kca=l;this.T_=f;this.lSa=e;this.aC=h;this.Apc=m;this.IK=p;this.split=k;}function n(){this.T={};this.T["0"]=new d("1","2","1","14","-0.0000100136",0,0);this.T["1"]=new d("3","4","3","20","-0.0000100136",0,0);this.T["3"]=new d("7","8","7","10","1.5",0,0);this.T["7"]=new d("15","16","15","9","4.5",0,0);this.T["15"]=new d("31","32","31","2","5.5",0,0);this.T["31"]=new d("63","64","63","29","-0.0000100136",0,0);this.T["63"]=new d("123","124","123","24","-0.0000100136",0,0);this.T["123"]=new d("123","124","123","0","0",1,.207298);this.T["124"]=new d("123","124","123","0","0",1,.49076);this.T["64"]=new d("125","126","125","4","40.5",0,0);this.T["125"]=new d("125","126","125","0","0",1,-.00157835);this.T["126"]=new d("125","126","125","0","0",1,.934205);this.T["32"]=new d("65","66","65","135","5.5",0,0);this.T["65"]=new d("127","128","128","4","1272.5",0,0);this.T["127"]=new d("127","128","128","0","0",1,-.510333);this.T["128"]=new d("127","128","128","0","0",1,.18363);this.T["66"]=new d("129","130","129","24","-0.0000100136",0,0);this.T["129"]=new d("129","130","129","0","0",1,-.0464542);this.T["130"]=new d("129","130","129","0","0",1,.458833);this.T["16"]=new d("33","34","34","10","2.00001",0,0);this.T["33"]=new d("67","68","67","0","29.5",0,0);this.T["67"]=new d("131","132","131","2","39.5",0,0);this.T["131"]=new d("131","132","131","0","0",1,-.37577);this.T["132"]=new d("131","132","131","0","0",1,.512087);this.T["68"]=new d("133","134","134","140","1.5",0,0);this.T["133"]=new d("133","134","134","0","0",1,.321272);this.T["134"]=new d("133","134","134","0","0",1,-.675396);this.T["34"]=new d("69","70","70","2","24.5",0,0);this.T["69"]=new d("135","136","136","9","28.5",0,0);this.T["135"]=new d("135","136","136","0","0",1,-.0573845);this.T["136"]=new d("135","136","136","0","0",1,-.507455);this.T["70"]=new d("137","138","137","45","-0.0000100136",0,0);this.T["137"]=new d("137","138","137","0","0",1,-.503909);this.T["138"]=new d("137","138","137","0","0",1,.450886);this.T["8"]=new d("17","18","17","4","44189.5",0,0);this.T["17"]=new d("35","36","35","2","21.5",0,0);this.T["35"]=new d("71","72","72","0","19.5",0,0);this.T["71"]=new d("139","140","140","9","2.5",0,0);this.T["139"]=new d("139","140","140","0","0",1,.00403497);this.T["140"]=new d("139","140","140","0","0",1,-.312656);this.T["72"]=new d("141","142","141","135","96",0,0);this.T["141"]=new d("141","142","141","0","0",1,-.465786);this.T["142"]=new d("141","142","141","0","0",1,.159633);this.T["36"]=new d("73","74","73","130","89.5",0,0);this.T["73"]=new d("143","144","144","10","4.5",0,0);this.T["143"]=new d("143","144","144","0","0",1,-.76265);this.T["144"]=new d("143","144","144","0","0",1,-.580804);this.T["74"]=new d("145","146","146","10","16.5",0,0);this.T["145"]=new d("145","146","146","0","0",1,.296357);this.T["146"]=new d("145","146","146","0","0",1,-.691659);this.T["18"]=new d("37","38","38","9","1.5",0,0);this.T["37"]=new d("37","38","38","0","0",1,.993951);this.T["38"]=new d("75","76","75","0","19",0,0);this.T["75"]=new d("147","148","147","39","-0.0000100136",0,0);this.T["147"]=new d("147","148","147","0","0",1,-.346535);this.T["148"]=new d("147","148","147","0","0",1,-.995745);this.T["76"]=new d("147","148","147","0","0",1,-.99978);this.T["4"]=new d("9","10","9","5","4.5",0,0);this.T["9"]=new d("19","20","19","2","4.5",0,0);this.T["19"]=new d("39","40","39","140","7.5",0,0);this.T["39"]=new d("77","78","78","134","6.5",0,0);this.T["77"]=new d("149","150","150","7","11.5",0,0);this.T["149"]=new d("149","150","150","0","0",1,.729843);this.T["150"]=new d("149","150","150","0","0",1,.383857);this.T["78"]=new d("151","152","151","133","4.5",0,0);this.T["151"]=new d("151","152","151","0","0",1,.39017);this.T["152"]=new d("151","152","151","0","0",1,.0434342);this.T["40"]=new d("79","80","79","133","3.5",0,0);this.T["79"]=new d("153","154","154","8","4.5",0,0);this.T["153"]=new d("153","154","154","0","0",1,-.99536);this.T["154"]=new d("153","154","154","0","0",1,-.00943396);this.T["80"]=new d("155","156","155","125","-0.0000100136",0,0);this.T["155"]=new d("155","156","155","0","0",1,.266272);this.T["156"]=new d("155","156","155","0","0",1,.959904);this.T["20"]=new d("41","42","42","10","65.5",0,0);this.T["41"]=new d("81","82","82","7","10.5",0,0);this.T["81"]=new d("157","158","158","2","37.5",0,0);this.T["157"]=new d("157","158","158","0","0",1,-.701873);this.T["158"]=new d("157","158","158","0","0",1,.224649);this.T["82"]=new d("159","160","159","133","9.5",0,0);this.T["159"]=new d("159","160","159","0","0",1,.0955181);this.T["160"]=new d("159","160","159","0","0",1,-.58962);this.T["42"]=new d("83","84","83","39","-0.0000100136",0,0);this.T["83"]=new d("161","162","161","135","31",0,0);this.T["161"]=new d("161","162","161","0","0",1,-.229692);this.T["162"]=new d("161","162","161","0","0",1,.88595);this.T["84"]=new d("163","164","164","1","13.5",0,0);this.T["163"]=new d("163","164","164","0","0",1,-.992157);this.T["164"]=new d("163","164","164","0","0",1,.922159);this.T["10"]=new d("21","22","22","4","486",0,0);this.T["21"]=new d("43","44","44","133","4.5",0,0);this.T["43"]=new d("85","86","86","10","4.5",0,0);this.T["85"]=new d("165","166","166","4","158.5",0,0);this.T["165"]=new d("165","166","166","0","0",1,-.127778);this.T["166"]=new d("165","166","166","0","0",1,.955189);this.T["86"]=new d("165","166","166","0","0",1,-.994012);this.T["44"]=new d("87","88","88","1","3.5",0,0);this.T["87"]=new d("167","168","168","135","7",0,0);this.T["167"]=new d("167","168","168","0","0",1,-.997015);this.T["168"]=new d("167","168","168","0","0",1,.400821);this.T["88"]=new d("169","170","169","130","36",0,0);this.T["169"]=new d("169","170","169","0","0",1,-.898638);this.T["170"]=new d("169","170","169","0","0",1,.56129);this.T["22"]=new d("45","46","45","9","2.5",0,0);this.T["45"]=new d("89","90","90","9","1.5",0,0);this.T["89"]=new d("171","172","171","10","10.5",0,0);this.T["171"]=new d("171","172","171","0","0",1,.573986);this.T["172"]=new d("171","172","171","0","0",1,-.627266);this.T["90"]=new d("173","174","173","31","-0.0000100136",0,0);this.T["173"]=new d("173","174","173","0","0",1,.925273);this.T["174"]=new d("173","174","173","0","0",1,-.994805);this.T["46"]=new d("91","92","91","136","5.5",0,0);this.T["91"]=new d("175","176","175","10","10.5",0,0);this.T["175"]=new d("175","176","175","0","0",1,.548352);this.T["176"]=new d("175","176","175","0","0",1,-.879195);this.T["92"]=new d("177","178","178","8","14.5",0,0);this.T["177"]=new d("177","178","178","0","0",1,.457305);this.T["178"]=new d("177","178","178","0","0",1,-.998992);this.T["2"]=new d("5","6","5","10","2.5",0,0);this.T["5"]=new d("11","12","11","9","4.5",0,0);this.T["11"]=new d("23","24","24","10","4.00001",0,0);this.T["23"]=new d("47","48","48","133","5.5",0,0);this.T["47"]=new d("93","94","93","3","13.5",0,0);this.T["93"]=new d("179","180","179","138","15.5",0,0);this.T["179"]=new d("179","180","179","0","0",1,.658398);this.T["180"]=new d("179","180","179","0","0",1,-.927007);this.T["94"]=new d("181","182","182","3","15.5",0,0);this.T["181"]=new d("181","182","182","0","0",1,-.111351);this.T["182"]=new d("181","182","182","0","0",1,-.99827);this.T["48"]=new d("95","96","95","7","167",0,0);this.T["95"]=new d("183","184","183","132","36.5",0,0);this.T["183"]=new d("183","184","183","0","0",1,.895161);this.T["184"]=new d("183","184","183","0","0",1,-.765217);this.T["96"]=new d("185","186","186","137","6.00001",0,0);this.T["185"]=new d("185","186","186","0","0",1,-.851095);this.T["186"]=new d("185","186","186","0","0",1,.674286);this.T["24"]=new d("49","50","49","137","5.5",0,0);this.T["49"]=new d("97","98","97","5","23.5",0,0);this.T["97"]=new d("187","188","187","3","28.5",0,0);this.T["187"]=new d("187","188","187","0","0",1,.951654);this.T["188"]=new d("187","188","187","0","0",1,-.993808);this.T["98"]=new d("187","188","187","0","0",1,-.99705);this.T["50"]=new d("187","188","187","0","0",1,-.997525);this.T["12"]=new d("25","26","25","8","8.5",0,0);this.T["25"]=new d("51","52","52","10","4.00001",0,0);this.T["51"]=new d("99","100","100","133","5.5",0,0);this.T["99"]=new d("189","190","190","7","40.5",0,0);this.T["189"]=new d("189","190","190","0","0",1,.151839);this.T["190"]=new d("189","190","190","0","0",1,-.855517);this.T["100"]=new d("191","192","192","133","14.5",0,0);this.T["191"]=new d("191","192","192","0","0",1,.86223);this.T["192"]=new d("191","192","192","0","0",1,.544394);this.T["52"]=new d("101","102","101","135","47.5",0,0);this.T["101"]=new d("193","194","194","4","24.5",0,0);this.T["193"]=new d("193","194","194","0","0",1,.946185);this.T["194"]=new d("193","194","194","0","0",1,.811859);this.T["102"]=new d("193","194","194","0","0",1,-.991561);this.T["26"]=new d("53","54","54","132","6.5",0,0);this.T["53"]=new d("103","104","103","131","85",0,0);this.T["103"]=new d("195","196","196","134","16.5",0,0);this.T["195"]=new d("195","196","196","0","0",1,.0473538);this.T["196"]=new d("195","196","196","0","0",1,-.999401);this.T["104"]=new d("197","198","198","8","15.5",0,0);this.T["197"]=new d("197","198","198","0","0",1,.816129);this.T["198"]=new d("197","198","198","0","0",1,-.99322);this.T["54"]=new d("105","106","105","133","3.5",0,0);this.T["105"]=new d("105","106","105","0","0",1,-.998783);this.T["106"]=new d("199","200","199","39","-0.0000100136",0,0);this.T["199"]=new d("199","200","199","0","0",1,.528588);this.T["200"]=new d("199","200","199","0","0",1,-.998599);this.T["6"]=new d("13","14","14","10","7.5",0,0);this.T["13"]=new d("27","28","28","133","7.5",0,0);this.T["27"]=new d("55","56","56","10","4.5",0,0);this.T["55"]=new d("107","108","107","3","3.5",0,0);this.T["107"]=new d("201","202","201","4","17.5",0,0);this.T["201"]=new d("201","202","201","0","0",1,-.379512);this.T["202"]=new d("201","202","201","0","0",1,.15165);this.T["108"]=new d("203","204","203","57","-0.0000100136",0,0);this.T["203"]=new d("203","204","203","0","0",1,-.884606);this.T["204"]=new d("203","204","203","0","0",1,.265406);this.T["56"]=new d("109","110","109","136","6.5",0,0);this.T["109"]=new d("205","206","205","4","157.5",0,0);this.T["205"]=new d("205","206","205","0","0",1,-.0142737);this.T["206"]=new d("205","206","205","0","0",1,.691279);this.T["110"]=new d("205","206","205","0","0",1,-.998086);this.T["28"]=new d("57","58","58","138","11.5",0,0);this.T["57"]=new d("111","112","112","2","6.5",0,0);this.T["111"]=new d("207","208","208","7","67.5",0,0);this.T["207"]=new d("207","208","208","0","0",1,.763925);this.T["208"]=new d("207","208","208","0","0",1,-.309645);this.T["112"]=new d("209","210","209","40","-0.0000100136",0,0);this.T["209"]=new d("209","210","209","0","0",1,-.306635);this.T["210"]=new d("209","210","209","0","0",1,.556696);this.T["58"]=new d("113","114","113","138","50.5",0,0);this.T["113"]=new d("211","212","212","8","25.5",0,0);this.T["211"]=new d("211","212","212","0","0",1,.508234);this.T["212"]=new d("211","212","212","0","0",1,.793551);this.T["114"]=new d("211","212","212","0","0",1,-.998438);this.T["14"]=new d("29","30","29","134","27.5",0,0);this.T["29"]=new d("59","60","60","7","17.5",0,0);this.T["59"]=new d("115","116","115","135","5.5",0,0);this.T["115"]=new d("213","214","214","137","5.5",0,0);this.T["213"]=new d("213","214","214","0","0",1,.401747);this.T["214"]=new d("213","214","214","0","0",1,.0367503);this.T["116"]=new d("215","216","216","8","5.5",0,0);this.T["215"]=new d("215","216","216","0","0",1,-.0241984);this.T["216"]=new d("215","216","216","0","0",1,-.999046);this.T["60"]=new d("117","118","117","0","12.5",0,0);this.T["117"]=new d("217","218","218","132","5.5",0,0);this.T["217"]=new d("217","218","218","0","0",1,-.997294);this.T["218"]=new d("217","218","218","0","0",1,.210398);this.T["118"]=new d("219","220","219","137","1.5",0,0);this.T["219"]=new d("219","220","219","0","0",1,-.55763);this.T["220"]=new d("219","220","219","0","0",1,.074493);this.T["30"]=new d("61","62","62","133","42.5",0,0);this.T["61"]=new d("119","120","119","135","5.5",0,0);this.T["119"]=new d("221","222","222","4","473.5",0,0);this.T["221"]=new d("221","222","222","0","0",1,-.920213);this.T["222"]=new d("221","222","222","0","0",1,-.17615);this.T["120"]=new d("223","224","224","5","144",0,0);this.T["223"]=new d("223","224","224","0","0",1,-.954295);this.T["224"]=new d("223","224","224","0","0",1,-.382538);this.T["62"]=new d("121","122","121","133","50",0,0);this.T["121"]=new d("225","226","226","10","18.5",0,0);this.T["225"]=new d("225","226","226","0","0",1,-.0731343);this.T["226"]=new d("225","226","226","0","0",1,.755454);this.T["122"]=new d("227","228","228","0","30",0,0);this.T["227"]=new d("227","228","228","0","0",1,.25);this.T["228"]=new d("227","228","228","0","0",1,-.997101);}function c(f,e,h,l,k,m){this.Qra=k;this.dja=m;}b=a(21457);g=a(79809);a={};a.o1b=new (function(){this.WWb=g();this.bb=0;this.update=function(){this.bb=g() - this.WWb;};this.type="num";})();a.Eqc=new (function(){this.type="cat";})();a.Fqc=new (function(){this.type="cat";})();a.Hqc=new (function(){this.type="cat";})();a.Iqc=new (function(){this.type="cat";})();a.Gqc=new (function(){this.type="cat";})();a.Jqc=new (function(){this.type="cat";})();a.Kqc=new (function(){this.type="cat";})();a.Lqc=new (function(){this.type="cat";})();a.Mqc=new (function(){this.type="cat";})();a.Nqc=new (function(){this.type="cat";})();a.Oqc=new (function(){this.type="cat";})();a.Pqc=new (function(){this.type="cat";})();a.Rqc=new (function(){this.type="cat";})();a.Sqc=new (function(){this.type="cat";})();a.Tqc=new (function(){this.type="cat";})();a.Qqc=new (function(){this.type="cat";})();a.i2b=new (function(){this.update=function(f){for(var e in f.ic)if("becauseYouAdded" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.j2b=new (function(){this.update=function(f){for(var e in f.ic)if("becauseYouLiked" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.l2b=new (function(){this.update=function(f){for(var e in f.ic)if("billboard" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.L6b=new (function(){this.update=function(f){for(var e in f.ic)if("continueWatching" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.k2b=new (function(){this.update=function(f){for(var e in f.ic)if("bigRow" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.hgc=new (function(){this.update=function(f){for(var e in f.ic)if("genre" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.Duc=new (function(){this.update=function(f){for(var e in f.ic)if("netflixOriginals" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.Luc=new (function(){this.update=function(f){for(var e in f.ic)if("newRelease" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.Czc=new (function(){this.update=function(f){for(var e in f.ic)if("popularTitles" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.Tf=new (function(){this.update=function(f){for(var e in f.ic)if("queue" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.hCc=new (function(){this.update=function(f){for(var e in f.ic)if("recentlyAdded" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.VHc=new (function(){this.update=function(f){for(var e in f.ic)if("similars" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.nLc=new (function(){this.update=function(f){for(var e in f.ic)if("trendingNow" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.LLc=new (function(){this.update=function(f){for(var e in f.ic)if("ultraHD" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.$Nc=new (function(){this.update=function(f){for(var e in f.ic)if("watchAgain" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.bLc=new (function(){this.update=function(f){for(var e in f.ic)if("topTen" === f.ic[e].context){this.bb=Math.max(f.ic[e].list.length,this.bb);break;}};this.type="num";this.bb=0;})();a.Q6b=new (function(){this.type="cat";})();a.R6b=new (function(){this.type="cat";})();a.S6b=new (function(){this.type="cat";})();a.T6b=new (function(){this.type="cat";})();a.U6b=new (function(){this.type="cat";})();a.V6b=new (function(){this.type="cat";})();a.W6b=new (function(){this.type="cat";})();a.X6b=new (function(){this.type="cat";})();a.Y6b=new (function(){this.type="cat";})();a.Z6b=new (function(){this.type="cat";})();a.$6b=new (function(){this.type="cat";})();a.a7b=new (function(){this.type="cat";})();a.b7b=new (function(){this.type="cat";})();a.c7b=new (function(){this.type="cat";})();a.d7b=new (function(){this.type="cat";})();a.e7b=new (function(){this.type="cat";})();a.f7b=new (function(){this.type="cat";})();a.g7b=new (function(){this.type="cat";})();a.h7b=new (function(){this.type="cat";})();a.i7b=new (function(){this.type="cat";})();a.j7b=new (function(){this.type="cat";})();a.k7b=new (function(){this.type="cat";})();a.l7b=new (function(){this.type="cat";})();a.m7b=new (function(){this.type="cat";})();a.n7b=new (function(){this.type="cat";})();a.o7b=new (function(){this.type="cat";})();a.p7b=new (function(){this.type="cat";})();a.q7b=new (function(){this.type="cat";})();a.r7b=new (function(){this.type="cat";})();a.s7b=new (function(){this.type="cat";})();a.t7b=new (function(){this.type="cat";})();a.u7b=new (function(){this.type="cat";})();a.v7b=new (function(){this.type="cat";})();a.w7b=new (function(){this.type="cat";})();a.x7b=new (function(){this.type="cat";})();a.y7b=new (function(){this.type="cat";})();a.z7b=new (function(){this.type="cat";})();a.A7b=new (function(){this.type="cat";})();a.B7b=new (function(){this.type="cat";})();a.C7b=new (function(){this.type="cat";})();a.D7b=new (function(){this.type="cat";})();a.E7b=new (function(){this.type="cat";})();a.F7b=new (function(){this.type="cat";})();a.G7b=new (function(){this.type="cat";})();a.H7b=new (function(){this.type="cat";})();a.I7b=new (function(){this.type="cat";})();a.J7b=new (function(){this.type="cat";})();a.K7b=new (function(){this.type="cat";})();a.L7b=new (function(){this.type="cat";})();a.M7b=new (function(){this.type="cat";})();a.N7b=new (function(){this.type="cat";})();a.O7b=new (function(){this.type="cat";})();a.P7b=new (function(){this.type="cat";})();a.Q7b=new (function(){this.type="cat";})();a.R7b=new (function(){this.type="cat";})();a.S7b=new (function(){this.type="cat";})();a.T7b=new (function(){this.type="cat";})();a.U7b=new (function(){this.type="cat";})();a.V7b=new (function(){this.type="cat";})();a.W7b=new (function(){this.type="cat";})();a.X7b=new (function(){this.type="cat";})();a.Y7b=new (function(){this.type="cat";})();a.Z7b=new (function(){this.type="cat";})();a.$7b=new (function(){this.type="cat";})();a.a8b=new (function(){this.type="cat";})();a.b8b=new (function(){this.type="cat";})();a.c8b=new (function(){this.type="cat";})();a.d8b=new (function(){this.type="cat";})();a.e8b=new (function(){this.type="cat";})();a.f8b=new (function(){this.type="cat";})();a.g8b=new (function(){this.type="cat";})();a.h8b=new (function(){this.type="cat";})();a.i8b=new (function(){this.type="cat";})();a.j8b=new (function(){this.type="cat";})();a.k8b=new (function(){this.type="cat";})();a.l8b=new (function(){this.type="cat";})();a.m8b=new (function(){this.type="cat";})();a.n8b=new (function(){this.type="cat";})();a.o8b=new (function(){this.type="cat";})();a.nCc=new (function(){this.type="cat";})();a.oCc=new (function(){this.type="cat";})();a.pCc=new (function(){this.type="cat";})();a.qCc=new (function(){this.type="cat";})();a.rCc=new (function(){this.type="cat";})();a.sCc=new (function(){this.type="cat";})();a.tCc=new (function(){this.type="cat";})();a.uCc=new (function(){this.type="cat";})();a.vCc=new (function(){this.type="cat";})();a.wCc=new (function(){this.type="cat";})();a.xCc=new (function(){this.type="cat";})();a.yCc=new (function(){this.type="cat";})();a.zCc=new (function(){this.type="cat";})();a.ACc=new (function(){this.type="cat";})();a.BCc=new (function(){this.type="cat";})();a.CCc=new (function(){this.type="cat";})();a.DCc=new (function(){this.type="cat";})();a.ECc=new (function(){this.type="cat";})();a.FCc=new (function(){this.type="cat";})();a.GCc=new (function(){this.type="cat";})();a.HCc=new (function(){this.type="cat";})();a.ICc=new (function(){this.type="cat";})();a.JCc=new (function(){this.type="cat";})();a.NJc=new (function(){this.update=function(f){"down" === f.direction && this.bb++;};this.type="num";this.bb=0;})();a.PJc=new (function(){this.update=function(f){"right" === f.direction && this.bb++;};this.type="num";this.bb=0;})();a.OJc=new (function(){this.update=function(f){"left" === f.direction && this.bb++;};this.type="num";this.bb=0;})();a.QJc=new (function(){this.update=function(f){"up" === f.direction && this.bb++;};this.type="num";this.bb=0;})();a.ftc=new (function(){this.bb=0;this.update=function(f){this.bb=Math.max(this.bb,f.rowIndex);};this.type="num";})();a.gtc=new (function(){this.bb=0;this.update=function(f){this.bb=Math.max(this.bb,f.Rjb);};this.type="num";})();a.mtc=new (function(){this.EM=this.bb=0;this.update=function(f){this.EM++;this.bb=1 * (this.bb + f.rowIndex) / this.EM;};this.type="num";})();a.ntc=new (function(){this.EM=this.bb=0;this.update=function(f){this.EM++;return this.bb=1 * (this.bb + f.Rjb) / this.EM;};this.type="num";})();a.oAc=new (function(){this.type="num";})();a.pAc=new (function(){this.type="num";})();n.prototype.IK=function(f){return this.ffb(this.T["0"].jFb(f),f);};n.prototype.ffb=function(f,e){return "string" == typeof f?this.ffb(this.T[f].jFb(e),e):f;};d.prototype.jFb=function(f){switch(this.Apc){case 0:switch(f.features[this.Kca].type){case "cat":return null === f.features[this.Kca].value?this.lSa:"missing" == f.features[this.Kca].value?this.aC:this.T_;case "num":return null === f.features[this.Kca].value?this.aC:f.features[this.Kca].value < this.split?this.T_:this.lSa;default:return this.aC;}case 1:return this.IK;default:return this.IK;}};b.declare({V9:["modelSelector","modelone"],Q5b:["colEpisodeList",5],wmc:["holdDuration",15E3],QEb:["rowFirst",2],Qjb:["colFirst",5],REb:["rowScroll",2],Sjb:["colScroll",6],FEc:["rowScrollHorizontal",6],mFc:["searchTop",3],Hlb:["cwFirst",2],T7:["horizontalItemsFocusedMode",3],Dpc:["itemsPerRank",1],Usc:["maxNumberPayloadsStored",10],wxb:["maxNumberTitlesScheduled",5],oYc:["enableDetailedLogging",!0],b3c:["rowStep",20],$Wc:["colStep",15],e2c:["pageRows",100],d2c:["pageColumns",75],tRa:["maskParamsList",new (function(){var f,e;this.tRa=[];this.vo={};this.Qra=20;this.dja=15;for(f=0;100 > f;f++)for(e=0;75 > e;e++)(Math.floor(f / this.Qra) + "_" + Math.floor(e / this.dja) in this.vo) || (this.vo[Math.floor(f / this.Qra) + "_" + Math.floor(e / this.dja)]=1,this.tRa.push(new c("grid",10,5,5,Math.floor(f / this.Qra),Math.floor(e / this.dja))));})().tRa],T:["nodes",new n().T],mapping:["mapping",{gtc:"0",ntc:"1",ftc:"2",mtc:"3",o1b:"4",QJc:"5",OJc:"6",PJc:"7",NJc:"8",pAc:"9",oAc:"10",Eqc:"11",Fqc:"12",Hqc:"13",Iqc:"14",Gqc:"15",Jqc:"16",Kqc:"17",Lqc:"18",Mqc:"19",Nqc:"20",Oqc:"21",Pqc:"22",Qqc:"23",Rqc:"24",Sqc:"25",Tqc:"26",nCc:"27",oCc:"28",pCc:"29",qCc:"30",rCc:"31",sCc:"32",tCc:"33",uCc:"34",vCc:"35",wCc:"36",xCc:"37",yCc:"38",zCc:"39",ACc:"40",BCc:"41",CCc:"42",DCc:"43",ECc:"44",FCc:"45",GCc:"46",HCc:"47",ICc:"48",JCc:"49",Q6b:"50",R6b:"51",S6b:"52",T6b:"53",U6b:"54",V6b:"55",W6b:"56",X6b:"57",Y6b:"58",Z6b:"59",$6b:"60",a7b:"61",b7b:"62",c7b:"63",d7b:"64",e7b:"65",f7b:"66",g7b:"67",h7b:"68",i7b:"69",j7b:"70",k7b:"71",l7b:"72",m7b:"73",n7b:"74",o7b:"75",p7b:"76",q7b:"77",r7b:"78",s7b:"79",t7b:"80",u7b:"81",v7b:"82",w7b:"83",x7b:"84",y7b:"85",z7b:"86",A7b:"87",B7b:"88",C7b:"89",D7b:"90",E7b:"91",F7b:"92",G7b:"93",H7b:"94",I7b:"95",J7b:"96",K7b:"97",L7b:"98",M7b:"99",N7b:"100",O7b:"101",P7b:"102",Q7b:"103",R7b:"104",S7b:"105",T7b:"106",U7b:"107",V7b:"108",W7b:"109",X7b:"110",Y7b:"111",Z7b:"112",$7b:"113",a8b:"114",b8b:"115",c8b:"116",d8b:"117",e8b:"118",f8b:"119",g8b:"120",h8b:"121",i8b:"122",j8b:"123",k8b:"124",l8b:"125",m8b:"126",n8b:"127",o8b:"128",$Nc:"129",hCc:"130",VHc:"131",Tf:"132",L6b:"133",hgc:"134",nLc:"135",bLc:"136",l2b:"137",Luc:"138",LLc:"139",Czc:"140",i2b:"141",k2b:"142",j2b:"143",Duc:"144"}],features:["features",a],FVc:["_modelName","tree"],CVc:["_format","xgboost"],EVc:["_itemsToKeep",5],DVc:["_itemsThreshold",null],BWc:["cacheLimit",20]});t.exports={config:b,R0c:c,wXc:d};},45578:function(t){t.exports={fD:{WCa:0,Cab:1,Lo:2,name:["transient","semiTransient","permanent"]},$C:{Q3a:0,Bab:1,Ifa:2,r2:3,BD:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},nVc:{XUc:0,sSc:1,aQc:2,BD:100,name:["trailer","montage","content"]},BA:{f6a:0,fab:1,tVb:2,OOb:3,BD:100,name:["left","right","up","down"]},R1:{XNb:0,Ifa:1,MRc:2,gRc:3,vPc:4,KRc:5,SMb:6,BD:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},YS:{r2:0,t2a:1,BD:100,name:["playFocused","detailsOpened"]}};},90638:function(t,b,a){var c,g,f,e,h,l,k,m,p,r;function d(q,u){this.um=q;this.fp=u;}function n(q){this.nb=q;this.reset();}c=a(79809);g=a(45578);b=a(76122);f=a(94030).config;e=b.fhc;h=b.Igc;l=b.Fac;k=b.Mvc;m=b.Lvc;p=b.Kvc;r=b.Iob;n.prototype.constructor=n;n.prototype.reset=function(){this.Qeb=void 0;this.Pm=[];this.Jeb=this.Keb=!1;};n.prototype.update=function(q,u){var v;this.Pm && (this.Pm=this.Pm.filter(this.FHc,this));if(!1 === this.Keb){v=e(q.ic).slice(0,f.Hlb);0 < v.length && (this.cQ(v,g.fD.Lo),this.Keb=!0,this.Pm=this.cS(v.concat(this.Pm)));}!1 === this.Jeb && (v=h(q.ic).slice(0,f.Hlb),0 < v.length && (this.cQ(v,g.fD.Lo),this.Jeb=!0,this.Pm=this.cS(v.concat(this.Pm))));switch(u){case g.$C.Q3a:u=this.ylc(q);break;case g.$C.Bab:u=this.Klc(q);break;case g.$C.Ifa:u=this.Llc(q);break;case g.$C.r2:u=this.Flc(q);break;default:u=this.ulc(q);}this.Qeb=q;return u;};n.prototype.ylc=function(q){q=k(q.ic,f.QEb,f.Qjb);this.cQ(q,g.fD.Lo);return this.Pm=this.cS(this.Pm.concat(q));};n.prototype.Klc=function(q){var u,v;this.nb.log("handleScrollHorizontal");u=q.ic;q=k(u,f.REb,f.Sjb);v=l(u,this.Qeb.ic);u=u[v].list.slice(0,f.FEc);u.concat(q);this.cQ(u,g.fD.WCa);return this.cS(u.concat(this.Pm));};n.prototype.cQ=function(q,u){q.forEach(function(v){if(void 0 === v.hI || v.hI < u)v.hI=u;void 0 === v.dL && (v.dL=c());void 0 === v.Wn && (v.Wn=c());});};n.prototype.Llc=function(q){this.nb.log("handleSearch");q=m(q.ic,f.mFc);this.cQ(q,g.fD.Cab);this.Pm=q.concat(this.Pm);return this.Pm=this.cS(this.Pm);};n.prototype.Flc=function(q){var u,v,w,x,y;this.nb.log("handlePlayFocus: ",f.T7);u=q.direction;v=q.ic;q=[];w=r(v);if(void 0 !== w.um)switch((q.push(w),u)){case g.BA.fab:for(u=1;u < f.T7;u++)q.push(new d(w.um,w.fp + u));q.push(new d(w.um - 1,w.fp));q.push(new d(w.um + 1,w.fp));break;case g.BA.f6a:for(u=1;u < f.T7;u++)q.push(new d(w.um,w.fp - u));q.push(new d(w.um - 1,w.fp));q.push(new d(w.um + 1,w.fp));break;case g.BA.tVb:q.push(new d(w.um - 1,w.fp));for(u=1;u <= f.T7 / 2;u++)(q.push(new d(w.um,w.fp + u)),q.push(new d(w.um,w.fp - u)));break;case g.BA.OOb:for((q.push(new d(w.um + 1,w.fp)),u=1);u <= f.T7 / 2;u++)(q.push(new d(w.um,w.fp + u)),q.push(new d(w.um,w.fp - u)));}x=[];q.forEach(function(A){y=p(v,A.um,A.fp);void 0 !== y && x.push(y);});this.cQ(x,g.fD.WCa);return this.cS(x.concat(this.Pm));};n.prototype.ulc=function(q){this.nb.log("ModelOne: handleDefaultCase");q=k(q.ic,f.REb,f.Sjb);this.cQ(q,g.fD.WCa);return this.cS(q.concat(this.Pm));};n.prototype.FHc=function(q){return q.hI == g.fD.Lo | q.hI == g.fD.Cab & c() - q.dL < f.wmc;};n.prototype.cS=function(q){var u,v,w,x,y,A,z;u=[];v={};x=0;y=q.length;for(w=0;w < y;w++){A=q[w].J;z=q[w];!1 === (A in v)?(u.push(z),v[A]=x,x++):(A=u[v[A]],z.Wn < A.Wn && (A.Wn=z.Wn),z.hI > A.hI && (A.hI=z.hI),z.dL > A.dL && (A.dL=z.dL));}return u;};t.exports=n;},7795:function(t){function b(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ph)return (this.Ph={},this.Ph[d]=[n],!0);c=this.Ph[d];return void 0 === c?(this.Ph[d]=[n],!0):0 > c.indexOf(n)?(c.push(n),!0):!1;}function a(d,n){d=this.Ph?this.Ph[d]:void 0;if(!d)return !1;d.forEach(function(c){c(n);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ph)return !1;c=this.Ph[d];if(void 0 === c)return !1;n=c.indexOf(n);if(0 > n)return !1;if(1 === c.length)return (delete this.Ph[d],!0);c.splice(n,1);return !0;},Fy:a,emit:a,removeAllListeners:function(d){this.Ph && (void 0 === d?delete this.Ph:delete this.Ph[d]);return this;}};},65267:function(t){function b(d,n,c,g){d.trace(":",c,":",g);n(g);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addEventListener=function(d,n,c,g){c=g?c.bind(g):c;g=!1;if(d){this.console && (c=b.bind(null,this.console,c,n));if("function" === typeof d.addEventListener)g=d.addEventListener(n,c);else if("function" === typeof d.addListener)g=d.addListener(n,c);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([d,n,c]);}return g;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(n){var c,g;c=n[0];g=n[1];n=n[2];"function" === typeof c.removeEventListener?c.removeEventListener(g,n):"function" === typeof c.removeListener && c.removeListener(g,n);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};t.exports=a;},41628:function(t,b,a){t.exports={EventEmitter:a(7795),lf:a(65267)};},99886:function(t,b,a){var g,f,e,h,l,k,m;function d(p,r,q,u,v,w){this.R=this.J=p;this.priority=r;this.re=q;w && w.We && (this.We=w.We);void 0 !== u && (this.PY=u);this.Wn=v;this.zb=w;}function n(p,r,q,u,v){e(void 0 !== u,"video preparer is null");e(void 0 !== v,"ui preparer is null");this.nb=r || console;this.nb=r;this.va=q;this.gZb=u;this.YYb=v;this.Peb=k.lUa;this.cU=[];this.DFa=!1;this.d3=0;new m().on(k,"changed",c,this);this.reset();}function c(){this.nb.log("config changed");k.lUa && (this.Peb=k.lUa);k.V9 !== this.YT && (this.reset(),this.yVa());}g=a(79809);f=a(45578);b=a(76122);e=b.assert;h=b.Iob;l=a(90638);k=a(94030).config;m=a(41628).lf;k.declare({lUa:["ppmConfig",{UPc:{wzb:0,vzb:2,szb:0,tzb:5,HGb:0},EUc:{wzb:0,vzb:1,szb:0,tzb:3,HGb:1E3},hQc:{wzb:0,vzb:1,szb:0,tzb:3,HGb:1E3}}]});n.prototype.constructor=n;n.prototype.reset=function(){this.pEa=!0;this.YT=k.V9;this.nb.log("create model: " + k.V9,k.QEb,k.Qjb);switch(k.V9){case "modelone":this.YT=new l(this.nb);break;default:this.YT=new l(this.nb);}};n.prototype.yVa=function(){var r,q;if(!1 === this.DFa){this.DFa=!0;for(var p=0;p < this.cU.length;p++){this.nb.log("PlayPredictionModel replay: ",JSON.stringify(this.cU[p]));r=this.xkb(this.cU[p]);q=this.Bpb(r);this.YT.update(r,q);this.pEa=!1;}this.cU=[];}};n.prototype.update=function(p){var r,q,u;this.nb.log("PlayPredictionModel update: ",JSON.stringify(p));if(p && p.ic && p.ic[0]){!1 === this.DFa && this.cU.length < k.Usc && this.cU.push(p);r=this.xkb(p);q=this.Bpb(r);this.nb.log("actionType",q);r="mlmodel" == k.V9?this.YT.update(p,q):this.YT.update(r,q);r=this.dgc(r,k.Dpc || 1);this.nb.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(r));0 === this.d3 && (this.d3=g(),this.va && this.va.vaa && this.va.vaa({Bac:this.d3}));if(this.va && this.va.rDc){this.phc();u=[];r.forEach(function(v){u.push({s4c:v.J});});JSON.stringify(p);JSON.stringify(r);}this.gZb.GQ(r);this.YYb.GQ(r);this.pEa=!1;}};n.prototype.phc=function(){g();};n.prototype.vaa=function(){this.d3=g();this.va && this.va.vaa && this.va.vaa({Bac:this.d3});};n.prototype.xkb=function(p){var r,q,u,v,w;r={};u=p.ic || [];v=(function(x){var y,A;y={};w=f.R1.name.indexOf(x.context);y.context=0 <= w?w:f.R1.BD;y.rowIndex=x.rowIndex;y.requestId=x.requestId;y.list=[];q=x.list || [];q.forEach((function(z){A={J:z.J,re:z.re,index:z.index,PY:z.PY,Rqa:z.Rqa,list:z.list,zb:z.zb};void 0 !== z.property && (w=f.YS.name.indexOf(z.property),A.property=0 <= w?w:f.YS.BD);y.list.push(A);}).bind(this));r.ic.push(y);}).bind(this);if(void 0 !== p.direction){w=f.BA.name.indexOf(p.direction);r.direction=0 <= w?w:f.BA.BD;}void 0 !== p.B6 && (r.WYc=p.B6.rowIndex,r.VYc=p.B6.V5b);r.B6=p.B6;r.ic=[];u.forEach(v);return r;};n.prototype.Bpb=function(p){var r,q,u;r=p.direction || f.BA.BD;q=p.B6;u=p.ic || [];!0 === this.pEa?p=f.$C.Q3a:!0 === u.some(this.dmc)?(p=f.$C.r2,this.Era(u,r,q)):p=u[0].context === f.R1.Ifa?f.$C.Ifa:r === f.BA.fab || r === f.BA.f6a?f.$C.Bab:f.$C.BD;return p;};n.prototype.dmc=function(p){return (p.list || []).some(function(r){return r.property === f.YS.r2 || r.property === f.YS.t2a;});};n.prototype.Era=function(p,r,q){var u,v;this.nb.log("reportPlayFocusEvent: ",r,q);u={};v=h(p);this.va && this.va.Era && (u.CYc=g(),u.direction=f.BA.name[r],q && (u.rowIndex=q.rowIndex,u.Rjb=q.V5b),void 0 !== v.um && (u.requestId=p[v.um].requestId),this.va.Era && this.va.Era(u));};n.prototype.dgc=function(p,r){for(var q=p.length,u=[],v,w,x,y,A=0;A < q;A++){w=p[A];v=Math.floor(A / r) + 1;if(void 0 !== w.list){x=w.list;y=x.length;for(var z=0;z < Math.min(k.Q5b,y) && !(x[z].Wn=w.Wn,this.ogb(x[z],v,u),u.length >= k.wxb);z++);}else this.ogb(w,v,u);if(u.length >= k.wxb)break;}return u;};n.prototype.ogb=function(p,r,q){var v,w;function u(x){x.We && (x.zb || (x.zb={}),x.zb.We=x.We);return x.zb;}v=p.Rqa;if(void 0 !== v && v instanceof Array)v.forEach(function(x){void 0 !== x.J && (w=u(x),q.push(new d(x.J,r,x.re,x.PY,p.Wn,w)));});else if(void 0 !== v && void 0 !== v.J){v=p.Rqa;w=u(v);q.push(new d(v.J,r,v.re,v.PY,p.Wn,w));}void 0 !== p.J && (w=u(p),q.push(new d(p.J,r,p.re,p.PY,p.Wn,w)));};n.prototype.QO=function(p){var r;r=this.Peb;return p?r[p]:r;};t.exports=n;},76122:function(t,b,a){var n;function d(c){for(var g="",f=0;f < c.length;f++)g+=c[f].J + "|";return g;}n=a(45578);t.exports={assert:function(c,g){if(!c)throw Error("PlayPredictionModel assertion failed" + (g?" : " + g:""));},A_c:function(c,g,f){Array.prototype.splice.apply(c,[g,0].concat(f));},fhc:function(c){for(var g=[],f=0;f < c.length;f++)if(c[f].context === n.R1.XNb){g=c[f].list;break;}return g;},Igc:function(c){for(var g=[],f=0;f < c.length;f++)if(c[f].context === n.R1.SMb){g=c[f].list;break;}return g;},Fac:function(c,g){for(var f=0,e,h,l,k=0,m=c.length - 1;k < m;k++){e=d(c[k].list || []);l=!1;for(var p=0,r=g.length;p < r;p++)if((h=d(g[p].list || []),h == e)){l=!0;break;}if(!1 === l){f=k;break;}}return f;},Mvc:function(c,g,f){for(var e=[],h,l=0;l < Math.min(g,c.length);l++)(h=c[l].list || [],e=e.concat(h.slice(0,f)));return e;},Lvc:function(c,g){for(var f=[],e,h=0;h < c.length && (e=c[h].list || [],e=e.slice(0,Math.min(e.length,g)),g-=e.length,f=f.concat(e),0 !== g);h++);return f;},Kvc:function(c,g,f){var e;g < c.length && 0 <= g && (c=c[g].list || [],f < c.length && (e=c[f]));return e;},Iob:function(c){for(var g={},f=c.length,e,h=0;h < f;h++){e=c[h].list || [];for(var l=0;l < e.length;l++)if(e[l].property === n.YS.r2 || e[l].property === n.YS.t2a){g.um=h;g.fp=l;break;}}void 0 === g.um && void 0 === g.fp && (g.um=0,g.fp=0);return g;}};},21457:function(t,b,a){var h,l,k,m,p,r,q,u;function d(v){return v.split(",").reduce(function(w,x){var y;y=x.split("=");x=y[0];y=y.slice(1).join("=");x && x.length && (w[x]=y || !0);return w;},{});}function n(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function c(v,w,x){var y;if("string" === typeof v)return c.call(this,d(v),w,x);y=0;Object.keys(v).forEach(function(A){var z,B,C;z=p[A];B=v[A];if(z){if(C=r[A] || u[typeof h[z]])try{B=C(B);}catch(D){x && x.error("Failed to convert value '" + B + "' for config '" + A + "' : " + D.toString());return;}C=m[z];this[z]=B;m[z] !== C && (x && x.debug("Config changed for '" + A + "' from " + n(C) + " (" + typeof C + ") to " + n(B) + " (" + typeof B + ")"),++y);}else w?(z=(z=q[A])?z.filter(function(D){return D[0] !== this;},this):[],z.push([this,B]),q[A]=z):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);y && m.emit("changed");return y;}function g(){return Object.keys(p).reduce(function(v,w){var x,y;x=p[w];y=v[x];y?(y.push(w),v[x]=y.sort(function(A,z){return z.length - A.length;})):v[x]=[w];return v;},{});}function f(v,w){return v.hasOwnProperty(w)?n(v[w]):void 0;}function e(v,w){return "undefined" === typeof v?w:v;}b=a(31503);a=a(37911).EventEmitter;h={};l=Object.create(h);k=Object.create(l);m=Object.create(k);p={};r={};q={};m.declare=function(v){Object.keys(v).forEach(function(w){var x,y,A,z;x=v[w];y=x[0];A=x[1];z=x[2];if(h.hasOwnProperty(w))throw Error("The local configuraion key '" + w + "' is already in use");"string" === typeof y && (y=[y]);y.forEach(function(B){var C;if(p.hasOwnProperty(B))throw Error("The configuration value '" + B + "' has been declared more than once");h.hasOwnProperty(w) || ("function" === typeof A && (A=A()),h[w]=A);p[B]=w;"function" === typeof z && (r[B]=z);if(C=q[B])(C.forEach(function(D){var F,H;F=D[0];H={};H[B]=D[1];c.call(F,H,!1);}),delete q[B]);});});return m;};u={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};m.set=c.bind(l);m.mTa=c.bind(k);m.dump=function(v,w){var y,A,z,B;function x(){B && v && v.log("===========================================");}y=Object.keys(q).sort();A={};z=g();w=e(w,!0);Object.keys(p).sort().forEach(function(C){var D,F,H;C=p[C];if(!A[C]){A[C]=!0;D=f(l,C);F=f(k,C);if(w || "undefined" !== typeof D || "undefined" !== typeof F){H=z[C].join(",");H+=" = " + n(m[C]) + " (" + typeof m[C] + ") [";H+=e(F,"<unset>") + ",";H+=e(D,"<unset>") + ",";H+=f(h,C) + "]";B || (B=!0,v && v.log("Current config values"),x());v && v.log(H);}}});(w || y.length) && v && v.log("<undeclared> :",y);x();};m.xs=function(v){var w,x;w={};x={};Object.keys(p).forEach(function(y){y=p[y];x[y] || (x[y]=!0,w[y]=m[y]);});v && c.call(w,v);return w;};m.Oyc=function(){var v;v=g();return Object.getOwnPropertyNames(l).reduce(function(w,x){w[v[x][0]]=l[x];return w;},{});};m.reset=function(){Object.keys(l).forEach(function(v){delete l[v];});};m.Ph={};b(a,m);t.exports=Object.freeze(m);},76295:function(t){function b(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Ph)return (this.Ph={},this.Ph[d]=[n],!0);c=this.Ph[d];return void 0 === c?(this.Ph[d]=[n],!0):0 > c.indexOf(n)?(c.push(n),!0):!1;}function a(d,n){d=this.Ph?this.Ph[d]:void 0;if(!d)return !1;d.forEach(function(c){c(n);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Ph)return !1;c=this.Ph[d];if(void 0 === c)return !1;n=c.indexOf(n);if(0 > n)return !1;if(1 === c.length)return (delete this.Ph[d],!0);c.splice(n,1);return !0;},Fy:a,emit:a,removeAllListeners:function(d){this.Ph && (void 0 === d?delete this.Ph:delete this.Ph[d]);return this;}};},92653:function(t){function b(d,n,c,g){d.trace(":",c,":",g);n(g);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addEventListener=function(d,n,c,g){c=g?c.bind(g):c;g=!1;if(d){this.console && (c=b.bind(null,this.console,c,n));if("function" === typeof d.addEventListener)g=d.addEventListener(n,c);else if("function" === typeof d.addListener)g=d.addListener(n,c);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([d,n,c]);}return g;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(n){var c,g;c=n[0];g=n[1];n=n[2];"function" === typeof c.removeEventListener?c.removeEventListener(g,n):"function" === typeof c.removeListener && c.removeListener(g,n);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};t.exports=a;},37911:function(t,b,a){t.exports={EventEmitter:a(76295),lf:a(92653)};},17267:function(t){var b;b={ec:function(a){return "number" === typeof a;},mz:function(a){return "object" === typeof a;},Zh:function(a){return "string" === typeof a;},Ts:function(a){return "undefined" === typeof a;},G_c:function(a){return "boolean" === typeof a;},Nw:function(a){return "function" === typeof a;},cd:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,d){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,d);},Rxc:function(a){var d,n;n=[];if(!b.mz(a))throw new TypeError("Object.pairs called on non-object");for(d in a)a.hasOwnProperty(d) && n.push([d,a[d]]);return n;}};b.X5=b.forEach=function(a,d,n){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var c=0,g=a.length;c < g;c++)d.call(n,a[c],c,a);else for(c in a)b.has(a,c) && d.call(n,a[c],c,a);return a;};t.exports=b;},75691:function(t,b,a){var d,n,c,g,f,e,h,l,k,m;if(!Object.keys){d=Object.prototype.hasOwnProperty;n=Object.prototype.toString;c=a(30801);b=Object.prototype.propertyIsEnumerable;g=!b.call({toString:null},"toString");f=b.call(function(){},"prototype");e=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");h=function(p){var r;r=p.constructor;return r && r.prototype === p;};l={FOc:!0,GOc:!0,HOc:!0,IOc:!0,JOc:!0,KOc:!0,LOc:!0,MOc:!0,NOc:!0,OOc:!0,POc:!0,QOc:!0,ROc:!0,SOc:!0,TOc:!0,UOc:!0,VOc:!0,WOc:!0,XOc:!0,YOc:!0,ZOc:!0,$Oc:!0,aPc:!0};k=(function(){if("undefined" === typeof Ba)return !1;for(var p in Ba)try{if(!l["$" + p] && d.call(Ba,p) && null !== Ba[p] && "object" === typeof Ba[p])try{h(Ba[p]);}catch(r){return !0;}}catch(r){return !0;}return !1;})();m=function(p){var r,q,u,v,w,y;r=null !== p && "object" === typeof p;q="[object Function]" === n.call(p);u=c(p);v=r && "[object String]" === n.call(p);w=[];if(!r && !q && !u)throw new TypeError("Object.keys called on a non-object");r=f && q;if(v && 0 < p.length && !d.call(p,0))for(v=0;v < p.length;++v)w.push(String(v));if(u && 0 < p.length)for(u=0;u < p.length;++u)w.push(String(u));else for(var x in p)r && "prototype" === x || !d.call(p,x) || w.push(String(x));if(g){if("undefined" !== typeof Ba && k)try{y=h(p);}catch(A){y=!1;}else y=h(p);for(u=0;u < e.length;++u)y && "constructor" === e[u] || !d.call(p,e[u]) || w.push(e[u]);}return w;};}t.exports=m;},33464:function(t,b,a){var d,n,c,g,f;d=Array.prototype.slice;n=a(30801);c=Object.keys;g=c?function(e){return c(e);}:a(75691);f=Object.keys;g.rHc=function(){Object.keys?(function(){var e;e=Object.keys(arguments);return e && e.length === arguments.length;})(1,2) || (Object.keys=function(e){return n(e)?f(d.call(e)):f(e);}):Object.keys=g;return Object.keys || g;};t.exports=g;},30801:function(t){var b;b=Object.prototype.toString;t.exports=function(a){var d,n;d=b.call(a);n="[object Arguments]" === d;n || (n="[object Array]" !== d && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return n;};},61386:function(t,b,a){var f,e,h,l;function d(k){var m,p,r;if("Object" !== h(this))throw new TypeError("receiver is not an Object");m=e(this,l);p=k;r=k;f(k) && (p=c(m,k),r=n(m,k));return this.then(p,r);}function n(k,m){return function(p){var r;r=m();return g(k,r).then(function(){throw p;});};}function c(k,m){return function(p){var r;r=m();return g(k,r).then(function(){return p;});};}function g(k,m){return new k(function(p){p(m);});}a(57897)();f=a(83317);e=a(88251);h=a(18132);l=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(d,"name")) && b.configurable && Object.defineProperty(d,"name",{configurable:!0,value:"finally"});t.exports=d;},32887:function(t,b,a){var d,n;d=a(57897);n=a(61386);t.exports=function(){d();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:n;};},57897:function(t){t.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(t,b,a){var d,n,c;d=a(57897);n=a(32887);c=a(14926);t.exports=function(){var g;d();g=n();c(Promise.prototype,{"finally":g},{"finally":function(){return Promise.prototype["finally"] !== g;}});return g;};},23614:function(t,b,a){var d;d=a(35375);b=a(31187)(function(n,c){return d(n.length,function(){return n.apply(c,arguments);});});t.exports=b;},57301:function(t,b,a){var d,n,c,g,f;b=a(31187);d=a(55446);n=a(89028);c=a(77894);g=a(67758);f=a(75850);a=b(function(e,h){return n(f(c,0,g("length",h)),function(){var l,k;l=arguments;k=this;return e.apply(k,d(function(m){return m.apply(k,l);},h));});});t.exports=a;},89028:function(t,b,a){var d,n,c;d=a(35375);n=a(16805);b=a(31187);c=a(16500);a=b(function(g,f){return 1 === g?n(f):d(g,c(g,[],f));});t.exports=a;},5154:function(t,b,a){var d;d=a(25701);b=a(20239)(function(n,c,g){for(var f=[],e=0,h=c.length;e < h;)(d(n,c[e],g) || d(n,c[e],f) || f.push(c[e]),e+=1);return f;});t.exports=b;},42514:function(t,b,a){var d,n,c,g,f,e;b=a(31187);d=a(8414);n=a(46458);c=a(78678);g=a(18468);f=a(14128);e=a(93358);a=b(d(["filter"],f,function(h,l){return c(l)?g(function(k,m){h(l[m]) && (k[m]=l[m]);return k;},{},e(l)):n(h,l);}));t.exports=a;},56663:function(t,b,a){b=a(31187)(function(d,n){for(var c=[],g=0,f=n.length;g < f;){for(var e=g + 1;e < f && d(n[e - 1],n[e]);)e+=1;c.push(n.slice(g,e));g=e;}return c;});t.exports=b;},35375:function(t){t.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(d){return a.apply(this,arguments);};case 2:return function(d,n){return a.apply(this,arguments);};case 3:return function(d,n,c){return a.apply(this,arguments);};case 4:return function(d,n,c,g){return a.apply(this,arguments);};case 5:return function(d,n,c,g,f){return a.apply(this,arguments);};case 6:return function(d,n,c,g,f,e){return a.apply(this,arguments);};case 7:return function(d,n,c,g,f,e,h){return a.apply(this,arguments);};case 8:return function(d,n,c,g,f,e,h,l){return a.apply(this,arguments);};case 9:return function(d,n,c,g,f,e,h,l,k){return a.apply(this,arguments);};case 10:return function(d,n,c,g,f,e,h,l,k,m){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(t){t.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(t){t.exports=function(b,a){var d,n,c,g;b=b || [];a=a || [];n=b.length;c=a.length;g=[];for(d=0;d < n;)(g[g.length]=b[d],d+=1);for(d=0;d < c;)(g[g.length]=a[d],d+=1);return g;};},25701:function(t){t.exports=function(b,a,d){for(var n=0,c=d.length;n < c;){if(b(a,d[n]))return !0;n+=1;}return !1;};},16805:function(t,b,a){var d;d=a(28198);t.exports=function(n){return function f(g){return 0 === arguments.length || d(g)?f:n.apply(this,arguments);};};},31187:function(t,b,a){var d,n;d=a(16805);n=a(28198);t.exports=function(c){return function h(f,e){switch(arguments.length){case 0:return h;case 1:return n(f)?h:d(function(l){return c(f,l);});default:return n(f) && n(e)?h:n(f)?d(function(l){return c(l,e);}):n(e)?d(function(l){return c(f,l);}):c(f,e);}};};},20239:function(t,b,a){var d,n,c;d=a(16805);n=a(31187);c=a(28198);t.exports=function(g){return function k(e,h,l){switch(arguments.length){case 0:return k;case 1:return c(e)?k:n(function(m,p){return g(e,m,p);});case 2:return c(e) && c(h)?k:c(e)?n(function(m,p){return g(m,h,p);}):c(h)?n(function(m,p){return g(e,m,p);}):d(function(m){return g(e,h,m);});default:return c(e) && c(h) && c(l)?k:c(e) && c(h)?n(function(m,p){return g(m,p,l);}):c(e) && c(l)?n(function(m,p){return g(m,h,p);}):c(h) && c(l)?n(function(m,p){return g(e,m,p);}):c(e)?d(function(m){return g(m,h,l);}):c(h)?d(function(m){return g(e,m,l);}):c(l)?d(function(m){return g(e,h,m);}):g(e,h,l);}};};},16500:function(t,b,a){var n,c;function d(g,f,e){return function(){var p;for(var h=[],l=0,k=g,m=0;m < f.length || l < arguments.length;){if(m < f.length && (!c(f[m]) || l >= arguments.length))p=f[m];else (p=arguments[l],l+=1);h[m]=p;c(p) || --k;m+=1;}return 0 >= k?e.apply(this,h):n(k,d(g,h,e));};}n=a(35375);c=a(28198);t.exports=d;},8414:function(t,b,a){var d,n;d=a(84357);n=a(11972);t.exports=function(c,g,f){return function(){var e,h;if(0 === arguments.length)return f();e=Array.prototype.slice.call(arguments,0);h=e.pop();if(!d(h)){for(var l=0;l < c.length;){if("function" === typeof h[c[l]])return h[c[l]].apply(h,e);l+=1;}if(n(h))return g.apply(null,e)(h);}return f.apply(this,arguments);};};},46458:function(t){t.exports=function(b,a){for(var d=0,n=a.length,c=[];d < n;)(b(a[d]) && (c[c.length]=a[d]),d+=1);return c;};},58380:function(t){t.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(t,b,a){var d,n;d=a(58380);n=Object.prototype.toString;t.exports=function(){return "[object Arguments]" === n.call(arguments)?function(c){return "[object Arguments]" === n.call(c);}:function(c){return d("callee",c);};};},84357:function(t){t.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(t,b,a){var d,n;b=a(16805);d=a(84357);n=a(86807);a=b(function(c){return d(c)?!0:!c || "object" !== typeof c || n(c)?!1:1 === c.nodeType?!!c.length:0 === c.length?!0:0 < c.length?c.hasOwnProperty(0) && c.hasOwnProperty(c.length - 1):!1;});t.exports=a;},78678:function(t){t.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(t){t.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(t){t.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(t){t.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(t){t.exports=function(b,a){for(var d=0,n=a.length,c=Array(n);d < n;)(c[d]=b(a[d]),d+=1);return c;};},18468:function(t,b,a){var c,g,f,e;function d(h,l,k){for(var m=k.next();!m.done;){if((l=h["@@transducer/step"](l,m.value)) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}m=k.next();}return h["@@transducer/result"](l);}function n(h,l,k,m){return h["@@transducer/result"](k[m](f(h["@@transducer/step"],h),l));}c=a(33905);g=a(71402);f=a(23614);e="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(h,l,k){"function" === typeof h && (h=g(h));if(c(k)){for(var m=0,p=k.length;m < p;){if((l=h["@@transducer/step"](l,k[m])) && l["@@transducer/reduced"]){l=l["@@transducer/value"];break;}m+=1;}return h["@@transducer/result"](l);}if("function" === typeof k["fantasy-land/reduce"])return n(h,l,k,"fantasy-land/reduce");if(null != k[e])return d(h,l,k[e]());if("function" === typeof k.next)return d(h,l,k);if("function" === typeof k.reduce)return n(h,l,k,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(t){t.exports={Sb:function(){return this.bda["@@transducer/init"]();},result:function(b){return this.bda["@@transducer/result"](b);}};},14128:function(t,b,a){var d,n;b=a(31187);d=a(18610);n=(function(){function c(g,f){this.bda=f;this.f=g;}c.prototype["@@transducer/init"]=d.Sb;c.prototype["@@transducer/result"]=d.result;c.prototype["@@transducer/step"]=function(g,f){return this.f(f)?this.bda["@@transducer/step"](g,f):g;};return c;})();a=b(function(c,g){return new n(c,g);});t.exports=a;},94406:function(t,b,a){var d,n;b=a(31187);d=a(18610);n=(function(){function c(g,f){this.bda=f;this.f=g;}c.prototype["@@transducer/init"]=d.Sb;c.prototype["@@transducer/result"]=d.result;c.prototype["@@transducer/step"]=function(g,f){return this.bda["@@transducer/step"](g,this.f(f));};return c;})();a=b(function(c,g){return new n(c,g);});t.exports=a;},71402:function(t){var b;b=(function(){function a(d){this.f=d;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(d){return d;};a.prototype["@@transducer/step"]=function(d,n){return this.f(d,n);};return a;})();t.exports=function(a){return new b(a);};},72849:function(t,b,a){var d;b=a(16805);d=a(57301);a=b(function(n){return d(function(){return Array.prototype.slice.call(arguments,0);},n);});t.exports=a;},93358:function(t,b,a){var d,n,c,g,f;b=a(16805);d=a(58380);n=a(46546);c=!({toString:null}).propertyIsEnumerable("toString");g=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");f=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || f?function(e){var h,l,k,m;if(Object(e) !== e)return [];h=[];l=f && n(e);for(k in e)!d(k,e) || l && "length" === k || (h[h.length]=k);if(c)for(l=g.length - 1;0 <= l;){k=g[l];if(m=d(k,e)){a:{for(m=0;m < h.length;){if(h[m] === k){m=!0;break a;}m+=1;}m=!1;}m=!m;}m && (h[h.length]=k);--l;}return h;}:function(e){return Object(e) !== e?[]:Object.keys(e);});t.exports=a;},81057:function(t,b,a){var d,n,c,g,f,e;b=a(31187);d=a(8414);n=a(55446);c=a(18468);g=a(94406);f=a(89028);e=a(93358);a=b(d(["fantasy-land/map","map"],g,function(h,l){switch(Object.prototype.toString.call(l)){case "[object Function]":return f(l.length,function(){return h.call(this,l.apply(this,arguments));});case "[object Object]":return c(function(k,m){k[m]=h(l[m]);return k;},{},e(l));default:return n(h,l);}}));t.exports=a;},77894:function(t,b,a){b=a(31187)(function(d,n){return n > d?n:d;});t.exports=b;},29664:function(t,b,a){var d;b=a(20239);d=a(29924);a=b(function(n,c,g){return d(function(f,e,h){return n(e,h);},c,g);});t.exports=a;},29924:function(t,b,a){var d,n;b=a(20239);d=a(78678);n=a(48796);a=b(function h(g,f,e){return n(function(l,k,m){return d(k) && d(m)?h(g,k,m):g(l,k,m);},f,e);});t.exports=a;},48796:function(t,b,a){var d;b=a(20239);d=a(58380);a=b(function(n,c,g){var f,e;f={};for(e in c)d(e,c) && (f[e]=d(e,g)?n(e,c[e],g[e]):c[e]);for(e in g)d(e,g) && !d(e,f) && (f[e]=g[e]);return f;});t.exports=a;},31435:function(t,b,a){var d;b=a(42514);d=a(72849);a=a(64580);a=d([b,a]);t.exports=a;},23335:function(t,b,a){b=a(31187)(function(d,n){for(var c=0;c < d.length;){if(null == n)return;n=n[d[c]];c+=1;}return n;});t.exports=b;},67758:function(t,b,a){var d,n;b=a(31187);d=a(81057);n=a(38695);a=b(function(c,g){return d(n(c),g);});t.exports=a;},38695:function(t,b,a){var d;b=a(31187);d=a(23335);a=b(function(n,c){return d([n],c);});t.exports=a;},75850:function(t,b,a){b=a(20239);a=a(18468);a=b(a);t.exports=a;},64580:function(t,b,a){var d,n;d=a(48925);b=a(31187);n=a(42514);a=b(function(c,g){return n(d(c),g);});t.exports=a;},60024:function(t,b,a){var d,n;d=a(86614);b=a(20239);n=a(25228);a=b(function(c,g,f){return n(c,d(g,f));});t.exports=a;},25228:function(t,b,a){var d;d=a(25701);b=a(31187)(function(n,c){for(var g=0,f=c.length,e=[],h;g < f;)(h=c[g],d(n,h,e) || (e[e.length]=h),g+=1);return e;});t.exports=b;},1738:function(t,b,a){var d;(function(n){(function(c){var f,e;function g(h,l){return function(k,m){"function" !== typeof h[k] && Object.defineProperty(h,k,{configurable:!0,writable:!0,value:m});l && l(k,m);};}f="object" === typeof a.wW?a.wW:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();e=g(n);"undefined" === typeof f.Reflect?f.Reflect=n:e=g(f.Reflect,e);c(e);})(function(c){var F,H,E,G,K,N,I,L,O,J,Q;function g(P,S,Y){var X;X=Q.get(P);if(r(X)){if(!Y)return;X=new O();Q.set(P,X);}P=X.get(S);if(r(P)){if(!Y)return;P=new O();X.set(S,P);}return P;}function f(P,S,Y){if(e(P,S,Y))return !0;S=A(S);return null === S?!1:f(P,S,Y);}function e(P,S,Y){S=g(S,Y,!1);return r(S)?!1:!!S.has(P);}function h(P,S,Y){if(e(P,S,Y))return l(P,S,Y);S=A(S);if(null !== S)return h(P,S,Y);}function l(P,S,Y){S=g(S,Y,!1);if(!r(S))return S.get(P);}function k(P,S){var Y,U,Z;Y=m(P,S);P=A(P);if(null === P)return Y;S=k(P,S);if(0 >= S.length)return Y;if(0 >= Y.length)return S;P=new J();for(var X=[],T=0;T < Y.length;T++){U=Y[T];Z=P.has(U);Z || (P.add(U),X.push(U));}for(Y=0;Y < S.length;Y++)(U=S[Y],(Z=P.has(U)) || (P.add(U),X.push(U)));return X;}function m(P,S){var Y,X;Y=[];P=g(P,S,!1);if(r(P))return Y;P=P.keys();S=y(P,G);if(!x(S))throw new TypeError();P=S.call(P);if(!q(P))throw new TypeError();for(S=0;;){X=P.next();X=X.done?!1:X;if(!X)return (Y.length=S,Y);X=X.value;try{Y[S]=X;}catch(U){var T;try{T=P["return"];T && T.call(P);}finally{throw U;}}S++;}}function p(P){if(null === P)return 1;switch(typeof P){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === P?1:6;default:return 6;}}function r(P){return void 0 === P;}function q(P){return "object" === typeof P?null !== P:"function" === typeof P;}function u(P,S){var Y;switch(p(P)){case 0:return P;case 1:return P;case 2:return P;case 3:return P;case 4:return P;case 5:return P;}S=3 === S?"string":5 === S?"number":"default";Y=y(P,E);if(void 0 !== Y){P=Y.call(P,S);if(q(P))throw new TypeError();return P;}a:{if("string" === ("default" === S?"number":S)){S=P.toString;if(x(S) && (S=S.call(P),!q(S)))break a;S=P.valueOf;}else {S=P.valueOf;if(x(S) && (S=S.call(P),!q(S)))break a;S=P.toString;}if(!x(S) || (S=S.call(P),q(S)))throw new TypeError();}return S;}function v(P){P=u(P,3);return "symbol" === typeof P?P:"" + P;}function w(P){return Array.isArray?Array.isArray(P):P instanceof Object?P instanceof Array:"[object Array]" === Object.prototype.toString.call(P);}function x(P){return "function" === typeof P;}function y(P,S){P=P[S];if(void 0 !== P && null !== P){if(!x(P))throw new TypeError();return P;}}function A(P){var S,Y;S=Object.getPrototypeOf(P);if("function" !== typeof P || P === L || S !== L)return S;Y=P.prototype;Y=Y && Object.getPrototypeOf(Y);if(null == Y || Y === Object.prototype)return S;Y=Y.constructor;return "function" !== typeof Y || Y === P?S:Y;}function z(){var X,T,U;function P(Z){return Z;}function S(Z,aa){return aa;}function Y(Z,aa){return [Z,aa];}X={};T=[];U=(function(){function Z(aa,da,fa){this.Oh=0;this.rg=aa;this.ii=da;this.MYb=fa;}Z.prototype["@@iterator"]=function(){return this;};Z.prototype[G]=function(){return this;};Z.prototype.next=function(){var aa,da;aa=this.Oh;if(0 <= aa && aa < this.rg.length){da=this.MYb(this.rg[aa],this.ii[aa]);aa + 1 >= this.rg.length?(this.Oh=-1,this.ii=this.rg=T):this.Oh++;return {value:da,done:!1};}return {value:void 0,done:!0};};Z.prototype.throw=function(aa){0 <= this.Oh && (this.Oh=-1,this.ii=this.rg=T);throw aa;};Z.prototype.return=function(aa){0 <= this.Oh && (this.Oh=-1,this.ii=this.rg=T);return {value:aa,done:!0};};return Z;})();return (function(){function Z(){this.rg=[];this.ii=[];this.KA=X;this.gy=-2;}Object.defineProperty(Z.prototype,"size",{get:function(){return this.rg.length;},enumerable:!0,configurable:!0});Z.prototype.has=function(aa){return 0 <= this.RD(aa,!1);};Z.prototype.get=function(aa){aa=this.RD(aa,!1);return 0 <= aa?this.ii[aa]:void 0;};Z.prototype.set=function(aa,da){aa=this.RD(aa,!0);this.ii[aa]=da;return this;};Z.prototype.delete=function(aa){var da,fa;da=this.RD(aa,!1);if(0 <= da){fa=this.rg.length;for(da+=1;da < fa;da++)(this.rg[da - 1]=this.rg[da],this.ii[da - 1]=this.ii[da]);this.rg.length--;this.ii.length--;aa === this.KA && (this.KA=X,this.gy=-2);return !0;}return !1;};Z.prototype.clear=function(){this.rg.length=0;this.ii.length=0;this.KA=X;this.gy=-2;};Z.prototype.keys=function(){return new U(this.rg,this.ii,P);};Z.prototype.values=function(){return new U(this.rg,this.ii,S);};Z.prototype.entries=function(){return new U(this.rg,this.ii,Y);};Z.prototype["@@iterator"]=function(){return this.entries();};Z.prototype[G]=function(){return this.entries();};Z.prototype.RD=function(aa,da){this.KA !== aa && (this.gy=this.rg.indexOf(this.KA=aa));0 > this.gy && da && (this.gy=this.rg.length,this.rg.push(aa),this.ii.push(void 0));return this.gy;};return Z;})();}function B(){return (function(){function P(){this.Fg=new O();}Object.defineProperty(P.prototype,"size",{get:function(){return this.Fg.size;},enumerable:!0,configurable:!0});P.prototype.has=function(S){return this.Fg.has(S);};P.prototype.add=function(S){return (this.Fg.set(S,S),this);};P.prototype.delete=function(S){return this.Fg.delete(S);};P.prototype.clear=function(){this.Fg.clear();};P.prototype.keys=function(){return this.Fg.keys();};P.prototype.values=function(){return this.Fg.values();};P.prototype.entries=function(){return this.Fg.entries();};P.prototype["@@iterator"]=function(){return this.keys();};P.prototype[G]=function(){return this.keys();};return P;})();}function C(){var X,T;function P(){var U,da;do {U="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):Y(new Uint8Array(16),16):Y(Array(16),16);U[6]=U[6] & 79 | 64;U[8]=U[8] & 191 | 128;for(var Z="",aa=0;16 > aa;++aa){da=U[aa];if(4 === aa || 6 === aa || 8 === aa)Z+="-";16 > da && (Z+="0");Z+=da.toString(16).toLowerCase();}U="@@WeakMap@@" + Z;}while(I.has(X,U));X[U]=!0;return U;}function S(U,Z){if(!F.call(U,T)){if(!Z)return;Object.defineProperty(U,T,{value:I.create()});}return U[T];}function Y(U,Z){for(var aa=0;aa < Z;++aa)U[aa]=255 * Math.random() | 0;return U;}X=I.create();T=P();return (function(){function U(){this.ny=P();}U.prototype.has=function(Z){Z=S(Z,!1);return void 0 !== Z?I.has(Z,this.ny):!1;};U.prototype.get=function(Z){Z=S(Z,!1);return void 0 !== Z?I.get(Z,this.ny):void 0;};U.prototype.set=function(Z,aa){S(Z,!0)[this.ny]=aa;return this;};U.prototype.delete=function(Z){Z=S(Z,!1);return void 0 !== Z?delete Z[this.ny]:!1;};U.prototype.clear=function(){this.ny=P();};return U;})();}function D(P){P.QVb=void 0;delete P.QVb;return P;}F=Object.prototype.hasOwnProperty;H="function" === typeof Symbol;E=H && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";G=H && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";H="function" === typeof Object.create;K=({__proto__:[]}) instanceof Array;N=!H && !K;I={create:H?function(){return D(Object.create(null));}:K?function(){return D({__proto__:null});}:function(){return D({});},has:N?function(P,S){return F.call(P,S);}:function(P,S){return (S in P);},get:N?function(P,S){return F.call(P,S)?P[S]:void 0;}:function(P,S){return P[S];}};L=Object.getPrototypeOf(Function);O=(H="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?z():Map;J=H || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?B():Set;Q=new (H || "function" !== typeof WeakMap?C():WeakMap)();c("decorate",function(P,S,Y,X){var U;if(r(Y)){if(!w(P))throw new TypeError();if("function" !== typeof S)throw new TypeError();for(Y=P.length - 1;0 <= Y;--Y)if((X=(0,P[Y])(S),!r(X) && null !== X)){if("function" !== typeof X)throw new TypeError();S=X;}return S;}if(!w(P))throw new TypeError();if(!q(S))throw new TypeError();if(!q(X) && !r(X) && null !== X)throw new TypeError();null === X && (X=void 0);Y=v(Y);for(var T=P.length - 1;0 <= T;--T){U=(0,P[T])(S,Y,X);if(!r(U) && null !== U){if(!q(U))throw new TypeError();X=U;}}return X;});c("metadata",function(P,S){return function(Y,X){var T;if(!q(Y))throw new TypeError();if(T=!r(X)){a:switch(p(X)){case 3:T=!0;break a;case 4:T=!0;break a;default:T=!1;}T=!T;}if(T)throw new TypeError();g(Y,X,!0).set(P,S);};});c("defineMetadata",function(P,S,Y,X){if(!q(Y))throw new TypeError();r(X) || (X=v(X));g(Y,X,!0).set(P,S);});c("hasMetadata",function(P,S,Y){if(!q(S))throw new TypeError();r(Y) || (Y=v(Y));return f(P,S,Y);});c("hasOwnMetadata",function(P,S,Y){if(!q(S))throw new TypeError();r(Y) || (Y=v(Y));return e(P,S,Y);});c("getMetadata",function(P,S,Y){if(!q(S))throw new TypeError();r(Y) || (Y=v(Y));return h(P,S,Y);});c("getOwnMetadata",function(P,S,Y){if(!q(S))throw new TypeError();r(Y) || (Y=v(Y));return l(P,S,Y);});c("getMetadataKeys",function(P,S){if(!q(P))throw new TypeError();r(S) || (S=v(S));return k(P,S);});c("getOwnMetadataKeys",function(P,S){if(!q(P))throw new TypeError();r(S) || (S=v(S));return m(P,S);});c("deleteMetadata",function(P,S,Y){var X;if(!q(S))throw new TypeError();r(Y) || (Y=v(Y));X=g(S,Y,!1);if(r(X) || !X.delete(P))return !1;if(0 < X.size)return !0;P=Q.get(S);P.delete(Y);if(0 < P.size)return !0;Q.delete(S);return !0;});});})(d || (d={}));},63671:function(t,b,a){var d,n,c,g;b=a(62680);d=a(67286);n=a(58786);c=b("RegExp.prototype.exec");g=d("%TypeError%");t.exports=function(f){if(!n(f))throw new g("`regex` must be a RegExp");return function(e){return null !== c(f,e);};};},24454:function(t,b,a){var d,n,c,g,f;d=a(80633);n=a(24158);c=a(62680)("String.prototype.replace");g=(b=(/^\s$/).test("\u180e"))?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;f=b?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var e;e=n(d(this));return c(c(e,g,""),f,"");};},11341:function(t,b,a){var n,c,g,f,e;function d(h){c(h);return e(h);}b=a(89429);n=a(14926);c=a(80633);g=a(24454);f=a(33871);a=a(93607);e=b(f());n(d,{NZc:f,implementation:g,rHc:a});t.exports=d;},33871:function(t,b,a){var d;d=a(24454);t.exports=function(){return String.prototype.trim?String.prototype.trim:d;};},93607:function(t,b,a){var d,n;d=a(14926);n=a(33871);t.exports=function(){var c;c=n();d(String.prototype,{trim:c},{trim:function(){return String.prototype.trim !== c;}});return c;};},15913:function(t,b,a){var f;function d(e,h,l){this.HV=!1 === e;this.vw=e || .01;this.dya=void 0 === h?25:h;this.M1a=void 0 === l?1.1:l;this.Tl=new f(n);this.reset();}function n(e,h){return e.hh > h.hh?1:e.hh < h.hh?-1:0;}function c(e,h){return e.ZB - h.ZB;}function g(e){this.config=e || ({});this.mode=this.config.mode || "auto";d.call(this,"cont" === this.mode?e.vw:!1);this.Lac=this.config.ratio || .9;this.Mac=this.config.j4c || 1E3;this.Uoa=0;}f=a(35558).hUb;d.prototype.reset=function(){this.Tl.clear();this.FQa=this.n=0;};d.prototype.size=function(){return this.Tl.size;};d.prototype.aj=function(e){var h;h=[];e?(this.wga(!0),this.Tl.X5(function(l){h.push(l);})):this.Tl.X5(function(l){h.push({hh:l.hh,n:l.n});});return h;};d.prototype.summary=function(){return [(this.HV?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.ak(0),"Q1  = " + this.ak(.25),"Q2  = " + this.ak(.5),"Q3  = " + this.ak(.75),"max = " + this.ak(1)].join("\n");};d.prototype.push=function(e,h){h=h || 1;e=Array.isArray(e)?e:[e];for(var l=0;l < e.length;l++)this.Tdb(e[l],h);};d.prototype.UUa=function(e){e=Array.isArray(e)?e:[e];for(var h=0;h < e.length;h++)this.Tdb(e[h].hh,e[h].n);};d.prototype.wga=function(e){var h;if(!(this.n === this.FQa || !e && this.M1a && this.M1a > this.n / this.FQa)){h=0;this.Tl.X5(function(l){l.ZB=h + l.n / 2;h=l.uV=h + l.n;});this.n=this.FQa=h;}};d.prototype.Vec=function(e){var h,l;if(0 === this.size())return null;h=this.Tl.lowerBound({hh:e});l=null === h.data()?h.rx():h.data();return l.hh === e || this.HV?l:(h=h.rx()) && Math.abs(h.hh - e) < Math.abs(l.hh - e)?h:l;};d.prototype.ZT=function(e,h,l){this.Tl.Ps({hh:e,n:h,uV:l});this.n+=h;};d.prototype.mga=function(e,h,l){h !== e.hh && (e.hh+=l * (h - e.hh) / (e.n + l));e.uV+=l;e.ZB+=l / 2;e.n+=l;this.n+=l;};d.prototype.Tdb=function(e,h){var l,k,m;l=this.Tl.min();k=this.Tl.max();m=this.Vec(e);m && m.hh === e?this.mga(m,e,h):m === l?this.ZT(e,h,0):m === k?this.ZT(e,h,this.n):this.HV?this.ZT(e,h,m.uV):(l=m.ZB / this.n,Math.floor(4 * this.n * this.vw * l * (1 - l)) - m.n >= h?this.mga(m,e,h):this.ZT(e,h,m.uV));this.wga(!1);!this.HV && this.dya && this.size() > this.dya / this.vw && this.Qn();};d.prototype.v2b=function(e){var h,l;this.Tl.hy=c;h=this.Tl.upperBound({ZB:e});this.Tl.hy=n;l=h.rx();e=l && l.ZB === e?l:h.next();return [l,e];};d.prototype.ak=function(e){var h;h=(Array.isArray(e)?e:[e]).map(this.rYb,this);return Array.isArray(e)?h:h[0];};d.prototype.rYb=function(e){var h,l;if(0 !== this.size()){this.wga(!0);this.Tl.min();this.Tl.max();e*=this.n;h=this.v2b(e);l=h[0];h=h[1];return h === l || null === l || null === h?(l || h).hh:this.HV?e <= l.uV?l.hh:h.hh:l.hh + (e - l.ZB) * (h.hh - l.hh) / (h.ZB - l.ZB);}};d.prototype.Qn=function(){var e;if(!this.gkb){e=this.aj();this.reset();for(this.gkb=!0;0 < e.length;)this.UUa(e.splice(Math.floor(Math.random() * e.length),1)[0]);this.wga(!0);this.gkb=!1;}};g.prototype=Object.create(d.prototype);g.prototype.constructor=g;g.prototype.push=function(e){d.prototype.push.call(this,e);this.X4b();};g.prototype.ZT=function(e,h,l){this.Uoa+=1;d.prototype.ZT.call(this,e,h,l);};g.prototype.mga=function(e,h,l){1 === e.n && --this.Uoa;d.prototype.mga.call(this,e,h,l);};g.prototype.X4b=function(){!("auto" !== this.mode || this.size() < this.Mac) && this.Uoa / this.size() > this.Lac && (this.mode="cont",this.HV=!1,this.vw=this.config.vw || .01,this.Qn());};t.exports={TDigest:d,Digest:g};},63053:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);n=d.__importDefault(a(51411));c=a(32260);t=(function(g){function f(e,h,l,k){var m,p;m=this.constructor;p=g.call(this,h.message) || this;m=m.prototype;"undefined" === typeof Object.setPrototypeOf?p.__proto__=m:Object.setPrototypeOf(p,m);l && (p.message+=" [" + l + "]");p.name=e;p.error=h;p.Ec=k;e=p.toString();p.stack && (e+="\n" + p.stack);p.Ec && p.Ec.stack && (e+="\nCaused by " + p.Ec.stack);p.stack=e;return p;}d.__extends(f,g);f.prototype.Hh=function(e){if(0 > e || e > n.default.Le)throw new RangeError("Message ID " + e + " is outside the valid range.");this.Xqb() || (this.UM=e);return this;};f.prototype.Xqb=function(){if(this.UM)return this.UM;if(this.Ec && c.pd(this.Ec))return this.Ec.UM;};f.prototype.bc=function(e){!e || this.Xb || this.al || (this.Xb=e);return this;};f.prototype.If=function(e){!e || this.Xb || this.al || (this.al=e);return this;};f.prototype.se=function(e){!e || this.Xf || this.bj || (this.Xf=e);return this;};f.prototype.jf=function(e){!e || this.Xf || this.bj || (this.bj=e);return this;};f.prototype.toString=function(){return this.name + ": " + this.message;};return f;})(Error);b["default"]=t;},51411:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.srb=b.VG=void 0;t=a(69193);d=a(96837);a=t.wA.KD;b.VG={HPb:"GZIP",qya:"LZW"};b.srb=function(f){for(var e=[b.VG.HPb,b.VG.qya],h=0;h < e.length && 0 < f.length;++h)for(var l=e[h],k=0;k < f.length;++k)if(f[k] == l)return l;return null;};n={pua:"AES"};Object.defineProperties(n,{JO:{value:function(f){var e;e=f;"string" === typeof f && (e=f.toLowerCase());"object" === typeof f && "string" === typeof f.name && (e=f.name.toLowerCase());return d.Fe.yL.name.toLowerCase() == e?n.pua:n[f];},writable:!1,enumerable:!1,configurable:!1},OYa:{value:function(f){if(n.pua == f)return d.Fe.yL;},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(n);c={q_a:"AES/CBC/PKCS5Padding",gPc:"AESWrap",gab:"RSA/ECB/PKCS1Padding"};Object.defineProperties(c,{JO:{value:function(f){return c.q_a == f?c.q_a:c.gab == f?c.gab:c[f];},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(c);g={Hxa:"HmacSHA256",jCa:"SHA256withRSA",p_a:"AESCmac"};Object.defineProperties(g,{JO:{value:function(f){var e,h;e=f;"string" === typeof f && (e=f.toLowerCase());"object" === typeof f && "string" === typeof f.name && (e=f.name.toLowerCase());"object" === typeof f.hash && (h=f.hash.name.toLowerCase());return d.Fe.WS.name.toLowerCase() == e && d.Fe.WS.hash.name.toLowerCase() == h?g.Hxa:d.Fe.y2.name.toLowerCase() == e && d.Fe.y2.hash.name.toLowerCase() == h?g.jCa:d.Fe.r_a.name.toLowerCase() == e?g.p_a:g[f];},writable:!1,enumerable:!1,configurable:!1},OYa:{value:function(f){if(g.Hxa == f)return d.Fe.WS;if(g.jCa == f)return d.Fe.jCa;if(g.p_a == f)return d.Fe.r_a;},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(g);t={da:1,qq:2,ag:3,Ee:4,P1:5,Kh:6,Vc:7,M0:8,SBa:9,Kfa:10};Object.freeze(t);b["default"]={kOb:a,Le:9007199254740992,gRb:12,Rwa:n,Ova:c,F2:g,N:t};},42458:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f,e){return n.call(this,"MslCryptoException",g,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},88257:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f,e){return n.call(this,"MslEncodingException",g,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},24571:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f,e){return n.call(this,"MslEntityAuthException",g,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},36114:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970).__importDefault(a(51411));t=(function(){function n(c,g,f){this.h8=1E5 + c;this.iEc=g;this.message=f;}n.prototype.toString=function(){return "MslError{" + this.h8 + "," + this.iEc + "," + this.message + "}";};n.Me=new n(0,d.default.N.da,"Error parsing MSL encodable.");n.BRb=new n(1,d.default.N.da,"Error encoding MSL encodable.");new n(2,d.default.N.da,"Computed hash does not match envelope hash.");n.WL=new n(3,d.default.N.da,"Invalid public key provided.");n.XS=new n(4,d.default.N.da,"Invalid private key provided.");new n(5,d.default.N.da,"Plaintext is not a multiple of the block size.");new n(6,d.default.N.da,"Plaintext contains incorrect padding.");new n(7,d.default.N.da,"Ciphertext is not a multiple of the block size.");new n(8,d.default.N.da,"Ciphertext contains incorrect padding.");n.Hwa=new n(9,d.default.N.da,"Encryption not supported.");n.Xva=new n(10,d.default.N.da,"Decryption not supported.");new n(11,d.default.N.da,"Encryption envelope key ID does not match crypto context key ID.");n.B1a=new n(12,d.default.N.da,"Error parsing ciphertext envelope.");n.Eda=new n(13,d.default.N.da,"Error encoding ciphertext envelope.");n.kCa=new n(14,d.default.N.da,"Sign not supported.");n.xDa=new n(15,d.default.N.da,"Verify not suppoprted.");n.Gab=new n(16,d.default.N.da,"Signature not initialized or unable to process data/signature.");n.mea=new n(17,d.default.N.da,"Error computing HMAC.");n.bea=new n(18,d.default.N.da,"Error encrypting plaintext.");n.WG=new n(19,d.default.N.da,"Error decrypting ciphertext.");new n(20,d.default.N.da,"Insufficient ciphertext for decryption.");new n(21,d.default.N.da,"Error when creating session keys.");n.Nxa=new n(24,d.default.N.da,"Invalid symmetric key provided.");new n(25,d.default.N.da,"Invalid encryption key.");new n(26,d.default.N.da,"Invalid HMAC key.");n.ddb=new n(27,d.default.N.da,"Wrap not supported.");n.Ccb=new n(28,d.default.N.da,"Unwrap not supported.");new n(29,d.default.N.da,"Unidentified JSON web key type.");new n(30,d.default.N.da,"Unidentified JSON web key usage.");new n(31,d.default.N.da,"Unidentified JSON web key algorithm.");n.HDa=new n(32,d.default.N.da,"Error wrapping plaintext.");n.nDa=new n(33,d.default.N.da,"Error unwrapping ciphertext.");new n(34,d.default.N.da,"Invalid JSON web key.");new n(35,d.default.N.da,"Invalid JSON web key keydata.");new n(36,d.default.N.da,"Unsupported JSON web key algorithm.");new n(37,d.default.N.da,"Error when creating wrapping key.");new n(38,d.default.N.da,"Invalid wrap ciphertext.");new n(39,d.default.N.da,"Unsupported JSON web encryption algorithm.");new n(40,d.default.N.da,"Error encoding JSON web encryption header.");new n(41,d.default.N.da,"Error parsing JSON web encryption header.");new n(42,d.default.N.da,"Invalid algorithm parameters.");new n(43,d.default.N.da,"JSON web encryption header algorithms mismatch.");n.NQb=new n(44,d.default.N.da,"Error importing key.");n.hya=new n(45,d.default.N.da,"Error exporting key.");new n(46,d.default.N.da,"Error in digest.");n.lDa=new n(47,d.default.N.da,"Unsupported key type or algorithm.");new n(48,d.default.N.da,"Unsupported JSON web encryption serialization.");new n(51,d.default.N.da,"Invalid wrapping key.");n.xcb=new n(52,d.default.N.da,"Unidentified ciphertext envelope version.");new n(53,d.default.N.da,"Unidentified signature envelope version.");n.rVb=new n(54,d.default.N.da,"Unsupported ciphertext envelope version.");n.mDa=new n(55,d.default.N.da,"Unsupported signature envelope version.");n.nVb=new n(56,d.default.N.da,"Unidentified cipher specification.");n.kDa=new n(57,d.default.N.da,"Unidentified algorithm.");new n(58,d.default.N.da,"Error parsing signature envelope.");n.Fab=new n(59,d.default.N.da,"Error encoding signature envelope.");new n(60,d.default.N.da,"Invalid signature.");new n(61,d.default.N.da,"Error deriving key.");new n(62,d.default.N.da,"Unidentified JSON web key key operation.");new n(63,d.default.N.da,"Error generating key.");new n(64,d.default.N.da,"Invalid initialization vector.");new n(65,d.default.N.da,"Invalid ciphertext.");n.$6a=new n(1E3,d.default.N.ag,"Master token is not trusted.");n.Z6a=new n(1001,d.default.N.ag,"Unable to construct symmetric keys from master token.");n.$Qb=new n(1002,d.default.N.ag,"Master token expiration timestamp is before the renewal window opens.");n.cRb=new n(1003,d.default.N.ag,"No master token session data found.");n.aRb=new n(1004,d.default.N.ag,"Master token sequence number is out of range.");n.bRb=new n(1005,d.default.N.ag,"Master token serial number is out of range.");new n(1006,d.default.N.ag,"Invalid master token data.");new n(1007,d.default.N.ag,"Invalid master token signature.");new n(1008,d.default.N.ag,"Invalid master token session data.");new n(1009,d.default.N.ag,"Master token sequence number does not have the expected value.");n.eRb=new n(1010,d.default.N.ag,"No master token data found.");n.fRb=new n(1011,d.default.N.ag,"Error parsing master token data.");n.dRb=new n(1012,d.default.N.ag,"Error parsing master token session data.");new n(1013,d.default.N.ag,"Master token entity identity is revoked.");new n(1014,d.default.N.ag,"Master token is rejected by the application.");new n(1015,d.default.N.da,"Master token issuer data encoding error.");n.oDa=new n(2E3,d.default.N.Ee,"User ID token master token serial number does not match master token serial number.");new n(2001,d.default.N.Ee,"User ID token is not decrypted or verified.");n.xVb=new n(2002,d.default.N.Ee,"User ID token requires a master token.");n.uVb=new n(2003,d.default.N.Ee,"User ID token expiration timestamp is before the renewal window opens.");n.DVb=new n(2004,d.default.N.Ee,"No user ID token user data found.");n.wVb=new n(2005,d.default.N.Ee,"User ID token is bound to an unknown master token.");n.yVb=new n(2006,d.default.N.Ee,"User ID token master token serial number is out of range.");n.zVb=new n(2007,d.default.N.Ee,"User ID token serial number is out of range.");new n(2008,d.default.N.Ee,"Invalid user ID token data.");new n(2009,d.default.N.Ee,"Invalid user ID token signature.");new n(2010,d.default.N.Ee,"Invalid user ID token user data.");n.vVb=new n(2011,d.default.N.Ee,"Invalid user ID token user identity.");new n(2012,d.default.N.Ee,"The entity is not associated with the user.");new n(2013,d.default.N.Ee,"The user identity was not found.");new n(2014,d.default.N.Ee,"The user identity must be reauthenticated because the password version changed.");n.CVb=new n(2015,d.default.N.Ee,"The user ID token and user authentication data user identities do not match.");n.AVb=new n(2016,d.default.N.Ee,"No user ID token data found.");n.BVb=new n(2017,d.default.N.Ee,"Error parsing user ID token data.");n.EVb=new n(2018,d.default.N.Ee,"Error parsing user ID token user data.");new n(2019,d.default.N.Ee,"User ID token is revoked.");new n(2020,d.default.N.Vc,"User ID token is rejected by the application.");n.eCa=new n(3E3,d.default.N.da,"Service token master token serial number does not match master token serial number.");n.fCa=new n(3001,d.default.N.da,"Service token user ID token serial number does not match user ID token serial number.");new n(3002,d.default.N.da,"Service token data invalid.");n.FUb=new n(3003,d.default.N.da,"Service token is bound to an unknown master token.");n.HUb=new n(3004,d.default.N.da,"Service token is bound to an unknown user ID token.");n.GUb=new n(3005,d.default.N.da,"Service token master token serial number is out of range.");n.IUb=new n(3006,d.default.N.da,"Service token user ID token serial number is out of range.");new n(3007,d.default.N.da,"Invalid service token data.");new n(3008,d.default.N.da,"Invalid service token signature.");n.Dab=new n(3009,d.default.N.da,"No service token data found.");n.oVb=new n(4E3,d.default.N.da,"Unable to identify entity authentication scheme.");n.Jwa=new n(4001,d.default.N.da,"No factory registered for entity authentication scheme.");new n(4002,d.default.N.Kh,"Error parsing X.509 certificate data.");new n(4003,d.default.N.Kh,"Error encoding X.509 certificate data.");new n(4004,d.default.N.Kh,"X.509 certificate verification failed.");new n(4005,d.default.N.da,"Entity not recognized.");new n(4006,d.default.N.da,"Entity used incorrect entity authentication data type.");n.nUb=new n(4007,d.default.N.Kh,"RSA public key not found.");new n(4023,d.default.N.da,"Unsupported entity authentication data.");n.p3a=new n(4025,d.default.N.da,"Entity is revoked.");new n(4026,d.default.N.Kh,"Entity is rejected by the application.");new n(4028,d.default.N.Kh,"X.509 certificate is expired.");new n(4029,d.default.N.Kh,"X.509 certificate is not yet valid.");new n(4030,d.default.N.Kh,"X.509 certificate is invalid.");n.mUb=new n(4031,d.default.N.Kh,"RSA private key not found.");new n(4032,d.default.N.da,"Entity authentication data master token is not decrypted or verified.");new n(4033,d.default.N.Kh,"Invalid entity authentication data siganture.");new n(4034,d.default.N.Kh,"Invalid entity authentication data ciphertext.");new n(4035,d.default.N.Kh,"Entity authentication data signature verification failed.");new n(4036,d.default.N.da,"Invalid entity authentication data master token.");new n(4037,d.default.N.Kh,"ECC public key not found.");new n(4038,d.default.N.Kh,"ECC private key not found.");n.qVb=new n(5003,d.default.N.da,"Unable to identify user authentication scheme.");n.Ecb=new n(5004,d.default.N.da,"No factory registered for user authentication scheme.");n.ePb=new n(5005,d.default.N.Vc,"Email or password is blank.");n.g3a=new n(5007,d.default.N.Vc,"Email or password is incorrect.");n.sVb=new n(5008,d.default.N.da,"Unsupported user authentication data.");new n(5011,d.default.N.Vc,"User authentication data user ID token is invalid.");new n(5013,d.default.N.da,"Unable to identify user authentication mechanism.");new n(5014,d.default.N.da,"Unsupported user authentication mechanism.");new n(5016,d.default.N.Vc,"User authentication required master token is missing.");new n(5021,d.default.N.Vc,"User authentication data user ID token is not decrypted or verified.");new n(5024,d.default.N.Vc,"User authentication data master token is invalid.");new n(5025,d.default.N.Vc,"User authentication data master token is not decrypted or verified.");new n(5030,d.default.N.Vc,"User authentication required user ID token is missing.");new n(5032,d.default.N.Vc,"User authentication data does not match entity identity.");new n(5033,d.default.N.da,"Entity used incorrect user authentication data type.");new n(5037,d.default.N.Vc,"User is rejected by the application.");new n(5040,d.default.N.Ee,"The entity is not associated with the user.");new n(5041,d.default.N.Vc,"Entity and user combination used incorrect user authentication data type.");new n(5042,d.default.N.Vc,"User authentication data signature verification failed.");new n(5043,d.default.N.Vc,"User ID token could not be checked for revocation.");n.Acb=new n(6E3,d.default.N.da,"Unsupported compression algorithm.");n.JNb=new n(6001,d.default.N.da,"Error compressing data.");n.jVb=new n(6002,d.default.N.da,"Error uncompressing data.");n.aza=new n(6003,d.default.N.da,"Message header entity authentication data or master token not found.");n.DSb=new n(6004,d.default.N.da,"Payload chunk message ID does not match header message ID .");n.FSb=new n(6005,d.default.N.da,"Payload chunk sequence number does not match expected sequence number.");n.HSb=new n(6006,d.default.N.da,"Payload chunk payload signature verification failed.");n.pRb=new n(6007,d.default.N.da,"No message data found.");new n(6008,d.default.N.da,"Malformed message data.");n.vRb=new n(6009,d.default.N.da,"Message header/error data signature verification failed.");n.u4a=new n(6010,d.default.N.da,"No header data found.");n.CSb=new n(6011,d.default.N.da,"No payload data found in non-EOM payload chunk.");new n(6012,d.default.N.da,"Corrupt payload data found in non-EOM payload chunk.");n.ycb=new n(6013,d.default.N.da,"Unidentified compression algorithm.");new n(6014,d.default.N.M0,"Message expired and not renewable. Rejected.");n.c7a=new n(6015,d.default.N.da,"Message ID is out of range.");n.xQb=new n(6016,d.default.N.da,"Error header internal code is negative.");n.mVb=new n(6017,d.default.N.da,"Unexpected response message ID. Possible replay.");new n(6018,d.default.N.P1,"Message response requires encryption.");n.GSb=new n(6019,d.default.N.da,"Payload chunk sequence number is out of range.");n.ESb=new n(6020,d.default.N.da,"Payload chunk message ID is out of range.");new n(6021,d.default.N.SBa,"Non-replayable message replayed.");n.YPb=new n(6022,d.default.N.da,"Non-replayable message sent without a master token.");new n(6023,d.default.N.da,"Invalid Header signature.");new n(6024,d.default.N.da,"Invalid header data.");new n(6025,d.default.N.da,"Invalid payload.");new n(6026,d.default.N.da,"Invalid payload signature.");new n(6027,d.default.N.P1,"Message response requires a master token.");new n(6028,d.default.N.Ee,"Message response requires a user ID token.");new n(6029,d.default.N.da,"User-associated message requires user authentication data.");new n(6030,d.default.N.da,"Message sender is equal to the local entity or not the master token entity.");n.eSb=new n(6031,d.default.N.da,"Non-replayable message requires a master token.");n.h8a=new n(6032,d.default.N.da,"Non-replayable message non-replayable ID is out of range.");new n(6033,d.default.N.da,"Service token master token or user ID token serial number does not match the message token serial numbers.");new n(6034,d.default.N.da,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers.");new n(6035,d.default.N.P1,"Message response requires integrity protection.");n.LPb=new n(6036,d.default.N.da,"Handshake message is not renewable or does not contain key request data.");new n(6037,d.default.N.da,"Message recipient does not match local identity.");n.qRb=new n(6038,d.default.N.Kh,"Message header entity-based signature verification failed.");n.tRb=new n(6039,d.default.N.ag,"Message header master token-based signature verification failed.");new n(6040,d.default.N.ag,"Non-replayable message replayed with a sequence number that is too far out of sync to recover.");new n(6041,d.default.N.da,"Message sender is equal to the local entity.");n.lVb=new n(6042,d.default.N.da,"User authentication data included in unencrypted message header.");n.uRb=new n(6043,d.default.N.da,"Message sender entity identity does not match expected identity.");n.rRb=new n(6044,d.default.N.M0,"Message expired and not renewable. Rejected.");n.sRb=new n(6045,d.default.N.M0,"Message expired and missing key request data. Rejected.");new n(6046,d.default.N.ag,"Master token identity does not match entity authentication data identity.");n.MPb=new n(6047,d.default.N.da,"Handshake message requires key request data.");n.zcb=new n(7E3,d.default.N.da,"Unable to identify key exchange scheme.");n.fya=new n(7001,d.default.N.da,"No factory registered for key exchange scheme.");new n(7002,d.default.N.da,"No key request found matching header key response data.");new n(7003,d.default.N.da,"Unable to identify key exchange key ID.");new n(7004,d.default.N.da,"Unsupported key exchange key ID.");n.pVb=new n(7005,d.default.N.da,"Unable to identify key exchange mechanism.");n.Bcb=new n(7006,d.default.N.da,"Unsupported key exchange mechanism.");n.T5a=new n(7007,d.default.N.da,"Key exchange response does not match request.");n.LQb=new n(7008,d.default.N.da,"Key exchange private key missing.");new n(7009,d.default.N.da,"Key exchange parameters ID unknown or invalid.");new n(7010,d.default.N.da,"Master token required for key exchange is missing.");new n(7011,d.default.N.da,"Key exchange public key is invalid.");new n(7012,d.default.N.da,"Key exchange public key missing.");new n(7013,d.default.N.da,"Key exchange wrapping key missing.");new n(7014,d.default.N.da,"Key exchange wrapping key ID missing.");new n(7015,d.default.N.da,"Key exchange wrapping key is invalid.");new n(7016,d.default.N.da,"Entity used incorrect key exchange data type.");new n(7017,d.default.N.da,"Entity used incorrect key exchange mecahnism.");new n(7018,d.default.N.da,"Key exchange derivation key missing.");new n(7019,d.default.N.da,"Key exchange encryption key is invalid.");new n(7020,d.default.N.da,"Key exchange HMAC key is invalid.");new n(7021,d.default.N.da,"Key exchange wrap data is invalid.");new n(7022,d.default.N.da,"Unsupported key exchange scheme.");new n(7023,d.default.N.da,"Key exchange identity not found.");n.zA=new n(9E3,d.default.N.qq,"Internal exception.");new n(9001,d.default.N.da,"Error communicating with MSL entity.");n.NONE=new n(9999,d.default.N.da,"Special unit test error.");return n;})();b["default"]=t;},1966:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f,e){return n.call(this,"MslException",g,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},18595:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f,e){var h;h=this.constructor;f=n.call(this,f) || this;h=h.prototype;"undefined" === typeof Object.setPrototypeOf?f.__proto__=h:Object.setPrototypeOf(f,h);f.name=g;f.Ec=e;g=f.toString();f.stack && (g+="\n" + f.stack);f.Ec && f.Ec.stack && (g+="\nCaused by " + f.Ec.stack);f.stack=g;return f;}d.__extends(c,n);c.prototype.toString=function(){return this.name + ": " + this.message;};return c;})(Error);b["default"]=t;},10690:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f){return n.call(this,"MslInternalException",g,f) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},25978:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f){return n.call(this,"MslInterruptedException",g,f) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},48795:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f){return n.call(this,"MslIoException",g,f) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},35661:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f,e){return n.call(this,"MslKeyExchangeException",g,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},80760:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f){g=n.call(this,"MslMasterTokenException",g) || this;g.Xb=f;return g;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},20754:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f,e){return n.call(this,"MslMessageException",g,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},88361:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f,e){return n.call(this,"MslUserAuthException",g,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},67609:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f,e,h){g=n.call(this,"MslUserIdTokenException",g,e,h) || this;g.Xf=f;return g;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},45826:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]="netflixidentity";},99075:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=d.__importDefault(a(36114));n=d.__importDefault(a(51411));a=(function(c){function g(f,e,h){return c.call(this,1E5 + f,e,h) || this;}d.__extends(g,c);new g(22,n.default.N.da,"Error parsing ASN.1.");new g(23,n.default.N.da,"Error encoding ASN.1.");new g(49,n.default.N.da,"Error parsing XML.");new g(50,n.default.N.da,"Error encoding XML.");new g(1009,n.default.N.ag,"Master token sequence number does not have the expected value.");new g(1013,n.default.N.ag,"Master token entity identity is revoked.");new g(2013,n.default.N.Ee,"The user identity was not found.");new g(2014,n.default.N.Ee,"The user identity must be reauthenticated because the password version changed.");new g(2015,n.default.N.da,"The user ID token MSL user type is incorrect.");new g(2016,n.default.N.Ee,"The user ID token MSL user is invalid.");new g(2017,n.default.N.qq,"Error communicating with membership service");new g(2018,n.default.N.Vc,"Previous credentials are no longer valid");new g(2019,n.default.N.Ee,"The user identity was not found.");new g(2020,n.default.N.Ee,"The user identity was not found.");new g(2021,n.default.N.Ee,"The user identity was not found.");new g(4005,n.default.N.da,"Entity not recognized.");new g(4006,n.default.N.da,"Entity used incorrect entity authentication data type.");new g(4024,n.default.N.da,"Cryptex RSA key set not found.");g.p3a=new g(4025,n.default.N.da,"Entity is revoked.");new g(4028,n.default.N.Kh,"Error parsing Anycast challenge.");new g(4029,n.default.N.Kh,"Anycast challenge is not acceptable.");new g(4030,n.default.N.Kh,"X.509 certificates are missing from entity auth.");new g(4031,n.default.N.da,"Cryptex ECC key set not found.");new g(4032,n.default.N.da,"Invalid MSL Trust Store found.");new g(4033,n.default.N.da,"Entity migration is not allowed.");new g(4034,n.default.N.Kh,"FairPlay Streaming key request is invalid.");new g(5E3,n.default.N.Vc,"User must login again.");new g(5001,n.default.N.Vc,"Netflix ID cookie identity has expired.");g.aSb=new g(5002,n.default.N.Vc,"Netflix ID cookie is blank.");new g(5003,n.default.N.Vc,"Secure Netflix ID cookie is blank.");new g(5005,n.default.N.qq,"Unknown error communicating with authentication manager.");new g(5006,n.default.N.qq,"Error communicating with authentication manager.");g.g3a=new g(5007,n.default.N.Vc,"Email or password is incorrect.");new g(5008,n.default.N.Vc,"Password has not been set.");new g(5009,n.default.N.Kfa,"SSO token is blank.");new g(5010,n.default.N.Vc,"SSO token is not associated with a Netflix user.");new g(5012,n.default.N.Vc,"Profile GUID is blank.");new g(5015,n.default.N.Kfa,"SSO token invalid.");new g(5017,n.default.N.qq,"Error communicating with the account manager.");new g(5018,n.default.N.qq,"SSO user association failed.");new g(5019,n.default.N.qq,"SSO user disassociation failed.");new g(5020,n.default.N.Vc,"MDX user authentication data verification failed.");new g(5022,n.default.N.Vc,"MDX user authentication data action is invalid.");new g(5023,n.default.N.Vc,"CTicket decryption failed.");new g(5026,n.default.N.Vc,"Error creating CTicket crypto context.");new g(5027,n.default.N.Vc,"MDX controller or target PIN is blank.");new g(5028,n.default.N.Vc,"MDX controller and target PIN mismatch.");new g(5029,n.default.N.Vc,"MDX controller user ID token or CTicket is not decrypted or verified.");new g(5031,n.default.N.Vc,"MDX controller authentication data is invalid.");new g(5032,n.default.N.Vc,"User authentication data does not match entity identity.");new g(5033,n.default.N.da,"Entity used incorrect user authentication data type.");new g(5034,n.default.N.Vc,"SSO user association failed because the customer is not a member.");new g(5035,n.default.N.Vc,"SSO user association failed because the customer is a former member.");new g(5036,n.default.N.Vc,"SSO user association failed because the token identifies a different member.");new g(5038,n.default.N.Vc,"Not permitted to switch to the requested user profile.");new g(5039,n.default.N.qq,"Error communicating with the membership manager.");new g(5040,n.default.N.Vc,"No entity association record found for the user.");new g(5041,n.default.N.da,"The MSL user type is incorrect.");new g(5042,n.default.N.Vc,"User entity association record query returned an error.");new g(5043,n.default.N.Vc,"User entity association record query returned different entity identities.");new g(5044,n.default.N.Vc,"User entity association record is deactivated.");new g(5045,n.default.N.Vc,"User entity association record query returned different user identities.");new g(5046,n.default.N.Ee,"No entity association record found for the user.");new g(5047,n.default.N.Ee,"User entity association record query returned an error.");new g(5048,n.default.N.Ee,"User entity association record query returned different entity identities.");new g(5049,n.default.N.Ee,"User entity association record is deactivated.");new g(5050,n.default.N.Ee,"User entity association record query returned different user identities.");new g(5052,n.default.N.Ee,"User entity association record query returned different user identities.");new g(5053,n.default.N.qq,"The maximum number of devices has been reached for this user.");g.h8a=new g(6032,n.default.N.da,"Non-replayable message non-replayable ID is out of range.");new g(7E3,n.default.N.da,"Invalid key exchange GUID.");new g(7001,n.default.N.qq,"Error communicating with key exchange service");new g(7002,n.default.N.da,"Identity in challenge doesn't match device identity");new g(7003,n.default.N.da,"Error returned by key exchange service");new g(7004,n.default.N.da,"Request rejected by key exchange service");new g(7005,n.default.N.qq,"Internal error encountered during key exchange");new g(7006,n.default.N.da,"Request failed validation during key exchange");new g(7007,n.default.N.da,"Request blacklisted by key exchange service");new g(7008,n.default.N.da,"Request could not be decoded by key exchange service");new g(7009,n.default.N.ag,"Widevine key exchange entity authentication scheme unknown.");new g(7010,n.default.N.ag,"Widevine key exchange issuer data parse error.");new g(7011,n.default.N.ag,"Widevine key exchange identity mismatch between key request data and entity auth data");new g(7012,n.default.N.ag,"Widevine key exchange identity mismatch between key request data and mastertoken");new g(7013,n.default.N.ag,"Widevine key exchange CDM ID mismatch between key request data and previous mastertoken");new g(8E3,n.default.N.da,"Error encrypting data with cryptex.");new g(8001,n.default.N.da,"Error decrypting data with cryptex.");new g(8002,n.default.N.da,"Error computing MAC with cryptex.");new g(8003,n.default.N.da,"Error verifying MAC or signature with cryptex.");new g(8004,n.default.N.da,"Error creating cryptex cipher or MAC context.");new g(8005,n.default.N.qq,"Error accessing data model device.");new g(8006,n.default.N.da,"Data model device type not found.");new g(8007,n.default.N.da,"Cryptex key set not supported.");new g(8008,n.default.N.da,"Insufficient privileges for cryptex operation.");new g(8009,n.default.N.da,"Error wrapping data with cryptex.");new g(8010,n.default.N.da,"Error unwrapping data with cryptex.");new g(8011,n.default.N.qq,"Error comunicating with cryptex.");new g(8012,n.default.N.da,"Error computing signature with cryptex.");new g(8013,n.default.N.da,"Error computing key fingerprint with cryptex.");new g(8014,n.default.N.da,"Bypassing Error Header Signing.");return g;})(t.default);b["default"]=a;},48603:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.W1a=void 0;d=a(22970).__importDefault(a(10690));t=(function(){function n(){}n.prototype.encrypt=function(c,g,f,e){e.result(c);};n.prototype.decrypt=function(c,g,f){f.result(c);};n.prototype.vL=function(c,g,f,e){e.error(new d.default("Wrap is unsupported by the MSL token crypto context."));};n.prototype.oL=function(c,g,f,e){e.error(new d.default("Unwrap is unsupported by the MSL token crypto context."));};n.prototype.sign=function(c,g,f,e){e.result(new Uint8Array(0));};n.prototype.verify=function(c,g,f,e){e.result(!1);};return n;})();b.W1a=t;},69351:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.P5a=b.x3a=b.Algorithm=void 0;t=a(22970);d=a(96837);n=t.__importDefault(a(10690));c=t.__importDefault(a(42458));g=t.__importDefault(a(36114));f=a(50441);e=a(36911);h=a(42486);l=a(60426);k=t.__importDefault(a(42979));b.Algorithm={DD:d.Fe.DD.name,eda:d.Fe.eda.name};b.x3a={A128GCM:"A128GCM",cPc:"A256GCM"};a=(function(){function m(p,r,q,u,v){switch(r){case b.Algorithm.DD:r=d.Fe.DD;v=v && (v.nv || v);u=u && (u.nv || u);break;case b.Algorithm.eda:r=d.Fe.eda;v=u=u && (u.nv || u);break;default:throw new n.default("Unsupported algorithm: " + r);}this.Kj=p;this.xfb=r;this.nZb=v;this.bZb=u;}m.prototype.encrypt=function(p,r,q,u){u.error(new c.default(g.default.Hwa));};m.prototype.decrypt=function(p,r,q){q.error(new c.default(g.default.Xva));};m.prototype.vL=function(p,r,q,u){k.default(u,function(){f.Cg.wrapKey("jwe+jwk",p.nv,this.nZb,this.xfb).then(function(v){u.result(new Uint8Array(v));},function(v){u.error(new c.default(g.default.HDa,null,v));});},this);};m.prototype.oL=function(p,r,q,u){function v(w){k.default(u,function(){switch(w.type){case "secret":l.qV(w,u);break;case "public":h.oV(w,u);break;case "private":e.nV(w,u);break;default:throw new c.default(g.default.lDa,"type: " + w.type);}});}k.default(u,function(){f.Cg.unwrapKey("jwe+jwk",p,this.bZb,this.xfb,r,!1,q).then(function(w){v(w);},function(w){u.error(new c.default(g.default.nDa,null,w));});},this);};m.prototype.sign=function(p,r,q,u){u.error(new c.default(g.default.kCa));};m.prototype.verify=function(p,r,q,u){u.error(new c.default(g.default.xDa));};return m;})();b.P5a=a;},11475:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fk={RBa:"raw",xea:"jwk",nH:"spki",rT:"pkcs8"};},25881:function(t,b,a){var d,n,c,g,f,e,h,l,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.yTa=b.fJa=b.URb=b.Ye=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(51411));c=d.__importDefault(a(42979));g=a(44127);f=d.__importDefault(a(42458));e=d.__importDefault(a(6838));h=d.__importDefault(a(88257));l=d.__importDefault(a(36114));k=d.__importDefault(a(10690));b.Ye={Qk:1,fy:2};m=(function(p){function r(q,u,v){var w,x,y,A,z;w=p.call(this) || this;x=b.Ye.Qk;y=q;A=null;for(z in n.default.Ova)if(n.default.Ova[z] == q){x=b.Ye.fy;y=null;A=q;break;}w.version=x;w.pz=y;w.e5b=A;w.iv=u;w.AE=v;return w;}d.__extends(r,p);r.prototype.Dm=function(q,u,v){var w;w=this;c.default(v,function(){var x;x=q.af();switch(w.version){case b.Ye.Qk:x.put("keyid",w.pz);w.iv && x.put("iv",w.iv);x.put("ciphertext",w.AE);x.put("sha256",g.Pj("AA=="));break;case b.Ye.fy:x.put("version",w.version);x.put("cipherspec",w.e5b);w.iv && x.put("iv",w.iv);x.put("ciphertext",w.AE);break;default:throw new k.default("Ciphertext envelope version " + w.version + " encoding unsupported.");}q.jj(x,u,v);},this);};return r;})(t.Dn);b.URb=m;b.fJa=function(p,r,q,u){c.default(u,function(){return new m(p,r,q);});};b.yTa=function(p,r,q){c.default(q,function(){var u,v,w,x,y;if(!r)try{r=p.UO("version");u=!1;for(v in b.Ye)if(b.Ye[v] == r){u=!0;break;}if(!u)throw new f.default(l.default.xcb,"ciphertext envelope " + p);}catch(A){if(A instanceof e.default)r=b.Ye.Qk;else throw A;}switch(r){case b.Ye.Qk:try{w=p.de("keyid");x=p.has("iv")?p.gd("iv"):null;y=p.gd("ciphertext");p.gd("sha256");}catch(A){if(A instanceof e.default)throw new h.default(l.default.Me,"ciphertext envelope " + p,A);throw A;}break;case b.Ye.fy:try{if(p.UO("version") != b.Ye.fy)throw new f.default(l.default.xcb,"ciphertext envelope " + p);w=n.default.Ova.JO(p.de("cipherspec"));if(!w)throw new f.default(l.default.nVb,"ciphertext envelope " + p);x=p.has("iv")?p.gd("iv"):null;y=p.gd("ciphertext");}catch(A){if(A instanceof e.default)throw new h.default(l.default.Me,"ciphertext envelope " + p,A);throw A;}break;default:throw new f.default(l.default.rVb,"ciphertext envelope " + p);}return new m(w,x,y);});};},50441:function(t,b,a){var g,f,e,h,l,k;function d(m){return "undefined" === typeof m?!1:m;}function n(m){if(m && m.length){if(l === b.Qb.sq || l === b.Qb.tq)m=m.map(function(p){return "wrap" == p?"wrapKey":"unwrap" == p?"unwrapKey":p;});return m;}return l === b.Qb.sq || l === b.Qb.tq?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function c(m){return m.then?m:f.default.create(function(p,r){m.oncomplete=function(q){p(q.target.result);};m.onerror=function(q){r(q);};});}Object.defineProperty(b,"__esModule",{value:!0});b.Cg=b.lGc=b.cOa=b.nXa=b.Qb=void 0;t=a(22970);g=a(11475);f=t.__importDefault(a(90122));e=a(69193);h=t.__importDefault(a(69763));b.Qb={Wr:1,Rv:2,sq:3,tq:4,Lv:5,QQb:3};l=b.Qb.QQb;b.nXa=function(m){l=m;};b.cOa=function(){return l;};if("undefined" !== typeof Ba)if(Ba.msCrypto){k=Ba.msCrypto.subtle;l=b.Qb.Wr;}else if(Ba.crypto)if(Ba.crypto.fOc)(k=Ba.crypto.fOc,l=b.Qb.tq);else if(Ba.crypto.subtle)k=Ba.crypto.subtle;else throw new ReferenceError("Expected window.crypto.subtle but it was undefined. It may be unavailable if running in an insecure context.");b.lGc=function(m){k=m;};b.Cg={encrypt:function(m,p,r){switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:case b.Qb.Lv:return (m=k.encrypt(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + l + ".");}},decrypt:function(m,p,r){switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:case b.Qb.Lv:return (m=k.decrypt(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + l + ".");}},sign:function(m,p,r){switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:case b.Qb.Lv:return (m=k.sign(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + l + ".");}},verify:function(m,p,r,q){switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:case b.Qb.Lv:return (m=k.verify(m,p,r,q),c(m));default:throw Error("Unsupported Web Crypto version " + l + ".");}},digest:function(m,p){switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:case b.Qb.Lv:return (m=k.digest(m,p),c(m));default:throw Error("Unsupported Web Crypto version " + l + ".");}},generateKey:function(m,p,r){p=d(p);r=n(r);switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:case b.Qb.Lv:return (m=k.generateKey(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + l + ".");}},deriveKey:function(m,p,r,q,u){q=d(q);u=n(u);switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:case b.Qb.Lv:return (m=k.deriveKey(m,p,r,q,u),c(m));default:throw Error("Unsupported Web Crypto version " + l + ".");}},deriveBits:function(m,p,r){switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:case b.Qb.Lv:return (m=k.deriveBits(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + l + ".");}},importKey:function(m,p,r,q,u){var v;q=d(q);u=n(u);switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.Lv:return (r=k.importKey(m,p,r,q,u),c(r));case b.Qb.tq:if(m == g.fk.nH || m == g.fk.rT){m=h.default.JLb(r);v=h.default.KLb(u);p=h.default.SEb(p,m,v,q);if(!p)throw Error("Could not make valid JWK from DER input");p=JSON.stringify(p);r=k.importKey(g.fk.xea,e.HA.gd(p),r,q,u);}else r=k.importKey(m,p,r,q,u);return c(r);default:throw Error("Unsupported Web Crypto version " + l + ".");}},exportKey:function(m,p){switch(l){case b.Qb.Wr:case b.Qb.Rv:case b.Qb.sq:case b.Qb.Lv:return (m=k.exportKey(m,p),c(m));case b.Qb.tq:if(m == g.fk.nH || m == g.fk.rT)return (m=k.exportKey(g.fk.xea,p),c(m).then(function(r){r=JSON.parse(e.HA.de(new Uint8Array(r)));r=h.default.lvb(r);if(!r)throw Error("Could not make valid DER from JWK input");return r.O5.buffer;}));m=k.exportKey(m,p);return c(m);default:throw Error("Unsupported Web Crypto version " + l + ".");}},wrapKey:function(m,p,r,q){switch(l){case b.Qb.Wr:case b.Qb.Lv:m=k.wrapKey(p,r,q);break;case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:m=k.wrapKey(m,p,r,q);break;default:throw Error("Unsupported Web Crypto version " + l + ".");}return c(m);},unwrapKey:function(m,p,r,q,u,v,w){switch(l){case b.Qb.Wr:m=k.unwrapKey(p,u,r);break;case b.Qb.Rv:case b.Qb.sq:case b.Qb.tq:case b.Qb.Lv:v=d(v);w=n(w);m=k.unwrapKey(m,p,r,q,u,v,w);break;default:throw Error("Unsupported Web Crypto version " + l + ".");}return c(m);}};},75007:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.zTa=b.gJa=b.XRb=b.Ye=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(10690));c=t.__importDefault(a(42458));g=t.__importDefault(a(51411));f=t.__importDefault(a(6838));e=t.__importDefault(a(88257));h=t.__importDefault(a(36114));l=a(44127);b.Ye={Qk:1,fy:2};k=(function(){function m(p,r,q){this.version=p;this.algorithm=r;this.uba=q;}m.prototype.gd=function(p,r,q){var u;u=this;d.default(q,function(){var v;switch(u.version){case b.Ye.Qk:return u.uba;case b.Ye.fy:v=p.af();v.put("version",u.version);v.put("algorithm",u.algorithm);v.put("signature",u.uba);p.jj(v,r,q);break;default:throw new n.default("Signature envelope version " + u.version + " encoding unsupported.");}});};return m;})();b.XRb=k;b.gJa=function(){var m,p,r,q;if(2 == arguments.length)(m=b.Ye.Qk,p=arguments[0],r=null,q=arguments[1]);else 3 == arguments.length && (m=b.Ye.fy,r=arguments[0],p=arguments[1],q=arguments[2]);d.default(q,function(){return new k(m,r,p);});};b.zTa=function(m,p,r,q){d.default(q,function(){var u,v,w,x,y;if(p)switch(p){case b.Ye.Qk:return new k(b.Ye.Qk,null,m);case b.Ye.fy:try{u=r.ro(m);v=u.UO("version");if(b.Ye.fy != v)throw new c.default(h.default.mDa,"signature envelope " + m);w=g.default.F2.JO(u.de("algorithm"));if(!w)throw new c.default(h.default.kDa,"signature envelope " + m);x=u.gd("signature");return new k(b.Ye.fy,w,x);}catch(z){if(z instanceof f.default)throw new e.default(h.default.Me,"signature envelope " + m,z);throw z;}default:throw new c.default(h.default.mDa,"signature envelope " + l.Sh(m));}try{u=r.ro(m);}catch(z){if(z instanceof f.default)u=null;else throw z;}if(u && u.has("version"))try{y=u.UO("version");y !== y && (y=b.Ye.Qk);v=!1;for(var A in b.Ye)if(b.Ye[A] == y){v=!0;break;}v || (y=b.Ye.Qk);}catch(z){z instanceof f.default && (y=b.Ye.Qk);}else y=b.Ye.Qk;switch(y){case b.Ye.Qk:return new k(y,null,m);case b.Ye.fy:try{return (w=g.default.F2.JO(u.de("algorithm")),x=u.gd("signature"),w?new k(y,w,x):new k(b.Ye.Qk,null,m));}catch(z){if(z instanceof f.default)return new k(b.Ye.Qk,null,m);throw z;}default:throw new c.default(h.default.mDa,"signature envelope " + m);}});};},97962:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.C8a=void 0;t=(function(){function a(){}a.prototype.encrypt=function(d,n,c,g){g.result(d);};a.prototype.decrypt=function(d,n,c){c.result(d);};a.prototype.vL=function(d,n,c,g){g.result(d);};a.prototype.oL=function(d,n,c,g){g.result(d);};a.prototype.sign=function(d,n,c,g){g.result(new Uint8Array(0));};a.prototype.verify=function(d,n,c,g){g.result(!0);};return a;})();b.C8a=t;},36911:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m){if(m == f.fk.rT){if(k instanceof Uint8Array)return k;if("string" === typeof k)try{return h.Pj(k);}catch(p){throw new c.default(e.default.XS,m + " " + k,p);}throw new c.default(e.default.XS,m + " " + k);}if(m == f.fk.xea){if("string" === typeof k)try{k=JSON.parse(k);}catch(p){throw new c.default(e.default.XS,m + " " + k,p);}if("object" === typeof k && k.constructor === Object)return k;throw new c.default(e.default.XS,m + " " + k);}throw new c.default(e.default.XS,"Invalid format '" + m + "'");}Object.defineProperty(b,"__esModule",{value:!0});b.Umc=b.nV=b.W$a=void 0;t=a(22970);n=t.__importDefault(a(42979));c=t.__importDefault(a(42458));g=a(50441);f=a(11475);e=t.__importDefault(a(36114));h=a(44127);l=(function(){function k(m,p,r){var u;function q(v){n.default(p,function(){u.nv=m;u.MKa=v;return u;});}u=this;n.default(p,function(){if("object" !== typeof m || "private" != m.type)throw new TypeError("Only original private crypto keys are supported.");!r && m.extractable?g.Cg.exportKey(f.fk.rT,m).then(function(v){q(new Uint8Array(v));},function(v){p.error(new c.default(e.default.hya,f.fk.rT,v));}):q(r);});}k.prototype.AB=function(){return this.MKa;};return k;})();b.W$a=l;b.nV=function(k,m){new l(k,m);};b.Umc=function(k,m,p,r,q){n.default(q,function(){var u;u=d(k,r);g.Cg.importKey(r,u,m,!0,p).then(function(v){new l(v,q,u);},function(v){q.error(new c.default(e.default.XS,null,v));});});};},42486:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m){if(m == f.fk.nH){if(k instanceof Uint8Array)return k;if("string" === typeof k)try{return h.Pj(k);}catch(p){throw new c.default(g.default.WL,m + " " + k,p);}throw new c.default(g.default.WL,m + " " + k);}if(m == f.fk.xea){if("string" === typeof k)try{k=JSON.parse(k);}catch(p){throw new c.default(g.default.WL,m + " " + k,p);}if("object" === typeof k && k.constructor === Object)return k;throw new c.default(g.default.WL,m + " " + k);}throw new c.default(g.default.WL,"Invalid format '" + m + "'");}Object.defineProperty(b,"__esModule",{value:!0});b.QOa=b.oV=b.rfa=void 0;t=a(22970);n=t.__importDefault(a(42979));c=t.__importDefault(a(42458));g=t.__importDefault(a(36114));f=a(11475);e=a(50441);h=a(44127);l=(function(){function k(m,p,r){var u;function q(v){n.default(p,function(){u.nv=m;u.MKa=v;return u;});}u=this;n.default(p,function(){if("object" !== typeof m || "public" != m.type)throw new TypeError("Only original public crypto keys are supported.");!r && m.extractable?e.Cg.exportKey(f.fk.nH,m).then(function(v){q(new Uint8Array(v));},function(v){p.error(new c.default(g.default.hya,f.fk.nH,v));}):q(r);});}k.prototype.AB=function(){return this.MKa;};return k;})();b.rfa=l;b.oV=function(k,m){new l(k,m);};b.QOa=function(k,m,p,r,q){n.default(q,function(){var u;u=d(k,r);e.Cg.importKey(r,u,m,!0,p).then(function(v){new l(v,q,u);},function(v){q.error(new c.default(g.default.WL,null,v));});});};},33863:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Hfa=b.yD=void 0;t=a(22970);d=a(96837);n=t.__importDefault(a(42979));c=t.__importDefault(a(42458));g=t.__importDefault(a(6838));f=t.__importDefault(a(36114));e=a(50441);h=a(75007);l=a(60426);k=a(42486);m=a(36911);p=t.__importDefault(a(88257));r=a(25881);q=a(32260);b.yD={mPb:1,nPb:2,edb:3,fdb:4,CT:5};a=(function(){function u(v,w,x,y,A){var z;x && (x=x.nv);y && (y=y.nv);v=A == b.yD.nPb?d.Fe.zfa:A == b.yD.mPb?d.Fe.DD:"nullOp";z=A == b.yD.fdb?d.Fe.zfa:A == b.yD.edb?d.Fe.DD:"nullOp";A=A == b.yD.CT?d.Fe.y2:"nullOp";this.id=w;this.privateKey=x;this.publicKey=y;this.transform=v;this.kua=z;this.Tha=A;}u.prototype.encrypt=function(v,w,x,y){var A;A=this;n.default(y,function(){if("nullOp" == A.transform)return v;if(!A.publicKey)throw new c.default(f.default.Hwa,"no public key");if(0 == v.length)return v;e.Cg.encrypt(A.transform,A.publicKey,v).then(function(z){r.fJa(A.id,null,new Uint8Array(z),{result:function(B){B.Dm(w,x,{result:y.result,error:function(C){C instanceof g.default && (C=new c.default(f.default.Eda,null,C));y.error(C);}});},error:function(B){q.pd(B) || (B=new c.default(f.default.bea,null,B));y.error(B);}});},function(z){y.error(new c.default(f.default.bea,null,z));});});};u.prototype.decrypt=function(v,w,x){var y;y=this;n.default(x,function(){var A;if("nullOp" == y.transform)return v;if(!y.privateKey)throw new c.default(f.default.Xva,"no private key");if(0 == v.length)return v;try{A=w.ro(v);}catch(z){if(z instanceof g.default)throw new c.default(f.default.B1a,null,z);throw new c.default(f.default.WG,null,z);}r.yTa(A,h.Ye.Qk,{result:function(z){try{e.Cg.decrypt(y.transform,y.privateKey,z.AE).then(function(B){x.result(new Uint8Array(B));},function(B){x.error(new c.default(f.default.WG,null,B));});}catch(B){q.pd(B)?x.error(B):x.error(new c.default(f.default.WG,null,B));}},error:function(z){z instanceof p.default && (z=new c.default(f.default.Eda,null,z));q.pd(z) || (z=new c.default(f.default.WG,null,z));x.error(z);}});});};u.prototype.vL=function(v,w,x,y){var A;A=this;n.default(y,function(){if("nullOp" == A.kua || !A.publicKey)throw new c.default(f.default.ddb,"no public key");e.Cg.wrapKey("jwk",v.nv,A.publicKey,A.kua).then(function(z){y.result(new Uint8Array(z));},function(z){y.error(new c.default(f.default.HDa,null,z));});});};u.prototype.oL=function(v,w,x,y){var z;function A(B){n.default(y,function(){switch(B.type){case "secret":l.qV(B,y);break;case "public":k.oV(B,y);break;case "private":m.nV(B,y);break;default:throw new c.default(f.default.lDa,"type: " + B.type);}});}z=this;n.default(y,function(){if("nullOp" == z.kua || !z.privateKey)throw new c.default(f.default.Ccb,"no private key");e.Cg.unwrapKey("jwk",v,z.privateKey,z.kua,w,!1,x).then(A,function(B){y.error(new c.default(f.default.nDa,null,B));});});};u.prototype.sign=function(v,w,x,y){var A;A=this;n.default(y,function(){if("nullOp" == A.Tha)return new Uint8Array(0);if(!A.privateKey)throw new c.default(f.default.kCa,"no private key");e.Cg.sign(A.Tha,A.privateKey,v).then(function(z){h.gJa(new Uint8Array(z),{result:function(B){B.gd(w,x,{result:y.result,error:function(C){C instanceof g.default && (C=new c.default(f.default.Fab,void 0,C));y.error(C);}});},error:y.error});},function(z){y.error(new c.default(f.default.Gab,void 0,z));});});};u.prototype.verify=function(v,w,x,y){var A;A=this;n.default(y,function(){if("nullOp" == A.Tha)return !0;if(!A.publicKey)throw new c.default(f.default.xDa,"no public key");h.zTa(w,h.Ye.Qk,x,{result:function(z){n.default(y,function(){var B;B=y.result;e.Cg.verify(A.Tha,A.publicKey,z.uba,v).then(B,function(C){y.error(new c.default(f.default.Gab,void 0,C));});});},error:y.error});});};return u;})();b.Hfa=a;},60426:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.ROa=b.qV=b.uCa=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(42458));c=t.__importDefault(a(36114));g=a(50441);f=a(11475);e=a(44127);h=(function(){function l(k,m,p){var q;function r(u){d.default(m,function(){var v;v=u?e.Sh(u):void 0;q.algorithm=k.algorithm;q.nv=k;q.kQa=u;q.g0c=v;return q;});}q=this;d.default(m,function(){if("object" !== typeof k)throw new n.default(c.default.Nxa);!p && k.extractable?g.Cg.exportKey(f.fk.RBa,k).then(function(u){r(new Uint8Array(u));},function(u){m.error(new n.default(c.default.hya,f.fk.RBa,u));}):r(p);});}l.prototype.size=function(){return this.kQa.length;};l.prototype.v_=function(){return this.kQa;};l.prototype.AB=function(){return this.kQa;};return l;})();b.uCa=h;b.qV=function(l,k){new h(l,k);};b.ROa=function(l,k,m,p){d.default(p,function(){try{l="string" === typeof l?e.Pj(l):l;}catch(r){throw new n.default(c.default.Nxa,"keydata " + l,r);}g.Cg.importKey(f.fk.RBa,l,k,!0,m).then(function(r){new h(r,p,l);},function(r){p.error(new n.default(c.default.Nxa,null,r));});});};},43088:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.E2=void 0;d=a(22970);t=a(72672);n=d.__importDefault(a(80760));c=d.__importDefault(a(36114));a=(function(g){function f(e,h,l,k,m){if(void 0 !== l || k || m)e=g.call(this,e,l?l + "_" + h.Aj:"" + h.Aj,k,m,null) || this;else {if(!h.n8())throw new n.default(c.default.$6a,h);e=g.call(this,e,h.Os + "_" + h.Aj,h.Bu,h.uG,null) || this;}return e;}d.__extends(f,g);return f;})(t.UCa);b.E2=a;},72672:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(42458));c=t.__importDefault(a(36114));g=a(25881);f=t.__importDefault(a(6838));e=a(50441);h=a(96837);l=t.__importDefault(a(88257));k=a(60426);m=a(42486);p=a(36911);r=a(75007);q=a(32260);a=(function(){function u(v,w,x,y,A){this.Rj=v;this.id=w;this.Bu=null === x || void 0 === x?void 0:x.nv;this.uG=null === y || void 0 === y?void 0:y.nv;this.wrapKey=null === A || void 0 === A?void 0:A.nv;}u.prototype.encrypt=function(v,w,x,y){var A;A=this;d.default(y,function(){var z;if(!A.Bu)throw new n.default(c.default.Hwa,"no encryption/decryption key");if(0 == v.length)return v;z=new Uint8Array(16);A.Rj.Arb().Puc(z);e.Cg.encrypt({name:h.Fe.yL.name,iv:z},A.Bu,v).then(function(B){g.fJa(A.id,z,new Uint8Array(B),{result:function(C){C.Dm(w,x,{result:y.result,error:function(D){D instanceof f.default && (D=new n.default(c.default.Eda,null,D));y.error(D);}});},error:function(C){q.pd(C) || (C=new n.default(c.default.bea,null,C));y.error(C);}});},function(B){y.error(new n.default(c.default.bea,null,B));});});};u.prototype.decrypt=function(v,w,x){var y;y=this;d.default(x,function(){var A;if(!y.Bu)throw new n.default(c.default.Xva,"no encryption/decryption key");if(0 == v.length)return v;try{A=w.ro(v);}catch(z){if(z instanceof f.default)throw new n.default(c.default.B1a,null,z);throw new n.default(c.default.WG,null,z);}g.yTa(A,g.Ye.Qk,{result:function(z){try{e.Cg.decrypt({name:h.Fe.yL.name,iv:z.iv},y.Bu,z.AE).then(function(B){x.result(new Uint8Array(B));},function(B){x.error(new n.default(c.default.WG,null,B));});}catch(B){q.pd(B)?x.error(B):x.error(new n.default(c.default.WG,null,B));}},error:function(z){z instanceof l.default && (z=new n.default(c.default.Eda,null,z));q.pd(z) || (z=new n.default(c.default.WG,null,z));x.error(z);}});});};u.prototype.vL=function(v,w,x,y){var A;A=this;d.default(y,function(){if(!A.wrapKey)throw new n.default(c.default.ddb,"no wrap/unwrap key");e.Cg.wrapKey("raw",v.nv,A.wrapKey,A.wrapKey.algorithm).then(function(z){y.result(new Uint8Array(z));},function(z){y.error(new n.default(c.default.HDa,null,z));});});};u.prototype.oL=function(v,w,x,y){var z;function A(B){d.default(y,function(){switch(B.type){case "secret":k.qV(B,y);break;case "public":m.oV(B,y);break;case "private":p.nV(B,y);break;default:throw new n.default(c.default.lDa,"type: " + B.type);}});}z=this;d.default(y,function(){if(!z.wrapKey)throw new n.default(c.default.Ccb,"no wrap/unwrap key");e.Cg.unwrapKey("raw",v,z.wrapKey,z.wrapKey.algorithm,w,!1,x).then(function(B){A(B);},function(B){y.error(new n.default(c.default.nDa,null,B));});},this);};u.prototype.sign=function(v,w,x,y){var A;A=this;d.default(y,function(){if(!A.uG)throw new n.default(c.default.kCa,"no signature key.");e.Cg.sign(A.uG.algorithm,A.uG,v).then(function(z){d.default(y,function(){r.gJa(new Uint8Array(z),{result:function(B){B.gd(w,x,{result:y.result,error:function(C){d.default(y,function(){C instanceof f.default && (C=new n.default(c.default.Fab,void 0,C));y.error(C);});}});},error:y.error});});},function(z){y.error(new n.default(c.default.mea,null,z));});});};u.prototype.verify=function(v,w,x,y){var A;A=this;d.default(y,function(){if(!A.uG)throw new n.default(c.default.xDa,"no signature key.");r.zTa(w,r.Ye.Qk,x,{result:function(z){d.default(y,function(){var B;B=y.result;e.Cg.verify(A.uG.algorithm,A.uG,z.uba,v).then(B,function(C){y.error(new n.default(c.default.mea,void 0,C));});});},error:y.error});});};return u;})();b.UCa=a;},96837:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.loc=b.apc=b.Aoc=b.Fe=void 0;b.Fe={eda:{name:"AES-KW"},yL:{name:"AES-CBC"},cPb:{name:"ECDH"},oOb:{name:"DH"},WS:{name:"HMAC",hash:{name:"SHA-256"}},DD:{name:"RSA-OAEP",hash:{name:"SHA-1"}},zfa:{name:"RSAES-PKCS1-v1_5"},kUb:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}},r_a:{name:"AES-CMAC"},dPb:{name:"ECDSA",hash:{name:"SHA-256"}},lUb:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}},y2:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},kPc:{name:"NFLX-DH"},eUc:{name:"SHA-256"},fUc:{name:"SHA-384"}};b.Aoc=function(a){return "HMAC" == a.name;};b.apc=function(a){switch(a.name){case b.Fe.DD.name:case b.Fe.zfa.name:case b.Fe.kUb.name:case b.Fe.lUb.name:case b.Fe.y2.name:return !0;default:return !1;}};b.loc=function(a){switch(a.name){case b.Fe.cPb.name:case b.Fe.dPb.name:return !0;default:return !1;}};},10558:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ND={aea:["encrypt","decrypt"],cRc:["encrypt"],sQc:["decrypt"],rVc:["wrap","unwrap"],GDa:["wrap"],dVc:["unwrap"],CT:["sign","verify"],gUc:["sign"],lVc:["verify"],uQc:["deriveKey"]};},58768:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.MAb=b.N0=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=d.__importDefault(a(24571));g=d.__importDefault(a(36114));f=d.__importDefault(a(6838));e=d.__importDefault(a(88257));a=(function(h){function l(k){var m;m=h.call(this) || this;m.scheme=k;m.encodings={};return m;}d.__extends(l,h);l.prototype.equals=function(k){return this === k?!0:k instanceof l?this.scheme == k.scheme:!1;};l.prototype.Dm=function(k,m,p){var r;r=this;n.default(p,function(){if(r.encodings[m])return r.encodings[m];r.OO(k,{result:function(q){n.default(p,function(){var u;u=k.af();u.put("scheme",r.scheme.name);u.put("authdata",q);k.jj(u,m,{result:function(v){n.default(p,function(){return r.encodings[m]=v;});},error:p.error});});},error:p.error});});};return l;})(t.Dn);b.N0=a;b.MAb=function(h,l,k){n.default(k,function(){var m,p,r,q;try{m=l.de("scheme");p=l.op("authdata",h.qg);r=h.Ghc(m);if(!r)throw new c.default(g.default.oVb,m);q=h.Ela(r);if(!q)throw new c.default(g.default.Jwa,r.name);q.r5(p,k);}catch(u){if(u instanceof f.default)throw new e.default(g.default.Me,"entityauthdata " + l,u);throw u;}});};},80477:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vwa=void 0;b.Vwa=(function(){return function(a){this.scheme=a;};})();},36332:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oD=void 0;t=(function(){function a(d,n,c){this.name=d;this.xka=n;this.ICb=c;a.Zz[d]=this;}a.prototype.toString=function(){return this.name;};a.w7=function(d){return a.Zz[d]?a.Zz[d]:null;};a.Zz={};return a;})();b["default"]=t;b.oD={m9a:new t("PSK",!0,!0),HTb:new t("PSK_PROFILE",!0,!0),tVc:new t("X509",!1,!0),zT:new t("RSA",!1,!0),bPb:new t("ECC",!1,!0),NONE:new t("NONE",!1,!1),dSb:new t("NONE_SUFFIXED",!1,!1),BSc:new t("MT_PROTECTED",!1,!1),KTc:new t("PROVISIONED",!1,!1),xRb:new t("MIGRATION",!1,!1)};},75563:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.jyc=b.aUb=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));g=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(l){function k(m,p){var r;r=l.call(this,n.oD.HTb) || this;r.Wqa=m;r.profile=p;return r;}d.__extends(k,l);k.prototype.Uy=function(){return this.Wqa + "-" + this.profile;};k.prototype.OO=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.af();q.put("pskid",r.Wqa);q.put("profile",r.profile);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?l.prototype.equals.call(this,m) && this.Wqa == m.Wqa && this.profile == m.profile:!1;};return k;})(t.N0);b.aUb=h;b.jyc=function(l){var k,m;try{k=l.de("pskid");m=l.de("profile");return new h(k,m);}catch(p){if(p instanceof g.default)throw new f.default(e.default.Me,"psk profile authdata " + l);throw p;}};},90973:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.XAb=b.xab=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));g=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(l){function k(m,p){var r;r=l.call(this,n.oD.zT) || this;r.Os=m;r.kra=p;return r;}d.__extends(k,l);k.prototype.Uy=function(){return this.Os;};k.prototype.OO=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.af();q.put("identity",r.Os);q.put("pubkeyid",r.kra);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?l.prototype.equals.call(this,m) && this.Os == m.Os && this.kra == m.kra:!1;};return k;})(t.N0);b.xab=h;b.XAb=function(l){var k,m;try{k=l.de("identity");m=l.de("pubkeyid");return new h(k,m);}catch(p){if(p instanceof g.default)throw new f.default(e.default.Me,"RSA authdata" + l);throw p;}};},18089:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.yab=void 0;d=a(22970);t=a(80477);n=a(36332);c=d.__importDefault(a(42979));g=a(90973);f=d.__importDefault(a(10690));e=d.__importDefault(a(24571));h=d.__importDefault(a(36114));l=a(33863);a=(function(k){function m(p,r){var q;q=k.call(this,n.oD.zT) || this;q.Vs=p;q.store=r;return q;}d.__extends(m,k);m.prototype.r5=function(p,r){c.default(r,function(){return g.XAb(p);});};m.prototype.Sy=function(p,r){var q,u,v,w;if(!(r instanceof g.xab))throw new f.default("Incorrect authentication data type " + r + ".");q=r.Os;u=r.kra;v=this.store.yrb(u);w=this.store.Mjc(u);if(u == this.Vs && !w)throw new e.default(h.default.mUb,u).If(r);if(u != this.Vs && !v)throw new e.default(h.default.nUb,u).If(r);return new l.Hfa(p,q,w,v,l.yD.CT);};return m;})(t.Vwa);b.yab=a;},88774:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.zab=void 0;t=a(22970);d=a(42486);a(36911);n=t.__importDefault(a(10690));t.__importDefault(a(32260));a=(function(){function c(){this.OUa={};this.tCb={};}c.prototype.v_b=function(g,f){if(!(f instanceof d.rfa))throw new n.default("Incorrect key data type " + f + ".");this.OUa[g]=f;};c.prototype.yrb=function(g){return this.OUa[g];};c.prototype.Mjc=function(g){return this.tCb[g];};c.prototype.clear=function(){this.OUa={};this.tCb={};};return c;})();b.zab=a;},2479:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.aBb=b.pDa=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));g=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(l){function k(m){var p;p=l.call(this,n.oD.NONE) || this;p.Os=m;return p;}d.__extends(k,l);k.prototype.Uy=function(){return this.Os;};k.prototype.OO=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.af();q.put("identity",r.Os);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?l.prototype.equals.call(this,m) && this.Os == m.Os:!1;};return k;})(t.N0);b.pDa=h;b.aBb=function(l){var k;try{k=l.de("identity");return new h(k);}catch(m){if(m instanceof g.default)throw new f.default(e.default.Me,"Unauthenticated authdata" + l);throw m;}};},28296:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.Fcb=void 0;d=a(22970);t=a(80477);n=a(36332);c=d.__importDefault(a(42979));g=a(2479);f=d.__importDefault(a(24571));e=d.__importDefault(a(36114));h=d.__importDefault(a(10690));l=a(97962);a=(function(k){function m(p){var r;r=k.call(this,n.oD.NONE) || this;r.Hhb=p;return r;}d.__extends(m,k);m.prototype.r5=function(p,r){c.default(r,function(){return g.aBb(p);});};m.prototype.Sy=function(p,r){if(!(r instanceof g.pDa))throw new h.default("Incorrect authentication data type " + r + ".");p=r.Uy();if(this.Hhb.noc(p))throw new f.default(e.default.p3a,"none " + p).If(r);return new l.C8a();};return m;})(t.Vwa);b.Fcb=a;},66734:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.xyc=b.FVb=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));g=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(l){function k(m,p){var r;r=l.call(this,n.oD.dSb) || this;r.root=m;r.cta=p;return r;}d.__extends(k,l);k.prototype.Uy=function(){return this.root + "." + this.cta;};k.prototype.OO=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.af();q.put("root",r.root);q.put("suffix",r.cta);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?l.prototype.equals.call(this,m) && this.root == m.root && this.cta == m.cta:!1;};return k;})(t.N0);b.FVb=h;b.xyc=function(l){var k,m;try{k=l.de("root");m=l.de("suffix");return new h(k,m);}catch(p){if(p instanceof g.default)throw new f.default(e.default.Me,"Unauthenticated suffixed authdata" + l);throw p;}};},83853:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.yNb=void 0;d=a(22970);t=a(53389);n=a(25078);c=d.__importDefault(a(48795));g=d.__importDefault(a(79804));a=(function(f){function e(h){var l;l=f.call(this) || this;l.hs=h;l.Nb=null;l.Mm=0;l.$t=-1;l.Rk=!1;return l;}d.__extends(e,f);e.prototype.abort=function(){this.hs.abort();};e.prototype.close=function(h,l){this.Rk=!0;this.hs.close(h,l);};e.prototype.mark=function(h){var l;if(!this.Nb)(this.Nb=new n.yda(),this.Mm=0);else if(0 < this.Mm){l=this.Nb.v_();this.Nb=new n.yda();this.Nb.write(l,this.Mm,l.length - this.Mm,-1,{result:function(){},error:function(){}});this.Mm=0;}this.$t=h;};e.prototype.reset=function(){if(!this.Nb)throw new c.default("Cannot reset before input stream has been marked or if mark has been invalidated.");this.Mm=0;};e.prototype.read=function(h,l,k){var p;function m(r,q){var u;if(!q)return r;p.Nb && (-1 != p.$t && p.Nb.size() + q.length > p.$t?(p.Nb=null,p.Mm=0,p.$t=-1):(p.Nb.write(q,0,q.length,-1,{result:function(){},error:function(){}}),p.Mm+=q.length));if(!r)return q;u=new Uint8Array(r.length + q.length);u.set(r);u.set(q,r.length);return u;}p=this;g.default(k,function(){var r,q;if(p.Rk)throw new c.default("Stream is already closed.");if(p.Nb && p.Nb.size() > p.Mm){r=void 0;r=-1 == h?p.Nb.size():Math.min(p.Nb.size(),p.Mm + h);q=p.Nb.v_().subarray(p.Mm,r);p.Mm+=q.length;if(q.length >= h)return q;}else q=null;r=-1;-1 != h && (r=h - (q?q.length:0));p.hs.read(r,l,{result:function(u){g.default(k,function(){return m(q,u);});},timeout:function(u){g.default(k,function(){var v;v=m(q,u);k.timeout(v);});},error:k.error});});};e.prototype.skip=function(h,l,k){var m;m=this;g.default(k,function(){var p;if(m.Rk)throw new c.default("Stream is already closed.");p=0;if(m.Nb && m.Nb.size() > m.Mm && (p=Math.min(h,m.Nb.size() - m.Mm),m.Mm+=p,p == h))return p;m.read(h - p,l,{result:function(r){g.default(k,function(){return r?r.length + p:p;});},timeout:function(r){g.default(k,function(){return r?r.length + p:p;});},error:k.error});});};return e;})(t.vea);b.yNb=a;},99881:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.u1a=void 0;d=a(22970);t=a(53389);n=d.__importDefault(a(79804));c=d.__importDefault(a(48795));a=(function(g){function f(e){var h;h=g.call(this) || this;h.Lj=e;h.Rk=!1;h.Vv=0;h.JEa=-1;return h;}d.__extends(f,g);f.prototype.abort=function(){};f.prototype.close=function(e,h){var l;l=this;n.default(h,function(){return l.Rk=!0;});};f.prototype.mark=function(){this.JEa=this.Vv;};f.prototype.reset=function(){if(-1 == this.JEa)throw new c.default("Cannot reset before input stream has been marked or if mark has been invalidated.");this.Vv=this.JEa;};f.prototype.read=function(e,h,l){var k;k=this;n.default(l,function(){var m;if(k.Rk)throw new c.default("Stream is already closed.");if(k.Vv == k.Lj.length)return null;-1 == e && (e=k.Lj.length - k.Vv);m=k.Lj.subarray(k.Vv,k.Vv + e);k.Vv+=m.length;return m;});};f.prototype.skip=function(e,h,l){var k;k=this;n.default(l,function(){var m;m=k.Vv;k.Vv=Math.min(k.Vv + e,k.Lj.length);return k.Vv - m;});};return f;})(t.vea);b.u1a=a;},25078:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.yda=void 0;d=a(22970).__importDefault(a(48795));t=(function(){function n(){this.Rk=!1;this.sy=new Uint8Array(0);this.UDa=[];}n.prototype.abort=function(){};n.prototype.close=function(c,g){this.Rk=!0;g.result(!0);};n.prototype.write=function(c,g,f,e,h){var l;try{if(this.Rk)throw new d.default("Stream is already closed.");if(0 > g)throw new RangeError("Offset cannot be negative.");if(0 > f)throw new RangeError("Length cannot be negative.");if(g + f > c.length)throw new RangeError("Offset plus length cannot be greater than the array length.");l=c.subarray(g,Math.min(c.length,g + f));this.UDa.push(l);h.result(l.length);}catch(k){h.error(k);}};n.prototype.flush=function(c,g){var f,e;try{for(;0 < this.UDa.length;){f=this.UDa.shift();if(this.sy){e=new Uint8Array(this.sy.length + f.length);e.set(this.sy);e.set(f,this.sy.length);this.sy=e;}else this.sy=new Uint8Array(f);}g.result(!0);}catch(h){g.error(h);}};n.prototype.size=function(){this.flush(1,{result:function(){},error:function(){}});return this.sy.length;};n.prototype.v_=function(){this.flush(1,{result:function(){},error:function(){}});return this.sy;};return n;})();b.yda=t;},98263:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.U1a=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(12457));a=(function(){function c(){var g,f,e;g=n.default.Ce();g.LU=d.default.Le;f={values:[],stack:[],Wl:void 0,Sn:void 0,PN:void 0};e=!1;g.onerror=function(){e || (e=!0,g.end());};g.onopenobject=function(h){var l;if(f.Wl)(f.Wl[f.PN]={},f.stack.push(f.Wl),f.Wl=f.Wl[f.PN]);else if(f.Sn){l={};f.stack.push(f.Sn);f.Sn.push(l);f.Wl=l;f.Sn=void 0;}else f.Wl={};f.PN=h;};g.oncloseobject=function(){var h;h=f.stack.pop();h?"object" === typeof h?f.Wl=h:(f.Wl=void 0,f.Sn=h):(f.values.push(f.Wl),f.Wl=void 0,g.pause());};g.onopenarray=function(){var h;if(f.Wl)(f.Wl[f.PN]=[],f.stack.push(f.Wl),f.Sn=f.Wl[f.PN],f.Wl=void 0);else if(f.Sn){h=[];f.stack.push(f.Sn);f.Sn.push(h);f.Sn=h;}else f.Sn=[];};g.onclosearray=function(){var h;h=f.stack.pop();h?"object" === typeof h?(f.Wl=h,f.Sn=void 0):f.Sn=h:(f.values.push(f.Sn),f.Sn=void 0,g.pause());};g.onkey=function(h){f.PN=h;};g.onvalue=function(h){f.Wl?f.Wl[f.PN]=h:f.Sn?f.Sn.push(h):(f.values.push(h),g.pause());};this.xe=g;this.Va=f;}c.prototype.write=function(g){this.xe.resume();this.xe.write(g);};c.prototype.Yyb=function(){var g;g=this.Va;0 == g.values.length && 0 < this.xe.pending.length && (this.xe.resume(),this.xe.parse());if(0 < g.values.length)return g.values.shift();};return c;})();b.U1a=a;},30370:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.F2a=void 0;d=a(22970);t=a(21399);n=a(65630);c=a(77593);g=d.__importDefault(a(6838));f=d.__importDefault(a(42979));e=a(72536);a=(function(h){function l(){return null !== h && h.apply(this,arguments) || this;}d.__extends(l,h);l.prototype.trb=function(){return n.CA.JSON;};l.prototype.fgc=function(k,m){if(n.CA.JSON === m)return new c.O5a(this,k);throw new g.default("Unsupported encoder format: " + m + ".");};l.prototype.ro=function(k){var m;m=this.ayc(k);if(n.CA.JSON == m)return new e.$L(this,k);throw new g.default("Unsupported encoder format: " + m + ".");};l.prototype.jj=function(k,m,p){var r;r=this;f.default(p,function(){if(n.CA.JSON == m)e.snb(r,k,p);else throw new g.default("Unsupported encoder format: " + m + ".");});};return l;})(t.a8a);b.F2a=a;},14894:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.U4a=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(79804));c=a(69193);g=a(99881);f=a(65630);e=t.__importDefault(a(48795));a=(function(){function h(l){this.YEa=l;this.Nb=void 0;this.$t=-1;this.TT=void 0;this.og=this.Dq=!1;this.tXb=void 0;this.keb=[];}h.prototype.abort=function(){this.YEa.abort();};h.prototype.close=function(l,k){var m;m=this;n.default(k,function(){if(m.Nb)m.Nb.close(l,k);else return !0;});};h.prototype.mark=function(l){this.Nb?this.Nb.mark(l):this.$t=l;};h.prototype.reset=function(){this.Nb && this.Nb.reset();};h.prototype.c7=function(){return this.keb;};h.prototype.read=function(l,k,m){var r;function p(q){n.default(m,function(){if(!q)return new Uint8Array(0);r.YEa.u7({result:function(u){n.default(m,function(){var v;if(u.rna)(r.Dq=!0,m.timeout());else {if(u.sJ)throw (r.TT=u.error || new e.default("Unknown HTTP exception."),r.TT);if(!u.response)throw (r.TT=new e.default("Missing HTTP response."),r.TT);r.keb=u.response.headers;if(void 0 !== u.response.json){r.tXb=u.response.json;v=new Uint8Array([f.CA.JSON.identifier]);}else if(u.response.content instanceof Uint8Array)v=u.response.content;else if("string" === typeof u.response.body)v=c.HA.gd(u.response.body,d.default.kOb);else throw new e.default("Missing HTTP response content.");r.Nb=new g.u1a(v);-1 != r.$t && r.Nb.mark(r.$t);r.Nb.read(l,k,m);}});},error:m.error});});}r=this;n.default(m,function(){if(r.TT)throw r.TT;if(r.Dq)m.timeout();else {if(r.og)return new Uint8Array(0);r.Nb?r.Nb.read(l,k,m):r.YEa.close(k,{result:function(q){p(q);},timeout:m.timeout,error:m.error});}});};h.prototype.skip=function(){throw Error("wat?");};return h;})();b.U4a=a;},41161:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.W4a=void 0;t=a(22970);d=t.__importDefault(a(10690));n=t.__importDefault(a(42979));c=a(89752);g=t.__importDefault(a(79804));f=a(25078);e=t.__importDefault(a(48795));a=(function(){function h(l,k){this.xEa=l;this.Vk=k;this.Nb=new f.yda();this.lga=this.Uo=void 0;this.og=!1;this.eN=new c.k0();}h.prototype.setTimeout=function(l){this.Vk=l;};h.prototype.u7=function(l){var k;k=this;this.eN.P$(-1,{result:function(m){n.default(l,function(){m && k.eN.add(m);return m;});},timeout:function(){n.default(l,function(){k.Uo={sJ:!0};k.eN.add(k.Uo);k.abort();throw new d.default("Timeout while waiting for HttpOutputStream.getResponse() despite no timeout being specified.");});},error:function(m){n.default(l,function(){k.Uo={sJ:!0};k.eN.add(k.Uo);throw m;});}});};h.prototype.abort=function(){this.lga && this.lga.abort();this.og=!0;};h.prototype.close=function(l,k){var m;m=this;g.default(k,function(){var p;if(m.Uo || m.lga || m.og)return !0;p=m.Nb.v_();0 < p.length && (m.lga=m.xEa.u7({body:p},{result:function(r){m.Uo={response:r};m.eN.add(m.Uo);},timeout:function(){m.Uo={rna:!0};m.eN.add(m.Uo);},error:function(r){m.Uo={sJ:!0,error:r};m.eN.add(m.Uo);}}));return !0;});};h.prototype.write=function(l,k,m,p,r){var q;q=this;g.default(r,function(){if(q.Uo)throw new e.default("HttpOutputStream already closed.");q.Nb.write(l,k,m,p,r);},this);};h.prototype.flush=function(l,k){var m;m=this;g.default(k,function(){if(m.Uo)return !0;m.Nb.flush(l,k);});};return h;})();b.W4a=a;},53389:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.vea=void 0;d=a(22970).__importDefault(a(79804));t=(function(){function n(){}n.prototype.skip=function(c,g,f){this.read(c,g,{result:function(e){d.default(f,function(){return e?e.length:0;});},timeout:function(e){d.default(f,function(){return e?e.length:0;});},error:f.error});};return n;})();b.vea=t;},89768:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.yea=void 0;d=a(22970);n=a(77633);c=a(9E3);g=a(48235);f=a(65630);e=a(69193);h=d.__importDefault(a(6838));l=a(44127);k=d.__importDefault(a(42979));m=a(72536);p=a(32260);t=(function(r){function q(u,v){var w,y;w=r.call(this,null) || this;w.lO=u;u=[];if(v instanceof Array)u=v;else if(v instanceof n.gk)for(var x=0;x < v.size();++x)u.push(v.hf(x));else if(v instanceof Uint8Array)try{x=e.HA.de(v,e.wA.KD);y=JSON.parse(x);if(!(y instanceof Array))throw new h.default("Invalid JSON array encoding.");u=y;}catch(A){if(!p.pd(A))throw new h.default("Invalid JSON array encoding.",A);throw A;}try{for(v=0;v < u.length;++v)w.put(-1,u[v]);}catch(A){if(A instanceof TypeError)throw new h.default("Invalid MSL array encoding.",A);throw A;}return w;}d.__extends(q,r);q.prototype.put=function(u,v){var w;try{w=v instanceof Object && v.constructor === Object?new m.$L(this.lO,v):v instanceof Array?new q(this.lO,v):v;}catch(x){if(x instanceof h.default)throw new TypeError("Unsupported JSON object or array representation.");throw x;}return r.prototype.put.call(this,u,w);};q.prototype.gd=function(u){var v;v=this.get(u);if(v instanceof Uint8Array)return v;try{if(v instanceof String)return l.Pj(v.valueOf(),!1);if("string" === typeof v)return l.Pj(v,!1);}catch(w){}throw new h.default("MslArray[" + u + "] is not binary data.");};q.prototype.tta=function(u,v){var x;function w(y,A,z){k.default(v,function(){var B;if(z >= A)return y;B=x.hf(z);B instanceof Uint8Array?(y.push(l.Sh(B)),w(y,A,z + 1)):B instanceof m.$L?B.UR(u,{result:function(C){k.default(v,function(){y.push(C);w(y,A,z + 1);});},error:v.error}):B instanceof q?B.tta(u,{result:function(C){k.default(v,function(){y.push(C);w(y,A,z + 1);});},error:v.error}):B instanceof c.Ei?new m.$L(u,B).UR(u,{result:function(C){k.default(v,function(){y.push(C);w(y,A,z + 1);});},error:v.error}):B instanceof n.gk?new q(u,B).tta(u,{result:function(C){k.default(v,function(){y.push(C);w(y,A,z + 1);});},error:v.error}):B instanceof g.Dn?B.Dm(u,f.CA.JSON,{result:function(C){k.default(v,function(){new m.$L(u,C).UR(u,{result:function(D){k.default(v,function(){y.push(D);w(y,A,z + 1);});},error:v.error});});},error:v.error}):(y.push(B),w(y,A,z + 1));});}x=this;k.default(v,function(){var y;y=x.size();w([],y,0);});};return q;})(n.gk);b.yea=t;},72536:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.$L=b.snb=void 0;d=a(22970);n=a(77633);c=a(9E3);g=a(69193);f=a(48235);e=a(65630);h=d.__importDefault(a(6838));l=a(44127);k=d.__importDefault(a(42979));m=a(21399);p=a(89768);r=a(32260);b.snb=function(u,v,w){k.default(w,function(){(v instanceof q?v:new q(u,v)).YKc(u,{result:function(x){k.default(w,function(){return g.HA.gd(x,g.wA.KD);});},error:w.error});});};q=(function(u){function v(w,x){var y,B;void 0 === x && (x=null);y=u.call(this) || this;y.lO=w;try{if((w=void 0,x instanceof c.Ei))for(var A=x.e7(),z=0;z < A.length;++z)(w=A[z],y.put(w,x.hf(w)));else if(x instanceof Object && x.constructor === Object)for(w in x){if(!(w instanceof String) && "string" !== typeof w)throw new h.default("Invalid JSON object encoding.");y.put(w,x[w]);}else if(x instanceof Uint8Array){z=g.HA.de(x,g.wA.KD);B=JSON.parse(z);if(!(B instanceof Object) || B.constructor !== Object)throw new h.default("Invalid JSON object encoding.");for(w in B){if(!(w instanceof String) && "string" !== typeof w)throw new h.default("Invalid JSON object encoding.");y.put(w,B[w]);}}}catch(C){if(C instanceof TypeError)throw new h.default("Invalid MSL object encoding.",C);if(!r.pd(C))throw new h.default("Invalid JSON object encoding.",C);throw C;}return y;}d.__extends(v,u);v.prototype.put=function(w,x){var y;try{y=x instanceof Object && x.constructor === Object?new v(this.lO,x):x instanceof Array?new p.yea(this.lO,x):x;}catch(A){if(A instanceof h.default)throw new TypeError("Unsupported JSON object or array representation.");throw A;}return u.prototype.put.call(this,w,y);};v.prototype.gd=function(w){var x;x=this.get(w);if(x instanceof Uint8Array)return x;try{if(x instanceof String)return l.Pj(x.valueOf(),!1);if("string" === typeof x)return l.Pj(x,!1);}catch(y){}throw new h.default("MslObject[" + m.quote(w) + "] is not binary data.");};v.prototype.UR=function(w,x){var A;function y(z,B,C){k.default(x,function(){var D,F;if(C >= B.length)return z;D=B[C];F=A.hf(D);F instanceof Uint8Array?(z[D]=l.Sh(F),y(z,B,C + 1)):F instanceof v?F.UR(w,{result:function(H){k.default(x,function(){z[D]=H;y(z,B,C + 1);});},error:x.error}):F instanceof p.yea?F.tta(w,{result:function(H){k.default(x,function(){z[D]=H;y(z,B,C + 1);});},error:x.error}):F instanceof c.Ei?new v(w,F).UR(w,{result:function(H){k.default(x,function(){z[D]=H;y(z,B,C + 1);});},error:x.error}):F instanceof n.gk?new p.yea(w,F).tta(w,{result:function(H){k.default(x,function(){z[D]=H;y(z,B,C + 1);});},error:x.error}):F instanceof f.Dn?F.Dm(w,e.CA.JSON,{result:function(H){k.default(x,function(){new v(w,H).UR(w,{result:function(E){k.default(x,function(){z[D]=E;y(z,B,C + 1);});},error:x.error});});},error:x.error}):(z[D]=F,y(z,B,C + 1));});}A=this;k.default(x,function(){var z;z=A.e7();y({},z,0);});};v.prototype.YKc=function(w,x){this.UR(w,{result:function(y){k.default(x,function(){return JSON.stringify(y);});},error:x.error});};return v;})(c.Ei);b.$L=q;},77593:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.O5a=void 0;d=a(22970);t=a(1454);n=d.__importDefault(a(42979));c=d.__importDefault(a(79804));g=d.__importDefault(a(6838));f=a(98263);e=a(72536);h=a(69193);a=(function(l){function k(m,p){var r;r=l.call(this) || this;r.qg=m;r.hs=p;r.Gdb=h.wA.KD;r.o3="";r.xe=new f.U1a();return r;}d.__extends(k,l);k.prototype.close=function(m,p){var r;r=this;c.default(p,function(){var q;if(0 == r.xe.xe.pending.length)return !0;q=h.HA.gd(r.o3.substring(0,r.o3.length - r.xe.xe.pending.length),r.Gdb);r.hs.reset();r.hs.skip(q.length,m,{result:function(u){n.default(p,function(){if(u != q.length)throw new g.default("Only skipped " + u + " of " + q.length + " bytes. Source input stream may not be reusable for additional MSL messages.");return !0;});},timeout:function(u){n.default(p,function(){if(u != q.length)throw new g.default("Only skipped " + u + " of " + q.length + " bytes. Source input stream may not be reusable for additional MSL messages.");return !0;});},error:p.error});});};k.prototype.abort=function(){l.prototype.abort.call(this);this.hs.abort();};k.prototype.KAb=function(m,p){var r;r=this;c.default(p,function(){r.hs.mark(65536);r.hs.read(65536,m,{result:function(q){c.default(p,function(){var u;if(!q || !q.length)return null;r.o3=h.HA.de(q,r.Gdb);u=r.xe.xe.pending.length + r.o3.length;if(10485760 < u)throw new g.default("JSON parsing stopped after reaching " + u + " unparsed characters.");r.xe.write(r.o3);u=r.xe.Yyb();if(void 0 !== u)return u;setTimeout(function(){r.KAb(m,p);},0);});},timeout:p.timeout,error:function(q){n.default(p,function(){throw new g.default("Error reading from the source input stream.",q);});}});});};k.prototype.next=function(m,p){var q;function r(u){c.default(p,function(){if("object" !== typeof u)throw new g.default("Malformed MSL message. Parsed " + typeof u + " instead of object.");return new e.$L(q.qg,u);});}q=this;c.default(p,function(){var u;u=q.xe.Yyb();void 0 !== u?r(u):q.KAb(q.Vk,{result:function(v){c.default(p,function(){if(q.og || !v)return null;r(v);});},timeout:p.timeout,error:p.error});});};return k;})(t.b8a);b.O5a=a;},77633:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.gk=void 0;d=a(22970).__importDefault(a(6838));n=a(48235);c=a(21399);g=a(9E3);f=a(46383);t=(function(){function e(h){void 0 === h && (h=null);this.list=[];if(h)for(var l=0;l < h.length;++l)this.put(-1,h[l]);}e.prototype.get=function(h){var l;if(0 > h || h >= this.list.length)throw new RangeError("MslArray[" + h + "] is negative or exceeds array length.");l=this.list[h];if(null === l || void 0 === l)throw new d.default("MslArray[" + h + "] is null.");return l instanceof Object && l.constructor === Object?new g.Ei(l):l instanceof Array?new e(l):l;};e.prototype.O6=function(h){var l;l=this.get(h);if(l instanceof Boolean)return l.valueOf();if("boolean" === typeof l)return l;throw new d.default("MslArray[" + h + "] is not a boolean.");};e.prototype.gd=function(h){var l;l=this.get(h);if(l instanceof Uint8Array)return l;throw new d.default("MslArray[" + h + "] is not binary data.");};e.prototype.UO=function(h){var l;l=this.get(h);if(l instanceof Number)return l.valueOf() << 0;if("number" === typeof l)return l << 0;throw new d.default("MslArray[" + h + "] is not a number.");};e.prototype.fNa=function(h){var l;l=this.get(h);if(l instanceof e)return l;if(l instanceof Array)return new e(l);throw new d.default("MslArray[" + h + "] is not a MslArray.");};e.prototype.op=function(h,l){var k;k=this.get(h);if(k instanceof g.Ei)return k;if(k instanceof Object && k.constructor === Object)return new g.Ei(k);if(k instanceof Uint8Array)try{return l.ro(k);}catch(m){if(m instanceof d.default)throw new d.default("MslObject[" + h + "] is not a MslObject.",m);throw m;}throw new d.default("MslArray[" + h + "] is not a MslObject.");};e.prototype.$m=function(h){var l;l=this.get(h);if(l instanceof Number)return parseInt(l.valueOf());if("number" === typeof l)return parseInt(l);throw new d.default("MslArray[" + h + "] is not a number.");};e.prototype.de=function(h){var l;l=this.get(h);if(l instanceof String)return l.valueOf();if("string" === typeof l)return l;throw new d.default("MslArray[" + h + "] is not a string.");};e.prototype.cd=function(h){if(0 > h || h >= this.list.length)throw new RangeError("MslArray[" + h + "] is negative or exceeds array length.");return null == this.list[h];};e.prototype.size=function(){return this.list.length;};e.prototype.hf=function(h){if(0 > h || h >= this.list.length)throw new RangeError("MslArray[" + h + "] is negative or exceeds array length.");h=this.list[h];try{if(h instanceof Object && h.constructor === Object)return new g.Ei(h);if(h instanceof Array)return new e(h);}catch(l){if(l instanceof TypeError)return null;}return h;};e.prototype.Ypa=function(h){h=this.hf(h);return h instanceof e?h:h instanceof Array?new e(h):null;};e.prototype.s$=function(h,l){h=this.hf(h);return h instanceof String?h.valueOf():"string" === typeof h?h:l instanceof String?l.valueOf():"string" === typeof l || null === l?l:"";};e.prototype.put=function(h,l){if(-1 > h)throw new RangeError("MslArray[" + h + "] is negative.");if(!(l instanceof Boolean || "boolean" === typeof l || l instanceof Uint8Array || l instanceof Number || "number" === typeof l || l instanceof g.Ei || l instanceof e || l instanceof String || "string" === typeof l || l instanceof n.Dn || null === l))if(l instanceof Object && l.constructor === Object)l=new g.Ei(l);else if(l instanceof Array)l=new e(l);else throw new TypeError("Value [" + typeof l + "] is an unsupported type.");for(var k=this.list.length;k < h;++k)this.list.push(null);if(-1 == h || h == this.list.length)return (this.list.push(l),this);this.list[h]=l;return this;};e.prototype.remove=function(h){var l;if(-1 > h || h >= this.list.length)throw new RangeError("MslArray[" + h + "] is negative or exceeds array length.");l=this.hf(-1 == h?this.list.length - 1:h);this.list.splice(h,1);return l;};e.prototype.equals=function(h){if(this == h)return !0;if(!(h instanceof e))return !1;try{return f.Fnb(this,h);}catch(l){if(l instanceof d.default)return !1;throw l;}};e.prototype.toString=function(){var k;for(var h="[",l=0;l < this.list.length;l++){k=this.list[l];h=k instanceof g.Ei?h + "{}":k instanceof e?h + "[]":h + c.stringify(k);l != this.list.length - 1 && (h+=",");}return h + "]";};return e;})();b.gk=t;},48235:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dn=void 0;b.Dn=(function(){return function(){};})();},6838:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(g,f){return n.call(this,"MslEncoderException",g,f) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},21399:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.a8a=b.stringify=b.quote=void 0;t=a(22970);d=a(44127);n=a(9E3);c=a(77633);g=a(65630);f=t.__importDefault(a(42979));e=t.__importDefault(a(6838));a(83853);b.quote=function(h){return JSON.stringify(h).replace(/["]/g,'\\"').replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");};b.stringify=function(h){return h instanceof n.Ei || h instanceof c.gk?h.toString():h instanceof Uint8Array?d.Sh(h,!1):JSON.stringify(h).replace(/["]/g,'\\"').replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");};a=(function(){function h(){}h.prototype.O9b=function(l,k,m){var r;function p(q,u){f.default(m,function(){var v;v=g.Nea.DMa(u);if(!v)throw new e.default("Unidentified encoder format ID: (byte)" + u + ".");q.reset();return r.fgc(q,v);});}r=this;f.default(m,function(){l.mark(1);l.read(1,k,{result:function(q){f.default(m,function(){if(null == q || 1 > q.length)throw new e.default("End of stream reached when attempting to read the byte stream identifier.");p(l,q[0]);});},timeout:m.timeout,error:m.error});});};h.prototype.af=function(){var l;void 0 === l && (l=null);return new n.Ei(l);};h.prototype.ayc=function(l){var k;if(1 > l.length)throw new e.default("No encoding identifier found.");l=l[0];k=g.Nea.DMa(l);if(!k)throw new e.default("Unidentified encoder format ID: (byte)" + l + ".");return k;};h.prototype.p5=function(l){void 0 === l && (l=null);return new c.gk(l);};return h;})();b.a8a=a;},65630:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CA=b.Nea=void 0;t=(function(){function a(d,n){this.name=d;this.identifier=n;a.ULa[d]=this;a.TLa[n]=this;}a.DMa=function(d){return "string" === typeof d && a.ULa[d]?a.ULa[d]:"number" === typeof d && a.TLa[d]?a.TLa[d]:null;};a.TLa={};a.ULa={};return a;})();b.Nea=t;b.CA={JSON:new t("JSON",123)};},46383:function(t,b,a){var c,g,f,e,h,l;function d(k,m){var p,r,q,u,v;if(k === m)return !0;if(null == k || null == m)return !1;p=k.e7();r=m.e7();if(p !== r && (null == p || null == r || p.length != r.length || !l.default.m5(p,r)))return !1;for(r=0;r < p.length;++r){q=p[r];u=k.hf(q);v=m.hf(q);if(u !== v){if(null == u || null == v)return !1;if(u instanceof Uint8Array || v instanceof Uint8Array){if((u=k.gd(q),q=m.gd(q),!l.default.equal(u,q)))return !1;}else if(u instanceof g.Ei && v instanceof g.Ei){if(!d(u,v))return !1;}else if(u instanceof f.gk && v instanceof f.gk){if(!n(u,v))return !1;}else if(typeof u !== typeof v || u != v)return !1;}}return !0;}function n(k,m){var r,q;if(k === m)return !0;if(null == k || null == m || k.size() != m.size())return !1;for(var p=0;p < k.size();++p){r=k.hf(p);q=m.hf(p);if(r !== q){if(null == r || null == q)return !1;if(r instanceof Uint8Array || q instanceof Uint8Array){if((r=k.gd(p),q=m.gd(p),!l.default.equal(r,q)))return !1;}else if(r instanceof g.Ei && q instanceof g.Ei){if(!d(r,q))return !1;}else if(r instanceof f.gk && q instanceof f.gk){if(!n(r,q))return !1;}else if(typeof r !== typeof q || r != q)return !1;}}return !0;}Object.defineProperty(b,"__esModule",{value:!0});b.hn=b.rdc=b.Fnb=b.Gnb=b.p5=void 0;t=a(22970);c=t.__importDefault(a(42979));g=a(9E3);f=a(77633);e=a(48235);h=t.__importDefault(a(6838));l=t.__importDefault(a(14945));b.p5=function(k,m,p){function r(q,u,v,w){c.default(w,function(){var x;if(v >= m.length)return u;x=m[v];if(x instanceof Boolean || "boolean" === typeof x || x instanceof Uint8Array || x instanceof Number || "number" === typeof x || x instanceof g.Ei || x instanceof f.gk || x instanceof String || "string" === typeof x || x instanceof Object && x.constructor === Object || x instanceof Array || null === x)(u.put(-1,x),r(q,u,v + 1,w));else if(x instanceof e.Dn)x.Dm(q,q.trb(),{result:function(y){c.default(w,function(){var A;A=q.ro(y);u.put(-1,A);r(q,u,v + 1,w);});},error:w.error});else throw new h.default("Class " + typeof x + " is not MSL encoding-compatible.");});}c.default(p,function(){var q,u;q=k.qg;u=q.p5();r(q,u,0,p);});};b.Gnb=d;b.Fnb=n;b.rdc=function(k,m){if(k == m)return !0;if(null == k || null == m || k.size() != m.size())return !1;for(var p=[],r=[],q=0;q < k.size();++q)(p[q]=k.hf(q),r[q]=m.hf(q));return l.default.m5(p,r);};b.hn=function(k,m){var q;if(!k && !m)return null;k=k?new g.Ei(k.Qqb()):new g.Ei();if(!m)return k;for(var p=m.e7(),r=0;r < p.length;++r){q=p[r];k.put(q,m.get(q));}return k;};},9E3:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.Ei=void 0;d=a(22970).__importDefault(a(6838));n=a(48235);c=a(21399);g=a(77633);f=a(46383);t=(function(){function e(h){void 0 === h && (h=null);this.map={};if(h)for(var l in h){if(!(l instanceof String) && "string" !== typeof l)throw new TypeError("Map key is not a string.");this.put(l,h[l]);}}e.prototype.get=function(h){var l;h instanceof String && (h=h.valueOf());if("string" !== typeof h)throw new TypeError("Unsupported key.");l=this.map[h];if(null === l || void 0 === l)throw new d.default("MslObject[" + c.quote(h) + "] not found.");return l instanceof Object && l.constructor === Object?new e(l):l instanceof Array?new g.gk(l):l;};e.prototype.O6=function(h){var l;l=this.get(h);if(l instanceof Boolean)return l.valueOf();if("boolean" === typeof l)return l;throw new d.default("MslObject[" + c.quote(h) + "] is not a boolean.");};e.prototype.gd=function(h){var l;l=this.get(h);if(l instanceof Uint8Array)return l;throw new d.default("MslObject[" + c.quote(h) + "] is not binary data.");};e.prototype.UO=function(h){var l;l=this.get(h);if(l instanceof Number)return l.valueOf() << 0;if("number" === typeof l)return l << 0;throw new d.default("MslObject[" + c.quote(h) + "] is not a number.");};e.prototype.fNa=function(h){var l;l=this.get(h);if(l instanceof g.gk)return l;if(l instanceof Array)return new g.gk(l);throw new d.default("MslObject[" + c.quote(h) + "] is not a MslArray.");};e.prototype.op=function(h,l){var k;k=this.get(h);if(k instanceof e)return k;if(k instanceof Object && k.constructor === Object)return new e(k);if(k instanceof Uint8Array)try{return l.ro(k);}catch(m){if(m instanceof d.default)throw new d.default("MslObject[" + c.quote(h) + "] is not a MslObject.");throw m;}throw new d.default("MslObject[" + c.quote(h) + "] is not a MslObject.");};e.prototype.$m=function(h){var l;l=this.get(h);if(l instanceof Number)return parseInt(l.valueOf());if("number" === typeof l)return l;throw new d.default("MslObject[" + c.quote(h) + "] is not a number.");};e.prototype.de=function(h){var l;l=this.get(h);if(l instanceof String)return l.valueOf();if("string" === typeof l)return l;throw new d.default("MslObject[" + c.quote(h) + "] is not a string.");};e.prototype.has=function(h){if("string" !== typeof h)throw new TypeError("Null key.");return this.map.hasOwnProperty(h);};e.prototype.hf=function(h){h instanceof String && (h=h.valueOf());if("string" !== typeof h)throw new TypeError("Unsupported key.");h=this.map[h];try{if(h instanceof Object && h.constructor === Object)return new e(h);if(h instanceof Array)return new g.gk(h);}catch(l){if(h instanceof TypeError)return null;}return h;};e.prototype.Ypa=function(h){h=this.hf(h);return h instanceof g.gk?h:h instanceof Array?new g.gk(h):null;};e.prototype.s$=function(h,l){h=this.hf(h);return h instanceof String?h.valueOf():"string" === typeof h?h:l instanceof String?l.valueOf():"string" === typeof l || null === l?l:"";};e.prototype.put=function(h,l){h instanceof String && (h=h.valueOf());if("string" !== typeof h)throw new TypeError("Unsupported key.");if(null === l)return (delete this.map[h],this);if(l instanceof Boolean || "boolean" === typeof l || l instanceof Uint8Array || l instanceof Number || "number" === typeof l || l instanceof e || l instanceof g.gk || l instanceof String || "string" === typeof l || l instanceof n.Dn)this.map[h]=l;else if(l instanceof Object && l.constructor === Object)this.map[h]=new e(l);else if(l instanceof Array)this.map[h]=new g.gk(l);else throw new TypeError("Value [" + typeof l + "] is an unsupported type.");return this;};e.prototype.remove=function(h){var l;h instanceof String && (h=h.valueOf());if("string" !== typeof h)throw new TypeError("Unsupported key.");l=this.hf(h);delete this.map[h];return l;};e.prototype.e7=function(){return Object.keys(this.map);};e.prototype.Qqb=function(){var h,l;h={};for(l in this.map)h[l]=this.map[l];return h;};e.prototype.equals=function(h){if(this == h)return !0;if(!(h instanceof e))return !1;try{return f.Gnb(this,h);}catch(l){if(l instanceof d.default)return !1;throw l;}};e.prototype.toString=function(){var m,p;for(var h="{",l=Object.keys(this.map),k=0;k < l.length;k++){m=l[k];p=this.map[m];h=p instanceof e || p instanceof g.gk?h + (c.quote(m) + ":{}"):h + (c.quote(m) + ":" + c.stringify(p));k != l.length - 1 && (h+=",");}return h + "}";};return e;})();b.Ei=t;},1454:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.b8a=void 0;t=a(22970);d=t.__importDefault(a(79804));n=t.__importDefault(a(10690));a=(function(){function c(){this.YD=null;this.Rk=this.og=!1;}c.prototype.close=function(g,f){this.Rk=!0;f.result(!0);};c.prototype.abort=function(){this.og=!0;};c.prototype.yyb=function(g){var f;f=this;d.default(g,function(){if(f.og || f.Rk)return !1;if(f.YD)return !0;f.hSa({result:function(e){d.default(g,function(){f.YD=e;return null != f.YD;});},timeout:g.timeout,error:g.error});});};c.prototype.next=function(g,f){d.default(f,function(){throw new n.default("MslTokenizer.next() must be implemented by a subclass.");});};c.prototype.hSa=function(g){var f;f=this;d.default(g,function(){var e;if(f.og || f.Rk)return null;if(null != f.YD){e=f.YD;f.YD=null;return e;}f.next(-1,g);});};return c;})();b.b8a=a;},94971:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Hcb=void 0;d=a(14894);n=a(41161);t=(function(){function c(g,f){void 0 === f && (f=null);this.xEa=g;this.Vk=f;}c.prototype.setTimeout=function(g){this.Vk=g;};c.prototype.cxc=function(){var g;g=new n.W4a(this.xEa,this.Vk);return {input:new d.U4a(g),oQ:g};};return c;})();b.Hcb=t;},93562:function(t,b,a){var g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F;function d(H,E){e.default(E,function(){var G,K,N;try{G=H.de("keypairid");K=H.de("mechanism");N=H.gd("publickey");if(!b.Kt[K])throw new l.default(p.default.pVb,K);}catch(I){if(I instanceof k.default)throw new m.default(p.default.Me,"keydata " + H);throw I;}try{switch(K){case b.Kt.zT:case b.Kt.M5a:case b.Kt.L5a:case b.Kt.aya:r.QOa(N,q.Fe.DD,u.ND.GDa,v.fk.nH,{result:function(I){E.result(new D(G,K,I,null));},error:E.error});break;case b.Kt.N5a:r.QOa(N,q.Fe.zfa,u.ND.GDa,v.fk.nH,{result:function(I){E.result(new D(G,K,I,null));},error:E.error});break;default:throw new w.default(p.default.Bcb,K);}}catch(I){if(!C.pd(I))throw new w.default(p.default.WL,"keydata " + H,I);throw I;}});}function n(H,E){var G,K,N;try{G=E.de("keypairid");K=E.gd("encryptionkey");N=E.gd("hmackey");}catch(I){if(I instanceof k.default)throw new m.default(p.default.Me,"keydata " + E);throw I;}return new F(H,G,K,N);}function c(H,E,G,K,N){switch(G){case b.Kt.M5a:case b.Kt.L5a:return new y.P5a(H,y.Algorithm.DD,y.x3a.A128GCM,K,N);case b.Kt.zT:case b.Kt.aya:return new A.Hfa(H,E,K,N,A.yD.edb);case b.Kt.N5a:return new A.Hfa(H,E,K,N,A.yD.fdb);default:throw new w.default(p.default.Bcb,G);}}Object.defineProperty(b,"__esModule",{value:!0});b.H0a=b.nyc=b.sUb=b.lyc=b.Efa=b.Kt=void 0;g=a(22970);t=a(59786);f=a(75948);e=g.__importDefault(a(42979));h=g.__importDefault(a(14945));l=g.__importDefault(a(35661));k=g.__importDefault(a(6838));m=g.__importDefault(a(88257));p=g.__importDefault(a(36114));r=a(42486);q=a(96837);u=a(10558);v=a(11475);w=g.__importDefault(a(42458));x=a(49140);y=a(69351);A=a(33863);z=g.__importDefault(a(10690));a(58892);g.__importDefault(a(80760));B=a(43088);C=a(32260);a(55531);a=a(75316);b.Kt={zT:"RSA",bPb:"ECC",M5a:"JWE_RSA",L5a:"JWEJS_RSA",aya:"JWK_RSA",N5a:"JWK_RSAES"};D=(function(H){function E(G,K,N,I){var L;L=H.call(this,f.Aea.tua) || this;L.Vs=G;L.QJ=K;L.publicKey=N;L.privateKey=I;return L;}g.__extends(E,H);E.prototype.SMa=function(G,K){var N;N=this;e.default(K,function(){var I;I=G.af();I.put("keypairid",N.Vs);I.put("mechanism",N.QJ);I.put("publickey",N.publicKey.AB());return I;});};E.prototype.equals=function(G){var K;if(G === this)return !0;if(!(G instanceof E))return !1;K=this.privateKey === G.privateKey || this.privateKey && G.privateKey && h.default.equal(this.privateKey.AB(),G.privateKey.AB());return H.prototype.equals.call(this,G) && this.Vs == G.Vs && this.QJ == G.QJ && h.default.equal(this.publicKey.AB(),G.publicKey.AB()) && K;};E.prototype.Ih=function(){var G,K;G=this.publicKey.AB();K=this.privateKey && this.privateKey.AB();G=H.prototype.Ih.call(this) + ":" + this.Vs + ":" + this.QJ + ":" + h.default.zma(G);K && (G+=":" + h.default.zma(K));return G;};return E;})(t.b6a);b.Efa=D;b.lyc=d;F=(function(H){function E(G,K,N,I){G=H.call(this,G,f.Aea.tua) || this;G.Vs=K;G.Bu=N;G.aJ=I;return G;}g.__extends(E,H);E.prototype.SMa=function(G,K){var N;N=this;e.default(K,function(){var I;I=G.af();I.put("keypairid",N.Vs);I.put("encryptionkey",N.Bu);I.put("hmackey",N.aJ);return I;});};E.prototype.equals=function(G){return this === G?!0:G instanceof E?H.prototype.equals.call(this,G) && this.Vs == G.Vs && h.default.equal(this.Bu,G.Bu) && h.default.equal(this.aJ,G.aJ):!1;};E.prototype.Ih=function(){return H.prototype.Ih.call(this) + ":" + this.Vs + ":" + h.default.zma(this.Bu) + ":" + h.default.zma(this.aJ);};return E;})(x.c6a);b.sUb=F;b.nyc=n;a=(function(H){function E(G){var K;K=H.call(this,f.Aea.tua) || this;K.Hhb=G;return K;}g.__extends(E,H);E.prototype.D9b=function(G,K){d(G,K);};E.prototype.F9b=function(G,K,N){e.default(N,function(){return n(G,K);});};E.prototype.Sy=function(G,K,N,I,L){e.default(L,function(){var O,J,Q;if(!(K instanceof D))throw new z.default("Key request data " + K + " was not created by this factory.");if(!(N instanceof F))throw new z.default("Key response data " + N + " was not created by this factory.");O=K.Vs;J=N.Vs;if(O != J)throw new l.default(p.default.T5a,"request " + O + "; response " + J).bc(I);J=K.privateKey;if(!J)throw new l.default(p.default.LQb,"request Asymmetric private key").bc(I);Q=c(G,O,K.QJ,J,null);Q.oL(N.Bu,q.Fe.yL,u.ND.aea,{result:function(P){Q.oL(N.aJ,q.Fe.WS,u.ND.CT,{result:function(S){G.Dla({result:function(Y){e.default(L,function(){return new B.E2(G,N.Xb,Y.Uy(),P,S);});},error:function(Y){e.default(L,function(){C.pd(Y) && Y.bc(I);throw Y;});}});},error:function(S){e.default(L,function(){C.pd(S) && S.bc(I);throw S;});}});},error:function(P){e.default(L,function(){C.pd(P) && P.bc(I);throw P;});}});});};return E;})(a.$5a);b.H0a=a;},55531:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OQb=void 0;b.OQb=(function(){return function(a,d){this.keyResponseData=a;this.Rn=d;};})();},75316:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.$5a=void 0;t=a(22970);t.__importDefault(a(42979));a(60426);a(96837);a(10558);t.__importDefault(a(42458));t.__importDefault(a(36114));b.$5a=(function(){return function(d){this.scheme=d;};})();},75948:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aea=void 0;t=(function(){function a(d){this.name=d;a.Zz[d]=this;}a.prototype.toString=function(){return this.name;};a.w7=function(d){return a.Zz[d]?a.Zz[d]:null;};a.Zz={};return a;})();b["default"]=t;b.Aea={tua:new t("ASYMMETRIC_WRAPPED"),oOb:new t("DIFFIE_HELLMAN"),gSc:new t("JWE_LADDER"),hSc:new t("JWK_LADDER"),CUc:new t("SYMMETRIC_WRAPPED")};},59786:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.QAb=b.b6a=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=d.__importDefault(a(35661));g=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));a=(function(h){function l(k){var m;m=h.call(this) || this;m.oz=k;return m;}d.__extends(l,h);l.prototype.Dm=function(k,m,p){var r;r=this;this.SMa(k,{result:function(q){n.default(p,function(){var u;u=k.af();u.put("scheme",r.oz.name);u.put("keydata",q);k.jj(u,m,p);});},error:p.error});};l.prototype.equals=function(k){return this === k?!0:k instanceof l?this.oz == k.oz:!1;};l.prototype.Ih=function(){return this.oz;};return l;})(t.Dn);b.b6a=a;b.QAb=function(h,l,k){n.default(k,function(){var m,p,r,q;try{m=l.de("scheme");p=h.Aqb(m);if(!p)throw new c.default(e.default.zcb,m);r=l.op("keydata",h.qg);q=h.RMa(p);if(!q)throw new c.default(e.default.fya,p.name);q.D9b(r,k);}catch(u){if(u instanceof g.default)throw new f.default(e.default.Me,"keyrequestdata " + l,u);throw u;}});};},49140:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.RAb=b.c6a=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=a(58892);g=d.__importDefault(a(35661));f=d.__importDefault(a(36114));e=d.__importDefault(a(6838));h=d.__importDefault(a(88257));a=(function(l){function k(m,p){var r;r=l.call(this) || this;r.Xb=m;r.oz=p;return r;}d.__extends(k,l);k.prototype.Dm=function(m,p,r){var q;q=this;this.SMa(m,{result:function(u){n.default(r,function(){var v;v=m.af();v.put("mastertoken",q.Xb);v.put("scheme",q.oz.name);v.put("keydata",u);m.jj(v,p,r);});},error:r.error});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?this.Xb.equals(m.Xb) && this.oz == m.oz:!1;};k.prototype.Ih=function(){return this.Xb.Ih() + ":" + this.oz;};return k;})(t.Dn);b.c6a=a;b.RAb=function(l,k,m){n.default(m,function(){var p,r,q,u,v;p=l.qg;try{r=k.op("mastertoken",p);q=k.de("scheme");u=l.Aqb(q);if(!u)throw new g.default(f.default.zcb,q);v=k.op("keydata",p);c.iqa(l,r,{result:function(w){n.default(m,function(){var x;x=l.RMa(u);if(!x)throw new g.default(f.default.fya,u.name);x.F9b(w,v,m);});},error:m.error});}catch(w){if(w instanceof e.default)throw new h.default(f.default.Me,"keyresponsedata " + k,w);throw w;}});};},69763:function(t,b,a){var A,z,B,C,D,F,H,E;function d(G,K,N,I,L,O,J,Q,P,S,Y){this.n=G;this.e=K;this.d=N;this.p=I;this.q=L;this.dp=O;this.dq=J;this.qi=Q;this.alg=P;this.Dna=S;this.ext=Y;}function n(G,K,N,I){this.n=G;this.e=K;this.ext=N;this.Dna=I;}function c(G){this.c3=G;}function g(G,K,N,I,L,O){this.Lj=G;this.RA=K || void 0;this.Ldb=N || !1;this.tfb=0;this.qha=I || 0;this.RT=L || 0;this.GM=O || 0;}function f(G,K){var N;K.Mx(G.qYa << 6 | G.PIa << 5 | G.tag);N=G.gBb;if(128 > N)K.Mx(N);else {for(var I=N,L=0;I;)(++L,I>>=8);K.Mx(128 | L);for(I=0;I < L;++I)K.Mx(N >> 8 * (L - I - 1) & 255);}if(G.$e)for((G.tag == C.TG && K.Mx(0),G=G.DM);G;){if(!f(G,K))return !1;G=G.next;}else switch(G.tag){case C.tea:G.dI[G.Ly] >> 7 && K.Mx(0);K.oja(G.dI,G.Ly,G.pB);break;case C.TG:K.Mx(0);K.oja(G.dI,G.Ly,G.pB);break;case C.Yea:K.oja(G.dI,G.Ly,G.pB);break;case C.$za:K.oja(G.dI,G.Ly,G.pB);}return !0;}function e(G){var K,N;K=G.kt();N=K & 127;if(N == K)return N;if(3 < N || 0 === N)return -1;for(var I=K=0;I < N;++I)K=K << 8 | G.kt();return K;}function h(G,K,N){var I,L,O,J,Q,P,S;I=G.dI;L=new B(I,K);K+=N;N=G;if(!(8 < F++)){for(;L.position < K;){J=L.kt();if(31 == (J & 31)){for(O=0;J & 128;)(O<<=8,O|=J & 127);J=O;}Q=J;O=Q & 31;if(0 > O || 30 < O)return;J=e(L);if(0 > J || J > L.r7())return;N.PIa=Q & 32;N.qYa=(Q & 192) >> 6;N.tag=O;N.pB=J;N.Ly=L.position;O=L;P=Q;Q=J;if(P & 32)O=!0;else if(P < C.TG || P > C.Yea)O=!1;else {S=new B(O);P == C.TG && S.skip(1);S.kt() >> 6 & 1?O=!1:(P=e(S),O=S.position - O.position + P == Q);}O && (O=L.position,Q=J,N.tag == C.TG && (N.Ly++,N.pB--,O++,Q--),N.$e=new g(I,N),h(N.$e,O,Q));N.tag == C.tea && (O=L.position,0 == L.lBb(O) && L.lBb(O + 1) >> 7 && (N.Ly++,N.pB--));L.skip(J);L.position < K && (N.next=new g(I,N.parent),N=N.next);}F--;return G;}}function l(G,K,N){if(9 != N)return !1;for(N=0;9 > N;++N)if(G[K++] != H[N])return !1;return !0;}function k(G){var K;if(!(G && G.$e && G.$e.next && G.$e.$e && G.$e.next.$e))return !1;K=G.$e.$e;return l(K.dI,K.Ly,K.pB) && 2 == G.iY && 2 == G.$e.iY && 2 == G.$e.next.$e.iY?!0:!1;}function m(G){var K;if(!(G && G.$e && G.$e.next && G.$e.next.$e && G.$e.next.next && G.$e.next.next.$e))return !1;K=G.$e.next.$e;return l(K.dI,K.Ly,K.pB) && 3 == G.iY && 2 == G.$e.next.iY && 9 == G.$e.next.next.$e.iY?!0:!1;}function p(G){var K,N;K=D.rV();N=new c(K);N.SH(D.rV());N.SH(D.Zkb(H));N.ew(D.Xkb());N.wgb(K,D.v8b(null));N.SH(D.rV());N.SH(D.tw(G.n));N.ew(D.tw(G.e));return K;}function r(G){var K;G=G.$e.next.$e.$e;K=G.data;G=G.next;return new n(K,G.data,null,null);}function q(G){var K,N;K=D.rV();N=new c(K);N.SH(D.tw(new Uint8Array([0])));N.ew(D.rV());N.SH(D.Zkb(H));N.ew(D.Xkb());N.wgb(K,D.v9b(null));N.SH(D.rV());N.SH(D.tw(new Uint8Array([0])));N.ew(D.tw(G.n));N.ew(D.tw(G.e));N.ew(D.tw(G.d));N.ew(D.tw(G.p));N.ew(D.tw(G.q));N.ew(D.tw(G.dp));N.ew(D.tw(G.dq));N.ew(D.tw(G.qi));return K;}function u(G){var K;K=[];G=G.$e.next.next.$e.$e.next;for(var N=0;8 > N;N++)(K.push(G.data),G=G.next);return new d(K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7]);}function v(G,K,N,I){if(G instanceof n || G instanceof d){if(N)for(var L=0;L < N.length;++L)if(-1 == E.indexOf(N[L]))return;K={kty:"RSA",alg:K,key_ops:N || [],ext:void 0 == I?!1:I,n:A.Sh(G.n,!0),e:A.Sh(G.e,!0)};G instanceof d && (K.d=A.Sh(G.d,!0),K.p=A.Sh(G.p,!0),K.q=A.Sh(G.q,!0),K.dp=A.Sh(G.dp,!0),K.dq=A.Sh(G.dq,!0),K.qi=A.Sh(G.qi,!0));return K;}}function w(G){var K,N,I,L,O,J,Q,P,S,Y;if(G.kty && "RSA" == G.kty && G.n && G.e){K=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(!G.alg || -1 != K.indexOf(G.alg)){K=[];G.use?"enc" == G.use?K=["encrypt","decrypt","wrap","unwrap"]:"sig" == G.use && (K=["sign","verify"]):K=G.key_ops;N=G.ext;I=A.Pj(G.n,!0);L=A.Pj(G.e,!0);if(G.d){O=A.Pj(G.d,!0);J=A.Pj(G.p,!0);Q=A.Pj(G.q,!0);P=A.Pj(G.dp,!0);S=A.Pj(G.dq,!0);Y=A.Pj(G.qi,!0);return new d(I,L,O,J,Q,P,S,Y,G.alg,K,N);}return new n(I,L,N,K);}}}function x(G,K,N,I){this.O5=G;this.type=K;this.Dna=N;this.extractable=I;}function y(G){F=0;return h(new g(G),0,G.length);}Object.defineProperty(b,"__esModule",{value:!0});b.KLb=b.JLb=b.lvb=b.SEb=b.tUb=b.pyc=b.V2b=b.qyc=b.W2b=b.ryc=b.X2b=b.uUb=b.vUb=b.kKc=b.ANb=b.uSb=b.cpc=b.dpc=b.show=b.parse=void 0;A=a(44127);z=a(11475);B=(function(){function G(K,N){K instanceof B?(this.QH=K.QH,this.position=K.position):(this.QH=K,this.position=N || 0);}G.prototype={kt:function(){return this.QH[this.position++];},Mx:function(K){this.QH[this.position++]=K;},lBb:function(K){return this.QH[K];},oja:function(K,N,I){var L;L=new Uint8Array(this.QH.buffer,this.position,I);K=new Uint8Array(K.buffer,N,I);L.set(K);this.position+=I;},seek:function(K){this.position=K;},skip:function(K){this.position+=K;},setPosition:function(K){this.position=K;},r7:function(){return this.QH.length - this.position;},Kla:function(){return this.QH.length;},show:function(){return "AbvStream: pos " + (this.position.toString() + " of " + this.Kla().toString());}};return G;})();C={uPc:0,xPc:1,tea:2,TG:3,Yea:4,l2:5,$za:6,uTc:7,WRc:8,UTc:9,fRc:10,KQc:11,gVc:12,VTc:13,CUb:16,dUc:17,eTc:18,GTc:19,UUc:20,TUc:20,mVc:21,RRc:22,fVc:23,IRc:24,LRc:25,oVc:26,dSc:26,JRc:27,cVc:28,YPc:29,wPc:30};b.kKc=C;g.prototype={DM:void 0,YD:void 0,get data() {return new Uint8Array(this.Lj.buffer.slice(this.RT,this.RT + this.GM));},get dI() {return this.Lj;},get PIa() {return this.Ldb;},set PIa(G) {this.Ldb=0 != G?!0:!1;},get qYa() {return this.tfb;},set qYa(G) {this.tfb=G;},get tag() {return this.qha;},set tag(G) {this.qha=G;},get Ly() {return this.RT;},set Ly(G) {this.RT=G;},get pB() {return this.GM;},set pB(G) {this.GM=G;},get $e() {return this.DM;},set $e(G) {this.DM=G;this.DM.parent=this;},get next() {return this.YD;},set next(G) {this.YD=G;},get parent() {return this.RA;},set parent(G) {this.RA=G;},get gBb() {var G;G=0;if(this.DM){for(var K=this.DM;K;)(G+=K.length,K=K.next);this.qha == C.TG && G++;}else switch(this.qha){case C.tea:G=this.GM;this.Lj[this.RT] >> 7 && G++;break;case C.TG:G=this.GM + 1;break;case C.Yea:G=this.GM;break;case C.l2:G=0;break;case C.$za:l(this.Lj,this.RT,this.GM) && (G=9);}return G;},get length() {var G,K;G=this.gBb;if(127 < G)for(K=G;K;)(K>>=8,++G);return G + 2;},get O5() {var G,K;G=this.length;if(G){G=new Uint8Array(G);K=new B(G);if(f(this,K))return G;}},get iY() {for(var G=0,K=this.DM;K;)(G++,K=K.next);return G;}};D={rV:function(){return new g(null,null,!0,C.CUb,null,null);},Zkb:function(G){return new g(G,null,!1,C.$za,0,G?G.length:0);},Xkb:function(){return new g(null,null,!1,C.l2,null,null);},v8b:function(G){return new g(G,null,!1,C.TG,0,G?G.length:0);},tw:function(G){return new g(G,null,!1,C.tea,0,G?G.length:0);},v9b:function(G){return new g(G,null,!1,C.Yea,0,G?G.length:0);}};b.uSb=D;b.ANb=c;c.prototype={SH:function(G){this.sGa(this.c3,G);},ew:function(G){this.sGa(this.c3.parent,G);},sGa:function(G,K){this.c3=K;this.c3.parent=G;if(G.$e){for(G=G.$e;G.next;)G=G.next;G.next=K;}else G.$e=K;},wgb:function(G,K){this.Rec(G) && this.sGa(G,K);},Rec:function(G){for(var K=this.c3;K;){if(G == K)return !0;K=K.parent;}return !1;}};F=0;H=new Uint8Array([42,134,72,134,247,13,1,1,1]);b.show=function(){};b.dpc=k;b.cpc=m;b.vUb=n;b.uUb=d;b.X2b=p;b.ryc=function(G){G=y(G);if(k)return r(G);};b.W2b=q;b.qyc=function(G){G=y(G);if(m(G))return u(G);};E=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");b.V2b=v;b.pyc=w;b.SEb=function(G,K,N,I){if(G=y(G)){if(k(G))G=r(G);else if(m(G))G=u(G);else return;return v(G,K,N,I);}};b.tUb=x;x.prototype.getDer=function(){return this.O5;};x.prototype.getType=function(){return this.type;};x.prototype.getKeyOps=function(){return this.Dna;};x.prototype.getExtractable=function(){return this.extractable;};b.lvb=function(G){var K,N;if(G=w(G)){if(G instanceof n)(K=z.fk.nH,N=p(G).O5);else if(G instanceof d)(K=z.fk.rT,N=q(G).O5);else return;return new x(N,K,G.Dna,G.ext);}};b.KLb=function(G){return G.map(function(K){return "wrapKey" == K?"wrap":"unwrapKey" == K?"unwrap":K;});};b.JLb=function(G){if("RSAES-PKCS1-v1_5" == G.name)return "RSA1_5";if("RSASSA-PKCS1-v1_5" == G.name){if("SHA-256" == G.hash.name)return "RS256";if("SHA-384" == G.hash.name)return "RS384";if("SHA-512" == G.hash.name)return "RS512";}};b.parse=y;},12457:function(t,b,a){var l,k,m,p,q,u;function d(v){for(var w in k)v[w]=k[w];}function n(v){if(!(this instanceof n))return new n(v);d(this);this.LU=l.fM;this.pending=this.q=this.c=this.p="";this.hf=v || ({});this.closed=this.fV=this.iR=this.paused=!1;this.tag=this.error=null;this.state=p.xS;this.stack=[];this.position=this.DE=0;this.line=1;this.hHb=!1;this.VJb=0;this.Dta=null;this.depth=0;g(this,"onready");}function c(v){var w;if(!(this instanceof c))return new c(v);this.xe=new n(v);this.readable=this.writable=!0;this.kw=this.QU=0;this.wYa={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)};this.string="";w=this;u.apply(w);this.xe.onend=function(){w.emit("end");};this.xe.onerror=function(x){w.emit("error",x);w.xe.error=null;};m.forEach(function(x){Object.defineProperty(w,"on" + x,{get:function(){return w.xe["on" + x];},set:function(y){if(!y)return (w.removeAllListeners(x),w.xe["on" + x]=y);w.on(x,y);},enumerable:!0,configurable:!1});});}function g(v,w,x){l.K1 && console.log("-- emit",w,x);if(v[w])v[w](x);}function f(v,w){var x,y;x=v.hf;y=v.textNode;void 0 !== y && (x.trim && (y=y.trim()),x.normalize && (y=y.replace(/\s+/g," ")));v.textNode=y;void 0 !== v.textNode && g(v,w?w:"onvalue",v.textNode);v.textNode=void 0;}function e(v,w){f(v);w+="\nLine: " + v.line + "\nColumn: " + v.DE + "\nChar: " + v.c;w=Error(w);v.error=w;g(v,"onerror",w);return v;}function h(v){v.state === p.Zr && 0 === v.depth || e(v,"Unexpected end");f(v);v.c="";v.closed=!0;g(v,"onend");n.call(v,v.hf);return v;}Object.defineProperty(b,"__esModule",{value:!0});l={};t="object" === typeof process?{NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}:Ba;l.Ce=function(v){return new n(v);};l.bQc=n;l.cQc=c;l.oJa=function(v){return new c(v);};l.fM=65536;l.u="debug" === t.x1a;l.K1="debug" === t.x1a || "info" === t.x1a;l.Al=("value string key openobject closeobject openarray closearray error end ready").split(" ");k={textNode:void 0,$j:""};m=l.Al.filter(function(v){return "error" !== v && "end" !== v;});p=0;l.pq={xS:p++,Zr:p++,bAa:p++,ES:p++,Zea:p++,Cva:p++,VUc:p++,qCa:p++,sPc:p++,dRc:p++,aAa:p++,C1a:p++,Pbb:p++,Qbb:p++,Rbb:p++,M3a:p++,N3a:p++,O3a:p++,P3a:p++,l2:p++,j8a:p++,k8a:p++,kSb:p++,Vea:p++};for(var r in l.pq)l.pq[l.pq[r]]=r;p=l.pq;Object.create || (Object.create=function(v){function w(){this.__proto__=v;}w.prototype=v;return new w();});Object.getPrototypeOf || (Object.getPrototypeOf=function(v){return v.__proto__;});Object.keys || (Object.keys=function(v){var w,x;w=[];for(x in v)v.hasOwnProperty(x) && w.push(x);return w;});q=/[\\"\n]/g;n.prototype={end:function(){h(this);},write:function(v){if(this.error)throw this.error;if(this.closed)return e(this,"Cannot write after close. Assign an onready handler.");if(null === v)return h(this);this.pending+=v;if(this.paused)return this;l.u && console.log("write -> [" + v + "]");return this.parse();},parse:function(){var A,z,B;for(var v=this.pending,w=0,x=v[0],y;x && !this.paused;){y=x;this.c=x=v.charAt(w++);y !== x?this.p=y:y=this.p;if(!x)break;l.u && console.log(w,x,l.pq[this.state]);this.position++;"\n" === x?(this.line++,this.DE=0):this.DE++;switch(this.state){case p.xS:"{" === x?this.state=p.bAa:"[" === x?this.state=p.Zea:"\r" !== x && "\n" !== x && " " !== x && "\t" !== x && e(this,"Non-whitespace before {[.");continue;case p.aAa:case p.bAa:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;if(this.state === p.aAa)this.stack.push(p.C1a);else if("}" === x){g(this,"onopenobject");this.depth++;g(this,"oncloseobject");this.depth--;this.state=this.stack.pop() || p.Zr;continue;}else this.stack.push(p.ES);'"' === x?this.state=p.qCa:e(this,'Malformed object key should start with "');continue;case p.C1a:case p.ES:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;":" === x?(this.state === p.ES?(this.stack.push(p.ES),f(this,"onopenobject"),this.depth++):f(this,"onkey"),this.state=p.Zr):"}" === x?(f(this),g(this,"oncloseobject",void 0),this.depth--,this.state=this.stack.pop() || p.Zr):"," === x?(this.state === p.ES && this.stack.push(p.ES),f(this),this.state=p.aAa):e(this,"Bad object");continue;case p.Zea:case p.Zr:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;if(this.state === p.Zea)if((g(this,"onopenarray"),this.depth++,this.state=p.Zr,"]" === x)){g(this,"onclosearray");this.depth--;this.state=this.stack.pop() || p.Zr;continue;}else this.stack.push(p.Cva);'"' === x?this.state=p.qCa:"{" === x?this.state=p.bAa:"[" === x?this.state=p.Zea:"t" === x?this.state=p.Pbb:"f" === x?this.state=p.M3a:"n" === x?this.state=p.l2:"-" === x?this.$j+=x:"0" === x?(this.$j+=x,this.state=p.Vea):-1 !== ("123456789").indexOf(x)?(this.$j+=x,this.state=p.Vea):e(this,"Bad value");continue;case p.Cva:if("," === x)(this.stack.push(p.Cva),f(this,"onvalue"),this.state=p.Zr);else if("]" === x)(f(this),g(this,"onclosearray",void 0),this.depth--,this.state=this.stack.pop() || p.Zr);else if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;else e(this,"Bad array");continue;case p.qCa:void 0 === this.textNode && (this.textNode="");y=w - 1;(A=this.hHb,z=this.VJb);a:for(;;){for(l.u && console.log(w,x,l.pq[this.state],A);0 < z;)if((this.Dta+=x,x=v.charAt(w++),this.position++,4 === z?(this.textNode+=String.fromCharCode(parseInt(this.Dta,16)),z=0,y=w - 1):z++,!x))break a;if('"' === x && !A){this.state=this.stack.pop() || p.Zr;this.textNode+=v.substring(y,w - 1);this.position+=w - 1 - y;break;}if("\\" === x && !A && (A=!0,this.textNode+=v.substring(y,w - 1),this.position+=w - 1 - y,x=v.charAt(w++),this.position++,!x))break;if(A)if((A=!1,"n" === x?this.textNode+="\n":"r" === x?this.textNode+="\r":"t" === x?this.textNode+="\t":"f" === x?this.textNode+="\f":"b" === x?this.textNode+="\b":"u" === x?(z=1,this.Dta=""):this.textNode+=x,x=v.charAt(w++),this.position++,y=w - 1,x))continue;else break;q.lastIndex=w;B=q.exec(v);if(null === B){w=v.length + 1;this.textNode+=v.substring(y,w - 1);this.position+=w - 1 - y;break;}w=B.index + 1;x=v.charAt(B.index);if(!x){this.textNode+=v.substring(y,w - 1);this.position+=w - 1 - y;break;}}this.hHb=A;this.VJb=z;continue;case p.Pbb:if("" === x)continue;"r" === x?this.state=p.Qbb:e(this,"Invalid true started with t" + x);continue;case p.Qbb:if("" === x)continue;"u" === x?this.state=p.Rbb:e(this,"Invalid true started with tr" + x);continue;case p.Rbb:if("" === x)continue;"e" === x?(g(this,"onvalue",!0),this.state=this.stack.pop() || p.Zr):e(this,"Invalid true started with tru" + x);continue;case p.M3a:if("" === x)continue;"a" === x?this.state=p.N3a:e(this,"Invalid false started with f" + x);continue;case p.N3a:if("" === x)continue;"l" === x?this.state=p.O3a:e(this,"Invalid false started with fa" + x);continue;case p.O3a:if("" === x)continue;"s" === x?this.state=p.P3a:e(this,"Invalid false started with fal" + x);continue;case p.P3a:if("" === x)continue;"e" === x?(g(this,"onvalue",!1),this.state=this.stack.pop() || p.Zr):e(this,"Invalid false started with fals" + x);continue;case p.l2:if("" === x)continue;"u" === x?this.state=p.j8a:e(this,"Invalid null started with n" + x);continue;case p.j8a:if("" === x)continue;"l" === x?this.state=p.k8a:e(this,"Invalid null started with nu" + x);continue;case p.k8a:if("" === x)continue;"l" === x?(g(this,"onvalue",null),this.state=this.stack.pop() || p.Zr):e(this,"Invalid null started with nul" + x);continue;case p.kSb:"." === x?(this.$j+=x,this.state=p.Vea):e(this,"Leading zero not followed by .");continue;case p.Vea:-1 !== ("0123456789").indexOf(x)?this.$j+=x:"." === x?(-1 !== this.$j.indexOf(".") && e(this,"Invalid number has two dots"),this.$j+=x):"e" === x || "E" === x?(-1 === this.$j.indexOf("e") && -1 === this.$j.indexOf("E") || e(this,"Invalid number has two exponential"),this.$j+=x):"+" === x || "-" === x?("e" !== y && "E" !== y && e(this,"Invalid symbol in number"),this.$j+=x):(this.$j && g(this,"onvalue",parseFloat(this.$j)),this.$j="",w--,this.state=this.stack.pop() || p.Zr);continue;default:e(this,"Unknown state: " + this.state);}}if(this.position >= this.LU){x=Math.max(l.fM,10);y=0;for(var C in k){A=void 0 === this[C]?0:this[C].length;if(A > x)switch(C){case "text":closeText(this);break;default:e(this,"Max buffer length exceeded: " + C);}y=Math.max(y,A);}this.LU=l.fM - y + this.position;}0 < w && (this.pending=v.substring(w));return this;},pause:function(){this.paused=!0;return this;},resume:function(){this.paused=!1;this.error=null;return this;},close:function(){return this.write(null);}};try{u=a(75177).NUc;}catch(v){u=function(){};}c.prototype=Object.create(null,{constructor:{value:c}});c.prototype.write=function(v){var x;v=new Buffer(v);for(var w=0;w < v.length;w++){x=v[w];if(0 < this.QU){for(x=0;x < this.QU;x++)this.wYa[this.kw][this.kw - this.QU + x]=v[x];this.string=this.wYa[this.kw].toString();this.kw=this.QU=0;w=w + x - 1;this.xe.write(this.string);this.emit("data",this.string);}else if(0 === this.QU && 128 <= x){194 <= x && 223 >= x && (this.kw=2);224 <= x && 239 >= x && (this.kw=3);240 <= x && 244 >= x && (this.kw=4);if(this.kw + w > v.length){for(x=0;x <= v.length - 1 - w;x++)this.wYa[this.kw][x]=v[w + x];this.QU=w + this.kw - v.length;return !0;}this.string=v.slice(w,w + this.kw).toString();w=w + this.kw - 1;this.xe.write(this.string);this.emit("data",this.string);}else {for(x=w;x < v.length && !(128 <= v[x]);x++);this.string=v.slice(w,x).toString();this.xe.write(this.string);this.emit("data",this.string);w=x - 1;}}};c.prototype.end=function(v){v && v.length && this.xe.write(v.toString());this.xe.end();return !0;};c.prototype.on=function(v,w){var x;x=this;x.xe["on" + v] || -1 === m.indexOf(v) || (x.xe["on" + v]=function(){var y;y=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);y.splice(0,0,v);x.emit.apply(x,y);});return u.prototype.on.call(x,v,w);};c.prototype.Cs=function(){d(this.xe);this.emit("close");};b["default"]=l;},31238:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Qva=void 0;t=a(22970);t.__importDefault(a(42979));a(70390);d=a(93652);n=a(34801);c=a(25462);t.__importDefault(a(32260));g=a(56058);a=(function(){function f(){}f.prototype.eJa=function(e,h,l,k,m,p){n.Skb(e,h,l,k,m,p);};f.prototype.w9b=function(e,h,l,k,m,p){c.Tkb(e,h,l,k,null,m,p);};f.prototype.pV=function(e,h,l,k,m){d.Rkb(e,h,l,k,m);};f.prototype.Q8b=function(e,h,l){g.Ikb(e,h,l);};return f;})();b.Qva=a;},56058:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.Ikb=b.X1a=void 0;d=a(22970);n=d.__importDefault(a(42979));c=a(68480);g=a(93652);f=a(32260);e=(function(h){function l(k,m,p){var r;r=h.call(this,k,null,null,0,p) || this;n.default(p,function(){var q,u,v,w,x,y,A,z;q=m.Xb;u=m.al;v=m.Xf;w=m.bj;x=m.pe;y=g.gJ(x);A=c.rPa(m.Qxb,k.QD);try{z=m.keyResponseData;r.Itb(k,y,A,u,z?z.Xb:q,v,m.PK);return r;}catch(B){throw (f.pd(B) && (B.bc(q),B.If(u),B.se(v),B.jf(w),B.Hh(x)),B);}});return r;}d.__extends(l,h);return l;})(g.zza);b.X1a=e;b.Ikb=function(h,l,k){new e(h,l,k);};},70390:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.NAb=b.M8b=b.O0=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));c=t.__importDefault(a(20754));g=t.__importDefault(a(36114));f=t.__importDefault(a(42979));e=t.__importDefault(a(6838));h=t.__importDefault(a(24571));l=t.__importDefault(a(42458));k=t.__importDefault(a(58511));m=t.__importDefault(a(88257));p=a(44127);r=a(32260);q=(function(){return function(v,w){this.l6=v;this.fL=w;};})();u=(function(){function v(w,x,y,A,z,B,C,D){var F;0 > z && (z=-1);if(0 > y || y > d.default.Le)throw new n.default("Message ID " + y + " is out of range.");if(!x)throw new c.default(g.default.aza);if(D){F=D.fL;D=D.l6;}else (F=parseInt(w.getTime() / 1E3),D=w.qg.af(),D.put("timestamp",F),D.put("messageid",y),D.put("errorcode",A),0 < z && D.put("internalcode",z),B && D.put("errormsg",B),C && D.put("usermsg",C));this.Rj=w;this.al=x;this.fL=F;this.pe=y;this.errorCode=A;this.h8=z;this.errorMessage=B;this.l6=D;this.encodings={};}v.prototype.TNa=function(){return null !== this.fL?new Date(1E3 * this.fL):null;};v.prototype.Dm=function(w,x,y){var A;A=this;f.default(y,function(){var z,B;if(A.encodings[x])return A.encodings[x];z=A.Rj.Ela(A.al.scheme);if(!z)throw new e.default("No entity authentication factory found for entity.");try{B=z.Sy(A.Rj,A.al);}catch(C){if(C instanceof h.default || C instanceof l.default)throw new e.default("Error creating the entity crypto context.",C);throw C;}w.jj(A.l6,x,{result:function(C){B.encrypt(C,w,x,{result:function(D){B.sign(D,w,x,{result:function(F){f.default(y,function(){var H;H=w.af();H.put(k.default.gya,A.al);H.put(k.default.MQb,D);H.put(k.default.iya,F);w.jj(H,x,{result:function(E){f.default(y,function(){return A.encodings[x]=E;});},error:y.error});});},error:function(F){F instanceof l.default && (F=new e.default("Error signing the error data.",F));y.error(F);}});},error:function(D){D instanceof l.default && (D=new e.default("Error signing the error data.",D));y.error(D);}});},error:y.error});});};return v;})();b.O0=u;b.M8b=function(v,w,x,y,A,z,B,C){f.default(C,function(){return new u(v,w,x,y,A,z,B,null);});};b.NAb=function(v,w,x,y,A){f.default(A,function(){var z,B,C,D;z=v.qg;if(!x)throw new c.default(g.default.aza);try{B=x.scheme;C=v.Ela(B);if(!C)throw new h.default(g.default.Jwa,B);D=C.Sy(v,x);}catch(F){throw (r.pd(F) && F.If(x),F);}D.verify(w,y,z,{result:function(F){f.default(A,function(){if(!F)throw new l.default(g.default.vRb).If(x);D.decrypt(w,z,{result:function(H){f.default(A,function(){var E,G,K,N,I,L,O,J,Q;try{E=z.ro(H);G=E.$m("messageid");if(0 > G || G > d.default.Le)throw new c.default(g.default.c7a,"errordata " + E).If(x);}catch(P){if(P instanceof e.default)throw new m.default(g.default.Me,"errordata " + p.Sh(H),P).If(x);throw P;}try{K=E.has("timestamp")?E.$m("timestamp"):null;N=E.UO("errorcode");I=!1;for(L in d.default.N)if(d.default.N[L] == N){I=!0;break;}I || (N=d.default.N.da);if(E.has("internalcode")){O=E.UO("internalcode");if(0 > O)throw new c.default(g.default.xQb,"errordata " + E).If(x).Hh(G);}else O=-1;J=E.s$("errormsg",null);Q=E.s$("usermsg",null);}catch(P){if(P instanceof e.default)throw new m.default(g.default.Me,"errordata " + E,P).If(x).Hh(G);throw P;}E=new q(E,K);return new u(v,x,G,N,O,J,Q,E);});},error:function(H){f.default(A,function(){r.pd(H) && H.If(x);throw H;});}});});},error:function(F){f.default(A,function(){r.pd(F) && F.If(x);throw F;});}});});};},58511:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.hqa=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(6838));c=t.__importDefault(a(88257));g=a(58768);f=a(58892);e=t.__importDefault(a(20754));h=t.__importDefault(a(36114));l=a(70390);k=a(54449);b["default"]={gya:"entityauthdata",V5a:"mastertoken",U5a:"headerdata",MQb:"errordata",iya:"signature"};b.hqa=function(m,p,r,q){function u(w,x,y){x?f.iqa(m,x,{result:function(A){v(w,A,y);},error:q.error}):v(w,null,y);}function v(w,x,y){d.default(q,function(){var A,z;try{if(p.has("headerdata")){A=p.gd("headerdata");if(0 == A.length)throw new e.default(h.default.u4a).bc(x).If(w);k.UAb(m,A,w,x,y,r,q);}else if(p.has("errordata")){z=p.gd("errordata");if(0 == z.length)throw new e.default(h.default.u4a).bc(x).If(w);l.NAb(m,z,w,y,q);}else throw new c.default(h.default.Me,p);}catch(B){if(B instanceof n.default)throw new c.default(h.default.Me,"header/errormsg " + p,B);throw B;}});}d.default(q,function(){var w,x,y,A;try{w=m.qg;x=p.has("entityauthdata")?p.op("entityauthdata",w):null;y=p.has("mastertoken")?p.op("mastertoken",w):null;A=p.gd("signature");}catch(z){if(z instanceof n.default)throw new c.default(h.default.Me,"header/errormsg " + p,z);throw z;}x?g.MAb(m,x,{result:function(z){u(z,y,A);},error:q.error}):u(null,y,A);});};},93652:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperty(b,"__esModule",{value:!0});b.Rkb=b.zza=b.K$b=b.gJ=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));c=t.__importDefault(a(42979));g=t.__importDefault(a(36114));f=t.__importDefault(a(20754));e=a(54449);a(61693);a(97962);h=t.__importDefault(a(32260));l=a(32260);new Uint8Array(0);b.gJ=function(m){if(0 > m || m > d.default.Le)throw new n.default("Message ID " + m + " is outside the valid range.");return m == d.default.Le?0:m + 1;};b.K$b=function(m){if(0 > m || m > d.default.Le)throw new n.default("Message ID " + m + " is outside the valid range.");return 0 == m?d.default.Le:m - 1;};k=(function(){function m(p,r,q,u,v){var w;w=this;c.default(v,function(){if(void 0 == u || null == u)u=h.default.Rjc(p);else if(0 > u || u > d.default.Le)throw new n.default("Message ID " + u + " is outside the valid range.");p.Dla({result:function(x){c.default(v,function(){w.Itb(p,u,p.QD,x,r,q,null);return w;});},error:v.error});});}m.prototype.Itb=function(p,r,q,u,v,w,x){var y,A;y=[];A=p.Nl.VI(v,w);y.push.apply(y,A);x && x.forEach(function(z){if(z.Pw() && !z.fh(v))throw new f.default(g.default.eCa,"st " + z + "; mt " + v).bc(v);if(z.Su() && !z.fh(w))throw new f.default(g.default.fCa,"st " + z + "; uit " + w).bc(v).se(w);y.push(z);},this);this.Kj=p;this.IM=u;this.cs=v;this.UM=r;this.QD=q;this.xH=null;this.G3=this.Wv=this.t3=!1;this.yH={};this.EFa=null;this.jN=w;this.VA=y;this.pYb=this.nYb=null;this.oYb=[];};m.prototype.Xqb=function(){return this.UM;};m.prototype.Hh=function(p){if(0 > p || p > d.default.Le)throw new n.default("Message ID " + p + " is out of range.");this.UM=p;return this;};m.prototype.BB=function(){return this.cs;};m.prototype.Fw=function(){return this.jN;};m.prototype.NLb=function(){return this.cs || this.IM.scheme.xka;};m.prototype.OLb=function(){return this.cs || this.xH || this.IM.scheme.xka;};m.prototype.PLb=function(){return this.cs || this.IM.scheme.ICb;};m.prototype.QLb=function(){return this.cs || this.xH || this.IM.scheme.ICb;};m.prototype.eF=function(p){var r;r=this;c.default(p,function(){var q,u,v;q=r.xH?r.xH.keyResponseData:null;u=[];for(v in r.yH)u.push(r.yH[v]);if(r.t3){if(!r.cs)throw new f.default(g.default.eSb);v=r.Kj.Nl.gjc(r.cs);}else v=null;q=new e.K4a(r.UM,v,r.G3,r.Wv,r.QD,u,q,r.EFa,r.jN,r.VA);u=new e.P4a(r.nYb,r.pYb,r.oYb);r.kV(r.Kj,r.IM,r.cs,q,u,p);});};m.prototype.kV=function(p,r,q,u,v,w){e.kV(p,r,q,u,v,w);};m.prototype.Rs=function(){return this.t3;};m.prototype.qR=function(p){if(this.t3=p)this.Wv=!1;};m.prototype.Ss=function(){return this.G3;};m.prototype.XWa=function(p){(this.G3=p) || (this.Wv=!1);};m.prototype.tJ=function(){return this.Wv;};m.prototype.xGc=function(p){if(this.Wv=p)(this.t3=!1,this.G3=!0);};m.prototype.YFb=function(p,r){var q,u,w;q=this;if(r && !r.fh(p))throw new n.default("User ID token must be bound to master token.");if(this.xH)throw new n.default("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{u=this.Kj.Nl.VI(p,r);}catch(x){if(l.pd(x))throw new n.default("Invalid master token and user ID token combination despite checking above.",x);throw x;}for(var v=this.VA.length - 1;0 <= v;--v){w=this.VA[v];(w.Su() && !w.fh(r) || w.Pw() && !w.fh(p)) && this.VA.splice(v,1);}u.forEach(function(x){q.Knb(x.name,x.Pw(),x.Su());q.VA.push(x);});this.cs=p;(this.jN=r) || (this.EFa=null);};m.prototype.jf=function(p){this.EFa=p;return this;};m.prototype.g_b=function(p){this.yH[p.Ih()]=p;};m.prototype.B_b=function(p){var r;r=this.xH?this.xH.keyResponseData.Xb:this.cs;if(p.Pw() && !p.fh(r))throw new f.default(g.default.eCa,"st " + p + "; mt " + r).bc(r);if(p.Su() && !p.fh(this.jN))throw new f.default(g.default.fCa,"st " + p + "; uit " + this.jN).bc(r).se(this.jN);this.Knb(p.name,p.Pw(),p.Su());this.VA.push(p);};m.prototype.Knb=function(){var p,r,q,v;if(1 == arguments.length){p=arguments[0];r=p.name;q=p.Pw();p=p.Su();}else (arguments.length=3,r=arguments[0],q=arguments[1],p=arguments[2]);for(var u=this.VA.length - 1;0 <= u;--u){v=this.VA[u];v.name == r && v.Pw() == q && v.Su() == p && this.VA.splice(u,1);}};m.prototype.VI=function(){var p;p=[];p.push.apply(p,this.VA);return p;};return m;})();b.zza=k;b.Rkb=function(m,p,r,q,u){new k(m,p,r,q,u);};},68480:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r){var q,u,v;q={};u=[];for(v=0;v < p.length;++v)q[p[v]]=!0;for(v=0;v < r.length;++v)q[r[v]] && u.push(r[v]);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.TAb=b.T7a=b.rPa=void 0;n=a(22970);t=a(48235);c=n.__importDefault(a(42979));g=n.__importDefault(a(14945));f=a(51411);e=a(65630);h=n.__importDefault(a(6838));l=n.__importDefault(a(88257));k=n.__importDefault(a(36114));b.rPa=function(p,r){var q,u;if(!p || !r)return null;q=d(p.kI,r.kI);u=d(p.languages,r.languages);p=d(p.mO,r.mO);return new m(q,u,p);};m=(function(p){function r(q,u,v){var w;w=p.call(this) || this;q || (q=[]);u || (u=[]);v || (v=[]);q.sort();w.kI=q;w.languages=u;w.mO=v;return w;}n.__extends(r,p);r.prototype.Dm=function(q,u,v){var w;w=this;c.default(v,function(){var x;x=q.af();x.put("compressionalgos",q.p5(w.kI));x.put("languages",w.languages);for(var y=q.p5(),A=0;A < w.mO.length;++A)y.put(-1,w.mO[A].name);x.put("encoderformats",y);q.jj(x,u,v);});};r.prototype.equals=function(q){return this === q?!0:q instanceof r?g.default.m5(this.kI,q.kI) && g.default.m5(this.languages,q.languages) && g.default.m5(this.mO,q.mO):!1;};r.prototype.Ih=function(){return this.kI.join(":") + "|" + this.languages.join(":") + "|" + this.mO.join(":");};return r;})(t.Dn);b.T7a=m;b.TAb=function(p){var v,w,x,y,A;try{for(var r=[],q=p.Ypa("compressionalgos"),u=0;q && u < q.size();++u){v=q.de(u);(v in f.VG) && r.push(v);}q=[];w=p.Ypa("languages");for(u=0;w && u < w.size();++u)q.push(w.de(u));w=[];x=p.Ypa("encoderformats");for(u=0;x && u < x.size();++u){y=x.de(u);A=e.Nea.DMa(y);A && w.push(A);}return new m(r,q,w);}catch(z){if(z instanceof h.default)throw new l.default(k.default.Me,"capabilities " + p,z);throw z;}};},54449:function(t,b,a){var l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J;function d(Q,P,S){var Y;if(S){if(P=Q.Nl.Sy(S))return P;if(!S.$p || !S.n8())throw new k.default(m.default.$6a,S);return new p.E2(Q,S);}S=P.scheme;Y=Q.Ela(S);if(!Y)throw new r.default(m.default.Jwa,S.name);return Y.Sy(Q,P);}function n(Q,P,S){q.default(S,function(){if(P)F.RAb(Q,P,S);else return null;});}function c(Q,P,S,Y){q.default(Y,function(){if(P)C.DTa(Q,P,S,Y);else return null;});}function g(Q,P,S,Y){q.default(Y,function(){if(S)z.bBb(Q,P,S,Y);else return null;});}function f(Q,P,S,Y,X,T,U){var aa;function Z(da,fa,ma){q.default(ma,function(){var R,M;if(fa >= da.size()){R=[];for(M in aa)R.push(aa[M]);return R;}try{R=da.op(fa,Q.qg);}catch(V){if(V instanceof w.default)throw new x.default(m.default.Me,"headerdata " + T,V);throw V;}B.lqa(Q,R,S,Y,X,{result:function(V){q.default(ma,function(){aa[V.Ih()]=V;Z(da,fa + 1,ma);});},error:ma.error});});}aa={};q.default(U,function(){if(P)Z(P,0,U);else return [];});}function e(Q,P,S,Y,X){q.default(X,function(){return {ITa:null,KTa:null,JTa:[]};});}function h(Q,P,S){var X;function Y(T,U){q.default(S,function(){var Z;if(U >= T.size())return X;Z=T.op(U,Q.qg);D.QAb(Q,Z,{result:function(aa){q.default(S,function(){X.push(aa);Y(T,U + 1);});},error:S.error});});}X=[];q.default(S,function(){var T;try{if(!P.has("keyrequestdata"))return [];T=P.fNa("keyrequestdata");Y(T,0);}catch(U){if(U instanceof w.default)throw new x.default(m.default.Me,"headerdata " + P,U);throw U;}});}Object.defineProperty(b,"__esModule",{value:!0});b.UAb=b.kV=b.lT=b.dOb=b.P4a=b.K4a=void 0;l=a(22970);k=l.__importDefault(a(80760));m=l.__importDefault(a(36114));p=a(43088);r=l.__importDefault(a(24571));t=a(48235);q=l.__importDefault(a(42979));u=l.__importDefault(a(51411));v=l.__importDefault(a(10690));w=l.__importDefault(a(6838));x=l.__importDefault(a(88257));y=l.__importDefault(a(42458));A=l.__importDefault(a(58511));z=a(5248);B=a(61693);a(58892);C=a(85065);D=a(59786);F=a(49140);H=l.__importDefault(a(20754));E=a(44127);G=a(68480);K=l.__importDefault(a(88361));N=a(32260);I=(function(){return function(Q,P,S,Y,X,T,U,Z,aa,da){this.pe=Q;this.nSa=P;this.vVa=S;this.IB=Y;this.eg=X;this.PB=T;this.keyResponseData=U;this.YKb=Z;this.Xf=aa;this.PK=da;};})();b.K4a=I;L=(function(){return function(Q,P,S){this.ITa=Q;this.KTa=P;this.JTa=S;};})();b.P4a=L;O=(function(){return function(Q,P,S,Y){this.hS=Q;this.fL=P;this.Dtc=S;this.Ama=Y;};})();b.dOb=O;J=(function(Q){function P(S,Y,X,T,U,Z,aa){var fa;function da(ma){q.default(aa,function(){var R,M,V,ba,ha,ca,la,ra,ta,ja,W,ea,ka,pa,qa,na;if(0 > T.pe || T.pe > u.default.Le)throw new v.default("Message ID " + T.pe + " is out of range.");if(!Y && !X)throw new v.default("Message entity authentication data or master token must be provided.");if(!X && !Y.scheme.xka && T.YKb)throw new v.default("User authentication data cannot be included if the message is not encrypted.");Y=X?null:Y;R=T.nSa;M=T.vVa;V=T.IB;ba=T.eg;ha=T.pe;ca=T.PB?T.PB:[];la=T.keyResponseData;ra=T.YKb;ta=T.Xf;ja=T.PK?T.PK:[];W=[];ea=la?la.Xb:X;if(ta && (!ea || !ta.fh(ea)))throw new v.default("User ID token must be bound to a master token.");ja.forEach(function(Aa){if(Aa.Pw() && (!ea || !Aa.fh(ea)))throw new v.default("Master token bound service tokens must be bound to the provided master token.");if(Aa.Su() && (!ta || !Aa.fh(ta)))throw new v.default("User ID token bound service tokens must be bound to the provided user ID token.");},fa);W.forEach(function(Aa){if(Aa.Pw())throw new v.default("Master token bound peer service tokens must be bound to the provided peer master token.");if(Aa.Su())throw new v.default("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},fa);if(Z)(ka=Z.hS,pa=Z.fL,qa=Z.Ama,na=Z.Dtc);else {ka=ta?ta.hS:null;pa=parseInt(S.getTime() / 1E3);try{qa=S.qg.af();"string" === typeof ma && qa.put("sender",ma);qa.put("timestamp",pa);qa.put("messageid",ha);qa.put("nonreplayable","number" === typeof R);"number" === typeof R && qa.put("nonreplayableid",R);qa.put("renewable",M);qa.put("handshake",V);ba && qa.put("capabilities",ba);0 < ca.length && qa.put("keyrequestdata",ca);la && qa.put("keyresponsedata",la);ra && qa.put("userauthdata",ra);ta && qa.put("useridtoken",ta);0 < ja.length && qa.put("servicetokens",ja);0 < W.length && qa.put("peerservicetokens",W);}catch(Aa){if(Aa instanceof w.default)throw new x.default(m.default.BRb,"headerdata",Aa).bc(X).If(Y).se(null).jf(ra).Hh(ha);throw Aa;}try{na=d(S,Y,X);}catch(Aa){throw (N.pd(Aa) && (Aa.bc(X),Aa.If(Y),Aa.se(ta),Aa.jf(ra),Aa.Hh(ha)),Aa);}}fa.al=Y;fa.Xb=X;fa.Ama=qa;fa.fL=pa;fa.pe=ha;fa.nSa=R;fa.vVa=M;fa.IB=V;fa.Qxb=ba;fa.PB=ca;fa.keyResponseData=la;fa.bj=ra;fa.Xf=ta;fa.PK=ja;fa.ITa=null;fa.KTa=null;fa.JTa=W;fa.hS=ka;fa.Rn=na;fa.encodings={};return fa;});}fa=Q.call(this) || this;q.default(aa,function(){Z?da(null):X?S.Dla({result:function(ma){q.default(aa,function(){var R;R=ma.Uy();da(R?R:"");});},error:aa.error}):da(null);});return fa;}l.__extends(P,Q);P.prototype.TNa=function(){return new Date(1E3 * this.fL);};P.prototype.Ss=function(){return this.vVa;};P.prototype.tJ=function(){return this.IB;};P.prototype.Dm=function(S,Y,X){var T;T=this;q.default(X,function(){if(T.encodings[Y.name])return T.encodings[Y.name];S.jj(T.Ama,Y,{result:function(U){q.default(X,function(){T.Rn.encrypt(U,S,Y,{result:function(Z){q.default(X,function(){T.Rn.sign(Z,S,Y,{result:function(aa){q.default(X,function(){var da;da=S.af();T.Xb?da.put(A.default.V5a,T.Xb):da.put(A.default.gya,T.al);da.put(A.default.U5a,Z);da.put(A.default.iya,aa);S.jj(da,Y,{result:function(fa){q.default(X,function(){return T.encodings[Y.name]=fa;});},error:X.error});});},error:function(aa){q.default(X,function(){aa instanceof y.default && (aa=new w.default("Error signing the header data.",aa));throw aa;});}});});},error:function(Z){q.default(X,function(){Z instanceof y.default && (Z=new w.default("Error encrypting the header data.",Z));throw Z;});}});});},error:X.error});});};return P;})(t.Dn);b.lT=J;b.kV=function(Q,P,S,Y,X,T){new J(Q,P,S,Y,X,null,T);};b.UAb=function(Q,P,S,Y,X,T,U){function Z(fa,ma,R,M,V,ba,ha,ca,la){q.default(la,function(){n(Q,V,{result:function(ra){q.default(la,function(){var ta;ta=ra?ra.Xb:Y;c(Q,ba,ta,{result:function(ja){q.default(la,function(){g(Q,ta,ha,{result:function(W){q.default(la,function(){var ea,ka,pa;if(W){if(!Y && !S.scheme.xka)throw new H.default(m.default.lVb).se(ja).jf(W);ea=W.scheme;ka=Q.fsb(ea);if(!ka)throw new K.default(m.default.Ecb,ea).se(ja).jf(W);ka.$Ga(Q,Y?Y.Os:S.Uy(),W,ja,{result:function(qa){f(Q,ca,ta,ja,T,ma,{result:function(na){da(fa,ma,R,M,ra,ja,W,qa,na,la);},error:la.error});},error:la.error});}else {pa=ja?ja.hS:null;f(Q,ca,ta,ja,T,ma,{result:function(qa){da(fa,ma,R,M,ra,ja,W,pa,qa,la);},error:la.error});}});},error:la.error});});},error:la.error});});},error:la.error});});}function aa(fa,ma){q.default(U,function(){var R,M,V,ba,ha,ca,la,ra,ta;R=Q.qg;try{M=R.ro(ma);V=M.$m("messageid");if(0 > V || V > u.default.Le)throw new H.default(m.default.c7a,"headerdata " + M).bc(Y).If(S);}catch(ja){if(ja instanceof w.default)throw new x.default(m.default.Me,"headerdata " + E.Sh(ma),ja).bc(Y).If(S);throw ja;}try{ba=M.has("timestamp")?M.$m("timestamp"):null;ha=M.has("keyresponsedata")?M.op("keyresponsedata",R):null;ca=M.has("useridtoken")?M.op("useridtoken",R):null;la=M.has("userauthdata")?M.op("userauthdata",R):null;ra=M.has("servicetokens")?M.fNa("servicetokens"):null;}catch(ja){if(ja instanceof w.default)throw new x.default(m.default.Me,"headerdata " + M,ja).bc(Y).If(S).Hh(V);throw ja;}ta=U;U={result:ta.result,error:function(ja){N.pd(ja) && (ja.bc(Y),ja.If(S),ja.Hh(V));ta.error(ja);}};Z(fa,M,V,ba,ha,ca,la,ra,U);});}function da(fa,ma,R,M,V,ba,ha,ca,la,ra){q.default(ra,function(){var ta,ja,W,ea,ka,pa;ta=Q.qg;try{ja=ma.has("nonreplayableid")?ma.$m("nonreplayableid"):null;W=ma.O6("renewable");ea=ma.has("handshake")?ma.O6("handshake"):!1;if(0 > ja || ja > u.default.Le)throw new H.default(m.default.h8a,"headerdata " + ma.toString());ka=null;if(ma.has("capabilities")){pa=ma.op("capabilities",ta);ka=G.TAb(pa);}}catch(qa){if(qa instanceof w.default)throw new x.default(m.default.Me,"headerdata " + ma.toString(),qa).bc(Y).If(S).se(ba).jf(ha).Hh(R);throw qa;}h(Q,ma,{result:function(qa){e(Q,ma,V,T,{result:function(na){q.default(ra,function(){var Aa,Ha,oa,wa;Aa=na.ITa;Ha=na.KTa;oa=na.JTa;wa=new I(R,ja,W,ea,ka,qa,V,ha,ba,la);Aa=new L(Aa,Ha,oa);Ha=new O(ca,M,fa,ma);new J(Q,S,Y,wa,Aa,Ha,ra);});},error:ra.error});},error:function(qa){q.default(ra,function(){N.pd(qa) && (qa.se(ba),qa.jf(ha));throw qa;});}});});}q.default(U,function(){var fa,ma;fa=Q.qg;S=Y?null:S;if(!S && !Y)throw new H.default(m.default.aza);try{ma=d(Q,S,Y);}catch(R){throw (N.pd(R) && (R.bc(Y),R.If(S)),R);}ma.verify(P,X,fa,{result:function(R){q.default(U,function(){if(!R){if(Y)throw new y.default(m.default.tRb);throw new y.default(m.default.qRb);}ma.decrypt(P,fa,{result:function(M){aa(ma,M);},error:function(M){q.default(U,function(){if(M instanceof y.default || M instanceof r.default)(M.bc(Y),M.If(S));throw M;});}});});},error:function(R){q.default(U,function(){if(R instanceof y.default || R instanceof r.default)(R.bc(Y),R.If(S));throw R;});}});});};},34801:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B;function d(C,D,F,H){c.default(H,function(){var G,K,N,I,L,O,J;function E(){c.default(H,function(){var Q;if(J >= F.length){if(O)throw O;throw new f.default(e.default.T5a,F);}Q=F[J];I != Q.oz?(++J,E()):L.Sy(C,Q,K,G,{result:H.result,error:function(P){c.default(H,function(){if(!z.pd(P))throw P;O=P;++J;E();});}});});}G=D.Xb;K=D.keyResponseData;if(!K)return null;N=K.Xb;if(N.n8())return new g.E2(C,N);I=K.oz;L=C.RMa(I);if(!L)throw new f.default(e.default.fya,I);J=0;E();});}Object.defineProperty(b,"__esModule",{value:!0});b.Skb=b.Mea=void 0;n=a(22970);c=n.__importDefault(a(42979));g=a(43088);f=n.__importDefault(a(35661));e=n.__importDefault(a(36114));h=n.__importDefault(a(79804));l=n.__importDefault(a(88257));k=n.__importDefault(a(6838));t=a(53389);m=a(58511);p=a(70390);r=a(89752);q=n.__importDefault(a(20754));u=n.__importDefault(a(80760));v=n.__importDefault(a(67609));w=n.__importDefault(a(10690));x=a(42296);y=n.__importDefault(a(48795));A=a(54449);z=a(32260);B=(function(C){function D(F,H,E,G,K,N){var X;function I(T){h.default(N,function(){X.O3=T;X.O3.yyb({result:function(U){U?L():(X.Oe=new l.default(e.default.pRb),Y());},timeout:function(){X.Dq=!0;Y();},error:function(U){U instanceof k.default && (U=new l.default(e.default.Me,"header",U));X.Oe=U;Y();}});return X;});}function L(){X.O3.hSa({result:function(T){m.hqa(F,T,G,{result:O,error:function(U){X.Oe=U;Y();}});},timeout:function(){X.Dq=!0;Y();},error:function(T){T instanceof k.default && (T=new l.default(e.default.Me,"header",T));X.Oe=T;Y();}});}function O(T){var U;X.ly=T;if(X.ly instanceof p.O0)(X.Sga=null,X.uga=null,Y());else {U=X.ly;d(F,U,E,{result:function(Z){var aa;try{X.Sga=Z;X.uga=X.Sga?X.Sga:U.Rn;try{if(U.tJ() && (!U.Ss() || 0 == U.PB.length))throw new q.default(e.default.LPb,U);try{aa=U.Xb;aa && aa.$p?S(F,U):J(F,U);}catch(da){z.pd(da) && (da.bc(U.Xb),da.If(U.Xf),da.se(U.bj),da.jf(U.pe));X.Oe=da;Y();}}catch(da){z.pd(da) && (da.bc(U.Xb),da.If(U.al),da.se(U.Xf),da.jf(U.bj),da.Hh(U.pe));X.Oe=da;Y();}}catch(da){z.pd(da) && (da.bc(U.Xb),da.If(U.al),da.se(U.Xf),da.jf(U.bj),da.Hh(U.pe));X.Oe=da;Y();}},error:function(Z){z.pd(Z) && (Z.bc(U.Xb),Z.If(U.al),Z.se(U.Xf),Z.jf(U.bj),Z.Hh(U.pe));X.Oe=Z;Y();}});}}function J(T,U){var Z,aa;try{Z=U.Xb;aa=U.nSa;"number" === typeof aa?Z?(null).IVc(T,Z,aa,{result:function(da){da && (X.Oe=new q.default(da,U).bc(Z).se(U.Xf).jf(U.bj).Hh(U.pe));Y();},error:function(da){z.pd(da) && (da.bc(Z),da.se(U.Xf),da.jf(U.bj),da.Hh(U.pe));X.Oe=da;Y();}}):(X.Oe=new q.default(e.default.YPb,U).If(U.al).se(U.Xf).jf(U.bj).Hh(U.pe),Y()):Y();}catch(da){z.pd(da) && (da.bc(U.Xb),da.If(U.al),da.se(U.Xf),da.jf(U.bj),da.Hh(U.pe));X.Oe=da;Y();}}function Q(T,U){var Z;try{Z=U.Xb;Z.Ru(null)?U.Ss()?0 == U.PB.length?(X.Oe=new q.default(e.default.sRb,U).bc(Z).se(U.Xf).jf(U.bj).Hh(U.pe),Y()):(null).P_c(T,Z,{result:function(aa){aa?(X.Oe=new q.default(aa,"Master token is expired and not renewable.").bc(Z).se(U.Xf).jf(U.bj).Hh(U.pe),Y()):J(T,U);},error:function(aa){z.pd(aa) && (aa.bc(U.Xb),aa.se(U.Xf),aa.jf(U.bj),aa.Hh(U.pe));X.Oe=aa;Y();}}):(X.Oe=new q.default(e.default.rRb,U).bc(Z).se(U.Xf).jf(U.bj).Hh(U.pe),Y()):J(T,U);}catch(aa){z.pd(aa) && (aa.bc(U.Xb),aa.se(U.Xf),aa.jf(U.bj),aa.Hh(U.pe));X.Oe=aa;Y();}}function P(T,U){var Z,aa;try{Z=U.Xb;aa=U.Xf;aa?(null).a0c(T,Z,aa,{result:function(da){da?(X.Oe=new v.default(da,aa).bc(Z).se(aa).Hh(U.pe),Y()):Q(T,U);},error:function(da){z.pd(da) && (da.bc(U.Xb),da.se(U.Xf),da.jf(U.bj),da.Hh(U.pe));X.Oe=da;Y();}}):Q(T,U);}catch(da){z.pd(da) && (da.bc(U.Xb),da.se(U.Xf),da.jf(U.bj),da.Hh(U.pe));X.Oe=da;Y();}}function S(T,U){var Z;try{Z=U.Xb;(null).Q_c(T,Z,{result:function(aa){aa?(X.Oe=new u.default(aa,Z).se(U.Xf).jf(U.bj).Hh(U.pe),Y()):P(T,U);},error:function(aa){z.pd(aa) && (aa.bc(U.Xb),aa.se(U.Xf),aa.jf(U.bj),aa.Hh(U.pe));X.Oe=aa;Y();}});}catch(aa){z.pd(aa) && (aa.bc(U.Xb),aa.se(U.Xf),aa.jf(U.bj),aa.Hh(U.pe));X.Oe=aa;Y();}}function Y(){X.kk=!0;X.EH.add(!0);}X=C.call(this) || this;X.Kj=F;X.hs=H;X.SA=1;X.Cga=!1;X.Jdb=!1;X.Jl=!1;X.gj=[];X.ry=-1;X.aE=0;X.KEa=0;X.$t=0;X.aU=0;X.kk=!1;X.EH=new r.k0();X.og=!1;X.Dq=!1;h.default(N,function(){F.qg.O9b(H,K,{result:I,timeout:N.timeout,error:N.error});});return X;}n.__extends(D,C);D.prototype.Uuc=function(F){var H;H=this;h.default(F,function(){if(!H.np())throw new w.default("Read attempted with error message.");if(H.Cga)return null;H.O3.yyb({result:function(E){h.default(F,function(){if(!E)return (H.Cga=!0,null);H.O3.hSa({result:F.result,timeout:F.timeout,error:function(G){h.default(F,function(){if(G instanceof k.default)throw new l.default(e.default.Me,"payloadchunk",G);throw G;});}});});},timeout:F.timeout,error:function(E){h.default(F,function(){if(E instanceof k.default)throw new l.default(e.default.Me,"payloadchunk",E);throw E;});}});});};D.prototype.fSa=function(F){var H;H=this;h.default(F,function(){var E;E=H.np();if(!E)throw new w.default("Read attempted with error message.");if(-1 != H.ry && H.ry < H.gj.length)return H.gj[H.ry++];if(H.Cga)return null;H.Uuc({result:function(G){h.default(F,function(){if(!G)return null;x.WAb(H.Kj,G,H.uga,{result:function(K){h.default(F,function(){var N,I,L,O;N=E.Xb;I=E.al;L=E.Xf;O=E.TZc;if(K.pe != E.pe)throw new q.default(e.default.DSb,"payload mid " + K.pe + " header mid " + E.pe).bc(N).If(I).se(L).jf(O);if(K.Aj != H.SA)throw new q.default(e.default.FSb,"payload seqno " + K.Aj + " expected seqno " + H.SA).bc(N).If(I).se(L).jf(O);++H.SA;null == H.Wv && (H.Wv=E.Ss() && 0 < E.PB.length && K.SKa && 0 == K.data.length);K.SKa && (H.Cga=!0);N=K.data;-1 != H.KEa && (H.gj.push(N),H.ry=-1);return N;});},error:F.error});});},timeout:F.timeout,error:F.error});});};D.prototype.kr=function(F){var E;function H(){h.default(F,function(){if(E.og)return !1;if(E.Dq)F.timeout();else {if(E.Oe)throw E.Oe;return !0;}});}E=this;h.default(F,function(){E.kk?H():E.EH.P$(-1,{result:function(G){h.default(F,function(){if(void 0 === G)return !1;H();});},timeout:function(){c.default(F,function(){throw new w.default("Timeout while waiting for MessageInputStream.isReady() despite no timeout being specified.");});},error:F.error});});};D.prototype.tJ=function(F){var H;H=this;h.default(F,function(){var E;E=H.np();if(!E)return !1;if(E.tJ())return !0;if(null == H.Wv)H.fSa({result:function(G){h.default(F,function(){if(!H.og)return (H.jk=G,H.aE=0,H.jk || (H.Wv=!1),H.Wv);});},timeout:F.timeout,error:function(G){h.default(F,function(){z.pd(G) && (H.D3=new y.default("Error reading the payload chunk.",G));throw G;});}});else return H.Wv;});};D.prototype.np=function(){return this.ly instanceof A.lT?this.ly:null;};D.prototype.IW=function(){return this.ly instanceof p.O0?this.ly:null;};D.prototype.Uy=function(){var F,H;F=this.np();if(F){H=F.Xb;return H?H.Os:F.al.Uy();}return this.IW().al.Uy();};D.prototype.M5b=function(F){this.Jdb=F;};D.prototype.abort=function(){this.og=!0;this.hs.abort();this.EH.Uia();};D.prototype.close=function(F,H){var G;function E(){G.fSa({result:function(K){K?E():H.result(!0);},timeout:function(){H.timeout();},error:function(){H.result(!0);}});}G=this;h.default(H,function(){G.O3.close(F,{result:function(){G.Jdb?G.hs.close(F,H):G.np()?G.tJ({result:function(K){K?E():H.result(!0);},timeout:H.timeout,error:function(){H.result(!0);}}):H.result(!0);},timeout:H.timeout,error:function(){H.result(!0);}});});};D.prototype.mark=function(F){this.$t=F?F:-1;this.aU=0;this.Jl=!0;if(this.jk){for(;0 < this.gj.length && this.gj[0] !== this.jk;)this.gj.shift();0 == this.gj.length && this.gj.push(this.jk);this.ry=0;this.jk=this.gj[this.ry++];this.KEa=this.aE;}else (this.ry=-1,this.gj=[]);};D.prototype.read=function(F,H,E){var N;function G(){h.default(E,function(){var I;if(N.og)return new Uint8Array(0);if(N.Dq)E.timeout(new Uint8Array(0));else {if(N.Oe)throw N.Oe;if(null != N.D3){I=N.D3;N.D3=null;throw I;}N.tJ({result:function(L){h.default(E,function(){if(void 0 === L)return new Uint8Array(0);if(L)return null;K();});},timeout:E.timeout,error:function(L){h.default(E,function(){N.D3=null;throw new y.default("Error reading the payload chunk.",L);});}});}});}function K(){h.default(E,function(){var L,O,J;function I(Q){h.default(Q,function(){var P,S,Y;if(L && J >= L.length)return L.subarray(0,J);P=-1;if(N.jk){S=N.jk.length - N.aE;if(!L){Y=S;if(-1 != N.ry)for(var X=N.ry;X < N.gj.length;++X)Y+=N.gj[X].length;0 < Y && (L=new Uint8Array(Y));}S=Math.min(S,L?L.length - J:0);0 < S && (P=N.jk.subarray(N.aE,N.aE + S),L.set(P,O),P=S,O+=S,N.aE+=S,N.Jl && (N.aU+=S,-1 != N.$t && N.aU > N.$t && (N.Jl=!1,N.aU=N.$t=0)));}-1 != P?(J+=P,I(Q)):N.fSa({result:function(T){h.default(Q,function(){if(N.og)return L?L.subarray(0,J):new Uint8Array(0);N.jk=T;N.aE=0;if(N.jk)I(Q);else return 0 == J && 0 != F?null:L?L.subarray(0,J):new Uint8Array(0);});},timeout:function(){Q.timeout(L?L.subarray(0,J):new Uint8Array(0));},error:function(T){h.default(Q,function(){z.pd(T) && (T=new y.default("Error reading the payload chunk.",T));if(0 < J)return (N.D3=T,L.subarray(0,J));throw T;});}});});}L=-1 != F?new Uint8Array(F):void 0;O=0;J=0;I(E);});}N=this;h.default(E,function(){if(-1 > F)throw new RangeError("read requested with illegal length " + F);N.kk?G():N.EH.P$(H,{result:function(I){void 0 === I?E.result(!1):G();},timeout:function(){E.timeout(new Uint8Array(0));},error:E.error});});};D.prototype.reset=function(){this.Jl && (this.ry=0,0 < this.gj.length?(this.jk=this.gj[this.ry++],this.aE=this.KEa):this.jk=null,this.aU=0);};return D;})(t.vea);b.Mea=B;b.Skb=function(C,D,F,H,E,G){new B(C,D,F,H,E,G);};},25462:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.Tkb=b.QRb=void 0;t=a(22970);d=t.__importDefault(a(79804));n=a(54449);c=a(68480);g=a(42296);f=a(51411);e=t.__importDefault(a(6838));h=t.__importDefault(a(48795));l=t.__importDefault(a(10690));k=a(70390);m=a(89752);p=a(32260);r=(function(){function q(u,v,w,x,y,A,z){var B;B=this;this.Kj=u;this.Aga=v;this.ly=w;this.SA=1;this.jk=[];this.Idb=this.Rk=!1;this.Fdb=!0;this.gj=[];this.kk=!1;this.EH=new m.k0();this.Dq=this.og=!1;this.Oe=null;d.default(z,function(){var D,F,H,E;function C(){B.kk=!0;B.EH.add(!0);}D=u.qg;if(w instanceof n.lT)(H=(F=c.rPa(u.QD,w.Qxb))?f.srb(F.kI):null,E=D.trb());else (F=u.QD,H=null,E=y);B.JWb=E;B.QD=F;B.uga=x;B.$Da=H;w.Dm(D,E,{result:function(G){v.write(G,0,G.length,A,{result:function(K){try{B.og?C():K < G.length?(B.Dq=!0,C()):v.flush(A,{result:function(N){B.og || (B.Dq=!N);C();},timeout:function(){B.Dq=!0;C();},error:function(N){B.Oe=N;C();}});}catch(N){B.Oe=N;C();}},timeout:function(){B.Dq=!0;C();},error:function(K){B.Oe=K;C();}});},error:function(G){B.Oe=G instanceof e.default?new h.default("Error encoding the message header.",G):G;C();}});return B;});}q.prototype.kr=function(u){var w;function v(){d.default(u,function(){if(w.og)return !1;if(w.Dq)u.timeout();else {if(w.Oe)throw w.Oe;return !0;}});}w=this;d.default(u,function(){w.kk?v():w.EH.P$(-1,{result:function(x){d.default(u,function(){if(void 0 === x)return !1;v();});},timeout:function(){d.default(u,function(){throw new l.default("Timeout while waiting for MessageOutputStream.isReady() despite no timeout being specified.");});},error:u.error});});};q.prototype.gGc=function(u,v,w){var y;function x(){y.flush(v,{result:function(A){d.default(w,function(){if(!A)throw new h.default("flush() aborted");y.$Da=u;return !0;});},timeout:w.timeout,error:w.error});}y=this;d.default(w,function(){if(!y.np())throw new l.default("Cannot write payload data for an error message.");if(y.$Da == u)return !0;if(u){if(!y.QD)return !1;for(var A=y.QD.kI,z=0;z < A.length;++z)if(A[z] == u){x();return;}return !1;}x();});};q.prototype.np=function(){return this.ly instanceof n.lT?this.ly:null;};q.prototype.IW=function(){return this.ly instanceof k.O0?this.ly:null;};q.prototype.WIc=function(){this.Fdb=!1;this.gj=[];};q.prototype.abort=function(){this.og=!0;this.Aga.abort();this.EH.Uia();};q.prototype.I5b=function(u){this.Idb=u;};q.prototype.close=function(u,v){var w;w=this;d.default(v,function(){if(w.og)return !1;if(w.Dq)v.timeout();else {if(w.Oe)throw w.Oe;if(w.Rk)return !0;w.Rk=!0;w.flush(u,{result:function(x){d.default(v,function(){x && (w.jk=null);if(w.Idb)w.Aga.close(u,v);else return x;});},timeout:v.timeout,error:v.error});}});};q.prototype.flush=function(u,v){var x;function w(){d.default(v,function(){var y,A,D;if(!x.jk || !x.Rk && 0 == x.jk.length)return !0;y=x.np();if(!y || y.tJ())return !0;A=0;x.jk.forEach(function(F){A+=F.length;});for(var z=new Uint8Array(A),B=0,C=0;C < x.jk.length;++C){D=x.jk[C];z.set(D,B);B+=D.length;}g.$kb(x.Kj,x.SA,y.pe,x.Rk,x.$Da,z,x.uga,{result:function(F){d.default(v,function(){x.Fdb && x.gj.push(F);F.Dm(x.Kj.qg,x.JWb,{result:function(H){d.default(v,function(){x.Aga.write(H,0,H.length,u,{result:function(E){d.default(v,function(){if(x.og)return !1;E < F.length?v.timeout():x.Aga.flush(u,{result:function(G){d.default(v,function(){if(x.og)return !1;if(G)return (++x.SA,x.jk=x.Rk?null:[],!0);v.timeout();});},timeout:v.timeout,error:function(G){d.default(v,function(){p.pd(G) && (G=new h.default("Error encoding payload chunk [sequence number " + x.SA + "].",G));throw G;});}});});},timeout:function(){v.timeout();},error:function(E){d.default(v,function(){p.pd(E) && (E=new h.default("Error encoding payload chunk [sequence number " + x.SA + "].",E));throw E;});}});});},error:function(H){d.default(v,function(){if(H instanceof e.default)throw new h.default("Error encoding payload chunk [sequence number " + x.SA + "].",H);throw H;});}});});},error:function(F){d.default(v,function(){p.pd(F) && (F=new h.default("Error encoding payload chunk [sequence number " + x.SA + "].",F));throw F;});}});});}x=this;this.kr({result:function(y){d.default(v,function(){if(y)w();else return !1;});},timeout:v.timeout,error:v.error});};q.prototype.write=function(u,v,w,x,y){var A;A=this;d.default(y,function(){var z;if(A.og)return !1;if(A.Dq)y.timeout();else {if(A.Oe)throw A.Oe;if(A.Rk)throw new h.default("Message output stream already closed.");if(0 > v)throw new RangeError("Offset cannot be negative.");if(0 > w)throw new RangeError("Length cannot be negative.");if(v + w > u.length)throw new RangeError("Offset plus length cannot be greater than the array length.");z=A.np();if(!z)throw new l.default("Cannot write payload data for an error message.");if(z.tJ())throw new l.default("Cannot write payload data for a handshake message.");z=u.subarray(v,v + w);A.jk.push(z);return z.length;}});};return q;})();b.QRb=r;b.Tkb=function(q,u,v,w,x,y,A){new r(q,u,v,w,x,y,A);};},41962:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.V7a=void 0;t=a(22970);d=t.__importDefault(a(20754));t.__importDefault(a(42979));a(61693);t.__importDefault(a(10690));a=(function(){function n(c,g,f){this.Rj=c;this.tV=g.wla();this.eb=f;}n.prototype.rgb=function(c){try{this.eb.B_b(c);}catch(g){if(!(g instanceof d.default))throw g;}};return n;})();b.V7a=a;},84898:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.$7a=void 0;d=a(22970).__importDefault(a(2178));t=(function(){function n(c,g){this.Feb=new d.default(c,g);}n.prototype.send=function(c,g){for(var f=[],e=2;e < arguments.length;e++)f[e - 2]=arguments[e];return this.Feb.send(c,g,f);};n.prototype.request=function(c,g){for(var f=[],e=2;e < arguments.length;e++)f[e - 2]=arguments[e];return this.Feb.request(c,g,f);};return n;})();b.$7a=t;},2178:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L;function d(O,J,Q){return function(){J && O.eU.cancel(J);Q.abort();};}function n(O){for(;O;){if(O instanceof e.default)return !0;O=y.pd(O)?O.Ec:void 0;}return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.VRb=b.WRb=b.TRb=void 0;c=a(22970);g=c.__importDefault(a(42979));f=c.__importDefault(a(79804));e=c.__importDefault(a(25978));h=c.__importDefault(a(1966));l=a(31238);k=a(74015);m=a(93652);p=c.__importDefault(a(10690));r=c.__importDefault(a(51411));q=a(41962);u=c.__importDefault(a(20754));v=c.__importDefault(a(36114));w=a(89752);x=a(81214);y=a(32260);A=(function(){return function(O,J){this.input=O;this.oQ=J;};})();b.TRb=A;z=(function(){function O(J,Q){this.Kj=J;this.cs=Q;}O.prototype.equals=function(J){return this === J?!0:J instanceof O?this.Kj === J.Kj && this.cs.equals(J.cs):!1;};O.prototype.Ih=function(){return this.Kj.Ih() + ":" + this.cs.Ih();};return O;})();t=(function(){function O(J){this.Tv=J;}O.prototype.wla=function(){return this.Tv.wla();};O.prototype.zNa=function(){return this.Tv.zNa();};O.prototype.q8=function(){return this.Tv.q8();};O.prototype.jna=function(){return this.Tv.jna();};O.prototype.Rs=function(){return this.Tv.Rs();};O.prototype.B8=function(){return this.Tv.B8();};O.prototype.Xy=function(){return this.Tv.Xy();};O.prototype.ima=function(J,Q,P,S){this.Tv.ima(J,Q,P,S);};O.prototype.VO=function(J){this.Tv.VO(J);};O.prototype.xZa=function(J,Q,P){this.Tv.xZa(J,Q,P);};O.prototype.write=function(J,Q,P){this.Tv.write(J,Q,P);};O.prototype.zla=function(){return this.Tv.zla();};return O;})();B=(function(O){function J(Q,P){P=O.call(this,P) || this;P.gj=Q;return P;}c.__extends(J,O);J.prototype.write=function(Q,P,S){var Y,X;Y=this;if(this.gj && 0 != this.gj.length){X=function(T){var U;if(T == Y.gj.length)S.result(!0);else {U=Y.gj[T];Q.gGc(U.ija,P,{result:function(){Q.write(U.data,0,U.data.length,P,{result:function(){f.default(S,function(){U.SKa?Q.close(P,{result:function(Z){Z?X(T + 1):S.result(Z);},timeout:S.timeout,error:S.error}):Q.flush(P,{result:function(Z){Z?X(T + 1):S.result(Z);},timeout:S.timeout,error:S.error});});},timeout:S.timeout,error:S.error});},timeout:S.timeout,error:S.error});}};X(0);}else O.prototype.write.call(this,Q,P,S);};return J;})(t);C=(function(O){function J(Q){return O.call(this,Q) || this;}c.__extends(J,O);J.prototype.B8=function(){return !1;};return J;})(t);D=(function(){return function(O,J){this.Xb=O;this.FKc=J;};})();F=(function(){return function(O,J){this.eb=O;this.ruc=J;};})();H=(function(){return function(O,J){this.request=O;this.IB=J;};})();E=(function(){return function(O,J){this.request=J.request;this.IB=J.IB;this.response=O;};})();G={};K=(function(){function O(J){J || (J=new l.Qva());this.WD=J;this.Ega=null;this.cE=[];this.SM={};}O.prototype.XO=function(J,Q,P,S){var Y;Y=this;f.default(S,function(){var X,T,U,Z,aa;X=Q.Nl;T=X.BB();if(!T)return null;U=new z(Q,T).Ih();Z=Y.SM[U];Z || (Z=new k.WBa(),Y.SM[U]=Z);aa=Z.QBc(P,{result:function(da){f.default(S,function(){var fa;if(void 0 === da)throw new e.default("getNewestMasterToken aborted.");fa=X.BB();if(T.equals(fa))return new D(T,da);Z.unlock(da);Z.YLb(P,{result:function(ma){f.default(S,function(){if(void 0 === ma)throw new e.default("getNewestMasterToken aborted.");delete Y.SM[U];Z.unlock(ma);return Y.XO(J,Q,P,S);});},timeout:S.timeout,error:S.error});});},timeout:S.timeout,error:S.error});J.MZ(function(){aa && (Z.cancel(aa),aa=void 0);});});};O.prototype.UJa=function(J,Q){var P;P=this;Q && setTimeout(function(){var S,Y;S=new z(J,Q).Ih();Y=P.SM[S];Y || (Y=new k.WBa(),P.SM[S]=Y);Y.YLb(-1,{result:function(X){X && (J.Nl.HDb(Q),delete P.SM[S],Y.unlock(X));},timeout:function(){throw new p.default("Unexpected timeout received.");},error:function(X){throw X;}});},0);};O.prototype.mt=function(J,Q){Q && Q.Xb && (J=new z(J,Q.Xb).Ih(),(J=this.SM[J]) && J.unlock(Q.FKc));};O.prototype.yMc=function(J,Q,P){var S;S=J.Nl;P && (S.lba(P.keyResponseData.Xb,P.Rn),this.UJa(J,Q.Xb));};O.prototype.oMc=function(J,Q,P){var S,Y;S=P.np();if(S){Y=J.Nl;if(S=S.keyResponseData)(Y.lba(S.Xb,P.Sga),this.UJa(J,Q.Xb));}};O.prototype.QHb=function(J,Q,P,S){var T,U;J=J.Nl;for(var Y=[],X=0;X < S.length;++X){T=S[X];if(!T.fh(Q) || !Q.$p){U=T.getData();U && 0 == U.length?J.xra(T.name,T.Pw()?Q:null,T.Su()?P:null):Y.push(T);}}0 < Y.length && J.Gha(Y);};O.prototype.T2b=function(J,Q,P,S,Y){var X;X=this;this.XO(J,Q,S,{result:function(T){g.default(Y,function(){var U,Z,aa,da,fa;try{U=T && T.Xb;Z=void 0;if(U){aa=P.Xy();da=Q.Nl;fa=aa?da.Fw(aa):null;Z=fa && fa.fh(U)?fa:null;}else Z=null;X.WD.pV(Q,U,Z,null,{result:function(ma){g.default(Y,function(){ma.qR(P.Rs());return {eb:ma,Co:T};});},error:function(ma){g.default(Y,function(){X.mt(Q,T);y.pd(ma) && (ma=new p.default("User ID token not bound to master token despite internal check.",ma));throw ma;});}});}catch(ma){X.mt(Q,T);}});},timeout:Y.timeout,error:Y.error});};O.prototype.P2b=function(J,Q,P,S,Y,X){var T;T=this;this.WD.Q8b(Q,S,{result:function(U){f.default(X,function(){U.qR(P.Rs());T.XO(J,Q,Y,{result:function(Z){f.default(X,function(){var aa,da,fa,ma,R;try{aa=Z && Z.Xb;da=void 0;if(aa){fa=P.Xy();ma=Q.Nl;R=fa?ma.Fw(fa):null;da=R && R.fh(aa)?R:null;}else da=null;U.YFb(aa,da);return {eb:U,Co:Z};}catch(M){T.mt(Q,Z);}});},timeout:X.timeout,error:X.error});});},error:X.error});};O.prototype.U2b=function(J,Q,P,S,Y,X,T){var aa;function U(da,fa){aa.XO(J,Q,X,{result:function(ma){f.default(T,function(){var R,M,V;R=ma && ma.Xb;M=m.gJ(Y.pe);V=new B(fa,P);aa.WD.pV(Q,R,null,M,{result:function(ba){f.default(T,function(){ba.qR(V.Rs());return {TE:new F(ba,V),Co:ma};});},error:T.error});});},timeout:T.timeout,error:T.error});}function Z(da,fa){f.default(T,function(){var ma,R;ma=m.gJ(Y.pe);R=new B(fa,P);aa.WD.pV(Q,null,null,ma,{result:function(M){f.default(T,function(){M.qR(R.Rs());return {TE:new F(M,R),Co:null};});},error:T.error});});}aa=this;f.default(T,function(){var da,fa,ma;da=S.request.np();fa=S.request.gj;ma=Y.errorCode;switch(ma){case r.default.N.Kh:case r.default.N.ag:Q.Dla({result:function(R){f.default(T,function(){if(!R)return null;Z(da,fa);});},error:T.error});break;case r.default.N.Vc:case r.default.N.Kfa:P.ima(ma,!1,!0,{result:function(R){f.default(T,function(){if(!R)return null;U(da,fa);});},error:T.error});break;case r.default.N.Ee:U(da,fa);break;case r.default.N.P1:P.VO({result:function(R){f.default(T,function(){var M,V;if(null === R || 0 === R.length)return null;M=m.gJ(Y.pe);V=new B(fa,P);aa.WD.pV(Q,null,null,M,{result:function(ba){f.default(T,function(){ba.XWa(!0);ba.qR(V.Rs());return {TE:new F(ba,V),Co:null};});},error:T.error});});},error:T.error});break;case r.default.N.M0:P.VO({result:function(R){f.default(T,function(){if(null === R || 0 === R.length)return null;aa.XO(J,Q,X,{result:function(M){f.default(T,function(){var V,ba,ha,ca;V=M && M.Xb;if(V){ba=P.Xy();ha=Q.Nl;ba=(ba=ba?ha.Fw(ba):null) && ba.fh(V)?ba:null;}else ba=null;ha=m.gJ(Y.pe);ca=new B(fa,P);aa.WD.pV(Q,V,ba,ha,{result:function(la){f.default(T,function(){var ra;ra=da.Xb;ra && !ra.equals(V) || la.XWa(!0);la.qR(ca.Rs());return {TE:new F(la,ca),Co:M};});},error:T.error});});},timeout:T.timeout,error:T.error});});},error:T.error});break;case r.default.N.SBa:aa.XO(J,Q,X,{result:function(R){f.default(T,function(){var M,V,ba,ha;M=R && R.Xb;if(M){V=P.Xy();ba=Q.Nl;V=(V=V?ba.Fw(V):null) && V.fh(M)?V:null;}else V=null;ba=m.gJ(Y.pe);ha=new B(fa,P);aa.WD.pV(Q,M,V,ba,{result:function(ca){f.default(T,function(){ca.qR(ha.Rs());return {TE:new F(ca,ha),Co:R};});},error:T.error});});},timeout:T.timeout,error:T.error});break;default:return null;}});};O.prototype.o5b=function(J,Q,P){switch(P.errorCode){case r.default.N.ag:case r.default.N.Kh:this.UJa(J,Q.Xb);break;case r.default.N.Ee:case r.default.N.Vc:(P=Q.Xf,Q.Xb && P && J.Nl.qaa(P));}};O.prototype.send=function(J,Q,P,S,Y,X,T,U){var ma;function Z(R,M,V){f.default(U,function(){var ba;ba=new q.V7a(Q,P,Y);P.xZa(ba,V,{result:function(){Y.eF({result:function(ha){f.default(U,function(){var ca,la;ca=P.zla();ca && ca.RFc(ha);ca=Y.xH;ma.yMc(Q,ha,ca);ma.QHb(Q,ca?ca.keyResponseData.Xb:R,M,ha.PK);ca=ca?ca.Rn:ha.Rn;if(J.og)throw new e.default("send aborted.");la=null != ma.Ega?ma.Ega.KZc(S):S;ma.WD.w9b(Q,la,ha,ca,T,{result:function(ra){f.default(U,function(){J.MZ(function(){ra.abort();});ra.I5b(X);ra.kr({result:function(ta){f.default(U,function(){if(!ta)throw new e.default("MessageOutputStream aborted.");aa(ra,V);});},timeout:U.timeout,error:U.error});});},timeout:U.timeout,error:U.error});});},timeout:U.timeout,error:U.error});},error:U.error});});}function aa(R,M){M?f.default(U,function(){return new H(R,M);}):P.write(R,T,{result:function(){f.default(U,function(){if(J.og)throw new e.default("MessageOutputStream write aborted.");return new H(R,M);});},timeout:U.timeout,error:U.error});}function da(R,M,V){f.default(U,function(){var ba,ha,ca;ba=!(!(V || P.q8() && !Y.OLb() || P.jna() && !Y.QLb()) && (!P.Rs() || Y.Rs() && R));Y.xGc(ba);ha=[];if(Y.Ss()){ca=Q.Xla();if(!R || R.Ss(ca) || P.Rs()){P.VO({result:function(la){f.default(U,function(){var ta;if(ba && (null === la || 0 == la.length))throw new u.default(v.default.MPb);if(null !== la)for(var ra=0;ra < la.length;++ra){ta=la[ra];ha.push(ta);Y.g_b(ta);}Z(R,M,ba,ha);});},error:U.error});return;}}Z(R,M,ba,ha);});}function fa(R,M,V){f.default(U,function(){da(R,M,V);});}ma=this;f.default(U,function(){var R,M,V,ba;R=Y.BB();M=Y.Fw();V=!1;if(P.Xy()){ba=!M;P.ima(null,Y.Ss(),ba,{result:function(ha){f.default(U,function(){ha && (Y.NLb() && Y.PLb()?Y.jf(ha):V=!0);fa(R,M,V);});},error:U.error});}else fa(R,M,V);});};O.prototype.bCc=function(J,Q,P,S,Y,X,T){var Z;function U(aa){f.default(T,function(){var da,fa,ma,R,M,V,ba,ha,ca,la,ra,ta,ja;da=aa.np();fa=aa.IW();ma=P.zla();ma && ma.dCc(da?da:fa);if(da){ma=da.Xb;R=da.al;M=da.Xf;V=da.bj;}else (ma=null,R=fa.al,V=M=null);if(Y){ba=fa?fa.errorCode:null;if(da || ba != r.default.N.da && ba != r.default.N.qq && ba != r.default.N.ag && ba != r.default.N.Kh){ba=da?da.pe:fa.pe;ha=m.gJ(Y.pe);if(ba != ha)throw new u.default(v.default.mVb,"expected " + ha + "; received " + ba).bc(ma).If(R).se(M).jf(V);}}try{ca=P.zNa();if(ca && R){la=R.Uy();if(la && ca != la)throw new u.default(v.default.uRb,"expected " + ca + "; received " + la);}if(da){Y && Z.oMc(Q,Y,aa);ra=da.keyResponseData;ba=la=ca=void 0;ca=ra?ra.Xb:da.Xb;la=da.Xf;ba=da.PK;ta=P.Xy();ta && la && !la.$p && Q.Nl.Kha(ta,la);Z.QHb(Q,ca,la,ba);}ja=da?da.TNa():null === fa || void 0 === fa?void 0:fa.TNa();ja && Y && Q.FMc(ja);}catch(W){throw (y.pd(W) && (W.bc(ma),W.If(R),W.se(M),W.jf(V)),W);}return aa;});}Z=this;f.default(T,function(){var aa,da,fa;if(J.og)throw new e.default("receive aborted.");aa=[];Y && (aa=Y.PB.filter(function(){return !0;}));da=P.wla();fa=Z.Ega?Z.Ega.BZc(S):S;Z.WD.eJa(Q,fa,aa,da,X,{result:function(ma){f.default(T,function(){J.MZ(function(){ma.abort();});ma.kr({result:function(R){f.default(T,function(){if(!R)throw new e.default("MessageInputStream aborted.");U(ma);});},timeout:T.timeout,error:T.error});});},timeout:T.timeout,error:T.error});});};O.prototype.LFc=function(J,Q,P,S,Y,X,T,U,Z,aa){var fa;function da(ma,R,M){f.default(aa,function(){var V,ba;V=ma.eb;ba=ma.Co;V.XWa(M);fa.send(J,Q,P,Y,V,U,Z,{result:function(ha){f.default(aa,function(){var ca,la;ca=ha.request.np();la=ca.PB;0 == T || ha.IB || 1 == T && (null == la || 0 == la.length) || ca.Ss() && ca.Xb && ca.bj?fa.bCc(J,Q,P,S,ca,Z,{result:function(ra){f.default(aa,function(){var ta;ta=ra.IW();ta && fa.o5b(Q,ca,ta);M && fa.kZ(Q,R,ra);fa.mt(Q,ba);ra.M5b(U);return new E(ra,ha);});},timeout:function(){f.default(aa,function(){M && fa.kZ(Q,R,null);fa.mt(Q,ba);aa.timeout();});},error:function(ra){f.default(aa,function(){M && fa.kZ(Q,R,null);fa.mt(Q,ba);aa.error(ra);});}}):f.default(aa,function(){M && fa.kZ(Q,R,null);fa.mt(Q,ba);return new E(null,ha);});});},timeout:function(){f.default(aa,function(){M && fa.kZ(Q,R,null);fa.mt(Q,ba);aa.timeout();});},error:function(ha){f.default(aa,function(){M && fa.kZ(Q,R,null);fa.mt(Q,ba);aa.error(ha);});}});});}fa=this;f.default(aa,function(){var ma;ma=new w.k0();fa.AZb(J,Q,P,ma,X,Z,{result:function(R){da(X,ma,R);},timeout:function(){f.default(aa,function(){fa.mt(Q,X.Co);aa.timeout();});},error:function(R){f.default(aa,function(){fa.mt(Q,X.Co);if(R instanceof e.default)return null;aa.error(R);});}});});};O.prototype.AZb=function(J,Q,P,S,Y,X,T){var da;function U(fa,ma,R,M,V){f.default(T,function(){var ca,la;if(J.og)throw new e.default("acquireRenewalLock aborted.");for(var ba=null,ha=0;ha < da.cE.length;++ha){ca=da.cE[ha];if(ca.Rj === Q){ba=ca.Tf;break;}}if(!ba)return (da.cE.push({Rj:Q,Tf:S}),!0);la=ba.P$(X,{result:function(ra){f.default(T,function(){var ta;if(void 0 === ra)throw new e.default("acquireRenewalLock aborted.");ba.add(ra);if(ra === G)U(fa,ma,R,M,V);else {ta=fa;fa && fa.equals(ra)?aa(ta,fa,ma,R,M,V):(da.mt(Q,V),da.XO(J,Q,X,{result:function(ja){f.default(T,function(){(fa=(Y.Co=ja) && ja.Xb)?aa(ta,fa,ma,R,M,ja):U(fa,ma,R,M,ja);});},timeout:T.timeout,error:T.error}));}});},timeout:T.timeout,error:T.error});J.MZ(function(){la && (ba.cancel(la),la=void 0);});});}function Z(fa,ma){f.default(T,function(){var R,V;if(J.og)throw new e.default("acquireRenewalLock aborted.");R=Q.Xla();if(!fa || fa.Ss(R) || !ma && P.Xy() || ma && ma.Ss(R)){R=null;for(var M=0;M < da.cE.length;++M){V=da.cE[M];if(V.Rj === Q){R=V.Tf;break;}}if(!R)return (da.cE.push({Rj:Q,Tf:S}),!0);}return !1;});}function aa(fa,ma,R,M,V,ba){f.default(T,function(){var ha;if(M && !R || R && !R.fh(ma)){ha=Q.Nl.Fw(M);R=ha && ha.fh(ma)?ha:null;}V.YFb(ma,R);ha=Q.Xla();ma.Ru(ha)?U(ma,R,M,V,ba):V.Ss() && ma.equals(fa)?U(ma,R,M,V,ba):P.B8() && !R?U(ma,R,M,V,ba):Z(ma,R);});}da=this;f.default(T,function(){var fa,ma,R,M,V,ba;fa=Y.eb;ma=Y.Co;R=fa.BB();M=fa.Fw();V=P.Xy();ba=Q.Xla();P.q8() && !fa.OLb() || P.jna() && !fa.QLb() || fa.Ss() || !R && P.Rs() || R && R.Ru(ba) || !(M || !V || fa.NLb() && fa.PLb()) || P.B8() && (!R || V && !M)?U(R,M,V,fa,ma):Z(R,M);});};O.prototype.kZ=function(J,Q,P){var T;for(var S,Y,X=0;X < this.cE.length;++X){T=this.cE[X];if(T.Rj === J){S=X;Y=T.Tf;break;}}if(Y !== Q)throw new p.default("Attempt to release renewal lock that is not owned by this queue.");P?(J=P.np())?(P=J.keyResponseData)?Q.add(P.Xb):(J=J.Xb)?Q.add(J):Q.add(G):Q.add(G):Q.add(G);this.cE.splice(S,1);};return O;})();b.WRb=K;t=(function(){function O(J,Q){var P;P=null;"number" === typeof J && 0 < J && (P=new x.bbb(J));this.leb=new K(Q);this.eU=P;this.mfb=!1;}O.prototype.submit=function(J,Q,P,S){var Y,X;Y=this;if(this.eU){X={result:function(T){g.default(S,function(){Y.eU.signal();return T;});},timeout:function(){g.default(S,function(){Y.eU.signal();S.timeout();});},error:function(T){g.default(S,function(){Y.eU.signal();S.error(T);});}};P=this.eU.wait(P,{result:function(T){T?setTimeout(function(){J.call(X);},0):S.result(Q);},timeout:S.timeout,error:S.error});return d(this,P,J);}setTimeout(function(){J.call(S);},0);return d(this,null,J);};O.prototype.send=function(J,Q){var Y,X,T,U,Z;for(var P=[],S=2;S < arguments.length;S++)P[S - 2]=arguments[S];if(this.mfb)throw new h.default("MslControl is shutdown.");if(3 == P.length)(X=P[0],T=Y=null,U=P[1],Z=P[2]);else 4 == P.length && (X=null,Y=P[0],T=P[1],U=P[2],Z=P[3]);new C(Q);P=new L(this.leb,J,Q,X,Y,T,U);return this.submit(P,null,U,Z);};O.prototype.request=function(J,Q,P){var S,Y,X,T,U;if(this.mfb)throw new h.default("MslControl is shutdown.");if(3 == P.length)(Y=P[0],X=S=null,T=P[1],U=P[2]);else 4 == P.length && (Y=null,S=P[0],X=P[1],T=P[2],U=P[3]);J=new I(this.leb,J,Q,Y,S,X,null,0,0,T);return this.submit(J,null,T,U);};return O;})();b.VRb=t;N={result:function(){},timeout:function(){},error:function(){}};I=(function(){function O(J,Q,P,S,Y,X,T,U,Z,aa){var da;if(T){da=T.eb;T=T.Co;}else T=da=null;this.wH=J;this.Kj=Q;this.Eeb=P;this.iha=S;this.OA=Y;this.$D=X;this.YM=!1;this.VDa=da;this.wfb=T;this.mEa=U;this.Vk=aa;this.QXb=Z;this.og=this.aha=!1;this.ODa=null;}O.prototype.abort=function(){this.og=!0;this.ODa && this.ODa.call(this);};O.prototype.MZ=function(J){this.ODa=J;};O.prototype.Se=function(J,Q,P,S,Y){var da;function X(fa){f.default(Y,function(){var ma,R,M;ma=fa.request;R=fa.response;M=R.np();if(!fa.IB)return new A(R,ma);U(fa,function(V){f.default(Y,function(){var ba;if(!V)return null;ba=new B(null,J);da.wH.P2b(da,da.Kj,J,M,P,{result:function(ha){f.default(Y,function(){var ca;ca=new O(da.wH,da.Kj,ba,da.iha,null,null,ha,da.mEa,S,da.Vk);da.MZ(function(){ca.abort();});ca.call(Y);});},timeout:Y.timeout,error:Y.error});});});});}function T(fa){function ma(R,M){f.default(Y,function(){return da.aha || M && !M.input?new A(R.response,null):M;});}f.default(Y,function(){var R;R=fa.response;da.wH.U2b(da,da.Kj,J,fa,R.IW(),P,{result:function(M){f.default(Y,function(){var V,ba;if(!M)return new A(R,null);V=M.TE;ba=new O(da.wH,da.Kj,V.ruc,da.iha,null,null,{eb:V.eb,Co:M.Co},da.mEa,S,da.Vk);da.MZ(function(){ba.abort();});ba.call({result:function(ha){f.default(Y,function(){da.aha=ba.aha;ma(fa,ha);});},timeout:Y.timeout,error:Y.error});});},timeout:Y.timeout,error:Y.error});});}function U(fa,ma){Z(fa,function(R){R?fa.response.close(da.Vk,{result:function(M){ma.call(da,M);},timeout:function(){ma.call(da,!0);},error:function(M){n(M) && ma.call(da,!1);ma.call(da,!0);}}):ma.call(da,!1);});}function Z(fa,ma){fa.request.close(da.Vk,{result:function(R){ma.call(this,R);},timeout:function(){ma.call(this,!0);},error:function(R){n(R) && ma.call(this,!1);ma.call(this,!0);}});}function aa(fa){f.default(Y,function(){U(fa,function(ma){ma?T(fa):Y.result(null);});});}da=this;f.default(Y,function(){if(S + 2 > r.default.gRb)return (da.wH.mt(da.Kj,Q.Co),da.aha=!0,null);da.wH.LFc(da,da.Kj,J,da.OA,da.$D,Q,da.mEa,da.YM,P,{result:function(fa){f.default(Y,function(){var ma,R;if(!fa)return null;ma=fa.request;R=fa.response;S+=2;if(!R)return new A(R,ma);R.np()?X(fa):aa(fa);});},timeout:Y.timeout,error:Y.error});});};O.prototype.call=function(J){var P;function Q(S,Y,X){f.default(J,function(){P.Se(P.Eeb,{eb:S,Co:Y},X,P.QXb,{result:function(T){f.default(J,function(){T && T.oQ && T.oQ.WIc();!P.YM || T && T.input || P.OA.close(X,N);return T;});},timeout:function(){f.default(J,function(){P.YM && (P.$D.close(X,N),P.OA.close(X,N));J.timeout();});},error:function(T){f.default(J,function(){P.YM && (P.$D.close(X,N),P.OA.close(X,N));if(n(T))return null;J.error(T);});}});});}P=this;f.default(J,function(){var S,Y,X;S=P.Vk;if(!P.OA || !P.$D)try{P.iha.setTimeout(P.Vk);Y=Date.now();X=P.iha.cxc();P.$D=X.oQ;P.OA=X.input;-1 != S && (S=P.Vk - (Date.now() - Y));P.YM=!0;}catch(T){P.VDa && P.wH.mt(P.Kj,P.wfb);P.$D && P.$D.close(P.Vk,N);P.OA && P.OA.close(P.Vk,N);if(n(T))return null;throw T;}P.VDa?Q(P.VDa,P.wfb,S):P.wH.T2b(P,P.Kj,P.Eeb,P.Vk,{result:function(T){f.default(J,function(){Q(T.eb,T.Co,S);});},timeout:function(){f.default(J,function(){P.YM && (P.$D.close(P.Vk,N),P.OA.close(P.Vk,N));J.timeout();});},error:function(T){f.default(J,function(){P.YM && (P.$D.close(P.Vk,N),P.OA.close(P.Vk,N));if(n(T))return null;J.error(T);});}});});};return O;})();L=(function(){function O(J,Q,P,S,Y,X,T){this.FYb=new I(J,Q,P,S,Y,X,null,2,0,T);}O.prototype.call=function(J){this.FYb.call({result:function(Q){g.default(J,function(){return Q?Q.oQ:null;});},timeout:J.timeout,error:J.error});};return O;})();b["default"]=t;},43056:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ukb=b.nSb=void 0;d=a(22970);n=a(28865);c=(function(g){function f(e,h,l,k,m){return g.call(this,e,h,l,k,m) || this;}d.__extends(f,g);f.prototype.kV=function(e,h,l,k,m,p){n.hJa(e,h,l,k,m,p);};return f;})(a(93652).zza);b.nSb=c;b.Ukb=function(g,f,e,h,l){new c(g,f,e,h,l);};},61368:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Tza=void 0;d=a(22970);t=a(31238);n=a(9635);d.__importDefault(a(43125));c=a(43056);a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}d.__extends(f,g);f.prototype.eJa=function(e,h,l,k,m,p){n.Vkb(e,h,l,k,m,p,void 0);};f.prototype.w5=function(e,h,l){c.Ukb(e,h,l,void 0,void 0);};return f;})(t.Qva);b.Tza=a;},28865:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.hJa=void 0;d=a(22970);n=d.__importDefault(a(42979));c=d.__importDefault(a(6838));g=d.__importDefault(a(42458));f=d.__importDefault(a(58511));e=a(54449);(function(h){function l(k,m,p,r,q,u,v){return h.call(this,k,m,p,r,q,u,v) || this;}d.__extends(l,h);l.prototype.Dm=function(k,m,p){var r;r=this;n.default(p,function(){if(r.encodings[m])return r.encodings[m];k.jj(r.Ama,m,{result:function(q){n.default(p,function(){r.Rn.encrypt(q,k,m,{result:function(u){n.default(p,function(){r.Rn.sign(u,k,m,{result:function(v){n.default(p,function(){var w;w=k.af();r.Xb?w.put(f.default.V5a,r.Xb):w.put(f.default.gya,r.al);w.put(f.default.U5a,u);w.put(f.default.iya,v);k.jj(w,m,{result:function(x){n.default(p,function(){return r.encodings[m]=x;});},error:p.error});});},error:function(v){n.default(p,function(){v instanceof g.default && (v=new c.default("Error signing the header data.",v));throw v;});}});});},error:function(u){n.default(p,function(){u instanceof g.default && (u=new c.default("Error encrypting the header data.",u));throw u;});}});});},error:p.error});});};return l;})(e.lT);b.hJa=function(h,l,k,m,p,r){new e.lT(h,l,k,m,p,null,r);};},9635:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Vkb=b.oSb=void 0;d=a(22970);a(66734);a(75563);t=a(34801);d.__importDefault(a(45826));n=(function(c){function g(f,e,h,l,k,m){return c.call(this,f,e,h,l,k,m) || this;}d.__extends(g,c);return g;})(t.Mea);b.oSb=n;b.Vkb=function(c,g,f,e,h,l){new n(c,g,f,e,h,l);};},43125:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.r9b=b.pSb=void 0;d=a(22970);n=a(28865);c=(function(g){function f(e,h,l){return g.call(this,e,h,l) || this;}d.__extends(f,g);f.prototype.kV=function(e,h,l,k,m,p){n.hJa(e,h,l,k,m,p);};return f;})(a(56058).X1a);b.pSb=c;b.r9b=function(g,f,e){new c(g,f,e);};},42296:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.WAb=b.$kb=b.JTb=void 0;d=a(22970);t=a(48235);n=d.__importStar(a(51411));c=d.__importDefault(a(10690));g=d.__importDefault(a(42979));f=d.__importDefault(a(42458));e=d.__importDefault(a(6838));h=d.__importDefault(a(88257));l=d.__importDefault(a(36114));k=d.__importDefault(a(20754));m=d.__importDefault(a(1966));p=a(44127);r=a(53140);q=(function(){return function(v){this.payload=v;};})();u=(function(v){function w(x,y,A,z,B,C,D,F){var H;H=v.call(this) || this;if(0 > y || y > n.default.Le)throw new c.default("Sequence number " + y + " is outside the valid range.");if(0 > A || A > n.default.Le)throw new c.default("Message ID " + A + " is outside the valid range.");if(F)x=F.payload;else {if(B){if((F=r.zD.Qn(B,C),!(F && F.length < C.length) || F.length * r.zD.$Ma() < C.length))(B=null,F=C);}else (B=null,F=C);x=x.qg.af();x.put("sequencenumber",y);x.put("messageid",A);z && x.put("endofmsg",z);null != B && x.put("compressionalgo",B);x.put("data",F);}H.payload=x;H.Aj=y;H.pe=A;H.SKa=z;H.ija=B;H.data=C;H.Rn=D;H.encodings={};return H;}d.__extends(w,v);w.prototype.Dm=function(x,y,A){var z;z=this;g.default(A,function(){if(z.encodings[y])return z.encodings[y];x.jj(z.payload,y,{result:function(B){g.default(A,function(){z.Rn.encrypt(B,x,y,{result:function(C){g.default(A,function(){z.Rn.sign(C,x,y,{result:function(D){g.default(A,function(){var F;F=x.af();F.put("payload",C);F.put("signature",D);x.jj(F,y,{result:function(H){g.default(A,function(){return z.encodings[y]=H;});},error:A.error});});},error:function(D){g.default(A,function(){if(D instanceof f.default)throw new e.default("Error signing the payload.",D);throw D;});}});});},error:function(C){g.default(A,function(){if(C instanceof f.default)throw new e.default("Error encrypting the payload.",C);throw C;});}});});},error:A.error});});};return w;})(t.Dn);b.JTb=u;b.$kb=function(v,w,x,y,A,z,B,C){g.default(C,function(){return new u(v,w,x,y,A,z,B,null);});};b.WAb=function(v,w,x,y){function A(z,B){g.default(y,function(){var C,D,F,H,E,G,K,N;try{C=z.ro(B);D=C.$m("sequencenumber");if(0 > D || D > n.default.Le)throw new m.default(l.default.GSb,"payload chunk payload " + C);F=C.$m("messageid");if(0 > F || F > n.default.Le)throw new m.default(l.default.ESb,"payload chunk payload " + C);H=C.has("endofmsg")?C.O6("endofmsg"):!1;E=void 0;if(C.has("compressionalgo")){G=C.de("compressionalgo");if(-1 === Object.values(n.VG).indexOf(G))throw new k.default(l.default.ycb,G);E=G;}else E=null;G=void 0;K=C.gd("data");if(0 == K.length){if(!H)throw new k.default(l.default.CSb);G=new Uint8Array(0);}else G=null == E?K:r.zD.FG(E,K);N=new q(C);return new u(v,D,F,H,E,G,x,N);}catch(I){if(I instanceof e.default)throw new h.default(l.default.Me,"payload chunk payload " + p.Sh(B),I);throw I;}});}g.default(y,function(){var z,B,C;z=v.qg;try{B=w.gd("payload");C=w.gd("signature");}catch(D){if(D instanceof e.default)throw new h.default(l.default.Me,"payload chunk " + w,D);throw D;}x.verify(B,C,z,{result:function(D){g.default(y,function(){if(!D)throw new f.default(l.default.HSb);x.decrypt(B,z,{result:function(F){A(z,F);},error:y.error});});},error:y.error});});};},58892:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.iqa=b.k9b=b.q7a=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(10690));c=d.__importDefault(a(51411));g=d.__importDefault(a(42458));f=d.__importDefault(a(36114));e=d.__importDefault(a(42979));h=d.__importDefault(a(6838));l=d.__importDefault(a(88257));k=d.__importDefault(a(1966));m=a(44127);p=a(60426);r=a(10558);q=(function(){return function(v,w,x,y){this.osa=v;this.Up=w;this.bk=x;this.$p=y;};})();u=(function(v){function w(x,y,A,z,B,C,D,F,H,E){var G,K,N,I,L;G=v.call(this) || this;if(A.getTime() < y.getTime())throw new n.default("Cannot construct a master token that expires before its renewal window opens.");if(0 > z || z > c.default.Le)throw new n.default("Sequence number " + z + " is outside the valid range.");if(0 > B || B > c.default.Le)throw new n.default("Serial number " + B + " is outside the valid range.");y=Math.floor(y.getTime() / 1E3);A=Math.floor(A.getTime() / 1E3);if(E){K=E.osa;N=E.Up;I=E.bk;E=E.$p;}else {E=F.v_();N=c.default.Rwa.JO(F.algorithm);I=H.v_();L=c.default.F2.JO(H.algorithm);if(!N || !L)throw new g.default(f.default.kDa,"encryption algorithm: " + F.algorithm + "; signature algorithm: " + H.algorithm);K=x.qg.af();C && K.put("issuerdata",C);K.put("identity",D);K.put("encryptionkey",E);K.put("encryptionalgorithm",N);K.put("hmackey",I);K.put("signaturekey",I);K.put("signaturealgorithm",L);I=N=null;E=!0;}G.Rj=x;G.WQ=y;G.yO=A;G.Aj=z;G.Bf=B;G.osa=K;G.Bpc=C;G.Os=D;G.Bu=F;G.uG=H;G.Up=N;G.bk=I;G.$p=E;G.encodings={};return G;}d.__extends(w,v);w.prototype.s7=function(){return new Date(1E3 * this.WQ);};w.prototype.Tj=function(){return new Date(1E3 * this.yO);};w.prototype.n8=function(){return this.osa?!0:!1;};w.prototype.Ss=function(x){return x?this.s7().getTime() <= x.getTime():this.$p?this.s7().getTime() <= this.Rj.getTime():!0;};w.prototype.Ru=function(x){return x?this.Tj().getTime() <= x.getTime():this.$p?this.Tj().getTime() <= this.Rj.getTime():!1;};w.prototype.Poc=function(x){var y;if(this.Aj == x.Aj)return this.Tj() > x.Tj();if(this.Aj > x.Aj){y=this.Aj - c.default.Le + 127;return x.Aj >= y;}y=x.Aj - c.default.Le + 127;return this.Aj < y;};w.prototype.Dm=function(x,y,A){var B;function z(C,D){e.default(A,function(){var F;F=x.af();F.put("tokendata",C);F.put("signature",D);x.jj(F,y,{result:function(H){e.default(A,function(){return B.encodings[y.name]=H;});},error:A.error});});}B=this;e.default(A,function(){var C;if(B.encodings[y.name])return B.encodings[y.name];if(null != B.Up || null != B.bk)z(B.Up,B.bk);else {try{C=B.Rj.cha;}catch(D){if(D instanceof g.default)throw new h.default("Error creating the MSL crypto context.",D);throw D;}x.jj(B.osa,y,{result:function(D){C.encrypt(D,x,y,{result:function(F){e.default(A,function(){var H;H=x.af();H.put("renewalwindow",B.WQ);H.put("expiration",B.yO);H.put("sequencenumber",B.Aj);H.put("serialnumber",B.Bf);H.put("sessiondata",F);x.jj(H,y,{result:function(E){C.sign(E,x,y,{result:function(G){z(E,G);},error:function(G){e.default(A,function(){if(G instanceof g.default)throw new h.default("Error signing the token data.",G);throw G;});}});},error:A.error});});},error:function(F){e.default(A,function(){if(F instanceof g.default)throw new h.default("Error encrypting the session data.",F);throw F;});}});},error:A.error});}});};w.prototype.toString=function(){var x,y;x=this.Rj.qg;y=x.af();y.put("renewalwindow",this.WQ);y.put("expiration",this.yO);y.put("sequencenumber",this.Aj);y.put("serialnumber",this.Bf);y.put("sessiondata","(redacted)");x=x.af();x.put("tokendata",y);x.put("signature",this.bk?this.bk:"(null)");return x.toString();};w.prototype.equals=function(x){return this === x?!0:x instanceof w?this.Bf == x.Bf && this.Aj == x.Aj && this.Tj().getTime() == x.Tj().getTime():!1;};w.prototype.Ih=function(){return this.Bf + ":" + this.Aj + ":" + this.Tj().getTime();};return w;})(t.Dn);b.q7a=u;b.k9b=function(v,w,x,y,A,z,B,C,D,F){e.default(F,function(){return new u(v,w,x,y,A,z,B,C,D,null);});};b.iqa=function(v,w,x){function y(B,C,D,F,H){e.default(x,function(){var E,G,K,N,I,L,O,J;try{E=C.ro(D);G=E.$m("renewalwindow");K=E.$m("expiration");if(K < G)throw new k.default(f.default.$Qb,"mastertokendata " + E);N=E.$m("sequencenumber");if(0 > N || N > c.default.Le)throw new k.default(f.default.aRb,"mastertokendata " + E);I=E.$m("serialnumber");if(0 > I || I > c.default.Le)throw new k.default(f.default.bRb,"mastertokendata " + E);L=E.gd("sessiondata");if(0 == L.length)throw new l.default(f.default.cRb,"mastertokendata " + E);O=new Date(1E3 * G);J=new Date(1E3 * K);H?B.decrypt(L,C,{result:function(Q){A(B,C,D,F,H,O,J,N,I,Q);},error:x.error}):z(B,C,D,F,H,O,J,N,I,null,null,null,null,null);}catch(Q){if(Q instanceof h.default)throw new l.default(f.default.fRb,"mastertokendata " + m.Sh(D),Q);throw Q;}});}function A(B,C,D,F,H,E,G,K,N,I){e.default(x,function(){var L,O,J,Q,P,S,Y,X,T;try{L=C.ro(I);O=L.has("issuerdata")?L.op("issuerdata",C):null;J=L.de("identity");Q=L.gd("encryptionkey");P=L.s$("encryptionalgorithm",c.default.Rwa.pua);S=L.has("signaturekey")?L.gd("signaturekey"):L.gd("hmackey");Y=L.s$("signaturealgorithm",c.default.F2.Hxa);}catch(U){if(U instanceof h.default)throw new l.default(f.default.dRb,"sessiondata " + m.Sh(I),U);throw U;}X=c.default.Rwa.OYa(P);T=c.default.F2.OYa(Y);if(!X || !T)throw new g.default(f.default.kDa,"encryption algorithm: " + P + "; signature algorithm: " + Y);p.ROa(Q,X,r.ND.aea,{result:function(U){p.ROa(S,T,r.ND.CT,{result:function(Z){z(B,C,D,F,H,E,G,K,N,L,O,J,U,Z);},error:function(Z){x.error(new g.default(f.default.Z6a,Z));}});},error:function(U){x.error(new g.default(f.default.Z6a,U));}});});}function z(B,C,D,F,H,E,G,K,N,I,L,O,J,Q){e.default(x,function(){var P;P=new q(I,D,F,H);return new u(v,E,G,K,N,L,O,J,Q,P);});}e.default(x,function(){var B,C,D,F;B=v.cha;C=v.qg;try{D=w.gd("tokendata");if(0 == D.length)throw new l.default(f.default.eRb,"mastertoken " + w);F=w.gd("signature");}catch(H){if(H instanceof h.default)throw new l.default(f.default.Me,"mastertoken " + w,H);throw H;}B.verify(D,F,C,{result:function(H){y(B,C,D,F,H);},error:x.error});});};},61693:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;function d(x,y,A){var z,B;try{z=y.gd("tokendata");if(0 == z.length)throw new c.default(g.default.Dab,"servicetoken " + y);B=x.ro(z).de("name");return A[B]?A[B]:A[""];}catch(C){if(C instanceof f.default)throw new c.default(g.default.Me,"servicetoken " + y,C);throw C;}}Object.defineProperty(b,"__esModule",{value:!0});b.lqa=b.G9b=b.ebb=void 0;n=a(22970);c=n.__importDefault(a(88257));g=n.__importDefault(a(36114));f=n.__importDefault(a(6838));t=a(48235);e=n.__importDefault(a(10690));h=a(58892);l=a(85065);k=n.__importDefault(a(42979));m=n.__importDefault(a(1966));p=n.__importDefault(a(42458));r=n.__importStar(a(51411));q=a(44127);u=a(53140);v=(function(){return function(x,y,A){this.Up=x;this.bk=y;this.$p=A;};})();w=(function(x){function y(A,z,B,C,D,F,H,E,G){var K,N,I,L;K=x.call(this) || this;if(C && D && !D.fh(C))throw new e.default("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");C=C?C.Bf:-1;D=D?D.Bf:-1;if(G){N=G.Up;I=G.bk;G=G.$p;}else {if(!E)throw new TypeError("Crypto context may not be null.");if(H){L=u.zD.Qn(H,B);L && L.length < B.length || (H=null,L=B);}else (H=null,L=B);I=N=null;G=!0;}K.Rj=A;K.Rn=E;K.name=z;K.vj=C;K.Fx=D;K.Ny=F;K.ija=H;K.UFb=B;K.DIa=L;K.Up=N;K.bk=I;K.$p=G;K.encodings={};return K;}n.__extends(y,x);y.prototype.q8=function(){return this.Ny;};y.prototype.n8=function(){return this.UFb?!0:!1;};y.prototype.getData=function(){return this.UFb;};y.prototype.Pw=function(){return -1 != this.vj;};y.prototype.fh=function(A){return A?A instanceof h.q7a?A.Bf == this.vj:A instanceof l.Mcb?A.Bf == this.Fx:!1:!1;};y.prototype.Su=function(){return -1 != this.Fx;};y.prototype.upc=function(){return -1 == this.vj && -1 == this.Fx;};y.prototype.Dm=function(A,z,B){var F;function C(H){k.default(B,function(){var E;E=A.af();E.put("name",F.name);-1 != F.vj && E.put("mtserialnumber",F.vj);-1 != F.Fx && E.put("uitserialnumber",F.Fx);E.put("encrypted",F.Ny);F.ija && E.put("compressionalgo",F.ija);E.put("servicedata",H);A.jj(E,z,{result:function(G){k.default(B,function(){F.Rn.sign(G,A,z,{result:function(K){D(G,K);},error:function(K){k.default(B,function(){if(K instanceof p.default)throw new f.default("Error signing the token data.",K);throw K;});}});});},error:B.error});});}function D(H,E){k.default(B,function(){var G;G=A.af();G.put("tokendata",H);G.put("signature",E);A.jj(G,z,{result:function(K){k.default(B,function(){return F.encodings[z.name]=K;});},error:B.error});});}F=this;k.default(B,function(){if(F.encodings[z.name])return F.encodings[z.name];null != F.Up || null != F.bk?D(F.Up,F.bk):F.Ny && 0 < F.DIa.length?F.Rn.encrypt(F.DIa,A,z,{result:C,error:function(H){k.default(B,function(){if(H instanceof p.default)throw new f.default("Error encrypting the service data.",H);throw H;});}}):C(F.DIa);});};y.prototype.toString=function(){var A,z;A=this.Rj.qg;z=A.af();z.put("name",this.name);z.put("mtserialnumber",this.vj);z.put("uitserialnumber",this.Fx);z.put("servicedata","(redacted)");A=A.af();A.put("tokendata",z);A.put("signature",this.bk?this.bk:"(null)");return A.toString();};y.prototype.equals=function(A){return this === A?!0:A instanceof y?this.name == A.name && this.vj == A.vj && this.Fx == A.Fx:!1;};y.prototype.Ih=function(){return this.name + ":" + this.vj + ":" + this.Fx;};return y;})(t.Dn);b.ebb=w;b.G9b=function(x,y,A,z,B,C,D,F,H){k.default(H,function(){return new w(x,y,A,z,B,C,D,F,null);});};b.lqa=function(x,y,A,z,B,C){function D(H,E,G,K,N){k.default(C,function(){var I,L,O,J,Q,P,S,Y,X;try{I=H.ro(E);L=I.de("name");if(I.has("mtserialnumber")){O=I.$m("mtserialnumber");if(0 > O || O > r.default.Le)throw new m.default(g.default.GUb,"servicetokendata " + I).bc(A).se(z);}else O=-1;if(I.has("uitserialnumber")){J=I.$m("uitserialnumber");if(0 > J || J > r.default.Le)throw new m.default(g.default.IUb,"servicetokendata " + I).bc(A).se(z);}else J=-1;Q=I.O6("encrypted");if(I.has("compressionalgo")){P=I.de("compressionalgo");if(!((P in r.VG)))throw new m.default(g.default.ycb,P);S=P;}else S=null;Y=I.gd("servicedata");}catch(T){if(T instanceof f.default)throw new c.default(g.default.Me,"servicetokendata " + q.Sh(E),T).bc(A).se(z);throw T;}if(N){if(Q && 0 < Y.length)K.decrypt(Y,H,{result:function(T){X=S?u.zD.FG(S,T):T;F(H,E,G,N,L,O,J,Q,S,K,T,X);},error:function(T){k.default(C,function(){T instanceof p.default && (T.bc(A),T.se(z));throw T;});}});else {I=Y;X=S?u.zD.FG(S,I):I;F(H,E,G,N,L,O,J,Q,S,K,I,X);}}else (I=Y,X=0 == Y.length?new Uint8Array(0):null,F(H,E,G,N,L,O,J,Q,S,K,I,X));});}function F(H,E,G,K,N,I,L,O,J,Q,P,S){k.default(C,function(){var Y;if(-1 != I && (!A || I != A.Bf))throw new m.default(g.default.eCa,"st mtserialnumber " + I + "; mt " + A).bc(A).se(z);if(-1 != L && (!z || L != z.Bf))throw new m.default(g.default.fCa,"st uitserialnumber " + L + "; uit " + z).bc(A).se(z);Y=new v(E,G,K);return new w(x,N,S,-1 != I?A:null,-1 != L?z:null,O,J,Q,Y);});}k.default(C,function(){var H,E,G,K;H=x.qg;E=null;B && (E=d(H,y,B));try{G=y.gd("tokendata");if(0 == G.length)throw new c.default(g.default.Dab,"servicetoken " + y).bc(A).se(z);K=y.gd("signature");}catch(N){if(N instanceof f.default)throw new c.default(g.default.Me,"servicetoken " + y,N).bc(A).se(z);throw N;}E?E.verify(G,K,H,{result:function(N){D(H,G,K,E,N);},error:function(N){k.default(C,function(){N instanceof p.default && N.bc(A);throw N;});}}):D(H,G,K,E,!1);});};},85065:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.DTa=b.R9b=b.Mcb=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(10690));c=d.__importDefault(a(51411));g=d.__importDefault(a(42979));f=d.__importDefault(a(42458));e=d.__importDefault(a(6838));h=d.__importDefault(a(1966));l=d.__importDefault(a(88257));k=d.__importDefault(a(36114));m=a(44127);p=(function(){return function(q,u,v,w){this.PZa=q;this.Up=u;this.bk=v;this.$p=w;};})();r=(function(q){function u(v,w,x,y,A,z,B,C){var D,F,H,E;D=q.call(this) || this;if(x.getTime() < w.getTime())throw new n.default("Cannot construct a user ID token that expires before its renewal window opens.");if(!y)throw new n.default("Cannot construct a user ID token without a master token.");if(0 > A || A > c.default.Le)throw new n.default("Serial number " + A + " is outside the valid range.");w=Math.floor(w.getTime() / 1E3);x=Math.floor(x.getTime() / 1E3);y=y.Bf;if(C){F=C.PZa;H=C.Up;E=C.bk;C=C.$p;}else (F=v.qg.af(),z && F.put("issuerdata",z),F.put("identity",B.AB()),E=H=null,C=!0);D.Rj=v;D.WQ=w;D.yO=x;D.vj=y;D.Bf=A;D.PZa=F;D.Bpc=z;D.hS=B;D.Up=H;D.bk=E;D.$p=C;D.encodings={};return D;}d.__extends(u,q);u.prototype.n8=function(){return this.hS?!0:!1;};u.prototype.s7=function(){return new Date(1E3 * this.WQ);};u.prototype.Ss=function(v){return v?this.s7().getTime() <= v.getTime():this.$p?this.s7().getTime() <= this.Rj.getTime():!0;};u.prototype.Tj=function(){return new Date(1E3 * this.yO);};u.prototype.Ru=function(v){return v?this.Tj().getTime() <= v.getTime():this.$p?this.Tj().getTime() <= this.Rj.getTime():!1;};u.prototype.fh=function(v){return v && v.Bf == this.vj;};u.prototype.Dm=function(v,w,x){var A;function y(z,B){g.default(x,function(){var C;C=v.af();C.put("tokendata",z);C.put("signature",B);v.jj(C,w,{result:function(D){g.default(x,function(){return A.encodings[w.name]=D;});},error:x.error});});}A=this;g.default(x,function(){var z;if(A.encodings[w.name])return A.encodings[w.name];if(null != A.Up || null != A.bk)y(A.Up,A.bk);else {try{z=A.Rj.cha;}catch(B){if(B instanceof f.default)throw new e.default("Error creating the MSL crypto context.",B);throw B;}v.jj(A.PZa,w,{result:function(B){z.encrypt(B,v,w,{result:function(C){g.default(x,function(){var D;D=v.af();D.put("renewalwindow",A.WQ);D.put("expiration",A.yO);D.put("mtserialnumber",A.vj);D.put("serialnumber",A.Bf);D.put("userdata",C);v.jj(D,w,{result:function(F){z.sign(F,v,w,{result:function(H){y(F,H);},error:function(H){g.default(x,function(){if(H instanceof f.default)throw new e.default("Error signing the token data.",H);throw H;});}});},error:x.error});});},error:function(C){g.default(x,function(){if(C instanceof f.default)throw new e.default("Error encrypting the user data.",C);throw C;});}});},error:x.error});}});};u.prototype.toString=function(){var v,w;v=this.Rj.qg;w=v.af();w.put("renewalwindow",this.WQ);w.put("expiration",this.yO);w.put("mtserialnumber",this.vj);w.put("serialnumber",this.Bf);w.put("userdata","(redacted)");v=v.af();v.put("tokendata",w);v.put("signature",this.bk?this.bk:"(null)");return v.toString();};u.prototype.equals=function(v){return this === v?!0:v instanceof u?this.Bf == v.Bf && this.vj == v.vj:!1;};u.prototype.Ih=function(){return this.Bf + ":" + this.vj;};return u;})(t.Dn);b.Mcb=r;b.R9b=function(q,u,v,w,x,y,A,z){g.default(z,function(){return new r(q,u,v,w,x,y,A,null);});};b.DTa=function(q,u,v,w){function x(z,B,C,D,F){g.default(w,function(){var H,E,G,K,N,I;try{H=z.ro(C);E=H.$m("renewalwindow");G=H.$m("expiration");if(G < E)throw new h.default(k.default.uVb,"usertokendata " + H).bc(v);K=H.$m("mtserialnumber");if(0 > K || K > c.default.Le)throw new h.default(k.default.yVb,"usertokendata " + H).bc(v);N=H.$m("serialnumber");if(0 > N || N > c.default.Le)throw new h.default(k.default.zVb,"usertokendata " + H).bc(v);I=H.gd("userdata");if(0 == I.length)throw new h.default(k.default.DVb).bc(v);}catch(L){if(L instanceof e.default)throw new l.default(k.default.BVb,"usertokendata " + m.Sh(C),L).bc(v);throw L;}F?B.decrypt(I,z,{result:function(L){y(z,C,D,F,E,G,K,N,L);},error:function(L){g.default(w,function(){L instanceof f.default && L.bc(v);throw L;});}}):A(C,D,F,E,G,K,N,null,null,null);});}function y(z,B,C,D,F,H,E,G,K){g.default(w,function(){var N,I,L;try{N=z.ro(K);I=N.has("issuerdata")?N.op("issuerdata",z):null;L=N.de("identity");if(!L || 0 == L.length)throw new h.default(k.default.vVb,"userdata " + N).bc(v);}catch(O){if(O instanceof e.default)throw new l.default(k.default.EVb,"userdata " + m.Sh(K),O).bc(v);throw O;}(null).rXc(q,L,{result:function(O){g.default(w,function(){if(!O)throw new n.default("TokenFactory.createUser() returned null in violation of the interface contract.");A(B,C,D,F,H,E,G,N,I,O);});},error:w.error});});}function A(z,B,C,D,F,H,E,G,K,N){g.default(w,function(){var I,L,O;I=new Date(1E3 * D);L=new Date(1E3 * F);if(!v || H != v.Bf)throw new h.default(k.default.oDa,"uit mtserialnumber " + H + "; mt " + v).bc(v);O=new p(G,z,B,C);return new r(q,I,L,v,E,K,N,O);});}g.default(w,function(){var z,B,C,D;z=q.cha;B=q.qg;try{C=u.gd("tokendata");if(0 == C.length)throw new l.default(k.default.AVb,"useridtoken " + u).bc(v);D=u.gd("signature");}catch(F){if(F instanceof e.default)throw new l.default(k.default.Me,"useridtoken " + u,F).bc(v);throw F;}z.verify(C,D,B,{result:function(F){x(B,z,C,D,F);},error:w.error});});};},23710:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.LAb=b.Mwa=void 0;d=a(22970);t=a(5248);n=a(91331);c=d.__importDefault(a(42979));g=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(l){function k(m,p){var r;r=l.call(this,n.ega.Cwa) || this;r.email=m;r.password=p;return r;}d.__extends(k,l);k.prototype.OO=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.af();q.put("email",r.email);q.put("password",r.password);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?l.prototype.equals.call(this,m) && this.email == m.email && this.password == m.password:!1;};return k;})(t.sDa);b.Mwa=h;b.LAb=function(l){var k,m;try{k=l.de("email");m=l.de("password");return new h(k,m);}catch(p){if(p instanceof g.default)throw new f.default(e.default.Me,"email/password authdata " + l,p);throw p;}};},25606:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.u3a=void 0;d=a(22970);n=a(91331);c=d.__importDefault(a(42979));g=a(23710);f=d.__importDefault(a(10690));e=d.__importDefault(a(88361));h=d.__importDefault(a(36114));t=(function(l){function k(m,p){var r;r=l.call(this,n.ega.Cwa) || this;r.Nl=m;r.AVc=p;return r;}d.__extends(k,l);k.prototype.r5=function(m,p,r){c.default(r,function(){return g.LAb(p);});};k.prototype.$Ga=function(m,p,r,q,u){var v;v=this;c.default(u,function(){var w,x;if(!(r instanceof g.Mwa))throw new f.default("Incorrect authentication data type " + r + ".");w=r.email;x=r.password;if(!w || 0 == w.trim().length || !x || 0 == x.trim().length)throw new e.default(h.default.ePb).jf(r);w=v.Nl.$_c(w,x);if(null == w)throw new e.default(h.default.g3a).jf(r);if(q && (x=q.hS,!w.equals(x)))throw new e.default(h.default.CVb,"uad user " + w + "; uit user " + x).jf(r);return w;});};return k;})(a(49137).tDa);b.u3a=t;},49123:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.VAb=b.Sza=void 0;d=a(22970);t=a(5248);n=a(32256);c=d.__importDefault(a(42979));g=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(l){function k(m,p){var r;r=l.call(this,n.Xea.Oza) || this;r.gQ=m;r.Uaa=p;return r;}d.__extends(k,l);k.prototype.OO=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.af();r.gQ && q.put("netflixid",r.gQ);r.Uaa && q.put("securenetflixid",r.Uaa);return q;});};k.prototype.equals=function(m){return this === m?!0:m instanceof k?l.prototype.equals.call(this,m) && this.gQ == m.gQ && this.Uaa == m.Uaa:!1;};return k;})(t.sDa);b.Sza=h;b.VAb=function(l){var k,m;try{k=l.has("netflixid")?l.de("netflixid"):void 0;m=l.has("securenetflixid")?l.de("securenetflixid"):void 0;return new h(k,m);}catch(p){if(p instanceof g.default)throw new f.default(e.default.Me,"Netflix ID authentication data " + l,p);throw p;}};},79925:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.n8a=void 0;d=a(22970);n=a(32256);c=d.__importDefault(a(42979));g=a(49123);f=d.__importDefault(a(10690));e=d.__importDefault(a(88361));h=d.__importDefault(a(99075));l=d.__importDefault(a(36114));t=(function(k){function m(){return k.call(this,n.Xea.Oza) || this;}d.__extends(m,k);m.prototype.r5=function(p,r,q){c.default(q,function(){return g.VAb(r);});};m.prototype.$Ga=function(p,r,q){if(!(q instanceof g.Sza))throw new f.default("Incorrect authentication data type " + q + ".");p=q.Uaa;if(!q.gQ || !p)throw new e.default(h.default.aSb).jf(q);throw new e.default(l.default.sVb,this.scheme).jf(q);};return m;})(a(49137).tDa);b.n8a=t;},32256:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Xea=void 0;d=a(22970);t=(function(n){function c(g){return n.call(this,g) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(91331)).default);b["default"]=t;b.Xea={Oza:new t("NETFLIXID"),iUc:new t("SSO"),BUc:new t("SWITCH_PROFILE"),oSc:new t("MDX"),xRb:new t("MIGRATION")};},5248:function(t,b,a){var d,n,c,g,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.bBb=b.sDa=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=d.__importDefault(a(88361));g=d.__importDefault(a(36114));f=d.__importDefault(a(6838));e=d.__importDefault(a(88257));a=(function(h){function l(k){var m;m=h.call(this) || this;m.scheme=k;m.encodings={};return m;}d.__extends(l,h);l.prototype.equals=function(k){return this === k?!0:k instanceof l?this.scheme == k.scheme:!1;};l.prototype.Dm=function(k,m,p){var r;r=this;n.default(p,function(){if(r.encodings[m.name])return r.encodings[m.name];r.OO(k,{result:function(q){n.default(p,function(){var u;u=k.af();u.put("scheme",r.scheme.name);u.put("authdata",q);k.jj(u,m,{result:function(v){n.default(p,function(){return r.encodings[m.name]=v;});},error:p.error});});},error:p.error});});};return l;})(t.Dn);b.sDa=a;b.bBb=function(h,l,k,m){n.default(m,function(){var p,r,q;try{p=k.de("scheme");r=h.dlc(p);if(!r)throw new c.default(g.default.qVb,p);q=h.fsb(r);if(!q)throw new c.default(g.default.Ecb,r.name);q.r5(l,k.op("authdata",h.qg),m);}catch(u){if(u instanceof f.default)throw new e.default(g.default.Me,"userauthdata " + k,u);throw u;}});};},49137:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tDa=void 0;b.tDa=(function(){return function(a){this.scheme=a;};})();},91331:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ega=void 0;t=(function(){function a(d){this.name=d;a.Zz[d]=this;}a.prototype.toString=function(){return this.name;};a.w7=function(d){return a.Zz[d]?a.Zz[d]:null;};a.Zz={};return a;})();b["default"]=t;b.ega={Cwa:new t("EMAIL_PASSWORD"),eVc:new t("USER_ID_TOKEN")};},14945:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]=(function(){function a(){}a.equal=function(d,n){if(d === n)return !0;if(!d || !n || d.length != n.length)return !1;for(var c=0;c < d.length;++c)if(d[c] != n[c])return !1;return !0;};a.F8=function(d){return d && d.constructor == Uint8Array;};a.zma=function(d){var g;if(!a.F8(d) && !Array.isArray(d))throw new TypeError("Cannot compute the hash code of " + d);for(var n=1,c=0;c < d.length;++c){g=d[c];if("number" !== typeof g)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + g);n=31 * n + g & 4294967295;}return n;};a.contains=function(d,n){var h;if(d === n)return !0;if(!d || !n)return !1;n instanceof Array || (n=[n]);for(var c=0;c < n.length;++c){for(var g=n[c],f=!1,e=0;e < d.length;++e){h=d[e];if(g.equals && "function" === typeof g.equals && g.equals(h) || g == h){f=!0;break;}}if(!f)return !1;}return !0;};a.m5=function(d,n){return a.contains(d,n) && (d.length == n.length || a.contains(n,d));};a.concat=function(d){var n,c,g,f,e;g=d.length;f=0;for(c=n=0;c < g;c++)n+=d[c].length;n=new Uint8Array(n);for(c=0;c < g;c++){e=d[c];n.set(e,f);f+=e.length;}return n;};return a;})();},42979:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]=function(a,d,n){var c,g;void 0 === n && (n=void 0);n && (c=n);if("object" !== typeof a || "function" !== typeof a.result || "function" !== typeof a.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{g=d.call(c,a);void 0 !== g && a.result(g);}catch(f){try{a.error(f);}catch(e){}}};},44127:function(t,b){var a,d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Pj=b.Sh=b.ZFb=b.a1a=b.xpc=void 0;a=/\s*/g;d=/^([A-Za-z0-9+/_-]{4})*([A-Za-z0-9+/_-]{4}|[A-Za-z0-9+/_-]{3}=|[A-Za-z0-9+/_-]{2}==)?$/;b.xpc=function(c,g){c=c.replace(a,"");if(g && (g=c.length % 4)){g=4 - g;for(var f=0;f < g;++f)c+="=";}return 0 == c.length % 4 && d.test(c)?!0:!1;};b.a1a=(function(){return function(){};})();b.ZFb=function(c){if(!c)throw new TypeError("Base64 implementation cannot be null.");n=c;};b.Sh=function(c,g){return n.encode(c,g);};b.Pj=function(c,g){return n.decode(c,g);};},41294:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p){m=l[m & 63];if(p){if("+" == m)return "-";if("/" == m)return "_";}return m;}Object.defineProperty(b,"__esModule",{value:!0});b.b1a=void 0;n=a(22970);t=a(44127);c=String.fromCharCode(9);g=String.fromCharCode(10);f=String.fromCharCode(13);e=String.fromCharCode(32);h=String.fromCharCode(127);l=(function(){var m,p;p=[];for(m=0;26 > m;m++)p[m]=String.fromCharCode(65 + m);for(m=26;52 > m;m++)p[m]=String.fromCharCode(97 + (m - 26));for(m=52;62 > m;m++)p[m]=String.fromCharCode(48 + (m - 52));p[62]="+";p[63]="/";return p;})();k=(function(){var m,p;p=[];for(m=0;128 > m;m++)p[m]=-1;for(m=65;90 >= m;m++)p[m]=m - 65;for(m=97;122 >= m;m++)p[m]=m - 97 + 26;for(m=48;57 >= m;m++)p[m]=m - 48 + 52;p[43]=62;p[47]=63;p[61]=h;return p;})();t=(function(m){function p(){return null !== m && m.apply(this,arguments) || this;}n.__extends(p,m);p.prototype.encode=function(r,q){var u,v,w;u="";v=r.length;for(w=0;3 <= v;(v-=3,w+=3))u+=d(r[w] >> 2) + d((r[w] & 3) << 4 | r[w + 1] >> 4 & 15) + d((r[w + 1] & 15) << 2 | r[w + 2] >> 6 & 3) + d(r[w + 2] & 63);1 == v?(u+=d(r[w] >> 2) + d((r[w] & 3) << 4),q || (u+="==")):2 == v && (u+=d(r[w] >> 2) + d((r[w] & 3) << 4 | r[w + 1] >> 4 & 15) + d((r[w + 1] & 15) << 2),q || (u+="="));return u;};p.prototype.decode=function(r,q){var C,D;for(var u=!1,v=r.length,w=Array(Math.floor(3 * v / 4)),x=0,y=Array(4),A=0,z=!1,B=0;B < v;++B){C=r[B];D=C.charCodeAt(0);isNaN(D)?D=void 0:(D=k[D],q && ("-" == D?D="+":"_" == D && (D="/")));if(void 0 === D || -1 == D)C != e && C != c && C != g && C != f && (u=!0);else if((z && (u=!0),y[A++]=D,4 == A)){if(y[0] == h || y[1] == h)u=!0;if(y[2] == h || y[3] == h)z=!0;w[x++]=y[0] << 2 | y[1] >> 4;y[2] != h && (w[x++]=y[1] << 4 | y[2] >> 2);y[3] != h && (w[x++]=y[2] << 6 | y[3]);A=0;}}q && 2 <= A && (w[x++]=y[0] << 2 | y[1] >> 4,3 == A && y[2] != h && (w[x++]=y[1] << 4 | y[2] >> 2),A=0);0 != A && (u=!0);if(u)throw Error("Invalid Base64 encoded string: " + r);r=new Uint8Array(x);for(v=u=0;u < w.length;++u)q && w[u] == h || (r[u]=w[v++]);return r;};return p;})(t.a1a);b.b1a=t;},89752:function(t,b,a){var c,g;function d(f){return f == c.default.Le?1:f + 1;}function n(f){if(0 === Object.keys(f.Ol).length)return 0;for(var e=d(f.uh);!f.Ol[e];)e=d(e);return e;}Object.defineProperty(b,"__esModule",{value:!0});b.k0=void 0;t=a(22970);c=t.__importDefault(a(51411));g=t.__importDefault(a(79804));a=(function(){function f(){this.Jn=[];this.Ol={};this.p3=this.uh=0;}f.prototype.cancel=function(e){var h;if(this.Ol[e]){h=this.Ol[e];delete this.Ol[e];e == this.uh && (this.uh=n(this));h.call(this,void 0);}};f.prototype.Uia=function(){for(;0 !== this.uh;)this.cancel(this.uh);};f.prototype.P$=function(e,h){var l,k;l=this;k=d(this.p3);this.p3=k;g.default(h,function(){var m,p;if(0 < l.Jn.length){m=l.Jn.shift();setTimeout(function(){h.result(m);},0);}else {-1 != e && (p=setTimeout(function(){delete l.Ol[k];k == l.uh && (l.uh=n(l));h.timeout();},e));l.Ol[k]=function(r){clearTimeout(p);setTimeout(function(){h.result(r);},0);};l.uh || (l.uh=k);}});return k;};f.prototype.add=function(e){var h;if(this.uh){h=this.Ol[this.uh];delete this.Ol[this.uh];this.uh=n(this);h.call(this,e);}else this.Jn.push(e);};return f;})();b.k0=a;},79804:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970).__importDefault(a(42979));b["default"]=function(n,c,g){void 0 === g && (g=void 0);if("object" !== typeof n || "function" !== typeof n.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");d.default(n,c,g);};},75513:function(t,b,a){var n,c,g,f;function d(e,h){h || (h=e.length);return e.reduce(function(l,k,m){return m < h?l + String.fromCharCode(k):l;},"");}Object.defineProperty(b,"__esModule",{value:!0});b.V6a=void 0;n=a(22970).__importDefault(a(48795));c={};for(t=0;256 > t;++t)(a=d([t]),c[a]=t);g=Object.keys(c).length;f=[];for(t=0;256 > t;++t)f[t]=[t];t=(function(){function e(){}e.prototype.Qn=function(h){var k,A;function l(z,B){for(var C;0 < B;){if(u >= q.length)return !1;B > v?(C=z,C>>>=B - v,q[u]|=C & 255,B-=v,v=8,++u):B <= v && (C=z,C<<=v - B,C&=255,C>>>=8 - v,q[u]|=C & 255,v-=B,B=0,0 == v && (v=8,++u));}return !0;}k={};for(m in c)k[m]=c[m];for(var m=g,p=[],r=8,q=new Uint8Array(h.length),u=0,v=8,w,x,y=0;y < h.length;++y){A=h[y];p.push(A);w=d(p);x=k[w];if(void 0 === x){p=d(p,p.length - 1);if(!l(k[p],r))return null;0 != m >> r && ++r;k[w]=m++;p=[A];}}return 0 < p.length && (w=d(p),x=k[w],!l(x,r))?null:q.subarray(0,8 > v?u + 1:u);};e.prototype.FG=function(h,l){var y,A;for(var k=f.slice(),m=0,p=0,r=8,q=new Uint8Array(Math.ceil(1.5 * h.length)),u=0,v,w=[];m < h.length && !(8 * (h.length - m) - p < r);){for(var x=v=0;x < r;){y=Math.min(r - x,8 - p);A=h[m];A<<=p;A&=255;A>>>=8 - y;x+=y;p+=y;8 == p && (p=0,++m);v|=(A & 255) << r - x;}x=k[v];0 == w.length?++r:(x?w.push(x[0]):w.push(w[0]),k[k.length]=w,w=[],k.length == 1 << r && ++r,x || (x=k[v]));v=u + x.length;if(v > l * h.length)throw new n.default("Deflate ratio " + l + " exceeded. Aborting uncompression.");v >= q.length && (y=new Uint8Array(Math.ceil(1.5 * v)),y.set(q),q=y);q.set(x,u);u=v;w=w.concat(x);}return q.subarray(0,u);};return e;})();b.V6a=t;},53140:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.zD=void 0;t=a(22970);d=t.__importDefault(a(1966));n=t.__importDefault(a(36114));c=t.__importDefault(a(48795));b.zD=(function(){function g(){}g.register=function(f,e){e?g.Jma[f]=e:delete g.Jma[f];};g.IGc=function(f){if(1 > f)throw new RangeError("The maximum deflate ratio must be at least one.");g.wRa=f;};g.$Ma=function(){return g.wRa;};g.Qn=function(f,e){var h,l;h=g.Jma[f];if(!h)throw new d.default(n.default.Acb,f);try{l=h.Qn(e);return l && l.length < e.length?l:null;}catch(k){if(k instanceof c.default)throw new d.default(n.default.JNb,"algo " + f,k);throw k;}};g.FG=function(f,e){var h;h=g.Jma[f];if(!h)throw new d.default(n.default.Acb,f);try{return h.FG(e,g.wRa);}catch(l){if(l instanceof c.default)throw new d.default(n.default.jVb,"algo " + f,l);throw l;}};g.Jma={};g.wRa=200;return g;})();},38470:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Jza=b.tPb=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));b.tPb={ag:d.default.N.ag,Kh:d.default.N.Kh};c=0;a=(function(){function g(){var f;f=++c;if(0 >= f || !isFinite(f))throw new n.default("MSL context unique ID has overflowed. Are you sure you are using MSL context's correctly?");this.$Yb=c;this.rfb=!1;this.Sc=0;}g.prototype.FMc=function(f){var e;e=this.getTime() / 1E3;this.Sc=f.getTime() / 1E3 - e;this.rfb=!0;};g.prototype.Xla=function(){var f;if(!this.rfb)return null;f=this.getTime() / 1E3 + this.Sc;return new Date(1E3 * f);};g.prototype.equals=function(f){return this === f?!0:!1;};g.prototype.Ih=function(){return this.$Yb.toString();};return g;})();b.Jza=a;},80824:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Mza=void 0;t=a(22970);d=a(44127);n=a(53140);c=a(69193);a(31809);g=a(50441);t.__importDefault(a(90122));b.Mza=(function(){function f(){}f.Se=function(e){var h;h=e.dWb;h && d.ZFb(h);if(h=e.qWb)for(var l in h)n.zD.register(l,h[l]);(l=e.$Ma()) && n.zD.IGc(l);(l=e.VYb) && c.HA.RWa(l);e=e.cOa();null !== e && void 0 !== e && g.nXa(e);};return f;})();},32260:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.pd=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(63053));b["default"]={d3c:function(c,g){if(c.length != g.length)return !1;for(var f=0,e=0;e < c.length;++e)f|=c[e] ^ g[e];return 0 == f;},Rjc:function(c){var g,f;g=d.default.Le;g=!("number" === typeof g && isFinite(g) && Math.floor(g) == g && Math.abs(g) <= Number.MAX_SAFE_INTEGER) || 0 > g?!1:0 == g?!0:0 == (g & g - 1);c=c.Arb();do {f=c.Tuc();g && (f&=d.default.Le - 1);}while(0 > f || f > d.default.Le);return f;},M4c:function(c){return c.sort().filter(function(g,f,e){return !f || g != e[f - 1];});}};b.pd=function(c){return c instanceof n.default;};},18461:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zza=void 0;t=(function(){function a(){}a.prototype.noc=function(d){for(var n=1;n < arguments.length;n++);return !1;};return a;})();b.Zza=t;},90122:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});"undefined" !== typeof Promise && (a=Promise);b["default"]={setImpl:function(d){a=d;},create:function(d){return new a(d);}};},31809:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.hab=void 0;d=0 - a(22970).__importDefault(a(51411)).default.Le;"undefined" !== typeof Ba && (n=Ba.msCrypto || Ba.crypto);t=(function(){function c(){}c.prototype.Tuc=function(){var f;for(var g=d;g == d;){g=new Uint8Array(7);n.getRandomValues(g);f=16777216 * ((g[6] & 31) << 24 | g[5] << 16 | g[4] << 8 | g[3]) + (g[2] << 16 | g[1] << 8 | g[0]);g=g[6] & 128?-f - 1:f;}return g;};c.prototype.Puc=function(g){var e,h;for(var f=0;;){e=Math.min(65536,g.length - f);if(0 == e)break;h=new Uint8Array(e);n.getRandomValues(h);g.set(h,f);f+=e;}};return c;})();b.hab=t;},74015:function(t,b,a){var g,f,e;function d(h){return h == g.default.Le?1:h + 1;}function n(h){if(0 === Object.keys(h.$v).length)return 0;for(var l=d(h.qy);!h.$v[l];)l=d(l);return l;}function c(h){if(0 === Object.keys(h.XA).length)return 0;for(var l=d(h.Yt);!h.XA[l];)l=d(l);return l;}Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;t=a(22970);g=t.__importDefault(a(51411));f=t.__importDefault(a(79804));e=t.__importDefault(a(10690));a=(function(){function h(){this.bU={};this.$v={};this.iU=null;this.XA={};this.Tga=this.Yt=this.qy=0;}h.prototype.cancel=function(l){var k;if(this.$v[l]){k=this.$v[l];delete this.$v[l];l == this.qy && (this.qy=n(this));k.call(this,!0);}this.XA[l] && (k=this.XA[l],delete this.XA[l],l == this.Yt && (this.Yt=c(this)),k.call(this,!0));};h.prototype.Uia=function(){for(;0 !== this.Yt;)this.cancel(this.Yt);for(;0 !== this.qy;)this.cancel(this.qy);};h.prototype.QBc=function(l,k){var m,p;m=this;p=d(this.Tga);this.Tga=p;f.default(k,function(){var r;if(!m.iU && 0 === Object.keys(m.XA).length)return (m.bU[p]=!0,p);-1 != l && (r=setTimeout(function(){delete m.$v[p];p == m.qy && (m.qy=n(m));k.timeout();},l));m.$v[p]=function(q){clearTimeout(r);q?setTimeout(function(){k.result(void 0);},0):(m.bU[p]=!0,setTimeout(function(){k.result(p);},0));};m.qy || (m.qy=p);});return p;};h.prototype.YLb=function(l,k){var m,p;m=this;p=d(this.Tga);this.Tga=p;f.default(k,function(){var r;if(0 === Object.keys(m.bU).length && 0 === Object.keys(m.$v).length && !m.iU)return m.iU=p;-1 != l && (r=setTimeout(function(){delete m.XA[p];p == m.Yt && (m.Yt=c(m));k.timeout();},l));m.XA[p]=function(q){clearTimeout(r);q?setTimeout(function(){k.result(void 0);},0):(m.iU=p,setTimeout(function(){k.result(p);},0));};m.Yt || (m.Yt=p);});};h.prototype.unlock=function(l){var k;if(l == this.iU)this.iU=null;else {if(!this.bU[l])throw new e.default("There is no reader or writer with ticket number " + l + ".");delete this.bU[l];}if(this.Yt)0 < Object.keys(this.bU).length || (l=this.XA[this.Yt],delete this.XA[this.Yt],this.Yt=c(this),l.call(this,!1));else {for(l=this.qy;0 < Object.keys(this.$v).length;l=d(l))if(this.$v[l]){k=this.$v[l];delete this.$v[l];k.call(this,!1);}this.qy=0;}};return h;})();b.WBa=a;},81214:function(t,b,a){var c,g,f;function d(e){return e == c.default.Le?1:e + 1;}function n(e){if(0 === Object.keys(e.Ol).length)return 0;for(var h=d(e.uh);!e.Ol[h];)h=d(h);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.bbb=void 0;t=a(22970);c=t.__importDefault(a(51411));g=t.__importDefault(a(79804));f=t.__importDefault(a(10690));a=(function(){function e(h){this.KXb=this.PT=h;this.Ol={};this.p3=this.uh=0;}e.prototype.cancel=function(h){this.Ol[h] && (this.Ol[h].call(this,!1),delete this.Ol[h],h == this.uh && (this.uh=n(this)));};e.prototype.Uia=function(){for(;0 !== this.uh;)this.cancel(this.uh);};e.prototype.wait=function(h,l){var k,m;k=this;if(0 < this.PT)return (--this.PT,setTimeout(function(){l.result(!0);},0),0);m=d(this.p3);this.p3=m;g.default(l,function(){var p;-1 != h && (p=setTimeout(function(){delete k.Ol[m];m == k.uh && (k.uh=n(k));l.timeout();},h));k.Ol[m]=function(r){clearTimeout(p);if(r){if(0 >= k.PT){setTimeout(function(){l.error(new f.default("Semaphore waiter signaled without any available resources."));},0);return;}--k.PT;}setTimeout(function(){l.result(r);},0);};k.uh || (k.uh=m);});return m;};e.prototype.signal=function(){var h;if(this.PT == this.KXb)throw new f.default("Semaphore signaled despite all resources being already available.");++this.PT;if(this.uh){h=this.Ol[this.uh];delete this.Ol[this.uh];this.uh=n(this);h.call(this,!0);}};return e;})();b.bbb=a;},25137:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.ET=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));c=t.__importDefault(a(1966));g=t.__importDefault(a(36114));f=a(32260);a=(function(){function e(){this.nr={};this.tV={};this.Jx={};this.e$={};this.D_={};this.hY={};this.C_={};}e.prototype.lba=function(h,l){var k;if(l){k=h.Ih();this.nr[k]=h;this.tV[k]=l;}else this.HDb(h);};e.prototype.BB=function(){var h,l,k;h=null;for(l in this.nr){k=this.nr[l];if(!h || k.Poc(h))h=k;}return h;};e.prototype.gjc=function(h){var l;h=h.Bf;l=void 0 !== this.e$[h]?this.e$[h]:0;if(0 > l || l > d.default.Le)throw new n.default("Non-replayable ID " + l + " is outside the valid range.");l=l == d.default.Le?0:l + 1;return this.e$[h]=l;};e.prototype.Sy=function(h){return this.tV[h.Ih()];};e.prototype.HDb=function(h){var l,k,m,p,r;l=this;k=h.Ih();if(this.nr[k]){m=h.Bf;for(p in this.nr){r=this.nr[p];if(!r.equals(h) && r.Bf == m){delete this.nr[k];delete this.tV[k];return;}}Object.keys(this.Jx).forEach(function(q){q=l.Jx[q];q.fh(h) && l.qaa(q);});try{this.xra(null,h,null);}catch(q){if(f.pd(q))throw new n.default("Unexpected exception while removing master token bound service tokens.",q);throw q;}delete this.e$[m];delete this.nr[k];delete this.tV[k];}};e.prototype.r5b=function(){[this.nr,this.tV,this.e$,this.Jx,this.C_,this.hY].forEach(function(h){for(var l in h)delete h[l];});};e.prototype.Kha=function(h,l){var k,m;k=!1;for(m in this.nr)if(l.fh(this.nr[m])){k=!0;break;}if(!k)throw new c.default(g.default.wVb,"uit mtserialnumber " + l.vj);this.Jx[h]=l;};e.prototype.Fw=function(h){return this.Jx[h];};e.prototype.qaa=function(h){var l,k,m,p;l=this;k=null;for(m in this.nr){p=this.nr[m];if(h.fh(p)){k=p;break;}}Object.keys(this.Jx).forEach(function(r){if(l.Jx[r].equals(h)){try{l.xra(null,k,h);}catch(q){if(f.pd(q))throw new n.default("Unexpected exception while removing user ID token bound service tokens.",q);throw q;}delete l.Jx[r];}});};e.prototype.Gha=function(h){var l;l=this;h.forEach(function(k){var m,p;if(k.Pw()){m=!1;for(p in l.nr)if(k.fh(l.nr[p])){m=!0;break;}if(!m)throw new c.default(g.default.FUb,"st mtserialnumber " + k.vj);}if(k.Su()){m=!1;for(var r in l.Jx)if(k.fh(l.Jx[r])){m=!0;break;}if(!m)throw new c.default(g.default.HUb,"st uitserialnumber " + k.Fx);}});h.forEach(function(k){var m;if(k.upc())l.D_[k.Ih()]=k;else {if(k.Pw()){m=l.hY[k.vj];m || (m={});m[k.Ih()]=k;l.hY[k.vj]=m;}k.Su() && ((m=l.C_[k.Fx]) || (m={}),m[k.Ih()]=k,l.C_[k.Fx]=m);}});};e.prototype.VI=function(h,l){var k,m,p;if(l){if(!h)throw new c.default(g.default.xVb);if(!l.fh(h))throw new c.default(g.default.oDa,"uit mtserialnumber " + l.vj + "; mt " + h.Bf);}k={};for(m in this.D_){p=this.D_[m];k[p.Ih()]=p;}if(h && (m=this.hY[h.Bf]))for(var r in m)(p=m[r],p.Su() || (k[r]=p));if(l && (l=this.C_[l.Bf]))for(var q in l)(r=l[q],r.fh(h) && (k[q]=r));h=[];for(var u in k)h.push(k[u]);return h;};e.prototype.xra=function(h,l,k){var m,p,r;m=this;if(k && l && !k.fh(l))throw new c.default(g.default.oDa,"uit mtserialnumber " + k.vj + "; mt " + l.Bf);!h || l || k || Object.keys(this.D_).forEach(function(q){m.D_[q].name == h && delete m.D_[q];});l && !k && (p=this.hY[l.Bf]) && (Object.keys(p).forEach(function(q){var u;u=p[q];h && u.name != h || delete p[q];}),this.hY[l.Bf]=p);k && (r=this.C_[k.Bf]) && (l=Object.keys(r),l.forEach(function(q){var u;u=r[q];h && u.name != h || delete r[q];}),this.C_[k.Bf]=r);};return e;})();b.ET=a;},69193:function(t,b){var d;function a(n){if(!n)throw new TypeError("Text encoding implementation cannot be null.");d=n;}Object.defineProperty(b,"__esModule",{value:!0});b.HA=b.RWa=b.Vbb=b.wA=void 0;b.wA={KD:"utf-8",hVc:"utf-16"};b.Vbb=(function(){return function(){};})();b.RWa=a;b.HA={RWa:a,de:function(n,c){void 0 === c && (c=b.wA.KD);return d.de(n,c);},gd:function(n,c){void 0 === c && (c=b.wA.KD);return d.gd(n,c);}};},14348:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Yfa=void 0;d=a(22970);n=a(69193);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.de=function(f,e){if(!e || e === n.wA.KD){e=0;for(var h,l=f.length,k="";e < l;){h=f[e++];if(h & 128)if(192 === (h & 224))h=((h & 31) << 6) + (f[e++] & 63);else if(224 === (h & 240))h=((h & 15) << 12) + ((f[e++] & 63) << 6) + (f[e++] & 63);else throw Error("unsupported character");k+=String.fromCharCode(h);}return k;}throw Error("unsupported encoding");};g.prototype.gd=function(f,e){var h,l,k,m;if(!e || e === n.wA.KD){e=f.length;h=0;k=0;for(l=e;l--;){m=f.charCodeAt(l);128 > m?h++:h=2048 > m?h + 2:h + 3;}h=new Uint8Array(h);for(l=0;l < e;l++)(m=f.charCodeAt(l),128 > m?h[k++]=m:(2048 > m?h[k++]=192 | m >>> 6:(h[k++]=224 | m >>> 12,h[k++]=128 | m >>> 6 & 63),h[k++]=128 | m & 63));return h;}throw Error("unsupported encoding");};return g;})(n.Vbb);b.Yfa=t;},62807:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.gdb=void 0;d=a(22970);n=a(41294);c=a(75513);g=a(14348);f=a(51411);t=(function(e){function h(){var l,k,m,p;l=e.call(this) || this;k=new n.b1a();m={};m[f.VG.qya]=new c.V6a();p=new g.Yfa();l.dWb=k;l.qWb=m;l.VYb=p;return l;}d.__extends(h,e);h.prototype.$Ma=function(){return null;};h.prototype.cOa=function(){return null;};return h;})(a(80824).Mza);b.gdb=t;},69452:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;d=a(76113);n=a(69808);c=a(48668);g=a(99939);f=a(97911);e=a(51832);b=a(67286);h=a(62680);l=a(26302);k=h("String.prototype.charAt");m=b("%Array.prototype.indexOf%");p=b("%Math.max%");t.exports=function(r){var q,u,v;q=1 < arguments.length?d(arguments[1]):0;if(m && !f(r) && e(q) && "undefined" !== typeof r)return -1 < m.apply(this,arguments);u=c(this);v=n(u.length);if(0 === v)return !1;for(q=0 <= q?q:p(0,v + q);q < v;){if(g(r,l(u)?k(u,q):u[q]))return !0;q+=1;}return !1;};},44878:function(t,b,a){var d;d=a(69452);t.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:d;};},26860:function(t,b,a){var d,n;d=a(14926);n=a(44878);t.exports=function(){var c;c=n();d(Array.prototype,{includes:c},{includes:function(){return Array.prototype.includes !== c;}});return c;};},17187:function(t){function b(){this.dc=this.dc || ({});this.py=this.py || void 0;}function a(n){return "function" === typeof n;}function d(n){return "object" === typeof n && null !== n;}t.exports=b;b.EventEmitter=b;b.prototype.dc=void 0;b.prototype.py=void 0;b.OJa=10;b.prototype.setMaxListeners=function(n){if("number" !== typeof n || 0 > n || isNaN(n))throw TypeError("n must be a positive number");this.py=n;return this;};b.prototype.emit=function(n){var c,g,f,e;this.dc || (this.dc={});if("error" === n && (!this.dc.error || d(this.dc.error) && !this.dc.error.length)){g=arguments[1];if(g instanceof Error)throw g;f=Error('Uncaught, unspecified "error" event. (' + g + ")");f.context=g;throw f;}f=this.dc[n];if(void 0 === f)return !1;if(a(f))switch(arguments.length){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:(g=Array.prototype.slice.call(arguments,1),f.apply(this,g));}else if(d(f)){g=Array.prototype.slice.call(arguments,1);e=f.slice();f=e.length;for(c=0;c < f;c++)e[c].apply(this,g);}return !0;};b.prototype.addListener=function(n,c){if(!a(c))throw TypeError("listener must be a function");this.dc || (this.dc={});this.dc.Kuc && this.emit("newListener",n,a(c.listener)?c.listener:c);this.dc[n]?d(this.dc[n])?this.dc[n].push(c):this.dc[n]=[this.dc[n],c]:this.dc[n]=c;d(this.dc[n]) && !this.dc[n].c_a && (c=void 0 === this.py?b.OJa:this.py) && 0 < c && this.dc[n].length > c && (this.dc[n].c_a=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.dc[n].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(n,c){var f;function g(){this.removeListener(n,g);f || (f=!0,c.apply(this,arguments));}if(!a(c))throw TypeError("listener must be a function");f=!1;g.listener=c;this.on(n,g);return this;};b.prototype.removeListener=function(n,c){var g,f,e;if(!a(c))throw TypeError("listener must be a function");if(!this.dc || !this.dc[n])return this;g=this.dc[n];f=g.length;e=-1;if(g === c || a(g.listener) && g.listener === c)(delete this.dc[n],this.dc.removeListener && this.emit("removeListener",n,c));else if(d(g)){for(;0 < f--;)if(g[f] === c || g[f].listener && g[f].listener === c){e=f;break;}if(0 > e)return this;1 === g.length?(g.length=0,delete this.dc[n]):g.splice(e,1);this.dc.removeListener && this.emit("removeListener",n,c);}return this;};b.prototype.removeAllListeners=function(n){var c;if(!this.dc)return this;if(!this.dc.removeListener)return (0 === arguments.length?this.dc={}:this.dc[n] && delete this.dc[n],this);if(0 === arguments.length){for(c in this.dc)"removeListener" !== c && this.removeAllListeners(c);this.removeAllListeners("removeListener");this.dc={};return this;}c=this.dc[n];if(a(c))this.removeListener(n,c);else if(c)for(;c.length;)this.removeListener(n,c[c.length - 1]);delete this.dc[n];return this;};b.prototype.listeners=function(n){return this.dc && this.dc[n]?a(this.dc[n])?[this.dc[n]]:this.dc[n].slice():[];};b.prototype.listenerCount=function(n){if(this.dc){n=this.dc[n];if(a(n))return 1;if(n)return n.length;}return 0;};b.listenerCount=function(n,c){return n.listenerCount(c);};},70834:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.buffer=d;this.position=0;}a.prototype.seek=function(d){this.position=d;};a.prototype.skip=function(d){this.position+=d;};a.prototype.r7=function(){return this.buffer.length - this.position;};a.prototype.Kla=function(){return this.buffer.length;};a.prototype.kt=function(){return this.buffer[this.position++];};a.prototype.pm=function(d){var n;n=this.position;this.position+=d;return this.tpc(this.buffer)?this.buffer.subarray(n,this.position):this.buffer.slice(n,this.position);};a.prototype.tpc=function(d){return void 0 !== d.subarray;};a.prototype.ov=function(d){for(var n=0;d--;)n=256 * n + this.buffer[this.position++];return n;};a.prototype.cVa=function(d){for(var n="";d--;)n+=String.fromCharCode(this.buffer[this.position++]);return n;};a.prototype.Wi=function(){return this.ov(2);};a.prototype.pv=function(){return this.ov(4);};a.prototype.fZ=function(){return this.ov(8);};a.prototype.xC=function(d){for(var n,c="";d--;)(n=this.kt(),c+=("0123456789ABCDEF")[n >>> 4] + ("0123456789ABCDEF")[n & 15]);return c;};a.prototype.dVa=function(d){for(var n=0,c=0;c < d;c++)n+=this.kt() << (c << 3);return n;};a.prototype.eZ=function(){return this.dVa(4);};a.prototype.Mx=function(d){this.buffer[this.position++]=d;};a.prototype.ZLb=function(d,n){this.position+=n;for(var c=1;c <= n;c++)(this.buffer[this.position - c]=d & 255,d=Math.floor(d / 256));};a.prototype.h_a=function(d){for(var n=d.length,c=0;c < n;c++)this.buffer[this.position++]=d[c];};a.prototype.R_=function(d,n){this.h_a(d.pm(n));};a.prototype.XLb=function(d){d=new a(d);for(var n,c;;)if((n=d.r7(),c=n >>> 14))(c=Math.min(4,c),this.Mx(192 | c),this.R_(d,16384 * c));else {128 > n?this.Mx(n):this.ZLb(n | 32768,2);this.R_(d,n);break;}};a.prototype.aDb=function(){var c;for(var d=[],n=new a(d);;){c=this.kt();if(c & 128){if(128 == (c & 192))(c&=63,c=(c << 8) + this.kt(),n.R_(this,c));else if((c&=63,0 < c && 4 >= c)){n.R_(this,16384 * c);continue;}else throw Error("bad asn1");}else n.R_(this,c);break;}return new Uint8Array(d);};return a;})();b.Pda=t;},28660:function(t,b,a){var d;(function(n){var D,F,H,E,G,K,N,I,L;function c(O,J,Q){var P;P=L.get(O);if(!P){if(!Q)return;P=new N();L.set(O,P);}O=P.get(J);if(!O){if(!Q)return;O=new N();P.set(J,O);}return O;}function g(O,J,Q){if(f(O,J,Q))return !0;J=u(J);return null !== J?g(O,J,Q):!1;}function f(O,J,Q){J=c(J,Q,!1);return void 0 !== J && !!J.has(O);}function e(O,J,Q){if(f(O,J,Q))return h(O,J,Q);J=u(J);return null !== J?e(O,J,Q):void 0;}function h(O,J,Q){J=c(J,Q,!1);return void 0 === J?void 0:J.get(O);}function l(O,J){var Q,S;Q=k(O,J);O=u(O);if(null === O)return Q;J=l(O,J);if(0 >= J.length)return Q;if(0 >= Q.length)return J;O=new I();for(var P=0;P < Q.length;P++){S=Q[P];O.add(S);}for(Q=0;Q < J.length;Q++)(S=J[Q],O.add(S));return x(O);}function k(O,J){var Q;O=c(O,J,!1);Q=[];O && w(O,function(P,S){return Q.push(S);});return Q;}function m(O){return void 0 === O;}function p(O){return Array.isArray?Array.isArray(O):O instanceof Array || "[object Array]" === Object.prototype.toString.call(O);}function r(O){return "object" === typeof O?null !== O:"function" === typeof O;}function q(O){return "symbol" === typeof O?O:String(O);}function u(O){var J,Q;J=Object.getPrototypeOf(O);if("function" !== typeof O || O === K || J !== K)return J;Q=O.prototype;Q=Q && Object.getPrototypeOf(Q);if(null == Q || Q === Object.prototype)return J;Q=Q.constructor;return "function" !== typeof Q || Q === O?J:Q;}function v(O){O=O.next();return O.done?void 0:O;}function w(O,J,Q){var P,S,Y;P=O.entries;if("function" === typeof P){P=P.call(O);try{for(;S=v(P);){Y=S.value;J.call(Q,Y[1],Y[0],O);}}finally{S && (O=P["return"]) && O.call(P);}}else (P=O.forEach,"function" === typeof P && P.call(O,J,Q));}function x(O){var J;J=[];w(O,function(Q,P){J.push(P);});return J;}function y(O,J,Q){var P;P=0;return {next:function(){var S;if((O || J) && P < (O || J).length){S=P++;switch(Q){case "key":return {value:O[S],done:!1};case "value":return {value:J[S],done:!1};case "key+value":return {value:[O[S],J[S]],done:!1};}}J=O=void 0;return {value:void 0,done:!0};},"throw":function(S){if(O || J)J=O=void 0;throw S;},"return":function(S){if(O || J)J=O=void 0;return {value:S,done:!0};}};}function A(){var O;O={};return (function(){function J(){this.rg=[];this.ii=[];this.KA=O;this.gy=-2;}Object.defineProperty(J.prototype,"size",{get:function(){return this.rg.length;},enumerable:!0,configurable:!0});J.prototype.has=function(Q){return 0 <= this.RD(Q,!1);};J.prototype.get=function(Q){Q=this.RD(Q,!1);return 0 <= Q?this.ii[Q]:void 0;};J.prototype.set=function(Q,P){Q=this.RD(Q,!0);this.ii[Q]=P;return this;};J.prototype.delete=function(Q){var P;P=this.RD(Q,!1);if(0 <= P){Q=this.rg.length;for(P+=1;P < Q;P++)(this.rg[P - 1]=this.rg[P],this.ii[P - 1]=this.ii[P]);this.rg.length--;this.ii.length--;this.KA=O;this.gy=-2;return !0;}return !1;};J.prototype.clear=function(){this.rg.length=0;this.ii.length=0;this.KA=O;this.gy=-2;};J.prototype.keys=function(){return y(this.rg,void 0,"key");};J.prototype.values=function(){return y(void 0,this.ii,"value");};J.prototype.entries=function(){return y(this.rg,this.ii,"key+value");};J.prototype.RD=function(Q,P){var S;if(this.KA === Q)return this.gy;S=this.rg.indexOf(Q);0 > S && P && (S=this.rg.length,this.rg.push(Q),this.ii.push(void 0));return (this.KA=Q,this.gy=S);};return J;})();}function z(){return (function(){function O(){this.Fg=new N();}Object.defineProperty(O.prototype,"size",{get:function(){return this.Fg.size;},enumerable:!0,configurable:!0});O.prototype.has=function(J){return this.Fg.has(J);};O.prototype.add=function(J){return (this.Fg.set(J,J),this);};O.prototype.delete=function(J){return this.Fg.delete(J);};O.prototype.clear=function(){this.Fg.clear();};O.prototype.keys=function(){return this.Fg.keys();};O.prototype.values=function(){return this.Fg.values();};O.prototype.entries=function(){return this.Fg.entries();};return O;})();}function B(){var P,S;function O(Y,X){for(var T=0;T < X;++T)Y[T]=255 * Math.random() | 0;return Y;}function J(){var Y,U;do {Y="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):O(new Uint8Array(16),16):O(Array(16),16);Y[6]=Y[6] & 79 | 64;Y[8]=Y[8] & 191 | 128;for(var X="",T=0;16 > T;++T){U=Y[T];if(4 === T || 6 === T || 8 === T)X+="-";16 > U && (X+="0");X+=U.toString(16).toLowerCase();}Y="@@WeakMap@@" + X;}while(G.has(P,Y));P[Y]=!0;return Y;}function Q(Y,X){if(!D.call(Y,S)){if(!X)return;Object.defineProperty(Y,S,{value:E()});}return Y[S];}P=E();S=J();return (function(){function Y(){this.ny=J();}Y.prototype.has=function(X){X=Q(X,!1);return void 0 !== X?G.has(X,this.ny):!1;};Y.prototype.get=function(X){X=Q(X,!1);return void 0 !== X?G.get(X,this.ny):void 0;};Y.prototype.set=function(X,T){Q(X,!0)[this.ny]=T;return this;};Y.prototype.delete=function(X){X=Q(X,!1);return void 0 !== X?delete X[this.ny]:!1;};Y.prototype.clear=function(){this.ny=J();};return Y;})();}function C(O){O.yVc=1;delete O.zVc;return O;}D=Object.prototype.hasOwnProperty;F="function" === typeof Object.create;H=(function(){var J;function O(){}J={};O.prototype=J;return new O().__proto__ === J;})();E=F?function(){return C(Object.create(null));}:H?function(){return C({__proto__:null});}:function(){return C({});};(function(O){var J;J=!F && !H;O.has=J?function(Q,P){return D.call(Q,P);}:function(Q,P){return (P in Q);};O.get=J?function(Q,P){return D.call(Q,P)?Q[P]:void 0;}:function(Q,P){return Q[P];};})(G || (G={}));K=Object.getPrototypeOf(Function);N="function" === typeof Map?Map:A();I="function" === typeof Set?Set:z();L=new ("function" === typeof WeakMap?WeakMap:B())();n.tI=function(O,J,Q,P){var Y;if(m(P)){if(m(Q)){if(!p(O))throw new TypeError();if("function" !== typeof J)throw new TypeError();for(Q=O.length - 1;0 <= Q;--Q)if((P=(0,O[Q])(J),!m(P))){if("function" !== typeof P)throw new TypeError();J=P;}return J;}if(!p(O))throw new TypeError();if(!r(J))throw new TypeError();Q=q(Q);for(P=O.length - 1;0 <= P;--P)(0,O[P])(J,Q);}else {if(!p(O))throw new TypeError();if(!r(J))throw new TypeError();if(m(Q))throw new TypeError();if(!r(P))throw new TypeError();Q=q(Q);for(var S=O.length - 1;0 <= S;--S){Y=(0,O[S])(J,Q,P);if(!m(Y)){if(!r(Y))throw new TypeError();P=Y;}}return P;}};n.Kd=function(O,J){return function(Q,P){if(m(P)){if("function" !== typeof Q)throw new TypeError();c(Q,void 0,!0).set(O,J);}else {if(!r(Q))throw new TypeError();P=q(P);c(Q,P,!0).set(O,J);}};};n.Mja=function(O,J,Q,P){if(!r(Q))throw new TypeError();m(P) || (P=q(P));c(Q,P,!0).set(O,J);};n.Zlc=function(O,J){var Q;if(!r(J))throw new TypeError();m(Q) || (Q=q(Q));return g(O,J,Q);};n.rOa=function(O,J){var Q;if(!r(J))throw new TypeError();m(Q) || (Q=q(Q));return f(O,J,Q);};n.getMetadata=function(O,J,Q){if(!r(J))throw new TypeError();m(Q) || (Q=q(Q));return e(O,J,Q);};n.erb=function(O,J,Q){if(!r(J))throw new TypeError();m(Q) || (Q=q(Q));return h(O,J,Q);};n.GZc=function(O,J){if(!r(O))throw new TypeError();m(J) || (J=q(J));return l(O,J);};n.LZc=function(O,J){if(!r(O))throw new TypeError();m(J) || (J=q(J));return k(O,J);};n.QXc=function(O,J,Q){var P;if(!r(J))throw new TypeError();m(Q) || (Q=q(Q));P=c(J,Q,!1);if(m(P) || !P.delete(O))return !1;if(0 < P.size)return !0;O=L.get(J);O.delete(Q);if(0 < O.size)return !0;L.delete(J);return !0;};(function(O){if("undefined" !== typeof O.Reflect){if(O.Reflect !== n)for(var J in n)D.call(n,J) && (O.Reflect[J]=n[J]);}else O.Reflect=n;})("undefined" !== typeof Ba?Ba:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.wW?a.wW:Function("return this;")());})(d || (d={}));},26388:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.XP=b.kda=b.v=void 0;b.v={X:0,V:1,Aa:2,Im:3};b.kda={X:0,V:1};b.XP=(a={},a[b.v.X]="audio",a[b.v.V]="video",a[b.v.Aa]="subtitle",a[b.v.Im]="mediaEvents",a);},84915:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},66164:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(84915),b);t.__exportStar(a(83403),b);t.__exportStar(a(93926),b);t.__exportStar(a(77985),b);t.__exportStar(a(67111),b);t.__exportStar(a(92884),b);t.__exportStar(a(13779),b);},83403:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},93926:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},77985:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},57421:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},3775:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},67111:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(3775),b);t.__exportStar(a(49971),b);t.__exportStar(a(57421),b);t.__exportStar(a(62103),b);t.__exportStar(a(92473),b);},62103:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},49971:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},92473:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},52991:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.x8a=void 0;t=(function(){function a(){}a.prototype.na=function(){var d;d=process.q_c();return 1E3 * d[0] + d[1] / 1E6;};a.prototype.Qoa=function(d){return d - this.na() + this.now();};a.prototype.Apa=function(d){return d - this.now() + this.na();};a.prototype.now=function(){return Date.now();};return a;})();b.x8a=t;},92884:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.platform=void 0;t=a(52991);b.platform={name:"default-node",POa:function(d){for(var n in d)d.hasOwnProperty(n) && (this[n]=d[n]);},reset:function(){},time:new t.x8a(),sI:function(d){return new TextDecoder("utf-8").decode(d);}};},13779:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},89707:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(c,g){if(!c)throw new n(g || "Assertion failed");};d=a(22970);n=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);return g;})(Error);},85017:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sL=b.J6=void 0;b.YLa=function(a,d){return a.ia / a.P === d.ia / d.P;};b.J6={23976:{ia:24E3,P:1001},24:{ia:24E3,P:1E3},25:{ia:25E3,P:1E3},2997:{ia:3E4,P:1001},30:{ia:3E4,P:1E3},50:{ia:5E4,P:1E3},5994:{ia:6E4,P:1001},60:{ia:6E4,P:1E3}};b.sL={h264:["23976","24","25","2997","30"],h264hpl:["23976","24","25","2997","30"],"hevc-main10":("23976 24 25 2997 30 50 5994 60").split(" ")};},80463:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA",Ya:!0,$a:[176,590],size:610},{data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70",Ya:!0,$a:[44],size:6252},{ia:1536,P:48E3},{ia:12288,P:48E3},"ddplus-5.1-dash",192,"5.1"];},73502:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(80463);b.ga=[{data:"hMPLAIhMIMAEhMgBDogGYGhMJ3",Ya:!0,$a:[176,590],size:610,hb:t.ga[0]},{data:"sNY4AEsNYpAgsNYGD/htYKcD+B9lhtQChtIBhs4ChswFB9hpgJgAwThsIJgAwThuwJgAwTh3AJgAwTh5oKgQAVh2QCB3DNg0oAgCAAhEYCgAQIhEIBBAgDIdBfA+gDAMhlQEAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LhU4EgDIcgXIxgDIVB2gAYBAAAdDzhWIAgmgAgDgKgAQAiN4EgDIbgXIygDIVCyhPQCDvCagjQADzDmgNgMhpYBh3oBgDIbgXIxgDIWCQiBoCB8gNYAhUQAh6QCgAQIiUwEgDIcgXIxgDIVDsiV4CA7DmgjQAhWQAg2ILDbjNwEgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x",Ya:!0,$a:[44],size:8300,hb:t.ga[1]},{ia:1536,P:48E3},{ia:12288,P:48E3},"ddplus-5.1hq-dash",256,"5.1"];},86252:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(80463).ga[0];a=a(73502);b.ga=[{data:"hMPLAMhMIMg8oBAFDcgGYCgEQChMJ3",Ya:!0,$a:[176,590],size:610,hb:t},{data:"wNY4gAYAwNYoAwwNYFACiNYLcEEB+6iNYxiHgviRwwicAwiWIwgYwSgnwCA2gGwCg14BdvHjx4DxDjDHCPgAwDgB4AgCYAhBoBhaABiM4EAABvgGYBg6oCgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBhy4CgIwIgAwAcbbbfPhUQBgEYEiFQCADBrgP4BhFICgEgbgSQBhagCDegSQJB2gB4AgCYAgEYGhs4CAADZgXwCgJ4SAegB4AgV4AA1gFQGhhgCAGgd4BDNhSwBC8gJ4IDGgJ4PgZwAhiADC3gcQIgAwAgB4AgCYAgJAHhZ4BglwTgEgPA3gsQBhgoCgSQJA3glwQiE4Cgv3/gvz8gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q",Ya:!0,$a:[44],size:12396,hb:a.ga[1]},{ia:1536,P:48E3},{ia:12288,P:48E3},"ddplus-5.1hq-dash",384,"5.1"];},27443:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(80463).ga[0];a=a(86252);b.ga=[{data:"hMPLAOhMIMAHgEgBDWgGYChMJ7",Ya:!0,$a:[176,590],size:610,hb:t},{data:"4NY4AH4NYpA44NYFADB/jNYLAoAfDMjNQAjNIAjM4AjMwFiuICDfjAwvjNozjBozjOgzjbY0jPYIAbhcwChOYEZ3gAAAhiYRhKwEgFgIA7a7C7haADCNgCgAhboAhLYIgAgAhxgDgFQCh2ADgFgqAdbdDdhvQDhkYMhWwEhpQAgFQDhbYCgFgMh0AMgFgFDwgcgCgRZwgFgcCObuDuDvidgQiF4EiQAAgFQDiKgCgFgMC7gFgSB4gcgCgRZwgFgdhJ4HiUYQisoEABC+gtIEgxICgFgLDdgFgSC8itoDgRZvgFgdhJwGC7itIDgCgAh+YAgQYJC1Cgi6oCjDgCi/IEgFgLBugFgSDeijwDgRZvgFgdhJwGDdju4RjXQEBvju4Cjl4EgFgLjOoNgFgFi5ADgRZvgFgdhJwGDuj4IRkQYEA3j4ICjvIEgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m",Ya:!0,$a:[44],size:14444,hb:a.ga[1]},{ia:1536,P:48E3},{ia:12288,P:48E3},"ddplus-5.1hq-dash",448,"5.1"];},75452:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(86252).ga[0];a=a(27443);b.ga=[{data:"hMPLAUhMIMAKgAQAAJgYQCAChMJ7",Ya:!0,$a:[176,590],size:610,hb:t},{data:"8NY4AK8NYpBQ8NYFAED/jtYCgAAChQYBcAjgYYBhCGjQwzjfY+juA+j8o9jwo+gfwLhdACABhWwGgrgEgAAQADhkwBhWQChkYFgIYMgEACA7jcoFC4hFQWiJgBj4oDj7wEBfgQ4LhWgCAHiO4GgIAWAOhewADthhICiuAFgZYLjt4DiyIChjgCDggIAVABgb4BgIAChxwFghAMgEACAdjYgFDcgQQWgcABhxYDj3oEhG4MgnICADjFoEiLgGhxYWAHgcgAkGoBiqoHgpYLD4glYDki4FBwgRAWgcoBiCYDh/4EhQAMglYDjVIGgIAWgcwBibQDj0QEDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/k/xsgABrAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c",Ya:!0,$a:[44],size:20588,hb:a.ga[1]},{ia:1536,P:48E3},{ia:12288,P:48E3},"ddplus-5.1hq-dash",640,"5.1"];},46871:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(54468);b.ga=[{data:"hZniCAhZjm",Ya:!0,$a:[176,599],size:717,hb:t.ga[0]},{data:"gXy9",Ya:!0,$a:[44],size:191,hb:t.ga[1]},{ia:1024,P:24E3},{ia:7168,P:24E3},"heaac-2hq-dash",128,"2.0"];},54468:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A3AuAyA1AuAxEw",Ya:!0,$a:[176,599],size:717},{data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A3AuAyA0AuAxAwAyAABCAgAIDBAYA4AhAQAEBgCMAcgAoc",Ya:!0,$a:[44],size:191},{ia:1024,P:24E3},{ia:7168,P:24E3},"heaac-2-dash",64,"2.0"];},39532:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(54468);b.ga=[{data:"hZniBghZjm",Ya:!0,$a:[176,599],size:717,hb:t.ga[0]},{data:"gXy9",Ya:!0,$a:[44],size:191,hb:t.ga[1]},{ia:1024,P:24E3},{ia:7168,P:24E3},"heaac-2-dash",96,"2.0"];},95426:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(47718);b.ga=[{data:"hkvRACBagAQADzhNoCDAhkpAgEAAhksD",Ya:!0,$a:[176,661],size:806,hb:t.ga[0]},{data:"sBABDEsN4VCssN4FAcsN4FAqsN4LsNYUB4sNYEACsNYGDMgCwEACBagAYBgA4CgAZVAwBisZZDgEAAsZYcd/gHxSsZybgAFVtEoGe/wD4ppk71gAD7tkoGg//2tEoGg//2ukoGh///g//1pEoGg//2wEoGg//2wkoGg//2xEoGg//2xkoGg//2xEoGg//2wEoGh///g//1zkoGg//20EoGg//20koGk///g//11koGs///g//12koGg//23EoGg//23koGg//24EoGg//2B5",Ya:!0,$a:[44],size:12582,hb:t.ga[1]},{ia:2048,P:48E3},{ia:12288,P:48E3},"xheaac-dash",192,"2.0"];},70349:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADAKBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABfhdHJhBrgBYBBcB0BrgOYDAHgLoZgCYDgCgDgO4rcBfW1kBpBhgf4CgA4Aga4UBVDEgBgDAlgDoABsBygDIGgjwAB1BugFIKgB4FcBMG1pBuBmgBABAQgnIAgJgLAkgMYAgC4DccZHJlgA4CgSwGcMdXJsAggBYFf0c3RiBsgA4BCogA4ABzgHYGgC4CeYbXA0gUACgZQMgjwAAQgvQJB0BlgGQABzgBACADgLoCcEXkAVgFQAA4gBAACFCogbACcFT/lGBDBCA8DADTDJEggBwAcSS2aBACAEAGALBcCIACAJACAIAJAIAAAJD8ABCAABAQgAQAdfwBgMAoAZgB4AeB/yAGACCGAIBCgHAAgQoABggGAAcFFUKegSwAeuQAQFgOYBcP8ARWDLAAAGABgzgBgcYBF0gOYDgAAFgB4BBzBjgB4JAUgB4BB6gxQNgEYBBjBvgB4JA4hJgABlB4gC4CBtBlgl4GBggAgCAgg/AAgC4DgeYGgAYBgTAAggIJd9dWR0giYCB1gG4AgA4DgAACAhg0AKg6gBhHQAFwgp4CgAAHBIBpBsgPwAhAACCpB0hZQAgPgChbIAgHgDgKQDBGgFwAg4QAdob2ZlByAgFJdTIE1QBFBHAtAyAvA0AvBEAgBBgNYAdpbyBFBugXAABkgDgB",Ya:!0,$a:[176,665],size:810},{data:"IACUBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBd8dHJhgC4CAcB0gC4CACAAAqgC4FgAYBAIgBIEgGYBgDYABkB0gGYFgAACBIgGYAB1BugAwAACAFgBYBAMgAYBCcgJwFA4gAgBCrgAYFCqgBYgcIlm1kBhB0DRC/DlDDBCA8DADTDJEggCQAcSS2aBACAEAGALBcCIACAJACAIAJgQIAcJ/AGAABAQgAQAdfwBgMAoAZgB4AeB/yAGACCGAIBCAAAggVgABggGAAcFFUKeBsAACuBAAEgRQAgXQAcP8ARWDLAEAAA5BAB7AkAAAbCVDAAMCbD2CiA8gNIBcPAMBAgTYAeC8AFgDAgBoBc9QLWyDZgaIAgD4WcYALblBwADAmD9CoCPgDIBcDwDAQgAoAdgvABYAwgAwACjCpZpgACEdVMAFtDKDgAjgVIACDDwgvQCBkBTBUa0gACQCngVQHBwhEwCALAiCaalgACRgqoOA0gqiWCwgqi5hVSYC5gqoOCZgqlBCqh/9SC+h/9TC1",Ya:!0,$a:[44],size:2346},{ia:2048,P:48E3},{ia:12288,P:48E3},"xheaac-dash",32,"2.0"];},72041:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(70349);b.ga=[{data:"hlIhALhlJxDihlJhB+hlJKAxhlI5D1hlIFCphlINCZhlIhB1hlIHBnhlICBfhlICD6gAQAAEgd4DAFBQhlIBBihlI2cEHXPzADBhCAAVDIgPYACggJYAcB/gCKDZBghlT6",Ya:!0,$a:[176,666],size:811,hb:t.ga[0]},{data:"klJlD6gAYBBVgAYFBWgBYgAQCsklICfUf+YDBiklI2cEHXPzADBhCAAVDIgVAAegAEABD+AACKDZBgklYABNklYCcCQIejDUAQgFAAgAAFADBGCAgF4BgAAADBB4hKoAAGgCYFBRkmoEgFIgkn4AewkCHoD1AEgRAAgEgGDRCgAYgjwBAAAwBegM4ADBgCgDBfDgAGhACYgACTCmhoAAdhIEPYD2ACAVhLIIALAlg4QACBZLgAE0gqlSBKgqgVCDhVM7hVVTh///gqrAhVVTiqlTh///gqnm",Ya:!0,$a:[44],size:4416,hb:t.ga[1]},{ia:2048,P:48E3},{ia:12288,P:48E3},"xheaac-dash",64,"2.0"];},47718:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(70349).ga[0];a=a(72041);b.ga=[{data:"hlIhAGhlJxDdhlJhB5hlJKAshlI5DwhlIFCkhlINCUhlIhBwhlIHBihlICBahlICgFoBB3hPQDAFBLhlIBAihlI2cEwArkAADABQgBoAcA/wBFBsCwhkpzAEhkqE",Ya:!0,$a:[176,661],size:806,hb:t},{data:"gogBBoon4VBQon4FAgon4FA6on4IoRAAgAwDooYUAYooYEAAooYCoLwAgAAABwgCwFAIoiYCfLP+VjAioiY3fACuQADABQgBoAcA/wBFBsCwgSQAAXocwAClCkojoAocwCDQgNQABooZICBObSgACUDbAwor4AhYgCC9DpZpgADtB0gf79Bogf79BAg//9Bagf79Bxgf79BGgf79Bpgf79B9gf79BTgf79B1g//9Bwgf79Bygf79Brif/9Bfmf/9Bjgf79B2gf79Bmgf79BJgf79B5",Ya:!0,$a:[44],size:6256,hb:a.ga[1]},{ia:2048,P:48E3},{ia:12288,P:48E3},"xheaac-dash",96,"2.0"];},43051:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Bhb=b.nLb=void 0;b.TLc=function(d){return {Sb:d[0],Na:d[1],Ea:d[2],duration:d[3],profile:d[4],bitrate:d[5],width:d[6],height:d[7],uTa:d[8],vTa:d[9]};};b.SLc=function(d){return {Sb:d[0],Na:d[1],Ea:d[2],duration:d[3],profile:d[4],bitrate:d[5],channels:d[6]};};b.nLb={padding:{"16:9":{h264:{23976:function(){return a(6350);},24:function(){return a(937);},25:function(){return a(6153);},2997:function(){return a(32477);},30:function(){return a(19034);}},h264hpl:{23976:function(){return a(98989);},24:function(){return a(5339);},25:function(){return a(95350);},2997:function(){return a(4029);},30:function(){return a(75034);}},"hevc-main10":{23976:function(){return a(56803);},24:function(){return a(51914);},25:function(){return a(44661);},2997:function(){return a(5066);},30:function(){return a(10124);},50:function(){return a(23259);},5994:function(){return a(33781);},60:function(){return a(98640);}}},"4:3":{h264:{23976:function(){return a(46977);},24:function(){return a(47976);},25:function(){return a(45185);},2997:function(){return a(5801);},30:function(){return a(26931);}},h264hpl:{23976:function(){return a(26776);},24:function(){return a(25378);},25:function(){return a(41470);},2997:function(){return a(6320);},30:function(){return a(59375);}},"hevc-main10":{23976:function(){return a(56E3);},24:function(){return a(21610);},25:function(){return a(96660);},2997:function(){return a(35455);},30:function(){return a(88354);},50:function(){return a(90090);},5994:function(){return a(35619);},60:function(){return a(13947);}}}}};b.Bhb={silence:{heaac:{64:function(){return a(54468);},96:function(){return a(39532);},128:function(){return a(46871);}},ddp:{192:function(){return a(80463);},256:function(){return a(73502);},384:function(){return a(86252);},448:function(){return a(27443);},640:function(){return a(75452);}},xheaac:{32:function(){return a(70349);},64:function(){return a(72041);},96:function(){return a(47718);},192:function(){return a(95426);}}}};},46977:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(6350);b.ga=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ya:!0,$a:[176,729],size:749,hb:t.ga[0]},{data:"h/v/h/v7",Ya:!0,$a:[44],size:1022,hb:t.ga[1]},{ia:1001,P:24E3},{ia:6006,P:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},47976:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(937);b.ga=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ya:!0,$a:[176,731],size:751,hb:t.ga[0]},{data:"h/v/h/v7",Ya:!0,$a:[44],size:1022,hb:t.ga[1]},{ia:1E3,P:24E3},{ia:6E3,P:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},45185:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(6153);b.ga=[{data:"hdzvgAgChd1ACAhLABhdwdhNQFhdyM",Ya:!0,$a:[176,731],size:751,hb:t.ga[0]},{data:"h7X/h7XY",Ya:!0,$a:[44],size:987,hb:t.ga[1]},{ia:1E3,P:25E3},{ia:5E3,P:25E3},"playready-h264mpl30-dash",64,320,240,1,1];},5801:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(32477);b.ga=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ya:!0,$a:[176,729],size:749,hb:t.ga[0]},{data:"h/v/h/v7",Ya:!0,$a:[44],size:1022,hb:t.ga[1]},{ia:1001,P:3E4},{ia:6006,P:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26931:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(19034);b.ga=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ya:!0,$a:[176,731],size:751,hb:t.ga[0]},{data:"h/v/h/v7",Ya:!0,$a:[44],size:1022,hb:t.ga[1]},{ia:1E3,P:3E4},{ia:6E3,P:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26776:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(98989);b.ga=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ya:!0,$a:[176,731],size:751,hb:t.ga[0]},{data:"h/v/h/v7",Ya:!0,$a:[44],size:1022,hb:t.ga[1]},{ia:1001,P:24E3},{ia:6006,P:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},25378:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(5339);b.ga=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"h/v/h/v7",Ya:!0,$a:[44],size:1022,hb:t.ga[1]},{ia:1E3,P:24E3},{ia:6E3,P:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},41470:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(95350);b.ga=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"h7X/h7XY",Ya:!0,$a:[44],size:987,hb:t.ga[1]},{ia:1E3,P:25E3},{ia:5E3,P:25E3},"playready-h264hpl30-dash",64,320,240,1,1];},6320:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(4029);b.ga=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ya:!0,$a:[176,731],size:751,hb:t.ga[0]},{data:"h/v/h/v7",Ya:!0,$a:[44],size:1022,hb:t.ga[1]},{ia:1001,P:3E4},{ia:6006,P:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},59375:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(75034);b.ga=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"h/v/h/v7",Ya:!0,$a:[44],size:1022,hb:t.ga[1]},{ia:1E3,P:3E4},{ia:6E3,P:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},56E3:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(56803);b.ga=[{data:"heH/heDu",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"hNMtDABahNM3",Ya:!0,$a:[44],size:618,hb:t.ga[1]},{ia:1001,P:24E3},{ia:6006,P:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},21610:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(51914);b.ga=[{data:"heH/heDu",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"hNktDABahNk6",Ya:!0,$a:[44],size:621,hb:t.ga[1]},{ia:1E3,P:24E3},{ia:6E3,P:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},96660:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(44661);b.ga=[{data:"heH/heDu",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"hHkgDABahHkX",Ya:!0,$a:[44],size:573,hb:t.ga[1]},{ia:1E3,P:25E3},{ia:5E3,P:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},35455:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(5066);b.ga=[{data:"heH/heDu",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"hNUtDABahNU4",Ya:!0,$a:[44],size:619,hb:t.ga[1]},{ia:1001,P:3E4},{ia:6006,P:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},88354:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(10124);b.ga=[{data:"heH/heDu",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"hNctDABahNc5",Ya:!0,$a:[44],size:620,hb:t.ga[1]},{ia:1E3,P:3E4},{ia:6E3,P:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},90090:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(23259);b.ga=[{data:"heH/heDu",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"hk9hDABahk/B",Ya:!0,$a:[44],size:808,hb:t.ga[1]},{ia:1E3,P:5E4},{ia:1E4,P:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},35619:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(33781);b.ga=[{data:"heH/heDu",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"iCWiDABaiCX/iCRq",Ya:!0,$a:[44],size:1043,hb:t.ga[1]},{ia:1001,P:6E4},{ia:15015,P:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},13947:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(98640);b.ga=[{data:"heH/heDu",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"iCmiDABaiCn/iChs",Ya:!0,$a:[44],size:1045,hb:t.ga[1]},{ia:1E3,P:6E4},{ia:15E3,P:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},6350:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",Ya:!0,$a:[176,729],size:749},{data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDggcjI3MjcgN2QwMjZlOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTYgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rqAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOAAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gAAAABJBmmVJqEFomUwIV//+OEAADUg=",Ya:!1,$a:[44],size:1022},{ia:1001,P:24E3},{ia:6006,P:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},937:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(6350);b.ga=[{data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",Ya:!0,$a:[176,731],size:751,hb:t.ga[0]},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",Ya:!0,$a:[44],size:1022,hb:t.ga[1]},{ia:1E3,P:24E3},{ia:6E3,P:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},6153:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(937);b.ga=[{data:"hdw8BhCohdz4gfYEhd0ACQhdwoB+CQgAYEhdxWATCIhdwe",Ya:!0,$a:[176,731],size:751,hb:t.ga[0]},{data:"gCoBCph/oVCRh/otBQh/oJAFgAYBCxh/o9ARh+ILgCgBAyh+H/h+AuA1h+CKAzh+ABDsC+h+AAAUDIh+ABcsxdpKBwA+AqCkGAB3A0DAhg4AcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDohgACh+AEC/h2AHh+Al",Ya:!0,$a:[44],size:987,hb:t.ga[1]},{ia:1E3,P:25E3},{ia:5E3,P:25E3},"playready-h264mpl30-dash",64,320,240,4,3];},32477:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(6350).ga[0];a=a(6153);b.ga=[{data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpCBDYgAYEhdh4",Ya:!0,$a:[176,729],size:749,hb:t},{data:"gBoBC2h7QVCeh7QZDph7QRBch7QJAGgAYBC+h7QJDSh7QJCNh7QJgC4Ch7QSgL4CAWgEYJASh8wLAWgEIBBIh8//h88KB/h7IIh84BgBoBDph84IgBoGASgHIAdlSahBBoCZBMAIBPD/D9DxgCAAAfDg",Ya:!0,$a:[44],size:1022,hb:a.ga[1]},{ia:1001,P:3E4},{ia:6006,P:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},19034:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(937).ga[0];a=a(32477);b.ga=[{data:"hdw8B1Awhdz4gfYEhd0ADghdwoCCgBwBgAYChdx4",Ya:!0,$a:[176,731],size:751,hb:t},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/tU",Ya:!0,$a:[44],size:1022,hb:a.ga[1]},{ia:1E3,P:3E4},{ia:6E3,P:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},98989:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(937).ga[0];a=a(6350);b.ga=[{data:"hd0VDShd0OgM4AhdwCAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAAGhdoCAigiQChdwZBnDggAYEhdxXhUwChdwSDpgBoG",Ya:!0,$a:[176,731],size:751,hb:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ya:!0,$a:[44],size:1022,hb:a.ga[1]},{ia:1001,P:24E3},{ia:6006,P:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},5339:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(98989).ga[0];a=a(937);b.ga=[{data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",Ya:!0,$a:[176,733],size:753,hb:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ya:!0,$a:[44],size:1022,hb:a.ga[1]},{ia:1E3,P:24E3},{ia:6E3,P:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},95350:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(5339).ga[0];a=a(6153);b.ga=[{data:"heA8BhCoheD4gfYEheEBAgheApB+CQgAYEheBWATCIheAe",Ya:!0,$a:[176,733],size:753,hb:t},{data:"h7VpAzh7QDgD4Ah7RZhRwBh7X/h7QH",Ya:!0,$a:[44],size:987,hb:a.ga[1]},{ia:1E3,P:25E3},{ia:5E3,P:25E3},"playready-h264hpl30-dash",64,320,240,4,3];},4029:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(98989).ga[0];a=a(32477);b.ga=[{data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqCBDYgAYEhdx4",Ya:!0,$a:[176,731],size:751,hb:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ya:!0,$a:[44],size:1022,hb:a.ga[1]},{ia:1001,P:3E4},{ia:6006,P:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},75034:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(5339).ga[0];a=a(19034);b.ga=[{data:"heA8B1AwheD4gfYEheEBDAheApCCgBwBgAYCheB4",Ya:!0,$a:[176,733],size:753,hb:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ya:!0,$a:[44],size:1022,hb:a.ga[1]},{ia:1E3,P:3E4},{ia:6E3,P:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},56803:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(5339).ga[0];a=a(6350);b.ga=[{data:"heDvgAgCheAgDSheCzBoBlB2heBQAfBoheACACgPgCCQgfAEgI4AH9H6gBAAAPhQoDhboFhLIFAAAThSYAghIABuBjBshOIAgBoAgAICheAIAAgJoBA1gFQBgAYCheBXhVACheASDpgBoG",Ya:!0,$a:[176,733],size:753,hb:t},{data:"h/pcAAD/h/oJAkh/oJAih7IJAjh/oJgBYFgL4DAhh/oaABC0h/oEgToAdAAQwBh/4AACAggGoBAACQgAgCgAQBddmLAkgDYBBtBCEBgDANegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCgSgEe7gfRVDvB+AACXBAASDwABAuCAAlDhgVYCdEAcFyD2A8gNoBggIAdOAYEBADguoCAWgBIAglYACggPoCcg9YAKD8CAgAoDCQgDICANgDIAABglIBgTIDAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgxQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFgzABgMoDAOgEQBcWKMIRC8CVgBoBBTgJ4AgIoIg8gAgAYBgEQDgsAADgAOA4gEQSgNICgawDgEQCAeBIgEQKALgEQEAEgMwJcovGEIDegEAE",Ya:!0,$a:[44],size:618,hb:a.ga[1]},{ia:1001,P:24E3},{ia:6006,P:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},51914:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(56803);b.ga=[{data:"heEVDQheFREBhdgBDggAYEheBXgRQCheASDogBoG",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"hNI1DohNIkg9ABhNIEDQhNIJCIhKIDhIoEgC4ChNISgL4ChNIGgEYChNIQC3hNIhBvhNJXgJIAgygCAAAxhNa1gEQChNYBgEQKhNhi",Ya:!0,$a:[44],size:621,hb:t.ga[1]},{ia:1E3,P:24E3},{ia:6E3,P:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},44661:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(51914);b.ga=[{data:"heA8BhCoheD4gfYEheEtA9hdgBgAYCheBWATCIheAe",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"gCIBCphNgVCRhNgtBQhNgJAFgAYBCxhNglAihNgJgBYFgL4DARhMALgJgBCUhL6CAzhL7ZANhL4EA2DwgeQAgN4AgeQBhLwQgEIChLwBgEIF",Ya:!0,$a:[44],size:573,hb:t.ga[1]},{ia:1E3,P:25E3},{ia:5E3,P:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},5066:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(56803);b.ga=[{data:"heA8B1AwheD4gfYEheEtBCgvQBgAYCheB4",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"hNJ1hKIAhNI+C1hNJ/DqBhhNK1gEQChNIBgEQKhNRi",Ya:!0,$a:[44],size:619,hb:t.ga[1]},{ia:1001,P:3E4},{ia:6006,P:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},10124:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(51914);b.ga=[{data:"heA8B1AwheD4gfYEheEtBDgmgBgAYCheB4",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"hNh1AihNg/gWoAhNiBA9hNi1hAgChNgBhJARhNZa",Ya:!0,$a:[44],size:620,hb:t.ga[1]},{ia:1E3,P:3E4},{ia:6E3,P:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},23259:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(51914);b.ga=[{data:"heA8DDBQheD4gfYEheEtBYgFQBgAYCheBWAnAQheAe",Ya:!0,$a:[176,733],size:753,hb:t.ga[0]},{data:"gCIBDqhNgVDShNgtCMhNgJgFYCDyhNgNhMAFhNgnAigF4JgBYFgF4DgBYAgF4IgBYFhTgPAWhTgMhUAEACA+hUCCBlhUCShCoChUABhGwJhT4VATC8CTgGgCAigTIBhT5PhlQHdGGMIZC8CMgmIDhIgBgEIGAFgRIJA2gRIMgVgFgRgDgMoGAugRALgEIFAHgQ4KA+gQ4SAIhk4JBIhk4I",Ya:!0,$a:[44],size:808,hb:t.ga[1]},{ia:1E3,P:5E4},{ia:1E4,P:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},33781:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(56803).ga[0];a=a(23259);b.ga=[{data:"heA8DqBgheD4gfYEheEtBbDogAYEheBWA6CnheAe",Ya:!0,$a:[176,733],size:753,hb:t},{data:"hZYBArhk4UABAThk4ZDphk4RDIhk4JAPgEwBAzgA4BhRYAhk4EDShk4JCNhe4JgC4Ehk4QgL4Chk4GgF4Ohk4SgF4ygR4FALC7gO4NAbhsYQgAYCAahtABDohtAhBthtBXgZoBABDUDBhsy0gEIChswBhoQRhsrOgQ4HBmgQ4TAJgQ4JBWgQ4Ths4BgQ4IBOgQ4SALgQ4KBegQ4SAMgeABgEACAQgMoBdw6rGEAnB4gMwPANgIgGh1YAgEYAdol8YQCNDggIoE",Ya:!0,$a:[44],size:1043,hb:a.ga[1]},{ia:1001,P:6E4},{ia:15015,P:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},98640:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.ga=void 0;t=a(51914).ga[0];a=a(33781);b.ga=[{data:"heA8DqBgheD4gfYEheEtBcgvwBgAYCheBWA6CYheAe",Ya:!0,$a:[176,733],size:753,hb:t},{data:"iCQ1DoiCQkhjgBiCQEDQiCQJCIh2QJgC4EiCQQgL4Ch8QGgF4Oh8QSgF4yiCQGC4gO4NiCQZDqiCQhBviCRXhLYBgAgCB5iCn/iChe",Ya:!0,$a:[44],size:1045,hb:a.ga[1]},{ia:1E3,P:6E4},{ia:15E3,P:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},95316:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.mia=b.Qca=b.MG=void 0;t=a(22970);t.__exportStar(a(38454),b);t.__exportStar(a(85017),b);d=a(68954);Object.defineProperties(b,{MG:{enumerable:!0,get:function(){return d.MG;}}});Object.defineProperties(b,{Qca:{enumerable:!0,get:function(){return d.Qca;}}});Object.defineProperties(b,{mia:{enumerable:!0,get:function(){return d.mia;}}});},67769:function(t,b,a){var f,e;function d(h){return e[h >> 6] + e[h & 63];}function n(h,l){(0,f.assert)(0 < l && 8 > l);return d((l - 1 << 8) + h);}function c(h){return d(1792 + h[0]) + d((h[1] << 4) + (h[2] >>> 4)) + d((h[2] << 8 & 3840) + h[3]);}function g(h){return 43 === h?62:47 === h?63:58 > h?h - 48 + 52:91 > h?h - 65:h - 71;}Object.defineProperties(b,{__esModule:{value:!0}});b.C0c=function(h,l){var p,r,q,u,v,w;function k(x,y){var A;A=p;x=r - y - x;(0,f.assert)(1 <= x);(0,f.assert)(16384 > x - 1);(0,f.assert)(2 <= y && 512 > y - 2);y=d(2048 + (x - 1 >>> 3)) + d(((x - 1 & 7) << 9) + (y - 2));p=A + y;q=r;u=0;}function m(x,y,A){return h.subarray(x,x + A).every(function(z,B){return z === h[y + B];});}p="";r=l || 0;q=r;u=0;for(l=0;r < h.byteLength;){v=q;w=u;if(0 !== u && 513 > u && h[r] === h[q + u])(++u,++r);else if(513 === u)(k(v,w),l=0);else {for(--q;0 <= q && q >= r - u - 16384 && (h[v] !== h[q] || 0 < u && !m(r - u,q,u + 1));)--q;if(0 <= q && q >= r - u - 16384)(++u,++r);else if(v === r || 1 === w){r-=w;for(v=1;7 > v && h[r + v] === h[r];)++v;p+=n(h[r],v);r+=v;l=1 < v?0:l + 1;4 === l && (p=p.slice(0,p.length - 8),p+=c(h.subarray(r - 4,r)));q=r;u=0;}else (k(v,w),l=0);}}1 === u?p+=n(h[q],1):1 < u && k(q,u);return p;};b.Nwb=function(h,l){var v,w;function k(y,A){p(A);if(y + A <= u)r.set(r.subarray(y,y + A),u);else for(var z=0;z < A;++z)r[u + z]=r[y + z];u+=A;}function m(){var y;y=h.slice(q,q+=2);return (g(y.charCodeAt(0)) << 6) + g(y.charCodeAt(1));}function p(y){u + y > r.byteLength && (y=new Uint8Array(2 * r.byteLength),y.set(r,0),r=y);}for(var r=l || new Uint8Array(4096),q=0,u=l?l.byteLength:0;q < h.length;){v=m();if(v & 2048){w=m();k(u - (((v & 2047) << 3) + (w >>> 9) + 1),(w & 511) + 2);}else if(1792 === (v & 3840))(p(4),r[u++]=v & 255,w=m(),v=m(),r[u++]=w >>> 4,r[u++]=(w << 4 & 240) + (v >>> 8),r[u++]=v & 255);else {w=v & 255;v=(v >>> 8) + 1;p(v);for(var x=0;x < v;++x)r[u++]=w;}}return r.subarray(l?l.byteLength:0,u);};f=a(89707);e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";},68954:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.v1b=b.u1b=b.w1b=b.t1b=b.mia=b.x1b=b.FNc=b.Qca=b.zNc=b.MG=b.HNc=b.sL=void 0;d=a(85017);Object.defineProperties(b,{sL:{enumerable:!0,get:function(){return d.sL;}}});b.HNc=["padding"];b.MG=["h264","h264hpl","hevc-main10"];b.zNc=["16:9","4:3"];b.Qca={h264:/h264mpl/,h264hpl:/h264hpl/,"hevc-main10":/hevc-main10/};b.FNc={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash","hevc-main10":"hevc-main10-L30-dash-cenc-prk-do"};b.x1b=["silence"];b.mia=["heaac","ddp","xheaac"];b.t1b={heaac:[64,96,128],xheaac:[32,64,96,192],ddp:[192,256,384,448,640]};b.w1b={xheaac:{32:"xheaac-dash",64:"xheaac-dash",96:"xheaac-dash",192:"xheaac-dash"},heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.u1b={xheaac:{32:"2.0",64:"2.0",96:"2.0",192:"2.0"},heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.v1b={xheaac:{ia:2048,P:48E3},heaac:{ia:1024,P:24E3},ddp:{ia:1536,P:48E3}};},38454:function(t,b,a){var n,c,g,f,e,h,l;function d(k){if(-1 !== f.MG.indexOf(k))return k;for(var m,p=0;p < f.MG.length;++p)if(-1 !== k.indexOf(f.MG[p])){m=f.MG[p];break;}(0,h.assert)(m);return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.vbb=void 0;n=a(22970);c=a(91176);g=a(43051);f=a(68954);e=a(85017);h=a(89707);l=a(67769);t=(function(){function k(m,p){this.atob=m;this.console=p;this.SU=1;this.Pca=[];this.v4=[];}k.prototype.zkc=function(m,p,r,q,u){var v,y;void 0 === q && (q={w:16,Iw:9});void 0 === u && (u=1);p=d(p);v=(0,c.oc)(e.sL[p],function(A){return (0,e.YLa)(r,e.J6[A]);});(0,h.assert)(v);(0,h.assert)(16 === q.w && 9 === q.Iw || 4 === q.w && 3 === q.Iw);q=16 === q.w?"16:9":"4:3";for(var w=0,x=this.Pca;w < x.length;w++){y=x[w];if(y.type === m && y.$A === q && y.Od === p && y.frameRate === v && y.trackId === u)return y;}m=this.G$b(m,q,p,v,u);this.Pca.unshift(m);this.Pca.length > this.SU && this.Pca.splice(this.SU,this.Pca.length - this.SU);return m;};k.prototype.xkc=function(m,p,r){var w;void 0 === r && (r=1);for(var q,u=0,v=this.v4;u < v.length;u++){w=v[u];"silence" === w.type && w.Od === m && w.bitrate === p && w.trackId === r && (q=w);}void 0 === q && (q=this.B$b(m,p,r),this.v4.unshift(q),this.v4.length > this.SU && this.v4.splice(this.SU,this.v4.length - this.SU));return q;};k.prototype.ykc=function(){void 0 === k.enb && (k.enb=new Uint8Array(Array.from({length:40},function(m,p){return ('<tt xmlns="http://www.w3.org/ns/ttml" />').charCodeAt(p);})).buffer);return k.enb;};k.prototype.G$b=function(m,p,r,q,u){var v;v=g.nLb[m][p][r][q];(0,h.assert)(v);v=(0,g.TLc)(v().ga);return n.__assign(n.__assign({},this.decode(v,u)),{type:m,$A:p,Od:r,frameRate:q,width:v.width,height:v.height,uTa:v.uTa,vTa:v.vTa});};k.prototype.B$b=function(m,p,r){var q;q=g.Bhb.silence[m][p];(0,h.assert)(q);q=(0,g.SLc)(q().ga);return n.__assign(n.__assign({},this.decode(q,r)),{type:"silence",Od:m,bitrate:p,channels:q.channels});};k.prototype.decode=function(m,p){var r,q,u,v;r=m.Sb.Ya?this.D5(m.Sb):this.atob(m.Sb.data);q=m.Na.Ya?this.D5(m.Na):this.atob(m.Na.data);if(1 !== p){u=new DataView(r);v=new DataView(q);m.Sb.$a.forEach(function(w){return u.setUint32(w,p);});m.Na.$a.forEach(function(w){return v.setUint32(w,p);});}return n.__assign(n.__assign({},m),{Sb:r,Na:q,trackId:p});};k.prototype.D5=function(m){var p;if(m.Ya){if(void 0 === m.hb)m=(0,l.Nwb)(m.data);else {p=this.D5(m.hb);m=(0,l.Nwb)(m.data,new Uint8Array(p));}}else m=new Uint8Array(this.atob(m.data));return m.buffer.slice(m.byteOffset,m.byteOffset + m.byteLength);};return k;})();b.vbb=t;},29088:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X;Object.defineProperties(b,{__esModule:{value:!0}});b.X_a=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(91176);f=a(66164);a(97685);e=a(91176);h=a(8743);l=a(58348);k=a(6200);m=a(79183);p=a(3033);r=a(65161);a(57141);q=a(19089);u=a(52571);v=a(7470);w=a(35438);x=a(37058);y=a(61996);A=a(54366);z=a(650);B=a(40666);C=a(17122);D=a(69575);F=a(8478);H=a(27255);E=a(93747);G=a(75402);K=a(91967);N=a(33143);I=a(29688);L=a(14609);O=a(23102);J=a(27459);Q=a(61567);P=a(66607);S=a(66701);Y=a(11177);X=a(358);t=(function(){function T(U){this.console=U;this.Va=h.cD.CLOSED;this.Yg=[];this.sba=[];this.y3=[];this.ds=[];this.Ddb={};this.M3={};this.bYa=h.tda.default;this.j6b={$K:!1};this.dk=new y.Lm({wj:this,source:"engine",Bg:10,console:U});}Object.defineProperties(T.prototype,{Sz:{get:function(){(0,u.assert)(this.bE);return this.bE;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{state:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{szc:{get:function(){return this.y3;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{DQ:{get:function(){return this.ds.map(function(U){return U.Z;});},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{uzc:{get:function(){return this.ds;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{ed:{get:function(){this.cL();return this.lB.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{XJ:{get:function(){this.cL();return this.lB.XJ;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{fl:{get:function(){this.cL();return this.lB.fl;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{pR:{get:function(){this.cL();return this.lB.pR;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{MNc:{get:function(){return this.Yg.length;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{MU:{get:function(){return this.Ddb;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{jw:{get:function(){return this.JA;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{yR:{get:function(){return this.M3;},enumerable:!1,configurable:!0}});Object.defineProperties(T.prototype,{ytc:{get:function(){return this.Beb || (this.Beb=this.z3b());},enumerable:!1,configurable:!0}});T.prototype.open=function(U,Z,aa,da){var fa;fa=this;if(this.Va === h.cD.OPEN)return !1;if(void 0 !== U.on)U.on("changed",function(){U.WV || fa.Yg.forEach(function(ma){var R;(null === (R=ma.O) || void 0 === R?0:R.bi) && ma.O.bi.disable();});});this.Nq=new X.d2a(U,this.console);this.config=this.Nq.gHa;e.AT.iGc(this.config);this.Ej=new B.qH(new C.Sfa({Oi:!0,currentTime:function(){return c.I.Ca(f.platform.time.na());},speed:1}),this.console,"Engine Scheduler");this.jOa=new m.d4a(this.console,U);this.Ar=new q.rab(this.una.bind(this),this.Ej,U);if(U.LG || f.platform.Cl.eg.f0c)this.JA=new l.s1a(this.console,U,function(){return fa.MU;});this.lB=p.ML.Sla(U,this.console,Z);this.Va=h.cD.OPEN;this.bE=(0,O.Tla)(U);aa && this.bE.uGb(aa);da && this.bE.VWa(da);this.QBb=new J.A$a({tk:function(){fa.Va !== h.cD.CLOSED && fa.Ar.tk("playgraphOpportunity");}});this.Nxb=new E.R7a(function(){return fa.Ola();},function(){return fa.Pla().global;},this.console);this.C9b();return !0;};T.prototype.f4=function(U,Z,aa,da,fa){var R,M,V,ba,ha;function ma(ca){return R.Cr(da,ha,ca);}R=this;void 0 === fa && (fa=!0);this.cL();aa=Object.create(aa,{eA:{value:this.yR},LG:{value:!!this.JA}});if(fa){V=this.Sz.k5b(U,aa);if(V){V.AZa(Z);ba=this.Cr.bind(this,da,V);ba.he=da;ba=V.VGc(ba).he;if((ba=null === (M=da.B_c) || void 0 === M?void 0:M.call(da,ba)) && !ba.success)(ba={reason:ba.reason},this.zC(V));else return V;}}ma.he=da;M=new N.sab(ma,da,function(ca,la){return !!R.lqb(la,ca).Wca;});ha=(0,P.jJa)(aa,[U,Z,aa,T.Vuc++,this.ed,M,function(ca){return R.Ar.tk(ca);},fa?this.Sz.h5b.bind(this.Sz):function(){},this.Ola.bind(this),this.Nq],this.console);ha.od(new w.ubb(ha));ha.od(new x.Sbb(ha.Tc));ba && ha.od(new L.H$a(ba));ha.d9.od(new G.w0a(ha));ha.d9.od(new I.D6a(ha));this.zf.AC.forEach(function(ca){return ha.od(ca);});this.QBb.f4(ha);U=new n.lf();U.on(ha.events,"requestsPruned",this.UDc.bind(this));U.on(ha.events,"weightUpdated",this.dTa.bind(this));U.on(ha.events,"underflow",this.Dk.bind(this,ha));this.ds.push({Z:ha,rj:U,maa:0});this.dTa();return ha;};T.prototype.Dk=function(U){U=this.Nxb.Ifc(U);(null === U || void 0 === U?0:U.Xja) || this.Sz.reset();};T.prototype.zC=function(U){this.QBb.zC(U);U.Ja();this.ds=this.ds.filter(function(Z){return Z.Z === U?(Z.rj.clear(),!1):!0;});this.dTa();};T.prototype.u_b=function(U,Z){var aa;this.cL();aa=Z.jh;aa=void 0 === aa?[r.v.X,r.v.V]:aa;U=(0,S.mV)(Z,[U,aa,this.Tdc(Z)]);this.y3.push(U);return U;};T.prototype.pVa=function(U){this.cL();this.y3=this.y3.filter(function(Z){return Z !== U;});U.Ja();};T.prototype.dGc=function(U,Z){this.Ddb=U;this.M3=Z;this.Beb=void 0;};T.prototype.OZ=function(U,Z){var aa,da;da=null === (aa=(0,g.oc)(this.Yg,function(fa){return fa.hV.equals(U);})) || void 0 === aa?void 0:aa.O;da?da.OZ(d.__assign(d.__assign({},Z),{i$:this.tSa.bind(this)})):this.sba.push({tLb:U,xXa:Z});};T.prototype.SDb=function(U){this.sba=this.sba.filter(function(Z){return !Z.tLb.equals(U);});};T.prototype.close=function(){this.Va !== h.cD.CLOSED && (this.WCc(),(0,u.assert)(0 === this.Yg.length,"Unexpected viewable lease after Playgraph destruction."),this.VCc(),this.sba=[],delete this.lB,this.Va=h.cD.CLOSED,this.Ej.Ja());};T.prototype.$Gc=function(U){this.bYa=U;this.Ar.tk("streamingModeChanged");};T.prototype.hGc=function(U){var Z,aa,da;this.j6b.$K=U.$K;if(this.config.DKa){da=!0 === U.$K;this.config.set?this.config.set((Z={},Z.enableCprVideo=da,Z)):this.config.enableCprVideo=!0 === U.$K;try{for(var fa=d.__values(this.ds),ma=fa.next();!ma.done;ma=fa.next())ma.value.Z.MGc(da);}catch(M){var R;R={error:M};}finally{try{ma && !ma.done && (aa=fa.return) && aa.call(fa);}finally{if(R)throw R.error;}}}};T.prototype.Tdc=function(U){var Z;Z={};!U.eA && this.M3 && (Z.eA={value:this.M3});return Object.create(U,Z);};T.prototype.C9b=function(){this.zf=new K.Dfa(this.config,this.console);this.zf.od(new F.A3a(this));this.zf.od(new z.tab(this.ed,this.Ar));this.zf.od(new v.y3a(this.ed));this.zf.od(new A.En(this.dk));this.zf.od(new A.En(this.Ar.Tu));this.zf.od(new A.En(this.jOa.Ve));this.zf.od(new A.En(this.Nxb.Ve));this.zf.od(new A.En(this.Sz.Ve,{Bjb:!1}));this.JA && this.zf.od(new A.En(this.JA.Ve));};T.prototype.tSa=function(){};T.prototype.G_=function(U){return d.__awaiter(this,void 0,void 0,function(){var Z,aa,da,fa;return d.__generator(this,function(ma){switch(ma.label){case 0:return ((0,u.assert)(U,"ase.updateViewable(): Viewable config not found."),Z=(0,g.oc)(this.Yg,function(R){return R.hV.equals(U);}),(0,u.assert)(Z,"ase.updateViewable(): Viewable entry not found."),[4,Z.Tr]);case 1:return (aa=ma.S(),fa=(da=aa).G_,[4,U.Ct]);case 2:return (fa.apply(da,[ma.S()]),[2]);}});});};T.prototype.lqb=function(U,Z){var aa;aa=U.Yq(Z.J,Z.Jp);return {Wca:(0,g.oc)(this.Yg,function(da){return da.hV.equals(aa);}),hV:aa};};T.prototype.Cr=function(U,Z,aa){var da,fa,ma,R,M,V,ba,ha,ca;da=this;ma=aa.J;R=aa.Jp;M=this.lqb(U,aa);V=null === M || void 0 === M?void 0:M.Wca;ba=M.hV;if(!V){R=null === (fa=null === R || void 0 === R?void 0:R.Mf) || void 0 === fa?void 0:fa.kd;if(void 0 !== R)(ha=this.Cr(U,Z,{J:R,Jp:{}}),ca=ha.fm);V={hV:ba,Tr:(function(){return d.__awaiter(da,void 0,void 0,function(){var la,ra,ta,ja,W;W=this;return d.__generator(this,function(ea){switch(ea.label){case 0:return [4,Promise.all([ba.Ct,null === ha || void 0 === ha?void 0:ha.Tr])];case 1:return (la=d.__read.apply(void 0,[ea.S(),2]),ra=la[0],ta=la[1],ja=this.nB(ma,ba,ra,Z.id,ta),!ja.vc || !ja.bi || ja.Xw.qpc || ja.bi.complete?[3,3]:[4,Promise.race([ja.Xw.fKc,new Promise(function(ka){return setTimeout(ka,W.config.SFc);})])]);case 2:(ea.S(),ea.label=3);case 3:return (V.O=ja,[2,ja]);}});});})(),O:void 0,Ww:new c.cT({name:"viewableCollection",p$:function(la){la() && (null === ca || void 0 === ca?void 0:ca.release(),da.sVa(V));},console:(0,D.rf)(f.platform,this.console,("").concat(ma))})};this.Yg.push(V);}U=new Y.Zcb(V,this.console,Z,aa,ca);U.events.once("error",this.sVa.bind(this,V,!1));return U;};T.prototype.sVa=function(U,Z){var aa,da,fa;void 0 === Z && (Z=!0);(0,u.assert)(U,"expected viewableEntry to exist");aa=U.hV;da=U.O;fa=U.Tr;Z && (aa.ZU(),da?da.Ja():fa.then(function(ma){ma.Ja();}));this.Yg=this.Yg.filter(function(ma){return ma !== U;});};T.prototype.nB=function(U,Z,aa,da,fa){var ma,R;ma=this;this.cL();R=aa.config;aa={U:aa.U,config:R,jB:aa.jB,Gu:aa.Gu,ed:this.lB.ed,fl:this.lB.fl,ydc:{ZI:function(){return ma.Ar.tk("networkFailureReset");},Hf:this.Hf.bind(this,U),Tw:this.Tw.bind(this,U)},Baa:{wy:this.wy.bind(this),tx:this.tx.bind(this),IZc:function(){return ma.Ar.uzb;}},yR:this.M3,jw:this.JA,Nq:this.Nq,Ar:this.Ar,oS:this.Ej,zr:da};U=new k.F0a(U,aa,fa);R.jO && (R=(0,g.oc)(this.sba,function(M){return M.tLb.equals(Z);})) && (R=R.xXa,this.SDb(Z),U.OZ(d.__assign(d.__assign({},R),{i$:this.tSa.bind(this)})));return U;};T.prototype.una=function(){var U,Z,aa,da,fa;(0,u.assert)(this.state === h.cD.OPEN);U=this.Pla();Z=this.VW();aa=this.jOa.Cec(Z);da=aa.Phb;Z=aa.MV;fa=aa.reason;aa=aa.PJb;return 0 < da.length?(U=this.jOa.aAb(U,da),!U.Sf && 0 < aa?{Sf:!1,reason:U.reason,MV:Z}:U):0 < aa?((0,u.assert)("available" !== fa,"Unavailable streamables may not be available"),{Sf:!1,reason:fa,MV:Z}):{Sf:!1,reason:"noEligibleStreamables"};};T.prototype.VW=function(){var U,Z,aa;U=this;aa=null !== (Z=this.config.Tzc) && void 0 !== Z?Z:this.ds.every(function(da){return !da.Z.$n;});Z=(0,g.flatten)(this.ds.map(function(da){return da.Z.VW().map(function(fa){da.Z.$n || 1 === da.maa || (fa.Zy=da.maa);return fa;});}));this.bYa === h.tda.disabled?Z=[]:this.bYa === h.tda.Wrc && (Z=Z.filter(function(da){return U.config.oxb >= da.vn - da.Tn;}));aa || (aa=Z.filter(function(da){var fa;return 1 === (null !== (fa=da.Zy) && void 0 !== fa?fa:1);}),aa.length && (Z=aa));aa=this.Yg.reduce(function(da,fa){return fa.O?d.__spreadArray(d.__spreadArray([],d.__read(da),!1),d.__read(fa.O.VW()),!1):da;},[]);return (0,g.flatten)(d.__spreadArray(d.__spreadArray([],d.__read(Z),!1),d.__read(aa),!1));};T.prototype.cL=function(){if(this.Va === h.cD.CLOSED)throw Error("Engine CLOSED");};T.prototype.WCc=function(){var U,da;try{for(var Z=d.__values(this.ds),aa=Z.next();!aa.done;aa=Z.next()){da=aa.value;da.rj.clear();this.zC(da.Z);}}catch(ma){var fa;fa={error:ma};}finally{try{aa && !aa.done && (U=Z.return) && U.call(Z);}finally{if(fa)throw fa.error;}}};T.prototype.VCc=function(){var U;try{for(var Z=d.__values(this.y3),aa=Z.next();!aa.done;aa=Z.next())this.pVa(aa.value);}catch(fa){var da;da={error:fa};}finally{try{aa && !aa.done && (U=Z.return) && U.call(Z);}finally{if(da)throw da.error;}}};T.prototype.Hf=function(U,Z){var aa;Z.J=U;aa=!1;this.nrb(U).forEach(function(da){if(!Z.vYa || (0,r.gr)(da.Xd.value))aa=da.Hf(Z);});return aa;};T.prototype.Tw=function(U){return this.nrb(U).some(function(Z){return Z.Tw();});};T.prototype.nrb=function(U){return this.ds.filter(function(Z){var aa;for(Z=Z.Z;Z.Fa;)Z=Z.Fa;aa=Z.Z;return Object.keys(aa.$).some(function(da){return aa.$[da].J === U;});}).map(function(Z){return Z.Z;});};T.prototype.Pla=function(){var U;U=new H.a4a();this.ds.forEach(function(Z){var aa,da;aa=Z.Z;Z=Z.maa;da=aa.Pla();da.Zy=Z;U.add(aa.id,da);});return U;};T.prototype.Ola=function(){return this.ytc;};T.prototype.z3b=function(){var U,Z;Z=(0,Q.P3b)(this.config,this.MU);return {total:(U={},U[r.v.V]=this.MU.video || Infinity,U[r.v.X]=this.MU.audio || Infinity,U[r.v.Aa]=this.MU.text || Infinity,U.total=this.MU.total || Infinity,U),RXa:Z};};T.prototype.wy=function(U){var Z;this.Ar.wy(U);null === (Z=this.JA) || void 0 === Z?void 0:Z.wy(U);};T.prototype.tx=function(U){this.Ar.tx(U);};T.prototype.dTa=function(){var U;U=this.DQ.reduce(function(Z,aa){return Math.max(aa.weight,0) + Z;},0);this.ds.forEach(function(Z){Z.maa=0 >= Z.Z.weight?0:Z.Z.weight / U;});};T.prototype.UDc=function(U){var Z;Z=this;this.JA && (U.requests.forEach(function(aa){return Z.JA.tx(aa);}),this.Yg.forEach(function(aa){var da;return null === (da=aa.O) || void 0 === da?void 0:da.rEc();}),this.Ar.tk("prunedRequest"));};T.Vuc=0;d.__decorate([(0,y.Za)({methodName:"open"})],T.prototype,"open",null);d.__decorate([(0,y.Za)({methodName:"addPlaygraph",context:function(U){var Z,aa;return {playgraphCount:null !== (aa=null === (Z=U.Dzb.ds) || void 0 === Z?void 0:Z.length) && void 0 !== aa?aa:0};}})],T.prototype,"f4",null);d.__decorate([(0,y.Za)({methodName:"removePlaygraph",context:function(U){return {playgraphCount:U.Dzb.ds.length};}})],T.prototype,"zC",null);d.__decorate([(0,y.Za)({methodName:"close"})],T.prototype,"close",null);d.__decorate([(0,y.Za)({methodName:"setStreamingMode",Qm:!0})],T.prototype,"$Gc",null);d.__decorate([(0,y.Za)({methodName:"setConcurrentStreamingDevice",Qm:!0})],T.prototype,"hGc",null);d.__decorate([(0,y.Za)({methodName:"notifyAseException",Qm:!0})],T.prototype,"tSa",null);d.__decorate([(0,y.Za)({methodName:"updateViewable"})],T.prototype,"G_",null);d.__decorate([(0,y.Za)({methodName:"requestViewable"})],T.prototype,"Cr",null);d.__decorate([(0,y.Za)({methodName:"removeViewable"})],T.prototype,"sVa",null);d.__decorate([(0,y.Za)({methodName:"createViewable"})],T.prototype,"nB",null);d.__decorate([(0,y.Za)({methodName:"issueRequestOpportunity",Re:!0,return:!0})],T.prototype,"una",null);d.__decorate([(0,y.Za)({methodName:"reportStreamingFailure",Qm:!0})],T.prototype,"Hf",null);return T;})();b.X_a=t;},66701:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.mV=function(g,f){var e,h,l;e=[function(k){return new (c.dva.bind.apply(c.dva,d.__spreadArray([void 0],d.__read(k.jzc),!1)))();}];if(g.fO){h=a(79).OIa;e.unshift(function(k,m){return h(k,m);});}if(g.tB){l=a(79).OIa;e.unshift(function(k,m){return l(k,m);});}return n.hD.pJ({jzc:f},e);};d=a(22970);n=a(91176);c=a(34434);},66607:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jJa=function(e,h,l){var k,m,p,r;k=[function(q){return new (g.eva.bind.apply(g.eva,d.__spreadArray([void 0],d.__read(q.O$),!1)))();}];m=(0,f.oj)({Z:h[0]});c.u && l.trace("Creating playgraph",{D2c:m,JN:e.fO,jc:e.tB});if(e.fO){p=a(25750);k.unshift(function(q,u){return p.l5({},q,u);});}if(e.tB){r=a(86681);k.unshift(function(q,u){return r.l5({},q,u);});}return n.hD.pJ({O$:h,FGa:[]},k);};d=a(22970);n=a(91176);c=a(48170);g=a(62819);f=a(28871);},358:function(t,b,a){var n,c;function d(g,f,e){if("function" === typeof g.set)0 === g.set(f) && e.trace("Invalid keys" + JSON.stringify(Object.keys(f)));else for(e in (e=void 0,f))g[e]=f[e];}Object.defineProperties(b,{__esModule:{value:!0}});b.d2a=void 0;n=a(7675);c=a(36948);t=(function(){function g(f,e){this.gHa=f;this.console=e;this.$ta=new WeakMap();this.koa=new WeakMap();this.console.trace("Created config manager with base config" + JSON.stringify(f));}g.prototype.Xhc=function(){var f;f=(0,n.Evc)(this.gHa.olc);if(void 0 === f || 0 === Object.keys(f).length)return (this.console.warn("ConfigManager: No globalConfigMutationAllowList found in base config,                 no manifest config will override global config."),{});this.console.trace("ConfigManager global config override allowed properties: " + JSON.stringify(f));return f;};g.prototype.eHc=function(f,e){this.$ta.has(f) && this.console.trace("Updating existing viewable config for " + f);this.$ta.set(f,e);};g.prototype.hsb=function(f){if(this.$ta.has(f))return this.$ta.get(f);this.console.warn("ConfigManager: No viewable config found for " + f.R);return this.gHa;};g.prototype.HGc=function(f,e,h){var l;l=this.hsb(f);h=this.PMc(l,h);e=this.QMc(l,h,e);this.koa.has(f) && this.console.trace("Updating existing manifest config for " + f);this.koa.set(f,e);};g.prototype.YMa=function(f){if(this.koa.has(f))return this.koa.get(f);this.console.warn("ConfigManager: No manifest config found for " + f.R);return this.hsb(f);};g.prototype.sXa=function(f){var e;f=null === (e=f.steeringAdditionalInfo) || void 0 === e?void 0:e.ata;return void 0 !== f && 0 < Object.keys(f).length;};g.prototype.PMc=function(f,e){f=Object.create(f);f.set?(f.set({eA:e.eA}),f.set({LG:!!e.jw})):(f.eA=e.eA,f.LG=!!e.jw);return f;};g.prototype.QMc=function(f,e,h){var l,k,m,p,r,q,u;l=this;m=null === (k=h.steeringAdditionalInfo) || void 0 === k?void 0:k.ata;p=this.Xhc();if(!m || 0 === Object.keys(m).length)return e;r=Object.create(e);q=Object.keys(c.MIa).reduce(function(v,w){var x;x=c.MIa[w][0];Array.isArray(x)?x.forEach(function(y){return v[y]=w;}):(x=Array.isArray(x)?x[0]:x,v[x]=w);return v;},{});e=Object.keys(m).filter(function(v){return void 0 !== q[v];});u={};e.forEach(function(v){var w,x,y;w=q[v];if(void 0 !== r[w]){x=m[v];y=void 0;"number" === typeof r[w]?y=Number(x):"boolean" === typeof r[w]?y="true" === x:"string" === typeof r[w]?y=x:l.console.trace("Unsupported type for" + v);l.console.trace("ConfigManager Updating value for key " + v + " from " + r[w] + " to " + y);u[w]=y;}else l.console.trace("Invalid key" + v);});0 < Object.keys(u).length && (e=e.filter(function(v){return void 0 !== p[v] && void 0 !== u[p[v]];}).reduce(function(v,w){v[p[w]]=u[p[w]];return v;},{}),d(r,u,this.console),d(f,e,this.console));return r;};return g;})();b.d2a=t;},60069:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.k7=function(){var g;if(!c){g=new d.platform.Console("ASEJS","media|asejs");c=new n.X_a(g);}return c;};b.U2c=function(){c=void 0;};d=a(66164);n=a(29088);},27459:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.A$a=void 0;t=(function(){function a(d){this.tk=d.tk;this.HB=this.pnc();}a.prototype.f4=function(d){d.events.on("requestsPruned",this.HB);};a.prototype.zC=function(d){d.events.removeListener("requestsPruned",this.HB);};a.prototype.pnc=function(){var d;d=this;return function(){return d.tk();};};return a;})();b.A$a=t;},23102:function(t,b,a){var n,c,g,f;function d(){return n.__awaiter(this,void 0,void 0,function(){var e;return n.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return n.__importStar(a(60069));})];case 1:return (e=h.S().k7,[2,e()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.Tla=function(e){var h;h=new c.platform.Console("ASEJS","media|asejs");f || (f=new g.K$a(function(){return d();},e,h));return f;};n=a(22970);c=a(66164);g=a(91961);},61567:function(t,b,a){var n;function d(c,g,f,e){return c && g?Math.min(c - g * f,c - e):(c || Infinity) - e;}Object.defineProperties(b,{__esModule:{value:!0}});b.P3b=function(c,g){var f,e,h,l,k,m,p,r;r=d(g.audio,g.eWc,c.RIa,null !== (e=c.rkb) && void 0 !== e?e:0);e=d(g.video,g.e5c,c.RIa,null !== (h=c.tkb) && void 0 !== h?h:0);h=d(g.text,g.h4c,c.RIa,null !== (l=c.skb) && void 0 !== l?l:0);return (f={},f[n.v.X]=r,f[n.v.V]=e,f[n.v.Aa]=h,f.total=(g.total || Infinity) - (null !== (k=c.rkb) && void 0 !== k?k:0) - (null !== (m=c.tkb) && void 0 !== m?m:0) - (null !== (p=c.skb) && void 0 !== p?p:0),f);};n=a(65161);},11177:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Zcb=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(48170);f=a(95407);t=(function(){function e(h,l,k,m,p){var r;r=this;this.Wca=h;this.console=l;this.W0b=k;this.Jp=m;this.Txc=p;this.events=new n.EventEmitter();this.fm=h.Ww.vy();this.zXb=(0,c.Ona)(function(){return (function(){return d.__awaiter(r,void 0,void 0,function(){var q,u;return d.__generator(this,function(v){switch(v.label){case 0:return (v.qc.push([0,2,,3]),[4,this.Wca.Tr]);case 1:return [2,v.S()];case 2:throw (q=v.S(),f.jfa.Toc(q) && this.W0b.Hf({J:this.Jp.J,oi:q.message,RTa:q}),g.u && this.console.trace("Removing broken viewable entry due to error",this.Jp),this.events.emit("error",{error:q}),null === (u=this.Txc) || void 0 === u?void 0:u.release(),q);case 3:return [2];}});});})();});}Object.defineProperties(e.prototype,{O:{get:function(){var h;return null === (h=this.Wca) || void 0 === h?void 0:h.O;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Tr:{get:function(){return this.zXb();},enumerable:!1,configurable:!0}});return e;})();b.Zcb=t;},67164:function(t,b,a){var n;function d(c,g){var f;void 0 === g && (g=d);f="";c.Oy && (f=null === c || void 0 === c?void 0:c.Oy.map(g).reduce(function(e,h){return ("").concat(e,",").concat(h);}));return ("").concat(null === c || void 0 === c?void 0:c.name,"::").concat(null === c || void 0 === c?void 0:c.message,"::{").concat(null === c || void 0 === c?void 0:c.stack,"}[").concat(f,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.e0=void 0;n=a(22970);t=(function(c){function g(f,e){f=c.call(this,g.agc(f,e)) || this;f.OWb=e;f.name="AggregateError";return f;}n.__extends(g,c);g.agc=function(f,e){return e.reduce(function(h,l){return ("").concat(h,"\n").concat(l);},f);};g.stringify=function(f){return d(f);};Object.defineProperties(g.prototype,{Oy:{get:function(){return this.OWb;},enumerable:!1,configurable:!0}});return g;})(Error);b.e0=t;},83906:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(32973),b);t.__exportStar(a(16816),b);},32973:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},16816:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.KL={};t[t.Y4c=0]="userSeek";t[t.Qzc=1]="prefetchReset";t[t.Wja=2]="destruction";t[t.jvb=3]="jitPlaygraphUpdate";},63251:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},7042:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},43520:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},20271:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.Ft={};t[t.CLOSED=0]="CLOSED";t[t.OPEN=1]="OPEN";t[t.Po=2]="STREAMING";},89577:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},8743:function(t,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.cD=b.tda=void 0;(function(n){n[n.default=0]="default";n[n.disabled=1]="disabled";n[n.Wrc=2]="lowCpuPlaybackStarting";})(a || (b.tda=a={}));(function(n){n[n.CLOSED=0]="CLOSED";n[n.OPEN=1]="OPEN";})(d || (b.cD=d={}));},51308:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Mc=void 0;t=a(22970);t.__exportStar(a(8743),b);t.__exportStar(a(43520),b);t.__exportStar(a(20271),b);t.__exportStar(a(89577),b);t.__exportStar(a(41186),b);t.__exportStar(a(83906),b);t.__exportStar(a(16816),b);t.__exportStar(a(85178),b);t.__exportStar(a(63251),b);t.__exportStar(a(35963),b);t.__exportStar(a(7042),b);d=a(91967);Object.defineProperties(b,{Mc:{enumerable:!0,get:function(){return d.Mc;}}});},41186:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},85178:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},16756:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.sda={};t[t.start=0]="start";t[t.end=1]="end";},86003:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},46062:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},97627:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},9980:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(16756),b);t.__exportStar(a(97627),b);t.__exportStar(a(86003),b);t.__exportStar(a(46062),b);},35963:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(9980),b);},8171:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Gv=void 0;d=a(66164);n=a(65167);t=(function(){function c(g){g=("(").concat(g,")");this.console=new d.platform.Console("ASEJS","media|asejs",g);this.HRa=[];}c.prototype.CB=function(g){var f;if(!this.HRa[g]){f=("[").concat(g,"]");this.HRa[g]=(0,n.rf)(d.platform,this.console,f);}return this.HRa[g];};return c;})();b.Gv=new t(0);},6200:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G;function d(K,N,I){return K.O.vc?new y.q6a(K,N,I):new x.M8a(K,N,I);}Object.defineProperties(b,{__esModule:{value:!0}});b.F0a=b.CDa=b.RRb=void 0;n=a(22970);c=a(90745);g=a(91176);f=a(66164);e=a(24473);t=a(81392);h=a(83744);l=a(79857);k=a(18905);m=a(65161);p=a(52571);a(69575);r=a(24251);q=a(444);u=a(97757);v=a(8149);w=a(76452);x=a(1913);y=a(92945);A=a(91967);z=a(28057);B=a(24940);C=a(31303);D=a(39795);F=a(66133);H=a(27457);E=(function(){return function(K){this.mediaType=K;this.Vvb=void 0;};})();b.RRb=E;(function(K){K[K.hSb=0]="NO_DATA";K[K.YUb=1]="SWITCHABLE";K[K.fSb=2]="NONSWITCHABLE";K[K.AUc=3]="SWITCHABLE_AND_NONSWITCHABLE";})(G || (b.CDa=G={}));a=(function(K){function N(I,L,O){var J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma,R,M,V,ba,ha,ca,la,ra,ta,ja,W,ea,ka;Q=L.U;P=L.jB;S=L.Gu;Y=L.config;X=L.Baa;T=L.ed;U=L.fl;Z=L.ydc;aa=L.yR;da=L.jw;fa=L.Nq;ma=L.oS;L=L.zr;ca=K.call(this) || this;ca.J=I;ca.JY=O;ca.Vsb=!1;ca.wdb=G.hSb;ca.AH={};ca.Hn={};ca.web={};ca.vz=(J={},J[m.v.X]={},J[m.v.V]={},J[m.v.Aa]={},J[m.v.Im]={},J);ca.Ta=[];ca.Ksa=[];ca.uI=[];ca.Oga=!1;ca.kzb=!1;ca.ONc=[new E(m.v.X),new E(m.v.V),new E(m.v.Aa)];ca.zf=new A.Dfa(Y,ca.console);ca.xeb=Q;ca.bFa=null !== L && void 0 !== L?L:-1;ca.console=new f.platform.Console("ASEJS","media|asejs","<" + String(ca.J) + ">");ca.console.trace("creating viewable:",I);ca.Nq=fa;Y.NKb?(I={eA:aa,jw:da},ca.Nq.eHc(ca,Y),ca.Nq.HGc(ca,Q,I),ca.config=ca.Nq.YMa(ca)):ca.config=Y;ca.Xw=new C.I6a(ca,ca.config);ca.prc=null !== (M=null === (R=Q.steeringAdditionalInfo) || void 0 === R?void 0:R.hIc) && void 0 !== M?M:void 0;ca.events=new c.EventEmitter();ca.dz=new D.M4a(ca,ca.console,ca.config,function(pa){return ca.events.emit("logdata",pa);});ca.ed=T;ca.Baa=X;ca.yR=aa;ca.JA=da;ca.jB=P;ca.Gu=!!S;la=[[],[],[],[]];ra=[{},{},{},{}];ta=[0,0];ja=!1;ca.qd=new H.C6a(ca,ca.config,ca.console);if(ca.vc)ea=Q.Ti.maxBitrate;["audio_tracks","video_tracks",,"mediaEventTracks"].forEach(function(pa,qa){pa && ca.U[pa] && ca.U[pa].forEach(function(na,Aa){if(na.type !== m.v.X || !na.Qw && !1 !== na.hg)(Aa=d({O:ca,ko:na,mediaType:qa,Gu:ca.Gu,mL:Aa,PH:Aa + (qa === m.v.X?ca.U.video_tracks.length:0),CX:ea},ca.config,ca.console),qa === m.v.V && Y.Occ && new r.G0a(Y).gBc(Aa.De),qa === m.v.V && (W=q.MD.from({ix:na.DRa,xu:na.CRa})),la[qa].push(Aa),ra[qa]=n.__assign(n.__assign({},ra[qa]),Aa.dP()),Aa.maxBitrate > ta[Aa.mediaType] && (ta[Aa.mediaType]=Aa.maxBitrate),ja=ja || Aa.Zn);});});ca.vc && ca.U.timedtexttracks.forEach(function(pa,qa){var na;if(!pa.Qw && !1 !== pa.hg){na=m.v.Aa;pa=d({O:ca,ko:pa,mediaType:na,Gu:!1,mL:qa,PH:qa},ca.config,ca.console);la[na].push(pa);ra[na]=n.__assign(n.__assign({},ra[na]),pa.dP());}});ca.U.He && ((0,p.assert)(W,"Should have video track if there are adverts"),ca.He=n.__assign(n.__assign({},ca.U.He),{yb:(null === (V=ca.U.He.yb) || void 0 === V?void 0:V.map(function(pa){var qa,na;na=W.normalize(pa.Uu);na=n.__assign(n.__assign({},pa),{Eo:pa.Uu,Uu:na.G,duration:(null === (qa=pa.jc) || void 0 === qa?void 0:qa.reduce(function(Aa,Ha){return Aa.add(g.I.Ca(Ha.ib - Ha.cb));},g.I.fa)) || g.I.fa,location:na,uJ:!!pa.jc,pu:!!pa.pk,source:"viewable",qX:!1,Ua:na,type:"dynamic"});pa.jc !== pa.ads && (na.unnormalizedLocationMs=na.Eo,na.locationMs=na.Uu,na.location=na.location,na.contentTimestamp=na.Ua,na.type=na.type);return na;})) || []}));ca.wi=new k.W1(ca.U,ra,T,U,ca.config,function(pa){return ca.events.emit("logdata",pa);});ca.vc && (ca.FX=new l.v6a(ca.console,ca.config,ca,ca.dz));P=Z.ZI;S=Z.Tw;ca.aN=Z.Hf;ca.Tw=S;ca.ZI=P;ca.Dga=new h.C3a(ca.wi,ca.config,ca.xlc.bind(ca),ca.wlc.bind(ca));ca.Dga.events.addListener("requestError",function(pa){ca.vc && ca.config.lrc && 404 === pa.Vj && ca.Xw.GEb();});ca.X2=la;ca.Xsa=ra;ca.MJ=ta;ca.Zn=ja;ca.kA=n.__spreadArray([],n.__read(Q.HYa || []),!1);if(ca.vc && (null === (ba=la[m.v.Im]) || void 0 === ba?0:ba.length) && ca.config.WV && void 0 !== Q.H9){Z=la[m.v.Im][0].P;void 0 !== Z && Q.H9.P !== Z && (ca.console.warn("MediaEventsStore: MediaEvents history timescale does not match track timescale",{l_c:Q.H9.P,E4c:Z}),Q.H9.P=Z);ca.bi=new w.D7a(ma,ca,ca.config,Q.H9);if(ca.He && (null === (ha=ca.bi.model) || void 0 === ha?0:ha.rC)){ka=ca.bi.model.rC.Ua;ca.He.yb.forEach(function(pa){pa.Ua=pa.location.add(ka);pa.jc !== pa.ads && (pa.contentTimestamp=pa.Ua);});}ca.zf.od(new z.B7a(ca.bi.As));}return ca;}n.__extends(N,K);Object.defineProperties(N.prototype,{vJ:{get:function(){return this.qd.vJ();},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{U:{get:function(){return this.xeb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{vc:{get:function(){return (0,g.Ow)(this.U.Jf);},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Qs:{get:function(){var I;return this.vc && !(null === (I=this.Si) || void 0 === I?0:I.endTime);},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{R:{get:function(){return this.U.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Lq:{get:function(){return this.U.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{duration:{get:function(){return this.U.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{vp:{get:function(){return this.Oga;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{jw:{get:function(){return this.JA;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{tO:{get:function(){(0,p.assert)(this.Dga,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Dga;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{uO:{get:function(){return this.tO.events;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Bj:{get:function(){return this.Xw.Bj;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Si:{get:function(){return this.AH;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{krc:{get:function(){return this.web;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{FU:{get:function(){return this.wdb;},set:function(I){this.wdb=I;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{zr:{get:function(){return this.bFa;},enumerable:!1,configurable:!0}});N.prototype.sXa=function(){return this.config.NKb?this.Nq.sXa(this.U):!1;};N.prototype.Ja=function(){this.close();this.Qe();};N.prototype.yub=function(I){I=this.Wla(m.v.V,I);return !(null === I || void 0 === I || !I.Gxb);};N.prototype.close=function(){var I,L;this.uI=[];null === (I=this.Dga) || void 0 === I?void 0:I.Ja();this.wi.Ja();null === (L=this.bi) || void 0 === L?void 0:L.Ja();this.Oga=!0;};N.prototype.Qe=function(){var I;this.dz.Qe();null === (I=this.FX) || void 0 === I?void 0:I.Qe();};N.prototype.G_=function(I){var L,O,J;L=this;O=I.U;I=I.jB;if(this.vc)J=O.Ti.maxBitrate;(0,p.assert)(I === this.jB,"Updating Viewable clearplay not supported");(0,p.assert)(O.movieId === this.U.movieId,"Changing Viewable manifest movieId unsupported");["audio_tracks","video_tracks"].forEach(function(Q,P){var S,Y;S=O[Q];Y=L.X2[P];(0,p.assert)(Y.every(function(X){var T;T=S[X.mL];return T && T.yta === X.trackId && (T.type === m.v.V || !1 !== T.hg);}),"Existing tracks must still exist and be hydrated in updated manifest");S.forEach(function(X,T){var U,Z;if(X.type !== m.v.X || !X.Qw && !1 !== X.hg){U=L.getTrackById(X.yta);if(U){(0,v.eo)(U) && (U.CX=J,U.qsa(A.U2.U,J));X=X.streams;Z=Object.keys(U.dP());(0,p.assert)(X.length === Z.length,"Expected updated manifest track to have same number of streams");X.forEach(function(aa){aa=aa.downloadable_id;(0,p.assert)(-1 !== Z.indexOf(aa),"Changing Viewable track streams unsupported");});}else (U=d({O:L,ko:X,mediaType:P,Gu:L.Gu,mL:T,PH:T + (P === m.v.X?L.U.video_tracks.length:0),CX:J},L.config,L.console),Y.push(U),L.Xsa[P]=n.__assign(n.__assign({},L.Xsa[P]),U.dP()),U.maxBitrate > L.MJ[U.mediaType] && (L.MJ[U.mediaType]=U.maxBitrate),(0,p.assert)(L.Zn || !U.Zn,"Can not update clear viewable with drm track."));}});});this.xeb=O;this.wi.TH(this.U,this.Xsa);};N.prototype.OZ=function(I){var L,O,J;L=I.yi;O=I.Ha;J=I.lKa;I=I.i$;L && O?(this.SZ=new e.fbb(L,{Ha:String(O),lKa:!!J,htc:this.config.o2.mx,H2b:this.config.o2.lv,Kxc:this.config.Lxc,eO:this.config.eO},I),this.tO.OZ(this.SZ)):this.kzb || (I("SideChannel: pbcid/xid is missing."),this.kzb=!0);};N.prototype.yPa=function(){return void 0 !== this.Lq;};N.prototype.getTracks=function(I){return void 0 === I?(0,g.flatten)(this.X2):this.X2[I];};N.prototype.Wla=function(I,L){I=this.getTracks(I);L=L.nR(this.U,I.map(function(O){return O.ko;}));return "number" === typeof L && 0 <= L?I[L]:void 0;};N.prototype.getTrackById=function(I){var L;this.X2.some(function(O){return O.some(function(J){if(J.trackId === I)return (L=J,!0);});});L || this.console.warn("getTrackById not found:",I,"length:",this.X2.length);return L;};N.prototype.vi=function(I,L){return (I=this.dP(I)) && I[L];};N.prototype.dP=function(I){return this.Xsa[I];};N.prototype.vpc=function(I){var L,O;if(void 0 === I.Yqa || void 0 === I.yUa){L=this.wi.MW().filter(function(J){return void 0 !== J.streams[I.Jb];})[0];O=L.children.filter(function(J){return J.urls.some(function(Q){return Q.stream.id === I.Jb;});})[0];I.Yqa=L.id;I.yUa=O.id;}return {fQa:I.location === I.Yqa,wpc:I.Eb === I.yUa};};N.prototype.YWa=function(I,L,O){void 0 !== L && void 0 !== O && (this.bEb(I.mediaType,L),I.YWa(L,O));};N.prototype.bEb=function(I,L){var O;O=this.config.cpa;("location" === O || "video_location" === O && I === m.v.V) && this.ed.ssa(L);};N.prototype.Hf=function(I){(0,p.assert)(this.aN,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.aN(I);};N.prototype.ppa=function(I,L){var O;(0,p.assert)(!this.vc,"Unexpected normalizeTimestamp. Live segments not supported. Use AsePlaygraph.normalizeLiveSegment() instead.");O=this.Wla(m.v.V,I[m.v.V]);O || (this.console.trace("normalizeTimestamp looking for audio track in absense of video track"),O=this.Wla(m.v.X,I[m.v.X]));if(null !== O && void 0 !== O && O.jz)return (I=g.I.Ca(L),L=O.Hu(this.config,I,void 0,!0).sa,I.add(O.jz.ee).gn(L)?L:O.KI(this.config,I).za);};N.prototype.Fo=function(){var I;I=this;if(this.vp)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);m.g2.forEach(function(L){I.KMc(L) && I.vMc(L);});this.mMc();this.events.emit("urlsUpdated",{});return !0;};N.prototype.Hu=function(I,L,O){O=this.Wla(m.v.V,O);return (null === O || void 0 === O?void 0:O.jz) && O.Hu(I,L);};N.prototype.Kta=function(I,L){this.Xw.Kta(I,L);};N.prototype.Jqb=function(){var I;I=this.getTracks();I=I[(0,g.Ql)(I,function(L){return L.mediaType === m.v.V;})];(0,p.assert)(I,"AseViewable.getLiveSegmentDuration(): No video track");(0,p.assert)((0,v.eo)(I),"AseViewable.getLiveSegmentDuration(): Video stream undefined or not live");return I.Yk;};N.prototype.KMc=function(I){var L;L=this;return this.vp?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.Ta.reduce(function(O,J){return (0,g.q4)(O,J.ja.filter(function(Q){return Q.mediaType === I;}));},[]).map(function(O){return L.wi.Mta(L.J,O.De);}).every(function(O){return O;});};N.prototype.mMc=function(){(0,p.assert)(this.dz,"Headers not available on old architecture prefetch viewables.");this.dz.Fo();};N.prototype.vMc=function(I){var L,O,P;O=[];if(this.vp)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else try{for(var J=n.__values(this.Ta),Q=J.next();!Q.done;Q=J.next()){P=Q.value.Fo(I);P.length && O.push.apply(O,P);}}catch(Y){var S;S={error:Y};}finally{try{Q && !Q.done && (L=J.return) && L.call(J);}finally{if(S)throw S.error;}}};N.prototype.Dk=function(){var I;I=this;this.wi.Dk();this.SZ && m.g2.forEach(function(L){I.SZ.HFb("rebuffer",I.Yqb(L).Vvb);});};N.prototype.Yqb=function(I){return this.ONc[I];};N.prototype.rEc=function(){var I;if(0 !== this.Ksa.length){I=[];this.Ksa.forEach(function(L){L.resume() || I.push(L);});this.Ksa=I;}};N.prototype.eF=function(I,L){return this.dz.eF(I,L);};N.prototype.cGb=function(I,L,O){this.uI.push({K:L,stream:I,Gkc:O});};N.prototype.EDb=function(){this.uI=[];};N.prototype.aDc=function(I){this.uI=this.uI.filter(function(L){return L.stream !== I;});};N.prototype.$Cc=function(I){this.uI=this.uI.filter(function(L){return L !== I;});};N.prototype.VW=function(){var I;I=this;return this.Tw()?[]:this.uI.map(function(L){return new F.$cb(I,L);});};N.prototype.QC=function(I,L,O){(0,p.assert)(this.dz,"Headers not available on old architecture prefetch viewables.");return this.dz.QC(I,L,O);};N.prototype.V3=function(I,L){(0,p.assert)(this.dz,"Headers not available on old architecture prefetch viewables.");this.dz.V3(I,L);};N.prototype.zlc=function(I){var L;L=I.mediaType;this.vi(L,I.Jb).hMc(f.platform.LW()[L],this.yPa()?this.config.Nsc:0);this.events.emit("onHeaderFragments",I);};N.prototype.KCc=function(I){this.Ta.push(I);};N.prototype.ULc=function(I){I=this.Ta.indexOf(I);(0,p.assert)(-1 !== I,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ta.splice(I,1);};N.prototype.Vpa=function(I){var L;null === (L=this.Baa) || void 0 === L?void 0:L.wy(I);};N.prototype.kQ=function(I){this.vp?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",I):void 0 !== I.location && this.bEb(I.mediaType,I.location);};N.prototype.UF=function(I){this.vp?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",I):(0,B.DPa)(I) && this.tO.pL(I);};N.prototype.qo=function(I){var L;null === (L=this.Baa) || void 0 === L?void 0:L.tx(I);this.vp?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",I):this.Tw() || (0,B.DPa)(I) && this.tO.pL(I);};N.prototype.CY=function(I,L,O){var J;O && (null === (J=this.Baa) || void 0 === J?void 0:J.tx(I));};N.prototype.lx=function(I){this.vp?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",I):(0,B.DPa)(I) && (this.tO.eG(I,void 0,I.status,I.ah,I.Xg),this.Fo() || this.Hf({oi:I.XE || "unknown",uB:"NFErr_MC_StreamingFailure",RF:I.ah,Vj:I.status,Xg:I.Xg,Eb:I.stream.Eb}));};N.prototype.Wpa=function(I){(0,B.Zoc)(I) && this.Ksa.push(I);};N.prototype.yCb=function(){var I,L;this.sZa(null === (I=this.U.Ti) || void 0 === I?void 0:I.n6,null === (L=this.U.Ti) || void 0 === L?void 0:L.dW,!0);};N.prototype.mCc=function(){this.Hn.prefetch && void 0 !== this.Hn.prefetch.startTime && void 0 !== this.Hn.prefetch.duration && this.Hta("prefetch",this.Hn.prefetch.startTime,this.Hn.prefetch.duration,!1);this.Hn.execute && void 0 !== this.Hn.execute.startTime && void 0 !== this.Hn.execute.duration && this.Hta("execute",this.Hn.execute.startTime,this.Hn.execute.duration,!1);};N.prototype.sZa=function(I,L,O,J){var Q,P,S,Y,X;(0,p.assert)(this.U.Ti,"Missing manifest liveMetadata.");S=this.U.Ti;Y=S.n6;X=S.dW;S=this.Si;this.AH={startTime:null !== (Q=null !== Y && void 0 !== Y?Y:I) && void 0 !== Q?Q:S.startTime,endTime:null !== (P=null !== X && void 0 !== X?X:L) && void 0 !== P?P:S.endTime,EI:J};I=this.AH.startTime !== S.startTime;L=this.AH.endTime !== S.endTime;S=this.Ulc(S);if(O || I || L || S)(this.events.emit("liveEventTimesUpdated",n.__assign({O:this},this.AH)),this.mCc());(L || S) && this.Ta.forEach(function(T){T.yK();});};N.prototype.rMc=function(I,L){if(this.vz[I].zu !== L.zu || this.vz[I].Au !== L.Au)(this.vz[I]=L,this.events.emit("liveLoggingInfoUpdated",{O:this,mediaType:I,info:L}));};N.prototype.Hta=function(I,L,O,J){var Q,P,S,Y,X;Q=!this.Hn.execute || this.Hn.execute.startTime !== L || this.Hn.execute.duration !== O || J;J=!this.Hn.prefetch || this.Hn.prefetch.startTime !== L || this.Hn.prefetch.duration !== O || J;if(this.qd.n6){P=this.qd.M6b(L);S=1E3 * Number(O);Y=Math.floor(Math.random() * S) + P.G;P=P.G;X="execute" === I?"ending":"prefetch";if("execute" === I && Q || "prefetch" === I && J)(this.Hn[I]={startTime:L,duration:O},this.web[I]={rawStartMs:P,rawEndMs:P + S,selectedStartMs:Y},this.kA=this.kA.filter(function(T){return T.type !== X;}),this.kA.push({Bba:Y,bdc:Y,type:X}),this.events.emit("livePostplayUpdated",{O:this,Q$:Y,action:I}));}else this.console.warn("Received oc live message prior to event start, ignoring",{action:I,actionTime:L,duration:O});};N.prototype.JSa=function(I,L){var O;if(this.vc && I.mediaType === m.v.X){L=(0,g.oc)(L.ja,function(J){return J.mediaType === m.v.V;});(0,p.assert)((0,v.eo)(L),"onFirstFragmentReceived called with non-live branch");O=L.Cw;I.bwc(L.ml,this.config.kwb?O:g.I.fa);this.Ta.forEach(function(J){return J.Rf?J.dS(I):J.Rf;});}};N.prototype.cm=function(I){void 0 === I && (I=!1);return this.qd.cm(I);};N.prototype.Ym=function(I){void 0 === I && (I=!1);return this.qd.Ym(I);};N.prototype.cXa=function(I){this.qd.cXa(I);this.bi && this.bi.ufc();};N.prototype.TVa=function(I){this.qd.TVa(I);};N.prototype.xlc=function(I){var L,O,J,Q;if(!this.Oga){L=I.ona;O=I.nxc;J=I.pxc;Q=I.qxc;I=I.Eb;this.console.warn("Streaming failure, is permanent: " + L + ", last error code: " + O + ", last http code: " + J + ", last native code: " + Q + ", server: " + I);L?(this.console.warn(" > Permanent failure, done"),L=this.Hf({oi:"Permanent failure",uB:"NFErr_MC_StreamingFailure",RF:O,Vj:J,Xg:Q,Eb:I})):(this.console.warn(" > We are buffering, calling it!"),L=this.Hf({oi:"Temporary failure while buffering",uB:"NFErr_MC_StreamingFailure",RF:Q,Vj:J,Xg:Q,vYa:!0,Eb:I}));L || (this.console.warn(" > Resetting failures"),this.tO.sZ());}};N.prototype.wlc=function(){(0,p.assert)(this.ZI,"Error handling not available on old architecture prefetch viewables.");this.Oga || (this.Fo(),this.ZI());};N.prototype.Ulc=function(I){return I.EI && this.AH.EI?this.AH.EI < I.EI:this.AH.EI !== I.EI;};return N=n.__decorate([u.xW],N);})(t.DL);b.F0a=a;},26286:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.n1a=void 0;d=a(22970);n=a(91176);t=(function(){function c(g,f,e,h){this.J=g;this.BK=f;this.TF=e;this.cTa=h;this.HFa=new n.An();}Object.defineProperties(c.prototype,{O:{get:function(){var g;return null === (g=this.Xca) || void 0 === g?void 0:g.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Tr:{get:function(){return this.HFa.promise;},enumerable:!1,configurable:!0}});c.prototype.Ja=function(){var g;this.O && (this.O.ULc(this.Ba),this.cTa(this.O));null === (g=this.Xca) || void 0 === g?void 0:g.fm.release();this.Xca=void 0;};c.prototype.xma=function(){return this.BK.xma(this.J);};c.prototype.Sb=function(g,f){return d.__awaiter(this,void 0,void 0,function(){var e,h,l,k,m;return d.__generator(this,function(p){switch(p.label){case 0:return (this.Ba=g,this.BK.xma(this.J) || !f?[3,2]:[4,f()]);case 1:p.S();if(g.Gd)throw Error("Branch cancelled");p.label=2;case 2:return (e=this.BK.Cr(this.J),h=e.Tr,l=e.O,k=e.fm,this.Xca={fm:k,O:l},l?(this.Btb(l,g,!1),this.HFa.resolve(l),[2,l]):[4,h]);case 3:return (m=p.S(),this.HFa.resolve(m),this.Btb(m,g,!0),[2,m]);}});});};c.prototype.Btb=function(g,f,e){this.Xca && (this.Xca.O=g,g.KCc(f),this.TF(f,g,e));};return c;})();b.n1a=t;},39795:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.M4a=void 0;d=a(22970);n=a(66164);c=a(8171);g=a(35018);t=a(81392);f=a(52571);e=a(42431);a=(function(h){function l(k,m,p,r){var q;q=h.call(this,k) || this;q.O=k;q.console=m;q.config=p;q.vSa=r;q.headers=[Object.create(null),Object.create(null)];q.Ivb=[void 0,void 0];q.gs=e.RL.instance.oI("headers","" + q.O.J,!0,!1,{},q.config);q.gs.Sb();return q;}d.__extends(l,h);Object.defineProperties(l.prototype,{fe:{get:function(){return this.gs;},enumerable:!1,configurable:!0}});l.prototype.Qe=function(){var k;k=this;this.headers.forEach(function(m,p){for(var r in m)(m[r].Qe(),k.TJa(p,r));});this.gs && e.RL.instance.Vja(this.gs);this.gs=void 0;};l.prototype.eF=function(k,m){return this.headers[k][m];};l.prototype.QC=function(k,m,p){var r,q,u,v;r=this.config;if(this.eF(k.mediaType,k.Jb))return !1;q=this.aqc;u=this.bqc;if(void 0 !== r.WRa && void 0 !== q && void 0 !== u){v=n.platform.time.na();if(v - q < r.WRa || v - u < r.WRa)return !1;}k=this.yLc(k,m,p);this.bqc=n.platform.time.na();return k;};l.prototype.yLc=function(k,m,p){var r;r=k.mediaType;c.Gv.CB(r);if(this.eF(r,k.Jb))k=!1;else {m={K:m,offset:0,ka:this.cW(k)};p || (p=this.gs);(0,f.assert)(p);k.xa && p.track.wIb && (m.offset=0,m.ka=0);k.url && (this.O.Yqb(r).Vvb=k.SW(!0));if(!this.S8b(k,p,m).open())return (this.O.Hf({oi:"MediaRequest open failed (2)",uB:"NFErr_MC_StreamingFailure"}),!1);k=!0;}return k;};l.prototype.Fo=function(){var k,m,p;k=this;m=[];p=this.O.vc;this.headers.forEach(function(r,q){var v;c.Gv.CB(q);for(var u in r){q=r[u];v=q.yZa(p);1 === v?m.push(q):2 === v && k.O.Hf({oi:"swapUrl failure"});}});return m;};l.prototype.qo=function(k,m){var p,r;if(k instanceof g.$ua){p=k.mediaType;r=c.Gv.CB(p);this.O.vp?r.warn("header onrequestcomplete ignored, session shutdown:",k.toString()):(this.vSa({type:"logdata",target:"startplay",Hc:{usedNativeDataView:k.cNc}}),k.nqa > k.iTa && (this.Ivb[p]=k.nqa),this.Dlc(k),this.aqc=n.platform.time.na());this.FO(k,m);}};l.prototype.V3=function(k,m){var p,r,q;p=this.headers[k];for(r in p){q=p[r];q && !q.stream.La && q.Tf === m && (this.TJa(k,r),q.Qe());}};l.prototype.d_b=function(k){this.headers[k.mediaType][k.Jb]=k;};l.prototype.Dlc=function(k){var m,p,r,u;m=this.config;p=c.Gv.CB(k.mediaType);r=k.stream.La;if(m.zja){m=r.length;p.trace("fragment count:",m);for(var q=0;q < m;++q){u=r.get(q);p.trace("fragment: " + q + ", startPts: " + u.sa.G + ", duration: " + u.Rb.G + ", offset: " + u.offset);}}this.b_b(k);};l.prototype.b_b=function(k){var m,p;m=k.mediaType;p=k.Jb;c.Gv.CB(m);k.qAb && (k.qAb.forEach(function(r){(r=r.vi(m,p)) && r !== k.stream && !r.eh && r.zkb(k.stream);}),k.qAb=void 0);this.O.zlc(k);};l.prototype.S8b=function(k,m,p){var r,q;r=this;q=c.Gv.CB(k.mediaType);k=new g.$ua(k,this.config,m,p,this,p.K,!1,q);this.config.o0b && (m=this.O.SZ) && p.HC && (p.HC=m.tu({}));k.addListener("headerRequestCancelled",function(u){r.Alc(u.request);});this.d_b(k);return k;};l.prototype.cW=function(k){var m,p,r,q;m=k.tn;p=k.O;r=p.duration;q=this.config;return k.xa?512:p.Gu?q.nob?q.nob:q.L7:q.aNc && m?m.offset + m.size:(k=this.Ivb[k.mediaType])?k + 128:q.cW?2292 + 12 * Math.ceil(r / 2E3):q.L7;};l.prototype.Alc=function(k){this.TJa(k.mediaType,k.Jb);};l.prototype.TJa=function(k,m){delete this.headers[k][m];};return l;})(t.DL);b.M4a=a;},27457:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.C6a=void 0;d=a(22970);n=a(91176);c=a(59458);g=a(48170);t=(function(){function f(e,h,l){this.O=e;this.config=h;this.console=l;this.nFa=0;this.wba=null;e.vc && (this.O.yCb(),this.IEa=this.fyc(),this.nFa=this.E9b(),g.u && l.log(("Request offset is ").concat(this.nFa,"ms")));}Object.defineProperties(f.prototype,{hEb:{get:function(){return this.nFa;},enumerable:!1,configurable:!0}});f.prototype.SIa=function(e){return (e instanceof n.I?e:n.I.Ca(new Date(e).getTime())).ca(this.$sa);};f.prototype.M6b=function(e){var h;e=this.SIa(e);h=this.HI;if(h)return e.ca(h);this.console.warn("LivePositionService.convertEpochToLiveUXContentTimestamp(): Event start time is not available");return n.I.fa;};f.prototype.vkb=function(e){return this.$sa.add(e);};f.prototype.ukb=function(e){return this.IEa.add(e);};f.prototype.lsa=function(e){return this.O.Xw.lsa(e);};f.prototype.P1b=function(e){return e.add(n.I.Ca(this.config.gl));};Object.defineProperties(f.prototype,{$sa:{get:function(){return this.IEa.ca(this.Cdc);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{hJc:{get:function(){var e;e=this.O.Si.EI;if(void 0 !== e)return n.I.Ca(e);e=this.O.Si.endTime;if(void 0 === e)return n.I.zg;e=new Date(e).getTime() + this.config.mwb;return n.I.Ca(e);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{n6:{get:function(){var e;e=this.O.Si.startTime;if(void 0 !== e)return n.I.Ca(new Date(e).getTime());},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dW:{get:function(){var e;e=this.O.Si.endTime;if(void 0 !== e)return n.I.Ca(new Date(e).getTime());},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{SHb:{get:function(){return this.hJc.ca(this.$sa);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{HI:{get:function(){var e;e=this.O.Si.startTime;if(void 0 !== e)return this.SIa(e);},enumerable:!1,configurable:!0}});f.prototype.Ym=function(e){return n.I.Ca(Math.max(0,this.cm(e) - this.config.gl));};Object.defineProperties(f.prototype,{vlb:{get:function(){return {Iwb:n.I.Ca(this.cm(!0)),Xqc:this.Ym(!0)};},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fka:{get:function(){var e;e=this.O.Si.endTime;if(void 0 !== e)return this.SIa(e);},enumerable:!1,configurable:!0}});f.prototype.vJ=function(){return null !== this.wba;};f.prototype.cXa=function(e){this.wba=n.I.Ca(this.O.Xw.Bj - this.config.gl - e - this.config.XHc);};f.prototype.TVa=function(e){this.vJ() && (this.wba=this.wba.add(n.I.Ca(e)));};f.prototype.XMa=function(e){return e && this.vJ()?this.wba:this.IEa;};f.prototype.WMa=function(e){return this.XMa(e).add(n.I.Ca(this.config.V8)).add(n.I.Ca(this.hEb));};f.prototype.cm=function(e){e=this.WMa(e).G;return Math.max(0,this.O.Xw.Bj - e);};Object.defineProperties(f.prototype,{Cdc:{get:function(){var e,h;h=this.O.U.Ti;h=null !== (e=null === h || void 0 === h?void 0:h.Eka) && void 0 !== e?e:0;return n.I.Ca(h);},enumerable:!1,configurable:!0}});f.prototype.ykb=function(e){return this.HI?e.add(this.HI):this.vlb.Iwb;};f.prototype.fyc=function(){var e,h;e=this.O.U.Ti;(0,n.assert)(e,"LivePositionService.parseManifestAvailabilityStartTime(): Expected live metadata");h=d.__read(Object.keys(e.lR),1)[0];e=new Date("string" === typeof e.wN?e.wN:e.lR[h].wN).getTime();return n.I.Ca(e);};f.prototype.E9b=function(){return Math.random() < this.config.Wna?(g.u && (0,n.assert)(0 >= this.config.U8,"`liveEarlyRequestDefaultoffsetMs` must be negative"),this.config.U8):(0,c.YCb)(0,this.config.aoa,{Mnc:!0,fnc:!0});};return f;})();b.C6a=t;},31303:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.I6a=b.$Ub=void 0;d=a(66164);n=a(91176);c=a(48170);g=(function(){function f(){this.atc=20;this.max=Number.NEGATIVE_INFINITY;this.min=Number.POSITIVE_INFINITY;this.trace=[];this.IWa=[];this.count=0;}f.prototype.Fha=function(e,h){this.count++;this.max < e && (this.max=e);this.min > e && (this.min=e);this.trace.length >= this.atc && (this.trace.shift(),this.IWa.shift());this.trace.push(e);this.IWa.push(h);};return f;})();b.$Ub=g;t=(function(){function f(e,h){this.O=e;this.config=h;this.lta=new n.An();this.console=new d.platform.Console("ASEJS","asejs|serverclock");this.ifb=new g();}Object.defineProperties(f.prototype,{Bj:{get:function(){var e;if(void 0 === this.Mp){e=d.platform.time.now();c.u && this.console.debug("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync." + ("returning ").concat(e));return e;}return d.platform.time.na() + this.Mp;},set:function(e){var h;this.SB=d.platform.time.na();this.Vw=e;h=this.Vw - this.SB;(void 0 === this.Mp || h > this.Mp) && this.vKb(h,e);this.lta.DK || (c.u && this.console.trace("LiveServerClock: synchronized",{lwb:this.O.Ym()}),this.lta.resolve());},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fKc:{get:function(){return this.lta.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qpc:{get:function(){return this.lta.DK;},enumerable:!1,configurable:!0}});f.prototype.vKb=function(e,h){var l;l=this.Mp;this.Mp=e;void 0 !== l && (this.IEb(l),this.ifb.Fha(e - l,h));c.u && this.console.debug("Updating serverTimeDelta from ",l,"ms to ",e,"ms");};f.prototype.lsa=function(e){var h;return e - (null !== (h=this.Mp) && void 0 !== h?h:0);};f.prototype.Kta=function(e,h){var l,k;c.u && this.console.log("updateServerTimeMs: ",e,h);if(!this.config.nka || void 0 === this.Mp || 0 > h)this.Bj=e;else {this.SB=d.platform.time.na();this.Vw=e;l=this.Vw - this.SB;k=this.SB + this.Mp;if(k < this.Vw || k > this.Vw + h + this.config.Xoa)(c.u && this.console.debug("updateServerTimeDelta: ",this.Mp,l,this.Vw,k,h),this.vKb(l,e));}};Object.defineProperties(f.prototype,{JWa:{get:function(){return this.ifb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{nO:{get:function(){var e;e=d.platform.time.na();return void 0 === this.Mp?{Hjb:e}:{Hjb:e,Bj:e + this.Mp,SB:this.SB,Vw:this.Vw};},enumerable:!1,configurable:!0}});f.prototype.GEb=function(){var e;if(void 0 !== this.SB && void 0 !== this.Vw){e=this.Mp;this.Mp=this.Vw - this.SB;c.u && this.console.debug("resync: Updating serverTimeDelta from ",e,"ms to ",this.Mp,"ms");this.IEb(e);}};f.prototype.IEb=function(e){this.O.vJ && ((0,n.assert)(e && this.Mp,"Unexpected simulatedLiveEdge during initial clock sync. simulatedLiveEdge should be set during pipeline normalization AFTER the initial header request and intial clock sync occurs."),this.O.TVa(this.Mp - e));};return f;})();b.I6a=t;},10943:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.r9a=void 0;d=a(66164);n=a(79048);c=a(91176);t=(function(){function g(f,e){this.J=f;this.GNc=e;this.jB=!0;this.Vsb=this.Zn=this.Gu=!1;this.R=("").concat(n.mq);this.vJ=this.Qs=this.vc=!1;this.console=new d.platform.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(g.prototype,{Bj:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return d.platform.time.now();},enumerable:!1,configurable:!0}});g.prototype.yub=function(){return !1;};g.prototype.getTrackById=function(){};g.prototype.Dk=function(){};g.prototype.EDb=function(){};g.prototype.Hf=function(){return !0;};g.prototype.ppa=function(f,e){var h;(0,c.assert)(this.HO,"Padding viewable must have fragmentDuration set when timestamp normalization is requested");f=Math.floor(e / this.HO) * this.HO;h=Math.ceil(e / this.HO) * this.HO;return Math.abs(e - f) <= Math.abs(e - h)?c.I.Ca(f):c.I.Ca(h);};g.prototype.Ym=function(){};g.prototype.cm=function(){return -1;};g.prototype.Jqb=function(){return c.I.Ca(-1);};return g;})();b.r9a=t;},66133:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$cb=void 0;t=(function(){function a(d,n){var c;this.O=d;this.kmb=n;this.YJ=-Infinity;this.HU="available";c=n.stream;n=n.Gkc;n=n();this.identifier=("").concat(c.J,"-").concat(c.mediaType,"-").concat(c.bitrate);this.mediaType=c.mediaType;this.Mg=n.Mg;this.Xd=n.Xd;this.et=n.et;this.vn=n.vn;this.Tn=n.Tn;this.KQ=0;this.JQ=Infinity;this.sv=this.$F=1;this.qW=0;this.groupId=("").concat(d.J);this.Sw=!0;this.Ak=this.bo=!1;}a.prototype.vE=function(){return {vQ:!0};};a.prototype.yJ=function(){var d,n;d=this.kmb;n=d.stream;if(n.QC(d.K))return (this.O.aDc(n),{Sf:!0,reason:"success"});this.O.$Cc(this.kmb);return {Sf:!1,reason:"viewableTryIssueHeaderRequest"};};a.prototype.toJSON=function(){return {mediaType:this.mediaType,Zy:this.Zy,Mg:this.Mg,Xd:this.Xd,et:this.et,vn:this.vn,Tn:this.Tn,qW:this.qW,KQ:this.KQ,$F:this.$F,JQ:this.JQ,sv:this.sv,Ig:this.Ig,d_:this.d_,groupId:this.groupId,Sw:this.Sw,bo:this.bo,Ak:this.Ak,identifier:this.identifier};};return a;})();b.$cb=t;},24473:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fbb=void 0;t=a(66164);d=a(69575);n=t.platform.Cl;new t.platform.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function c(g,f,e){this.x5=f;this.i$=e;this.pZb=new d.KDa(g);this.Ha=f.Ha;this.gWb=1E3 * f.htc / f.H2b;this.abc=f.lKa;this.lhb=!1;}c.prototype.tu=function(g){var f,e,h;f={s_xid:this.Ha,dl:this.abc?1:0};this.x5.Kxc && (f.r_pad=1);g.gI && (f.bs=(0,d.Yia)(Math.floor(g.gI / this.gWb) + 1,1,5));g.kpa && (f.limit_rate=g.kpa);g.fib && (f.bb_reason=g.fib);g.YIb && (f.tm=g.YIb);g.DBb && (f.play_ms=g.DBb);if(g.DAb){e=g.DAb;h=e.cv;"HYBRID" === h?(f.hybrid=e.$W.Emc,f.cspr=e.$W.kn,f.cu=e.$W.PHa,f.cldl=e.$W.DVa,f.h_ms=e.$W.itc):"CCSP" === h && ((h=e.mna()) || !h && this.lhb) && (f.cpr_ss=e.vG,f.cpr_ca=e.EE,f.cpr_rec=e.dG,this.lhb=h);}g.lHa && (f.br="" + g.lHa.start + "+" + g.lHa.size);return this.aYb(f);};c.prototype.HFb=function(g,f){var e,h;if(this.x5.eO)try{e=new n(void 0,"notification");h=this.tu({fib:g});f && h && e.open(f,void 0,2,void 0,void 0,void 0,h);}catch(l){this.i$("SideChannel: Error when sending sendBlackBoxNotification. Error: " + l);}};c.prototype.aYb=function(g){var f;try{f=this.NYb(g);return this.pZb.encrypt(f);}catch(e){this.i$("SideChannel: Error when obfuscating msg. Error: " + e);}};c.prototype.NYb=function(g){return Object.keys(g).map(function(f){return encodeURIComponent(f) + "=" + encodeURIComponent(JSON.stringify(g[f]));}).join("&");};return c;})();b.fbb=a;},74418:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.t0a=void 0;d=a(22970);t=a(90745);n=a(91176);c=a(91176);g=a(66164);f=a(48170);e=a(29358);h=a(29092);l=a(55024);k=a(63002);m=a(53693);p=a(33604);r=a(52571);q=a(54540);u=a(69575);v=a(54923);w=a(58049);a=(function(x){function y(){var A;A=x.apply(this,d.__spreadArray([],d.__read(arguments),!1)) || this;A.cfb=0;A.oFa=0;A.rga=0;A.aEa=0;return A;}d.__extends(y,x);y.prototype.FVa=function(A){var z,B,C,D;x.prototype.FVa.call(this,A);this.cfb++;this.oFa++;this.vfb=g.platform.time.na();this.VT || (this.VT={B6b:null === (z=A.za) || void 0 === z?void 0:z.G,mja:null === (B=A.sa) || void 0 === B?void 0:B.G,index:A.index},this.Gga || (this.Gga=this.VT));z=this.Vga;B=!1;z && 100 > Math.abs(z.Mb.G - (null === (C=A.Pb) || void 0 === C?NaN:C.G)) && (this.rga+=A.Mb.G - z.Mb.G,this.aEa++,B=!0);B || (this.rga=null === (D=A.Rb) || void 0 === D?void 0:D.G,this.aEa=1);this.Vga=A;};y.prototype.stop=function(){x.prototype.stop.call(this);this.oFa=0;this.VT=void 0;};y.prototype.zqb=function(){var A,z,B,C,D;z=this.vx;B=z.wja;if(B){D=B.Ie(this.VD);D && D.Ue && (C=D.Ue.zrb());return {RM:C,currentBranch:{sId:B.K && B.K.id,cancelled:B.Gd},currentReceivedCount:z && z.i$b,totalReceivedCount:this.cfb,currentState:z && z.zlb || "Uninitialized",lastRequestPushed:this.Vga && ({contentEndPts:null === (A=this.Vga.za) || void 0 === A?void 0:A.G,fragmentIndex:this.Vga.index}),tslp:this.vfb && g.platform.time.na() - this.vfb,cpts:this.rga,crq:this.aEa,rslp:this.oFa,firstRequestSSPushed:this.VT && ({contentStartPts:this.VT.mja,fragmentIndex:this.VT.index}),firstRequestPushed:this.Gga && ({contentStartPts:this.Gga.mja,fragmentIndex:this.Gga.index})};}};return y;})((function(x){function y(A,z,B,C,D,F,H,E,G,K,N){var I;I=x.call(this) || this;I.iw=A;I.VD=z;I.config=C;I.console=D;I.player=F;I.ev=H;I.Tc=E;I.Do=G;I.TM=new c.Mt(!1);I.LM=new c.Mt(n.I.Ca(-Infinity));I.console=(0,u.rf)(g.platform,I.console,("AsePlayerBuffer [").concat(z,"]:"));I.vx=new e.l1a(I.console,B,z);I.resume();F && H && E && (N?(I.mC=N,N.zy(F,E,I.iw)):I.Wkb(),A=new k.I3a(null === F || void 0 === F?void 0:F.Tc,n.I.Ca(I.config.T9),D),I.vx.g4(A),0 < I.config.aib && (I.$hb=new v.c1a(n.I.Ca(I.config.h2b),I.config.aib,I.console),I.vx.g4(I.$hb)),I.config.dhb && (F=new m.o9a(null === F || void 0 === F?void 0:F.Tc,I.config.dhb,n.I.Ca(I.config.B0b),D),I.vx.g4(F)),K && (I.lFb=new p.Tab(K,I.mediaType,D),I.vx.g4(I.lFb)),f.u && I.config.tcc && (D=new q.F6a(D),I.vx.g4(D)));I.iw.on("requestAppended",function(L){I.TM.set(!0);L.request.Mb && I.LM.set(L.request.Mb);I.emit("requestAppended");});return I;}d.__extends(y,x);Object.defineProperties(y.prototype,{lo:{get:function(){return this.TM;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{AP:{get:function(){return this.LM;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bub:{get:function(){return this.vx.Oi;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{vR:{get:function(){return this.iw.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.Wkb=function(){var A;(0,r.assert)(this.player && this.ev && this.Tc,"Player should be defined");A=this.mC;this.mC && this.mC.bTa();this.mC=new l.S$a(this.VD,this.console,this.player,this.iw,this.player.events,this.ev,this.Tc,this.Do);this.mC.VYa(A);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.VD;},enumerable:!1,configurable:!0}});y.prototype.zqb=function(){};y.prototype.resume=function(){f.u && this.console.trace("resume");this.uHb();};Object.defineProperties(y.prototype,{m1b:{get:function(){return this.OT;},enumerable:!1,configurable:!0}});y.prototype.tba=function(){this.iw.tpa(!0);};y.prototype.reset=function(A,z){var B,C,D,F;void 0 === A && (A=!1);f.u && this.console.trace("AsePlayerBuffer.reset mediaTypes:",z);this.stop();this.iw.reset(A);this.TM.set(!1);this.LM.set(n.I.Ca(-Infinity));A || (this.OT=void 0,null === (B=this.mC) || void 0 === B?void 0:B.reset(),A=null === (C=this.player) || void 0 === C?void 0:C.jh,null === (D=this.lFb) || void 0 === D?void 0:D.OSa(A,z || A),null === (F=this.$hb) || void 0 === F?void 0:F.OSa());};y.prototype.Uc=function(A){void 0 === A && (A=!1);f.u && this.console.trace("restart");this.reset(A);this.uHb(!0);};y.prototype.stop=function(){f.u && this.console.trace("stop");this.vx.IHb();};y.prototype.close=function(){var A;f.u && this.console.trace("close");null === (A=this.mC) || void 0 === A?void 0:A.close();};y.prototype.Ja=function(){this.stop();this.close();};y.prototype.rY=function(){this.config.ala && this.iw.mfc();this.iw.hka();};y.prototype.SK=function(A){this.iw.SK(A);};y.prototype.cfc=function(A){this.iw.jvc(A);};y.prototype.sk=function(A){var z;return !(null === (z=this.mC) || void 0 === z || !z.sk(A));};y.prototype.uHb=function(A){if(!this.vx.Oi || A)(this.vx.mEc(),h.AsyncIterator.xna(this.vx,this.Gpc.bind(this)));};y.prototype.Gpc=function(A){if(!A.done)if((A=A.value,(0,w.MPa)(A)))(this.LM.set(A.Ba.Mb),this.TM.set(!0));else try{this.FVa(A);}catch(z){this.console.error("Error in requestReceived",z);}};y.prototype.FVa=function(A){var z,B,C,D,F,H,E,G;f.u && this.console.trace(("requestReceived: ").concat(null === (z=this.vx.wja) || void 0 === z?void 0:z.K.id) + (" ").concat(A.toString(),", edit: ").concat(JSON.stringify(A.ma)));this.iw.endOfStream?f.u && this.console.error("Buffer manager has declared EOS, ignoring request",A.toString()):(this.OT?(this.OT.$pc=null === (H=A.za) || void 0 === H?void 0:H.G,this.OT.eqc=null === (E=A.Mb) || void 0 === E?void 0:E.G,this.OT.Kvb=A.Mb):this.OT={RYc:null === (B=A.sa) || void 0 === B?void 0:B.G,TYc:null === (C=A.Pb) || void 0 === C?void 0:C.G,$pc:null === (D=A.za) || void 0 === D?void 0:D.G,eqc:null === (F=A.Mb) || void 0 === F?void 0:F.G,Kvb:A.Mb},A.Fs && A.stream.track.Zn && (null === (G=this.player) || void 0 === G || !G.o8(A.O.J)) && this.emit("drmNeeded",{J:A.O.J,Ai:A.Pb}),this.iw.k1b(A));};return y;})(t.EventEmitter));b.t0a=a;},92140:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nbb=void 0;t=(function(){function a(){this.mmc=this.tja([{x:32,y:3.3},{x:48,y:3.65},{x:64,y:4.24},{x:80,y:4.56},{x:96,y:4.67}]);this.xOc=this.tja([{x:16,y:2},{x:32,y:3.2},{x:48,y:3.6},{x:64,y:3.8},{x:80,y:4.3},{x:96,y:4.5},{x:112,y:4.6},{x:128,y:4.7},{x:144,y:4.8}]);this.q$b=this.tja([{x:48,y:2.73},{x:64,y:3.15},{x:80,y:3.39},{x:96,y:3.59},{x:128,y:4.55},{x:192,y:4.8}]);this.p$b=this.tja([{x:192,y:2.9},{x:256,y:3.4},{x:320,y:3.8},{x:384,y:4.3},{x:448,y:4.6},{x:512,y:4.75},{x:576,y:4.76},{x:640,y:4.9},{x:768,y:4.9}]);}a.hic=function(){a.instance || (a.instance=new a());return a.instance;};a.prototype.tja=function(d){d.sort(function(n,c){return n.x - c.x;});return function(n){var c,g;if(n < d[0].x){c=(d[1].y - d[0].y) / (d[1].x - d[0].x);g=d[0].y - c * d[0].x;return c * n + g;}if(n > d[d.length - 1].x)return (c=(d[d.length - 1].y - d[d.length - 2].y) / (d[d.length - 1].x - d[d.length - 2].x),g=d[d.length - 1].y - c * d[d.length - 1].x,c * n + g);for(g=0;g < d.length - 1;g++)if(n >= d[g].x && n <= d[g + 1].x)return (c=(d[g + 1].y - d[g].y) / (d[g + 1].x - d[g].x),g=d[g].y - c * d[g].x,c * n + g);};};a.prototype.Hsa=function(d,n){return (-1 !== n.indexOf("xheaac")?this.xOc:-1 !== n.indexOf("heaac")?this.mmc:-1 !== n.indexOf("ddplus-2")?this.q$b:this.p$b)(d);};return a;})();b.nbb=t;},71472:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qda=void 0;d=a(22970);n=a(52571);t=a(85254);c=a(5800);a=a(71808);g=(function(){function f(e,h){this.console=e;this.mb=[];this.pg=void 0;this.Ne=0;h && h.length && (Array.isArray(h)?(this.mb=h.slice(),this.W2(0,this.mb.length)):h instanceof f && (this.mb=h.mb.slice(),this.W2(0,this.mb.length)));}Object.defineProperties(f.prototype,{length:{get:function(){return this.mb.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.mb.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{first:{get:function(){return this.mb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xd:{get:function(){return this.mb[this.mb.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tb:{get:function(){return this.first && this.first.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ib:{get:function(){return this.xd && this.xd.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{su:{get:function(){return this.pg;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ka:{get:function(){return this.Ne;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{P:{get:function(){return this.first && this.first.P;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xo:{get:function(){return this.first && this.first.xo;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return this.mb;},enumerable:!1,configurable:!0}});f.prototype.gMc=function(e){this.Ne+=e;};f.prototype.ria=function(){var e;if(0 === this.mb.length)((0,n.assert)(void 0 === this.pg),(0,n.assert)(0 === this.Ne));else {(0,n.assert)(this.pg instanceof c.dD);(0,n.assert)("number" === typeof this.Ne);(0,n.assert)(void 0 !== this.su && this.su.tb === this.tb);e=this.mb.reduce(function(h,l,k){return 0 === k || l.tb === h?l.Ib:h;},0);(0,n.assert)(this.su.Ib === e);(0,n.assert)(this.mb.reduce(function(h,l,k){return 0 === k || l.tb === h?l.Ib:h;},0) === this.su.Ib);(0,n.assert)(this.mb.reduce(function(h,l){return h + l.ka;},0) === this.Ne);}};f.prototype.get=function(e){0 > e && (e+=this.mb.length);return this.mb[e];};f.prototype.push=function(e){this.mb.push(e);this.W2(this.mb.length - 1);return this.length;};f.prototype.unshift=function(e){this.mb.unshift(e);this.W2(0,1);return this.length;};f.prototype.pop=function(){if(0 !== this.mb.length)return (this.kFa(this.mb.length - 1),this.mb.pop());};f.prototype.shift=function(){if(0 !== this.mb.length)return (this.kFa(0),this.mb.shift());};f.prototype.splice=function(e,h){for(var l,k=[],m=2;m < arguments.length;m++)k[m - 2]=arguments[m];0 > e && (e+=this.mb.length);0 > e && (e=0);e > this.mb.length && (e=this.mb.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.mb.length - e);0 < h && this.kFa(e,e + h);m=(l=this.mb).splice.apply(l,d.__spreadArray([e,h],d.__read(k),!1));0 < k.length && this.W2(e,e + arguments.length - 2);return m;};f.prototype.slice=function(e,h){void 0 === e && (e=0);void 0 === h && (h=this.mb.length);0 > e && (e+=this.mb.length);if(e >= this.mb.length)return new f(this.console);h > this.mb.length && (h=this.mb.length);0 > h && (h+=this.mb.length);return new f(this.console,this.mb.slice(e,h));};f.prototype.Ps=function(e){if(0 === this.mb.length || e.tb >= this.Ib)this.push(e);else if(e.Ib <= this.tb)this.unshift(e);else {for(var h=0,l=this.mb.length - 1,k;h < l - 1;)(k=Math.floor((l + h) / 2),(0,n.assert)(k !== l && k !== h),e.tb >= this.mb[k].Ib?h=k:l=k);(0,n.assert)(h !== l,"Fragments may not be in order");(0,n.assert)(this.mb[h].Ib <= e.tb && this.mb[l].tb >= e.Ib,"Inserted fragment does not fit within array");this.splice(l,0,e);}};f.prototype.remove=function(e){e=this.mb.indexOf(e);if(0 > e)return !1;this.splice(e,1);return !0;};f.prototype.concat=function(){for(var e=[],h=0;h < arguments.length;h++)e[h]=arguments[h];e=e.map(function(l){return l.mb;});return new f(this.console,Array.prototype.concat.apply(this.mb,e));};f.prototype.forEach=function(e){var h;h=this;this.mb.forEach(function(l,k){return e(l,k,h);});};f.prototype.some=function(e){var h;h=this;return this.mb.some(function(l,k){return e(l,k,h);});};f.prototype.every=function(e){var h;h=this;return this.mb.every(function(l,k){return e(l,k,h);});};f.prototype.map=function(e){var h;h=this;return this.mb.map(function(l,k){return e(l,k,h);});};f.prototype.reduce=function(e,h){var l;l=this;return this.mb.reduce(function(k,m,p){return e(k,m,p,l);},h);};f.prototype.indexOf=function(e){return this.mb.indexOf(e);};f.prototype.find=function(e){var h,l;h=this;return this.mb.some(function(k,m){l=m;return e(k,m,h);})?this.mb[l]:void 0;};f.prototype.findIndex=function(e){var h,l;h=this;return this.mb.some(function(k,m){l=m;return e(k,m,h);})?l:-1;};f.prototype.filter=function(e){var h;h=this;return new f(this.console,this.mb.filter(function(l,k){return e(l,k,h);}));};f.prototype.rW=function(e){for(var h=this.mb.length - 1;0 <= h;--h)e(this.mb[h],h,this);};f.prototype.HXa=function(e){for(var h=this.mb.length - 1;0 <= h;--h)if(e(this.mb[h],h,this))return !0;return !1;};f.prototype.vLa=function(e){if(this.empty || e < this.sa.G || e >= this.za.G)return -1;for(var h=0,l=this.mb.length - 1,k;l > h;){k=Math.floor((l + h) / 2);if(e >= this.mb[k].sa.G && e < this.mb[k].za.G){l=k;break;}e < this.mb[k].za.G?l=k - 1:h=k + 1;}return l;};f.prototype.u6=function(e){if(this.empty || e < this.Pb.G || e >= this.Mb.G)return -1;for(var h=0,l=this.mb.length - 1,k;l > h;){k=Math.floor((l + h) / 2);if(e >= this.mb[k].Pb.G && e < this.mb[k].Mb.G){l=k;break;}e < this.mb[k].Mb.G?l=k - 1:h=k + 1;}return l;};f.prototype.Cob=function(e){e=this.u6(e);return 0 <= e?this.mb[e]:void 0;};f.prototype.sJb=function(e,h){this.remove(e);h.Ps(e);};f.prototype.update=function(){this.pg && (this.pg.jGc(this.tb),this.R3(0));};f.prototype[Symbol.iterator]=function(){var e;return d.__generator(this,function(h){switch(h.label){case 0:(e=0,h.label=1);case 1:return e < this.mb.length?[4,this.mb[e]]:[3,4];case 2:(h.S(),h.label=3);case 3:return (e++,[3,1]);case 4:return [2];}});};f.prototype.R3=function(e){var h;h=this.mb[e].Ib;for(e+=1;e < this.mb.length && h === this.mb[e].tb;++e)h=this.mb[e].Ib;e < this.mb.length?void 0 === this.pg?this.pg=new c.dD(this,{Ib:h}):this.pg.NZ(h):void 0 === this.pg?this.pg=new c.dD(this,{}):this.pg.$ia();};f.prototype.YVb=function(e,h){for(var l=e;l < h;++l)this.Ne+=this.mb[l].ka;void 0 === this.pg || 0 === e?this.R3(0):this.pg.Ib === this.Ib?this.R3(e - 1):this.mb[e].tb === this.pg.Ib && this.R3(e);};f.prototype.So=function(e,h){var l;if(0 === e)(this.pg=void 0,h < this.length && this.R3(h));else {l=this.pg;l.Ib > this.mb[e - 1].Ib && (h < this.length?l.NZ(this.mb[e - 1].Ib):l.$ia());}for(;e < h;++e)this.Ne-=this.mb[e].ka;};f.prototype.W2=function(e,h){void 0 === h && (h=e + 1);this.YVb(e,h);};f.prototype.kFa=function(e,h){void 0 === h && (h=e + 1);this.So(e,h);};return f;})();b.qda=g;(0,t.wl)(a.Ox,g);},47743:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Yua=void 0;d=a(22970);n=a(66164);a(52571);t=a(85254);c=d.__importDefault(a(14282));g=a(50468);f=a(50247);e=n.platform.Cl;h=a(51440);l=a(45691);a=(function(k){var R8;R8=2;for(;R8 !== 9;){switch(R8){case 2:d.__extends(m,k);m.create=function(p,r,q,u,v,w,x,y){var c2X;c2X=2;for(;c2X !== 8;){switch(c2X){case 3:return new l.rda(p,q,u,v,w,r,x,y);break;case 4:c2X=r.vka && p.mediaType !== c.default.Jo.Aa && 0 === u.ka?3:9;break;case 5:return new h.D0a(p,q,u,v,w,r,x,y);break;case 1:c2X=p.mediaType === c.default.Jo.V && 0 < u.ka?5:4;break;case 9:return new m(p,q,u,v,w,r,x,y);break;case 2:c2X=!r.zm && u.ma?1:9;break;}}};m.prototype.KB=function(){var Y8Q;Y8Q=2;for(;Y8Q !== 1;){switch(Y8Q){case 2:return this.xPa() && k.prototype.KB.call(this);break;}}};m.prototype.toString=function(){var k5S;k5S=2;for(;k5S !== 1;){switch(k5S){case 2:var V_2="I";V_2+="D";V_2+=":";V_2+=" ";return V_2 + this.ti() + ":" + g.bq.prototype.toString.call(this);break;}}};return m;break;}}function m(p,r,q,u,v,w,x,y){var J06,A;J06=2;for(;J06 !== 7;){switch(J06){case 8:return r;break;case 2:var r6D="m";r6D+="e";r6D+="d";r6D+="i";r6D+="a";var c_M="media";c_M+="(e";c_M+="di";c_M+="t)";var S7y="1S";S7y+="IYbZr";S7y+="NJC";S7y+="p9";S7y;A=q.ma?c_M:r6D;void 0 === q.responseType && (q.responseType=q.ma || e.eg && !e.eg.QVa.pCa?0:1);r=k.call(this,p,r,A,q,u,v,w,x) || this;r.aC=!1;g.bq.Sb(r,p,v,q,y);J06=8;break;}}}})(f.vS);b.Yua=a;(0,t.wl)(g.bq,a,!1);},50468:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bq=void 0;d=a(22970);n=a(91176);c=a(52571);g=d.__importDefault(a(14282));f=a(95591);t=a(85254);e=a(89645);h=a(78015);l=a(5800);a=a(71808);k=(function(m){function p(r,q,u,v){var w;w=m.call(this,r,u) || this;w.kka=!1;p.Sb(w,r,q,u,v);return w;}d.__extends(p,m);p.Sb=function(r,q,u,v,w){var x;h.wS.iPa(r,q,v);r.Oh=v.index;r.LA=v.tb;r.Tt=v.Ib;r.kZb=v.Ob?v.Ob:q.Ob;r.FC=v.FC;r.K=u;r.Rla=w;r.beb=!!v.Fs;r.teb=!!v.Yj;r.$eb=null !== (x=v.region) && void 0 !== x?x:0;r.aeb=!!v.JLa;r.seb=!!v.qz;r.Na=void 0 === v.H6 || void 0 === v.fla || v.H6 === v.tb && v.fla === v.Ib?r:new l.dD(r,{tb:v.H6,Ib:v.fla});r.OXb=v.Roa;r.ZVb=v.Pl;r.YW=q.YW;r.Gi=v.ma?r.gzb(v.ma):void 0;r.ufb=v.MC;r.ZA=!1;r.rsb=!1;r.pt=[];};p.vja=function(r){for(var q=new Uint32Array(r.length),u=new Uint32Array(r.length),v=new Uint8Array(r.length),w=new Uint8Array(r.length),x=0,y,A,z=0;z < r.length;++z)(y=r[z],A=y.Ne,q[z]=y.Tt - y.LA,u[z]=A,v[z]=y.stream.wv,void 0 !== y.Ob && null !== y.Ob && (w[z]=y.Ob),x+=A);return new f.zCa(q,u,r.length?r[0].P:1E3,x);};Object.defineProperties(p.prototype,{Znc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lz:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.Oh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ob:{get:function(){return this.kZb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jHa:{get:function(){return 8 * this.ka / this.Rb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tb:{get:function(){return this.LA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ib:{get:function(){return this.Tt;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xo:{get:function(){var r,q;return null !== (q=null === (r=this.Rla) || void 0 === r?void 0:r.call(this)) && void 0 !== q?q:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Fs:{get:function(){return this.beb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Yj:{get:function(){return this.teb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{region:{get:function(){return this.$eb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{JLa:{get:function(){return this.aeb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qz:{get:function(){return this.seb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Roa:{get:function(){return this.OXb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Pl:{get:function(){return this.ZVb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ma:{get:function(){return this.Gi;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{MC:{get:function(){return this.ufb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{kG:{get:function(){var r;return this.Gi?(null !== (r=this.Gi.end) && void 0 !== r?r:this.nf) - this.Gi.start:this.nf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{H6:{get:function(){return this.Na.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fla:{get:function(){return this.Na.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Bfc:{get:function(){return this.Na.AI;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Cfc:{get:function(){return this.Na.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wB:{get:function(){return this.Na.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{uW:{get:function(){return this.Na.za;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nf:{get:function(){var r;r=this.Bfc;(0,c.assert)(r);return r / this.stream.Ea.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{gP:{get:function(){return this.rsb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{imc:{get:function(){return 0 < this.pt.length;},enumerable:!1,configurable:!0}});p.prototype.xca=function(r,q,u){var v,w,x;(0,c.assert)(r.P === this.P,"Cannot change content timestamp timescale");(0,c.assert)(q.P === this.P,"Cannot change content timestamp timescale");if(this.Ymb(this.ma))(this.LA=r.ia,this.Tt=q.ia,this.Na=this,this.ma && (this.Gi=d.__assign(d.__assign({},this.Gi),{start:0,end:null})));else {(0,c.assert)(this.ma,"Undefined edit window should be handled as whole fragment");w=this.nf;this.Na=new l.dD(this,{tb:r.ia,Ib:q.ia});x=this.ma;q=x.start;x=x.end;this.ma.end=u || w >= this.nf?null === x || x >= this.nf?null:this.ma.end:null === x?w:x;this.LA=r.add(this.Ea.Jg(q)).ia;this.Tt=r.add(this.Ea.Jg(null !== (v=this.ma.end) && void 0 !== v?v:this.nf)).ia;}};p.prototype.oZa=function(r){this.xca(this.wB.Rc(this.P),this.wB.add(this.Ea.Jg(r)),!0);};p.prototype.kKb=function(r){(0,c.assert)(!this.ma || 0 === this.ma.start,"Cannot change start time of fragment with start edit");this.xca(r,this.uW,!0);};p.prototype.zsc=function(){this.beb=!0;};p.prototype.kxb=function(){this.teb=!0;};p.prototype.$Wa=function(r){this.FC={Ld:r.dqb(),get vP() {return r.n_;}};};p.prototype.PZ=function(r){this.ufb=r;};p.prototype.TGc=function(r,q,u){this.$eb=r;this.aeb=q;this.seb=u;};p.prototype.Gh=function(r){var q,u,v;void 0 === r && (r={});u=this.stream.Ea.ia;v=this.Gi || ({start:0,end:null});r=this.gzb(r);this.Ymb(r)?(this.LA=this.Na.tb,this.Tt=this.Na.Ib,this.Na=this):(this.Na && this.Na !== this || (this.Na=new l.dD(this,this)),this.LA=this.Na.tb + r.start * u,this.Tt=this.Na.tb + (null !== (q=r.end) && void 0 !== q?q:this.nf) * u);this.Gi=d.__assign(d.__assign({},v),r);};p.prototype.sKa=function(r){void 0 === r && (r=1);this.Gi?this.Gh({start:this.Gi.start + r,end:this.Gi.end}):this.Gh({start:r});};p.prototype.ika=function(r){this.Gi?this.Gh({start:this.Gi.start,end:(this.Gi.end || 0) - r}):this.Gh({start:0,end:-r});};p.prototype.Ki=function(){this.ma?this.Gh({start:this.ma.start,end:this.ma.start}):this.Gh({start:0,end:0});};p.prototype.WGc=function(r){this.Gi || this.Gh();this.Gi.Dsa=r;};p.prototype.hGb=function(r){this.Gi || this.Gh();this.Gi.Wq=!0;r && (this.Gi.dob=r);};p.prototype.iGb=function(r){this.Gi || this.Gh();this.Gi.jp=!0;r && (this.Gi.eob=r);};p.prototype.Mob=function(r){var u;if(!(r < this.sa.G || r >= this.za.G) && this.Pl && this.Pl.length){r=new n.I(r + 1 - this.sa.G,1E3).bf(this.stream.Ea);for(var q=this.Pl.length - 1;0 <= q;--q){u=this.Pl[q];if(u.Gk <= r)return u;}return {Gk:0,re:this.wB.G};}};p.prototype.Uec=function(r){var u;if(!(r < this.sa.G || r >= this.za.G) && this.Pl && this.Pl.length){r=new n.I(r + 1 - this.sa.G,1E3).bf(this.stream.Ea);for(var q=this.Pl.length - 1;0 <= q;--q){u=this.Pl[q];if(u.Gk <= r)return u;}return {Gk:0,re:this.wB.G};}};p.prototype.Aob=function(r,q){var u,v,w;if(!(r < this.sa.G || r >= this.za.G)){if(!q && this.YW)return {Gk:0,re:this.sa.G};u=this.Ea.ia;v=this.Ea.P;w=Math.floor(this.AI / u);r=Math.min((q?Math.ceil:Math.floor)((n.I.Ayb(r,v) - this.tb + (q?-1:1) * (v / 1E3 - 1)) / u),w);u=n.I.NYa(this.tb + r * u,v);return r === w?void 0:{Gk:r,re:u};}};p.prototype.Tec=function(r){return this.mediaType === g.default.Jo.V?this.Mob(r):this.Aob(r,!1);};p.prototype.yLa=function(r){return this.mediaType === g.default.Jo.V?this.Uec(r):this.Aob(r,!0);};p.prototype.xPa=function(){return this.ma?this.gP:this.imc;};p.prototype.ANa=function(){(0,c.assert)(!this.Iaa,"Should not get response iterator more than once");this.Iaa=new e.SG(this.stream.nb);return this.Iaa.getIterator();};p.prototype.TUa=function(r,q){this.Iaa?(this.Iaa.enqueue(r),q && this.Iaa.oO()):this.pt.push(r);this.rsb=q;};p.prototype.lZ=function(){this.pt=[];};p.prototype.wGa=function(r){this.Ne+=r.ka;this.Tt=r.Ib;this.Gi && (this.Na=new l.dD(this,{tb:this.H6,Ib:this.Tt}),this.Gi.end=this.nf);};p.prototype.aEb=function(r){var q,u,v;q={type:"logdata",target:"endplay",fields:{}};u=this.mediaType === g.default.Jo.X?"audioedit":"videoedit";v=this.wB.equal(this.sa);v=[v?this.za.G:this.sa.G,v?-this.Rb.G:this.Rb.G];r && v.push(r);q.fields[u]={type:"array",value:v};return q;};p.prototype.toString=function(){return ("[").concat(this.Jb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.sa.G,"-").concat(this.za.G,",") + ("p:").concat(this.Pb.G,"-").concat(this.Mb.G,",d:").concat(this.Rb.G,"]");};p.prototype.toJSON=function(){return {movieId:this.R,streamId:this.Jb,bitrate:this.bitrate,index:this.index,startPts:this.sa.G,endPts:this.za.G,contentStartPts:this.sa.G,contentEndPts:this.za.G,fragmentStartPts:this.wB.G,fragmentEndPts:this.uW.G,edit:this.ma};};p.prototype.Lob=function(r){var u;if(this.Pl)for(var q=0;q < this.Pl.length;++q)if(this.Pl[q].Gk === r)u=this.Pl[q].offset;return u;};p.prototype.gzb=function(r){var q,u;q=Math.max(r.start || 0,0);u=void 0 === r.end || null === r.end || r.end === this.nf?null:Math.min(this.nf,Math.max(q,0 > r.end?this.nf + r.end:r.end));return d.__assign(d.__assign({},r),{start:q,end:u});};p.prototype.Ymb=function(r){return !r || 0 === r.start && (r.end === this.nf || null === r.end);};return p;})(h.wS);b.bq=k;(0,t.wl)(a.Ox,k);},21306:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.p0a=void 0;d=a(22970);n=a(52571);c=a(99735);t=a(85254);g=a(71472);f=a(71808);e=a(81392);h=a(5800);a=(function(l){function k(m,p){var r,q;r=this;q=[new g.qda(m),new g.qda(m),new g.qda(m)];r=l.call(this,q,function(u){return u.complete?r.empty || u.tb <= r.b6b?0:1:u.active?1:2;}) || this;q=d.__read(q,3);r.fj=q[0];r.Mh=q[1];r.Wo=q[2];r.yq=0;r.PDa=0;r.console=m;r.ns=p;return r;}d.__extends(k,l);Object.defineProperties(k.prototype,{ka:{get:function(){return this.fj.ka + this.Mh.ka + this.Wo.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ZJb:{get:function(){return this.Wo;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Mh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.fj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{iaa:{get:function(){return this.yq;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{gja:{get:function(){return this.fj.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nx:{get:function(){return this.fj.ka + this.Mh.ka - this.yq;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{VLc:{get:function(){return this.Wo.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mZ:{get:function(){return this.ka - this.yq;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.Ofc();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xd:{get:function(){return this.W1b();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wKa:{get:function(){return !this.fj.empty || this.Wo.empty || this.Mh.empty?this.first:this.Mh.tb < this.Wo.tb?this.Mh.first:this.Wo.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wvb:{get:function(){return this.Wo.empty || this.Mh.empty?this.xd:this.Mh.Ib < this.Wo.Ib?this.Wo.xd:this.Mh.xd;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Zob:{get:function(){return this.Wo.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{P:{get:function(){return this.first && this.first.P;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tb:{get:function(){return this.wKa && this.wKa.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ib:{get:function(){return this.Wvb && this.Wvb.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xo:{get:function(){return this.first && this.first.xo;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{b6b:{get:function(){return this.fj.empty?this.tb:this.fj.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{a6b:{get:function(){var m;return this.fj.empty?null === (m=this.sa) || void 0 === m?void 0:m.G:this.fj.za.G;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{akb:{get:function(){var m;return this.fj.empty?null === (m=this.Pb) || void 0 === m?void 0:m.G:this.fj.Mb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cBb:{get:function(){var m,p;return (null === (m=this.Mh.Mb) || void 0 === m?void 0:m.G) || (null === (p=this.fj.Mb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nL:{get:function(){return this.Wo.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mk:{get:function(){return this.Mh.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dkb:{get:function(){return this.fj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{S:{get:function(){return this.fj.concat(this.Mh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{su:{get:function(){return this.pg;},enumerable:!1,configurable:!0}});k.prototype.ria=function(){var m,p;if(0 === this.length)((0,n.assert)(0 === this.yq),(0,n.assert)(this.fj.empty),(0,n.assert)(this.Mh.empty),(0,n.assert)(this.Wo.empty));else {(0,n.assert)(this.fj.every(function(u){return u.complete || u.aborted;}));(0,n.assert)(this.Mh.every(function(u){return u.active || u.complete || u.aborted;}));(0,n.assert)(this.Wo.every(function(u){return !u.active && !u.complete;}));!this.Mh.empty && this.Mh.first.complete && (this.fj.empty?(0,n.assert)(!this.Wo.empty && this.Mh.tb > this.Wo.tb,"unsent earlier than active"):(0,n.assert)(this.Mh.tb > this.fj.Ib,"gap in complete array"));this.yq !== this.fj.reduce(function(u,v){return u + (v.aborted?0:v.bytesReceived);},0) + this.Mh.reduce(function(u,v){return u + (v.aborted?0:v.bytesReceived);},0) && (0,n.assert)(!1,"receivedBytes does not match complete + active");m=this.su;if(this.empty)(0,n.assert)(void 0 === m);else {(0,n.assert)(void 0 !== m);p=this.map(function(u){return u;});p.sort(function(u,v){return u.tb - v.tb;});(0,n.assert)(m.tb === p[0].tb);for(var r=p[0].Ib,q=1;q < p.length && p[q].tb === r;++q)r=p[q].Ib;(0,n.assert)(m.Ib === r,"contigousEnd mismatch");}this.$d.forEach(function(u){return u.ria();});}};k.prototype.add=function(m){var p;m.aborted?++this.PDa:this.yq+=m.bytesReceived || 0;if(this.empty)this.pg=new h.dD(this,{});else if(m.tb !== this.Ib)if(m.tb > this.pg.Ib)this.pg.NZ(this.pg.Ib);else if(m.tb < this.tb || m.tb === this.pg.Ib){p=m.Ib;this.jfc(function(r,q){return r.tb - q.tb;},function(r){p=r.tb === p?r.Ib:p;});p === Math.max(this.Ib,m.Ib)?this.pg.$ia():this.pg.NZ(p);}m.wGb(this);};k.prototype.So=function(m){m.aborted?--this.PDa:this.yq-=m.bytesReceived;this.empty?this.pg=void 0:m.tb !== this.Ib && m.Ib <= this.pg.Ib && m.tb > this.pg.tb && this.pg.NZ(m.tb);m.x5b();};k.prototype.update=function(){var m;this.fj.update();this.Mh.update();this.Wo.update();if(this.pg){m=this.map(function(q){return q;});m.sort(function(q,u){return q.tb - u.tb;});this.pg.$ia();for(var p=m[0].Ib,r=1;r < m.length;++r){if(m[r].tb !== p){this.pg.NZ(p);break;}p=m[r].Ib;}}};k.prototype.push=function(m){this.add(m);return l.prototype.push.call(this,m);};k.prototype.shift=function(){var m;m=l.prototype.shift.call(this);m && this.So(m);return m;};k.prototype.pop=function(){var m;m=l.prototype.pop.call(this);m && this.So(m);return m;};k.prototype.unshift=function(m){this.add(m);return l.prototype.unshift.call(this,m);};k.prototype.Ps=function(m){this.add(m);l.prototype.Ps.call(this,m);};k.prototype.remove=function(m){if(!l.prototype.remove.call(this,m))return !1;this.So(m);return !0;};k.prototype.splice=function(m,p){for(var r=[],q=2;q < arguments.length;q++)r[q - 2]=arguments[q];q=l.prototype.splice.apply(this,d.__spreadArray([m,p],d.__read(r),!1));r.forEach(this.add.bind(this));q.forEach(this.So.bind(this));return q;};k.prototype.caa=function(m){var p;p=this;this.reduce(function(r,q,u){q.aborted && !q.aC && (m && m(q,u,p),0 === r.length || r[0].end !== u?r.unshift({start:u,end:u + 1}):r[0].end+=1);return r;},[]).forEach(function(r){return p.splice(r.start,r.end - r.start);});};k.prototype.vLa=function(m){return this.Eob(function(p){return p.vLa(m);});};k.prototype.u6=function(m){return this.Eob(function(p){return p.u6(m);});};k.prototype.Cob=function(m){m=this.u6(m);return -1 !== m?this.get(m):void 0;};k.prototype.CFc=function(m){var r;for(var p=[];m < this.length;){r=this.get(m);r && p.push(r);m++;}return p;};k.prototype.kQ=function(m){this.move(m);this.ela(m);};k.prototype.UF=function(m,p){this.yq+=p;this.tW(m,p);};k.prototype.qo=function(m,p){this.yq+=p;this.NGb();this.FO(m,p);};k.prototype.CY=function(m,p,r){this.yq-=m.bytesReceived;++this.PDa;this.sW(m,p,r);};k.prototype.lQ=function(m,p,r){this.Mh.gMc(p - r);this.XLa(m,p,r);};k.prototype.bxc=function(){this.NGb();};k.prototype.NGb=function(){for(;this.Mh.first && (this.Mh.first.complete || this.Mh.first.aC) && (this.fj.empty?this.Mh.first === this.wKa:this.Mh.first.tb === this.fj.Ib);)this.qHc();};k.prototype.bhc=function(){return this.fj.map(function(m){return {requestId:m.ti(),appended:m.ZA,isAppendable:m.KB()};});};return k;})(c.a2a);b.p0a=a;(0,t.wl)(e.DL,a,!1);(0,t.wl)(f.Ox,a);},83527:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Zua=void 0;d=a(22970);n=a(78015);t=(function(c){function g(f,e,h,l){var k;k=c.call(this,f,h) || this;k.Tf=void 0;g.ztb(k,f,e,h,l);return k;}d.__extends(g,c);g.ztb=function(f,e,h,l,k){n.wS.iPa(f,e,l);f.K=h;f.TD=l.pj;f.Lj=l.oqa;f.Wdb=l.Ny;f.nb=k;};Object.defineProperties(g.prototype,{gf:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pj:{get:function(){return this.TD;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{oqa:{get:function(){return this.Lj;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ny:{get:function(){return this.Wdb;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {movieId:this.R,streamId:this.Jb,bitrate:this.bitrate};};return g;})(n.wS);b.Zua=t;},35018:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r){return {gf:!0,xx:{Lg:k.Wb.Oo},Qc:r,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.$ua=void 0;n=a(22970);c=a(91562);g=a(91176);t=a(90745);f=a(66164);e=a(69575);h=a(85254);l=a(52571);k=a(65161);m=a(83527);a=a(50247);p=f.platform.MediaSource;a=(function(r){function q(u,v,w,x,y,A,z,B){var C,D,F;C=w.track;z=(z?"(cache)":"") + u.id + " header";D=x.offset;F=x.ka;x.oqa && (D+=x.oqa.byteLength,F-=x.oqa.byteLength);x=n.__assign(n.__assign(n.__assign({},x),d(x.Qc)),{offset:D,ka:F});v=r.call(this,u,C,z,x,y,A,v,B) || this;v.Tf=w;v.jSa=0;m.Zua.ztb(v,u,A,x,B);v.iTa=x.ka;++v.jSa;return v;}n.__extends(q,r);Object.defineProperties(q.prototype,{gf:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nqa:{get:function(){return this.mYb;},enumerable:!1,configurable:!0}});q.prototype.Qe=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}r.prototype.Qe.call(this);};q.prototype.G6=function(u){this.stream.LSa();r.prototype.G6.call(this,u);};q.prototype.sW=function(u,v,w){this.stream.Npa();r.prototype.sW.call(this,u,v,w);};q.prototype.qo=function(u,v){var w;w=u.response;w && this.WZb(w);(0,l.assert)(this.Lj);u.lZ();this.parse()?(this.stream.Npa(),r.prototype.qo.call(this,u,v)):this.Nha?(this.Sdc(u.offset + u.ka,this.Nha),r.prototype.qo.call(this,u,v)):r.prototype.lx.call(this,u);};q.prototype.Sdc=function(u,v){this.Xnb(this.xI,this.label + " (" + this.jSa + ")",d(this.Qc),{offset:u,ka:v});++this.jSa;};q.prototype.parse=function(){var u,v,w,x,y,A,z;x=this.config;y=new c.Dl(q.ouc,this.stream,this.Lj,this.stream.xa?["moov"]:["sidx"],x.Uxc,{F3c:this.stream.track.xUa,YAb:void 0 === this.Ea,BJb:!p.eg || !p.eg.N5b,XYa:x.XYa,wh:this.stream.wh,I_:this.config.I_,wEc:!0,Isa:!p.eg || !p.eg.yuc,wVa:this.config.wVa});A=y.parse({Ea:this.Ea});this.cNc=x.I_ && y.$lc;if(A.Kz){(0,l.assert)(A.pj);this.TD=A.pj;this.mYb=A.nqa;this.Wdb=!!A.Ycc;void 0 === this.Ea && void 0 === A.Ea && this.nb.error("No frame duration available for " + this.Jb);y=A.Ea?new g.I(A.Ea):this.Ea;z=void 0;if(this.stream.mediaType === k.v.V && (null === (u=x.uQ) || void 0 === u?0:u.enabled))if(null === (v=this.stream.mR) || void 0 === v?0:v.length)z=this.stream.mR;else if((u=this.stream.Xu.mR,0 < (null === u || void 0 === u?void 0:u.length)))for((z=new Uint8Array(u.length),w=0);w < u.length;w++)z[w]=u[w].Ob;else if(null === (w=A.YC) || void 0 === w?0:w.length)for((z=new Uint8Array(A.YC.length),w=0);w < A.YC.length;w++)z[w]=A.YC[w];w=A.NV?new g.I(A.NV):void 0;this.stream.sY(A.pj,A.P,y,A.La,A.fY,A.Pl,z,A.trackId,w);this.Lj=void 0;}else this.Nha=A.Nha || 0;return !!A.Kz;};q.prototype.WZb=function(u){this.Lj=this.Lj?(0,e.Hy)(this.Lj,u):u;};q.ouc=new f.platform.Console("MP4","media|asejs");return q;})(a.vS);b.$ua=a;(0,h.wl)(m.Zua,a,!1,!1);(0,h.wl)(t.EventEmitter,a);},33923:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.QG=void 0;b.XXa=function(g){var f,e;(0,d.assert)(g.mediaType !== n.v.Im,"Media events is unsupported");e=(f={},f[n.v.X]={audio:g},f[n.v.V]={video:g},f[n.v.Aa]={text:g},f);return new c(e[g.mediaType]);};d=a(91176);n=a(65161);c=(function(){function g(f){this.audio=f.audio;this.video=f.video;this.text=f.text;}g.prototype.Prb=function(f){switch(f){case n.v.X:return this.audio;case n.v.V:return this.video;case n.v.Aa:return this.text;}};g.prototype.vi=function(f){return this.Prb(f);};g.prototype.C7=function(f){return (f=this.Prb(f))?f.track:void 0;};Object.defineProperties(g.prototype,{yf:{get:function(){return this.video || this.audio || this.text;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Coc:{get:function(){return void 0 !== this.video && void 0 !== this.audio;},enumerable:!1,configurable:!0}});g.prototype.C6=function(f){[this.audio,this.video,this.text].filter(function(e){return void 0 !== e;}).forEach(f);};g.prototype.fLa=function(f){return [this.audio,this.video,this.text].filter(function(e){return void 0 !== e;}).every(f);};Object.defineProperties(g.prototype,{R:{get:function(){return this.yf.R;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.yf.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bitrate:{get:function(){return this.p2b;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{p2b:{get:function(){return this.Coc?this.video.bitrate + this.audio.bitrate:this.yf.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{gw:{get:function(){var f;return null === (f=this.audio) || void 0 === f?void 0:f.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Bt:{get:function(){var f;return null === (f=this.video) || void 0 === f?void 0:f.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ob:{get:function(){var f;return null !== (f=this.yf.Ob) && void 0 !== f?f:0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ob:{get:function(){return this.yf.ob;},set:function(f){this.yf.ob=f;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{id:{get:function(){return this.yf.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jb:{get:function(){return this.yf.Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{La:{get:function(){return this.yf.La;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$w:{get:function(){return this.yf.$w;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bca:{get:function(){return this.yf.bca;},set:function(f){this.yf.bca=f;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Dw:{get:function(){return this.fLa(function(f){return f.Dw;});},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Eb:{get:function(){return this.yf.Eb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xa:{get:function(){return this.yf.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Us:{get:function(){return this.fLa(function(f){return f.Us;});},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fr:{get:function(){return this.yf.fr;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{uF:{get:function(){return this.yf.uF;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qp:{get:function(){return this.yf.qp;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{me:{get:function(){return this.yf.me;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pr:{set:function(f){this.C6(function(e){e.Pr=f;});},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{location:{get:function(){return this.yf.location;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sj:{get:function(){var f;f=[];this.C6(function(e){e.location && f.push(e.location);});return f;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ut:{set:function(f){this.yf.ut=f;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xWa:{set:function(f){this.yf.xWa=f;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eX:{set:function(f){this.yf.eX=f;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zOa:{set:function(f){this.yf.zOa=f;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{AOa:{set:function(f){this.yf.AOa=f;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xu:{get:function(){return this.yf.Xu;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{profile:{get:function(){return this.yf.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wv:{get:function(){return this.yf.wv;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{O:{get:function(){return this.yf.O;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sb:{get:function(){return this.yf.sb;},set:function(f){this.yf.sb=f;},enumerable:!1,configurable:!0}});g.prototype.isEqual=function(f){return f && this.fLa(function(e){var h;h=f.vi(e.mediaType);return void 0 !== h && e.Jb === h.Jb;});};g.prototype.toString=function(){return ("").concat(this.audio?this.audio.toString():"") + ("").concat(this.video?this.video.toString():"") + ("").concat(this.text?this.text.toString():"");};return g;})();b.QG=c;},45691:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r,q,u){return 2 === q.length?q[1]:q.reduce(function(v,w){return Math.abs(w - r) < Math.abs(v - r)?w:v;},u);}Object.defineProperties(b,{__esModule:{value:!0}});b.rda=void 0;n=a(22970);a(66164);c=a(91562);g=a(91176);f=a(26388);e=a(75539);t=a(85254);h=a(48170);l=a(69575);k=a(50247);m=a(50468);(function(r){r[r.gq=0]="INITIAL";r[r.e4a=1]="HAVE_CONTENT_LENGTH";r[r.g4a=2]="HAVE_MOOF_LENGTH";r[r.f4a=3]="HAVE_MOOF";})(p || (p={}));a=(function(r){function q(u,v,w,x,y,A,z,B){w=u.mediaType === f.v.X?n.__assign(n.__assign({},w),{responseType:0}):w;v=r.call(this,u,v,"live-edit",w,x,y,A,z) || this;v.aC=!1;v.aR=p.gq;v.smb=!1;m.bq.Sb(v,u,y,w,B);v.kka=!0;(0,g.assert)(v.mediaType === f.v.X || v.mediaType === f.v.V);return v;}n.__extends(q,r);q.prototype.KB=function(){return this.xPa() && r.prototype.KB.call(this);};q.prototype.LHa=function(){return !1;};q.prototype.dJa=function(u,v,w){var x,y;x=w.offset;y=this.config.Zqc;w=n.__assign(n.__assign({},w),{SLa:this.config.EKa,responseType:0});this.tC(u,v,w,{offset:x,ka:y});};q.prototype.cK=function(u){(void 0 !== this.Rm || this.Jvc(u)) && this.DZa(u);this.aR === p.gq && void 0 !== this.Rm && (this.lQ(u,this.Rm,this.ka),this.aR=p.e4a);};q.prototype.qo=function(u,v){if(!(this.state > e.Zg.Gl)){h.u && this.console.trace(("AseLiveEditingRequest: onrequestcomplete, ").concat(this.toString(),": ") + ("ID: ").concat(u.ti(),", requestState: ").concat(this.aR,", bytes: ").concat(v));this.aR !== p.f4a && (this.data=void 0 === this.data?u.response:(0,l.Hy)(this.data,u.response));switch(this.aR){case p.gq:(0,g.assert)(!1,"Should not encounter request complete before obtaining content length");case p.e4a:if(!this.Ovc())break;this.aR=p.g4a;case p.g4a:this.Nvc(u) && (this.aR=p.f4a);}r.prototype.qo.call(this,u,v);}};q.prototype.Jvc=function(u){this.Rm=u.Zpb();h.u && this.console.debug(("AseLiveEditingRequest: ").concat(this.toString()," setting contentLength to ").concat(this.Rm," from range"));return void 0 === this.Rm?(this.nsb(u),!1):!0;};q.prototype.Ovc=function(){var u,v;(0,g.assert)(void 0 !== this.Rm,"Should have content length by now");(0,g.assert)(void 0 !== this.data,"Should have some data by now");u=c.fH.path(new DataView(this.data),["moof"]);v=u.offset;u=u.end;if(void 0 === v || void 0 === u)return (h.u && this.console.error("AseLiveEditingRequest: onrequestcomplete, failed to find moof in initial request"),v=this.offset + this.data.byteLength,u=this.config.nwb,this.tC(this.kb[0].xI,this.label,n.__assign(n.__assign({},this.properties),{responseType:0}),{offset:v,ka:u}),!1);this.aSa=v;this.SX=this.offset + u + 8;h.u && this.console.trace(("AseLiveEditingRequest: obtainMoofLength, ").concat(this.toString(),": ") + ("moofOffset: ").concat(this.aSa,", mediaDataOffset: ").concat(this.SX));return !0;};q.prototype.Nvc=function(u){var v,w,x;(0,g.assert)(void 0 !== this.Rm,"Should have content length by now");(0,g.assert)(void 0 !== this.SX,"Should have sample offset by now");(0,g.assert)(void 0 !== this.data,"Should have some data by now");v=this.data.byteLength;w=this.SX > v;if(w){x=this.SX - v;h.u && this.console.trace("AseLiveEditingRequest: obtainMoof, request:",u.toString(),("did not contain all of the moof, requesting ").concat(x," more bytes"));this.tC(u.xI,this.label,n.__assign(n.__assign({},this.properties),{responseType:0}),{offset:v,ka:x});v+=x;}this.ma?w || this.hyc(v,this.Rm):(w || (u=c.fH.$nb(new DataView(this.data))) && void 0 !== u.Cw && void 0 !== u.kG && (h.u && this.console.trace("AseLiveEditingRequest: fragment times (unoptimized): " + ("tfdt: ").concat(u.A_,", ") + ("ffco: ").concat(u.Cw,", ") + ("sampleCount: ").concat(u.kG)),this.VLa(this,u,!1,!1)),this.smb || (x=this.Rm - v,0 < x && (h.u && this.console.trace(("AseLiveEditingRequest: obtainMoof with  on edits: offset ").concat(v,", bytes ").concat(x,", ") + ("contentLength ").concat(this.Rm)),this.QUa(v,x,this.Rm),this.smb=!0)));return !w;};q.prototype.QUa=function(u,v,w){this.eZa(u,v) || (this.eE={offset:u,ka:v,Rm:w},this.WLa(this));};q.prototype.hyc=function(u,v){var w,x,y,A,z,B,C,D,F,H,E;(0,g.assert)(void 0 !== this.SX,"Should have sample offset by now");(0,g.assert)(void 0 !== this.aSa,"Should have moof offset by now");(0,g.assert)(void 0 !== this.data,"Should have some data by now");(0,g.assert)(this.data.byteLength >= this.SX,"Should have enough data for the whole moof by now");(0,g.assert)(void 0 !== this.ma,"Should have an edit");x=new c.Vx(this.console,{mediaType:this.mediaType},this.data);y=0;if(x.parse().done){A=c.Dl.path(x,["moof","traf"]);x=c.Dl.path(A,["tfhd"]);z=c.Dl.path(A,["tfdt"]);B=c.Dl.path(A,["trun"]);if(void 0 !== x && void 0 !== z && void 0 !== B && void 0 !== B.vk){x=B.SBc(x);z=z.pE;A=B.bfc;C=x.length;h.u && this.console.trace(("AseLiveEditingRequest: fragment times: tfdt: ").concat(z,", ") + ("firstFrameCompositionOffset: ").concat(A,", sampleCount: ").concat(C));D=this.aSa + B.vk;F=!1;if(null === this.ma.end && this.nf < C)(h.u && this.console.warn(("AseLiveEditingRequest: null edit end for fragment with ").concat(this.nf," ") + ("expected samples but actual fragment is longer (").concat(C,") - extending")),F=!0,this.oZa(x.length));else if(null === this.ma.end && this.nf > C || null !== this.ma.end && this.ma.end > C)(h.u && this.console.warn(("AseLiveEditingRequest: edit end (").concat(this.ma.end,", ").concat(this.nf,") ") + ("is beyond actual samples (").concat(x.length,") - truncating")),F=!0,this.oZa(x.length));H=!1;if(this.config.Mba && this.mediaType === f.v.V){B=B.dDb();if(0 !== this.ma.start && -1 === B.indexOf(this.ma.start)){E=this.ma.start;H=d(this.ma.start,B,this.nf);h.u && this.console.warn(("AseLiveEditingRequest: ").concat(this.toString()," edit start point ").concat(E," is not an IDR, ") + ("nearest IDR is ").concat(H));this.Gh({start:H,end:this.ma.end});H=!0;}null !== this.ma.end && this.ma.end < this.nf && -1 === B.indexOf(this.ma.end) && (E=this.ma.end,H=d(this.ma.end,B,this.nf),h.u && this.console.warn(("AseLiveEditingRequest: ").concat(this.toString()," edit end point ").concat(E," is not an IDR, ") + ("nearest IDR is ").concat(H)),this.Gh({start:this.ma.start,end:H}),H=!0);}else this.mediaType === f.v.V && (B=B.dDb(),0 !== this.ma.start && -1 === B.indexOf(this.ma.start) && this.console.error(("SCTE IDR mismatch at start: ").concat(this.Bk,", ").concat(this.sa.G,", ").concat(this.ma.start,", idrs: ").concat(JSON.stringify(B))),null !== this.ma.end && this.ma.end < this.nf && -1 === B.indexOf(this.ma.end) && this.console.error(("SCTE IDR mismatch at end: ").concat(this.Bk,", ").concat(this.sa.G,", ").concat(this.ma.end,", idrs: ").concat(JSON.stringify(B))));this.VLa(this,{A_:z,Cw:A,kG:C},F,H);for(z=0;z < this.ma.start && z < x.length;z++)D+=x[z];A=null !== (w=this.ma.end) && void 0 !== w?w:this.nf;for(z=this.ma.start;z < A && z < x.length;z++)y+=x[z];D < u && (y-=u - D,D=u);h.u && this.console.trace(("AseLiveEditingRequest: edit: ").concat(JSON.stringify(this.ma)) + (", samples expected ").concat(this.nf,", actual ").concat(x.length,", sample sizes: ").concat(x) + (", start: ").concat(this.ma.start,", end: ").concat(this.ma.end) + (", requestOffset: ").concat(D,", bytes: ").concat(y,", contentLength: ").concat(v));}else h.u && this.console.error("AseLiveEditingRequest: failed to find trun or tfhd in moof");this.data=void 0;}void 0 !== D?0 < y && (this.QUa(D,y,v),this.FY={offset:D,ka:y}):(y=v - u,0 < y && (this.QUa(u,y,v),this.FY={offset:u,ka:y}));h.u && this.console.trace(("AseLiveEditingRequest: edit: ").concat(JSON.stringify(this.ma),", ") + ("requestOffset: ").concat(D,", bytes: ").concat(y,", contentLength: ").concat(v,", ") + ("optimizedRequest: ").concat(JSON.stringify(this.FY)));};q.prototype.toString=function(){return "ID: " + this.ti() + ("[").concat(this.Jb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.sa.G,"-").concat(this.za.G,",") + ("p:").concat(this.Pb.G,"-").concat(this.Mb.G,",d:").concat(this.Rb.G,"]");};return q;})(k.vS);b.rda=a;(0,t.wl)(m.bq,a,!1);},11758:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ava=void 0;d=a(22970);a(66164);n=a(52571);t=(function(c){function g(f,e,h,l,k,m,p,r){f=c.call(this,f,e,h,l,k,m,p,r) || this;(0,n.assert)(0 === h.responseType);(0,n.assert)(h.Bk);f.Bk=h.Bk;return f;}d.__extends(g,c);Object.defineProperties(g.prototype,{stream:{get:function(){return this.Pe;},enumerable:!1,configurable:!0}});return g;})(a(47743).Yua);b.ava=t;},79459:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.cva=void 0;d=a(22970);n=a(79048);c=a(48170);t=(function(g){function f(e,h,l,k,m,p,r,q,u,v,w,x,y){void 0 === x && (x=!0);void 0 === y && (y=!0);e=g.call(this,l,u,{index:0,offset:0,ka:0,tb:m,Ib:p,P:k,Fs:x,Yj:y,MC:w},v) || this;e.Nxc=l;e.console=q;e.K=u;c.u && e.console.log(("AsePaddingRequest [").concat(e.mediaType,"], constructed ").concat(e.toString()) + (", ").concat(h.byteLength," bytes") + (", ").concat(e.nf," samples"));e.TUa(h,!0);return e;}d.__extends(f,g);Object.defineProperties(f.prototype,{profile:{get:function(){return this.Nxc.profile;},enumerable:!1,configurable:!0}});f.prototype.abort=function(){return !1;};f.prototype.toJSON=function(){var e,h,l,k,m;return {viewableId:n.mq,startPts:null === (e=this.Pb) || void 0 === e?void 0:e.G,endPts:(null === (h=this.Pb) || void 0 === h?void 0:h.G) + (null === (l=this.Rb) || void 0 === l?void 0:l.G),"contentStartTicks:":this.tb,contentEndTicks:this.Ib,contentStartPts:null === (k=this.sa) || void 0 === k?void 0:k.G,contentEndPts:null === (m=this.za) || void 0 === m?void 0:m.G};};f.prototype.toString=function(){return ("[padding c:").concat(this.sa.G,"-").concat(this.za.G,",") + ("p:").concat(this.Pb.G,"-").concat(this.Mb.G,",") + ("d:").concat(this.za.G - this.sa.G,"]");};return f;})(a(50468).bq);b.cva=t;},81392:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.DL=b.x0a=void 0;d=a(22970);t=(function(){function n(c){this.ns=c;}n.prototype.wGb=function(c){this.ns=c;};n.prototype.x5b=function(){this.ns=void 0;};n.prototype.G6=function(c){var g,f;null === (f=null === (g=this.ns) || void 0 === g?void 0:g.Vpa) || void 0 === f?void 0:f.call(g,c);};n.prototype.ela=function(c){var g,f;null === (f=null === (g=this.ns) || void 0 === g?void 0:g.kQ) || void 0 === f?void 0:f.call(g,c);};n.prototype.F6=function(c){var g,f;null === (f=null === (g=this.ns) || void 0 === g?void 0:g.cK) || void 0 === f?void 0:f.call(g,c);};n.prototype.tW=function(c,g){var f,e;null === (e=null === (f=this.ns) || void 0 === f?void 0:f.UF) || void 0 === e?void 0:e.call(f,c,g);};n.prototype.FO=function(c,g){var f,e;null === (e=null === (f=this.ns) || void 0 === f?void 0:f.qo) || void 0 === e?void 0:e.call(f,c,g);};n.prototype.dla=function(c){var g,f;null === (f=null === (g=this.ns) || void 0 === g?void 0:g.lx) || void 0 === f?void 0:f.call(g,c);};n.prototype.sW=function(c,g,f){var e,h;null === (h=null === (e=this.ns) || void 0 === e?void 0:e.CY) || void 0 === h?void 0:h.call(e,c,g,f);};n.prototype.XLa=function(c,g,f){var e,h;null === (h=null === (e=this.ns) || void 0 === e?void 0:e.lQ) || void 0 === h?void 0:h.call(e,c,g,f);};n.prototype.jpb=function(c){var g,f;null === (f=null === (g=this.ns) || void 0 === g?void 0:g.Upa) || void 0 === f?void 0:f.call(g,c);};n.prototype.WLa=function(c){var g,f;null === (f=null === (g=this.ns) || void 0 === g?void 0:g.Wpa) || void 0 === f?void 0:f.call(g,c);};n.prototype.VLa=function(c,g,f,e){var h,l;null === (l=null === (h=this.ns) || void 0 === h?void 0:h.eTa) || void 0 === l?void 0:l.call(h,c,g,f,e);};return n;})();b.x0a=t;t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);return c;})(t);b.DL=t;t.prototype.Vpa=t.prototype.G6;t.prototype.kQ=t.prototype.ela;t.prototype.cK=t.prototype.F6;t.prototype.UF=t.prototype.tW;t.prototype.qo=t.prototype.FO;t.prototype.lx=t.prototype.dla;t.prototype.CY=t.prototype.sW;t.prototype.lQ=t.prototype.XLa;t.prototype.Upa=t.prototype.jpb;t.prototype.Wpa=t.prototype.WLa;t.prototype.eTa=t.prototype.VLa;},50247:function(t,b,a){var d,n,c,g,f,e,h,l,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.vS=b.Ur=void 0;d=a(22970);n=a(90745);c=a(91562);a(66164);t=a(85254);g=a(52571);a(1936);f=a(75539);e=a(45247);h=a(8149);l=a(24940);k=a(81392);a=a(78015);(function(p){p[p.i8a=0]="NOTHING_APPENDED";p[p.bfa=1]="PARTIAL";p[p.zn=2]="COMPLETE";p[p.Ho=3]="ERROR";})(m || (b.Ur=m={}));m=(function(p){function r(q,u,v,w,x,y,A,z){var B;B=p.call(this,q,w) || this;B.xI=u;B.label=v;B.properties=w;B.K=y;B.config=A;B.console=z;B.Hra=l.dCa.Je;B.events=new n.EventEmitter();B.Va=f.Zg.tA;B.CM=0;B.n3=-Infinity;B.kb=[];B.Mra=0;B.LZa=!1;B.wGb(x);B.Va=f.Zg.tA;B.ug=q.SW(!!w.gf,w.Bk);B.PM=q.location || w.location;B.L3=q.Eb || w.Qc;B.Bk=w.Bk;B.LZa=0 >= w.ka && B.LHa();B.dJa(u,v,w);return B;}d.__extends(r,p);Object.defineProperties(r.prototype,{gf:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{state:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{EY:{get:function(){return this.Va >= f.Zg.OPENED && this.Va < f.Zg.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{active:{get:function(){return this.Va >= f.Zg.xL && this.Va < f.Zg.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{gVa:{get:function(){return this.Va === f.Zg.Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{complete:{get:function(){return this.Va === f.Zg.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{aborted:{get:function(){return this.Va === f.Zg.Av;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Lr:{get:function(){return void 0 !== this.eE;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{url:{get:function(){return this.ug;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{status:{get:function(){var q;return (null === (q=this.wX) || void 0 === q?void 0:q.status) || this.kb[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ah:{get:function(){var q;return null === (q=this.wX) || void 0 === q?void 0:q.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{XE:{get:function(){var q;return null === (q=this.wX) || void 0 === q?void 0:q.XE;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Xg:{get:function(){var q;return null === (q=this.wX) || void 0 === q?void 0:q.Xg;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{bytesReceived:{get:function(){return this.CM;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Qi:{get:function(){return this.n3;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{responseType:{get:function(){return this.properties.responseType;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{location:{get:function(){return this.PM;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Qc:{get:function(){return this.L3;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{$Gb:{get:function(){return this.properties.HC;},enumerable:!1,configurable:!0}});r.prototype.YWa=function(q,u){this.PM=q;this.L3=u;};r.prototype.KB=function(){return this.state < f.Zg.Gl?!1:this.kb.every(function(q){return q.state === f.Zg.Gl || q.state === f.Zg.zn;});};r.prototype.yZa=function(q){var u,v,w;if(this.complete)return 0;u=this.stream;v=u.O;if(!u.url)return (this.console.warn("updateurl, missing url for streamId:",u.Jb,"mediaRequest:",this,"stream:",u),1);w=u.SW(this.gf,this.Bk);if(this.url !== w || q)if((v.YWa(this,u.location,u.Eb),!this.l_(w)))return (this.console.warn("swapUrl failed: ",this.XE),2);return 0;};r.prototype.x4b=function(){return 0 >= this.ka && 1 <= this.kb.length && void 0 !== this.kb[0].ah;};r.prototype.w4b=function(q){(0,g.assert)(0 >= this.ka,"AseRequest.changeStream is only supported for open range requests");(0,g.assert)(1 <= this.kb.length && void 0 !== this.kb[0].ah,"AseRequest.changeStream only supported when open range request has failed");(0,g.assert)(this.stream.track === q.track,"AseStream.changeStream cannot change stream to a different track");this.uv(q);this.yZa();};r.prototype.HJb=function(){var v;for(var q,u;this.Mra < this.kb.length && (u=this.kb[this.Mra]).response;){++this.Mra;v=!this.Lr && this.Mra === this.kb.length;null === (q=this.TUa) || void 0 === q?void 0:q.call(this,u.response,v);u.lZ();}};r.prototype.dJa=function(q,u,v){var w,x;if(0 < v.ka)v.PJ && v.ka > v.PJ?this.CBc(q,u,v,v.PJ,v):this.tC(q,u,v,v);else if(this.LZa)this.tC(q,u,v,v);else {w=v.offset;x=void 0;void 0 !== v.index && (x=this.stream.Uhc(v.index));x || (x=this.mediaType === e.v.Aa?this.config.rrc:this.config.nwb);if(this.config.Aja || this.config.EKa)v=d.__assign(d.__assign({},v),{responseType:0,SLa:this.config.EKa});this.tC(q,u,v,{offset:w,ka:x});}};r.prototype.CBc=function(q,u,v,w,x){var y,A;w=Math.ceil(x.ka / w);y=x.offset;for(x=x.ka;0 < x;--w){A=Math.ceil(x / w);this.tC(q,u,v,{offset:y,ka:A});y+=A;x-=A;}};r.prototype.LHa=function(){return !!this.xI.wIb;};r.prototype.tC=function(q,u,v,w){q=new f.Wza(this.stream,this.ug,q,u,v,w,this,this.K,this.config,this.console);this.kb.push(q);this.state >= f.Zg.OPENED && (q.open(),this.state >= f.Zg.zn && (this.Va=f.Zg.OPENED,this.G6(this)));};r.prototype.tx=function(q){var u;u=this.kb.indexOf(q);-1 !== u && (this.kb.splice(u,1),0 < this.Ne && ((0,g.assert)(this.Ne >= q.ka),this.Ne-=q.ka));};r.prototype.Xnb=function(q,u,v,w){this.tC(q,u,v,w);this.Ne+=w.ka;};r.prototype.open=function(){var q;null === (q=this.GEa) || void 0 === q?void 0:q.Cwc();if(q=this.kb.every(function(u){return u.open();}))(this.Va=f.Zg.OPENED,this.G6(this));return q;};r.prototype.resume=function(){var q;(0,g.assert)(void 0 !== this.eE,"invalid attempt to resume request hat is not stalled");q=this.eZa(this.eE.offset,this.eE.ka);q && (this.eE=void 0);return q;};r.prototype.abort=function(){var q,u;if(this.Va !== f.Zg.Av){q=this.active;u=this.EY;this.Va=f.Zg.Av;this.kb.forEach(function(v){return v.abort();});this.eE=void 0;this.sW(this,q,u);}return !0;};r.prototype.Qe=function(){this.kb.forEach(function(q){return q.Qe();});this.eE=void 0;};r.prototype.l_=function(q){var u;u=this;this.ug=q;return this.kb.map(function(v){return v.l_(u.ug);}).some(function(v){return v;});};r.prototype.u7=function(q){(0,g.assert)(0 <= q && q < this.kb.length);return this.kb[q].response;};r.prototype.getResponseHeader=function(q,u){var v;v=null;this.kb.some(function(w){return !!(v=w.getResponseHeader(q,u));});return v;};r.prototype.getAllResponseHeaders=function(q){var u;u=null;this.kb.some(function(v){return !!(u=v.getAllResponseHeaders(q));});return u;};r.prototype.ti=function(){return 1 === this.kb.length?this.kb[0].ti():"(" + this.kb.map(function(q){return q.ti();}).join(", ") + ")";};r.prototype.Erb=function(){return this.kb[0].ti();};r.prototype.Vpa=function(){};r.prototype.kQ=function(q){var u;this.state > f.Zg.OPENED || (this.Va=f.Zg.xL,this.n3=Math.max(this.n3,q.Qi),null === (u=this.GEa) || void 0 === u?void 0:u.rwc(),this.ela(this));};r.prototype.Nlc=function(q,u,v){void 0 === v?this.nsb(q):(q=v - u,0 < q && !this.eZa(u,q) && (this.eE={offset:u,ka:q,Rm:v},this.WLa(this)));};r.prototype.cK=function(q){var u,v,w;if((0,h.Xj)(this.stream)){if(this.config.ycc && void 0 !== this.properties.index){v=q.getResponseHeader("X-NFLX-NCL",!1);v && (v=Number(v),isNaN(v) || this.stream.jGb(this.properties.index + 1,v));}v=0 < q.jG.length?q.jG[0]:-1;w=q.getResponseHeader("X-TCP-Info",!1);null === (u=this.stream.O.FX) || void 0 === u?void 0:u.BCb(this.stream,this.K,this.url,this.mediaType,w,v,this.properties.Bk);}u=q.Zpb();void 0 !== this.properties.index && void 0 !== u && this.stream.jGb(this.properties.index,u);0 >= this.ka && !this.LZa?(this.Nlc(q,this.offset + q.ka,u),void 0 !== u && (this.DZa(q),this.lQ(q,u,this.ka))):this.DZa(q);};r.prototype.DZa=function(q){var u;this.state <= f.Zg.xL?(this.fTa(q,0),this.Va=f.Zg.Gl,null === (u=this.GEa) || void 0 === u?void 0:u.nwc(),this.HJb(),this.F6(this)):this.UF(q,0);};r.prototype.Wpa=function(){(0,g.assert)(!1);};r.prototype.eTa=function(){(0,g.assert)(!1);};r.prototype.eZa=function(q,u){var v;v=this.stream.O;if(v.jw && !v.jw.$Ha(this.mediaType,u))return !1;this.tC(this.kb[0].xI,this.label,this.properties,{offset:q,ka:u});return !0;};r.prototype.nsb=function(q){this.qkb=(this.qkb || 0) + 1;1 >= this.qkb && (this.tx(q),q.abort(),this.eE=void 0,this.dJa(q.xI,this.label,this.properties));};r.prototype.UF=function(q,u){this.fTa(q,u);this.tW(this,u);};r.prototype.qo=function(q,u){var v;this.state > f.Zg.Gl || (this.config.Aja && this.stream.xa && this.Aja(q),this.fTa(q,u),this.HJb(),this.kb.every(function(w){return w.complete;}) && !this.Lr?(this.Va=f.Zg.zn,null === (v=this.GEa) || void 0 === v?void 0:v.aK(),this.FO(this,u),this.Qe()):this.tW(this,u));};r.prototype.Upa=function(){this.jpb(this);};r.prototype.lx=function(q){var u;this.console.warn("AseRequest.onrequesterror:",this.toString(),"sub request:",q.toString());u=q.status;(416 === u || 206 === u) && 0 >= this.ka && !this.LHa()?(q.abort(),q.Qe(),this.tx(q),this.tC(q.xI,this.label,this.properties,{offset:q.offset,ka:Math.max(Math.ceil(q.ka / 2),1)})):(this.wX=q,this.dla(this));};r.prototype.CY=function(){var q,u;if(this.state !== f.Zg.Av){this.console.warn("AseRequest.onrequestaborted:",this.toString());q=this.active;u=this.EY;this.Va=f.Zg.Av;this.sW(this,q,u);}};r.prototype.lQ=function(q,u,v){this.Ne+=u - v;q={type:"updatedBytes",Qyb:u,iTa:v};this.events.emit(q.type,q);this.XLa(this,u,v);};r.prototype.fTa=function(q,u){this.wX === q && (this.wX=void 0);this.n3=Math.max(this.n3,q.Qi);this.CM+=u;};r.prototype.toString=function(){return "ID: " + this.ti();};r.prototype.Aja=function(q){var u,v,w,x,y,A,z,B;(0,g.assert)((0,h.Xj)(this.stream),"debugFragmentTimes only supported for live streams");if(this.mediaType !== e.v.Aa && this.Znc && q === this.kb[0] && q.response instanceof ArrayBuffer){u=c.fH.$nb(new DataView(q.response));if(u){q=u.A_;v=u.Cw;w=u.kG;if(void 0 === v || void 0 === w)(u=void 0 === v?this.mediaType === e.v.V?this.stream.Ea.Rc(this.il).ia:0:0,new e.I(q + u,this.stream.il));else {x=this.O.getTracks(e.v.V)[0];(0,g.assert)((0,h.eo)(x),"Unexpected on-demand video track in live branch");u=q;this.mediaType === e.v.X && this.config.kwb && (u-=x.Cw.Rc(this.il).ia);w=this.stream.Ea.Jg(w);v=new e.I(u + v,this.stream.il).ca(this.stream.track.Cw);y=this.wB.add(x.ml);A=this.Cfc;x=!w.equal(A);z=1 < e.I.abs(v.ca(y)).ia;B=x && z?"both":x?"duration":z?"presentation":v.equal(y)?"ok":"onetick";q="onrequestcomplete, fragmentTimes: index " + this.index + (" decode ").concat(q) + (" adjusted ").concat(u) + (" presentation ").concat(v.ba()) + (" expected ").concat(y.ba()) + (" duration ").concat(w.ba()) + (" expected ").concat(A.ba()," ") + B;x?this.console.error(q):z?this.console.warn(q):this.console.trace(q);}}}};return r;})(a.wS);b.vS=m;(0,t.wl)(k.x0a,m,!1);},11031:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.g0=void 0;d=a(22970);n=a(91176);c=a(6198);g=a(52571);f=a(48170);e=a(92140);h=a(50468);t=(function(){function l(k,m,p){var r,q,u;this.xb=m;this.nb=p;this.ee=n.I.fa;this.wh=!0;this.mpb=new Map();this.ofb=k.wv;this.Xu=k.Xu;this.js=k.track;this.pXb=this.mediaType !== c.v.Aa?this.s9.Wj:!1;this.zYa=k.zYa;this.TD=k.pj;m=k.fr;this.fr=void 0 === m?!0:m;this.aka=k.aka;this.WT=void 0;this.txb=this.nw=0;this.url=this.hba=this.Eb=this.ut=this.VQa=this.location=this.ob=this.sb=void 0;this.qp=!1;this.fQa=this.bh=void 0;m=(k=this.xb) && "object" === typeof k.Z$ && k.Z$[this.profile];"object" === typeof m && (m=m[this.bitrate]) && (this.ee=new n.I(m.ticks,m.timescale));this.cvc=0 <= (null === (r=k.Chb) || void 0 === r?void 0:r.indexOf(this.profile));this.oub=this.mediaType === c.v.X?!0:this.mediaType === c.v.V?this.xa || -1 !== this.me.indexOf("h264bpl") || -1 !== this.me.indexOf("h264mpl") || -1 !== this.me.indexOf("hevc") && -1 === this.me.indexOf("do"):!1;if((null === (q=k.uQ) || void 0 === q?0:q.iYc) && this.mediaType === c.v.V && (r=this.Xu,0 < (null === (u=r.mR) || void 0 === u?void 0:u.length))){u=r.mR.splice(0,r.mR.length);r=new Uint8Array(u.length);for(q=0;q < u.length;q++)r[q]=u[q].Ob;this.mR=r;}}Object.defineProperties(l.prototype,{cub:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{O:{get:function(){return this.js.O;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{J:{get:function(){return this.O.J;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zr:{get:function(){return this.O.zr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{R:{get:function(){return this.js.R;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mediaType:{get:function(){return this.js.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ea:{get:function(){return this.js.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{P:{get:function(){return this.js.P;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{il:{get:function(){return this.js.il;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{trackId:{get:function(){return this.js.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{s9:{get:function(){if(this.mediaType !== c.v.Aa)return this.Xu;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wv:{get:function(){return this.ofb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Jb:{get:function(){var k;return this.mediaType === c.v.Aa?null !== (k=this.zYa) && void 0 !== k?k:"":this.s9.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{id:{get:function(){return this.Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Wj:{get:function(){return this.pXb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xa:{get:function(){return this.track.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bitrate:{get:function(){return this.mediaType === c.v.Aa?0:this.s9.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ob:{get:function(){var k;if(this.Dka)return this.Dka;if(this.mediaType === c.v.V)return null !== (k=this.Xu.vmaf) && void 0 !== k?k:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hsa:{get:function(){return this.mediaType !== c.v.X?e.nbb.hic().Hsa(this.bitrate,this.profile):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xEb:{get:function(){if(this.mediaType === c.v.V)return this.Xu.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{vZ:{get:function(){if(this.mediaType === c.v.V)return this.Xu.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{profile:{get:function(){return this.mediaType === c.v.Aa?"timedtext":this.s9.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{me:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tn:{get:function(){if(this.mediaType === c.v.V)return this.Xu.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{YW:{get:function(){return this.cvc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$w:{get:function(){return this.La && this.La.$w;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Dw:{get:function(){return void 0 !== this.WT?this.WT:this.npc();},set:function(k){this.WT=k;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Us:{get:function(){return this.fr && !this.qp;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{uF:{get:function(){return this.Us && !1 !== this.Dw;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pj:{get:function(){return this.TD;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{coc:{get:function(){(0,g.assert)(!!this.La,"Initial header should have been received already");return this.O.yPa() && -1 < this.me.indexOf("h264mpl") && void 0 === this.La.tGa;},enumerable:!1,configurable:!0}});l.prototype.eF=function(){return this.O.eF(this.mediaType,this.Jb);};l.prototype.bic=function(){var k;k=this.eF();return k && k.stream.La;};l.prototype.QC=function(k,m){return this.O.QC(this,k,m);};l.prototype.LSa=function(){this.track.LSa();};l.prototype.Npa=function(){this.track.Npa();};l.prototype.Hs=function(k){f.u && (0,g.assert)(this.La && 0 <= k && k < this.La.length);return new h.bq(this,void 0,this.La.get(k));};l.prototype.jqb=function(k){var m;f.u && (0,g.assert)(k instanceof h.bq);f.u && (0,g.assert)(this.trackId === k.stream.trackId);m=this.Hs(k.index);k.ma && (m.Gh(k.ma),m.PZ(k.MC),f.u && this.nb && this.nb.trace("AseStream: other stream fragment: " + JSON.stringify(k) + " transferring edit:" + JSON.stringify(k.ma)));return m;};l.prototype.jGb=function(k,m){this.mpb.set(k,m);};l.prototype.Uhc=function(k){return this.mpb.get(k);};l.prototype.hMc=function(k,m){this.nw=k;this.txb=m;};l.prototype.A5b=function(){this.ob=this.sb=this.Eb=this.location=this.url=void 0;};l.prototype.$q=function(){switch(this.mediaType){case c.v.X:return this.vgc();case c.v.V:return this.glc();case c.v.Aa:return this.Mkc();default:(0,g.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};l.prototype.toJSON=function(){return {movieId:this.R,mediaType:this.mediaType,streamId:this.Jb,bitrate:this.bitrate,streamIndex:this.wv,isAvailable:this.fr,fittable:this.Dw,vmaf:this.Ob,resolutionWidth:this.xEb,resolutionHeight:this.vZ};};l.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Jb + ":" + this.bitrate;};l.prototype.npc=function(){var k;if(!this.eh)return !0;if(this.track.vOa >= this.bitrate)return this.WT=!0;if(this.track.Lwb <= this.bitrate)return this.WT=!1;f.u && this.nb && this.nb.trace("isStreamFittableInBuffer: minRequiredBuffer " + this.xb.ex);k=this.Oia();k?this.track.xUa && !this.Wj && this.track.Zn || (this.track.vOa=this.bitrate):this.track.Lwb=this.bitrate;return this.WT=k;};l.prototype.glc=function(){return d.__assign(d.__assign({},this.track.$q()),{profile:this.me});};l.prototype.vgc=function(){return d.__assign(d.__assign({},this.track.$q()),{profile:this.me,bitrate:this.bitrate});};l.prototype.Mkc=function(){return d.__assign(d.__assign({},this.track.$q()),{profile:this.me});};return l;})();b.g0=t;},78015:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.wS=void 0;a(52571);t=(function(){function d(n,c){d.iPa(this,n,c);}d.iPa=function(n,c,g){n.Pe=c;n.Ne=g.ka;n.Sc=g.offset;};Object.defineProperties(d.prototype,{stream:{get:function(){return this.Pe;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ka:{get:function(){return this.Ne;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{offset:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{O:{get:function(){return this.Pe.O;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{R:{get:function(){return this.Pe.R;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mediaType:{get:function(){return this.Pe.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Jb:{get:function(){return this.Pe.Jb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bitrate:{get:function(){return this.Pe.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{profile:{get:function(){return this.Pe.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{P:{get:function(){return this.Pe.P;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{il:{get:function(){return this.Pe.il;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ea:{get:function(){return this.Pe.Ea;},enumerable:!1,configurable:!0}});d.prototype.uv=function(n){this.Pe=n;};return d;})();b.wS=t;},5800:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.dD=void 0;t=a(85254);a=a(71808);d=(function(){function n(c,g){this.parent=c;this.LA=g.tb;this.Tt=g.Ib;}Object.defineProperties(n.prototype,{tb:{get:function(){return void 0 !== this.LA?this.LA:this.parent.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ib:{get:function(){return void 0 !== this.Tt?this.Tt:this.parent.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.parent.P;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xo:{get:function(){return this.parent.xo;},enumerable:!1,configurable:!0}});n.prototype.jGc=function(c){this.LA=c;};n.prototype.NZ=function(c){this.Tt=c;};n.prototype.$ia=function(){this.Tt=void 0;};return n;})();b.dD=d;(0,t.wl)(a.Ox,d);},71808:function(t,b,a){var c;function d(g,f){return void 0 === g?void 0:0 === g?c.I.fa:new c.I(g,f);}function n(g,f){return void 0 === g || void 0 === f?void 0:g + f;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ox=void 0;c=a(91176);t=(function(){function g(){}Object.defineProperties(g.prototype,{AI:{get:function(){var f,e;f=this.Ib;e=this.tb;return (void 0 === f || void 0 === e?void 0:f - e) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qzc:{get:function(){return n(this.tb,this.xo);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mzc:{get:function(){return n(this.Ib,this.xo);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rb:{get:function(){return d(this.AI,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sa:{get:function(){return d(this.tb,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{za:{get:function(){return d(this.Ib,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pb:{get:function(){return d(this.qzc,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mb:{get:function(){return d(this.mzc,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jra:{get:function(){return d(this.xo,this.P);},enumerable:!1,configurable:!0}});return g;})();b.Ox=t;},26279:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.h0=void 0;d=a(22970);n=a(6198);c=a(52571);g=a(69575);f=a(65077);e=a(444);h=a(52629);l=a(8149);k=a(48170);m=a(91967);p=a(87225);r=a(48834);t=(function(){function q(u,v,w){var x,y;x=this;this.config=v;this.console=w;this.ky=new g.gbb();this.u3=0;this.ko=u.ko;this.O=u.O;this.mediaType=u.mediaType;this.mL=u.mL;this.PH=u.PH;this.mediaType === n.v.V?(v=this.ko,w=d.__read(v.streams,1)[0],this.IYb=new h.KT({w:v.maxWidth,Iw:v.maxHeight},{w:v.zBb,Iw:v.ABb}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.rEa=e.MD.from({ix:w.framerate_value,xu:w.framerate_scale}),this.BH=this.rEa.Ea(),k.u && this.console.trace("AseTrack: video frame duration normalized to " + this.BH.toString() + " from " + JSON.stringify(w))),void 0 !== v.DRa && void 0 !== v.CRa && (this.GXb=e.MD.from({ix:v.DRa,xu:v.CRa}))):this.mediaType === n.v.X && (this.kWb=this.ko.streams[0].channels,this.JYb=48E3);this.Ab=(this.$r=this.BH) && this.$r.P;this.mediaType === n.v.Aa && (this.Ab=1E3);this.fFa=!1;this.vOa=-Infinity;this.Lwb=Infinity;u=q.wWb(this,u.Gu);v=u.byb;w=u.maxBitrate;y=u.De;this.Zn=u.Zn;this.byb=v;this.maxBitrate=w;this.De=y;this.qsa(m.U2.U,w,v);this.iJc=y.reduce(function(A,z){A[z.Jb]=z;return A;},{});k.u && (function(){(0,c.assert)(void 0 !== x.R);(0,c.assert)(void 0 !== x.mediaType);(0,c.assert)(void 0 === x.$r || x.Ab === x.$r.P);});k.u && this.console.trace(("AseTrack: new track for movie ").concat(this.R,", mediaType ").concat(this.mediaType) + (", viewableId ").concat(this.O.J,", track ").concat(this.trackId) + (", frameDuration ").concat(this.Ea && this.Ea.toString()) + (", trackIndex ").concat(this.mL) + (", absoluteTrackIndex ").concat(this.PH));}q.wWb=function(u,v){var w,x,y,A,z,B,C,D,F,H;w=u.config;x=u.mediaType === n.v.V;y=!1;A=Infinity;z=0;B=[];C=(0,l.eo)(u)?p.p6a:r.L8a;if(u.mediaType === n.v.X || u.mediaType === n.v.V){D=u.ko;F=D.streams.some(function(E){return E.Wj;});D.streams.forEach(function(E,G){var K,N,I;K=E.bitrate;N=!0;if(x){I=E.Wj;N=v?!0:I === F;y=y || I;}N && (K < A && (A=K),K > z && (z=K));E=new C({Xu:E,wv:G,track:u,fr:N},w,u.console);B.push(E);});}else if(u.mediaType === n.v.Aa){H=u.ko;D=H.downloadableIds["imsc1.1"];k.u && u.console.trace("parsing text track dlid:",D);if(H=H.ttDownloadables["imsc1.1"])(D=new C({Xu:H,wv:0,track:u,fr:!0,zYa:D,pj:[]},w,u.console),B.push(D),u.ky.set(D));}else (D=u.ko,D.streams.forEach(function(E,G){E=new C({Xu:E,wv:G,track:u,fr:!0},w,u.console);B.push(E);}));return {Zn:y,byb:A,maxBitrate:z,De:B};};Object.defineProperties(q.prototype,{Y9:{get:function(){return !this.eh && 0 === this.u3;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xUa:{get:function(){return this.fFa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{R:{get:function(){return String(this.O.R);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === n.v.Aa?this.ko.id:this.ko.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zs:{get:function(){return this.Deb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ea:{get:function(){return this.$r;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.rEa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qoa:{get:function(){return this.GXb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qn:{get:function(){return this.IYb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.kWb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.JYb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === n.v.Aa?this.ko.rawTrackType:this.ko.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{AR:{get:function(){return this.mediaType === n.v.Aa?this.ko.rawTrackType:this.ko.AR;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{P:{get:function(){return this.Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{il:{get:function(){return this.PEa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dj:{get:function(){return this.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jz:{get:function(){return this.ky.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HLa:{get:function(){return this.ky;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gxb:{get:function(){return this.De.some(function(u){var v;return 1 < ((null === (v=u.pj) || void 0 === v?void 0:v.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vc:{get:function(){return this.O.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{XGa:{get:function(){return this.mediaType === n.v.X?this.ko.cja:void 0;},enumerable:!1,configurable:!0}});q.prototype.vi=function(u){return this.dP()[u];};q.prototype.dP=function(){return this.iJc;};q.prototype.equals=function(u){return !!u && this.R === u.R && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.LSa=function(){this.u3++;};q.prototype.Npa=function(){k.u && (0,c.assert)(0 < this.u3,"Removing more header requests than opened");0 < this.u3 && this.u3--;};q.prototype.qsa=function(u,v,w){var x;if(void 0 !== v && (void 0 === this.xRa || v < this.xRa.bitrate)){x=this.De.filter(function(y){return y.bitrate <= v;}).sort(function(y,A){return A.bitrate - y.bitrate;});0 < x.length && (this.xRa={bitrate:x[0].bitrate,reason:u});}void 0 !== w && (void 0 === this.TRa || w > this.TRa.bitrate) && (x=this.De.filter(function(y){return y.bitrate >= w;}).sort(function(y,A){return y.bitrate - A.bitrate;}),0 < x.length && (this.TRa={bitrate:x[0].bitrate,reason:u}));};q.prototype.Szb=function(u){void 0 === this.ky.value && (k.u && this.console.trace("first AseTrack.onHeaderComplete for stream:",u.id),this.ky.set(u));};q.prototype.Akb=function(u){k.u && (0,c.assert)(u instanceof q);k.u && this.console.trace("AseTrack: copying header to movie " + this.R + ", track " + this.trackId + ", mediaType " + this.mediaType + ", from movie " + u.R + ", track " + u.trackId + ", mediaType " + u.mediaType + ", track.headerReceived " + u.eh);this.eh || (this.wsa(u.P),this.UWa(u.il),this.QWa(u.Ea),this.ye=u.Dj,u.HLa.value?this.ky.set(u.HLa.value):this.ky.uEb());};q.prototype.Hu=function(u,v,w,x){var y;(0,c.assert)(this.jz);y=this.jz;u=(0,f.Hu)(this.mediaType,u,y,v,w,x);k.u && this.console.trace("AseTrack.findFirstFragment() pts:",v,"parentLastFragment:",null === w || void 0 === w?void 0:w.toString(),"found:",u);return u;};q.prototype.KI=function(u,v,w){var x;(0,c.assert)(this.jz);x=this.jz;u=(0,f.KI)(this.mediaType,u,x,v,w);k.u && this.console.trace("AseTrack.findLastFragment() pts:",v,"found:",u);return u;};q.prototype.$q=function(){switch(this.mediaType){case n.v.X:return ((0,c.assert)(this.mediaType === n.v.X),(0,c.assert)(void 0 !== this.channels),(0,c.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,AR:this.AR,bitrate:this.De[this.De.length - 1].bitrate,sampleRate:this.sampleRate,Zs:this.Zs});case n.v.V:return ((0,c.assert)(this.mediaType === n.v.V),(0,c.assert)(void 0 !== this.qoa),(0,c.assert)(void 0 !== this.qn),{J:this.O.J,Zn:this.Zn,profile:this.profile,cZc:this.qoa.ix,bZc:this.qoa.xu,AR:this.AR,qn:this.qn,maxWidth:this.qn.qn.w,maxHeight:this.qn.qn.Iw,zBb:this.qn.FAb.w,ABb:this.qn.FAb.Iw,Zs:this.Zs});case n.v.Aa:return ((0,c.assert)(this.mediaType === n.v.Aa),{profile:this.profile,AR:this.AR});default:(0,c.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};q.prototype.toJSON=function(){return {movieId:this.R,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.wsa=function(u){k.u && (0,c.assert)(void 0 === this.Ab || this.Ab === u);this.Ab=u;};q.prototype.UWa=function(u){k.u && (0,c.assert)(void 0 === this.PEa || this.PEa === u);this.PEa=u;};q.prototype.QWa=function(u){var v;k.u && (0,c.assert)(void 0 !== u);v=new e.MD(u.P,u.ia).Ea();k.u && (0,c.assert)(void 0 === this.$r || this.$r.equal(v));this.$r=u;this.mediaType === n.v.V && (this.rEa=e.MD.ZLa(u));};return q;})();b.h0=t;},51440:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.D0a=void 0;d=a(22970);a(91562);a(66164);a(52571);t=a(85254);n=a(50468);a=(function(c){function g(f,e,h,l,k,m,p,r){var q;q=d.__assign(d.__assign({},h),{offset:h.offset,ka:h.Roa + 8,PJ:void 0,responseType:0});l=c.call(this,f,e,"moof",q,l,k,m,p) || this;l.kka=!0;l.aC=!1;n.bq.Sb(l,f,k,h,r);l.FY=l.y3b(h,q.ka);l.Xnb(e,"mdat",h,l.FY);return l;}d.__extends(g,c);g.prototype.KB=function(){return this.xPa() && c.prototype.KB.call(this);};g.prototype.y3b=function(f,e){var h;e={offset:f.offset + e,ka:f.ka - e};if(this.ma){if(0 < this.ma.start){h=this.Lob(this.ma.start);h && (e.offset=f.offset + h,e.ka=f.ka - h);}null !== this.ma.end && this.ma.end < this.nf && (h=this.Lob(this.ma.end)) && (e.ka-=f.ka - h);}return e;};g.prototype.toString=function(){return "ID: " + this.ti() + ":" + c.prototype.toString.call(this);};return g;})(a(50247).vS);b.D0a=a;(0,t.wl)(n.bq,a);},87225:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.p6a=void 0;d=a(22970);n=a(91176);c=a(48170);g=a(11031);t=(function(f){function e(h,l,k){h=f.call(this,h,l,k) || this;h.xb=l;h.nb=k;h.wh=!1;return h;}d.__extends(e,f);Object.defineProperties(e.prototype,{La:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{track:{get:function(){return this.js;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{eh:{get:function(){return !!this.TD;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{ml:{get:function(){return this.track.ml;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{y6:{get:function(){return this.track.y6;},enumerable:!1,configurable:!0}});e.prototype.sY=function(h,l,k,m,p,r,q,u,v){c.u && this.nb && this.nb.trace("AseStream.onHeaderReceived");this.eh?c.u && this.nb.trace("Duplicate header received for stream ",this):(this.TD=h,this.track.sY(this,l,k,m,r,u,v),this.track.Szb(this));};e.prototype.zkb=function(h){c.u && (0,n.assert)(h instanceof g.g0);c.u && (0,n.assert)(h.Jb === this.Jb);this.eh || (this.track.Akb(h.track),this.TD=h.pj);};e.prototype.SW=function(h,l,k){var m,p,r;k=null === (m=k || this.url) || void 0 === m?void 0:m.split("?");m=null !== (p=null === k || void 0 === k?void 0:k[0]) && void 0 !== p?p:"";p=null !== (r=null === k || void 0 === k?void 0:k[1]) && void 0 !== r?r:"";h?h=this.track.Ftb:(void 0 === l && this.nb.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,n.assert)(void 0 !== l,"liveSegmentId is required for live media requests"),h=this.track.ttc.replace("$Number$",l.toString()));this.O.qd.vJ() && (l=this.track.Yk,p+=(p?"&":"") + "flp=" + encodeURIComponent(("ast,").concat(this.O.qd.WMa(!0).G,",startSegment,").concat(this.track.un,",duration,").concat(l.ia,",timeScale,").concat(l.P)));return m + "/" + h + (p?"?" + p:"");};e.prototype.Oia=function(){var h,l;return this.xb.WP * this.bitrate / 8 * (this.xb.ex + (null !== (l=null === (h=this.O) || void 0 === h?void 0:h.yR.G) && void 0 !== l?l:0)) < this.nw;};e.prototype.RW=function(h,l){var k;k=void 0 === h || h === this.track.un;return this.SW(k,k?void 0:h,l);};return e;})(g.g0);b.p6a=t;},92945:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.q6a=void 0;d=a(22970);n=a(91176);c=a(6198);g=a(52571);f=a(444);e=a(48170);h=a(8149);l=a(91967);t=(function(k){function m(p,r,q){var u;r=k.call(this,p,r,q) || this;r.NV=n.I.fa;r.q3=p.CX;void 0 !== r.q3 && r.qsa(l.U2.U,r.q3);p=r.O.U.Ti;(0,g.assert)(p,"Live metadata cannt be undefined on live viewable");q=r.De[0].Jb;u=null === p || void 0 === p?void 0:p.fka[q];(0,g.assert)(void 0 !== u,"No segment template id found for downloadableId: " + q);r.GC=p.lR[u];(0,g.assert)(r.GC,"No segment template found for segmentTemplateId: " + u);r.un=Number(r.GC.vHb);r.ml=new n.I(Number(r.GC.nAc),r.GC.P);r.Yk=new n.I(r.GC.duration,r.GC.P);void 0 === r.P && r.wsa(r.GC.P);return r;}d.__extends(m,k);Object.defineProperties(m.prototype,{Ftb:{get:function(){return this.GC.Bnc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ttc:{get:function(){return this.GC.media;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{eh:{get:function(){var p;return this.mediaType === c.v.Aa?!0:!(null === (p=this.ky.value) || void 0 === p || !p.eh);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{CX:{get:function(){return this.q3;},set:function(p){e.u && this.console.trace("setting liveBitrateDynamicCap:",this.q3,"->",p);this.q3=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{y6:{get:function(){return this.Fga || n.I.fa;},set:function(p){var r;e.u && this.Fga && !p.equal(this.Fga) && this.console.warn("Unexpected change in first frame offset timestamp" + ("").concat(null === (r=this.Fga) || void 0 === r?void 0:r.ba()," -> ").concat(p.ba()));this.Fga=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Cw:{get:function(){return this.Uka?new n.I(this.Uka.Cw,this.il):this.NV || n.I.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jz:{get:function(){var p;p=this.ky.value;return (0,h.Xj)(p)?p:void 0;},enumerable:!1,configurable:!0}});m.prototype.sY=function(p,r,q,u,v,w,x){e.u && this.console.trace(("[").concat(this.mediaType,"] AseTrack.onHeaderReceived for stream: ").concat(p.id,", ") + ("movieTimescale: ").concat(r,", ") + ("frameDuration: ").concat(null === q || void 0 === q?void 0:q.ba(),", ") + ("editListOffset: ").concat(null === x || void 0 === x?void 0:x.ba()));if(p.Wj || !p.track.Zn)this.fFa=!0;this.eh || (this.UWa(r),this.Deb=w,x && (this.NV=x),void 0 !== q && this.mediaType === c.v.V && this.config.eFb && (q=f.MD.ZLa(q).Ea()),(q=q || this.BH)?(e.u && this.console.trace(("[").concat(this.mediaType,"] AseTrack: Setting frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (" to ").concat(q.toString()) + (", was ").concat(this.$r && this.$r.toString()) + (", manifestFrameDuration ").concat(this.BH)),this.QWa(q || this.BH),void 0 === this.P && this.wsa(q.P)):(e.u && this.console.trace(("[").concat(this.mediaType,"] AseTrack: No frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (", timescale ").concat(this.P)),e.u && (0,g.assert)(this.P)));};m.prototype.JSa=function(p,r,q){var u,v;if(this.mediaType !== c.v.X && this.mediaType !== c.v.V)return (e.u && this.console.error(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: unexpected media type"),this.mediaType),!1);if(void 0 !== this.Uka)return !1;if(void 0 === q.Cw)return (e.u && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: no first frame composition offset")),!1);if(this.mediaType === c.v.V){u=this.Yk;v=this.un;r=new n.I(q.A_ + q.Cw,this.il).ca(u.Jg(r - v)).ca(this.NV);r.equal(this.ml) || e.u && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: presentation time offset difference"),this.ml.ba(),r.ba(),r.ca(this.ml).ba());}e.u && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: firstFragmentTimes ").concat(JSON.stringify(q)));this.Uka=q;this.O.JSa(this,p);return !0;};m.prototype.bwc=function(p,r){var q,u,v,w,x;(0,g.assert)(this.mediaType === c.v.X,("Unexpected call to onAudioFirstFragmentsReceived for media type ").concat(this.mediaType));q=this.Uka;u=q.A_;q=q.Cw;r=u - r.Rc(this.il).ia;p=p.Rc(this.il);v=new n.I(r + q,this.il).ca(p);w=Math.floor(v.bf(this.Ea));x=v.ca(this.Ea.Jg(w));this.y6=x;e.u && this.console.trace(("[").concat(this.mediaType,"] AseTrack.onAudioFirstFragmentReceived: trackFragmentDecodeTime: "),("").concat(new n.I(u,this.il).ba()),"adjustedTrackFragmentDecodeTime: ",("").concat(new n.I(r,this.il).ba()),"firstFrameCompositionOffset",("").concat(new n.I(q,this.il).ba(),","),("videoPresentationTimeOffset ").concat(p.ba(),","),("fragment presentation offset ").concat(v.ba(),","),("").concat(w," frames = ").concat(this.Ea.Jg(w).ba(),","),("firstFrameTimeOffsetTimestamp ").concat(x.ba()));};m.prototype.Lla=function(p){return this.O.cm() - p.G > 1E3 * this.O.wi.trc?"DVR":"LIVE";};m.prototype.Ju=function(p){var r,q,u,v,w,x;q=this.Yk.Rc(null !== (r=this.P) && void 0 !== r?r:this.GC.P);if(this.mediaType === c.v.X){u=this.y6.Rc(this.P);v=this.Ea.Rc(this.il);r=Math.ceil(q.Jg(p - this.un).ca(u).bf(v));w=Math.ceil(q.Jg(p - this.un + 1).ca(u).bf(v));x=v.Jg(r).add(u).Rc(this.P);u=v.Jg(w).add(u).Rc(this.P);e.u && this.console.trace("AseStream.getContentTimestampsBySegmentId",("[").concat(this.mediaType,"] ").concat(p,"-").concat(this.un," ") + ("=> frames ").concat(r,"-").concat(w),("offset ").concat(this.y6.ba()),("frame ").concat(this.Ea.G," segment ").concat(q.G),("start ").concat(x.G," end ").concat(u.G),("old start ").concat(q.Jg(p - this.un).G),("old end ").concat(q.Jg(p - this.un + 1).G));}else (x=q.Jg(p - this.un),u=x.add(q),e.u && this.console.trace("AseStream.getContentTimestampsBySegmentId",("[").concat(this.mediaType,"] ").concat(p,"-").concat(this.un," =>"),("segment ").concat(q.G),("start ").concat(x.G," end ").concat(u.G)));return {sa:x,za:u};};return m;})(a(26279).h0);b.q6a=t;},48834:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.L8a=void 0;d=a(22970);n=a(91176);c=a(89613);g=a(48170);f=a(11031);t=(function(e){function h(l,k,m){l=e.call(this,l,k,m) || this;l.xb=k;l.nb=m;l.mb=void 0;l.wh=l.xb.wh;return l;}d.__extends(h,e);Object.defineProperties(h.prototype,{track:{get:function(){return this.js;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eh:{get:function(){return !!this.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{La:{get:function(){return this.mb;},enumerable:!1,configurable:!0}});h.prototype.sY=function(l,k,m,p,r,q,u,v){g.u && this.nb && this.nb.trace("AseStream.onHeaderReceived");p && void 0 !== p.xt && (this.track.eh || void 0 !== p.fg && p.fg.length) && void 0 !== p.offset && void 0 !== p.sizes && p.sizes.length?(this.wh && this.ee && 0 === p.xt && (g.u && this.nb.trace("Applying profile timestamp offset of " + this.ee.toString() + " fragments.startTicks " + p.xt + " / " + p.P + " for profile " + this.profile),p.xt+=this.ee.Rc(p.P).ia),this.eh?g.u && this.nb.trace("Duplicate header received for stream ",this):(this.TD=l,this.track.sY(this,k,m,p,q,v),this.mb=new c.Bbb(this.ofb,this.track.Dj,p,r,q,u,this.R),this.track.Szb(this))):p?this.nb.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== p.xt) + "," + this.track.eh + "," + this.track.xUa + "," + (void 0 !== p.fg) + "," + !(!p.fg || !p.fg.length) + "," + (void 0 !== p.offset) + "," + (void 0 !== p.sizes) + "," + !(!p.sizes || !p.sizes.length)):this.nb.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};h.prototype.zkb=function(l){g.u && (0,n.assert)(l instanceof f.g0);g.u && (0,n.assert)(l.Jb === this.Jb);this.eh || (this.track.Akb(l.track),this.mb=l.La,this.TD=l.pj);};h.prototype.SW=function(l,k,m){return m || this.url;};h.prototype.Oia=function(){var l,k,m,p;return this.mb.Oia(this.xb.ex,this.nw,null !== (k=null === (l=this.O) || void 0 === l?void 0:l.yR.G) && void 0 !== k?k:0,null !== (p=null === (m=this.O) || void 0 === m?void 0:m.yR.ka) && void 0 !== p?p:0,this.txb);};h.prototype.RW=function(l,k){return k;};return h;})(f.g0);b.L8a=t;},1913:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.M8a=void 0;d=a(22970);n=a(6198);c=a(82149);g=a(52571);f=a(444);e=a(48170);t=(function(h){function l(k,m,p){k=h.call(this,k,m,p) || this;k.vEa=!1;return k;}d.__extends(l,h);Object.defineProperties(l.prototype,{eh:{get:function(){return this.mediaType === n.v.Aa?!0:!!this.Dj && !!this.ky.value;},enumerable:!1,configurable:!0}});l.prototype.sY=function(k,m,p,r,q,u){e.u && this.console.trace("AseTrack.onHeaderReceived for stream:",k.id);if(r && void 0 !== r.xt && (this.eh || void 0 !== r.fg && r.fg.length)){if(k.Wj || !k.track.Zn)this.fFa=!0;if(this.eh)!this.vEa && r.fg && r.fg.length > this.Dj.length && (e.u && this.console.trace("AseTrack: extending durations from " + ("").concat(this.Dj.length," to ").concat(r.fg.length)),this.ye=new c.cDa(this.mediaType,this.Ea,r,q),this.ky.uEb(),this.vOa=-Infinity,this.vEa=!0);else if((this.UWa(m),this.Deb=u,void 0 !== p && this.mediaType === n.v.V && this.config.eFb && (p=f.MD.ZLa(p).Ea()),(p=p || this.BH)?(e.u && this.console.trace(("AseTrack: Setting frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (" to ").concat(p.toString()) + (", was ").concat(this.$r && this.$r.toString()) + (", manifestFrameDuration ").concat(this.BH)),this.QWa(p || this.BH),void 0 === this.P && this.wsa(p.P)):(e.u && this.console.trace(("AseTrack: No frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (", timescale ").concat(this.P)),e.u && (0,g.assert)(this.P)),this.ye=new c.cDa(this.mediaType,this.Ea,r,q),k.Wj || !k.track.Zn))this.vEa=!0;}else this.console && this.console.error("AseTrack.onHeaderReceived with missing fragments data");};return l;})(a(26279).h0);b.M8a=t;},24251:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.G0a=void 0;d=a(91176);t=(function(){function n(c){this.config=c;}n.prototype.gBc=function(c){var g,f,e;g=this.config;f=[];e=[];c.forEach(function(p,r){void 0 === p.Ob?e.push(r):f.push(r);});if(0 !== e.length)for(var h=-1,l=-1,k=function(p){var r,q,u,v,w,x;r=e[p];q=c[r];if(0 === p || r !== e[p - 1] + 1)(h=f[(0,d.ohb)(f,function(y){return y < r;})] || -1,l=f[(0,d.Ql)(f,function(y){return y > r;})] || -1);u=0;v=g.btc;p=0;w=g.ctc;-1 < l && (v=c[l].bitrate,w=c[l].Ob);-1 < h && (p=c[h].Ob,u=c[h].bitrate);v=Math.log(v);u=0 === u?0:Math.log(u);x=Math.log(q.bitrate);q.Dka=Math.max(0,Math.min(110,Math.round((p * (v - x) + w * (x - u)) / (v - u) * 100) / 100));},m=0;m < e.length;m++)k(m);};return n;})();b.G0a=t;},29092:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.map=b.APa=b.Yka=b.lLa=b.Hda=b.AsyncIterator=b.pda=void 0;d=a(91176);Object.defineProperties(b,{pda:{enumerable:!0,get:function(){return d.pda;}}});Object.defineProperties(b,{AsyncIterator:{enumerable:!0,get:function(){return d.AsyncIterator;}}});Object.defineProperties(b,{Hda:{enumerable:!0,get:function(){return d.Hda;}}});Object.defineProperties(b,{lLa:{enumerable:!0,get:function(){return d.lLa;}}});Object.defineProperties(b,{Yka:{enumerable:!0,get:function(){return d.Yka;}}});Object.defineProperties(b,{APa:{enumerable:!0,get:function(){return d.APa;}}});Object.defineProperties(b,{map:{enumerable:!0,get:function(){return d.map;}}});},89645:function(t,b,a){var c,g,f,e,h,l,k,m;function d(p,r){return p.done?p:{value:{value:p.value,Kfb:r}};}function n(p){p.Kfb();return {done:!1,value:p.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.gUb=b.SG=void 0;b.jWc=function(p){return (0,f.map)(p,n);};c=a(22970);g=a(66164);t=a(90745);f=a(29092);e=a(48170);h=a(69575);l=a(52571);a=a(85254);k=(function(){function p(r,q){this.console=r;this.qh=q;this.Suc=this.N5=0;this.Rh=[];this.console=(0,h.rf)(g.platform,this.console,"QueueIterator:");}Object.defineProperties(p.prototype,{rac:{get:function(){return this.N5;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bkb:{get:function(){var r,q,u;for(q=0;q < this.Rh.length;q++){u=this.Rh[q];if(!u.v8 || (null === (r=u.item) || void 0 === r?0:r.done))break;}return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{count:{get:function(){return this.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tF:{get:function(){return 0 === this.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{HVa:{get:function(){var r;for(r=0;r < this.Rh.length && this.Rh[r].$Pa;r++);return r;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{head:{get:function(){var r;r=c.__read(this.Rh,1)[0];return (r=r && r.item) && !r.done && r.value;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{iSa:{get:function(){var r;for(r=0;r < this.Rh.length && this.Rh[r].v8;r++);return r;},enumerable:!1,configurable:!0}});p.prototype.oO=function(){var r;if(void 0 === this.qh){r=this.console;e.u && r && r.trace("QueueIterator: enqueueEnd");this.nZa(this.iSa - (this.qh || 0));}};p.prototype.aj=function(){return this.Rh.map(function(r){return r.item;});};p.prototype.mca=function(){this.values || (this.values=this.Rh.filter(function(r){return (null === r || void 0 === r?void 0:r.item) && !r.item.done;}).map(function(r){return r.item.value;}));return this.values;};p.prototype.nZa=function(r){var q;e.u && this.console.trace("updateCount",{T1c:this.qh,vw:r});if(void 0 !== this.qh){q=this.Rh[this.qh];q && this.oPa(q);}this.qh=void 0 === this.qh?r:void 0 === r?r:this.qh + r;void 0 !== this.qh && (this.qh=Math.max(0,this.qh),(q=this.Rh[this.qh]) && q.yP.resolve({done:!0}));};p.prototype.enqueue=function(r){var q;e.u && this.console.trace("Enqueue called");q=this.iSa;this.Zia();return this.tBc(q,{value:r,done:!1}).gmb.promise;};p.prototype.tEb=function(){e.u && this.console.trace("resetEnd");this.nZa(void 0);};p.prototype.clear=function(r){var q,u,v;e.u && this.console.trace("clear");this.LUa();q=this.HVa;u=this.Rh.length - q;if(0 < u){v={index:q,zSa:u};e.u && this.console.trace("Removing items",v);this.Rh.splice(q,u);this.Zia();this.emit("onRemoved",v);}for(u=1;u < q;u++)this.oPa(this.Rh[u]);this.qh=void 0;this.nZa(r?r + q:r);this.N5 && (this.N5=0);};p.prototype.getIterator=function(){var r,q;r=this;q=(0,h.rf)(g.platform,this.console,"QueueIteratorInstance::");return new m(this,function(u){return r.brb(u);},q);};p.prototype.qac=function(){var r;if(0 < this.HVa){r=c.__read(this.Rh,1)[0];r.v8 && (e.u && this.console.trace("dequeue",r.id),this.LUa(1),this.emit("onDequeue",r.yP.promise));}};p.prototype.remove=function(r){var q,u,v;for(q=0;q < this.Rh.length;q++){u=this.Rh[q];v=u.item;if(v && !v.done && v.value === r){this.Rh.splice(q,1);this.qh && this.qh > q && this.qh--;this.Zia();e.u && this.console.trace("removed",{id:u.id});this.emit("onRemoved",{index:q,zSa:1});break;}}};p.prototype.LUa=function(r){var q;r=r || Math.min(this.HVa,this.iSa);if(0 < r){q=this.Rh.splice(0,r);this.Zia();this.qh && (this.qh-=r);e.u && this.console.trace("pruned",r);Promise.resolve().then(function(){q.forEach(function(u){u.gmb.resolve();});});this.emit("onRemoved",{index:0,zSa:r});this.N5+=r;}};p.prototype.brb=function(r){var q;e.u && this.console.trace("getNextItemCalled",{offset:r});if(void 0 === this.count || 0 < this.count){this.Atb(r);q=this.Rh[r];q.TDc.resolve();r=q.yP.promise;e.u && this.console.trace("getNextItem:return",{id:q.id});}else (e.u && this.console.trace("getNextItem:returnDone"),r=Promise.resolve({done:!0}));return r;};p.prototype.tBc=function(r,q){var u;u=!q.done && q.value;u=u && u.toJSON?u.toJSON():u;e.u && this.console.trace("Providing result",{P0b:r,item:u});this.Atb(r);r=this.Rh[r];u=r.yP.resolve;u(q);return r;};p.prototype.Atb=function(r){var q;if(void 0 === this.Rh[r]){q={};this.oPa(q);this.Rh[r]=q;r === this.qh && q.yP.resolve({done:!0});e.u && this.console.trace("Item initialized",{P0b:r});}};p.prototype.mJa=function(r){var q;q={};q.promise=new Promise(function(u,v){q.resolve=function(w){u(w);r && r(w);};q.reject=v;});return q;};p.prototype.oPa=function(r){var q;q=this;r.yP=this.mJa(function(u){r.item=u;r.v8=!0;e.u && q.console.trace("Item resolved",{id:r.id});});r.id && r.$Pa && !r.v8 && (r.yP.resolve({done:!0}),e.u && this.console.warn("Overwriting requested queue item",r.id));r.gmb=this.mJa();r.TDc=this.mJa(function(){r.$Pa=!0;e.u && q.console.trace("Item requested",{id:r.id});});r.id=this.Suc++;r.$Pa=!1;r.v8=!1;r.item=void 0;};p.prototype.Zia=function(){this.values=void 0;};p.prototype.pla=function(){var r,q,u;r=this;q=(0,h.rf)(g.platform,this.console,"QueueIteratorInstance::");u=new m(this,function(v){var w,x;if(0 === r.count)return f.AsyncIterator.NNa();w=r.brb(v);x=r.Rh[0];return w.then(function(y){return d(y,function(){u.kX || (x === r.Rh[0]?r.qac():(0,l.assert)(!r.Rh.filter(function(A){return A.yP.promise === w;}).length,"Out of order acknowledgements are not supported"));});});},q);return u;};return p;})();b.SG=k;(0,a.wl)(t.EventEmitter,k);m=(function(p){function r(q,u,v){var w;w=p.call(this,function(){e.u && w.console.trace("Next item requested",{index:w.index});return w.CEc(w.index++);}) || this;w.parent=q;w.CEc=u;w.console=v;w.oXb=!1;w.index=0;w.yEa=!1;w.bK=function(x){var y;y=x.index;x=x.zSa;w.index >= y && (w.index=Math.max(y,w.index - x));y=w.console;e.u && y && y.trace("QueueIteratorInstance: onRemoved modified",w.index);};return w;}c.__extends(r,p);r.prototype.Hg=function(){this.console.trace("disposed");this.oXb=!0;this.Qe();p.prototype.Hg.call(this);};r.prototype.next=function(){this.kX || this.nPa();return p.prototype.next.call(this);};r.prototype.cancel=function(){this.Qe();return p.prototype.cancel.call(this);};r.prototype.Qe=function(){this.parent.mm("onRemoved",this.bK);this.yEa=!1;};r.prototype.nPa=function(){this.yEa || (this.yEa=!0,this.parent.on("onRemoved",this.bK));};return r;})(f.AsyncIterator);b.gUb=m;},54923:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.c1a=void 0;d=a(22970);n=a(91176);t=(function(){function c(g,f,e){this.Ksc=g;this.fIc=f;this.console=e;this.name="BatchRequestThrottler";this.ZEb=new n.Pab();this.reset();}c.prototype.process=function(g){return d.__awaiter(this,void 0,void 0,function(){var f;f=this;return d.__generator(this,function(e){switch(e.label){case 0:this.ZEb.epc || (this.yia=n.I.fa);this.ZEb.AIc();if(g.done)return [3,3];if(!this.yia.pf(this.Ksc))return [3,2];!1;return [4,new Promise(function(h){return setTimeout(h,f.fIc);})];case 1:(e.S(),e.label=2);case 2:(this.yia=this.yia.add(g.value.value.Rb),e.label=3);case 3:return [2,g];}});});};c.prototype.reset=function(){};c.prototype.OSa=function(){!1;this.yia=n.I.fa;};return c;})();b.c1a=t;},29358:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.l1a=void 0;d=a(22970);n=a(29092);c=a(48170);g=a(58049);t=(function(){function f(e,h,l){this.nb=e;this.eWb=h;this.VD=l;this.xga=0;this.yna=!1;this.o4=[];this.xV=void 0;c.u && e.trace(("BranchRequestIterator [").concat(this.VD,"]: created"));}Object.defineProperties(f.prototype,{i$b:{get:function(){return this.xga;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wja:{get:function(){return this.Ndb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Oi:{get:function(){return this.yna;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zlb:{get:function(){return this.ao?this.ao.tF?"Complete":this.ao.HUa?"WaitingForBranch":void 0 !== this.xV?("In Policy ").concat(this.o4[this.xV].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.Rvb);},enumerable:!1,configurable:!0}});f.prototype.next=function(){return d.__awaiter(this,void 0,void 0,function(){var e,h,l,k,m;return d.__generator(this,function(p){var r;switch(p.label){case 0:e=this.ao;if(!e)return [3,6];this.xV=void 0;return [4,e.next()];case 1:h=p.S();this.nb.log("BranchRequestIterator:: processing result",!h.done && h.value.value.toString());r=h;l=!r.done && !(0,g.MPa)(r.value.value);k=0;p.label=2;case 2:if(!(k < this.o4.length))return [3,5];this.xV=k;m=this.o4[k];if(!l && !h.done && !m.c4b)return (this.nb.log("BranchRequestIterator::Skipping policy",{name:m.name}),[3,4]);this.nb.log("BranchRequestIterator::Checking policy",{name:m.name});return [4,m.process(h)];case 3:(h=p.S(),this.nb.log("BranchRequestIterator::policy complete",{name:m.name}),p.label=4);case 4:return (k++,[3,2]);case 5:this.xV=void 0;if(h.done || this.ao !== e)return [2,{done:!0}];this.xga++;h.value.Kfb();return [2,{done:!1,value:h.value.value}];case 6:return [2,n.AsyncIterator.NNa()];}});});};f.prototype.mEc=function(){this.IHb();this.kCc();};f.prototype.IHb=function(){var e;if(this.ao){this.Rvb=this.zlb;e=this.ao;e && e.Hg();this.o4.forEach(function(h){return h.reset();});e && c.u && this.nb.trace(("BranchRequestIterator [").concat(this.VD,"]: Disposing iterator that was on branch "),this.wja && this.wja.K.id);this.yna=!1;this.xV=this.ao=void 0;}};f.prototype.g4=function(e){this.o4.push(e);};f.prototype.kCc=function(){var e,h,l,k;e=this;if(!this.yna){h=this.nb;l=this.eWb;k=this.VD;this.xga=0;this.Rvb=this.Ndb=void 0;this.ao=(0,n.Yka)((0,n.map)(l.nkc(),function(m){return d.__awaiter(e,void 0,void 0,function(){var p;return d.__generator(this,function(r){switch(r.label){case 0:return (this.Ndb=m,this.xga=0,c.u && h.trace(("BranchRequestIterator [").concat(this.VD,"]: new branch ").concat(m.K.id)),[4,m.UI(k)]);case 1:if(p=r.S())return [2,{value:p}];c.u && h.error(("BranchRequestIterator [").concat(this.VD,"]: skipping branch ").concat(m.K.id));return [2,{value:[]}];}});});},h),h);this.yna=!0;}};return f;})();b.l1a=t;},50930:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.N4a=void 0;d=a(78541);n=a(42431);a(65161);c=a(52571);t=(function(){function g(f,e,h,l,k,m,p,r){this.Ba=f;this.track=e;this.KIc=h;this.yIc=l;this.config=k;this.console=m;this.events=p;this.Qwc=r;this.po=0;this.rUa=this.Nj=!1;}Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{L:{get:function(){return this.Ba.K.id;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mg:{get:function(){return this.Ba.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Osa:{get:function(){return this.KIc();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qj:{get:function(){return this.Osa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wG:{get:function(){return this.Osa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ZXa:{get:function(){return this.yIc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pW:{get:function(){return this.Ba.pW;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fe:{get:function(){return this.gs || (this.gs=this.oI());},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ak:{get:function(){return !this.track.Y9;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ETa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Qp:{get:function(){return this.Ba.z7(this.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{YJ:{get:function(){return -Infinity;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{HU:{get:function(){return "available";},enumerable:!1,configurable:!0}});g.prototype.Sw=function(){return this.track.Y9;};g.prototype.bo=function(){return this.track.eh;};g.prototype.Rf=function(){return !1;};g.prototype.qqb=function(){return {La:[],pqa:0,nx:0,mZ:0};};g.prototype.tJb=function(){var f;(0,c.assert)(this.bo());f=this.fe;this.gs=void 0;return f;};g.prototype.dZa=function(f){return (f=f.QC(this.Ba.K,this.fe))?{Sf:f,reason:"success"}:{Sf:f,reason:"pipelineTryIssueHeaderRequest"};};g.prototype.cancel=function(){this.gs && (this.Ba.O.V3(this.mediaType,this.gs),n.RL.instance.Vja(this.gs),this.gs.removeAllListeners(),this.gs=void 0);};g.prototype.SPa=function(){var f,e,h;h=this.config.Ap;if(null === (f=this.fe) || void 0 === f?0:f.track)h=null === (e=this.fe) || void 0 === e?void 0:e.track.Ap;return h;};g.prototype.NW=function(){return this.Ba.hrb(this.mediaType);};g.prototype.oI=function(){var f,e;f=this;e=(0,d.oI)(this.mediaType,this.track.O,this.config,this.console,this.track.vc,function(h){return f.events.emit("transportReport",h);},function(h){return f.events.emit("mediaRequestComplete",h);},function(){});e.on("created",this.Qwc);return e;};return g;})();b.N4a=t;},25813:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.p9a=b.m0=void 0;d=a(22970);n=a(91176);c=a(66164);g=a(65161);t=a(71808);f=a(85254);e=a(89645);h=a(52571);l=a(69575);k=a(3033);m=a(27977);p=a(27259);a=a(58049);(function(q){q[q.tA=0]="CREATED";q[q.n0=1]="CANCELLED";})(r || (b.m0=r={}));a=(function(q){function u(v,w,x,y,A,z){v=q.call(this,w,y,x,n.I.fa,(0,l.rf)(c.platform,v,"AsePadding")) || this;v.O=A;v.config=z;v.kS=new e.SG(v.console);v.aI=new e.SG(v.console);v.km=new n.An();v.qQ=new p.q9a(z).create();v.console.trace(("PaddingBranch {").concat(w.id,"}: created"));return v;}d.__extends(u,q);u.prototype.t8b=function(v){return d.__awaiter(this,void 0,void 0,function(){var w,x,y,A,z,B,C,D;D=this;return d.__generator(this,function(F){switch(F.label){case 0:return [4,this.yAc()];case 1:return (w=F.S(),x=w.ee,y=w.Od,A=w.bitrate,z=w.Zs,B=(0,l.rf)(c.platform,this.console,"[0]"),this.aI=new e.SG(B),C=k.ML.instance().Gba.JCb(this.O,x,y,A,z,v,this.K,this.Kpb.bind(this),this.config,B),C.forEach(function(H){return D.aI.enqueue(H);}),this.aI.oO(),[2]);}});});};u.prototype.U9b=function(v){return d.__awaiter(this,void 0,void 0,function(){var w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L;K=this;return d.__generator(this,function(O){switch(O.label){case 0:return [4,this.zAc()];case 1:return (w=O.S(),x=w.profile,y=w.$A,A=w.Zs,z=null === (L=null === (I=null === (N=this.parent) || void 0 === N?void 0:N.Ie(g.v.V)) || void 0 === I?void 0:I.track.Ea) || void 0 === L?void 0:L.hVa(),(0,h.assert)(z,"padding branches should always have a frameRate"),B=(0,l.rf)(c.platform,this.console,"[0]"),C=this.qQ.EFb({profile:x,frameRate:z}),D=C.profile,F=C.frameRate,H=k.ML.instance().Gba.KCb(this.O,this.O.GNc,D,F,y,A,v,this.K,this.Kpb.bind(this),B),E=H.duration,G=H.La,this.K.vGb([]),G.forEach(function(J){return K.kS.enqueue(J);}),this.kS.oO(),this.LEa=E,this.O.HO=E.G,[2]);}});});};Object.defineProperties(u.prototype,{Ak:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Nj:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{UH:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Rf:{get:function(){return this.km.DK;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{uL:{get:function(){return this.km.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{gua:{get:function(){return Promise.resolve();},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{dm:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{P:{get:function(){return this.VP.P;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{tb:{get:function(){return this.K.lb.Rc(this.P).ia;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ib:{get:function(){return this.tb + this.VP.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xo:{get:function(){return this.Wd.Rc(this.P).ia;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{sF:{get:function(){return this.K.lb.add(this.Wd);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{pW:{get:function(){(0,h.assert)(!this.K.cl,"exit zone not supported for padding segments");return n.I.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{rN:{get:function(){return this.aI && this.kS?this.aI.tF && this.kS.tF:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{HGa:{get:function(){return !(!this.aI && !this.kS);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{fv:{get:function(){return this.K.lb.add(this.Wd);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{CQ:{get:function(){return this.K.Ub.add(this.Wd);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Nna:{get:function(){return this.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Qj:{get:function(){return this.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wd:{get:function(){return this.IA;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{VP:{get:function(){return this.LEa || this.K.Ub.ca(this.K.lb);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Gx:{get:function(){return n.I.fa;},enumerable:!1,configurable:!0}});u.prototype.Sb=function(){return d.__awaiter(this,void 0,void 0,function(){var v;return d.__generator(this,function(w){switch(w.label){case 0:return [4,q.prototype.Sb.call(this)];case 1:(w.S(),w.label=2);case 2:return (w.qc.push([2,6,,7]),this.parent?[4,this.parent.uL]:[3,4]);case 3:(w.S(),w.label=4);case 4:return (this.console.trace(("PaddingBranch {").concat(this.K.id,"}: init")),this.LEa=this.K.Ub.ca(this.K.lb),[4,this.ilb([g.v.X,g.v.V])]);case 5:return (w.S(),this.km.resolve(),[3,7]);case 6:v=w.S();if(!this.Gd)throw v;return [3,7];case 7:return [2];}});});};u.prototype.UI=function(v){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.K.id,"}: getRequestIterator(").concat(v,")"));return v === g.v.X?[2,this.aI.pla()]:v === g.v.V?[2,this.kS.pla()]:[2,this.drb(v)];});});};u.prototype.reset=function(){};u.prototype.$g=function(v){void 0 === v && (v="other");q.prototype.$g.call(this,v);this.Va=r.n0;this.LEa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:v});this.events.removeAllListeners();};u.prototype.jX=function(){return !0;};u.prototype.Ie=function(){};u.prototype.tma=function(v){return [g.v.X,g.v.V].some(function(w){return w === v;});};u.prototype.Wy=function(){return [];};u.prototype.yk=function(v){var w;return null === (w=this.parent) || void 0 === w?void 0:w.yk(v);};u.prototype.Nla=function(){return [];};u.prototype.gF=function(){};u.prototype.Xm=function(){return this.VP.G;};u.prototype.AW=function(){return {};};u.prototype.EW=function(){return this.K.Ub.G;};u.prototype.Ax=function(v,w,x,y){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(A){switch(A.label){case 0:return [4,this.km.promise];case 1:return (A.S(),this.parent?[4,this.parent.uL]:[3,3]);case 2:(A.S(),A.label=3);case 3:return [4,this.ilb(y)];case 4:return (A.S(),[2]);}});});};u.prototype.ilb=function(v){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(w){switch(w.label){case 0:if(-1 === v.indexOf(g.v.V))return [3,2];this.kS.clear();return [4,this.U9b(this.VP)];case 1:(w.S(),w.label=2);case 2:if(-1 === v.indexOf(g.v.X))return [3,4];this.aI.clear();this.console.trace(("AsePaddingBranch {").concat(this.K.id,"}: video duration ").concat(this.VP.ba()));return [4,this.t8b(this.VP)];case 3:(w.S(),w.label=4);case 4:return [2];}});});};u.prototype.Fo=function(){return [];};u.prototype.iV=function(v){var w,x;return !!((null === (w=this.Mb) || void 0 === w?0:w.greaterThan(v)) && (null === (x=this.Pb) || void 0 === x?0:x.lessThan(v)));};u.prototype.xla=function(){return this.VP;};u.prototype.Bta=function(){return !1;};u.prototype.toJSON=function(){var v,w;return {segment:this.K.id,viewableId:this.TA.J,contentStartPts:null === (v=this.sa) || void 0 === v?void 0:v.G,contentEndPts:null === (w=this.za) || void 0 === w?void 0:w.G};};u.prototype.zAc=function(){return d.__awaiter(this,void 0,void 0,function(){var v,w,x,y,A,z,B,C,D,F,H;return d.__generator(this,function(E){switch(E.label){case 0:return (v=null === (z=null === (A=this.parent) || void 0 === A?void 0:A.Ie(g.v.V)) || void 0 === z?void 0:z.tl.qj)?[3,2]:[4,null === (C=null === (B=this.parent) || void 0 === B?void 0:B.Ie(g.v.V)) || void 0 === C?void 0:C.tl.CLb];case 1:E.S();if(this.Gd)return [2,Promise.reject()];E.label=2;case 2:return (v=null === (F=null === (D=this.parent) || void 0 === D?void 0:D.Ie(g.v.V)) || void 0 === F?void 0:F.tl.qj,(0,h.assert)(v,"Parent of padding branch must have last selected video stream"),w=null === (H=v.track.qn) || void 0 === H?void 0:H.$A,x=v.track.Zs,y=v.me,[2,{profile:y,$A:w,Zs:x}]);}});});};u.prototype.yAc=function(){return d.__awaiter(this,void 0,void 0,function(){var v,w,x,y,A,z,B,C,D,F,H;return d.__generator(this,function(E){switch(E.label){case 0:return (v=null === (B=null === (z=this.parent) || void 0 === z?void 0:z.Ie(g.v.X)) || void 0 === B?void 0:B.tl.qj)?[3,2]:[4,null === (D=null === (C=this.parent) || void 0 === C?void 0:C.Ie(g.v.X)) || void 0 === D?void 0:D.tl.CLb];case 1:E.S();if(this.Gd)return [2,Promise.reject()];E.label=2;case 2:return (v=null === (H=null === (F=this.parent) || void 0 === F?void 0:F.Ie(g.v.X)) || void 0 === H?void 0:H.tl.qj,(0,h.assert)(v,"Parent of padding branch must have last selected audio stream"),w=v.ee || n.I.fa,x=(0,m.Upb)(v.profile),y=v.bitrate,A=v.track.Zs,[2,{ee:w,Od:x,bitrate:y,Zs:A}]);}});});};u.prototype.Kpb=function(v,w){return this.IA.add(w).Rc(v).ia;};u.prototype.cP=function(){return [];};u.prototype.wrb=function(){return Infinity;};u.prototype.cma=function(){return Infinity;};u.prototype.vE=function(){return {vQ:!0,reason:void 0};};return u;})(a.vva);b.p9a=a;(0,f.wl)(t.Ox,a);},58049:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r){return r === h.v.V?0:r === h.v.X?1:r === h.v.Aa?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.vva=b.m0=b.PRb=b.jS=void 0;b.MPa=function(r){return "mediaTypeNotAvailable" === r.type;};n=a(22970);c=a(90745);g=a(66164);f=a(89645);e=a(48170);h=a(65161);l=a(69575);k=a(68825);b.jS=function(r,q){r=d(r.mediaType);q=d(q.mediaType);return r - q;};b.PRb={jS:b.jS};(function(r){r[r.tA=0]="CREATED";r[r.n0=1]="CANCELLED";})(m || (b.m0=m={}));p=0;t=(function(){function r(q,u,v,w,x){this.TA=q;this.getParent=u;this.IA=v;this.up=w;this.Va=m.tA;this.fU=[];this.Nsb=!1;this.Bga=new Map();this.events=new c.EventEmitter();u=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,l.rf)(g.platform,x,u);this.Bdb=q.id + "-" + p++;e.u && this.console.debug(("BranchBase created with id ").concat(this.Bdb));this.y$=new k.s9a(this);}Object.defineProperties(r.prototype,{state:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Gd:{get:function(){return this.Va === m.n0;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{K:{get:function(){return this.TA;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ja:{get:function(){return this.fU;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{parent:{get:function(){var q;return null === (q=this.getParent) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{JU:{get:function(){return this.Bdb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{DX:{get:function(){return this.AXb;},enumerable:!1,configurable:!0}});r.prototype.WSa=function(){var q;this.y$.WSa();if(null === (q=this.parent) || void 0 === q?0:q.Mb)(q=this.parent.Mb.ca(this.up),this.Hx(q,"on parent normalization"));};r.prototype.Sb=function(){var q;if(this.parent){if(this.parent.Mb){q=this.parent.Mb.ca(this.up);this.Hx(q,"at intialization");}this.rnc();this.mnc();}e.u && this.console.trace(("BranchBase {").concat(this.K.id,"}: Initialization complete"));};r.prototype.rnc=function(){n.__awaiter(this,void 0,void 0,function(){var q,u;return n.__generator(this,function(v){switch(v.label){case 0:return (q=this.y$,[4,q.fua()]);case 1:v.S();e.u && this.console.trace(("Branch {").concat(this.K.id,"}: waitForParent Viewable Complete"));if(this.Gd || !this.parent)return [2];this.AXb=(null === (u=this.parent) || void 0 === u?0:u.O.Qs)?this.parent.Wd:this.parent.DX;return [2];}});});};r.prototype.mnc=function(){n.__awaiter(this,void 0,void 0,function(){var q,u;return n.__generator(this,function(v){switch(v.label){case 0:return (q=this.y$,e.u && this.console.trace(("Branch {").concat(this.K.id,"}: waitForParent Normalization Started")),[4,q.fua()]);case 1:v.S();e.u && this.console.trace(("Branch {").concat(this.K.id,"}: waitForParent Normalization Complete"));if(this.Gd || !this.parent)return [2];this.parent.Mb && (u=this.parent.Mb.ca(this.up),this.Hx(u,"on parent normalization"));return [2];}});});};r.prototype.update=function(q){this.TA=q;};r.prototype.Hx=function(q,u){void 0 === u && (u="unknown");e.u && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.ba()) + (" from ").concat(this.Wd.ba()," ").concat(u));this.IA=q;};r.prototype.hrb=function(q){var v;if(!this.Gd)for(var u=this.parent;u;){v=u.gF(q);if(v)return v;u=u.parent;}};r.prototype.$g=function(){this.getParent=void 0;};r.prototype.tma=function(q){return this.ja.some(function(u){return u.mediaType === q;});};r.prototype.drb=function(q){var u;if(!this.Bga.has(q)){u=new f.SG(this.console,1);u.enqueue({Ba:this,K:this.K,type:"mediaTypeNotAvailable"});this.Bga.set(q,u);}return this.Bga.get(q).pla();};r.prototype.sEb=function(q){var u;u=this;q.forEach(function(v){u.Bga.delete(v);});};return r;})();b.vva=t;},70842:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.v6b=function(g){var f,e,h,l,k,m,p,r,q,u,v,w;f=g.config;e=g.console;h=g.cUa;l=g.K;k=g.events;m=g.NK;p=g.up;r=g.Wd;q=g.lp;u=g.Xd;v=g.Tc;w=g.rA;g=g.Ej;l.J === d.mq && f.tB?(k=new n.r9a(l.J,f.eqa),f=new (a(25813).p9a)(e,l,r,h.Ula.bind(h),k,f)):f=new c.j1a(f,e,k,l,m,p,r,q,h.Ula.bind(h),u,v,w,g);return f;};d=a(79048);n=a(10943);c=a(1552);},46498:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.jjb=b.m1a=void 0;d=a(22970);t=(function(){function c(g){var f;f=g.ewb;f=void 0 === f?n:f;this.Ba=g.Ba;this.ewb=f;}c.prototype.vE=function(g){var f,l,k;try{for(var e=d.__values(this.ewb),h=e.next();!h.done;h=e.next()){l=h.value;k=l(this.Ba,g);if(k)return {vQ:!1,reason:k};}}catch(p){var m;m={error:p};}finally{try{h && !h.done && (f=e.return) && f.call(e);}finally{if(m)throw m.error;}}return {vQ:!0,reason:void 0};};return c;})();b.m1a=t;b.jjb=function(c,g){g=c.Xm(g);c=c.cma();if(g >= c)return "targetBufferDurationLimit";};n=[b.jjb];},1552:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D;Object.defineProperties(b,{__esModule:{value:!0}});b.j1a=b.m0=void 0;d=a(22970);n=a(91176);c=a(91176);g=a(66164);f=a(6200);e=a(42431);h=a(65161);t=a(71808);l=a(52571);k=a(19595);m=a(32412);p=a(48170);r=a(78541);q=a(42556);u=a(7559);v=a(85254);w=a(97757);x=a(2499);y=a(50930);A=a(58049);z=a(18447);B=a(20717);C=a(46498);(function(F){F[F.tA=0]="CREATED";F[F.n0=1]="CANCELLED";})(D || (b.m0=D={}));a=(function(F){function H(E,G,K,N,I,L,O,J,Q,P,S,Y,X){var T;T=F.call(this,N,Q,O,L,G) || this;T.config=E;T.yQ=K;T.xqb=I;T.lp=J;T.Xd=P;T.Tc=S;T.rA=Y;T.b_a=X;T.pF=new m.kT();T.EVa=0;T.Cd=void 0;T.AG=void 0;T.y2b=new C.m1a({Ba:T});T.loa=void 0;T.km=new c.An();T.km.then(function(){p.u && T.console.log("AseBranch normalized promise callback",T.JU);});T.Qma=new c.An();T.MSa=T.tnc();T.WHb=[];return T;}d.__extends(H,F);H.prototype.z7=function(E){return this.oba()?this.Kpc:this.WHb[E];};Object.defineProperties(H.prototype,{ja:{get:function(){var E;this.dm && 0 === (null === (E=this.fU) || void 0 === E?void 0:E.length) && this.xqb && (p.u && this.console.trace("Branch getting initial tracks"),this.fU=this.xqb(this.O).sort(A.jS),p.u && this.console.trace("Branch got initial tracks:",this.fU));return this.fU;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{rN:{get:function(){return this.Nj?this.Wy().every(function(E){return E.Ue.rN;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{HGa:{get:function(){return this.Wy().some(function(E){return E.p0b;});},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Ak:{get:function(){var E;return !(null === (E=this.rd) || void 0 === E || !E.Ak);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Nj:{get:function(){var E;return !(null === (E=this.rd) || void 0 === E || !E.Nj);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{UH:{get:function(){var E,G;return null !== (G=null === (E=this.rd) || void 0 === E?void 0:E.UH) && void 0 !== G?G:0;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Rf:{get:function(){var E;return !(null === (E=this.rd) || void 0 === E || !E.Rf);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{uL:{get:function(){return this.km.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{gua:{get:function(){return this.rA.Tr.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{dm:{get:function(){var E;return !(null === (E=this.rA) || void 0 === E || !E.O);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{sma:{get:function(){return !!this.ja.length && this.ja.every(function(E){return E.eh;});},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{O:{get:function(){(0,l.assert)(this.rA.O,"viewable should be available");return this.rA.O;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{P:{get:function(){var E;return (null === (E=this.rd) || void 0 === E?void 0:E.P) || this.up.P;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{tb:{get:function(){var E,G;return null !== (G=null === (E=this.rd) || void 0 === E?void 0:E.tb) && void 0 !== G?G:this.up.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Ib:{get:function(){var E,G;return null !== (G=null === (E=this.rd) || void 0 === E?void 0:E.Ib) && void 0 !== G?G:this.K.Ub.Rc(this.up.P).ia;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{xo:{get:function(){var E,G;return null !== (G=null === (E=this.rd) || void 0 === E?void 0:E.xo) && void 0 !== G?G:this.Wd.Rc(this.P).ia;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{sF:{get:function(){var E,G;return (null === (E=this.rd) || void 0 === E?void 0:E.sF) || (null === (G=this.up) || void 0 === G?void 0:G.add(this.Wd));},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{pW:{get:function(){var E,G;G=null === (E=this.K.cl) || void 0 === E?void 0:E[0];return G && this.sa?n.I.Ca(Math.max(0,G[0] - this.sa.G - this.K.lb.G)):n.I.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{fv:{get:function(){var E;return (null === (E=this.rd) || void 0 === E?void 0:E.fv) || this.K.lb.add(this.Wd);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{CQ:{get:function(){var E;return (null === (E=this.rd) || void 0 === E?void 0:E.CQ) || this.K.Ub.add(this.Wd);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Nna:{get:function(){var E;return null === (E=this.rd) || void 0 === E?void 0:E.Nna;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Wd:{get:function(){var E;return (null === (E=this.rd) || void 0 === E?void 0:E.Wd) || this.IA;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Gx:{get:function(){var E,G;G=null === (E=this.rd) || void 0 === E?void 0:E.Gx;return (null === G || void 0 === G?0:G.isFinite())?G:this.K.Ub.ca(this.up || this.K.lb);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Qj:{get:function(){var E;return null === (E=this.rd) || void 0 === E?void 0:E.Qj;},enumerable:!1,configurable:!0}});H.prototype.Sb=function(){return d.__awaiter(this,void 0,void 0,function(){var E,G,K;K=this;return d.__generator(this,function(N){switch(N.label){case 0:F.prototype.Sb.call(this);if(this.Gd)return [2];p.u && this.console.log(("AseBranch {").concat(this.K.id,"} awaiting viewable"));return [4,this.rA.Sb(this,function(){return d.__awaiter(K,void 0,void 0,function(){return d.__generator(this,function(I){switch(I.label){case 0:return (p.u && this.console.trace(("Branch {").concat(this.K.id,"}: Waiting for randomization")),[4,this.WNc()]);case 1:I.S();p.u && this.console.trace(("Branch {").concat(this.K.id,"}: Randomization complete"));if(!this.Gd)return [3,3];p.u && this.console.trace(("Branch {").concat(this.K.id,"}: Cancelled"));return [4,new Promise(function(){})];case 2:(I.S(),I.label=3);case 3:return [2];}});});})];case 1:N.S();p.u && this.console.log(("AseBranch {").concat(this.K.id,"} viewable available, branch ").concat(this.Gd?"cancelled":"active"));if(this.Gd)return [2];(0,l.assert)(this.rA.O,"viewable should be available");this.rA.O.sXa() && (this.config=this.rA.O.config);E=this.ja.map(function(I){var L;return null === (L=K.parent) || void 0 === L?void 0:L.yk(I.mediaType);});this.kGb(this.up);this.ja.some(function(I){I.mediaType === h.v.Aa && K.BGb(I);});return [4,this.qob()];case 2:N.S();p.u && this.console.log(("AseBranch {").concat(this.K.id,"} have headers"));if(this.Gd)return [2];if(!this.parent)return [3,4];G=this.y$;return [4,G.fua()];case 3:N.S();if(this.Gd)return [2];p.u && this.console.log(("AseBranch {").concat(this.K.id,"} parent normalized, creating header streamables"));this.T8b(E);N.label=4;case 4:return (this.normalize(),[2]);}});});};H.prototype.WNc=function(){return d.__awaiter(this,void 0,void 0,function(){var E,G,K,N,I,L,O,J,Q,P;P=this;return d.__generator(this,function(S){switch(S.label){case 0:if(!this.parent)return (p.u && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - no - parent")),[2]);if(this.Gd)return (p.u && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - cancelled")),[2]);if(!this.config.rcc)return (p.u && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - live manifest throttling disabled")),[2]);E=this.y$;return [4,E.YNc()];case 1:S.S();if(!this.parent)return (p.u && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - no parent")),[2]);G=this.parent.O.JY || this.parent.O;if(!G || !G.Qs || !G.qd)return (p.u && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - parent checks failed"),{root:G.J,Qs:G.Qs,Jd:!!G.qd}),[2]);this.console.info(("Branch {").concat(this.K.id,"}: Waiting for parent normalization"));return [4,E.fua()];case 2:S.S();p.u && this.console.trace(("Branch {").concat(this.K.id,"}: Completed parent viewable"));if(!this.parent)return (p.u && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - no parent")),[2]);if(this.Gd)return (p.u && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - cancelled")),[2]);if(!this.DX)return (p.u && this.console.info(("Branch {").concat(this.K.id,"}: Live branch offset missing"),{root:G.J,Qs:G.Qs,Jd:!!G.qd,DX:this.DX}),[2]);K=G.qd;N=this.Pb.ca(this.DX);if(!N.isFinite())return [3,4];I=K.ukb(N).G;L=I - this.config.S8 - this.config.MQa;O=(0,x.$4b)(.2) * this.config.S8;J=L + O;Q=K.lsa(J);p.u && this.console.info(("AseBranch {").concat(this.K.id,"} ad start availability time: ").concat(I),(", window start availability time: ").concat(L),(", manifest request time: ").concat(J),(", platform manifest request time: ").concat(Q),{Ia:this.b_a.Ia.currentTime,S8:this.config.S8,MQa:this.config.MQa,delay:O,N0c:J,O3c:N.ba(),q2c:this.Pb.ba(),r0c:this.DX.ba()});return Q > g.platform.time.na()?[4,new Promise(function(Y){P.loa=P.b_a.uu(n.Ud.Fm(n.I.Ca(Q)),Y,"liveAdManifestWindow");})]:[3,4];case 3:(S.S(),p.u && this.console.info(("AseBranch {").concat(this.K.id,"} completed"),{Ia:this.b_a.Ia.currentTime}),S.label=4);case 4:return [2];}});});};H.prototype.normalize=function(){p.u && this.console.log(("AseBranch {").concat(this.K.id,"} normalizing"));this.Gd || (this.rd=new (this.O.vc?z.Dea:B.N8a)(this,this.config,this.console,this.O,this.yQ,this.TA,this.up,this.pF.items,this.IA,this.lp,this.Xd,this.events,this.Tc),this.yKa(this.rd.WN),p.u && this.console.log(("AseBranch {").concat(this.K.id,"} normalizing - setting normalized branch")),this.km.resolve(this.rd),this.events.emit("needsRequest"));};H.prototype.T8b=function(E){var G;G=this;this.pF.forEach(function(K){var N,I,L;L=null === (N=G.parent) || void 0 === N?void 0:N.yk(K.mediaType);(0,l.assert)(K.mediaType === h.v.Aa || L,"Parent state should be defined");-1 === (null === E || void 0 === E?void 0:E.indexOf(L)) && (null === (I=G.z7(K.mediaType).yk(K.mediaType)) || void 0 === I?void 0:I.Ja(),N=new k.J2(function(){var O;return null === (O=G.parent) || void 0 === O?void 0:O.yk(K.mediaType);}),G.z7(K.mediaType).zGb(N));L=void 0;});E=void 0;};H.prototype.qob=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.sma?this.Qma.resolve():(this.O.events.on("onHeaderFragments",this.MSa),this.events.emit("needsRequest"));return [2,this.Qma.promise];});});};H.prototype.tnc=function(){var E;E=this;return function(){!E.Gd && E.sma && (E.O.events.mm("onHeaderFragments",E.MSa),E.Qma.resolve());};};H.prototype.yK=function(){var E;null === (E=this.rd) || void 0 === E?void 0:E.yK();};H.prototype.update=function(E){var G;F.prototype.update.call(this,E);this.dm && (null === (G=this.rd) || void 0 === G?0:G.update(E)) && this.yKa(!0);};H.prototype.Hx=function(E,G){var K;void 0 === G && (G="unknown");F.prototype.Hx.call(this,E,G);null === (K=this.rd) || void 0 === K?void 0:K.Hx(E);};H.prototype.UI=function(E){return d.__awaiter(this,void 0,void 0,function(){var G,K;return d.__generator(this,function(N){switch(N.label){case 0:return [4,this.km];case 1:return (G=N.S(),[4,null === G || void 0 === G?void 0:G.UI(E)]);case 2:return (K=N.S(),[2,K || this.drb(E)]);}});});};H.prototype.reset=function(){var E;null === (E=this.rd) || void 0 === E?void 0:E.reset();};H.prototype.$g=function(E){var G;void 0 === E && (E="other");F.prototype.$g.call(this,E);this.Va=D.n0;this.dm && this.O.events.mm("onHeaderFragments",this.MSa);null === (G=this.rd) || void 0 === G?void 0:G.$g(E);this.pF.forEach(function(K){K.cancel();K.Qp.yk(K.mediaType).Ja();});this.rA.Ja();this.loa && (this.loa.Ja(),this.loa=void 0);this.AG && (this.AG.removeAllListeners(),p.u && this.console.trace("AseBranch destroying textRequestQueue:",this.AG),e.RL.instance.Vja(this.AG),this.AG=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:E});this.events.removeAllListeners();};H.prototype.jX=function(E){var G;return !(null === (G=this.rd) || void 0 === G || !G.jX(E));};H.prototype.Ie=function(E){var G;return null === (G=this.rd) || void 0 === G?void 0:G.Ie(E);};H.prototype.tma=function(E){return this.ja.some(function(G){return G.mediaType === E;});};H.prototype.Wy=function(E){var G;void 0 === E && (E=A.jS);return (null === (G=this.rd) || void 0 === G?void 0:G.Wy(E)) || [];};H.prototype.yk=function(E){var G;return null === (G=this.z7(E)) || void 0 === G?void 0:G.yk(E);};H.prototype.Nla=function(){var E,G;if(!this.sma)return this.pF.items;G=(null === (E=this.rd) || void 0 === E?void 0:E.Nla()) || [];p.u && this.console.trace("getMediaStreamables returning:",G);return G;};H.prototype.gF=function(E){var G;return (null === (G=this.rd) || void 0 === G?void 0:G.gF(E)) || this.pF.get(E);};H.prototype.Xm=function(E,G){var K;return (null === (K=this.rd) || void 0 === K?void 0:K.Xm(E,G)) || 0;};H.prototype.AW=function(){var E;return (null === (E=this.rd) || void 0 === E?void 0:E.AW()) || ({});};H.prototype.EW=function(E){var G;return (null === (G=this.rd) || void 0 === G?void 0:G.EW(E)) || this.sF.G;};H.prototype.Ax=function(E,G,K,N){return d.__awaiter(this,void 0,void 0,function(){var I,L,O,J,Q;Q=this;return d.__generator(this,function(P){switch(P.label){case 0:p.u && this.console.trace("Branch.setTracks:",E);this.fU=E.sort(A.jS);this.kGb(G);if(!this.Rf)return [3,4];(0,l.assert)(this.rd);I=this.pF.filter(function(S){return S.track.eh;}).items;L=this.rd.rKb(I,G,K,N);O=L.Zja;J=L.WN;O && this.yKa(J);if(this.sma)return [3,4];this.Qma=new c.An();this.km=new c.An();p.u && this.console.log(("AseBranch {").concat(this.K.id,"} setTracks waiting for headers"));return [4,this.qob()];case 1:return (P.S(),this.Gd?[2]:this.parent?[4,this.parent.uL]:[3,3]);case 2:(P.S(),P.label=3);case 3:(this.rd.rKb(this.pF.items,G,K,[]),p.u && this.console.log(("AseBranch {").concat(this.K.id,"} setTracks pipelines updated")),this.km.resolve(this.rd),this.events.emit("needsRequest"),P.label=4);case 4:return (E.some(function(S){if(S.mediaType === h.v.Aa)return (Q.BGb(S),!0);}),this.sEb(N),[2]);}});});};H.prototype.BGb=function(E){var G;G=this;this.Cd=E;this.AG || (this.AG=(0,r.oI)(h.v.Aa,this.O,this.config,this.console,!0,function(K){return G.yQ.emit("transportReport",K);},function(K){return G.yQ.emit("mediaRequestComplete",K);},function(){}),p.u && this.console.trace("AseBranch created textRequestQueue:",this.AG));this.sEb([h.v.Aa]);};H.prototype.$8b=function(E){var G,K,N,I,L,O;G=this;E=E.track.vc?this.config.X8:this.config.Zsa;K=this.C7(h.v.X);N=this.C7(h.v.V);I=this.SGb(h.v.V);L=new k.J2(function(){var J;return null === (J=G.parent) || void 0 === J?void 0:J.yk(h.v.X);});O=new k.J2(function(){var J;return null === (J=G.parent) || void 0 === J?void 0:J.yk(h.v.V);});K && L.jXa(K);N && O.jXa(N);this.Kpc=new q.N1(E,this.config,L,O,I);};H.prototype.I9b=function(E){this.oba()?this.$8b(E):this.c9b(E);};H.prototype.c9b=function(E){var G,K,N;G=this;K=E.mediaType === h.v.X?this.config.C1b:E.track.vc?this.config.X8:this.config.Zsa;N=new k.J2(function(){var I;return null === (I=G.parent) || void 0 === I?void 0:I.yk(E.track.mediaType);});N.jXa(E.track);K=new q.K2(K,this.config,N,this.SGb(E.mediaType));this.WHb[E.mediaType]=K;};H.prototype.kGb=function(E){var G;G=this.O.vc?this.ja:this.ja.filter(function(K){return K.mediaType !== h.v.Aa;});this.zGc(E,G);};H.prototype.zGc=function(E,G){var K,N,I;K=this;N=this.EVa=0;G=G.map(function(L){var O;O=K.pF.find(function(J){return J.track === L;});O || (++K.EVa,O=new y.N4a(K,L,function(){return (null === E || void 0 === E?void 0:E.add(K.Wd)) || n.I.fa;},E || n.I.fa,K.config,K.console,K.yQ,function(){0 === --K.EVa && K.events.emit("requestQueuesCreated");}),K.oba() && 0 < N || (K.I9b(O),N++));return O;});this.pF=new m.kT(G);G=this.O.FU;I=this.Jsb();I?this.O.FU=G | f.CDa.YUb:void 0 !== I && (this.O.FU=G | f.CDa.fSb);};H.prototype.Fo=function(E){var G;return (null === (G=this.rd) || void 0 === G?void 0:G.Fo(E)) || [];};H.prototype.iV=function(E){var G;return !(null === (G=this.rd) || void 0 === G || !G.iV(E));};H.prototype.xla=function(E){return this.rd?this.rd.xla(E):n.I.fa;};H.prototype.Bta=function(E){var G;return !(null === (G=this.rd) || void 0 === G || !G.Bta(E));};H.prototype.dS=function(E){(0,l.assert)(this.O.vc,"updateFragmentTimes called on non-live Branch");(0,l.assert)(this.rd,"updateFragmentTimes called before Branch is normalized");(0,l.assert)(E.mediaType === h.v.X,"updateFragmentTimes called with non-audio track");this.rd.dS(E);};H.prototype.wrb=function(){return this.rd instanceof z.Dea?this.rd.vrb():Infinity;};H.prototype.cma=function(){return this.rd instanceof z.Dea?this.rd.Kkc():Infinity;};H.prototype.vE=function(E){return this.y2b.vE(E);};H.prototype.yKa=function(E){E={type:"branchNormalized",segmentContentStart:this.K.lb,branchContentStart:this.sa,branchContentEnd:this.za,didNormalizeSegment:E};this.events.emit(E.type,E);p.u && this.console.trace("branchNormalized:",E);};H.prototype.C7=function(E){var G;G=this.ja.filter(function(K){return K.mediaType === E;});return 0 < G.length?G[0]:void 0;};H.prototype.cP=function(E){var G;return (null === (G=this.C7(E)) || void 0 === G?void 0:G.De) || [];};H.prototype.toJSON=function(){var E;return (null === (E=this.rd) || void 0 === E?void 0:E.toJSON()) || ({});};H.prototype.oba=function(){return this.config.H8 && !this.O.vc;};H.prototype.SGb=function(E){return !this.config.Dcc && this.Jsb()?!1:this.config.rka || E === h.v.X && this.config.oka || E === h.v.V && this.config.pka || this.config.DKa;};H.prototype.Jsb=function(){var E,G;G=(null === (E=this.cP(h.v.X)[0]) || void 0 === E?void 0:E.profile) || void 0;return G?(0,u.dub)(G,this.config):void 0;};return H=d.__decorate([w.xW],H);})(A.vva);b.j1a=a;(0,v.wl)(t.Ox,a);},18447:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p){return Math.min(p.OJ,Math.max(p.gl,p.lAc - p.KP * p.R1b));}Object.defineProperties(b,{__esModule:{value:!0}});b.Dea=void 0;b.KWc=d;n=a(22970);c=a(91176);g=a(26388);f=a(48170);e=a(32412);h=a(95324);t=a(71808);l=a(85254);k=a(98561);m=a(8149);a=(function(p){function r(){return null !== p && p.apply(this,arguments) || this;}n.__extends(r,p);r.prototype.iJa=function(q,u,v){var w,x;w=this;f.u && this.console.trace("LiveNormalizedBranch.createPipelines");x=new e.kT();q.forEach(function(y){var A;A=w.Ke.find(function(z){return z.track === y.track;});void 0 === A?((0,c.assert)((0,m.eo)(y.track),"live normalized branch expected live track"),A=new h.Eea(w,w.config,w.console,w.yQ,w.Ba,y.track,u,w.Tc,y.tJb()),w.Uma(A)):A.jU();x.add(A);});this.XIb=!this.config.Mba;return this.Utb(x,u,v);};r.prototype.Uma=function(q){var u;u=this;q.events.on("liveMissingSegment",function(v){return u.events.emit("liveMissingSegment",v) && u.m$();});p.prototype.Uma.call(this,q);};r.prototype.normalize=function(q,u){var v;null === (v=this.Mz) || void 0 === v?void 0:v.Qe();this.Mz=new k.x6a({console:this.console,config:this.config,O:this.O,K:this.K,Ke:this.Ke,sa:q,za:this.K.Ub,splice:u});return p.prototype.normalize.call(this,q,u);};r.prototype.Fo=function(q){var u;return (null === (u=this.Ie(q)) || void 0 === u?void 0:u.Fo(!0)) || [];};r.prototype.jX=function(q){return p.prototype.jX.call(this,q) && this.XIb;};r.prototype.dS=function(q){this.Ke.forEach(function(u){u.track === q && u.dS();});};r.prototype.vrb=function(){var q,u,v,w;u=this.O.cm(!0);v=this.lp();w=(null === (q=this.jra) || void 0 === q?void 0:q.G) || 0;return u + w - v;};r.prototype.xic=function(q){if(q=this.gF(q))if((q=q.Qp.yk(g.v.V).qj,(q=null === q || void 0 === q?void 0:q.track) && (0,m.eo)(q)))return q;};r.prototype.Kkc=function(){var q;q=this.xic(g.v.V);return q?d({R1b:q.Yk.G,gl:this.config.gl,lAc:this.vrb(),KP:this.config.KP,OJ:this.config.OJ}):Infinity;};r.prototype.Syc=function(q){var u;if(q === this.ht && ((0,c.assert)(q.sa,"videoPipelineStartChanged: pipeline should have content start timestamp"),f.u && this.console.log(("videoPipelineStartChanged ").concat(q.sa.ba())),this.Hpa(),this.Ba.parent)){u=this.Ba.parent.Mb;(0,c.assert)(u,"videoPipelineStartChanged: parent branch should have player end timestamp");q=u.ca(q.sa);this.Ba.Hx(q,"on pipeline start changed");}};r.prototype.Ryc=function(q){q === this.ht && ((0,c.assert)(q.za,"videoPipelineStartChanged: pipeline should have content end timestamp"),f.u && this.console.log(("videoPipelineEndChanged ").concat(q.za.ba())),this.Hpa(),this.events.emit("branchEdited",{type:"branchEdited"}));};r.prototype.Vka=function(q){q === this.ht && (this.XIb=!0,this.Ke.forEach(function(u){return u.aS();}));};r.prototype.Hpa=function(){var q,u;q=this.K;u=q.lb;q=q.Ub;this.K.normalize(this.sa,this.za);this.events.emit("branchTimestampsChanged",{type:"branchTimestampsChanged",Ba:this.Ba,rxc:u,mxc:q});};return r;})(a(33928).Yza);b.Dea=a;(0,l.wl)(t.Ox,a);},33928:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r){return (p.mediaType === e.v.V?0:1) - (r.mediaType === e.v.V?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Yza=b.OTb=void 0;n=a(22970);c=a(91176);g=a(91176);f=a(66164);t=a(81392);e=a(65161);h=a(52571);l=a(32412);k=a(99548);m=a(69575);b.OTb={jS:d};a=(function(p){function r(q,u,v,w,x,y,A,z,B,C,D,F,H){var E,G;G=p.call(this,w) || this;G.Ba=q;G.config=u;G.O=w;G.yQ=x;G.TA=y;G.IA=B;G.lp=C;G.Xd=D;G.events=F;G.Tc=H;G.Ke=new l.kT([]);G.uH=!1;G.Dvb=0;G.sib=G.hwc.bind(G);(0,h.assert)(w.J === G.K.J || isNaN(w.J) && isNaN(G.K.J));q=y.id && y.id.length?"{" + y.id + "}":"";G.console=(0,m.rf)(f.platform,v,q);G.up=A || G.K.lb;v=G.parent;G.GAb=null === v || void 0 === v?void 0:v.Mb;null === (E=G.Xd) || void 0 === E?void 0:E.addListener(G.sib);z=G.iJa(z,G.up,!!v).WN;G.WN=z;return G;}n.__extends(r,p);Object.defineProperties(r.prototype,{Gd:{get:function(){return this.uH;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{K:{get:function(){return this.TA;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ak:{get:function(){return this.Ke.every(function(q){return q.Ak;});},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Nj:{get:function(){return this.Ke.every(function(q){return q.Nj;});},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{UH:{get:function(){return this.Wy().reduce(function(q,u){return q + u.UH;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Rf:{get:function(){return this.Wy().every(function(q){return q.Rf();});},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ja:{get:function(){return this.Ba.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{P:{get:function(){return this.ht.P;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{tb:{get:function(){return this.ht.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ib:{get:function(){return this.ht.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{xo:{get:function(){return this.Wd.Rc(this.P).ia;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{sF:{get:function(){return this.up.add(this.Wd);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{fv:{get:function(){return this.K.lb.add(this.Wd);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{CQ:{get:function(){return this.K.Ub.add(this.Wd);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Nna:{get:function(){return this.Ke.reduce(function(q,u){return q && u.Mb?c.I.max(q,u.Mb):u.Mb?u.Mb:q;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Qj:{get:function(){return this.Ke.reduce(function(q,u){u=u.Qj;return q && u?c.I.max(q,u):q || u;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Gx:{get:function(){return this.ht.Gx;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Wd:{get:function(){return this.IA;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{parent:{get:function(){return this.Ba.parent;},enumerable:!1,configurable:!0}});r.prototype.rKb=function(q,u,v,w){void 0 === u && (u=this.sa || this.up);return this.iJa(q,u,v,w);};r.prototype.yK=function(){var q,u,v,w,x;if(this.Mz){q=this.TA;u=n.__read(this.Mz.yK(q,q.Ub),3);v=u[0];w=u[1];u=u[2];x=this.Ie(e.v.X);x && ((0,h.assert)(v,"branch.renormalize: audioLastFragment should be defined"),x.truncate(v));if(v=this.Ie(e.v.V))((0,h.assert)(w,"branch.renormalize: videoLastFragment should be defined"),v.truncate(w));if(w=this.Ie(e.v.Aa))((0,h.assert)(u,"branch.renormalize: lastTextFragment should be defined"),w.truncate(u));q.normalize(q.lb,this.Mz.za);this.events.emit("branchEdited",{type:"branchEdited"});}};r.prototype.update=function(q){var u;u=q.Ub.h$(this.TA.Ub);this.TA=q;return u && this.Mz?(this.yK(),!0):!1;};r.prototype.Hx=function(q){this.Wd.equal(q) || (this.console.debug("updateBranchOffset",{Fpa:this.IA.ba(),epa:q.ba()}),(0,h.assert)(this.Ke.every(function(u){return !u.eKa;}),"Cannot adjust branch offset after attaching"),this.IA=q,this.events.emit("branchEdited",{type:"branchEdited"}));};r.prototype.UI=function(q){return n.__awaiter(this,void 0,void 0,function(){var u;return n.__generator(this,function(v){switch(v.label){case 0:return [4,Promise.resolve()];case 1:return (v.S(),(u=this.Ie(q))?[2,u.UI()]:[2,void 0]);}});});};r.prototype.jU=function(){this.Ke.forEach(function(q){return q.jU();});};r.prototype.reset=function(){this.Ke.forEach(function(q){q.reset();});};r.prototype.$g=function(q){var u,v;this.uH || (this.uH=!0,null === (u=this.Mz) || void 0 === u?void 0:u.Qe(),this.Mz=void 0,this.Ke.forEach(function(w){w.$g("aborted" === q);}),null === (v=this.Xd) || void 0 === v?void 0:v.removeListener(this.sib));};r.prototype.jX=function(){return !0;};r.prototype.Ie=function(q){return this.Ke.get(q);};r.prototype.Wy=function(q){void 0 === q && (q=d);return this.Ke.items.slice().sort(q);};r.prototype.Nla=function(){return this.Ke.items;};r.prototype.gF=function(q){return this.Ie(q);};r.prototype.Xm=function(q,u){q=this.Ie(q);if(!q)return 0;if(u)return q.Ira;u=q.f5;if(void 0 === u)return 0;q=this.lp();return u - q;};r.prototype.AW=function(){var q,u,v,w,x,y,A;A=null === (q=this.Ie(e.v.X)) || void 0 === q?void 0:q.gV;q=null === (u=this.Ie(e.v.V)) || void 0 === u?void 0:u.gV;return {Sta:null !== (v=null === q || void 0 === q?void 0:q.G) && void 0 !== v?v:0,vha:null !== (w=null === A || void 0 === A?void 0:A.G) && void 0 !== w?w:0,Lca:null !== (x=null === q || void 0 === q?void 0:q.ka) && void 0 !== x?x:0,W3:null !== (y=null === A || void 0 === A?void 0:A.ka) && void 0 !== y?y:0};};r.prototype.EW=function(q){var u;return (q=this.Ie(q))?null !== (u=q.f5) && void 0 !== u?u:0:0;};r.prototype.hwc=function(q){q=q.newValue;(0,e.gr)(q) && this.m$();};r.prototype.iV=function(q){return this.Ke.every(function(u){return u.iV(q);});};r.prototype.xla=function(q){var u;return (null === (u=this.Ke.get(q)) || void 0 === u?void 0:u.j$b) || c.I.fa;};r.prototype.Bta=function(q){var u,v,w,x;u=this.ht.Bvb;if(!u)return !1;q=(0,g.oc)(q,function(y){return u.G <= y.sa.G;});if(!q)return !1;v=q.sa;q=!1;w=n.__read((0,k.YDb)(this.config,this.Ke,v),3);v=w[0];x=w[1];w=w[2];x && (x=this.Ie(e.v.V).truncate(x),q || (q=x));v && (x=this.Ie(e.v.X).truncate(v),q || (q=x));w && (x=this.Ie(e.v.Aa).truncate(w),q || (q=x));q && (v={type:"branchEdited"},this.events.emit(v.type,v));return q;};r.prototype.qo=function(q,u){this.uH || ((0,h.assert)(!q.gf),this.m$(),this.events.emit("requestComplete",{type:"requestComplete",Ba:this.Ba}),this.Nj && this.Xwc());this.FO(q,u);};r.prototype.UF=function(q,u){this.config.onb && this.m$(!0);this.tW(q,u);};r.prototype.cK=function(q){this.config.onb && this.m$(!0);this.F6(q);};r.prototype.Utb=function(q,u,v){var w;w=0 < q.length;this.Ke.filter(function(x){return !q.Lsb(x);}).forEach(function(x){w=!0;x.$g();});this.Ke=q;return w?this.normalize(u,v):{Zja:!1,WN:!1};};r.prototype.Uma=function(q){var u;u=this;q.events.on("lastRequestIssued",function(){return u.Ak && u.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};r.prototype.normalize=function(){var q,u;(0,h.assert)(this.Mz,"Must call through normalize through subclass to create pipeline normalizer");this.ht=this.Ke.ht;q=this.Mz.normalize();u=q.Zja;q=q.WN;u && this.GAb && (this.IA=this.GAb.ca(this.sa));return {Zja:u,WN:q};};r.prototype.xHc=function(q){var u;return (0,e.gr)((null === (u=this.Xd) || void 0 === u?void 0:u.value) || e.Dd.Po) && (!q || this.Dvb + this.config.N9 < f.platform.time.na());};r.prototype.m$=function(q){void 0 === q && (q=!1);this.xHc(q) && (this.Dvb=f.platform.time.na(),q={type:"checkBufferingProgress"},this.events.emit(q.type,q));};r.prototype.Xwc=function(){var q;q={type:"branchStreamingComplete"};this.events.emit(q.type,q);};r.prototype.toJSON=function(){var q,u,v;return {segment:this.K.id,branchOffset:null === (q=this.Wd) || void 0 === q?void 0:q.G,viewableId:this.TA.J,contentStartPts:null === (u=this.sa) || void 0 === u?void 0:u.G,contentEndPts:null === (v=this.za) || void 0 === v?void 0:v.G};};return r;})(t.DL);b.Yza=a;},20717:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.N8a=void 0;d=a(22970);n=a(48170);c=a(32412);g=a(95052);t=a(85254);f=a(71808);e=a(72117);a=(function(h){function l(){return null !== h && h.apply(this,arguments) || this;}d.__extends(l,h);l.prototype.iJa=function(k,m,p,r){var q,u;q=this;void 0 === r && (r=[]);n.u && this.console.trace("OnDemandNormalizedBranch.createPipelines");u=new c.kT();k.forEach(function(v){var w;w=q.Ke.find(function(x){return x.track === v.track && !(r.some(function(y){return y === x.mediaType;}) && q.Ba.HGa);});void 0 === w?(w=new g.O8a(q,q.config,q.console,q.yQ,q.Ba,v.track,m,q.Tc,v.tJb()),q.Uma(w)):w.jU();u.add(w);});return this.Utb(u,m,p);};l.prototype.normalize=function(k,m){var p;null === (p=this.Mz) || void 0 === p?void 0:p.Qe();this.Mz=new e.P8a({console:this.console,config:this.config,O:this.O,K:this.K,Ke:this.Ke,sa:k,za:this.K.Ub,splice:m});return h.prototype.normalize.call(this,k,m);};l.prototype.Fo=function(k){var m;return (null === (m=this.Ie(k)) || void 0 === m?void 0:m.Fo(!1)) || [];};return l;})(a(33928).Yza);b.N8a=a;(0,t.wl)(f.Ox,a);},68825:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.s9a=void 0;d=a(91176);n=a(66164);c=a(48170);t=(function(){function g(f){var e;e=this;this.Ba=f;this.hU=new d.GT({j4:!1});this.gU=new d.GT({j4:!1});this.nb=new n.platform.Console("PARENT-BRANCH-HELPER","asejs",f.JU);this.Yvb=(0,d.Ona)(function(){return e.Jtb();});}g.prototype.WSa=function(){c.u && this.nb.debug("Reparenting - resetting promises");this.Jtb();};g.prototype.Jtb=function(){var f,e;f=this;c.u && this.nb.debug("setting up promise chain");this.gU.C8 && (this.gU=new d.GT({j4:!1}),this.gU.promise.then(function(){c.u && f.nb.debug("Parent normalization complete");}));this.hU.C8 && (this.hU=new d.GT({j4:!1}),this.hU.then(function(){c.u && f.nb.debug("Parent viewable complete");}));if(this.Ba.parent){c.u && this.nb.debug("Listening to parent",{id:this.Ba.parent.JU,uL:!!this.Ba.parent.uL,gua:!!this.Ba.parent.gua});e=this.Ba.parent;this.gU.QK(e.uL,!1);this.hU.QK(e.gua,!1);}else (c.u && this.nb.debug("Resolving directly, no parent branch"),this.gU.QK(Promise.resolve(),!1),this.hU.QK(Promise.resolve(),!1));};g.prototype.YNc=function(){this.Yvb();return this.hU.promise;};g.prototype.fua=function(){this.Yvb();return this.gU.promise;};return g;})();b.s9a=t;},45550:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.IL=void 0;d=a(15913);n=a(52571);t=(function(){function c(g){this.config=g;this.reset();}c.instance=function(){(0,n.assert)(void 0 !== c.my);return c.my;};c.q6b=function(g){c.my=new c(g);};c.prototype.push=function(g){this.Jk && this.Jk.push(g);};c.prototype.sb=function(){if(this.Jk)return (this.Jk.Qn(),this.Jk.ak([.25,.5,.75,.9,.95,.99]).map(function(g){return g?parseFloat(g.toFixed(1)):0;}));};c.prototype.reset=function(){this.config.Gcc && this.config.$xa && (this.Jk=new d.TDigest(this.config.$xa.c,this.config.$xa.maxc));};return c;})();b.IL=t;},78647:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v;Object.defineProperties(b,{__esModule:{value:!0}});b.r1a=void 0;b.bC=function(w){return w.ca(n.I.Ca(w.gR));};d=a(22970);t=a(90745);n=a(91176);c=a(91176);g=a(66164);f=a(8171);e=d.__importDefault(a(14282));h=a(65161);l=a(52571);k=a(98321);m=a(50247);p=a(40666);r=a(69575);q=a(29092);u=a(11758);v=a(8149);a=(function(w){function x(y,A,z,B,C,D){var F,H;H=w.call(this) || this;H.mediaType=y;H.Ch=A;H.Bd=z;H.config=B;H.player=C;H.cc=D;H.BLb=!1;H.Smb=!1;H.Aba=!1;H.console=f.Gv.CB(H.mediaType);H.error=H.console.error.bind(H.console);H.warn=H.console.warn.bind(H.console);H.trace=H.console.trace.bind(H.console);null === (F=z.events) || void 0 === F?void 0:F.addListener("ready",function(){H.append();});H.Kxb=new k.N7a(H.config,H.mediaType,H.Ch.eg,H.console);H.reset();return H;}d.__extends(x,w);Object.defineProperties(x.prototype,{endOfStream:{get:function(){return this.g3;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{TJc:{get:function(){return !!this.Bd.adc;},enumerable:!1,configurable:!0}});x.prototype.reset=function(y){var A,z,B;null === (A=this.lzb) || void 0 === A?void 0:A.Ja();y || (this.CG=[]);this.DEa=this.Hga=this.DP=void 0;this.VH && (this.VH.Gd=!0,this.VH.iterator.Hg(),this.VH=void 0);this.AU && (this.AU.Gd=!0,this.AU.iterator.Hg(),this.AU=void 0);this.dKa=!1;this.HP=void 0;this.Aba=this.g3=!1;this.lfb(n.I.fa);null === (B=(z=this.Bd).reset) || void 0 === B?void 0:B.call(z);this.Kxb.reset();};x.prototype.mfc=function(){this.Hga=!0;};x.prototype.hka=function(){this.Smb=!0;this.append();};x.prototype.SK=function(y){this.BLb=y;};x.prototype.k1b=function(y){this.CG.push(y);this.append();};x.prototype.KG=function(){this.append();};x.prototype.jvc=function(y){this.config.Yha && void 0 === this.DEa && this.zU(y,0);this.append();};x.prototype.tpa=function(y){var A,z,B,C;A=this;void 0 === y && (y=!1);if(!this.g3 && (this.g3=!0,this.append(),y || !this.TJc))if(this.HP && this.cc && this.config.hac){y=n.I.Ca(this.config.HKc);y=this.HP.ca(y);C=(0,p.O_)(this.cc,y,!0);y=C.te;C=C.promise;null === (z=this.lzb) || void 0 === z?void 0:z.Ja();this.lzb=y;C.then(function(){var D,F;A.g3 && (null === (F=(D=A.Bd).endOfStream) || void 0 === F?void 0:F.call(D));});}else null === (B=(C=this.Bd).endOfStream) || void 0 === B?void 0:B.call(C);};x.prototype.lfb=function(y){var A;null !== (A=this.timestampOffset) && void 0 !== A && A.equal(y) || (this.timestampOffset=y,this.Bd.CGb(y.ia,y.P));};x.prototype.append=function(){var y,A,z,B,C,D,F,H;C=this.config;if(!this.VH && !this.AU && this.CG.length)if(this.Bd && !1 !== this.Bd.ready){D=this.CG[0];if(D.aborted)(this.warn("aborted fragment should not appear in the toAppend list:",D.toString(),"complete:",D.complete),this.uaa("@" + g.platform.time.na() + ", append: removing aborted fragment from toAppend: " + D.toString()),this.CG.shift());else {F=D.stream;H=F.O;if(F.eh)if((D.Fs && !this.Aba && (null === (A=(y=this.Bd).wHb) || void 0 === A?void 0:A.call(y,{J:F.track.O.J,lub:F.Wj}),this.Aba=!0),this.tHc(F,D.index)))(this.Hga=!1,this.zU(F,D.index));else if((y=this.player.o8(H.J),F=this.Vmc(F),y || F || !this.dKa && !C.eua))if((y=this.Drb(D),this.mediaType === e.default.Jo.X && (D.Yj || D.qz || (null === (z=D.ma) || void 0 === z?0:z.jp)) && D.ma && !C.cR && !this.g3 && this.CG.length <= (D.Yj || D.qz?1:2) && y > C.T9 && (null === (B=D.FC) || void 0 === B || !B.vP)))this.bFc();else {this.dKa || (this.dKa=F);this.CG.shift();try{this.y0b(D);}catch(E){throw (this.console.error(E),E);}}}}else this.uaa("@" + g.platform.time.na() + ", append: not appending, sourceBuffer not ready");};x.prototype.bFc=function(){var y;y=this;this.cc && (this.iQa?this.iQa.dn || this.iQa.Uc():this.iQa=this.cc.Pq(function(){return y.Npc();},"JIT Appender"));};x.prototype.Npc=function(){var y,A,z,B;return d.__generator(this,function(C){switch(C.label){case 0:if(1 !== this.CG.length)return [3,3];y=this.CG[0];if(!y.Yj && !y.qz || (null === (B=y.FC) || void 0 === B?0:B.vP))return [2];A=this.Drb(y);z=this.config.T9;return A > z?[4,p.Ud.Kx(n.I.Ca(A - z))]:[3,2];case 1:(C.S(),C.label=2);case 2:return (this.append(),[3,0]);case 3:return [2];}});};x.prototype.Drb=function(y){var A;return (null === (A=y.Pb) || void 0 === A?NaN:A.G) - this.player.Pd.G;};x.prototype.tHc=function(y,A){var z;z=y.pj;(0,l.assert)(z);return 0 === z.length?this.Hga=!1:this.Hga || void 0 === this.DP || y.Jb !== this.DP.Jb?!0:1 < z.length?(0,c.ohb)(z,function(B){return B.ef <= A;}) !== this.DP.wub:!1;};x.prototype.Vmc=function(y){if(y.mediaType === h.v.X || !y.Wj)return !0;if(void 0 === this.DP)return !1;if(!y.track.Gxb)return !y.Wj;y=y.pj;(0,l.assert)(y);return !1 === y[this.DP.wub].Ny;};x.prototype.zU=function(y,A){var z,B,C,D;if(!this.BLb || this.Smb){if(y.pj && 0 !== y.pj.length){C=y.pj.reduce(function(F,H,E){return H.ef <= A?E:F;},0);D=y.pj[C];this.DP || (null === (B=(z=this.Bd).wHb) || void 0 === B?void 0:B.call(z,{J:y.track.O.J,lub:y.Wj}),this.Aba=!0);if(!this.Bd.appendBuffer(D.data,{gf:!0,profile:y.profile,bitrate:y.bitrate,Jb:y.Jb}))throw (this.warn("appendHeader error: " + this.Bd.error),this.uaa("@" + g.platform.time.na() + ", appendHeader error: " + this.Bd.error),Error("appendHeaderError"));this.uaa("@" + g.platform.time.na() + ", header appended, streamId: " + y.Jb);this.DP={Jb:y.Jb,wub:C};this.sDc(y.Jb,C);}this.append();}};x.prototype.y0b=function(y){var A,z,B,C,D,F;A=this;C=y.jra || n.I.fa;D=y.stream;F=y.K;!(0,v.Xj)(D) && F.Ub && !F.Ub.equal(n.I.zg) && (C=F.Ub.add(C).ci,Infinity === this.Ch.duration || this.Ch.duration < C) && (this.Ch.duration=C);C=void 0 !== y.MC?n.I.Ca(y.MC).add(y.jra):void 0;F=null === (z=this.CG[0]) || void 0 === z?void 0:z.Pb;z={endOfStream:this.endOfStream || !(null === (B=y.FC) || void 0 === B || !B.vP),VX:C,eSa:F};F=this.Kxb.append(y,z);B=F.Ki;C=F.tj;z=F.pt;F=F.offset;null === C || void 0 === C?void 0:C.forEach(function(H){return A.emit(H.type,H);});(0,v.Xj)(D) && (F=F.ca(D.ml.Rc(D.P)));this.lfb(F);B && (y.Yj || y.qz) && y.Ki();D=m.Ur.i8a;B || (this.mediaType === h.v.X || this.mediaType === h.v.V?D=this.u0b(y,z):this.mediaType === h.v.Aa && (D=this.E0b(y)));switch(D){case m.Ur.Ho:this.x0b(y);break;case m.Ur.bfa:this.DEa=y;break;case m.Ur.zn:this.KSa(y);this.DEa=y;break;case m.Ur.i8a:this.Rzb(y,!0);}};x.prototype.rIb=function(){var y;return g.platform.Cl.eg.QVa.pCa || !(null === (y=this.Ch.eg) || void 0 === y || !y.rIb);};x.prototype.u0b=function(y,A){return this.rIb()?this.v0b(y,A):this.w0b(y,A);};x.prototype.v0b=function(y,A){var z,B,C;z=this;B=(0,r.Uwb)(A,y);if((A=(A || y.pt).every(function(D,F){return z.Bd.appendBuffer(D,0 === F?B:void 0);})) && !y.gP){A=y.ANa();C={Na:y,iterator:A,Gd:!1};this.VH=C;q.AsyncIterator.xna(A,function(D){C.Gd || (D.done?(z.VH=void 0,z.KSa(y)):z.Bd.appendBuffer(D.value,B));});A=m.Ur.bfa;}else A=A?m.Ur.zn:m.Ur.Ho;return A;};x.prototype.w0b=function(y,A){var z,B,C,D;z=this;B=(0,r.Uwb)(A,y);A || (A=y.pt);if(y.gP)C=(C=this.jkb(A,B))?m.Ur.zn:m.Ur.Ho;else {C=y.ANa();D={Na:y,iterator:C,Gd:!1};this.VH=D;q.AsyncIterator.xna(C,function(F){D.Gd || (F.done?(z.jkb(A,B),z.VH=void 0,z.KSa(y)):A.push(F.value));});C=m.Ur.bfa;}return C;};x.prototype.jkb=function(y,A){y=1 < y.length?(0,r.Hy)(y):y[0];return this.Bd.appendBuffer(y,A);};x.prototype.E0b=function(y){var A,z,B,C;A=this;(0,l.assert)(y instanceof u.ava);z=y.pt;if(y.gP){(0,l.assert)(z.every(function(D){return D instanceof ArrayBuffer;}));Promise.resolve().then(function(){return A.dnb(y,z);});B=m.Ur.zn;}else {B=y.ANa();C={Na:y,iterator:B,Gd:!1};this.AU=C;q.AsyncIterator.xna(B,function(D){C.Gd || (D.done?(A.AU=void 0,(0,l.assert)(z.every(function(F){return F instanceof ArrayBuffer;})),A.dnb(y,z)):z.push(D.value));});B=m.Ur.bfa;}return B;};x.prototype.dnb=function(y,A){var z,B;A=(0,r.Hy)(A);A=new Uint8Array(A);A=g.platform.sI(A);(0,l.assert)(A);B=y.Yj && (null === (z=y.FC) || void 0 === z?void 0:z.vP);y={Z_c:!0,L:y.Bk,Db:y.sa.G,xg:y.za.G,qx:y.stream.ml.G,JJb:A,endOfStream:B};z=d.__assign({type:"subtitleData"},y);this.Ch.events.emit(z.type,z);"function" === typeof this.Bd.D0b && this.Bd.D0b(y);};x.prototype.KSa=function(y){var A;void 0 === this.HP || this.mediaType !== e.default.Jo.X || y.Pb.equal(this.HP) || (this.HP=void 0);this.uaa("@" + g.platform.time.na() + ", request appended, type: " + y.mediaType + ", streamId: " + y.Jb + ", pts: " + (null === (A=y.Pb) || void 0 === A?void 0:A.G) + "-" + y.Mb.G);this.Rzb(y,!1);};x.prototype.Rzb=function(y,A){var z,B,C;y.Yj || y.qz?(this.HP=A?y.Pb:y.Mb,null === (B=(z=this.Bd).adc) || void 0 === B?void 0:B.call(z,y.FC),this.Aba=!1,(null === (C=y.FC) || void 0 === C?0:C.vP) && this.tpa()):this.HP=void 0;y.ZA=!0;y.lZ();this.vDc(y);this.append();};x.prototype.x0b=function(y){if(void 0 !== this.Bd.error){if("done" === this.Bd.error)return;this.error("failure to append queued mediaRequest:",null === y || void 0 === y?void 0:y.toString(),"err:",JSON.stringify(this.Bd.error));throw this.Bd.error;}y=Error("failure to append queued mediaRequest: " + (null === y || void 0 === y?void 0:y.toString()) + " err: " + this.Bd.error);this.error(y.message);throw y;};x.prototype.sDc=function(y,A){y={type:"headerAppended",mediaType:this.mediaType,streamId:y,isIndex:A};this.emit(y.type,y);};x.prototype.vDc=function(y){y={type:"requestAppended",mediaType:this.mediaType,request:y};this.emit(y.type,y);};x.prototype.uaa=function(y){y={type:"managerdebugevent",message:y};this.emit(y.type,y);};return x;})(t.EventEmitter);b.r1a=a;},58348:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.s1a=void 0;d=a(90745);n=a(66164);c=a(91176);g=a(50247);f=a(65161);e=a(61996);h=a(52571);t=(function(){function l(k,m,p){this.nb=k;this.xb=m;this.YWb=p;this.Zv=this.Uv=this.Eq=0;this.Sv=[];this.mFa=new Map();this.Ve=new e.Lm({Bg:4,wj:this,source:"BufferSizeLimiter"});}Object.defineProperties(l.prototype,{ka:{get:function(){return {total:this.Eq,audio:this.Uv,video:this.Zv};},enumerable:!1,configurable:!0}});l.prototype.wy=function(k){var m,p,r,q;m=this;if(!(k instanceof g.vS && k.gf)){p={requestId:k.Erb(),mediaType:k.mediaType,ka:k.ka,dL:n.platform.time.na(),R:k.stream.O.R};this.Sv.push(p);r=k.ka;if(0 >= r){q=new d.lf();q.on(k.events,"updatedBytes",function(u){m.dgb(k.mediaType,u.Qyb - u.iTa);p.ka=u.Qyb;q.clear();m.mFa.delete(k);});this.mFa.set(k,q);}else this.dgb(k.mediaType,r);}};l.prototype.tx=function(k){var m,p;if(!k.gf){m=k.Erb();p=(0,c.Ql)(this.Sv,function(r){return r.requestId === m;});-1 !== p && (this.Sv.splice(p,1),p=k.ka,0 < p && (this.Eq-=p,k.mediaType === f.v.X?this.Uv-=p:this.Zv-=p,(0,h.assert)(this.Eq === this.Uv + this.Zv),(0,h.assert)(0 <= this.Eq),(0,h.assert)(0 <= this.Uv),(0,h.assert)(0 <= this.Zv)),this.mFa.delete(k));}};l.prototype.$Ha=function(k,m){var p;(0,h.assert)(this.Eq === this.Uv + this.Zv);p=this.YWb();if(void 0 !== p.total && this.Eq + m > p.total)return (this.hJb(),!1);p=k === f.v.X?p.audio:p.video;k=k === f.v.X?this.Uv:this.Zv;return void 0 !== p && k + m > p?(this.hJb(),!1):!0;};l.prototype.dgb=function(k,m){this.Eq+=m;k === f.v.X?this.Uv+=m:this.Zv+=m;(0,h.assert)(this.Eq === this.Uv + this.Zv);(0,h.assert)(0 < this.Eq);(0,h.assert)(0 <= this.Uv);(0,h.assert)(0 <= this.Zv);};l.prototype.hJb=function(){var k;if(this.xb.$bc){k=n.platform.time.na();this.Ve.Jha("traceActiveRequests",{mk:this.Sv.map(function(m){return {requestId:m.requestId,ka:m.ka,R:m.R,m4c:k - m.dL};})});}};l.prototype.ria=function(){var k,m,p;k=0;m=0;p=0;this.Sv.forEach(function(r){k+=r.ka;r.mediaType === f.v.X?m+=r.ka:p+=r.ka;});(0,h.assert)(k === m + p);(0,h.assert)(0 < k);(0,h.assert)(0 <= m);(0,h.assert)(0 <= p);(0,h.assert)(k === this.Eq);(0,h.assert)(m === this.Uv);(0,h.assert)(p === this.Zv);};return l;})();b.s1a=t;},35779:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Opb=b.pMa=b.mVa=b.CHa=b.fT=void 0;d=a(22970);n=a(66164);c=a(52571);g=a(69575);t=(function(){function e(h,l,k){void 0 === k && (k={});this.config=h;this.VKa=l;this.Nd=[];this.RU=new g.Eg();this.Nia=new g.Eg();this.options=d.__assign({Bg:10},k);}Object.defineProperties(e.prototype,{isEnabled:{get:function(){return this.config.Xbc;},enumerable:!1,configurable:!0}});e.prototype.Sla=function(h,l){var k;if(!this.isEnabled)return l();k=this.nla(h);if(k)return k.value;l=l();this.Ps(h,l);return l;};e.prototype.findIndex=function(h){var l,k,m,p;l=Infinity;k=Infinity;if(this.options.cw || this.options.qv){m=n.platform.time.na();this.options.qv && (l=m - this.options.qv);this.options.cw && (k=m - this.options.cw);}for(m=0;m < this.Nd.length;m++){p=this.Nd[m];if(this.options.qv && p.O8 < l){this.Nd.splice(m,this.Nd.length - m);break;}if(this.options.cw && p.Vl < k)(this.Nd.splice(m,1),m--);else if(this.VKa(p.key,h))return m;}return -1;};e.prototype.nla=function(h){var l;h=this.findIndex(h);if(-1 !== h){l=this.Nd[h];this.Nd.splice(h,1);this.Nd.unshift(l);this.options.qv && (l.O8=n.platform.time.na());this.Nia.push(h);this.RU.push(1);return l;}this.RU.push(0);};e.prototype.Ps=function(h,l){this.Nd.unshift({key:h,value:l});if(this.options.qv || this.options.cw)(h=n.platform.time.na(),this.options.qv && (this.Nd[0].O8=h),this.options.cw && (this.Nd[0].Vl=h));this.XHa();};e.prototype.XHa=function(){this.Nd.length > this.options.Bg && this.Nd.pop();};e.prototype.clear=function(){this.Nd=[];};return e;})();b.fT=t;f=new WeakMap();b.CHa=function(e){void 0 === e && (e="default");return function(h,l,k){var m;m=k.value;k.value=function(p){var r,q,u;r=this;u=null === (q=f.get(this)) || void 0 === q?void 0:q[e];(0,c.assert)(u,"lruCache not defined");return u.Sla(p,function(){return m.call(r,p);});};};};b.mVa=function(e,h,l){f.has(e) || f.set(e,{});f.get(e)[h]=l;};b.pMa=function(e){var h;if(!f.has(e))return [];h=f.get(e);return Object.keys(h).map(function(l){return h[l];});};b.Opb=function(e){return f.has(e)?f.get(e):{};};},68539:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Ra=void 0;t=a(36948);b.Ra={dx:560,yz:Infinity,Cz:0,Ys:65535,bQ:-Infinity,v9:Infinity,zo:["ddplus-5.1-dash","ddplus-5.1hq-dash","ddplus-atmos-dash"],yG:[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{minInitAudioBitrate:0,maxInitAudioBitrate:65535}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:0,maxInitAudioBitrate:65535}}],aQ:235,ex:3E4,no:7800,N9:999999,haa:1,Fca:!0,YB:45E3,B9:Infinity,pr:2600,Hoa:0,Loa:0,jJ:null,OR:15,G4:10,H4:!1,I4:[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}],h5:20,Tba:!1,j5:0,i5:[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}],UP:0,xba:!1,Zca:8E3,P7:9E4,h9:51E4,R7:3E5,j9:3E5,Q7:6E5,i9:0,O7:.5,wz:15E3,NP:15E3,l9:25E3,xz:2E4,n9:!1,WP:1,IF:1E4,u4:262144,Oca:1048576,lW:3,r6:1,HF:24E4,uxb:24E4,Esa:!0,k5:!1,g5:1,soa:20,w9:12E4,c9:6E4,bG:!1,ara:8E3,sN:!0,$qa:100,PX:300,ooa:2,L7:4096,cW:!1,YX:1E4,Ap:!1,toa:3,GXa:0,x4:32768,Tca:65536,Bma:32768,pib:2E3,gu:0,yy:3E5,UY:24E4,sqa:2,goa:200,Lha:2E3,Mha:8E3,hZ:6E4,jO:!0,o2:{lv:5,mx:240},uka:!1,Jja:4,Ija:8E3,$oa:2E3,Zoa:12E4,C9:3,aca:2E3,hoa:400,Gka:!1,cR:!0,HKa:!1,Kyb:36E3,fyb:8E3,mob:10368E3,Uhb:5184E3,iob:86400,Snb:!1,Hma:!1,Ooa:500,Noa:131072,cra:2E3,bra:262144,Ysb:2E3,vhb:"optimized",X8:"livesimple",H8:!1,jnb:("throughput-ewma throughput-sw throughput-sw-fast throughput-iqr throughput-tdigest avtp entropy").split(" "),tob:{},Ulb:"throughput-ewma",nFb:"none",NJa:{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}},O4:"default",zja:!1,Bja:0,dsa:"none",noa:"simple",Xia:"throughput-ci",Fsa:"default",Tnb:["throughput-wssl"],cpa:"video_location",yRa:Infinity,URa:5,F$:3E5,Raa:18E4,Voa:!0,Bia:!0,poa:Infinity,Bz:4E3,$B:4E3,Cha:!1,xOa:0,wOa:0,yOa:{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3},U9:3E3,pyb:500,A9:30,R9:3E5,eua:!1,ala:!1,epb:!0,Lsa:!1,Dra:!1,NX:3,Una:!0,Yha:!0,P9:2E3,fO:!0,tB:!0,hO:!0,zZ:!1,o6:[],SV:!1,E6:[],D6:0,LG:!1,T4c:!1,WH:!1,F5:{ticks:-3268,timescale:48E3},Z$:{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}},AMP_AUDIO_PROFILE_DEFAULT:{194:{ticks:-3268,timescale:48E3}},FMP4_AAC:{194:{ticks:-3268,timescale:48E3}}},wh:!1,I9:!1,Faa:!1,Gaa:!1,MK:"fallback",lU:!1,Zu:1,$P:1,OF:1,OX:4,S9:3E3,Iba:.3,AN:7800,YV:!1,wZ:[],D$:100,Eca:!0,uQ:{enabled:!1,earlyManifestProcessing:!1},dqa:1E3,qQ:"flexible",eqa:"padding",oYa:!1,yqa:2E3,zqa:6E3,kO:!1,yaa:1E4,Ysa:.75,V8:0,tka:!1,Y8:!0,Mna:4,Vna:"strict",Xna:!0,W8:750,EX:6,Yna:Infinity,nka:!1,Xoa:1E3,boa:!0,iO:!0,wR:!1,QQa:!1,$na:!0,E5:1E3,Hja:1E3,TV:!0,GX:3E4,aoa:1E3,NQa:!1,vka:!0,MP:!1,Wna:.05,U8:-500,Mba:!0,m_:0,k4:!1,WV:!0,Vba:"",b6:!0,gO:!0,eO:!0,gl:1E4,KP:0,ayb:0,kyb:0,lyb:0,V$:!0,ZX:6E4,x9:96E4,JKa:t.Qf.JKa[1],Zba:t.Qf.Zba[1],Sqa:t.Qf.Sqa[1],UV:t.Qf.UV[1],JX:t.Qf.JX[1],KX:t.Qf.KX[1],OJ:t.Qf.OJ[1],d6:!1,aY:t.Qf.aY[1],j_:t.Qf.j_[1]};},36948:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MIa={N9:["minCheckBufferingCompleteInterval",200],onb:["enableMoreFrequentBufferingCompleteCheck",!1],F5:["defaultAacTimestampOffset",{ticks:-3268,timescale:48E3}],Z$:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],qQ:["paddingCodecSelector","strict"],zm:["stallAtFrameCount",void 0],Raa:["saveBitrateMs",0],Faa:["requireDownloadDataAtBuffering",!1],wtb:["indicatorForDownloadDataAtBuffering","oncomplete"],Gaa:["requireSetupConnectionDuringBuffering",!1],PJ:["maxRequestSize",0],zcc:["enableNginxRateLimit",!1],kpa:["nginxSendingRate",4E4],oka:["enableCprAudio",!1],pka:["enableCprVideo",!1],rka:["enableHybridPacing",!1],PHa:["catchUpMode",!1],Ysc:["maxSegHint",4],DVa:["requestLevelLogging",!1],DKa:["enableConcurrentStreamingHandling",!1],Dcc:["enablePacingOnSwitchableAudio",!1],Ap:["pipelineEnabled",!0],Hcc:["enableSCByteRangeHints",!1],nG:["segmentFadeDuration",400],YB:["maxPrebufSize",4E4],no:["minPrebufSize",5800],T9:["minimumJustInTimeBufferLevel",3E3],rYc:["enableMissingSegmentsDetection",!0],iO:["enableMissingSegmentsReplacement",!0],ycc:["enableNextSegmentSizeFromOC",!0],boa:["liveSwitchStreamsOnErrorInPipeline",!0],Wqc:["liveEdgeRetryWindowMs",6E3],wR:["simulateLiveEdge",!1],XHc:["simulateLiveEdgeDistance",0],Loa:["minVideoMediaRequestSizeBytes",0],Hoa:["minAudioMediaRequestSizeBytes",0],etc:["maxVideoMediaRequestSizeBytes",Infinity],Jsc:["maxAudioMediaRequestSizeBytes",Infinity],$B:["minVideoMediaRequestDuration",0],Bz:["minAudioMediaRequestDuration",0],Koa:["minMediaRequestDuration",0],roa:["maxMediaRequestDuration",Infinity],dtc:["maxVideoMediaRequestDuration",Infinity],Isc:["maxAudioMediaRequestDuration",Infinity],AGa:["allowFirstRequestAggregation",!1],Tsc:["maxMediaRequestSizeBytesInFraction",1],Eca:["useExitZones",!0],mwb:["liveEndSlateMaxDuration",6E4],Zsa:["ase_stream_selector","optimized"],C1b:["audiostreamSelectorAlgorithm","selectaudioadaptive"],X8:["liveStreamSelectorAlgorithm","livesimple"],H8:["jointStreamSelectorEnabled",!1],jHb:["smartHeaderPreDownloading",!1],YX:["minBufferLenForHeaderDownloading",1E4],g5:["connectTimeMultiplier",1],xz:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],n9:["lowestWaterMarkLevelBufferRelaxed",!1],ex:["minRequiredBuffer",2E4],IF:["maxTrailingBufferLen",15E3],HF:["maxMediaBufferAllowed",27E4],Fsa:["simulationDurationStrategy","default"],YHc:["simulationFullBufferPercentage",1],iyb:["minSimulationDuration",2E4],uoa:["maxSimulationDuration",3E5],P7:["highStreamRetentionWindow",9E4],h9:["lowStreamTransitionWindow",51E4],R7:["highStreamRetentionWindowUp",5E5],j9:["lowStreamTransitionWindowUp",1E5],Q7:["highStreamRetentionWindowDown",6E5],i9:["lowStreamTransitionWindowDown",0],O7:["highStreamInfeasibleBitrateFactor",.5],r6:["fastDownswitchFactor",3],lW:["fastUpswitchFactor",3],gec:["fastUpswitchFactorWithoutHeaders",3],fec:["fastUpswitchFactorForNextSegment",1],k5:["considerConnectTime",!0],wz:["lowestBufForUpswitch",9E3],NP:["lockPeriodAfterDownswitch",15E3],l9:["lowWatermarkLevel",15E3],xba:["skipBitrateInUpswitch",!1],Zca:["watermarkLevelForSkipStart",8E3],lJc:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],gnb:["enableAllHeadersPreDownloading",!1],Jcc:["enableStreamSelectionAugmentData",!1],H1b:["augmentDataNumOfChunks",30],x1c:["minFragmentVmaf",void 0],Y8:["liveStreamSelectorUseLatency",!0],Mna:["latencyMultiplierForLive",4],nqc:["latencyAverageMultiplierForLive",1],JIb:["throughputDiscountForLive",.7],IIb:["throughputDiscountExponentBC",1.5],Vna:["liveBufferRatioStrategy","strict"],CKc:["throughputThresholdSelectorParam",0],lFa:["reportedFilters",[]],O4:["bufferingSelectorAlgorithm","default"],IKb:["upswitchDuringBufferingFactor",2],Rgb:["allowUpswitchDuringBuffering",!1],Yna:["liveMaxUpswitchSteps",Infinity],dzb:["noRepeatedFirstSelectionLogic",!1],U$b:["defaultThroughput",1537],dx:["minInitVideoBitrate",-Infinity],yz:["maxInitVideoBitrate",Infinity],Cz:["minInitAudioBitrate",-Infinity],Ys:["maxInitAudioBitrate",Infinity],aQ:["minAcceptableVideoBitrate",-Infinity],$P:["minAcceptableVMAF",0],Otc:["minAcceptableVMAFRebufferScalingFactor",0],bQ:["minAllowedVideoBitrate",-Infinity],v9:["maxAllowedVideoBitrate",Infinity],OF:["minAllowedVmaf",-Infinity],nxb:["maxAllowedVmaf",Infinity],$X:["minRequiredAudioBuffer",0],jJ:["initialBitrateSelectionCurve",null],OR:["throughputPercentForAudio",15],G4:["bandwidthMargin",0],I4:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],Vhb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,yE:76376,scale:18862.4,gamma:3.0569}],H4:["bandwidthMarginContinuous",!1],Whb:["bandwidthMarginForAudio",!0],Tba:["switchConfigBasedOnInSessionTput",!0],h5:["conservBandwidthMargin",20],j5:["conservBandwidthMarginTputThreshold",6E3],i5:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],By:["bandwidthManifold",{curves:[{min:.05,max:.82,yE:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,yE:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Dxb:["maxStartingVideoVMAF",110],Zu:["minStartingVideoVMAF",1],lU:["activateSelectStartingVMAF",!1],jsa:["selectStartingVMAFTDigest",-1],MK:["selectStartingVMAFMethod","fallback"],DFb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],haa:["rebufferingFactor",1],hZ:["rebufferCheckDuration",6E4],Fca:["useMaxPrebufSize",!0],hoa:["lowThroughputThreshold",400],Gka:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Ecc:["enablePenaltyForLongConnectTime",!1],sqa:["penaltyFactorForLongConnectTime",2],goa:["longConnectTimeThreshold",200],Lha:["additionalBufferingLongConnectTime",2E3],Mha:["additionalBufferingPerFailure",8E3],pr:["maxBufferingTime",2E3],GZa:["upperThroughputPredictionFactor",1.6],WP:["mediaRate",1.5],GKc:["timeAtEachBitrateRoundRobin",1E4],EEc:["roundRobinDirection","forward"],noa:["marginPredictor","simple"],Occ:["enableVmafEstimationFromBitrate",!1],btc:["maxVMAFMappingBitrate",16E3],ctc:["maxVMAFMappingVMAF",110],TGa:["audioBwFactor",1],E1b:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],F1b:["audioSwitchConfigLive",{upSwitchFactor:2.5,downSwitchFactor:1.3,lowestBufForUpswitch:6E3,lockPeriodAfterDownswitch:3E4}],yG:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],nia:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Una:["limitAudioDiscountByMaxAudioBitrate",!1],MP:["liveSlowBufferFilling",!1],orc:["liveSlowBufferFillingMinBitrate",1200],lrc:["liveResyncClockOn404Error",!0],nka:["enableConditionalServerTimeUpdate",!0],Xoa:["negligibleServerTimeDeltaDifference",1E3],cpa:["networkMeasurementGranularity","video_location"],Nsc:["maxFragsForFittableOnBranching",300],wh:["applyProfileStreamingOffset",!0],eFb:["sanitizeMediaVideoFrameDuration",!0],Pcc:["enableWsslEstimate",!1],Wsc:["maxRequestsToAttachOnBranchActivation",void 0],HKa:["enableManagerDebugTraces",!1],Esa:["simulatePartialBlocks",!0],nwb:["liveInitialFetchSizeBytes",1024],rrc:["liveTextInitialFetchSizeBytes",40],Zqc:["liveEditInitialFetchSizeBytes",4096],uQ:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],kwb:["liveAdjustAudioTimestamps",!1],Aja:["debugFragmentTimes",!1],vka:["enableTwoPartLiveFragmentEditing",!0],Uxc:["parseAdditionalBoxesMp4Header",!0],s1c:["minAudioMediaRequestDurationCache",0],A1c:["minVideoMediaRequestDurationCache",0],EKa:["enableForcedJsRequests",!1],duc:["missedRequestFailureTimeout",5E3],lxb:["markRequestActiveOnFirstByte",!1],I_:["useNativeDataViewMethods",!0],dpa:["networkRequestRetryDelay",500],Guc:["networkRequestRetryMinJitter",100],Fuc:["networkRequestRetryMaxJitter",2E3],XYa:["translateToVp9Draft",!1],wVa:["reorderTrakMvex",!1],Qtb:["insertSilentFrames",0],YYc:["forceDiscontinuityAtTransition",!0],X3c:["supportAudioResetOnDiscontinuity",void 0],W3c:["supportAudioEasingOnDiscontinuity",void 0],c1c:["maxWsslRequestSize",131072],b1c:["maxWsslRequestRatio",.2],Wna:["liveEarlyRequestProbability",.05],U8:["liveEarlyRequestDefaultOffsetMs",-500],Mba:["supportLiveIdrMismatch",!1],m_:["synthesizeLiveIdrMismatch",0],ecc:["enableCsprNonPipelined",!1],ccc:["enableCprAudioNonPipelined",!1],dcc:["enableCprVideoNonPipelined",!0],Ccc:["enablePaceReportLogging",!1],Fxc:["paceRateSelectorAlgorithm","default"],Gxc:["paceRateSelectorAlgorithmAudio","default"],Hxc:["paceRateSelectorAlgorithmNonPipelined","default"],HHb:["staticPacingRateKbps",0],aja:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1,lowestAllowedFragmentBitrateFactors:[0,0,0]}],RLc:["unpacedFragmentInterval",0],RCc:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],mKc:["targetBufferLevelStddevMultiplier",1],lKc:["targetBufferLevelDurationMs",0],Jxc:["pacingTargetBufferStrategy","implicit"],Ytc:["minTargetBufferLevelMs",27E4],Voa:["needMinimumNetworkConfidence",!0],Bia:["biasTowardHistoricalThroughput",!1],Vqc:["liveDvrSwitchThresholdms",1E4],bG:["probeServerWhenError",!1],V$:["probeBeforeSwitchingBackToPrimary",!0],ZX:["minIntervalForSwitchingBackToPrimary",6E4],x9:["maxIntervalForSwitchingBackToPrimary",96E4],knb:["enableInitialThroughputHistory",!1],Jrc:["locationSelectorPersistFailures",!0],c9:["locationStatisticsUpdateInterval",6E4],Cmc:["httpsConnectErrorAsPerm",!1],aca:["throttledNetworkFailureThresholdMs",2E3],C9:["maxThrottledNetworkFailures",5],$oa:["networkFailureResetWaitMs",2E3],w9:["maxBufferingTimeAllowedWithNetworkError",6E4],qDc:["replicateErrorDirectorInitialBuffering",!0],Zoa:["networkFailureAbandonMs",6E4],sN:["allowSwitchback",!0],PX:["maxDelayToReportFailure",300],ara:["probeRequestTimeoutMilliseconds",3E4],E2c:["probeRequestConnectTimeoutMilliseconds",8E3],$qa:["probeDetailDenominator",100],P9:["minProbeIntervalMs",2E3],S9:["minStreamableConcurrencyWindow",3E3],$sc:["maxStreamableConcurrencyWindow",Infinity],Iba:["streamableConcurrencyFactor",.3],AN:["bufferingConcurrencyWindow",7800],nDb:["rebufferRiskHalfLife",1E4],SV:["enableDiscontiguousBuffering",!1],OX:["maxAllowedOutstandingRequests",4],aoa:["liveRequestSpreadMs",1E3],NQa:["liveConsiderSpreadInCushion",!1],V8:["liveEdgeCushion",0],tka:["enableLive5XXHandling",!1],zo:["switchableAudioProfiles",[]],B9:["maxRebufSize",Infinity],UY:["prebufferTimeLimit",6E4],u4:["audioBufferTargetAvailableSize",262144],Oca:["videoBufferTargetAvailableSize",1048576],lsb:["graphSelectorSetAudioRate",!1],Jpc:["jointStreamCreationAlgorithm","optimized"],myb:["minimumBufferingCompleteInterval",1E4],J2b:["bufferingCompleteOnMemoryLimit",!1],poa:["maxFastPlayBufferInMs",2E4],oxb:["maxBufferingCompleteBufferInMs",Infinity],tzc:["playgraphDefaultWeight",65520],XRa:["minimumDownstreamBranchProbability",.075],fO:["enableCombinedPlaygraphs",!0],tB:["enableAdPlaygraphs",!0],hO:["enableLiveAdPlaygraphs",!0],mHa:["branchCreationThreshold",12E4],x2b:["branchDistanceThreshold",6E4],UNc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],UP:["maxTotalBufferLevelPerSession",0],j0b:["allowParallelStreaming",!0],Jja:["defaultHeaderCacheSize",4],Ija:["defaultHeaderCacheDataPrefetchMs",0],Opc:["keepWishListOnExpiration",!0],Y2c:["reuseOnErrorCacheSize",1],Zwb:["manifestCacheDormantCacheEnabled",!0],hsc:["manifestCacheReuseOnErrorEnabled",!0],$na:["livePrefetchEnabled",!1],Szc:["prefetchWeightBudget",32],Tzc:["prefetchWhilePlaying",!0],$zc:["prefetcherSoftReset",!0],Ozc:["prefetchBudgetInBytes",0],yqa:["pipelineHealthThresholdCriticalMs",2E3],zqa:["pipelineHealthThresholdLowMs",6E3],kO:["enableRequestAbandonment",!1],yaa:["requestAbandonmentLockIntervalMs",1E4],Ysa:["streamModeAppendAttachThreshold",.75],oHc:["shareDownloadTracks",!0],pHc:["shareOpenRangeTracks",!1],YMc:["usePipelineForAudio",!1],XMc:["usePipelineDetectionForAudio",!1],ZMc:["usePipelineForBranchedAudio",!0],$Mc:["usePipelineForText",!0],toa:["maxParallelConnections",3],NX:["maxActiveRequestsPerSession",void 0],Q9:["minRequestSize",65536],GXa:["socketReceiveBufferSize",0],x4:["audioSocketReceiveBufferSize",32768],Tca:["videoSocketReceiveBufferSize",65536],yKc:["textSocketReceiveBufferSize",32768],TKb:["usePipelineDetectionForVideo",!1],Ztc:["minVideoSocketReceiveBufferSize",65536],Bma:["headersSocketReceiveBufferSize",32768],Qac:["disableHeaderDownloadTracks",!1],c_:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],itb:["ignoreUserFilterOnEmptyResult",!0],YV:["enableResolutionVMAFStreamFilter",!1],D$:["percentCapTitlesForResolutionVMAFStreamFilter",100],wZ:["resolutionVMAFCappingRuleList",[]],WMc:["useLiveBitrateDynamicCap",!0],T0b:["aseDiagnostics",[{zc:"queue-audit",enabled:!0},{zc:"task-audit",enabled:!0},{zc:"trace-ShimSession",enabled:!0},{zc:"trace-engine",enabled:!0},{zc:"trace-RequestPacer",enabled:!0},{zc:"trace-BufferStateTracker",enabled:!0},{zc:"trace-GraphStreamingProcess",enabled:!0},{zc:"trace-AsePlaygraph",enabled:!0},{zc:"playgraph-branch-audit",enabled:!0},{zc:"content-playgraph",enabled:!0},{zc:"trace-CphAsePlaygraph",enabled:!0},{zc:"trace-GraphLocation",enabled:!0},{zc:"cache-ads::gls",enabled:!0},{zc:"cache-content::gls",enabled:!0},{zc:"trace-LiveOCSideChannel",enabled:!0},{zc:"trace-media-events-provider",enabled:!0},{zc:"trace-Prefetcher",enabled:!0},{zc:"trace-AdBreakHydrator",enabled:!0}]],Zbc:["enableAseReporting",!0],xtc:["memDeadlockShouldCheckMemory",!0],wtc:["memDeadlockOverageThreshold",.9],vtc:["memDeadlockMaxUtilizationPercentage",.5],Xbc:["enableAdLruCaches",!1],eqa:["paddingMediaType","padding"],dqa:["paddingDurationMs",1E3],Ssc:["maxLiveDAIReplacedMismatchDurationMs",2100],XV:["enablePrerollForInitialSeek",!1],TCc:["rehydrateSkippableAdBreaks",!0],ftb:["hydrateWaitTimeBetweenAdBreaksMs",5E3],xxb:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],o6:["excludedContentPlaygraphIds",[]],thb:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],HZ:["seamlessAudio",!1],Yha:["appendFirstHeaderOnComplete",!0],eua:["waitForDrmToAppendMedia",!1],qYc:["enableJustInTimeAppends",!1],HKc:["timeBeforeEndOfStreamBufferMark",6E3],hac:["delayNotificationOfEoS",!1],Ioa:["minAudioPtsGap",void 0],buc:["minimumAudioFramesPerFragment",1],cR:["requireAudioStreamToEncompassVideo",!1],I9:["mediaSourceSupportsNegativePts",!1],vLc:["truncateEndOfStreamAudio",!1],qPa:["insertSilentFramesOnSeek",!1],Rtb:["insertSilentFramesOnSeekForTitles",[]],mWa:["seamlessAudioMaximumSyncError",void 0],nWa:["seamlessAudioMinimumSyncError",void 0],Chb:["audioProfilesNonSyncSamples",["xheaac-dash"]],WH:["applyProfileTimestampOffset",!1],IZa:["useDpiAssumedAacEncoderDelay",!0],Gnc:["insertSilentFramesOnSeekCount",3],gsa:["segmentFadeInDuration",-1],hsa:["segmentFadeOutDuration",-1],RX:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],zZ:["retainSbrOnFade",!1],Ptb:["insertSilentFrameOnFade",!0],ala:["forceAppendHeadersAfterDrm",!1],dhb:["appendPacingFactor",0],B0b:["appendPacingThreshold",3E3],tcc:["enableLiveRequestLogger",!1],r4b:["cdndldistEnabled",!1],pzc:["playerPtsPadding",1],gyb:["minNumSessionHistory",5],Zhb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Xna:["liveLowQualityAvoidance",!0],W8:["liveLowQualityThreshold",750],EX:["liveLowQualityMultiplier",6],rwb:["liveReportSendIntervalMs",6E4],PQa:["liveReportCollectIntervalMs",5E3],NKb:["useConfigManager",!0],olc:["globalConfigMutationAllowList",{iO:"enableMissingSegmentsReplacement",gl:"minimumPresentationDelayMs",no:"minPrebufSize",kO:"enableRequestAbandonment",WV:"enableMediaEventsTrack",S8:"liveAdManifestWindowMs",k4:"alwaysRetainAds",hO:"enableLiveAdPlaygraphs"}],Hma:["ignoreShortResponses",!0],PGb:["shortResponseDurationMs",10],OGb:["shortResponseBytes",1E4],PWb:["expandDownloadTime",!0],oyb:["minimumResponseDurationMs",10],Ooa:["minimumMeasurementTime",500],Noa:["minimumMeasurementBytes",131072],cra:["probingMeasurementTime",2E3],bra:["probingMeasurementBytes",262144],ZIc:["stopNetworkConfidence",!0],CXb:["historicBandwidthUpdateInterval",2E3],Ssa:["stopOnAllInactiveRequests",!1],fnb:["enableActiveRequestsInFilters",!1],pEb:["resetActiveRequestsAtSessionInit",!0],pnb:["enableThroughputTraceResearchData",!1],KIb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],$Lb:["wsslAggregationMethod","max"],dsa:["secondThroughputEstimator","slidingwindow"],Qdb:["defaultFilter","throughput-ewma"],DWb:["defaultFilterField","average"],gfb:["secondaryFilter","throughput-sw"],Lsa:["startMonitorOnLoadStart",!1],IWb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-sw-fast throughput-iqr avtp entropy deliverytime").split(" ")],QWb:["experimentalFilter",["throughput-wssl"]],nEa:["filterDefinitionOverrides",{}],Rdb:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20,min_iv:500,min_b:16384}}],TWb:["fastHistoricBandwidthExpirationTime",10368E3],iXb:["bandwidthExpirationTime",5184E3],SWb:["failureExpirationTime",86400],Heb:["minReportedNetIntrDuration",4E3],Euc:["netIntrStoreWindow",36E3],J1c:["minNetIntrDuration",8E3],R9:["minSessionHistoryDuration",3E5],A9:["maxNumSessionHistoryStored",10],Rmc:["ignorePacedRequestStrategy","none"],x$:["pacedThresholdPct",.1],xKa:["effectivePaceRateFactor",1],SXa:["stddevPredictorMultiplier",-.3],TXa:["stddevPredictorUpperMultiplier",2],UIc:["stddevPredictorSource","deliverytime"],Xia:["ciPredictorSource","throughput-ci"],Cha:["addHeaderDataToNetworkMonitor",!0],Dra:["reportFailedRequestsToNetworkMonitor",!1],Bja:["ase_location_history",0],F$:["periodicHistoryPersistMs",0],L7:["headerRequestSize",4096],cW:["estimateHeaderSize",!0],aNc:["useSidxInfoFromManifestForHeaderRequestSize",!1],nob:["fastPlayHeaderRequestSize",0],WRa:["minTimeBetweenHeaderRequests",void 0],jO:["enableOCSideChannel",!0],E5:["decryptOCSideChannelMinInterval",1E3],Hja:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],TV:["enableLiveOCSideChannelRefresh",!0],GX:["liveOCSideChannelRefreshInterval",3E4],o2:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],E6:["forceImmediateTransitionTypeForTitles",[]],D6:["forceImmediateTransitionExitZone",0],ooa:["maxActiveRequestsSABCell100",2],iXc:["contentOverrides",void 0],jXc:["contentProfileOverrides",void 0],soa:["maxNetworkErrorsDuringBuffering",20],Msc:["maxFastPlayContentTimeThresholdMs",112E3],U9:["minimumTimeBeforeBranchDecision",2E3],auc:["minimumAppendedMediaBeforePlayback",5E3],ivb:["jitBranchAppendingDistance",1E4],T2c:["researchEnvironmentEnabled",!1],zja:["ase_dump_fragments",!1],qHb:["stallAtFrameCountAudio",void 0],yRa:["maxIQRSamples",100],URa:["minIQRSamples",5],l3c:["seamlessAudioProfiles",[]],m3c:["seamlessAudioProfilesAndTitles",{}],Hbc:["editCompleteFragments",!0],z1b:["audioOverlapGuardSampleCount",2],Gcc:["enableRecordJSBridgePerf",!1],$xa:["JSBridgeTDigestConfig",{maxc:25,c:.5}],xOa:["hindsightDenominator",0],wOa:["hindsightDebugDenominator",0],i_c:["hindsightAlgorithmsEnabled",[]],yOa:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],gu:["aseReportDenominator",0],yy:["aseReportIntervalMs",3E5],XH:["aseReportMaxStreamSelections",400],RIa:["contiguousBufferMultiplier",3],rkb:["contiguousBufferMinimumAudio",1048576],tkb:["contiguousBufferMinimumVideo",8388608],skb:["contiguousBufferMinimumText",0],LG:["useBufferSizeLimiter",!1],bNc:["useStaticBufferSizeLimiter",!1],oYa:["supportsPtsChanged",!0],rL:["usePrioritySetTimeout",!1],Tib:["centralizeClockSchedulers",!0],Shb:["backOffSetTimeout",!0],H3c:["skipIntroPlaygraphEnabled",!1],b6:["enableMediaEventHistory",!0],$bc:["enableBufferSizeLimiterTracer",!1],QQa:["liveShouldAccountForPlayDelay",!1],V4c:["useManifestServerExpiration",!1],k4:["alwaysRetainAds",!1],WV:["enableMediaEventsTrack",!1],S8:["liveAdManifestWindowMs",1E4],MQa:["liveAdManifestWindowAllowanceMs",5E3],rcc:["enableLiveManifestThrottling",!0],Vba:["syntheticAdBreakUx",""],Lxc:["padOcaSideChannelRequests",!0],u0c:["liveHydrationMinDistanceFromLiveEdge",3E4],v0c:["liveHydrationMinDistanceFromPlayback",12E4],$qc:["liveHydrationDefaultJitterWindow",3E4],brc:["liveHydrationDistanceThatNeedJitter",12E4],LWc:["canPerformSoftHydrations",!0],Exc:["paceHydrationPolicyByLiveEdge",!0],eO:["enableBlackBoxNotification",!0],drc:["liveMediaEventsMinBufferMs",4E3],a1c:["maxWaitTimeForMediaEventsWhileBufferingMS",5E3],crc:["liveMediaEventsCatchupMs",3E4],Ebc:["earlyFetchMediaEvents",!0],owb:["liveMaximumEventsCatchupMs",12E4],Ybc:["enableAdPlaygraphsForBranching",!0],o0b:["alwaysSendSideChannel",!0],W$b:["defaultTimeoutForFetchRequests",8E3],SFc:["serverClockSyncOnViewableRetrievalTimeout",1E4],ucc:["enableLiveWithAdsOptimalPanic",!1],h2b:["batchRequestThrottlerMaxDuration",15E3],aib:["batchRequestThrottlerSleepDuration",0],gO:["enableLiveAdBreakReportingEvents",!0],gl:["minimumPresentationDelayMs",1E4],KP:["liveEdgeSegmentSkipCount",0],ptc:["mediaEventsMaxRetry",20],JKa:["enablePresentationDelayControl",!1],Zba:["targetPresentationDelayToleranceMs",500],Sqa:["presentationDelayQoeLockPeriodMs",6E4],UV:["enableLiveRequestPacing",!0],JX:["logarithmicRequestPacingCurveCenterPositionMs",4E4],KX:["logarithmicRequestPacingCurveSharpness",8],OJ:["maxLiveTargetBufferDurationMs",24E4],d6:["enableSvodRequestPacing",!0],j_:["svodBufferGrowthRateSlope",2],aY:["minSvodTargetBufferDurationMs",6E4],Lcc:["enableSvodLogarithmicPacing",!1],aKc:["svodLogarithmicRequestPacingCurveCenterPositionMs",4E4],bKc:["svodLogarithmicRequestPacingCurveSharpness",8],kLa:["explicitVideoDownloadablesMap",{}]};b.t6b=b.MIa;b.Qf=b.t6b;},49502:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},7559:function(t,b){function a(n,c){var g;c.some(function(f){var e;e=f.profiles;(e=e && 0 <= e.indexOf(n)) && (g=f.override);return e;});return g;}function d(n,c){return !!c && c.zo && 0 <= c.zo.indexOf(n);}Object.defineProperties(b,{__esModule:{value:!0}});b.TVc=function(n){return n.HZ;};b.Zqb=function(n,c){return void 0 !== n.Ioa?n.Ioa:c && void 0 !== c.Ioa?c.Ioa:100;};b.wgc=function(n,c){n=n.profile;n=d(n,c)?a(n,c.yG):a(n,c.nia);return {Cz:n && n.minInitAudioBitrate || c.Cz,Ys:n && n.maxInitAudioBitrate || c.Ys,Rtc:n && n.minAudioBitrate || -Infinity,Hsc:n && n.maxAudioBitrate || Infinity,ex:n && n.minRequiredAudioBuffer || c.$X};};b.dub=d;},78541:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.oI=function(g,f,e,h,l,k,m,p){var r;d.u && h.trace("AsePlaygraph.createRequestQueue()");r=n.RL.instance.oI(g,f.R,!0,!1,{CI:e.CI,xa:l},e);r.rj.on(r,"networkfailing",function(){var q;d.u && h.trace("requestQueue OnNetworkFailing: ",r);r.qLa && ((0,c.assert)(r.rLa),null === (q=f.tO) || void 0 === q?void 0:q.eG(void 0,r.rLa,void 0,r.ah,r.Xg));f.Fo();});r.rj.on(r,"error",function(){p(r.ah,r.Xg);});r.on("transportreport",function(q){q.NKa=f.Xw.nO;k(q);});r.on("mediaRequestComplete",m);r.Sb();return r;};d=a(48170);n=a(42431);c=a(52571);},42431:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.RL=void 0;d=a(22970);n=a(66164);c=d.__importDefault(a(14282));g=a(65161);f=a(91772);t=(function(){function e(h){this.yM=h;this.ja=[];this.console=new n.platform.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(e,{instance:{get:function(){void 0 === e.my && (e.my=new e(n.platform.K0));return e.my;},enumerable:!1,configurable:!0}});e.reset=function(){e.my=void 0;};e.prototype.oI=function(h,l,k,m,p,r){var q;q=r.oHc?this.Nec(k,l,h,r.pHc):-1;-1 === q?(q={track:this.L8b(k,m,h,p,r),zj:k,R:l,WCb:h,vK:[],Vl:!1,UN:!1},this.ja.push(q),this.jCc(q),h=!1):(h=!0,q=this.ja[q]);h=new f.B2(this.console,q.track,q.Vl,h);q.vK.push(h);return h;};e.prototype.jCc=function(h){function l(){h.Vl=!0;h.track.removeListener("created",l);}h.track.on("created",l);};e.prototype.Vja=function(h){var l,k;h.Cs();l=this.w6(function(m){return m.track === h.track;});if(-1 !== l){if((l=this.ja[l],1 === l.vK.length))(l.track.Cs(),l.UN=!0);else {k=l.vK.indexOf(h);0 <= k && l.vK.splice(k,1);}}else h.track.Cs();};e.prototype.Se=function(){this.yM.Se();};e.prototype.L8b=function(h,l,k,m,p){var r,q,u,v,w,x;r=this;u=!1;v=q=!1;w=m.xa;h?k === g.v.V?(h=1,p.Ap?(v=!0,h=p.toa):p.NX && 2 < p.NX && (v=!0,h=p.NX),q=w?!!p.Gca:p.Gca || !v,q={type:this.yM.V,openRange:q,pipeline:v,connections:h,socketBufferSize:p.Tca,minRequestSize:p.Q9}):k === g.v.X?(u=p.Ap && (p.YMc || l && p.ZMc),q=w?!!p.Gca:p.Gca || !u,q={type:this.yM.X,openRange:q,pipeline:u,connections:1,socketBufferSize:p.x4,minRequestSize:p.Q9}):k === g.v.Aa?(q=w?!!p.Gca:p.Gca || !p.$Mc,q={type:this.yM.Aa,openRange:q,pipeline:p.Ap,connections:1,socketBufferSize:p.yKc,minRequestSize:p.Q9}):q={type:p.Qac?this.yM.V:this.yM.NPb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.Bma,minRequestSize:p.Q9}:q={type:k === g.v.X?c.default.Jo.X:c.default.Jo.V,openRange:!1,pipeline:!1,connections:1,socketBufferSize:k === g.v.X?p.x4:p.Tca,minRequestSize:p.Q9};x=new this.yM(q,m);x.Ap=v;x.on("transportreport",function(y){var A;A=r.w6(function(z){return z.track === x;});-1 !== A && (A=r.ja[A],A.vK.length && A.vK[0].emit("transportreport",y));});x.on("mediaRequestComplete",function(y){var A;A=r.w6(function(z){return z.track === x;});-1 !== A && (A=r.ja[A],A.vK.length && A.vK[0].emit("mediaRequestComplete",y));});x.on("destroyed",function(){var y;y=r.w6(function(A){return A.track === x;});-1 !== y && r.ja.splice(y,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.Ap=!1;if(w)x.iVa(d.__assign(d.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(u && p.XMc || p.TKb)p.TKb && x.config.type === g.v.V?x.iVa(d.__assign(d.__assign({},x.config),{socketBufferSize:p.Ztc,pipeline:!1,openRange:!0,connections:1})):x.iVa(d.__assign(d.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};e.prototype.Nec=function(h,l,k,m){return this.w6(function(p){return !p.UN && (!m && p.track.config.Z1c || !h?!p.zj && p.WCb === k:p.zj && p.R === l && p.WCb === k);});};e.prototype.w6=function(h){for(var l=0;l < this.ja.length;++l)if(h(this.ja[l]))return l;return -1;};return e;})();b.RL=t;},91772:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.B2=void 0;d=a(22970);n=a(90745);t=(function(c){function g(f,e,h,l){var k;k=c.call(this) || this;k.nb=f;k.track=e;k.Vl=!1;k.iJ=!1;k.rj=new n.lf();k.rj.on(e,"networkfailing",function(){k.emit("networkfailing");});k.rj.on(e,"error",function(){k.nb.warn("requestQueue got error");k.emit("error");});if(h)(k.Vl=!0,Promise.resolve().then(function(){return k.emit("created");}));else k.rj.on(e,"created",function(){k.Vl=!0;k.emit("created");});k.iJ=l;return k;}d.__extends(g,c);Object.defineProperties(g.prototype,{qLa:{get:function(){return this.track.qLa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ah:{get:function(){return this.track.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xg:{get:function(){return this.track.Xg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rLa:{get:function(){return this.track.rLa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});g.prototype.Sb=function(){var f,e;this.iJ || (null === (e=(f=this.track).Sb) || void 0 === e?void 0:e.call(f),this.iJ=!0);};g.prototype.toString=function(){return this.track.toString();};g.prototype.toJSON=function(){return this.track;};g.prototype.Cs=function(){this.rj.clear();};return g;})(n.EventEmitter);b.B2=t;},14282:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(6198);b["default"]={OPc:{GA:0,jUc:1,name:["STARTUP","STEADY"]},Jo:{X:t.v.X,V:t.v.V,Aa:t.v.Aa,name:["AUDIO","VIDEO","TEXT"]},pSc:{X:t.v.X,V:t.v.V,Aa:t.v.Aa,name:["AUDIO","VIDEO","TEXT"]},Hj:{URL:0,sM:1,LOCATION:2,hH:3,name:["URL","SERVER","LOCATION","NETWORK"]},jq:{HAVE_NOTHING:0,SS:1,RS:2,U0:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},ay:{tPc:0,zRc:1,FTc:2,VSc:3,wTc:4,WUc:5,ERc:6,nSc:7,GA:8,Ho:9,qAa:10,FTb:11,mva:12,TQb:13,SQb:14,EUb:15,DUb:16,X6a:17,ZUb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},eRc:{hH:0,pQc:1,name:["NETWORK","DECODE"]},cUc:{tQc:"delayedSeamless",ORc:"hideLongTransition"},MS:{yT:0,da:1,i9a:2,name:["RETRY","FAIL","PROBE"]}};},48170:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.u=!1;},83744:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.C3a=void 0;d=a(22970);n=a(90745);c=d.__importStar(a(17267));g=a(66164);f=a(91176);e=new g.platform.Console("ASEJS_ERROR_DIRECTOR","asejs");h=d.__importDefault(a(14282));l=a(86429);k=a(94646);m=a(16131);p=g.platform.Cl;t=(function(){function r(q,u,v,w){var o8i;o8i=2;for(;o8i !== 10;){switch(o8i){case 2:this.wi=q;this.config=u;this.lOa=v;o8i=4;break;case 4:var a0Z="1SIYbZr";a0Z+="NJ";a0Z+="Cp9";this.ZI=w;this.events=new n.EventEmitter();this.rj=new n.lf();a0Z;o8i=7;break;case 7:var A8G="issue";A8G+="ServerProbeReque";A8G+="st";var F_j="ne";F_j+="tworkFa";F_j+="iled";this.wjb=new f.z2();this.SE=q.xa?new m.t6a(u):new k.NS(u);this.rj.addListener(this.wi,F_j,this.Elc.bind(this));this.rj.addListener(this.wi,A8G,this.Mlc.bind(this));this.zQa=g.platform.time.na();this.pK=new l.Y$a(q,w,u);o8i=10;break;}}}var g_8;g_8=2;for(;g_8 !== 14;){switch(g_8){case 5:r.prototype.eG=function(q,u,v,w,x){var Y8r,C,y,A,z,B,y61,F,H,T9k,I3u,C7x,D;Y8r=2;for(;Y8r !== 12;){switch(Y8r){case 13:var y48="Unma";y48+="pped ";y48+="failure code in JSASE error director :";y48+=" ";e.error(y48.concat(w));Y8r=12;break;case 4:C=this.SE.BMa(w) || k.NS.Wf;Y8r=3;break;case 5:Y8r=w && c.isArray(this.SE.BMa(w))?4:13;break;case 3:Y8r=C !== k.NS.Ema?9:12;break;case 2:var F4G=" ";F4G+="on";F4G+=" ";var A1Z=" ";A1Z+="with";A1Z+=" ";var l30=" ";l30+="o";l30+="n ";var u4u="Fail";u4u+="ur";u4u+="e ";(A=p.lD.name,z=w?A[w]:void 0,B=this.wi);e.warn(u4u.concat(z,l30).concat(null === q || void 0 === q?void 0:q.url,A1Z).concat(v,F4G).concat(JSON.stringify(q?q:u)));Y8r=5;break;case 9:var z61="crit";z61+="ical";z61+="Network";z61+="E";z61+="rror";var k2n="c";k2n+="ritica";k2n+="lNe";k2n+="twor";k2n+="kError";var Z3n="r";Z3n+="equ";Z3n+="estError";var m_Y="r";m_Y+="eques";m_Y+="t";m_Y+="E";m_Y+="rror";Y8r=(this.DJ={Vj:v,ah:w,job:z,Xg:x},this.events.emit(m_Y,{type:Z3n,Vj:v,errorCode:w,Xg:x}),w && this.SE.joc(w) && this.events.emit(k2n,{type:z61,ah:w}),q=this.exb(q,u),void 0 === q)?8:7;break;case 14:try{y61=2;for(;y61 !== 3;){switch(y61){case 1:y61=!H.done?5:3;break;case 2:(F=d.__values(q),H=F.next());y61=1;break;case 5:u(H.value);y61=4;break;case 4:H=F.next();y61=1;break;}}}catch(G){var E;E={error:G};}finally{T9k=2;for(;T9k !== 1;){switch(T9k){case 2:try{I3u=2;for(;I3u !== 1;){switch(I3u){case 2:H && !H.done && (y=F.return) && y.call(F);I3u=1;break;}}}finally{C7x=2;for(;C7x !== 5;){switch(C7x){case 2:C7x=E?1:5;break;case 1:throw E.error;C7x=5;break;}}}T9k=1;break;}}}Y8r=12;break;case 8:var R5v="Invalid affected for ne";R5v+="two";R5v+="rk failure";e.error(R5v);Y8r=12;break;case 7:u=function(G){var p0I,L,O,P6d,K,N,I;p0I=2;for(;p0I !== 7;){switch(p0I){case 3:var v4m="er";v4m+="r";v4m+="or";!D.Bsa || 0 !== v && void 0 !== v || D.Bsa.HFb(v4m,N);p0I=7;break;case 9:p0I=P6d === h.default.MS.i9a?8:3;break;case 4:K.some(function(J){var d_D;d_D=2;for(;d_D !== 5;){switch(d_D){case 2:B.eG(L,O,J.url);return L === h.default.Hj.sM;break;}}});p0I=3;break;case 5:(L=C[0],O=C[1]);p0I=4;break;case 1:P6d=D.SE.zK(w,I);p0I=P6d === h.default.MS.da?5:9;break;case 2:(K=G.urls,N=G.url,I=G.Qc);p0I=1;break;case 8:D.pK.NAc(G,{Lgb:I,tca:C,Vj:v,ah:w,job:z,Xg:x});p0I=3;break;}}};D=this;Y8r=14;break;}}};r.prototype.Elc=function(q){var f0$,y,A,z,u,v,w,x;f0$=2;for(;f0$ !== 8;){switch(f0$){case 4:(y=this.DJ.ah,A=this.DJ.Vj,z=this.DJ.Xg);f0$=3;break;case 5:f0$=this.DJ?4:3;break;case 2:var W_m=" ms";W_m+=" ";W_m+="ago";var A6X=" la";A6X+="st succes";A6X+="s";A6X+=" was ";var U6w="t";U6w+="empor";U6w+="a";U6w+="rily";var Y$n="p";Y$n+="erma";Y$n+="nen";Y$n+="tly";var i34="Netw";i34+="ork";i34+=" ha";i34+="s failed ";(u=this,v=q.ona,w=g.platform.time.na() - this.zQa,x=this.config);e.warn(i34.concat(v?Y$n:U6w,A6X).concat(w,W_m));f0$=5;break;case 3:var X4i="t";X4i+="em";X4i+="poraryNetwo";X4i+="rk";X4i+="Error";var W_G="te";W_G+="mpor";W_G+="aryN";W_G+="et";W_G+="workError";v || this.events.emit(W_G,{type:X4i,errorCode:y,Vj:A,Xg:z});v?(this.uZ && (clearTimeout(this.uZ),this.uZ=void 0),this.pK.reset(),this.lOa({ona:v,nxc:y,pxc:A,qxc:z,Eb:q.Qc})):this.uZ || (this.uZ=setTimeout(function(){var C1y;C1y=2;for(;C1y !== 5;){switch(C1y){case 2:u.uZ=void 0;u.sZ();C1y=5;break;}}},x.$oa));f0$=8;break;}}};r.prototype.Mlc=function(q){var m4M,x,u,v,w;m4M=2;for(;m4M !== 9;){switch(m4M){case 5:x=q.url.url;q={url:x,Qc:v.id,Eb:v,stream:w,urls:v.urls,L:this.rqc,uCb:!0};(w=null === (u=w.s4) || void 0 === u?void 0:u.RW(q.L,x)) && this.pK.kJa(w,q,v.id);m4M=9;break;case 1:m4M=q.url?5:9;break;case 2:(v=q.Eb,w=q.stream);m4M=1;break;}}};r.prototype.sZ=function(){var u98,q;u98=2;for(;u98 !== 5;){switch(u98){case 2:q=this;this.wjb.Xha || this.wjb.SLb(function(){var v3X;v3X=2;for(;v3X !== 1;){switch(v3X){case 2:q.uZ || (q.wi.sZ(),q.SE.sZ(),q.ZI());v3X=1;break;}}});u98=5;break;}}};r.prototype.pL=function(q){var n30,u,v;n30=2;for(;n30 !== 9;){switch(n30){case 4:var v5t="updatin";v5t+="gLastSuccess";v5t+="Even";v5t+="t";var q4j="updati";q4j+="ngL";q4j+="astSucce";q4j+="ssEvent";(q=this.exb(q)) && 0 < q.length && q.forEach(function(w){var e7D;e7D=2;for(;e7D !== 5;){switch(e7D){case 2:u.SE.pL(w.Qc);u.wi.pL(w.Qc);e7D=5;break;}}});this.events.emit(q4j,{type:v5t});n30=9;break;case 2:(u=this,v=this.config);this.zQa=Math.max(q.Qi || g.platform.time.na(),this.zQa);v.bG && this.pK.pL(q);n30=4;break;}}};r.prototype.exb=function(q,u){var z2m,x,v,w;z2m=2;for(;z2m !== 7;){switch(z2m){case 3:x=v.Zla(q.stream).map(function(y){var s7J;s7J=2;for(;s7J !== 1;){switch(s7J){case 2:return {url:q.url,Qc:y.id,Eb:y,stream:w,urls:y.urls,L:q.Bk};break;}}});z2m=9;break;case 2:v=this.wi;z2m=1;break;case 9:return x;break;case 1:z2m=q?5:8;break;case 5:w=v.IMa(q.stream);this.rqc=q.Bk;z2m=3;break;case 8:u && (x=v.WFc(u.host,u.port).map(function(y){var M3Y;M3Y=2;for(;M3Y !== 1;){switch(M3Y){case 2:return {url:v.RW(y.url.url,y.url.stream.s4),Qc:y.Eb.id,Eb:y.Eb,stream:y.url.stream,urls:y.Eb.urls};break;}}}).filter(function(y){var m8C;m8C=2;for(;m8C !== 1;){switch(m8C){case 2:return "" !== y.url;break;case 4:return "" != y.url;break;}}}));z2m=9;break;}}};return r;break;case 2:r.prototype.Ja=function(){var H7f;H7f=2;for(;H7f !== 5;){switch(H7f){case 2:this.rj.clear();this.pK.reset();H7f=5;break;}}};r.prototype.OZ=function(q){var h$Z;h$Z=2;for(;h$Z !== 1;){switch(h$Z){case 2:this.Bsa=q;h$Z=1;break;case 4:this.Bsa=q;h$Z=6;break;}}};g_8=5;break;}}})();b.C3a=t;},94646:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.NS=void 0;t=a(22970);d=a(66164);n=t.__importDefault(a(14282));c=d.platform.Cl.lD;new d.platform.Console("ASEJS_ERROR_MAP","asejs");a=(function(){function g(f){var e,h;this.config=f;this.SE=(e={},e[c.dPc]=g.Wf,e[c.UNKNOWN_ERROR]=g.Wf,e[c.YSc]=g.Wf,e[c.zOb]=g.Wf,e[c.v2a]=g.Wf,e[c.LOb]=g.Wf,e[c.DOb]=g.pG,e[c.ONb]=g.pG,e[c.J1a]=g.Gr,e[c.H1a]=g.Gr,e[c.PNb]=g.Ema,e[c.QNb]=g.Gr,e[c.RNb]=g.Gr,e[c.LNb]=g.Wf,e[c.NNb]=g.Wf,e[c.I1a]=g.Oyb,e[c.MNb]=g.Wf,e[c.KNb]=g.Gr,e[c.$Pc]=g.pG,e[c.SPb]=g.Gr,e[c.E4a]=g.Gr,e[c.D4a]=g.Gr,e[c.QPb]=this.config.Cmc?g.pG:g.Gr,e[c.Axa]=g.Gr,e[c.RPb]=g.HZa,e[c.Bxa]=g.pG,e[c.nea]=g.HZa,e[c.Cxa]=g.Nyb,e[c.H4a]=g.Nyb,e[c.F1]=g.pG,e[c.UPb]=g.HZa,e[c.oea]=g.Gr,e[c.F4a]=g.pG,e[c.TPb]=g.pG,e[c.GOb]=g.pG,e[c.AOb]=g.Wf,e[c.NUb]=g.Wf,e[c.qOb]=g.Wf,e[c.rOb]=g.Wf,e[c.sOb]=g.Wf,e[c.tOb]=g.Wf,e[c.uOb]=g.Wf,e[c.vOb]=g.Wf,e[c.wOb]=g.Wf,e[c.xOb]=g.Wf,e[c.yOb]=g.Wf,e[c.BOb]=g.Wf,e[c.COb]=g.Wf,e[c.EOb]=g.Wf,e[c.FOb]=g.Wf,e[c.HOb]=g.Wf,e[c.IOb]=g.Wf,e[c.JOb]=g.Wf,e[c.KOb]=g.Wf,e[c.MOb]=g.Wf,e[c.NOb]=g.Wf,e[c.MUb]=g.Gr,e[c.TIMEOUT]=g.Oyb,e);this.c$b=(h={},h[c.J1a]=!0,h[c.E4a]=!0,h[c.D4a]=!0,h[c.Axa]=!0,h[c.v2a]=!0,h);this.nta={};this.HWa={};}g.prototype.BMa=function(f){return this.SE[f];};g.prototype.joc=function(f){return !!this.c$b[f];};g.prototype.zK=function(f,e){var h,l;h=this.config;l=this.BMa(f) || g.Wf;this.HWa[e]=l;return h.bG && f !== c.F1?l === g.Wf || l === g.Gr?n.default.MS.i9a:n.default.MS.da:l !== g.Gr || this.wDc(e)?n.default.MS.da:n.default.MS.yT;};g.prototype.pL=function(f){delete this.nta[f];delete this.HWa[f];};g.prototype.sZ=function(){this.nta={};this.HWa={};};g.prototype.wDc=function(f){var e,h,l;e=d.platform.time.na();h=this.config;l=this.nta[f];if(l){if(!(l.xd >= e - h.aca || l.fG || (l.xd=e,++l.count,l.count < h.C9)))return l.fG=!0;}else this.nta[f]={xd:e,count:1};};g.Oyb=[n.default.Hj.hH,!1];g.Nyb=[n.default.Hj.hH,!0];g.Wf=[n.default.Hj.sM,!1];g.pG=[n.default.Hj.sM,!0];g.HZa=[n.default.Hj.URL,!0];g.Ema=[-1,!1];g.Gr=[n.default.Hj.sM,!1];return g;})();b.NS=a;},16131:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.t6a=void 0;d=a(22970);t=a(66164);n=a(94646);c=t.platform.Cl.lD;a=(function(g){function f(e){var h;h=g.call(this,e) || this;h.config=e;h.SE[c.F1]=n.NS.Gr;return h;}d.__extends(f,g);return f;})(n.NS);b.t6a=a;},72681:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.v0a=void 0;d=a(22970);t=a(66164);n=a(90745);c=t.platform.El;a=(function(g){function f(e){var h;h=g.call(this) || this;h.pK=e;h.Jga=e.groupId;h.rj=new n.lf();h.rj.on(h,c.Al.q2,h.aK);h.rj.on(h,c.Al.mH,h.o$);return h;}d.__extends(f,g);f.prototype.fxc=function(e,h,l){c.prototype.open.call(this,e,h,l);};f.prototype.wGc=function(e){this.Jga=e;};Object.defineProperties(f.prototype,{groupId:{get:function(){return this.Jga;},enumerable:!1,configurable:!0}});f.prototype.Qe=function(){this.rj && this.rj.clear();c.prototype.Qe.call(this);};f.prototype.aK=function(e){this.pK.OAc(e.probed,e.affected);this.Qe();};f.prototype.o$=function(e){this.pK.LAc(e.probed,e.affected);this.Qe();};return f;})(c);b.v0a=a;},86429:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Gib=b.Y$a=void 0;d=a(66164);n=a(52571);c=a(59458);g=a(72681);new d.platform.Console("ASEJS_PROBE_MANAGER","asejs");t=(function(){function f(e,h,l){this.wi=e;this.ZI=h;this.config=l;this.Cm=new Set();this.Qy={};this.qK={};this.tR=!0;this.groupId=1;}f.prototype.NAc=function(e,h){var l,k,m,p,r,q,u,v,w,x;l=this;k=this.config;m=e.Qc;p=e.stream;r=e.Eb.location;(0,n.assert)(p,"Failing url should have an associated stream");(0,n.assert)(r,"Failing url should have an associated location");q=[];u=p.sj[0];v=!1;w=this.Qy[m];x=d.platform.time.na();if(!w)w=this.nHc(m,x,h,e);else if(w.xd >= x - k.aca)return;w.fG || (u && r.id === u.id && (e.isPrimary=!0),w.xd=x,w.fG=!1,w.error=h,++w.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(y){var A,z,B,C,D;B=y.Eb.id;C=B + "-" + m;D=l.qK[C];if(void 0 === D || void 0 === D.W$)(D && D.Tp && clearTimeout(D.Tp),y=null === (z=null === (A=e.stream) || void 0 === A?void 0:A.s4) || void 0 === z?void 0:z.RW(e.L,y.url),(0,n.assert)(y,("Unexpected probeUrl: ").concat(y)),A=l.kJa(y,e,B),l.qK[C]={success:!1,count:0,W$:A.ti()},q.push(A.ti()),v=!0);-1 === w.KWa.indexOf(B) && w.KWa.push(B);}),0 < q.length && (k={ts:d.platform.time.na(),es:h.Lgb,fc:h.ah,fn:h.job,nc:h.Xg,pb:q,gid:this.groupId},h.Vj && (k.hc=h.Vj),this.OP(k,"errpb")),v && this.groupId++));};f.prototype.kJa=function(e,h,l){var k,m;k=new g.v0a(this);m="random=" + parseInt(("").concat(1E7 * Math.random()));k.fxc(e + (-1 !== e.indexOf("?")?"&":"?") + m,h,l);return k;};f.prototype.nHc=function(e,h,l,k){var m;m=this.Qy[e];k=k.Eb.location;m || (m=this.Qy[e]={count:0,xd:h,fG:!1,error:l,KWa:[],BUa:{},location:k,L:l.L,AYc:l});return m;};f.prototype.getState=function(e){return this.Qy[e];};f.prototype.y5b=function(e){this.Qy[e]=void 0;};f.prototype.OP=function(e,h){var l;if(this.tR){l={type:"logdata",target:"endplay",fields:{}};l.fields[h]={type:"array",value:e,adjust:["ts"]};this.wi.vSa(l);}};f.prototype.OAc=function(e,h){var l,k,m,p,r,q,u,v,w,x,y,A,z;l=this;p=this.wi;r=this.config;q=h.Qc;if(h.uCb)p.MVa(e.Qc,!1);else {u=this.Qy[q];if(u){v=e.url;w=this.qK[e.Qc + "-" + q];if(w){x=u.error;w && w.Tp && clearTimeout(w.Tp);w.success=!0;w.count=0;w.W$=void 0;u.BUa[e.Qc]=!0;w=this.Qy[e.Qc];if((null === w || void 0 === w?0:w.fG) && r.sN){p.MVa(e.Qc,w.error.tca[1]);if(this.tR){y={ts:d.platform.time.na(),id:e.requestId,servid:h.Qc,gid:e.groupId?e.groupId:-1};this.OP(y,"errst");}this.Qy[e.Qc]=void 0;this.ZI();}if(v !== h.url){A=this.qK[q + "-" + q];if(!A || !A.success){q=null === w || void 0 === w?void 0:w.location;r=Math.min((null === (m=null === (k=null === q || void 0 === q?void 0:q.sb) || void 0 === k?void 0:k.dr) || void 0 === m?void 0:m.Da) || Math.random() * r.PX,r.PX);z=setTimeout(function(){var B;l.Cm.delete(z);if(!(!1 !== u.fG || A && A.success) && (u.fG=!0,p.eG(x.tca[0],x.tca[1],h.stream.s4.url,x),l.tR)){B={ts:d.platform.time.na(),id:e.requestId,servid:h.Qc,gid:e.groupId?e.groupId:-1};l.OP(B,"erep");}},r);this.Cm.add(z);}}this.tR && (y={ts:d.platform.time.na(),id:e.requestId,result:1,servid:e.Qc,gid:e.groupId?e.groupId:-1},this.OP(y,"pbres"));}}}};f.prototype.LAc=function(e,h){var l,k,m,p,r,q,u,v,w,x,y,A,z;l=this;if(!h.uCb){p=this.wi;r=this.config;q=h.Qc;u=this.Qy[q];v=e.Qc;w=this.qK[v + "-" + q];if(w)if(u){x=0;w.success=!1;w.W$=void 0;u.BUa[v]=!1;y=u.KWa;if(r.sN && v === q && h.isPrimary){A=u.location;A=(null === (m=null === (k=null === A || void 0 === A?void 0:A.sb) || void 0 === k?void 0:k.dr) || void 0 === m?void 0:m.Da) || 300 * Math.random();k=(0,b.Gib)({T1b:A,KAc:w.count,Stc:r.P9});w.Tp=setTimeout(function(){var B;w.Tp=void 0;B=l.kJa(e.url,h,v);B.wGc(e.groupId);w.W$=B.ti();},k);}++w.count;if(v === q && (x=0,y.forEach(function(B){!1 === u.BUa[B] && x++;}),y.length === x && u.count >= r.C9)){z=u.error;u.fG=!0;r=h.stream;(0,n.assert)(r,"Probe failed url should have an associated stream");r.urls.forEach(function(B){p.eG(z.tca[0],z.tca[1],B.url,z);l.tR && (B={ts:d.platform.time.na(),id:-1,servid:B.Eb.id},l.OP(B,"erep"));});}this.tR && (r={ts:d.platform.time.na(),id:e.requestId,result:0,servid:e.Qc,gid:e.groupId?e.groupId:-1},this.OP(r,"pbres"));}else w && (w.success=!1,w.W$=void 0);}};f.prototype.pL=function(e){var h,l,k;if(e.url){l=this.wi;k=l.GWa(e.url);k || (k=null === (h=this.wi.Zla(e.stream)[0]) || void 0 === h?void 0:h.id);k && (e=this.Qy[k]) && e.fG && this.config.sN && (l.MVa(e.error.Lgb,!1),this.tR && (l={ts:d.platform.time.na(),id:-1,servid:k},this.OP(l,"errst")),this.y5b(k),(k=this.qK[k + "-" + k]) && k.Tp && clearTimeout(k.Tp));}};f.prototype.reset=function(){var e,h,l;e=this.qK;for(l in e)e.hasOwnProperty(l) && (h=e[l + "-" + l]) && h.Tp && clearTimeout(h.Tp);this.Cm.forEach(function(k){return clearTimeout(k);});this.Cm.clear();this.qK={};this.Qy={};};return f;})();b.Y$a=t;b.Gib=function(f){var e,h;e=f.T0c;h=f.c0c;h=void 0 === h?.1:h;f=Math.min(Math.max(f.Stc,f.T1b * Math.pow(2,f.KAc)),void 0 === e?12E4:e);e=(0,c.YCb)(0,f * h);return f + e;};},52045:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Xjc=function(c,g){if((c=c.Ba.K.sx) && 0 !== c.length)return (0,d.oc)(c,function(f){return f.sa.G <= g && g < f.za.G;});};b.woc=function(c,g){return g.index === c.Hd.index?!0:(c=c.Ba.K.sx) && 0 !== c.length?c.some(function(f){f=f.sa;return g.sa.gn(f) && f.lessThan(g.za);}):!1;};b.J_c=function(c,g){return g.index === c.dd.index?!0:(c=c.Ba.K.sx) && 0 !== c.length?c.some(function(f){f=f.za;return g.sa.lessThan(f) && f.gn(g.za);}):!1;};b.Ibc=function(c,g,f,e){var h,l,k,m,p,r,q,u,v,w;n && c.trace("editFragmentForRegion, region:",f,"fragment:",g,"params:",e);q=null === (h=g.ma) || void 0 === h?void 0:h.start;h=null === (l=g.ma) || void 0 === l?void 0:l.end;v=l=!1;if((null === e || void 0 === e?0:e.Ooc) || (null === e || void 0 === e || !e.uoc) && g.sa.lessThan(f.sa)){if(u=g.yLa(f.sa.G)){w=(null !== (m=null === (k=g.ma) || void 0 === k?void 0:k.start) && void 0 !== m?m:0) + u.Gk;n && c.trace("editFragmentForRegion found sap at start:",u,"adjusted sampleIndex:",w);q=Math.max(null !== q && void 0 !== q?q:0,w);}u=f.sa.G;l=!0;}if((null === e || void 0 === e || !e.Hoc) && g.za.greaterThan(f.za)){if(u=g.yLa(f.za.G))(w=(null !== (r=null === (p=g.ma) || void 0 === p?void 0:p.start) && void 0 !== r?r:0) + u.Gk,n && c.trace("editFragmentForRegion found sap at end:",u,"adjusted sampleIndex:",w),h=Math.min(null !== h && void 0 !== h?h:Infinity,w),g.jY=g.index,n && c.trace("editFragmentForRegion editing end of region, reusing index:",g.index));u=f.za.G;v=!0;}if(void 0 !== q || void 0 !== h)(g.Gh({start:q,end:h}),n && c.trace("getFragmentForRequest setting edit window:",{start:q,end:h}));void 0 !== u && (!g.MC || u > g.MC) && (g.PZ(u),n && c.trace("getFragmentForRequest setting splice pts:",u));g.TGc(f.region,l,v);};d=a(91176);n=!1;},47317:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.lda=void 0;d=a(22970);n=a(77399);t=(function(){function c(g,f){this.ln=g;this.filter=f;this.qxb=Math.max(g.max_n || 10,0);this.reset();}c.prototype.reset=function(){this.kaa=[];this.offset=0;this.RC=this.zG=null;this.filter.reset();this.gca=null;};c.prototype.add=function(g,f,e){var h;h=this.RC;null !== h && e > h && (this.offset+=Math.max(f - h,0),this.RC=null);for((0,n.Fnc)(this.kaa,[f - this.offset,e - this.offset,g]);this.kaa && this.kaa.length > this.qxb;)(g=d.__read(this.kaa.shift(),3),this.filter.add(g[2],g[0],g[1]));this.gca=null;};c.prototype.get=function(g,f){var e,k;if(!this.gca){this.gca=this.filter.xs();try{for(var h=d.__values(this.kaa),l=h.next();!l.done;l=h.next()){k=d.__read(l.value,3);this.gca.add(k[2],k[0],k[1]);}}catch(p){var m;m={error:p};}finally{try{l && !l.done && (e=h.return) && e.call(h);}finally{if(m)throw m.error;}}}m=this.RC;return this.gca.get((null === m?g:m) - this.offset,f);};c.prototype.xs=function(){var g;g=new c(this.ln,this.filter.xs());g.RC=this.RC;g.offset=this.offset;return g;};c.prototype.start=function(g){var f;f=this.RC;null !== f && g > f && (this.offset+=g - f,this.RC=null);this.filter.start(g - this.offset);};c.prototype.stop=function(g){this.RC=null === this.RC?g:Math.min(this.RC,g);this.filter.stop(g - this.offset);};c.prototype.flush=function(){this.filter.flush();};c.prototype.toString=function(){return "AggregatingFilter(" + this.qxb + ", " + this.filter.toString() + ")";};return c;})();b.lda=t;},43276:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EL=void 0;t=(function(){var H66;H66=2;function a(){var u58;u58=2;for(;u58 !== 3;){switch(u58){case 4:var A3E="1S";A3E+="I";A3E+="YbZr";A3E+="NJ";A3E+="Cp9";A3E;u58=3;break;case 2:this.active=!1;this.PQ=this.ka=0;this.pI=this.vV=void 0;u58=4;break;}}}for(;H66 !== 9;){switch(H66){case 2:a.prototype.start=function(d){var t2F;t2F=2;for(;t2F !== 5;){switch(t2F){case 2:this.active=!0;this.vV?d < this.vV?(this.PQ+=this.vV - d,this.vV=d):this.pI && d > this.pI && (this.pI=this.vV=d):this.pI=this.vV=d;t2F=5;break;}}};a.prototype.stop=function(d){var C1g;C1g=2;for(;C1g !== 1;){switch(C1g){case 2:this.active && (this.active=!1,this.pI && d > this.pI && (this.PQ+=d - this.pI,this.pI=d));C1g=1;break;}}};a.prototype.add=function(d,n,c){var v9W;v9W=2;for(;v9W !== 4;){switch(v9W){case 2:this.start(n);this.stop(c);this.ka+=d;v9W=4;break;}}};a.prototype.get=function(){var U2f;U2f=2;for(;U2f !== 1;){switch(U2f){case 2:return {Da:this.PQ?Math.floor(8 * this.ka / this.PQ):null,kKa:this.PQ || 0};break;}}};return a;break;}}})();b.EL=t;},78416:function(t,b,a){var n,c;function d(g){this.xb={z9:g.maxc || 25,CIa:g.c || .5,sA:g.w || 15E3,Ii:g.b || 5E3};n.call(this,this.xb.sA,this.xb.Ii);this.J3();}n=a(72697).J0;c=a(15913).TDigest;d.prototype=Object.create(n.prototype);d.prototype.shift=function(){var g;g=this.vr(0);n.prototype.shift.call(this);null !== g && (this.tg.push(g,1),this.LH=!0);return g;};d.prototype.flush=function(){var g;g=this.get();this.tg.push(g,1);this.LH=!0;n.prototype.reset.call(this);return g;};d.prototype.get=function(){return this.Yrb();};d.prototype.KW=function(){var g;g=this.Yrb();return {min:g.min,p10:g.pTa,p25:g.av,p50:g.sr,p75:g.bv,p90:g.qTa,max:g.max,centroidSize:g.s4b,sampleSize:g.sampleSize,centroids:g.Tl};};d.prototype.Yrb=function(){var g;if(0 === this.tg.size())return null;g=this.tg.ak([0,.1,.25,.5,.75,.9,1]);if(g[2] === g[4])return null;if(this.LH || !this.Nd)(this.LH=!1,this.Nd={min:g[0],pTa:g[1],av:g[2],sr:g[3],bv:g[4],qTa:g[5],max:g[6],ak:this.tg.ak.bind(this.tg),s4b:this.tg.size(),sampleSize:this.tg.n,Tl:this.Tgc(),KW:this.KW.bind(this)});return this.Nd;};d.prototype.Tgc=function(){var g;if(0 === this.tg.size())return null;if(!this.LH && this.Nd)return this.Nd.centroids;g=this.tg.ak([.25,.75]);if(g[0] === g[1])return null;this.tg.size() > this.xb.z9 && this.tg.Qn();g=this.tg.aj(!1).map(function(f){return {mean:f.hh,n:f.n};});return JSON.stringify(g);};d.prototype.Srb=function(){return this.tg.summary();};d.prototype.size=function(){return this.tg.size();};d.prototype.toString=function(){return "btdtput(" + this.mZb + "," + this.fWb + "," + this.lZb + "): " + this.tg.summary();};d.prototype.J3=function(){this.tg=new c(this.xb.CIa,this.xb.z9);};t.exports={xNb:d};},20596:function(t,b,a){var n,c;function d(g,f,e,h){n.call(this,e,h);this.PA=new c(g);this.NXb=f;}n=a(72697).J0;c=a(16514);d.prototype=Object.create(n.prototype);d.prototype.shift=function(){var g;g=this.vr(0);n.prototype.shift.call(this);null !== g && this.PA.Fha(g);return g;};d.prototype.flush=function(){var g;g=this.get();this.PA.Fha(g);n.prototype.reset.call(this);return g;};d.prototype.get=function(){var g;g=this.m7();return {sampleSize:this.v7(),MTa:g,lpa:g.sr?(g.bv - g.av) / g.sr:void 0};};d.prototype.v7=function(){return this.PA.v7();};d.prototype.m7=function(){return this.PA.v7() < this.NXb?{av:void 0,sr:void 0,bv:void 0,sampleSize:void 0,ak:void 0}:{av:this.PA.S4(25),sr:this.PA.S4(50),bv:this.PA.S4(75),sampleSize:this.PA.v7(),ak:this.PA.S4.bind(this.PA)};};d.prototype.toString=function(){return "biqr(" + this.mZb + "," + this.fWb + "," + this.lZb + ")";};t.exports={wNb:d};},56089:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.P1a=void 0;d=a(22970);n=a(43276);t=(function(){var M0v;M0v=2;for(;M0v !== 8;){switch(M0v){case 2:var G46="no-";G46+="pbci";G46+="d-";G46+="key";c.prototype.add=function(g,f,e,h,l){var w8c,k;w8c=2;for(;w8c !== 9;){switch(w8c){case 2:k=this.iZ;l=l || c.mpa;w8c=5;break;case 5:void 0 === k[h] && (k[h]={});void 0 === k[h][l] && (k[h][l]=new n.EL());k[h][l].add(g,f,e);w8c=9;break;}}};c.prototype.start=function(g,f,e){var B_7,h;B_7=2;for(;B_7 !== 9;){switch(B_7){case 4:void 0 === h[f][e] && (h[f][e]=new n.EL());h[f][e].start(g);B_7=9;break;case 2:h=this.iZ;e=e || c.mpa;void 0 === h[f] && (h[f]={});B_7=4;break;}}};c.prototype.stop=function(g,f,e){var T5_,h;T5_=2;for(;T5_ !== 4;){switch(T5_){case 2:h=this.iZ;e=e || c.mpa;void 0 !== h[f] && void 0 !== h[f][e] && h[f][e].stop(g);T5_=4;break;}}};c.prototype.get=function(){var T7w,f,e,h,l,k,h_g,m,p,G5R,v0I,m0C;T7w=2;for(;T7w !== 4;){switch(T7w){case 7:return l;break;case 5:return l;break;case 2:(e=this,h=Object.keys(this.iZ).map(function(q){var M_e;M_e=2;for(;M_e !== 1;){switch(M_e){case 2:return parseInt(q);break;}}}),l=[],k=this);try{h_g=2;for(;h_g !== 3;){switch(h_g){case 7:h_g=~p.done?7:1;break;case 1:h_g=!p.done?5:3;break;case 14:p=m.next();h_g=8;break;case 5:g(p.value);h_g=4;break;case 2:(m=d.__values(h),p=m.next());h_g=1;break;case 4:p=m.next();h_g=1;break;}}}catch(q){var r;r={error:q};}finally{G5R=2;for(;G5R !== 1;){switch(G5R){case 2:try{v0I=2;for(;v0I !== 1;){switch(v0I){case 2:p && !p.done && (f=m.return) && f.call(m);v0I=1;break;}}}finally{m0C=2;for(;m0C !== 5;){switch(m0C){case 1:throw r.error;m0C=5;break;case 2:m0C=r?1:5;break;}}}G5R=1;break;}}}T7w=5;break;}}function g(q){var X27;X27=2;for(;X27 !== 1;){switch(X27){case 2:Object.keys(k.iZ[q]).forEach(function(u){var D5t,v;D5t=2;for(;D5t !== 5;){switch(D5t){case 2:v=e.iZ[q][u].get();v && l.push({cdnid:q,pbcid:u === c.mpa?null:u,avtp:v.Da,tm:v.kKa});D5t=5;break;}}});X27=1;break;}}}};c.mpa=G46;return c;break;}}function c(){var k5X;k5X=2;for(;k5X !== 5;){switch(k5X){case 2:var b49="1S";b49+="IYbZ";b49+="r";b49+="NJCp9";this.iZ={};b49;k5X=5;break;}}}})();b.P1a=t;},71409:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.b2a=void 0;d=a(22970);t=a(66164);n=a(15913);new t.platform.Console("ASEJS_TDIGEST_FILTER","media|asejs");a=(function(){function c(g){this.config=g;this.EIa=g.c;this.zRa=g.d1c;this.g9=g.g9;this.N7=g.N7;this.Sma=g.Sma;this.AHc=g.zXc;this.$y=g.$y;this.pxb=g.pxb;this.reset();}c.prototype.reset=function(){this.Jk=new n.TDigest(this.EIa,this.zRa);this.time=null;};c.prototype.add=function(g,f,e){var h,l,k,r;e=Math.max(e - f,1);g=8 * g / e;if(this.AHc){null === this.time && (this.time=f);l=Math.pow(2,(f - this.time) / this.$y);k=e * l;if(l >= this.pxb){k=new n.TDigest(this.EIa,this.zRa);try{for(var m=d.__values(this.Jk.aj()),p=m.next();!p.done;p=m.next()){r=p.value;k.push(r.hh,r.n / l);}}catch(u){var q;q={error:u};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(q)throw q.error;}}this.Jk=k;k=e;this.time=f;}this.Jk.push(g,k);}else this.Jk.push(g,e);};c.prototype.get=function(){var g;g=this.Jk.ak([this.g9,this.N7,this.Sma]);return {low:g[0] || 0,high:g[1] || 0,initial:g[2] || 0};};c.prototype.xs=function(){var g,f,e,k;f=new c(this.config);e=new n.TDigest(this.EIa,this.zRa);try{for(var h=d.__values(this.Jk.aj()),l=h.next();!l.done;l=h.next()){k=l.value;e.push(k.hh,k.n);}}catch(p){var m;m={error:p};}finally{try{l && !l.done && (g=h.return) && g.call(h);}finally{if(m)throw m.error;}}f.Jk=e;return f;};c.prototype.flush=function(){};c.prototype.start=function(){};c.prototype.stop=function(){};return c;})();b.b2a=a;},8239:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.K2a=b.UOb=b.J2a=b.vPb=b.VOb=void 0;d=a(22970);n=a(51117);a=(function(){return function(){};})();b.VOb=a;c=(function(){function g(f,e,h,l,k){this.alpha=f;this.Da=e;this.weight=l;this.BCa=h * this.weight;this.hca=k;}g.prototype.xs=function(){return new g(this.alpha,this.Da,this.Zf,this.weight,this.hca);};Object.defineProperties(g.prototype,{Zf:{get:function(){return this.weight?this.BCa / this.weight:0;},enumerable:!1,configurable:!0}});g.prototype.update=function(f,e,h){var l,k,m,p;l=this.alpha;k=this.weight;m=this.hca;p=l * (f - m);5 < p && (this.weight/=Math.exp(p),this.hca=m=f);f=Math.exp(l * (e - m)) - Math.exp(l * (f - m));e=this.weight+=f;l=this.Da;this.Da=m=l + f * (h - l) / e;this.BCa=k?this.BCa * (e - f) / k + f * (h - m) * (h - l):0;};return g;})();b.vPb=c;t=(function(){function g(f){var R9v,e,h;R9v=2;for(;R9v !== 7;){switch(R9v){case 2:this.ln=f;R9v=1;break;case 1:var V4B="1";V4B+="SIY";V4B+="bZrNJCp";V4B+="9";V4B;(e=f.min_b,h=f.min_iv);this.$y=f.hl;R9v=3;break;case 3:this.cyb=e;this.Wtc=h;this.reset();R9v=7;break;}}}var a$7;a$7=2;for(;a$7 !== 14;){switch(a$7){case 4:g.prototype.add=function(f,e,h){var f7T=U7QY0;var h4Y,l;h4Y=2;for(;h4Y !== 7;){switch(h4Y){case 2:l=this.zv;this.zv=null === l?e:Math.min(l,e);l=this.zG;this.zG=null === l?h:Math.max(l,h);f7T.x0M(0);l=Math.max(f7T.S7f(e,h),1);f7T.T$6(1);this.BR.update(e,h,f7T.F8S(f,l));f7T.T$6(2);this.CR.update(e,h,f7T.S7f(f,8,l));h4Y=7;break;}}};g.prototype.get=function(f,e){var Z1u=U7QY0;var Q3s,q,u,v,h,l,k,m,p,r;Q3s=2;for(;Q3s !== 16;){switch(Q3s){case 4:void 0 === e && (e=this.cyb);k >= m && (e=Math.min(e,this.cyb));m=e * p.Da;Z1u.T$6(3);var O_$=Z1u.S7f(10,6,7,13,14);q=Math.pow(e,O_$) * p.Zf;Q3s=7;break;case 1:Q3s=0 < k?5:17;break;case 12:(u=new n.wea(m,q).l4b(k),v=m - u[1]);Z1u.T$6(4);var g2x=Z1u.F8S(6,3,21);u=g2x - u[0];Q3s=10;break;case 14:Z1u.x0M(0);p.update(Z1u.F8S(h,l),Z1u.F8S(h,f,Z1u.T$6(0)),Z1u.F8S(e,k,Z1u.x0M(1)));Q3s=13;break;case 20:f=p.weight;e=r.weight;return {Da:f?p.Da:null,Zf:f?p.Zf:null,IU:e?r.Da:null,M_:e?r.Zf:null};break;case 17:(p=this.BR,r=this.CR);Q3s=20;break;case 13:Z1u.T$6(0);r.update(Z1u.F8S(h,l),Z1u.S7f(h,f),0);Q3s=20;break;case 10:k=1E-11 < u?Math.max(v / u,k):k + 2 * q / m;Q3s=14;break;case 6:k=Math.max(k,m);Q3s=14;break;case 5:Q3s=(p=new c(p.alpha,p.Da,p.Zf,p.weight,p.hca),r=new c(r.alpha,r.Da,r.Zf,r.weight,r.hca),0 < p.weight && 0 !== e)?4:20;break;case 2:(h=this.zv || 0,l=this.zG || 0,k=f - l,m=this.Wtc,p=this.BR,r=this.CR);Q3s=1;break;case 7:Q3s=0 === q?6:12;break;}}};g.prototype.toString=function(){var B00;B00=2;for(;B00 !== 1;){switch(B00){case 2:var m2C="D";m2C+="eliver";m2C+="y";m2C+="Dist";m2C+="(";return m2C.concat(this.$y,")");break;case 4:return (")").concat(this.$y,")");break;}}};g.prototype.stop=function(){};g.prototype.flush=function(){};return g;break;case 2:g.prototype.xs=function(f){var m$i;m$i=2;for(;m$i !== 8;){switch(m$i){case 2:f || (f=new g(this.ln));f.zv=this.zv;f.zG=this.zG;f.BR=this.BR.xs();m$i=3;break;case 3:f.CR=this.CR.xs();return f;break;}}};g.prototype.reset=function(){var W7j,f;W7j=2;for(;W7j !== 3;){switch(W7j){case 2:f=-Math.log(.5) / this.$y;this.BR=new c(f,0,0,0,0);this.CR=new c(f,0,0,0,0);W7j=4;break;case 4:this.zv=this.zG=null;W7j=3;break;}}};g.prototype.start=function(f){var F8B;F8B=2;for(;F8B !== 1;){switch(F8B){case 2:null === this.zv && (this.zv=f);F8B=1;break;}}};a$7=4;break;}}})();b.J2a=t;a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}d.__extends(f,g);return f;})(a);b.UOb=a;t=(function(g){function f(e){var h;h=g.call(this,e) || this;h.ln=e;return h;}d.__extends(f,g);f.prototype.get=function(){var e,h,l;if(0 === this.BR.weight || 0 === this.CR.weight)return {low:null,high:null,initial:null};switch(this.ln.XX){case "deliverytime":e=this.BR;e=new n.wea(e.Da,e.Zf);(h=this.ln.accuracy,l=this.ln.Psc);return {low:8 / e.EQ(this.ln.N7,h,l),high:8 / e.EQ(this.ln.g9,h,l),initial:8 / e.EQ(this.ln.Sma,h,l)};default:return (e=this.CR,e=new n.wea(e.Da,e.Zf),h=this.ln.accuracy,l=this.ln.Psc,{low:e.EQ(this.ln.g9,h,l),high:e.EQ(this.ln.N7,h,l),initial:e.EQ(this.ln.Sma,h,l)});}};f.prototype.xs=function(){var e;e=new f(this.ln);g.prototype.xs.call(this,e);return e;};f.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.ln.g9,this.ln.N7),"])");};return f;})(t);b.K2a=t;},28855:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.swa=b.cOb=b.S2a=void 0;d=a(22970).__importDefault(a(17267));t=(function(){function c(g,f){void 0 === f && (f=0);this.initial=f;this.reset();this.NGc(g);}c.prototype.NGc=function(g){this.alpha=Math.pow(.5,1 / g);this.$y=g;};c.prototype.reset=function(g){g && void 0 !== g.Da && d.default.ec(g.Da)?(this.count=this.initial,this.Da=g.Da,g.Zf && d.default.ec(g.Zf)?this.cI=g.Zf + g.Da * g.Da:this.cI=g.Da * g.Da):this.cI=this.Da=this.count=0;};c.prototype.add=function(g){var f;if(d.default.ec(g)){this.count++;f=this.alpha;this.Da=f * this.Da + (1 - f) * g;this.cI=f * this.cI + (1 - f) * g * g;}};c.prototype.yNa=function(){var g,f;if(0 === this.count)return {Da:0,Zf:0};g=1 - Math.pow(this.alpha,this.count);f=this.Da / g;return {Da:f,Zf:Math.max(this.cI / g - f * f,0)};};c.prototype.get=function(){var g;g=this.yNa();return {Da:Math.floor(g.Da),Zf:Math.floor(g.Zf)};};c.prototype.getState=function(){return 0 === this.count?null:{a:Number(this.Da.toPrecision(6)),s:Number(this.cI.toPrecision(6)),n:this.count};};c.prototype.Bi=function(g){if(d.default.cd(g) || !d.default.has(g,"a") || !d.default.has(g,"s") || !d.default.isFinite(g.a) || !d.default.isFinite(g.s))return (this.cI=this.Da=this.count=0,!1);this.Da=g.a;this.cI=g.s;d.default.has(g,"n") && d.default.ec(g.n)?this.count=g.n:this.count=16 * this.$y;return !0;};return c;})();b.S2a=t;n=(function(){function c(g){this.setInterval(g);this.reset();}c.prototype.setInterval=function(g){this.$y=g;this.alpha=-Math.log(.5) / g;};c.prototype.reset=function(g){this.TB=this.startTime=null;this.Da=g && d.default.isFinite(g.Da)?g.Da:0;};c.prototype.start=function(g){d.default.cd(this.startTime) && (this.startTime=g);d.default.cd(this.TB) && (this.TB=g);};c.prototype.add=function(g,f,e){var h,l,k;d.default.cd(this.startTime) && (this.startTime=f);d.default.cd(this.TB) && (this.TB=f);this.startTime=Math.min(this.startTime,f);f=Math.max(e - f,1);h=this.alpha;l=Math.max(e,this.TB);k=l - this.TB;e=l - e;this.Da=this.Da * (0 < k?Math.exp(-h * k):1) + 8 * g / f * (1 - Math.exp(-h * f)) * (0 < e?Math.exp(-h * e):1);this.TB=l;};c.prototype.get=function(g){var f,e;f=d.default.cd(this.TB)?0:this.TB;e=d.default.cd(this.startTime)?0:this.startTime;g=Math.max(g,f);f=this.Da * Math.exp(-this.alpha * (g - f));g=1 - Math.exp(-this.alpha * (g - e));0 < g && (f/=g);return {Da:Math.floor(f),Zf:0};};c.prototype.toString=function(){return "ewma(" + this.$y + ")";};Object.defineProperties(c.prototype,{time:{get:function(){return this.TB;},enumerable:!1,configurable:!0}});return c;})();b.cOb=n;t=(function(){function c(g){this.xO=new n(g);this.offset=0;this.Nr=null;}c.prototype.setInterval=function(g){this.xO.setInterval(g);};c.prototype.reset=function(g){this.xO.reset(g);this.offset=0;this.Nr=null;};c.prototype.start=function(g){!d.default.cd(this.Nr) && g > this.Nr && (this.offset+=g - this.Nr,this.Nr=null);this.xO.start(g - this.offset);};c.prototype.add=function(g,f,e){!d.default.cd(this.Nr) && e > this.Nr && (this.offset+=f > this.Nr?f - this.Nr:0,this.Nr=null);this.xO.add(g,f - this.offset,e - this.offset);};c.prototype.stop=function(g){var f;f=this.xO.time;this.Nr=Math.max(d.default.cd(f)?0:f + this.offset,d.default.cd(this.Nr)?g:Math.min(this.Nr,g));};c.prototype.get=function(g){return this.xO.get((this.Nr?this.Nr:g) - this.offset);};c.prototype.toString=function(){return this.xO.toString();};return c;})();b.swa=t;},97315:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;function d(x,y){switch(x.type){case "slidingwindow":return new u.nM(y,new h.R2a(x.mw));case "discontiguous-ewma":return new u.nM(y,new e.swa(x.mw));case "initial-discontiguous-ewma":return new r.q$a(new e.swa(x.mw),x.playerStates);case "wssl":return new h.pdb(x.mw,x.max_n);case "iqr":return new k.wNb(x.mx,x.mn,x.bw,x.iv);case "tdigest":return new m.xNb(x);case "ci":return new u.nM(y,new q.lda(x,new v.b2a(x)));case "discrete-ewma":return new e.S2a(x.hl);case "tdigest-history":return new c.Ubb(x);case "iqr-history":return new g.default();case "avtp":return new w.EL();case "entropy":return new p.p8a(x);case "deliverytime":return new u.nM(y,new q.lda(x,new l.J2a(x)));case "deliverytime-ci":return new u.nM(y,new q.lda(x,new l.K2a(x)));}}Object.defineProperties(b,{__esModule:{value:!0}});b.fxa=void 0;n=a(22970);c=a(88318);g=n.__importDefault(a(21506));f=a(54520);e=a(28855);h=a(34391);l=a(8239);k=a(20596);m=a(78416);p=a(72869);r=a(82583);q=a(47317);u=a(66917);v=a(71409);w=a(43276);t=(function(){function x(y){this.config=y;this.EWb=y.Rdb;}x.prototype.create=function(y,A){A=A[y];A=n.__assign(n.__assign({},this.EWb[y]),A);y=A.type;if(!y)return {type:"none"};A=d(A,this.config);return (0,f.Cpa)(A,{type:y});};return x;})();b.fxa=t;},96965:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.o8a=void 0;t=a(66164);d=a(65161);new t.platform.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function n(c,g){this.config=c;this.Lpa=g;this.x_=this.qI=this.ka=0;this.reset();}Object.defineProperties(n.prototype,{duration:{get:function(){return this.qI + this.x_;},enumerable:!1,configurable:!0}});n.prototype.reset=function(){this.confidence=d.lM.HAVE_NOTHING;this.ka=0;this.startTime=void 0;this.x_=this.qI=0;};n.prototype.xs=function(){var c;c=new n(this.config,this.Lpa);c.confidence=this.confidence;c.ka=this.ka;c.startTime=this.startTime;c.qI=this.qI;c.x_=this.x_;return c;};n.prototype.add=function(c,g,f){void 0 === this.startTime && (this.startTime=g);this.ka+=c;this.qI=Math.max(f - this.startTime,this.qI);this.confidence=Math.max(this.confidence,d.lM.SS);this.confidence < d.lM.RS && (this.duration > this.config.Ooa || this.ka > this.config.Noa) && (this.confidence=d.lM.RS);this.confidence < d.lM.U0 && (this.duration > this.config.cra || this.ka > this.config.bra) && (this.confidence=d.lM.U0,this.Lpa());};n.prototype.get=function(){return this.confidence;};n.prototype.start=function(){};n.prototype.stop=function(){this.config.ZIc && (this.x_+=this.qI,this.qI=0,this.startTime=void 0);};n.prototype.flush=function(){};return n;})();b.o8a=a;},72869:function(t,b,a){var n,c,g,f,e,h;function d(l){l=l.length + 1;for(var k=Array(l),m=0;m < l;m++){k[m]=Array(l);for(var p=0;p < l;p++)k[m][p]=0;}return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.p8a=void 0;n=a(22970);t=a(66164);c=a(72697);g=a(94451);f=a(51044);e=a(48170);h=new t.platform.Console("ASEJS_NETWORK_ENTROPY","media|asejs");a=(function(l){function k(m){var p;p=l.call(this,m.sw,m.mw) || this;p.sA=m.sw;p.Ii=m.mw;p.K4={uhd:(0,f.writable)(m.uhdl),hd:(0,f.writable)(m.hdl)};p.window=Math.max(Math.ceil(1 * p.sA / p.Ii),1);p.Xtc=m.mins || 1;p.reset();return p;}n.__extends(k,l);k.prototype.flush=function(){var m;m=this;this.Gg.map(function(p,r){m.xgb(p,m.bMa(r));});};k.prototype.m3b=function(){var m,p,r,q,u,v,w,z;m=this.K4;for(p in m){e.u && h.trace(("Calculating Network Entropy based on ").concat(p," bitrate ladder (").concat(JSON.stringify(m[p]),")"));r=m[p];q=this.AJb[p];u=this.yJb[p];if(q.first){v=q.first;w=q.rx;void 0 !== w && (u[v][w]+=1);q.first=void 0;}e.u && h.trace(("Transition Matrix: ").concat(this.Abc(u)));q=[];v=r=r.length + 1;for(var x=w=0;x < v;x++){for(var y=0,A=0;A < r;A++)y+=u[A][x];w+=y;q.push(y);}e.u && h.trace(("steadyStateVector: ").concat(JSON.stringify(q)));y=-1;if(w > this.Xtc){for(x=y=0;x < v;x++)if(0 < q[x])for(A=0;A < r;A++){z=u[A][x];0 < z && (y-=z * Math.log(1 * z / q[x]));}y/=w * Math.log(2);}e.u && h.trace(("entropy: ").concat(y));this.Cnb[p]=y;}return this.Cnb;};k.prototype.xgb=function(m,p){var u,v,w;for(var r=this.window,q=this.K4;this.cka.length >= r;)this.cka.shift();for(;this.dka.length >= r;)this.dka.shift();this.cka.push(m);this.dka.push(p);m=(0,g.jYa)(this.cka);p=(0,g.jYa)(this.dka);if(0 < p)for(p in (m=8 * m / p,e.u && h.trace(("Adding sliding window throughput into Transition Matrix: ").concat(m)),p=void 0,q)){r=this.AJb[p];u=this.yJb[p];v=this.DBc(m,q[p]);w=r.rx;void 0 !== w?u[v][w]+=1:r.first=v;r.rx=v;}};k.prototype.DBc=function(m,p){for(var r=0;r < p.length && m > p[r];)r+=1;return r;};k.prototype.shift=function(){this.xgb(this.Gg[0],this.bMa(0));l.prototype.shift.call(this);};k.prototype.reset=function(){this.cka=[];this.dka=[];void 0 !== this.K4 && (this.Cnb={hd:0,uhd:0},this.AJb={hd:{first:void 0,rx:void 0},uhd:{first:void 0,rx:void 0}},this.yJb={hd:d(this.K4.hd),uhd:d(this.K4.uhd)},l.prototype.reset.call(this));};k.prototype.Abc=function(m){for(var p="",r=m.length,q=0;q < r;q++){for(var u=0;u < r;u++)p+=" " + m[q][u];p+="\n";}return p;};return k;})(c.J0);b.p8a=a;},66917:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.nM=void 0;new (a(66164).platform.Console)("ASEJS_PACING_FILTER","media|asejs");t=(function(){function d(n,c){this.config=n;this.filter=c;}d.prototype.xs=function(){return new d(this.config,this.filter);};d.prototype.GHc=function(n,c,g,f){var e,h,l;l=f.bR;if(!l || !l.mna())return !0;switch(this.config.Rmc){case "requested":return !1;case "requested-low":return (l=l.cWa(this.config.xKa),l.hyb() > ((null === (e=f.xx) || void 0 === e?void 0:e.mK) || 0));case "inferred":l=l.cWa(this.config.xKa);n=l.vRa(n,c,g,this.config.x$);if(!n)break;return l.hyb() > ((null === (h=f.xx) || void 0 === h?void 0:h.mK) || 0);case "inferred-strict":if((l=l.cWa(this.config.xKa),l.vRa(n,c,g,this.config.x$)))return !1;}return !0;};d.prototype.add=function(n,c,g,f){this.GHc(n,c,g,f) && this.filter.add(n,c,g,f);};d.prototype.get=function(n){if(this.filter.get)return this.filter.get(n);};d.prototype.start=function(n){this.filter.start && this.filter.start(n);};d.prototype.stop=function(n){this.filter.stop && this.filter.stop(n);};d.prototype.flush=function(){this.filter.flush && this.filter.flush();};d.prototype.reset=function(n){this.filter.reset && this.filter.reset(n);};return d;})();b.nM=t;},82583:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.q$a=void 0;t=(function(){function a(d,n){this.mk=0;this.filter=d;this.Iqa=n;this.mk=0;}a.prototype.u9=function(d){return 0 < this.Iqa.filter(function(n){var c;return n === (null === (c=d.xx) || void 0 === c?void 0:c.Lg);}).length;};a.prototype.add=function(d,n,c,g){this.u9(g) && this.filter.add(d,n,c,g);};a.prototype.start=function(d,n){this.filter.start && this.u9(n) && this.filter.start(d);};a.prototype.stop=function(d,n){this.filter.stop && this.u9(n) && this.filter.stop(d);};a.prototype.get=function(d){if(this.filter.get)return this.filter.get(d);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.mk=0;this.filter.reset && this.filter.reset();};a.prototype.BC=function(d,n){this.u9(n) && (this.mk+=1,this.filter.BC && this.filter.BC(d,n));};a.prototype.CC=function(d,n,c){this.u9(c) && (this.mk=Math.max(this.mk - 1,0),0 === this.mk && this.stop(d,c),this.filter.CC && this.filter.CC(d,c));};return a;})();b.q$a=t;},34391:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.pdb=b.R2a=b.bOb=void 0;a=(function(){function d(n){this.sA=n;this.reset();}d.prototype.Ueb=function(n,c){this.K7() && (this.xv+=n,this.Ig+=n,this.ka+=c,this.Tf.push({ka:c,Ig:n}));};d.prototype.B3=function(){var n;for(;this.Ig > this.sA;){n=this.Tf.shift();this.ka-=n.ka;this.Ig-=n.Ig;}};d.prototype.K7=function(){return !isNaN(this.xv);};d.prototype.reset=function(){this.Tf=[];this.xv=NaN;this.Ig=this.ka=0;};d.prototype.setInterval=function(n){this.sA=n;this.B3();};d.prototype.start=function(n){this.K7() || (this.xv=n);};d.prototype.add=function(n,c,g){this.K7() || (this.xv=c);c > this.xv && this.Ueb(c - this.xv,0);this.Ueb(g > this.xv?g - this.xv:0,n);this.B3();};d.prototype.get=function(){return {Da:Math.floor(8 * this.ka / this.Ig),Zf:0};};return d;})();b.bOb=a;t=(function(){function d(n){this.$J=0;this.fA=NaN;this.window=new a(n);}d.prototype.reset=function(){this.window.reset();this.$J=0;this.fA=NaN;};d.prototype.add=function(n,c,g){this.uEa() && g > this.fA && (c > this.fA && (this.$J+=c - this.fA),this.fA=NaN);this.window.add(n,c - this.$J,g - this.$J);};d.prototype.start=function(n){this.uEa() && n > this.fA && (this.$J+=n - this.fA,this.fA=NaN);this.window.start(n - this.$J);};d.prototype.stop=function(n){this.fA=this.uEa()?Math.min(n,this.fA):n;};d.prototype.get=function(){return this.window.get();};d.prototype.setInterval=function(n){this.window.setInterval(n);};d.prototype.uEa=function(){return !isNaN(this.fA);};return d;})();b.R2a=t;t=(function(){function d(n,c){this.sA=n;this.Bxb=c;this.reset();}d.prototype.reset=function(){this.Tf=[];this.ka=this.Ig=0;};d.prototype.add=function(n,c,g,f){f && (c=g - c,this.Ig+=c,this.ka+=n,this.Tf.push({Ig:c,ka:n}),this.B3());};d.prototype.start=function(){};d.prototype.stop=function(){};d.prototype.get=function(){return {Da:Math.floor(8 * this.ka / this.Ig),Zf:0};};d.prototype.setInterval=function(n,c){this.sA=n;this.Bxb=c;this.B3();};d.prototype.B3=function(){var n;for(;this.Ig > this.sA || this.Tf.length > this.Bxb;){n=this.Tf.shift();this.ka-=n.ka;this.Ig-=n.Ig;}};return d;})();b.pdb=t;},8934:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.z8a=b.DPb=void 0;d=a(22970);n=a(66164);c=a(6198);g=a(48170);f=a(52045);e=a(69575);t=(function(){return function(h,l,k,m){this.config=l;this.kl=m;m="[" + h + "]";this.console=(0,e.rf)(n.platform,k,m);this.eyb=h === c.v.V?l.Loa:l.Hoa;k=n.platform.LW()[h];this.y9=h === c.v.V?l.etc:l.Jsc;this.y9=Math.min(l.Tsc * k,this.y9);g.u && this.console.trace("This pipeline's buffer size ",k,this.y9);this.Koa=(h === c.v.V?l.$B:l.Bz) || l.Koa;this.roa=(h === c.v.V?l.dtc:l.Isc) || l.roa;this.AGa=l.AGa;};})();b.DPb=t;t=(function(h){function l(k,m,p,r){return h.call(this,k,m,p,r) || this;}d.__extends(l,h);l.prototype.pqb=function(k,m,p,r){var q,u,v,w,x,y,A,z,B;void 0 === p && (p=!1);void 0 === r && (r=!1);v=this.kl;w=k.O.yPa();x=v.Hd.index;y=v.dd.index;A=m === x;z=m === y;if(!z || A && v.Hd.ma){if(A){B=k.jqb(v.Hd);B.PZ(v.Hd.MC);z && (v.Hd.ma || v.dd.ma) && B.Gh({start:null === (q=B.ma) || void 0 === q?void 0:q.start,end:null === (u=v.dd.ma) || void 0 === u?void 0:u.end});}else B=k.Hs(m);}else (B=k.jqb(v.dd),B.PZ(v.dd.MC));B.jY=m + 1;if(q=(0,f.Xjc)(v,v.ul))(g.u && v.trace("getFragmentForRequest pts:",v.ul,"in region:",q,"previous region:",v.sQa),u=void 0 === v.sQa || v.sQa !== q.region,(0,f.Ibc)(v.console,B,q,{uoc:A,Hoc:z,Ooc:u}));z && (B.kxb(),B.$Wa(v.Ba.K));A && B.zsc();if(B.jY !== m && !w && (this.AGa || !B.ma) && (!p || m > x + 1) && (!r || m < y - 2))for((p=r?y - 1:y,++m);m < k.La.length && m < p && (B.ka < this.eyb || B.Rb.G < this.Koa) && (1 === B.stream.pj.length || this.Y3b(k,m));++m){r=k.Hs(m);if((0,f.woc)(v,r))break;if(B.Rb.add(r.Rb).G > this.roa)break;if(B.ka + r.ka > this.y9)break;B.wGa(r);B.jY=m + 1;g.u && v.trace("getFragmentForRequest: extended fragment startPts:",B.sa.G,"to duration:",B.Rb.G,"size:",B.ka,"min request size:",this.eyb,"max request size:",this.y9,"min request duration:",this.Koa,"max request duration:",this.roa,"edit:",B.ma);}g.u && v.trace("getFragmentForRequest(" + m + ") returning:",B,"stream:",B.stream,"firstRequestInRegion:",B.JLa,"lastRequestInRegion:",B.qz,"nextIndex:",B.jY);return B;};l.prototype.Y3b=function(k,m){return !k.pj.some(function(p){return m === p.ef;});};return l;})(t);b.z8a=t;},65077:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.wnb=b.KI=b.Hu=b.Gla=void 0;d=a(91176);n=a(50468);c=a(65161);g=a(52571);f=a(8171);e=a(8149);b.Gla=function(h,l){return h.$E(l,void 0,!0);};b.Hu=function(h,l,k,m,p,r){var q,u,v,w;f.Gv.CB(h);if((0,e.Xj)(k)){q=k.P;u=k.track.un;v=k.track.Yk.Rc(q);l=void 0;v=u + Math.floor(m.bf(v));r || h !== c.v.X || (v=Math.max(u,v - 1));w=k.track.Ju(v);u=w.sa;w=w.za;r && h === c.v.X && p && p.O === k.O && p.index === v && w === p.za && (++v,p=k.track.Ju(v),u=p.sa,w=p.za);r && (h === c.v.X || h === c.v.V) && u.lessThan(m) && (h=Math.floor(m.add(d.I.kx).ca(u).bf(k.Ea)),0 < h && (l={start:h}));(0,g.assert)(u.P === q,"Expected fragment start timestamp to be in stream timescale");(0,g.assert)(w.P === q,"Expected fragment end timestamps to be in stream timescale");k=new n.bq(k,void 0,{index:v,tb:u.ia,Ib:w.ia,P:q,offset:0,ka:0});l && k.Gh(l);return k;}(0,g.assert)(k.La,"findFirstFragment called without stream fragments");q=k.La;h === c.v.X && !r && k.wh && !l.WH && k.ee && (m=m.add(k.ee));m=d.I.max(k.La.lb,m);v=(0,b.Gla)(q,m.G);u=k.Hs(v);if(u.za.lessThan(m))return u;(w=u.Tec(m.G))?(0 < w.Gk && u.Gh({start:w.Gk}),h !== c.v.X || l.I9 || (0 > w.re && u.Gh({start:w.Gk}),w.re < (k.wh && !l.WH && k.ee?Math.floor(k.ee.G):0) && u.sKa())):m.G >= u.za.G && v < q.length - 1 && (u=k.Hs(v + 1));h === c.v.V && p && u.za.equal(p.za) && v < q.length - 1 && (u=k.Hs(v + 1));h === c.v.X && !u.ma && (l.Qtb || l.Hbc) && r && u.Gh({});u.PZ(m.G);return u;};b.KI=function(h,l,k,m,p,r){var q,u;f.Gv.CB(h);if((0,e.Xj)(k)){u=r=q=Infinity;l=void 0;p=k.P;if(void 0 !== m && m.isFinite()){q=k.track.un;r=k.track.Yk.Rc(p);q+=Math.floor(m.cuc().bf(r));u=k.track.Ju(q);r=u.sa;u=u.za;if(h === c.v.V?r.add(k.Ea).pf(m.add(d.I.kx)):r.pf(m))(--q,u=k.track.Ju(q),r=u.sa,u=u.za);(0,g.assert)(r.lessThan(m),"Last fragment expected to start before end point");h === c.v.X && (0,g.assert)(u.pf(m),"Last audio fragment expected to end at or after end point");h === c.v.V && (0,g.assert)(u.greaterThan(m.ca(k.Ea)),"Last video fragment expected to end later than one frame before end point");h !== c.v.X && h !== c.v.V || !u.greaterThan(m) || (m=m.add(d.I.kx).ca(r).bf(k.Ea),h=h === c.v.V?Math.floor(m):Math.ceil(m),h < u.ca(r).bf(k.Ea) && (l={start:0,end:h}));r=r.ia;u=u.ia;}k=new n.bq(k,void 0,{index:q,tb:r,Ib:u,P:p,offset:0,ka:0});l && k.Gh(l);return k;}q=k.La;m || (m=q.Ub);if(p && (p=p.Iec(k,m.G,h,l,r)))return p;p=q.Ea;r=d.I.min(m.add((0,b.wnb)(h,p,l.cR,l.HZ)),q.Ub);q=q.$E(r.G,void 0,!0);p=k.Hs(q);0 === q || !p.sa.equal(m) || h !== c.v.V && l.cR || (--q,p=k.Hs(q));r=h === c.v.V?r:m;r.G < p.za.G && ((u=p.yLa(r.G)) && 0 !== u.Gk?p.Gh({end:u.Gk}):h === c.v.X && (u || r.lessThan(p.sa)) && 0 !== q?p=k.Hs(q - 1):h !== c.v.V || k.coc && !u || 0 === q || (p=k.Hs(q - 1)));h === c.v.X && !p.ma && l.Qtb && p.Gh();p.PZ(m.G);return p;};b.wnb=function(h,l,k,m){return h === c.v.V || m?d.I.fa:k?l || d.I.fa:l?l.Jg(-1):d.I.fa;};},97757:function(t,b,a){var n,c,g,f,e,h;function d(l,k){return l - k;}Object.defineProperties(b,{__esModule:{value:!0}});b.JPb=void 0;b.xW=function(l,k){var m;if(!f)return l;m=new h(l.name,k);return (function(p){function r(){for(var q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];q=p.apply(this,n.__spreadArray([],n.__read(q),!1)) || this;q.vpb=m.R8b(q);return q;}n.__extends(r,p);return r;})(l);};n=a(22970);c=a(66164);g=a(48170);f="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).FPb;h=(function(){function l(k,m){this.name=k;this.FIa=m;this.mJ=[];this.Lnc=0;}Object.defineProperties(l,{console:{get:function(){e || (e=new c.platform.Console("GCTAGGER"));return e;},enumerable:!1,configurable:!0}});l.prototype.R8b=function(k){var m,p;if(f){m=this.FIa;m || (m=l.console);if(!k.vpb && "undefined" !== typeof nrdp){k={type:this.name,id:this.Lnc++};this.mJ.push(k.id);p=JSON.stringify(k);p=nrdp.vpb(p,(function(r,q,u,v){r.mJ.splice(r.mJ.indexOf(q),1);r.mJ=r.mJ.sort(d);for(var w=[],x=0;x < r.mJ.length && 5 > x;x++)w.push(r.mJ[x]);null === v || void 0 === v?void 0:v.error(("Removing instance for ").concat(u,"/").concat(q,". ") + ("").concat(r.mJ.length," remaining, earliest: ").concat(w,"}"));}).bind(null,this,k.id,k.type,m));g.u && m && m.info("Creating tagged instance",k);return p;}}};return l;})();b.JPb=h;},79183:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m){return k.filter(function(p){return p.groupId === m.groupId;}).reduce((0,c.Vtc)(function(p){return p.et;}),m).et;}Object.defineProperties(b,{__esModule:{value:!0}});b.d4a=void 0;n=a(22970);c=a(91176);g=a(66164);f=a(57141);e=a(65161);h=a(61996);l=a(62629);t=(function(){function k(m,p){this.console=m;this.config=p;this.Uvb=0;this.Ve=new h.Lm({Bg:10,wj:this,source:"GraphStreamingProcess"});}k.prototype.Cec=function(m){var p,r,q,w,x;r={Phb:[],PJb:0,MV:-Infinity,reason:"available"};q=[];try{for(var u=n.__values(m),v=u.next();!v.done;v=u.next()){w=v.value;if(w.YJ <= g.platform.time.na())q.push(w);else if((r.PJb++,!x || w.YJ < x.YJ))x=w;}}catch(A){var y;y={error:A};}finally{try{v && !v.done && (p=u.return) && p.call(u);}finally{if(y)throw y.error;}}x && (r.MV=x.YJ,0 === q.length && ((0,c.assert)("available" !== x.HU,"next available streamable cannot be available"),r.reason=x.HU));r.Phb=q;return r;};k.prototype.aAb=function(m,p){var r,q,u,v,w,x,y,A,z,D,F,H,E;u={Sf:!1,reason:"noEligibleStreamables"};v=[];if(0 < p.length){w=this.qIc(p);x=w.some(function(K){return 1 === (0,l.U3b)(K) && (0,e.gr)(K.Xd);});y=w.slice();A=[!1,!1,!1,!1];z=void 0;try{for(var B=n.__values(w),C=B.next();!C.done;C=B.next()){D=C.value;if(D.Sw && (!z || D.groupId === z))if(D.Ak)z=D.groupId;else if("global" !== A[D.mediaType]){F=D.vE(m,null !== (q=D.Zy) && void 0 !== q?q:1);H=(0,f.XBc)(F.reason);H && (A[D.mediaType]=H,(0,c.MGa)(y,D));if(F.vQ){E=d(y,D);if(this.S4b(D,x,E)){u=D.yJ();this.aRa(v,D,u.reason);u.Sf && (this.Uvb=g.platform.time.na());if(u.Sf){u.reason="success";break;}if("globalVideoMemoryLimit" === u.reason || "globalAudioMemoryLimit" === u.reason){this.console.trace("GSP.onRequestOpportunity stopping at memory limit:",u.reason);break;}"pipelineTryIssueHeaderRequest" === u.reason && (z=D.groupId,this.console.trace("GSP.onRequestOpportunity stopping due to blocking header"));}else if((this.aRa(v,D,"concurrencyCheck"),!H))break;}else this.aRa(v,D,F.reason);}}}catch(K){var G;G={error:K};}finally{try{C && !C.done && (r=B.return) && r.call(B);}finally{if(G)throw G.error;}}}this.Ve.vg({streamableCount:p.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.Uvb});return u;};k.prototype.qIc=function(m){return this.IAc(m).sort(function(p,r){return p.priority - r.priority;}).map(function(p){return p.mJc;});};k.prototype.IAc=function(m){var p;p=this;return m.map(function(r){return {priority:-(0,l.Q3b)(p.config,r,p.console),mJc:r};});};k.prototype.aRa=function(m,p,r){this.Ve.enabled && m.push(this.Hkc(r,p));};k.prototype.Hkc=function(m,p){return {mediaType:p.mediaType,reason:m,bufferingState:p.Xd,currentPlayerMs:p.Tn,pathCompletePlayerMs:p.et,streamingPlayerMs:p.vn};};k.prototype.S4b=function(m,p,r){return this.config.AN && (p || (0,e.gr)(m.Xd))?this.T4b(m,r):this.U4b(m,r);};k.prototype.V4b=function(m){return m.vn <= m.et;};k.prototype.U4b=function(m,p){return m.vn - (m.Tn > p?m.Tn:p) <= Math.max(this.config.S9,Math.min((m.et - m.Tn) * this.config.Iba,this.config.$sc));};k.prototype.T4b=function(m,p){var r,q;if(void 0 === this.config.AN)return !0;r=this.config.AN;q=m.Tn + r;return m.vn <= q?!0:this.V4b(m) && p >= q && m.vn - p < r;};n.__decorate([(0,h.Za)({methodName:"onRequestOpportunity",Re:!0})],k.prototype,"aAb",null);return k;})();b.d4a=t;},62629:function(t,b,a){var m,p,r;function d(q){return q.vn - q.Tn;}function n(q,u){return Math.exp(-(Math.log(2) / q) * u);}function c(q,u){q=Math.log(2) * u / q;return (1 - Math.exp(-q)) / q;}function g(q,u){var v,w,x,y,A;v=u.KQ;w=u.JQ;x=u.$F;if(0 === u.Mg.length)return {Pha:!1};y=u.Mg[0];u=y.jg;A=y.cJ;y=y.duration;if(!A || 1 === x)return {Pha:!1};(0,p.assert)(y,"duration should be defined when immediate probability is included in probabilities array");(0,p.assert)(0 < x,"presenting segment seamless probability cannot be zero");w-=y;if(v < w)return {Pha:!1};w=v - w;v=x + w / y * (1 - x);y-=w;A=A * (1 - v) / (1 - x);q=u * v / x * n(q,y) + A * c(q,y);(0,p.assert)(1 >= q);return {Pha:!0,V_b:q};}function f(q){var u,v,w,x,y;u=q.Ig;v=q.d_;w=q.sv;x=q.vn;y=q.Tn;q=q.qW;(0,p.assert)(void 0 !== v);(0,p.assert)(void 0 !== u);w=1 - w;x-=y;q?(y=v - q - x,u-=q,0 >= y?q=Math.max(0,(v - q) / u):(v=u - y,q=0 < v?x / v:0,w*=0 < v?v / u:1)):(y=v - x,0 >= y?q=v / u:(v=u - y,q=0 < v?x / v:0,w*=0 < v?v / u:1));(0,p.assert)(0 <= q);(0,p.assert)(1 >= q);(0,p.assert)(0 <= w);(0,p.assert)(1 >= w);return 1 - q * w;}function e(q,u){q=Math.log(2) / q.nDb;return h(u) * Math.exp(-q * d(u));}function h(q){var u;return (null !== (u=q.Zy) && void 0 !== u?u:1) * q.Mg.reduce(function(v,w){var x;x=w.cJ;return v * (w.jg + (void 0 === x?0:x));},1);}function l(q){var u,v,w,x;if(0 === q.Mg.length)return 0;v=0;if(1 > q.$F){v=q.KQ;w=q.JQ;x=null !== (u=q.Mg[0].duration) && void 0 !== u?u:0;v=Math.max(0,Math.min(x,v - (w - x)));}return q.Mg.reduce(function(y,A){A=A.duration;return y + (void 0 === A?0:A);},0) - v;}function k(q){return q.Mg.filter(function(u){return !u.cJ;}).reduce(function(u,v){return u * v.jg;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.JWc=d;b.Q3b=function(q,u,v){var w,x,y,A,z,B,C,D;if(!q.SV || (0,m.gr)(u.Xd))return e(q,u);x=q.nDb;q=d(u);y=l(u);A=k(u);z=g(x,u);B=z.Pha;z=z.V_b;z=void 0 === z?1:z;C=1 > u.sv?f(u):1;D=(null !== (w=u.Zy) && void 0 !== w?w:1) * A * n(x,q - y) * z * C * u.Mg.filter(function(F,H){return F.cJ && (0 < H || !B);}).reduce(function(F,H){var E,G;E=H.cJ;G=H.duration;G=void 0 === G?0:G;E=void 0 === E?0:E;H=H.jg * n(x,G) + E * c(x,G);return F * H;},1);r.u && (null === v || void 0 === v?void 0:v.log(("{").concat(u.groupId,"} [").concat(u.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(u.sv,", ") + ("pssp: ").concat(u.$F,", ") + ("streamingDuration: ").concat(u.d_,", ") + ("duration: ").concat(u.Ig,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(q,", immediateDistance: ").concat(y,", ") + ("risk:").concat(n(x,q - y),", ") + ("adjustedFirstTerm: ").concat(z,", streamingAdjustment: ").concat(C,", ") + ("probabilities: ").concat(JSON.stringify(u.Mg)," => ").concat(D)));return D;};b.HWc=e;b.U3b=h;b.Iib=k;m=a(65161);p=a(52571);r=a(48170);},45247:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Ra=b.puc=b.Qf=b.pdc=b.fF=b.Tla=b.k7=b.wPa=b.Yma=b.LF=b.Doa=b.Wb=b.v=b.Hv=b.Dd=b.KT=b.Eg=b.ws=b.P2=b.Td=b.Mc=b.kfa=b.d2=b.cy=b.T2=b.Mt=b.I=void 0;b.D0c=function(u){n.platform.POa(u);};d=a(22970);n=a(66164);d.__exportStar(a(66164),b);c=a(91176);Object.defineProperties(b,{I:{enumerable:!0,get:function(){return c.I;}}});Object.defineProperties(b,{Mt:{enumerable:!0,get:function(){return c.Mt;}}});d.__exportStar(a(49502),b);g=a(63576);Object.defineProperties(b,{T2:{enumerable:!0,get:function(){return g.T2;}}});Object.defineProperties(b,{cy:{enumerable:!0,get:function(){return g.cy;}}});Object.defineProperties(b,{d2:{enumerable:!0,get:function(){return g.d2;}}});d.__exportStar(a(85858),b);d.__exportStar(a(25218),b);d.__exportStar(a(40666),b);d.__exportStar(a(95407),b);d.__exportStar(a(51308),b);f=a(79048);Object.defineProperties(b,{kfa:{enumerable:!0,get:function(){return f.kfa;}}});e=a(91967);Object.defineProperties(b,{Mc:{enumerable:!0,get:function(){return e.Mc;}}});Object.defineProperties(b,{Td:{enumerable:!0,get:function(){return e.Td;}}});h=a(11862);Object.defineProperties(b,{P2:{enumerable:!0,get:function(){return h.P2;}}});l=a(6783);Object.defineProperties(b,{ws:{enumerable:!0,get:function(){return l.ws;}}});k=a(69575);Object.defineProperties(b,{Eg:{enumerable:!0,get:function(){return k.Eg;}}});m=a(52629);Object.defineProperties(b,{KT:{enumerable:!0,get:function(){return m.KT;}}});d.__exportStar(a(56820),b);p=a(65161);Object.defineProperties(b,{Dd:{enumerable:!0,get:function(){return p.Dd;}}});Object.defineProperties(b,{Hv:{enumerable:!0,get:function(){return p.Hv;}}});Object.defineProperties(b,{v:{enumerable:!0,get:function(){return p.v;}}});Object.defineProperties(b,{Wb:{enumerable:!0,get:function(){return p.Wb;}}});Object.defineProperties(b,{Doa:{enumerable:!0,get:function(){return p.Doa;}}});Object.defineProperties(b,{LF:{enumerable:!0,get:function(){return p.LF;}}});Object.defineProperties(b,{Yma:{enumerable:!0,get:function(){return p.Yma;}}});Object.defineProperties(b,{wPa:{enumerable:!0,get:function(){return p.wPa;}}});b.k7=function(u){n.platform.POa(u);return Promise.resolve().then(function(){return d.__importStar(a(60069));}).then(function(v){return v.k7();});};b.Tla=function(u,v){n.platform.POa(u);return Promise.resolve().then(function(){return d.__importStar(a(23102));}).then(function(w){return w.Tla(v);});};b.fF=function(){return a(32838)["default"];};t=d.__importDefault(a(14282));b.pdc=t.default;t=a(36948);b.Qf=t.Qf;r=a(37268);b.puc=function(){return {Dl:r.Dl};};q=a(68539);Object.defineProperties(b,{Ra:{enumerable:!0,get:function(){return q.Ra;}}});},79857:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p){var r;r=p.indexOf("?");return -1 !== r?p.slice(0,r):p;}Object.defineProperties(b,{__esModule:{value:!0}});b.v6a=void 0;n=a(22970);c=a(66164);g=a(91176);f=a(75539);e=a(61996);h=a(91967);l=a(54366);k=a(52571);m=a(48912);t=(function(){function p(r,q,u,v){var w;this.console=r;this.config=q;this.O=u;this.dz=v;this.cEb=!1;this.BQa={};this.dV=!1;this.Ve=new e.Lm({Bg:10,wj:this,source:"LiveOCSideChannel",console:this.console});(0,k.assert)(null === (w=this.O.U.gB) || void 0 === w?void 0:w.yi,"Missing pbcid for OC side channel message decryption.");this.d5b=new m.KDa(this.O.U.gB.yi);}p.prototype.od=function(r){this.cEb || (r.od(new l.En(this.Ve)),this.cEb=!0);};p.prototype.Qe=function(){this.xK && (clearTimeout(this.xK),this.xK=void 0);this.kIa();this.dV=!0;};p.prototype.decode=function(r,q,u){var v,w,x,y,A,z,B,C,D,F;void 0 === u && (u=!0);if(q && (q=null === (v=(0,g.oc)(q.split(";"),function(H){return 0 === H.indexOf("sc=");})) || void 0 === v?void 0:v.slice(3)) && (!u || this.BHc(r))){r=this.d5b.decrypt(q,!0);try{w=JSON.parse(r);}catch(H){this.console.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage: ").concat(r));return;}r=Number(w.time || void 0);isNaN(r) && (this.console.error(("Invalid live server time in OC side channel message. time: ").concat(w.time)),r=void 0);u=w["live-msg-start"];v=w["live-msg-end"];q=u?new Date(u).getTime():void 0;x=v?new Date(v).getTime():void 0;void 0 !== q && isNaN(q) || void 0 !== x && isNaN(x)?this.console.error("Invalid live event times in OC side channel message. " + ("live-msg-start: ").concat(u,", live-msg-end: ").concat(v)):y={startTime:u,cb:q,endTime:v,ib:x};u=w["encoder-tag"];v=w["encoder-region"];u && v || this.console.error("Invalid encoder info in OC side channel message. " + ("encoder-tag: ").concat(u,", encoder-region: ").concat(v));q=(x=w.maxBitrate)?Number(x || void 0):0;void 0 !== q && isNaN(q) && (this.console.error(("Invalid maxBitrate in OC side channel message: ").concat(x)),q=void 0);x=w["live-msg-prefetch-start"];A=w["live-msg-prefetch-dur"];z=x?new Date(x).getTime():void 0;B=A?Number(A):void 0;if(void 0 !== z && isNaN(z) || void 0 !== B && isNaN(B))(this.console.error("Invalid postplay prefetch info in OC side channel message. " + ("live-msg-prefetch-start: ").concat(x,", live-msg-prefetch-dur: ").concat(A)),B=z=void 0);C=w["live-msg-pp-start"];w=w["live-msg-pp-dur"];D=C?new Date(C).getTime():void 0;F=w?Number(w):void 0;if(void 0 !== D && isNaN(D) || void 0 !== F && isNaN(F))(this.console.error("Invalid postplay transition info in OC side channel message. " + ("live-msg-pp-start: ").concat(C,", live-msg-pp-dur: ").concat(w)),F=D=void 0);return {Au:u,zu:v,maxBitrate:q,Bj:r,Si:y,qUa:z,iCb:x,pUa:B,hCb:A,kUa:D,aCb:C,jUa:F,$Bb:w};}};p.prototype.BHc=function(r){var q;q=c.platform.time.na();if(void 0 !== this.BQa[r] && q - this.BQa[r] < (void 0 === this.O.Si.endTime?this.config.E5:Math.max(this.config.E5,this.config.Hja)))return !1;this.BQa[r]=q;return !0;};p.prototype.BCb=function(r,q,u,v,w,x,y){var A,z,B;A=this;w=this.decode(v,w);void 0 !== w && (void 0 === w.Bj || isNaN(w.Bj) || void 0 === x || isNaN(x) || this.O.Kta(w.Bj,x),void 0 !== w.Si && this.O.sZa(w.Si.startTime,w.Si.endTime),this.O.rMc(v,{Au:w.Au,zu:w.zu,uWa:y,Yb:r.Jb}),w.maxBitrate && !isNaN(w.maxBitrate) && (r.track.CX=w.maxBitrate,r.track.qsa(h.U2.Bsa,w.maxBitrate)),void 0 === w.iCb || void 0 === w.qUa || isNaN(w.qUa) || void 0 === w.hCb || void 0 === w.pUa || isNaN(w.pUa) || this.O.Hta("prefetch",w.iCb,w.hCb),void 0 === w.aCb || void 0 === w.kUa || isNaN(w.kUa) || void 0 === w.$Bb || void 0 === w.jUa || isNaN(w.jUa) || this.O.Hta("execute",w.aCb,w.$Bb),this.Ve.Jha("processMessage",{parsed:!0,url:d(u),pbcid:null === (z=this.O.U.gB) || void 0 === z?void 0:z.yi,time:c.platform.time.now(),encoderTag:w.Au,encoderRegion:w.zu,maxBitrate:w.maxBitrate,serverTimeMs:w.Bj,liveEventTimes:w.Si,prefetchStartMs:w.qUa,prefetchDurationMs:w.pUa,postplayStartMs:w.kUa,postplayDurationMs:w.jUa}),this.xK && (clearTimeout(this.xK),this.xK=void 0),this.config.TV && (this.Tvb=r,this.EQa=u,this.dqc=y,this.xQa=q,void 0 === (null === (B=w.Si) || void 0 === B?void 0:B.endTime) && (this.xK=setTimeout(function(){A.sra();},this.config.GX))));};p.prototype.sra=function(){var r,q,u;r=this;q=!1;u=this.Tvb;u && !this.dV && ((0,k.assert)(this.xQa),(0,k.assert)(this.EQa),this.kIa(),this.tra=new f.Wza(u,this.EQa,this.dz.fe.track,"refreshOC",{responseType:0},{offset:0,ka:8},this,this.xQa,this.config,this.console),this.tra.open()?q=!0:(this.kIa(),q=!1));this.Ve.vg({time:c.platform.time.now(),issued:q});this.config.TV && (this.xK=setTimeout(function(){r.sra();},this.config.GX));};p.prototype.kIa=function(){this.tra && (this.tra.Qe(),this.tra=void 0);};p.prototype.cK=function(r){var q,u;u=r.getResponseHeader("X-TCP-Info",!1);null === (q=r.stream.O.FX) || void 0 === q?void 0:q.BCb(this.Tvb,this.xQa,this.EQa,r.mediaType,u,void 0,this.dqc);r.abort();};p.prototype.lx=function(r){var q;q=this;r.abort();this.config.TV && (this.xK=setTimeout(function(){q.sra();},this.config.GX));};p.prototype.Vpa=function(){};p.prototype.kQ=function(){};p.prototype.UF=function(){};p.prototype.qo=function(){};p.prototype.CY=function(){};p.prototype.lQ=function(){};p.prototype.Upa=function(){};p.prototype.Wpa=function(){};n.__decorate([(0,e.Za)({methodName:"refreshOCSideChannel",Re:!1})],p.prototype,"sra",null);return p;})();b.v6a=t;},18905:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.W1=void 0;a(22970).__exportStar(a(36670),b);d=a(92517);Object.defineProperties(b,{W1:{enumerable:!0,get:function(){return d.W1;}}});},36670:function(t,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.MBa=b.ve=void 0;(function(n){n[n.kq=0]="OK";n[n.TEMPORARY=1]="TEMPORARY";n[n.Lo=2]="PERMANENT";})(a || (b.ve=a={}));(function(n){n[n.GA=0]="STARTUP";n[n.jUb=1]="REBUFFER";})(d || (b.MBa=d={}));},92517:function(t,b,a){var d,n,c,g,f,e,h,l,k,m;Object.defineProperties(b,{__esModule:{value:!0}});b.W1=void 0;d=a(22970);n=d.__importStar(a(17267));t=a(90745);c=a(66164);a(97685);g=a(91176);f=a(8149);e=d.__importDefault(a(14282));h=a(52571);l=a(36670);k=a(54962);m=new c.platform.Console("ASEJS_LOCATION_SELECTOR","media|asejs");a=(function(p){var S0e;S0e=2;function r(q,u,v,w,x,y){var W0R,A;W0R=2;for(;W0R !== 17;){switch(W0R){case 12:var o2g="1SIYbZ";o2g+="r";o2g+="NJCp9";A.mh=new k.lH(w,A.xa);A.TH(q,u,e.default.ay.GA);A.Yoa=!1;A.Sba={};o2g;W0R=18;break;case 6:A.OK=null;A.LZ=e.default.ay.GA;A.xa=(0,g.Ow)(q.Jf);W0R=12;break;case 3:var m0o="L";m0o+="I";m0o+="V";m0o+="E";A.WXb=y;A.peb=m0o;A.RAc=l.MBa.GA;A.Zga=null;W0R=6;break;case 2:A=p.call(this) || this;A.ed=v;A.fl=w;A.config=x;W0R=3;break;case 18:return A;break;}}}for(;S0e !== 34;){switch(S0e){case 20:r.prototype.JMc=function(q,u,v,w,x){var L4$;L4$=2;for(;L4$ !== 5;){switch(L4$){case 2:w.sb=q.Bia?v.sb.confidence >= e.default.jq.RS || u.confidence < x?v.sb:u:u.confidence === e.default.jq.HAVE_NOTHING || v.sb.confidence >= e.default.jq.RS?v.sb:u;q.knb && !w.sb.Mw && (w.sb.Mw=v.sb.Mw);L4$=5;break;}}};r.prototype.M4b=function(q){var N4i,u,v,w,x,y;N4i=2;for(;N4i !== 5;){switch(N4i){case 2:(u=c.platform.time.na(),v=this.config,w=q.urls[0].Eb,x=w.id,y=this.Sba[x]);N4i=1;break;case 1:var F0j="issu";F0j+="eServe";F0j+="rProbeReque";F0j+="st";this.mh.qp(w) && (y?v.V$ && u > y.Wyb && (v=Math.min(2 * y.LEb,v.x9),this.Sba[x]={gob:y.gob,LEb:v,Wyb:u + v},this.emit(F0j,{Eb:w,url:this.mh.blc(q,x),stream:q})):this.Sba[x]={gob:u,LEb:v.ZX,Wyb:u + v.ZX});N4i=5;break;}}};r.prototype.WFc=function(q,u){var W0$,v,w;W0$=2;for(;W0$ !== 4;){switch(W0$){case 2:(v=[],w=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);n.forEach(this.mh.urls,function(x,y){var v0T,A,C,z,B;v0T=2;for(;v0T !== 13;){switch(v0T){case 2:x=x.Eb;A=y.match(w);v0T=5;break;case 9:var G2f="8";G2f+="0";var x00="4";x00+="4";x00+="3";A.length || (A=z?x00:G2f);v0T=8;break;case 7:x.urls.some(function(D){var I14;I14=2;for(;I14 !== 5;){switch(I14){case 1:return (C=D,!0);break;case 2:I14=D.url === y?1:5;break;}}});C && v.push({url:C,Eb:x});v0T=13;break;case 4:(z="s" === A[1],B=A[2]);A=A[3];v0T=9;break;case 5:v0T=A && 4 === A.length?4:13;break;case 8:v0T=n.Zh(B) && n.Zh(A) && B === q && A == u?7:13;break;}}});return v;break;}}};r.prototype.eG=function(q,u,v,w){var f3O,N_J,x,y,A;f3O=2;for(;f3O !== 33;){switch(f3O){case 13:this.Yoa=this.Yoa || this.mh.Ff();q=this.mh.apa;f3O=11;break;case 9:var q4Y=" : ";q4Y+="w";q4Y+="a";q4Y+="s";q4Y+=" ";var f_d=" ";f_d+="a";f_d+="t";f_d+=" ";var m$2=" f";m$2+="ailure re";m$2+="por";m$2+="ted";m$2+=" for ";var i0t="T";i0t+="E";i0t+="M";i0t+="P";var W0f="P";W0f+="E";W0f+="R";W0f+="M";var s2v="rep";s2v+="ortF";s2v+="ailu";s2v+="re";s2v+=": ";m.warn(s2v.concat(u?W0f:i0t,m$2).concat(e.default.Hj.name[q],f_d).concat(k.lH.bvc(x),q4Y).concat(k.lH.dec(x)));f3O=8;break;case 19:y=y.parent;f3O=20;break;case 27:this.OK=null;this.LZ=e.default.ay.Ho;w && (this.LZ=e.default.ay.FTb,x.pC=w);f3O=24;break;case 34:var F8Y="Unable ";F8Y+="to find fa";F8Y+="ilure ";F8Y+="entity for URL ";m.warn(F8Y.concat(v));f3O=33;break;case 3:f3O=A !== x.bh?9:33;break;case 20:f3O=y && y.ip !== e.default.Hj.sM?19:18;break;case 7:return;break;case 21:f3O=35;break;case 15:var d91="n";d91+="etworkFai";d91+="led";this.emit(d91,{ona:q,Qc:y});f3O=27;break;case 10:y=x;f3O=20;break;case 4:f3O=x?3:34;break;case 5:x=x.parent;f3O=1;break;case 8:N_J=x.bh;f3O=N_J === l.ve.Lo?7:23;break;case 35:var w5F="Inv";w5F+="alid f";w5F+="ailure state";throw Error(w5F);f3O=6;break;case 1:f3O=x && x.parent && x.ip !== q?5:4;break;case 22:f3O=N_J === l.ve.kq?6:21;break;case 23:f3O=N_J === l.ve.TEMPORARY?6:22;break;case 6:x.bh=A;k.lH.GCb(x);f3O=13;break;case 24:this.mh.dump();f3O=33;break;case 11:f3O=q > y?10:27;break;case 18:var q4N=" ";q4N+="ser";q4N+="verId =";q4N+=" ";var C66="Emitting networkF";C66+="ailed, ";C66+="permanent = ";y=y?y.id:void 0;q=q === l.ve.Lo;m.warn(C66.concat(q,q4N).concat(y));f3O=15;break;case 2:(x=q !== e.default.Hj.hH && v?this.mh.urls[v]:this.mh.cC,y=this.mh.apa,A=u?l.ve.Lo:l.ve.TEMPORARY);f3O=1;break;}}};r.prototype.MVa=function(q,u){var z$3;z$3=2;for(;z$3 !== 3;){switch(z$3){case 1:(k.lH.reset(q,u),k.lH.HCb(q));z$3=5;break;case 2:z$3=(q=this.mh.xm[q])?1:5;break;case 5:this.OK=null;this.LZ=e.default.ay.qAa;z$3=3;break;}}};r.prototype.sZ=function(){var T$2;T$2=2;for(;T$2 !== 5;){switch(T$2){case 2:k.lH.reset(this.mh.cC,!1);this.Sba={};T$2=5;break;}}};r.prototype.vSa=function(q){var P5o;P5o=2;for(;P5o !== 1;){switch(P5o){case 2:this.WXb(q);P5o=1;break;}}};S0e=26;break;case 7:r.prototype.TH=function(q,u,v){var G_t;G_t=2;for(;G_t !== 14;){switch(G_t){case 8:this.xa && (this.trc=q.Pvc);this.OK=null;this.LZ=v;G_t=14;break;case 5:this.Zga=c.platform.time.na();u=q.Jf;q=q.Ti;(0,h.assert)(this.xa && (0,g.Ow)(u) && !!q || !this.xa && !(0,g.Ow)(u) && !q);G_t=8;break;case 2:void 0 === v && (v=e.default.ay.X6a);this.mh.TH(q,u,v);G_t=5;break;}}};r.prototype.Mta=function(q,u,v){var Q9d,A,z,w,x,y,B;Q9d=2;for(;Q9d !== 10;){switch(Q9d){case 8:Q9d=!this.OK?7:6;break;case 3:(A=0,z=this.tMc(x));n.cd(this.OK) && (this.OK=this.uMc());Q9d=8;break;case 12:var H8D="(empty s";H8D+="tream li";H8D+="st)";var f_T="Did not f";f_T+="ind a URL for ANY strea";f_T+="m...";var d9z="n";d9z+="etwor";d9z+="kF";d9z+="ai";d9z+="led";var b18="Network has f";b18+="ailed, not updating ";b18+="stream selection";u.forEach(function(C,D){var T1q,F;T1q=2;for(;T1q !== 5;){switch(T1q){case 1:var B9t=" ";B9t+="K";B9t+="b";B9t+="p";B9t+="s)";var Q03=" ";Q03+="(";var i$e="]";i$e+=" ";var V50="Fail";V50+="ing st";V50+="re";V50+="am ";V50+="[";w.Eec(B,C,x,y,v,z)?(C.qp=!1,C.bh=void 0,C.fr && ++A):C.bh && C.bh === l.ve.TEMPORARY?w.mh.apa=l.ve.TEMPORARY:C.qp || (m.warn(V50.concat(D,i$e).concat(F,Q03).concat(C.bitrate,B9t)),C.A5b(),C.qp=!0);T1q=5;break;case 2:F=C.id;T1q=1;break;}}});return this.mh.Ff()?(m.warn(b18),this.Yoa=!0,this.emit(d9z,{ona:this.mh.apa === l.ve.Lo}),!1):0 === A?(m.warn(f_T.concat(u.length?"":H8D)),this.eG(e.default.Hj.hH,!0),!1):!0;break;case 4:return !1;break;case 7:return (this.eG(e.default.Hj.hH,!1),!1);break;case 5:Q9d=this.mh.Ff()?4:3;break;case 14:Q9d=!B.length?13:12;break;case 2:(w=this,x=this.config,y=this.sMc(v,x));c.platform.mB && c.platform.mB(q);Q9d=5;break;case 6:B=this.OK;Q9d=14;break;case 13:return (this.eG(e.default.Hj.hH,!1),!1);break;}}};r.prototype.Eec=function(q,u,v,w,x,y){var E_0,A,z,B;E_0=2;for(;E_0 !== 5;){switch(E_0){case 2:(A=this,z=u.id,B=this.ed.get());return q.some(function(C){var p4i,D,F;p4i=2;for(;p4i !== 8;){switch(p4i){case 5:return !1;break;case 1:p4i=!D?5:4;break;case 2:D=C.streams[z];p4i=1;break;case 4:F=D.sj[0];void 0 === u.Yqa && (u.Yqa=F.id,u.yUa=D.H_[F.id][0].Eb.id);return D.H_[C.id].some(function(H){var Y6M,E;Y6M=2;for(;Y6M !== 8;){switch(Y6M){case 4:A.IMc(H,C,q,u,D,v.bG,w,x);A.JMc(v,B,C,u,y);return !0;break;case 2:E=A.W4b(H,u,v.bG,w,x);Y6M=1;break;case 1:Y6M=!E?5:4;break;case 5:return E;break;}}});break;}}});break;}}};r.prototype.tMc=function(q){var e07,u,v;e07=2;for(;e07 !== 3;){switch(e07){case 5:this.ed.location && u.confidence >= v && (q=this.mh.sj[this.ed.location]) && (q.sb=u);return v;break;case 2:(u=this.ed.get(),v=e.default.jq.SS);q.Voa && (v=e.default.jq.RS);e07=5;break;}}};r.prototype.sMc=function(q,u){var B4h,v;B4h=2;for(;B4h !== 3;){switch(B4h){case 2:v=!1;this.xa && void 0 !== q && q !== this.peb && (void 0 === this.qeb || c.platform.time.na() - this.qeb > u.Vqc) && (this.peb=q,this.qeb=c.platform.time.na(),v=!0);v && (this.OK=null);B4h=4;break;case 4:return v;break;}}};r.prototype.W4b=function(q,u,v,w,x){var y6c;y6c=2;for(;y6c !== 1;){switch(y6c){case 2:return this.mh.qp(q.Eb)?(q.Eb.bh === l.ve.TEMPORARY && (u.bh=l.ve.TEMPORARY),v && u.Eb === q.Eb.id && q.Eb.pC && (u.pC=q.Eb.pC),!1):this.mh.qp(q) || w && q.HX && !q.HX.some(function(y){var r91=U7QY0;var z53;z53=2;for(;z53 !== 1;){switch(z53){case 2:r91.x0M(5);return r91.F8S(y,x);break;case 4:r91.T$6(6);return r91.S7f(y,x);break;}}})?!1:!0;break;}}};r.prototype.IMc=function(q,u,v,w,x,y,A,z){var B3X,B,C;B3X=2;for(;B3X !== 6;){switch(B3X){case 3:w.Eb=q.Eb.id;w.hba=q.Eb.name;w.zx=q.Eb.type;A && (x.OQa=z);B3X=6;break;case 2:var V0n="l";V0n+="ocation";V0n+="fai";V0n+="lo";V0n+="ver";var k41="s";k41+="erver";k41+="failov";k41+="er";var N2_="perfor";N2_+="ma";N2_+="nce";var h4Q="unkn";h4Q+="ow";h4Q+="n";(B=h4Q,C=x.sj[0]);C.id !== u.id && this.M4b(x);w.location !== u.id && (y?w.fQa=u.id === C.id:B=u !== v[0] && A && x.OQa !== z?"" + e.default.ay.ZUb:u !== v[0]?"" + e.default.ay.mva:void 0 === w.location?"" + e.default.ay.GA:n.Ts(w.Jvb) || w.Jvb === u.id?n.Ts(w.Qvb) || w.Qvb === q.Eb.id?N2_:k41:V0n,w.location=u.id,w.VQa=u.level,w.ut=B);w.url=q.url;B3X=3;break;}}};S0e=20;break;case 26:r.prototype.Dk=function(){var x6N;x6N=2;for(;x6N !== 1;){switch(x6N){case 2:this.BDc(l.MBa.jUb);x6N=1;break;case 4:this.BDc(l.MBa.jUb);x6N=4;break;}}};r.prototype.Ja=function(){var x4t;x4t=2;for(;x4t !== 1;){switch(x4t){case 2:this.config.Jrc && this.Nyc();x4t=1;break;}}};r.prototype.pL=function(q){var i9P;i9P=2;for(;i9P !== 1;){switch(i9P){case 2:delete this.Sba[q];i9P=1;break;}}};r.prototype.uMc=function(){var m$Q,q,u,v,w;m$Q=2;for(;m$Q !== 6;){switch(m$Q){case 8:v.sort(function(x,y){var m_Z;m_Z=2;for(;m_Z !== 1;){switch(m_Z){case 2:return x.level - y.level || x.wc - y.wc;break;}}});return v;break;case 5:return null;break;case 2:(q=this,u=this.config,v=this.mh.MW().filter(function(x){var y2N;y2N=2;for(;y2N !== 1;){switch(y2N){case 2:return !q.mh.qp(x) && 0 !== x.level;break;}}}));m$Q=1;break;case 9:(v.forEach(function(x){var T9W;T9W=2;for(;T9W !== 1;){switch(T9W){case 2:x.id !== q.ed.location && (x.sb=q.fl.get(x.id));T9W=1;break;}}}),this.Zga=w);m$Q=8;break;case 3:m$Q=null === this.Zga || this.Zga + u.c9 < w?9:8;break;case 1:m$Q=0 === v.length?5:4;break;case 4:w=c.platform.time.na();m$Q=3;break;}}};S0e=22;break;case 22:r.prototype.BDc=function(q){var o$3,u;o$3=2;for(;o$3 !== 4;){switch(o$3){case 2:u=this.ed.location;this.RAc=q;this.mh.MW().forEach(function(v){var p1o;p1o=2;for(;p1o !== 1;){switch(p1o){case 2:v.id !== u && v.sb && v.sb.confidence > e.default.jq.SS && (v.sb.confidence=e.default.jq.SS);p1o=1;break;}}});o$3=4;break;}}};r.prototype.Nyc=function(){var p00,q;p00=2;for(;p00 !== 5;){switch(p00){case 2:q=this;this.Yoa || this.mh.MW().forEach(function(u){var n7_;n7_=2;for(;n7_ !== 1;){switch(n7_){case 2:u.bh === l.ve.TEMPORARY && q.fl.fail(u.id,c.platform.time.na());n7_=1;break;}}});p00=5;break;}}};return r;break;case 2:d.__extends(r,p);r.prototype.MW=function(){var k$l;k$l=2;for(;k$l !== 1;){switch(k$l){case 2:return this.mh.MW();break;}}};r.prototype.GWa=function(q){var V0p;V0p=2;for(;V0p !== 1;){switch(V0p){case 2:return this.mh.GWa(q);break;case 4:return this.mh.GWa(q);break;}}};r.prototype.kF=function(q){var k7M;k7M=2;for(;k7M !== 1;){switch(k7M){case 4:return this.mh.kF(q);break;case 2:return this.mh.kF(q);break;}}};r.prototype.Zla=function(q){var n88;n88=2;for(;n88 !== 1;){switch(n88){case 2:return this.mh.Zla(q);break;}}};r.prototype.IMa=function(q){var K3R;K3R=2;for(;K3R !== 1;){switch(K3R){case 2:return this.mh.IMa(q);break;}}};r.prototype.RW=function(q,u){var V8l,v,w;V8l=2;for(;V8l !== 5;){switch(V8l){case 2:return u && q && (!(0,f.Xj)(u) || (0,f.Xj)(u) && (null === (v=u.track) || void 0 === v?0:v.Ftb))?null !== (w=u.RW(void 0,q)) && void 0 !== w?w:"":"";break;}}};S0e=7;break;}}})(t.EventEmitter);b.W1=a;},54962:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.lH=void 0;d=a(22970);n=d.__importStar(a(17267));t=a(66164);c=a(65161);g=d.__importDefault(a(14282));f=a(36670);e=new t.platform.Console("ASEJS_OC_NETWORK","media|asejs");a=(function(){function h(l,k){this.fl=l;this.xa=k;this.sj={};this.xm={};this.streams={};this.urls={};this.Z9=[];this.cC={id:"network",ip:g.default.Hj.hH,bh:f.ve.kq,pC:void 0,parent:void 0,children:this.Z9};}h.GCb=function(l){var k,m,p;l=l.parent;k=!1;if(l && l.children){m={};m[f.ve.kq]=[];m[f.ve.Lo]=[];m[f.ve.TEMPORARY]=[];p=l.children;p.forEach(function(r){r && m[r.bh].push(r);});0 < m[f.ve.kq].length || (m[f.ve.Lo].length === p.length?l.bh !== f.ve.Lo && (l.bh=f.ve.Lo,e.error("PERM failing :",g.default.Hj.name[l.ip] + " " + l.id),k=!0):l.bh === f.ve.kq && (l.bh=f.ve.TEMPORARY,e.error("TEMP failing :",g.default.Hj.name[l.ip] + " " + l.id),k=!0),k && h.GCb(l));}};h.bvc=function(l){var m;for(var k=[];l;l=l.parent)switch(l.ip){case g.default.Hj.sM:m=l;k.unshift(m.id + "(" + m.name + ")");break;case g.default.Hj.LOCATION:k.unshift(l.id);break;case g.default.Hj.URL:k.unshift("<url for " + l.stream.bitrate + ">");}return k.length?"/" + k.join("/"):"";};h.HCb=function(l){var k;if((l=l.parent) && 0 < l.children.length && l.bh !== f.ve.kq){k={};k[f.ve.kq]=[];k[f.ve.Lo]=[];k[f.ve.TEMPORARY]=[];l.children.forEach(function(m){m && k[m.bh].push(m);});0 < k[f.ve.kq].length && (l.bh=f.ve.kq,h.HCb(l));}};h.dec=function(l){switch(l.bh){case f.ve.kq:return "OK";case f.ve.Lo:return "FAILED PERMANENTLY";case f.ve.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}};h.reset=function(l,k){if(l.bh === f.ve.TEMPORARY || l.bh === f.ve.Lo && k)l.bh=f.ve.kq;l.children && l.children.forEach(function(m){m && h.reset(m,k);});};h.prototype.MW=function(){return this.Z9;};h.prototype.blc=function(l,k){for(var m=0;m < l.urls.length;m++)if(l.urls[m].Eb.id === k)return l.urls[m];};h.prototype.Ff=function(){return this.qp(this.cC);};Object.defineProperties(h.prototype,{apa:{get:function(){return this.cC.bh;},set:function(l){this.cC.bh=l;},enumerable:!1,configurable:!0}});h.prototype.GWa=function(l){if((l=this.urls[l]) && l.parent)return l.parent.id;};h.prototype.kF=function(l){return this.xm[l];};h.prototype.Zla=function(l){var k,m,q;m=[];try{for(var p=d.__values(Object.keys(this.urls)),r=p.next();!r.done;r=p.next()){q=this.urls[r.value];q.url === l.url && m.push(q.Eb);}}catch(v){var u;u={error:v};}finally{try{r && !r.done && (k=p.return) && k.call(p);}finally{if(u)throw u.error;}}return m;};h.prototype.IMa=function(l){for(var k in this.streams)if(this.streams[k].s4 === l)return this.streams[k];};h.prototype.TH=function(l,k,m){var p,r,q,u;p=this;void 0 === m && (m=g.default.ay.X6a);l.locations.forEach(function(v){var w,x,y,A;w=v.key;if(p.sj[w])(p.sj[w].wc=v.rank,p.sj[w].level=v.level,p.sj[w].weight=v.weight);else {x=[];y=p.fl.get(w);A=p.cC;v={id:w,ip:g.default.Hj.LOCATION,bh:f.ve.kq,wc:v.rank,level:v.level,weight:v.weight,pC:void 0,parent:A,children:x,xm:x,streams:{},sb:y};p.sj[v.id]=v;A.children.push(v);}});this.Z9.sort(function(v,w){return v.level - w.level || v.wc - w.wc;});l.servers.forEach(function(v){var w,x,y;w=v.id;if(p.xm[w])p.xm[w].wc=v.rank;else {x=p.sj[v.key];if(x){y=[];v={id:w,ip:g.default.Hj.sM,bh:f.ve.kq,pC:void 0,parent:x,children:y,urls:y,name:v.name,type:v.type,wc:v.rank,location:x};p.xm[v.id]=v;x.children.push(v);}}});u=!0;k && (u=!1,this.fBc(k));l.audio_tracks.forEach(function(v){p.FUa(c.v.X,v,u);});l.video_tracks.forEach(function(v){p.FUa(c.v.V,v,u);});null === (r=l.timedtexttracks) || void 0 === r?void 0:r.forEach(function(v){p.XAc(v,u);});null === (q=l.mediaEventTracks) || void 0 === q?void 0:q.forEach(function(v){p.FUa(c.v.Im,v,u);});l=this.Z9.filter(function(v){var w;w=v.xm.every(function(x){return 0 === x.urls.length;});w && (v.xm.forEach(function(x){p.xm[x.id]=void 0;}),p.sj[v.id]=void 0,v.parent=void 0,v.children.length=0,v.streams={});return !w;});l.forEach(function(v){v.xm.sort(function(w,x){return w.wc - x.wc;});});this.Z9=l;this.cC.children=l;this.dump();};h.prototype.qp=function(l){return l.bh !== f.ve.kq;};h.prototype.fBc=function(l){var m,p,r;function k(w){Object.keys(w).forEach(function(x){var y,A;y=w[x];r.add(x);if(y){A=p.streams[x];p.streams[x]=A?d.__assign(d.__assign({},A),y):{id:x,bitrate:y.bitrate,Ob:null,type:y.mediaType,clear:y.Wj?!1:!0,fr:!0,urls:[],H_:{},sj:[],s4:y,OQa:p.xa?"LIVE":void 0};}});}p=this;r=new Set();try{for(var q=d.__values(l),u=q.next();!u.done;u=q.next())k(u.value);}catch(w){var v;v={error:w};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(v)throw v.error;}}Object.keys(this.streams).forEach(function(w){r.has(w) || delete p.streams[w];});};h.prototype.FUa=function(l,k,m){var p;p=this;k.streams.forEach(function(r){p.zCb(l,r.downloadable_id.toString(),r,m);});};h.prototype.XAc=function(l,k){var m;if("none" !== l.id){m=l.downloadableIds["imsc1.1"];(l=l.ttDownloadables["imsc1.1"]) && m && this.zCb(c.v.Aa,m,l,k);}};h.prototype.zCb=function(l,k,m,p){var r,q;r=this.streams[k];if(n.Ts(r) && p){p="";r=0;q=null;if(l === c.v.V || l === c.v.X)(p=m.content_profile,r=m.bitrate,l === c.v.V && (q=m.vmaf));r={id:k,bitrate:r,Ob:q,type:l,profile:p,clear:0 === p.indexOf("none-"),fr:!0,urls:[],H_:{},sj:[],OQa:this.xa?"LIVE":void 0};this.streams[r.id]=r;}else if(!r && !p)return;this.YAc(r,m.urls);n.X5(r.H_,function(u){u.sort(function(v,w){return v.Eb.wc - w.Eb.wc;});});r.sj=r.sj.sort(function(u,v){return u.level - v.level || u.wc - v.wc;});};h.prototype.YAc=function(l,k){var m;m=this;k.forEach(function(p){var r,q,u,v,w;r=p.url;q=m.urls[r];u=m.xm[p.cdn_id];m.xa && (v=p.liveOcaCapabilities);if(u){n.Ts(q) && (q={id:r,ip:g.default.Hj.URL,bh:f.ve.kq,pC:void 0,parent:u,children:[],url:r,Eb:u,stream:l,HX:v},m.urls[r]=q,u.children.push(q));w=u.location;l.urls.push(q);0 === l.sj.filter(function(x){return x.id === w.id;}).length && l.sj.push(w);w.streams[l.id]=l;(p=l.H_[w.id])?p.push(q):l.H_[w.id]=[q];}});};h.prototype.dump=function(){};return h;})();b.lH=a;},62614:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Mic=function(a){var d;a=a.Ti;if(!a)return 0;d=a.lR;return 1E3 * Object.keys(d).reduce(function(n,c){c=d[c];return Math.max(n,c.duration / c.P);},0);};},82924:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.K0a=void 0;d=a(91176);n=a(7559);t=(function(){function c(g,f,e){this.config=g;this.eg=f;this.console=e;}c.prototype.uv=function(g){this.Ea=g.Ea;};c.prototype.append=function(g,f){var e,h,l,k,m,p,r,q,u,v,w,x,y;if(g.Ki)return g;e=!1;h=(0,n.Zqb)(this.config,this.eg);l=g.Na;k=g.offset;m=g.jg;p=g.tj;r=l.Mb;q=l.Pb;u=l.qz;u=l.Yj || u;if(!g.Na.ma || !u || m)return g;v=l.za.ca(l.sa);u=Math.floor(v.bf(this.Ea));w=f.eSa || r.ca(this.Ea.Jg(2));x=w.ca(q);r=u;y=!1;f.eSa && (f=this.Hib(v,x,x),r=f.Hk,y=f.azb);h=w.ca(d.I.Ca(h));q=d.I.max(h.ca(q),d.I.fa);y || (q=this.Hib(v,q,x),r=q.Hk,q.azb && (--r,this.Ea.Jg(r)));r < (this.config.buc || 1)?e=!0:0 < u - r && g.Na.ika(u - r);return {Na:l,offset:k,jg:m,Ki:e,tj:p};};c.prototype.Hib=function(g,f,e){var h;g=d.I.min(g,f);g=Math.floor(g.bf(this.Ea));f=this.Ea.Jg(g);e=e.ca(f);h=0 < g && e.lessThan(d.I.kx);return {Hk:g,g3c:f,kZc:e,azb:h};};return c;})();b.K0a=t;},44237:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.jva=void 0;d=a(91176);n=a(48170);t=(function(){function c(g){this.console=g;this.sK=d.I.fa;}c.prototype.uv=function(g){g=g.wh?g.ee || d.I.fa:d.I.fa;this.ee && (this.sK=g.ca(this.ee),n.u && this.console.log("AudioDiscontinuity: profile timestamp offset change: " + this.sK.ba()));this.ee=g;};c.prototype.append=function(g){var f,e,h,l,k,m;if(g.Ki)return g;f=g.Na;e=g.offset;h=g.tj;l=f.sa;k=f.za;m=l.add(e);e=k.add(e);if(!this.FP)return (this.FP=e,g);k=this.FP.add(this.sK);m=m.ca(k);this.FP=e;this.sK=d.I.fa;if(m.equal(d.I.fa))return g;g.tj=h || [];f={stream:f.Jb,pts:l.G,gap:m.G};g.tj.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:f}}});n.u && this.console.log(("AudioDiscontinuity: ").concat(JSON.stringify(f)));return g;};return c;})();b.jva=t;},75811:function(t,b,a){var c,g,f,e,h,l,k;function d(m,p,r,q,u,v,w){var x,y,A,z,B,C;if(void 0 !== m.Dsa || void 0 !== m.zXa || m.Wq || m.jp){p=(null !== (x=m.end) && void 0 !== x?x:p) - m.start;x=Array(p);y=m.Wq;A=m.dob?m.dob - 1:0;z=m.eob?m.eob - 1:0;B=Math.min(p,Math.max(m.Dsa || 0,w && y && !A?1:0));m=Math.min(p - B,Math.max(m.zXa || 0,w && r && !z?1:0));w=Math.floor(u.bf(q));q=Math.max(0,Math.min(p - B - m,y?Math.max(0,w - A):0));C=Math.max(0,Math.min(p - B - m - q,r?Math.max(0,w - z):0));q=B + q;u=p - m - C;z=z?0:Math.max(0,w + 1 - C);w=(1 - v) / (w + 1);for(C=0;C < p;++C)x[C]=C < B?-Infinity:C >= p - m?-Infinity:y && C < q?n(v + (C - B + A) * w):r && C >= u?n(1 - (C - u + z + 1) * w):0;return x;}}function n(m){return 20 * Math.log(m) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.L0a=void 0;c=a(22970);g=a(91562);f=a(91176);e=a(69575);h=a(52571);l=a(65161);k=a(47267);t=(function(m){function p(r,q,u){var T46,v;T46=2;for(;T46 !== 6;){switch(T46){case 9:v.hsa=f.I.Ca(0 <= q.hsa?q.hsa:q.nG);v.RX=Math.pow(10,(q.RX[u] || -44) / 20);return v;break;case 2:var a6Z="1S";a6Z+="IYb";a6Z+="ZrNJ";a6Z+="Cp";a6Z+="9";a6Z;v=m.call(this,r,l.v.X) || this;v.console=r;v.config=q;v.gsa=f.I.Ca(0 <= q.gsa?q.gsa:q.nG);T46=9;break;}}}var K3S;K3S=2;for(;K3S !== 8;){switch(K3S){case 4:p.prototype.Lbc=function(r,q,u,v,w){var e0i,x,y;e0i=2;for(;e0i !== 12;){switch(e0i){case 2:void 0 === u && (u=0);void 0 === v && (v=!0);void 0 === w && (w=!1);e0i=3;break;case 3:(0,h.assert)(r.ma);y=r.ma.zXa;e0i=8;break;case 8:v=!(!r.ma.jp || !v);e0i=7;break;case 7:e0i=!(null !== r.ma.end && r.ma.end !== r.nf || y || r.ma.Wq || v)?6:14;break;case 14:var V_m=" ";V_m+="e";V_m+="dit";V_m+=" fa";V_m+="iled";var L8y="]";L8y+=":";L8y+=" ";var a2s="A";a2s+="udi";a2s+="oMediaFr";a2s+="agmentEditor";a2s+=" [";v=d(r.ma,r.nf,v,r.Ea,this.hsa,this.RX,this.config.Ptb);return (q=new g.Wx(this.VJ,r.stream,q).TDb({Gk:(null !== (x=r.ma.end) && void 0 !== x?x:r.nf) - u,P:r.il,nE:v,OVa:!1,eR:this.config.zZ,SP:n(this.RX),$ja:w}))?{success:!0,mr:r.aEb(y),data:q.Na,JI:q.JI}:(this.console.error(a2s.concat(r.mediaType,L8y).concat(r.toString(),V_m)),{success:!1});break;case 6:return {success:!0};break;}}};p.prototype.K0b=function(r,q,u,v){var q9E,w,x,y,Q2w,A,z,B,C,D,X7M,k06,t20;q9E=2;for(;q9E !== 10;){switch(q9E){case 5:return r;break;case 9:var D6x="R";D6x+="e";D6x+="ques";D6x+="t";D6x+=" bytes mismatch";var f8X="Must have array bu";f8X+="ffers to edit optimiz";f8X+="ed response beyond origin";f8X+="al request";(0,h.assert)((0,k.Ync)(r),f8X);r=1 < r.length?(0,e.Hy)(r):r[0];(0,h.assert)(void 0 === u || u === r.byteLength,D6x);q9E=6;break;case 1:q9E=0 === v.length || v.every(function(H){var i4R,E;i4R=2;for(;i4R !== 5;){switch(i4R){case 2:E=H.offset;i4R=1;break;case 3:E=H.offset;i4R=2;break;case 1:return E + H.remove <= q || void 0 !== u && E >= q + u;break;}}})?5:4;break;case 2:q9E=1;break;case 4:q9E=0 === r.length?3:9;break;case 3:var I39="Expected edit offset to match request offset when ";I39+="e";I39+="ntire edited fragment is in initial response";var w_Z="Expected o";w_Z+="nly one ed";w_Z+="it when entire edited fra";w_Z+="gment";w_Z+=" is in initial response";return ((0,h.assert)(1 === v.length,w_Z),(0,h.assert)(v[0].offset === q,I39),[]);break;case 6:v.sort(function(H,E){var B8I;B8I=2;for(;B8I !== 1;){switch(B8I){case 2:return H.offset - E.offset;break;}}});(x=q,y=[]);try{Q2w=2;for(;Q2w !== 8;){switch(Q2w){case 9:z=A.next();Q2w=1;break;case 1:Q2w=!z.done?5:8;break;case 2:(A=c.__values(v),z=A.next());Q2w=1;break;case 5:(B=z.value,C=B.offset,D=B.remove);C >= x && y.push(r.slice(x - q,C - q));U7QY0.T$6(7);x=Math.max(x,U7QY0.S7f(D,C));Q2w=9;break;}}}catch(H){var F;F={error:H};}finally{X7M=2;for(;X7M !== 1;){switch(X7M){case 2:try{k06=2;for(;k06 !== 1;){switch(k06){case 2:z && !z.done && (w=A.return) && w.call(A);k06=1;break;}}}finally{t20=2;for(;t20 !== 5;){switch(t20){case 1:throw F.error;t20=5;break;case 3:t20=F?7:2;break;case 2:t20=F?1:5;break;}}}X7M=1;break;}}}x < q + r.byteLength && y.push(r.slice(x - q));return y;break;}}};return p;break;case 2:c.__extends(p,m);p.prototype.ma=function(r,q){var s90,G,y,A,z,C,D,F,H,E,B,u,v,w,x;s90=2;for(;s90 !== 39;){switch(s90){case 19:s90=0 < r.ma.start || r.ma.Dsa || r.ma.Wq?18:24;break;case 44:G=z.byteLength - C.byteLength + y.reduce(function(K,N){var S2Q;S2Q=2;for(;S2Q !== 1;){switch(S2Q){case 2:return K + N.remove;break;}}},0);E.forEach(function(K){var O5q;O5q=2;for(;O5q !== 1;){switch(O5q){case 2:K.offset+=G;O5q=1;break;}}});s90=42;break;case 25:E && y.push.apply(y,c.__spreadArray([],c.__read(E),!1));s90=24;break;case 14:(y=r.pt,A=this.bob(y),z=A.bSa);A=A.SQ;s90=12;break;case 32:s90=!D?31:30;break;case 6:return {success:!1};break;case 23:C=D?(0,e.Hy)(D):z;q=this.Lbc(r,C,F,q,B);D=q.success;F=q.mr;H=q.data;E=q.JI;s90=32;break;case 12:s90=!z?11:10;break;case 16:return {success:D};break;case 31:return {success:D};break;case 7:s90=0 >= r.Rb.ia?6:14;break;case 24:s90=null !== r.ma.end && r.ma.end !== r.nf || r.ma.zXa || r.ma.jp?23:41;break;case 8:var s3P="AudioM";s3P+="ediaFragmentEditor: fr";s3P+="agment has missin";s3P+="g responses";(0,h.assert)(r.gP,s3P);s90=7;break;case 17:s90=!D?16:15;break;case 9:return {success:!0};break;case 3:s90=!r.ma?9:8;break;case 18:(C=this.Kbc(r,z,q,B),D=C.success,F=C.mr,H=C.data,E=C.JI);s90=17;break;case 28:s90=E?44:41;break;case 41:D=(D || [z]).concat(this.K0b(A,null !== (v=null === (u=r.FY) || void 0 === u?void 0:u.offset) && void 0 !== v?v:z.byteLength,null === (w=r.FY) || void 0 === w?void 0:w.ka,y));return {success:!0,tj:x,pt:D};break;case 10:B=!1 === r.kka && !y.every(function(K){var L$X=U7QY0;var R4d;R4d=2;for(;R4d !== 1;){switch(R4d){case 2:L$X.T$6(8);return L$X.F8S(K,ArrayBuffer);break;case 4:L$X.T$6(8);return L$X.S7f(K,ArrayBuffer);break;}}});y=[];s90=19;break;case 15:F && x.push(F);D=H?[(0,e.Hy)(H)]:void 0;F=r.ma.start;s90=25;break;case 42:y.push.apply(y,c.__spreadArray([],c.__read(E),!1));s90=41;break;case 2:var s4D="AudioMediaFragmentEditor [${fragment.mediaType}]: Attempt ";s4D+="to edit appended f";s4D+="r";s4D+="agment";void 0 === q && (q=!0);x=[];(0,h.assert)(!r.ZA,s4D);s90=3;break;case 30:F && x.push(F);D=H?[(0,e.Hy)(H)]:void 0;s90=28;break;case 11:return {success:!1};break;}}};p.prototype.Kbc=function(r,q,u,v){var o5h,w;o5h=2;for(;o5h !== 14;){switch(o5h){case 2:void 0 === u && (u=!0);void 0 === v && (v=!1);(0,h.assert)(r.ma);w=r.ma.Dsa;u=!(!r.ma.jp || !u);o5h=9;break;case 9:o5h=!(r.ma.start || w || r.ma.Wq || u)?8:7;break;case 7:u=d(r.ma,r.nf,u,r.Ea,this.gsa,this.RX,this.config.Ptb);o5h=6;break;case 8:return {success:!0};break;case 6:var n3l=" edit fa";n3l+="i";n3l+="le";n3l+="d";var R9J="]";R9J+=":";R9J+=" ";var Y7$="AudioMe";Y7$+="diaFragmentE";Y7$+="ditor [";return (q=new g.Wx(this.VJ,r.stream,q).KDb({Gk:r.ma.start,P:r.il,nE:u,OVa:!1,eR:this.config.zZ,SP:n(this.RX),$ja:v}))?{success:!0,mr:r.aEb(w),data:q.Na,JI:q.JI}:(this.console.error(Y7$.concat(r.mediaType,R9J).concat(r.toString(),n3l)),{success:!1});break;}}};K3S=4;break;}}})(k.rza);b.L0a=t;},5753:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.M0a=void 0;d=a(48170);t=(function(){function n(c){this.console=c;}n.prototype.uv=function(){};n.prototype.append=function(c,g){var f,e,h,l,k,m,p;if(c.Ki)return c;f=!1;e=c.Na;h=c.offset;l=c.jg;c=c.tj;g=g.VX;k=e.Mb;if(this.Fp && k.lessThan(this.Fp.Mb)){m=this.Fp.VX.ca(e.Pb);p=e.Mb.ca(this.Fp.VX);p.lessThan(m) && (d.u && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(e) + (", current error: ").concat(m.ba()) + (", discard error: ").concat(p.ba())),f=!0);}this.Fp=(e.Yj || e.qz) && g?{VX:g,Mb:k}:void 0;return {Na:e,offset:h,jg:l,Ki:f,tj:c};};return n;})();b.M0a=t;},99125:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.F5a=void 0;t=(function(){function a(d){this.Daa=!1;this.UHc=d.Gnc;}a.prototype.uv=function(){};a.prototype.append=function(d){d.Na.ma && (d.Na.WGc(this.Daa?0:this.UHc),this.Daa=!0);return d;};return a;})();b.F5a=t;},47267:function(t,b,a){var n,c,g,f;function d(e){var h;return null === (h=e.every) || void 0 === h?void 0:h.call(e,function(l){return l instanceof ArrayBuffer;});}Object.defineProperties(b,{__esModule:{value:!0}});b.rza=void 0;b.Ync=d;n=a(66164);c=a(91562);g=a(91176);f=a(69575);t=(function(){function e(h,l){this.console=h;this.mediaType=l;this.VJ=new n.platform.Console("MP4","media|asejs");}e.prototype.a4b=function(h){return h.stream.oub;};e.prototype.bob=function(h,l){var k,m,u;void 0 === l && (l=!1);k=h[0];if(!(k instanceof ArrayBuffer))return (this.VJ.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: response is not ArrayBuffer")),{SQ:h});m=c.fH.path(new DataView(k),["moof"]).end;if(!m)return (this.VJ.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: start of moof not found in first response")),{SQ:h});for(var p=m + (l?8:0),r=k.byteLength,q=1;r < p && q < h.length;){u=h[q];u instanceof ArrayBuffer && (r+=u.byteLength);++q;}if(r < p)return (this.VJ.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: moof not found in responses")),{SQ:h});if(1 !== q){k=h.slice(0,q);if(!d(k))return (this.VJ.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: moof responses are not ArrayBuffer")),{SQ:h});k=(0,f.Hy)(k);}h=h.slice(q);return l?(l=new DataView(k),q=l.getUint32(m),(0,g.assert)("mdat" === (0,c.vH)(l.getUint32(m + 4)),"Expected mdat after moof"),{bSa:k,jtc:m,ktc:q,SQ:h}):{bSa:k,SQ:h};};return e;})();b.rza=t;},98321:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.N7a=void 0;d=a(91176);n=a(66164);c=a(65161);g=a(52571);f=a(15341);e=a(31330);h=a(5483);l=a(81600);k=a(41329);m=a(99125);p=a(82924);r=a(5753);q=a(75811);u=a(44237);v=a(15625);w=a(44646);t=(function(){function x(y,A,z,B){this.config=y;this.mediaType=A;this.eg=z;this.console=B;}x.prototype.append=function(y,A){var z,B,C,D,F,H;void 0 === this.track?this.nPa(y.stream):this.track !== y.stream.track && ((0,g.assert)(void 0 !== this.Pn),(0,g.assert)(this.mediaType !== c.v.X || this.track.Ea),(0,g.assert)(this.mediaType !== c.v.X || y.stream.track.Ea),this.track=y.stream.track,this.Pn.forEach(function(E){return E.uv(y.stream);}));(0,g.assert)(void 0 !== this.Pn);C=this.Pn.reduce(function(E,G){return G.append(E,A);},{Na:y,offset:y.jra || d.I.fa,jg:this.config.HZ,Ki:!1});D=C.Na;F=C.offset;H=C.Ki;C=C.tj;C=void 0 === C?[]:C;D.ma && ((0,g.assert)(y.ma,"Fragments must be marked for edit at request time"),y.Gh(D.ma));if(H || null === (z=this.IRa) || void 0 === z || !z.a4b(y))return {offset:F,Ki:H};z=this.IRa.ma(y,!(null === (B=y.K) || void 0 === B || !B.jp));B=z.success;D=z.tj;z=z.pt;Array.prototype.push.apply(C,void 0 === D?[]:D);return {offset:F,Ki:!B,tj:C,pt:z};};x.prototype.reset=function(){this.Pn=this.track=void 0;};x.prototype.nPa=function(y){var A,z;this.track=y.track;this.mediaType === c.v.X?this.IRa=new q.L0a(this.console,this.config,y.profile):this.mediaType === c.v.V && (this.IRa=new v.Qcb(this.console,this.config));this.Pn=[];this.mediaType === c.v.X && (this.Pn.push(new f.Z$a(this.config,this.eg,this.console)),this.config.HZ && this.Pn.push(new h.Rab(this.config,this.console)),this.Pn.push(new w.Ebb(this.console)),y.wh && y.ee && this.qPa(y.O.J) && this.Pn.push(new m.F5a(this.config)),this.config.I9 || (this.console.log(("MediaSplicer: NegativePtsGuard:  ").concat(null === (A=y.ee) || void 0 === A?void 0:A.ba())),this.Pn.push(new l.m8a(this.config,this.console))),this.Qoc()?(this.config.zm || this.Pn.push(new p.K0a(this.config,this.eg,this.console)),this.config.HZ && this.Pn.push(new u.jva(this.console)),!1 !== (null === (z=n.platform.MediaSource.eg) || void 0 === z?void 0:z.S2c) && this.Pn.push(new e.A8a(this.console)),this.config.vLc && ((0,g.assert)(y.Ea),this.Pn.push(new k.scb(y.Ea,this.console)))):(this.Pn.push(new r.M0a(this.console)),this.config.HZ && this.Pn.push(new u.jva(this.console))));this.Pn.forEach(function(B){return B.uv(y);});};x.prototype.qPa=function(y){return this.config.qPa || this.config.Rtb && -1 !== this.config.Rtb.indexOf(y);};x.prototype.Qoc=function(){return !this.config.cR;};return x;})();b.N7a=t;},81600:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.m8a=void 0;d=a(91176);n=a(52571);c=a(48170);t=(function(){function g(f,e){this.console=e;this.Daa=!1;this.wh=f.wh;}g.prototype.uv=function(f){(0,n.assert)(f.Ea,"NegativePtsGuard: stream.frameDuration must exist.");this.Ea=f.Ea;this.wh=f.wh;this.ee=f.ee || d.I.fa;};g.prototype.append=function(f){var e,h,l,k,m;if(this.Daa || f.Ki)return f;e=f.Na;h=f.offset;l=f.jg;f=f.tj;if(e.ma){k=e.sa.ca(this.wh?this.ee:d.I.fa).add(h);if(k.lessThan(d.I.fa)){m=Math.ceil(k.Jg(-1).bf(this.Ea));c.u && this.console.trace(("NegativePtsGuard: dropping ").concat(m," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.ee.ba(),", ") + ("request content start ").concat(e.sa.ba(),", ") + ("current timestamp offset ").concat(h.ba()," => ") + ("firstPlatformTimestamp ").concat(k.ba(),"."));e.sKa(m);}}this.Daa=!0;return {Na:e,offset:h,jg:l,Ki:!1,tj:f};};return g;})();b.m8a=t;},31330:function(t,b,a){var n,c,g,f,e;function d(h){return ("").concat(h.ba()," (nrdp: ").concat(h.gR,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.A8a=void 0;n=a(91176);c=a(78647);g=a(48170);f=a(52571);e=a(8149);t=(function(){function h(l){this.console=l;this.offset=this.ml=this.sK=n.I.fa;}h.prototype.uv=function(l){var k;(0,f.assert)(l.Ea,"NrdpRounding: stream.frameDuration must exist.");this.Ea=l.Ea;k=l.wh?l.ee || n.I.fa:n.I.fa;this.ee && (this.sK=k.ca(this.ee));this.ee=k;this.ml=(0,e.Xj)(l)?l.ml || n.I.fa:n.I.fa;g.u && this.console.trace(("NrdpRounding::setStream: live ").concat((0,e.Xj)(l)?"true":"false",", ") + ("profile offset: ").concat(this.ee.ba(),", ") + ("presentation offset: ").concat(this.ml.ba()));};h.prototype.append=function(l){var k,m,p,r,q;(0,f.assert)(this.ee,"NrdpRounding: profileTimestampOffset must exist.");(0,f.assert)(this.Ea,"NrdpRounding: frameDuration must exist.");if(l.Ki)return l;k=l.Na;m=l.offset;p=l.jg;r=l.tj;if(void 0 !== this.Hvb){(0,f.assert)(void 0 !== this.rQa);q=this.Hvb.add(this.sK);k.sa.add(l.offset).equal(q)?(l=this.E3b(k,m.add(this.offset)).G - this.rQa,0 > l?this.offset=this.offset.add(n.I.kx):0 === l?this.offset.lessThan(n.I.fa) && (this.offset=this.offset.add(n.I.kx)):1 === l?this.offset.greaterThan(n.I.fa) && (this.offset=this.offset.ca(n.I.kx)):this.offset=this.offset.ca(n.I.kx)):(g.u && this.console.trace("NrdpRounding: non-seamless: reverting to zero offset"),this.offset=n.I.fa);}this.rQa=this.D3b(k,m.add(this.offset)).G;this.Hvb=k.za.add(m);this.sK=n.I.fa;return {Na:k,offset:m.add(this.offset),jg:p,Ki:!1,tj:r};};h.prototype.E3b=function(l,k){var m,p;l=this.Fgb(l.sa);k=k.ca(this.ml);m=(0,c.bC)(l).add((0,c.bC)(k));p=l.add(k).ca(m);g.u && this.console.trace("NrdpRounding: content start " + d(l) + ", adjusted offset: " + d(k) + ", start rounding error: " + (0,c.bC)(l).toString() + ", adjusted offset rounding error: " + (0,c.bC)(k).toString() + ", total error: " + m.toString() + ", expected nrdp value:" + p.ba() + ", (" + l.gR + k.gR + "ms), last fragment end nrdp: " + this.rQa);return p;};h.prototype.D3b=function(l,k){var m,p,r;m=this.Ea;l=this.Fgb(l.za);k=k.ca(this.ml);p=(0,c.bC)(l.ca(m)).add((0,c.bC)(m)).add((0,c.bC)(k));r=l.add(k).ca(p);g.u && this.console.trace("NrdpRounding: content end: start of last frame:" + d(l.ca(m)) + ", frame duration: " + d(m) + ", adjusted offset: " + d(k) + ", timestamp rounding error: " + (0,c.bC)(l.ca(m)).toString() + ", frame duration rouding error: " + (0,c.bC)(m).toString() + ", adjusted offset rounding error: " + (0,c.bC)(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + r.ba() + ", (" + l.ca(m).gR + m.gR + k.gR + "ms)");return r;};h.prototype.Fgb=function(l){return l.add(this.ml).ca(this.ee);};return h;})();b.A8a=t;},15341:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Z$a=void 0;d=a(91176);t=(function(){function n(c,g,f){var e;this.config=c;this.eg=g;this.console=f;this.qC=d.I.fa;this.console.debug("ProfileTimestampOffset initialized with config:",{F5:this.config.F5,WH:this.config.WH,IZa:this.config.IZa,aKa:null === (e=this.eg) || void 0 === e?void 0:e.aKa});}n.prototype.uv=function(c){this.qC=this.I3b(c);this.console.debug(("ProfileTimestampOffset for ").concat(c.track.XGa,": ") + this.qC.ba());};n.prototype.append=function(c){var g,f,e,h;g=c.Na;f=c.offset;e=c.jg;h=c.Ki;c=c.tj;this.console.debug("ProfileTimestampOffset.append applying adjustment:",{$1c:f.ba(),F2c:this.qC.ba(),X2c:f.add(this.qC).ba()});return {Na:g,offset:f.add(this.qC),jg:e,Ki:h,tj:c};};n.prototype.I3b=function(c){var g,f,e;g=c.track.XGa;if(void 0 === g)return (this.console.debug("ProfileTimestampOffset.calculateProfileTimestampOffset: No codec name, returning zero offset"),d.I.fa);c=c.ee;f=this.$Ja(g);e=c.ca(f);this.console.debug("ProfileTimestampOffset.calculateProfileTimestampAdjustment:",{cja:g,S3c:c.ba(),$Ja:f.ba(),result:e.ba()});return e;};n.prototype.$Ja=function(c){var g,f,e;f=d.I.fa;if("AAC" === c){e=null === (g=this.eg) || void 0 === g?void 0:g.aKa;this.config.IZa && void 0 !== e && 0 <= e?(f=new d.I(-e,48E3),this.console.debug("ProfileTimestampOffset using device assumed AAC encoder delay:",{aKa:e,N1c:f.ba()})):this.config.WH || (f=new d.I(this.config.F5.ticks,this.config.F5.timescale));}this.console.debug("ProfileTimestampOffset.deviceAppliedTimestampOffset final result:",{cja:c,$Ja:f.ba()});return f;};return n;})();b.Z$a=t;},5483:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rab=void 0;d=a(91176);n=a(52571);c=a(48170);t=(function(){function g(f,e){this.config=f;this.console=e;this.rs=d.I.fa;}g.prototype.uv=function(f){(0,n.assert)(f.Ea,"SeamlessAudio: stream.frameDuration must exist.");this.Ea=f.Ea;f=f.profile;this.Moa=this.Tic(f,this.Ea);this.woa=this.Pic(f,this.Ea);this.YW=-1 !== this.config.Chb.indexOf(f);};g.prototype.append=function(f,e){var h,l,k,m,p;if(f.Ki)return f;h=f.Na;l=f.offset;k=f.tj;k=void 0 === k?[]:k;f=f.jg;m=e.VX;e=e.eSa;if(this.LTa){p=this.fuc(h,this.LTa);h.ma && !this.YW && this.cHa(p)?(c.u && this.console.trace("SeamlessAudio: dropping first frame"),h.sKa(1),this.rs=p):(this.rs=p.add(this.Ea),this.Nhb(this.rs) || (c.u && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Pb.ba() + " error would be " + this.rs.ba() + " (editing " + (h.ma?"":"not ") + "allowed)"),k.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:h.Jb,pts:h.sa.G}}}}),this.rs=d.I.fa,f=!1));this.LTa=void 0;}if(h.Yj || h.qz)((0,n.assert)(m,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.ma || !e && h.qz || (p=this.guc(h,m,e),e && this.YW && p.pf(this.Ea)?(c.u && this.console.trace("SeamlessAudio: dropping last two frames"),h.ika(2)):p.pf(d.I.fa) && (c.u && this.console.trace("SeamlessAudio: dropping last frame"),h.ika(1))),this.LTa=m);(0,n.assert)(this.Nhb(this.rs));this.FP=h.Mb;c.u && this.console.trace("SeamlessAudio: c: " + h.sa.ba() + " - " + h.za.ba() + " av sync offset: " + this.rs.ba() + " pts offset: " + l.add(this.rs).ba() + " p: " + h.sa.add(l).add(this.rs).ba() + " - " + h.za.add(l).add(this.rs).ba());return {Na:h,offset:l.add(this.rs),jg:f,Ki:0 === h.kG,tj:k.length?k:void 0};};g.prototype.guc=function(f,e,h){var l;if(h)l=this.rs.add(f.Mb.ca(h)).ca(this.Ea);else (l=f.Mb.ca(e),l=this.rs.add(l).ca(this.Ea));c.u && this.console.trace("SeamlessAudio: fragment end: " + f.Mb.ba() + ", splice " + e.ba() + ", next start " + (null === h || void 0 === h?void 0:h.ba()) + ", error " + l.add(this.Ea).ba() + ", error with frame drop " + l.ba() + ", is" + (this.cHa(l)?"":" not") + " within bounds of [" + this.Moa.ba() + " and " + this.woa.ba() + ")");return l;};g.prototype.fuc=function(f,e){var h;(0,n.assert)(this.FP);h=this.rs.add(this.FP.ca(f.Pb)).ca(this.Ea);c.u && this.console.trace("SeamlessAudio: fragment start: " + f.Pb.ba() + ", splice " + e.ba() + ", last fragment end: " + this.FP.ba() + ", error " + h.add(this.Ea).ba() + ", error with frame drop " + h.ba() + ", is" + (this.cHa(h)?"":" not") + " within bounds of [" + this.Moa.ba() + " and " + this.woa.ba() + ")");return h;};g.prototype.cHa=function(f){return f.lessThan(this.woa) && f.pf(this.Moa);};g.prototype.Nhb=function(f){return f.lessThan(this.woa.add(d.I.kx)) && f.pf(this.Moa.ca(d.I.kx));};g.prototype.Pic=function(f,e){return "object" === typeof this.config.mWa && void 0 !== this.config.mWa[f]?(f=new d.I(this.config.mWa[f],1E3).Rc(e.P).add(new d.I(1,e.P)),d.I.min(e,f)):e;};g.prototype.Tic=function(f,e){var h;if("object" === typeof this.config.nWa && void 0 !== this.config.nWa[f]){h=e.bf(-2);f=new d.I(this.config.nWa[f],1E3).Rc(e.P).ca(new d.I(1,e.P));return d.I.max(h,f);}return new d.I(-12,1E3);};return g;})();b.Rab=t;},44646:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Ebb=void 0;d=a(91176);n=a(48170);t=(function(){function c(g){this.console=g;this.Zpa=d.I.fa;this.umb=!1;this.qC=d.I.fa;}c.prototype.uv=function(g){var f;f=g.wh?g.ee:d.I.fa;this.umb || (this.Zpa=f,this.umb=!0);this.qC=f.ca(this.Zpa);n.u && this.console.debug("StreamingProfileTimestampOffset initialized with profile timestamp offset:",{Zpa:this.Zpa.ba(),dWc:f.ba(),qC:this.qC.ba(),Jb:g.Jb});};c.prototype.append=function(g){var f,e,h;if(g.Ki)return g;f=g.jg;e=g.Ki;h=g.tj;return {Na:g.Na,offset:g.offset.add(this.qC),jg:f,Ki:e,tj:h};};return c;})();b.Ebb=t;},41329:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.scb=void 0;d=a(91176);n=a(48170);t=(function(){function c(g,f){this.Ea=g;this.console=f;this.ee=d.I.fa;}c.prototype.uv=function(g){this.ee=g.wh?g.ee:d.I.fa;n.u && this.console.debug("TruncateEndOfStreamAudio initialized with profile timestamp offset:",{ee:this.ee.ba(),Jb:g.Jb});};c.prototype.append=function(g,f){var e,h,l,k,m,p;e=g.Na;h=g.offset;l=g.jg;k=g.tj;g=g.Ki;if(!g){m=f.endOfStream;f=f.VX;if(m && f){m=e.sa.ca(this.ee).add(h);p=e.za.ca(this.ee).add(h);f=f.ca(d.I.kx);n.u && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + m.ba() + "-" + p.ba() + " vs media splice point at " + f.ba());m.add(this.Ea).pf(f)?(n.u && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),g=!0):p.pf(f) && (f=Math.ceil(p.ca(f).bf(this.Ea)),e.ma?(n.u && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(f," frames")),e.ika(f)):(n.u && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),g=!0));}else m && n.u && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {Na:e,offset:h,jg:l,Ki:g,tj:k};};return c;})();b.scb=t;},15625:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Qcb=void 0;d=a(22970);n=a(91562);c=a(52571);g=a(69575);f=a(45247);t=(function(e){function h(l,k){var m;m=e.call(this,l,f.v.V) || this;m.console=l;m.config=k;return m;}d.__extends(h,e);h.prototype.ma=function(l){var k,m,p,r,q,u,v,w,x,y;(0,c.assert)(!l.ZA,"AudioMediaFragmentEditor [${fragment.mediaType}]: Attempt to edit appended fragment");if(!l.ma)return {success:!0};m=0 < l.ma.start;p=null !== l.ma.end && l.ma.end < l.nf;if(!m && !p)return {success:!0};(0,c.assert)(l.gP,"AudioMediaFragmentEditor: fragment has missing responses");if(0 >= l.Rb.ia)return {success:!1};r=l.pt;q=this.bob(r,!0);u=q.bSa;v=q.jtc;w=q.ktc;q=q.SQ;if(!u || !v || !w)return {success:!1};v=u.slice(0,v);r=!1 === l.kka && !r.every(function(A){return A instanceof ArrayBuffer;});if(m){m=new n.Wx(this.VJ,l.stream,u);x=m.KDb({Gk:l.ma.start,P:l.P,$ja:r});}if(p && !1 !== x){m=new n.Wx(this.VJ,l.stream,x?(0,g.Hy)(x.Na):u);y=m.TDb({Gk:(null !== (k=l.ma.end) && void 0 !== k?k:l.nf) - l.ma.start,P:l.P,$ja:r});}l=(l=p?y:x)?[(0,g.Hy)(l.Na)]:[v];l.push.apply(l,d.__spreadArray([],d.__read(q),!1));return {success:!0,pt:l};};return h;})(a(47267).rza);b.Qcb=t;},32412:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.kT=void 0;d=a(91176);n=a(52571);c=a(65161);t=(function(){function g(f){var e;void 0 === f && (f=[]);e=this;this.items=f;f.forEach(function(h){return e.qZa(h);});}Object.defineProperties(g.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ht:{get:function(){var f;return null !== (f=this.video) && void 0 !== f?f:this.audio;},enumerable:!1,configurable:!0}});g.prototype.get=function(f){switch(f){case c.v.V:return this.video;case c.v.X:return this.audio;case c.v.Aa:return this.text;}};g.prototype.Lsb=function(f){return -1 !== this.items.indexOf(f);};g.prototype.every=function(f){return this.items.every(f);};g.prototype.some=function(f){return this.items.some(f);};g.prototype.forEach=function(f){this.items.forEach(f);};g.prototype.find=function(f){return (0,d.oc)(this.items,f);};g.prototype.reduce=function(f,e){return this.items.reduce(f,e);};g.prototype.filter=function(f){return new g(this.items.filter(f));};g.prototype.map=function(f){return this.items.map(f);};g.prototype.replace=function(f,e){var h;h=this.items.indexOf(f);(0,n.assert)(-1 < h);(0,n.assert)(f.mediaType === e.mediaType);this.items[h]=e;this.qZa(e);};g.prototype.add=function(f){this.items.push(f);this.qZa(f);};g.prototype.remove=function(f){var e;e=this.items.indexOf(f);if(-1 === e)return !1;this.items.splice(e,1);this.v5b(f.mediaType);return !0;};g.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};g.prototype.qZa=function(f){switch(f.mediaType){case c.v.V:this.video=f;break;case c.v.X:this.audio=f;break;case c.v.Aa:this.text=f;}};g.prototype.v5b=function(f){switch(f){case c.v.V:this.video=void 0;break;case c.v.X:this.audio=void 0;break;case c.v.Aa:this.text=void 0;}};return g;})();b.kT=t;},27255:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.a4a=void 0;d=a(52571);n=a(16146);t=(function(){function c(){this.global=new n.h2();this.DQ={};}c.prototype.add=function(g,f){(0,d.assert)(void 0 === this.DQ[g],"Cannot add new memory object for playgraph");this.DQ[g]=f;this.global.add(f.su);this.global.add(f.S5);};return c;})();b.a4a=t;},16146:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.h2=void 0;d=a(65161);t=(function(){function n(){this[d.v.X]=0;this[d.v.V]=0;this[d.v.Aa]=0;this[d.v.Im]=0;}Object.defineProperties(n.prototype,{total:{get:function(){return this[d.v.X] + this[d.v.V] + this[d.v.Aa];},enumerable:!1,configurable:!0}});n.prototype.add=function(c){this[d.v.X]+=Math.max(c[d.v.X] || 0,0);this[d.v.V]+=Math.max(c[d.v.V] || 0,0);this[d.v.Aa]+=Math.max(c[d.v.Aa] || 0,0);};n.prototype.kGa=function(c,g){this[c]+=Math.max(g || 0,0);};return n;})();b.h2=t;d.v.X;d.v.V;d.v.Aa;d.v.Im;},59839:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.y$a=void 0;d=a(16146);t=(function(){function n(){this.su=new d.h2();this.S5=new d.h2();}Object.defineProperties(n.prototype,{total:{get:function(){var c;c=new d.h2();c.add(this.su);c.add(this.S5);return c;},enumerable:!1,configurable:!0}});n.prototype.add=function(c){this.su.add(c.su);this.S5.add(c.S5);};n.prototype.kGa=function(c,g,f){(f?this.S5:this.su).kGa(c,g);};return n;})();b.y$a=t;},3033:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ML=void 0;t=a(22970);d=a(66164);n=a(45550);c=t.__importDefault(a(32838));g=t.__importDefault(a(95880));f=t.__importDefault(a(40497));e=a(52571);h=a(27977);l=t.__importDefault(a(66058));a=(function(){function m(p,r,q){var u;u=this;this.fl=new c.default(p,q);this.XJ=new g.default(p);this.pR=new l.default(p);this.ed=new f.default(this.XJ,this.fl,this.pR,p);this.Gba=new h.wbb(d.platform.Cja,r);n.IL.q6b(p);p.F$ && (this.Zsb=setInterval(function(){u.fl.save();u.XJ.save();},p.F$));}m.Sla=function(p,r,q){void 0 === k?(m.config=p,m.EYa=q,k=new m(p,r,q)):((0,e.assert)(m.config === p),(0,e.assert)(m.EYa === q));return k;};m.instance=function(){(0,e.assert)(k,"CommonGlobals accessed too early");return k;};m.reset=function(){m.config=void 0;m.EYa=void 0;null === k || void 0 === k?void 0:k.reset();k=void 0;};m.prototype.reset=function(){this.ed.reset();this.Zsb && clearInterval(this.Zsb);};return m;})();b.ML=a;},29340:function(t,b){function a(d,n){var c;d.__proto__ && d.__proto__ !== Object.prototype && a(d.__proto__,n);Object.getOwnPropertyNames(d).forEach(function(g){c=Object.getOwnPropertyDescriptor(d,g);void 0 !== c && Object.defineProperty(n,g,c);});}Object.defineProperties(b,{__esModule:{value:!0}});b["default"]=a;},10561:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(58982),b);t.__exportStar(a(6152),b);t.__exportStar(a(85886),b);t.__exportStar(a(33421),b);t.__exportStar(a(76829),b);t.__exportStar(a(11528),b);t.__exportStar(a(65427),b);t.__exportStar(a(41535),b);t.__exportStar(a(41756),b);t.__exportStar(a(13520),b);t.__exportStar(a(67592),b);t.__exportStar(a(32984),b);t.__exportStar(a(57141),b);t.__exportStar(a(23612),b);t.__exportStar(a(90206),b);t.__exportStar(a(6198),b);t.__exportStar(a(56368),b);t.__exportStar(a(87959),b);t.__exportStar(a(84819),b);t.__exportStar(a(17479),b);t.__exportStar(a(38702),b);t.__exportStar(a(15065),b);t.__exportStar(a(80426),b);t.__exportStar(a(52741),b);t.__exportStar(a(2023),b);t.__exportStar(a(48244),b);t.__exportStar(a(9612),b);t.__exportStar(a(30030),b);t.__exportStar(a(60223),b);t.__exportStar(a(23530),b);t.__exportStar(a(77856),b);t.__exportStar(a(55025),b);t.__exportStar(a(49961),b);t.__exportStar(a(78909),b);t.__exportStar(a(34439),b);t.__exportStar(a(43102),b);t.__exportStar(a(53894),b);t.__exportStar(a(9273),b);t.__exportStar(a(66581),b);t.__exportStar(a(15869),b);t.__exportStar(a(44972),b);t.__exportStar(a(24109),b);t.__exportStar(a(6401),b);},6152:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},85886:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},33421:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},76829:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},58982:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},11528:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Dd=void 0;b.gr=function(d){return d === a.Df || d === a.Fl || d === a.Wfa;};(function(d){d[d.by=0]="STOPPED";d[d.Df=1]="BUFFERING";d[d.Fl=2]="REBUFFERING";d[d.Po=3]="STREAMING";d[d.Wfa=4]="TRACK_SWITCH";})(a || (b.Dd=a={}));},65427:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},41535:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},78909:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Hv=void 0;d=a(91176);Object.defineProperties(b,{Hv:{enumerable:!0,get:function(){return d.Hv;}}});},41756:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},13520:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},32984:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},24940:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.dCa=void 0;b.L_c=function(d){return d && d.Hra === a.Je;};b.DPa=function(d){return d && d.Hra === a.Je;};b.Zoc=function(d){return d && d.Hra === a.Je;};(function(d){d[d.Je=0]="http";d[d.kYc=1]="ella";})(a || (b.dCa=a={}));},24109:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},15869:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},65161:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(10561),b);},57141:function(t,b){function a(d){return "globalAudioMemoryLimit" === d || "globalVideoMemoryLimit" === d?"global":"staticAudioMemoryLimit" === d || "staticVideoMemoryLimit" === d?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.kDb=function(d){return "globalMemoryLimit" === d?"global":"staticMemoryLimit" === d?"static":a(d);};b.XBc=a;b.T3c=function(d){return ("IStreamable: ").concat(d.identifier," [").concat(d.mediaType,"] ").concat(d.groupId," ") + ("p:").concat(JSON.stringify(d.Mg)," sp:").concat(d.sv," ") + ("pssp:").concat(d.$F," ") + ("state:").concat(d.Xd," path-complete:").concat(d.et," ") + ("streaming:").concat(d.vn," current:").concat(d.Tn);};},23612:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},90206:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},56368:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},6198:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Doa=b.g2=b.kda=b.v=void 0;b.LF=function(n){var c;return null !== (c=d.XP[n]) && void 0 !== c?c:"unknown";};d=a(26388);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return d.v;}}});Object.defineProperties(b,{kda:{enumerable:!0,get:function(){return d.kda;}}});b.g2=[d.v.X,d.v.V,d.v.Aa];b.Doa=function(n,c,g){n=n || c?c?[d.v.V]:[d.v.X]:[d.v.X,d.v.V];g && n.push(d.v.Aa);return n;};},87959:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},84819:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},17479:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.lM={};t[t.HAVE_NOTHING=0]="HAVE_NOTHING";t[t.SS=1]="HAVE_SOMETHING";t[t.RS=2]="HAVE_MINIMUM";t[t.U0=3]="HAVE_ENOUGH";},38702:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},15065:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},80426:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Wb=void 0;b.aUa=function(c){return c === d.Dd.Df?n.Df:c === d.Dd.Fl?n.Fl:c === d.Dd.Wfa?n.Df:c === d.Dd.Po?n.bg:n.Oo;};d=a(11528);(function(c){c[c.Oo=0]="STARTING";c[c.Df=1]="BUFFERING";c[c.Fl=2]="REBUFFERING";c[c.bg=3]="PLAYING";c[c.Lfa=4]="STOPPING";c[c.by=5]="STOPPED";c[c.gi=6]="PAUSED";})(n || (b.Wb=n={}));},34439:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(58457),b);t.__exportStar(a(27066),b);t.__exportStar(a(92251),b);t.__exportStar(a(80094),b);t.__exportStar(a(87519),b);t.__exportStar(a(81451),b);t.__exportStar(a(60248),b);t.__exportStar(a(59638),b);},58457:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},60248:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},81451:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},27066:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},87519:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},92251:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},59638:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},80094:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},52741:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},2023:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},9612:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},48244:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},30030:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},60223:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},67592:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},23530:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},77856:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},6401:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},44972:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},55025:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},49961:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},9273:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.Qv={};t[t.jTb=0]="PLAYGRAPH_CHANGED";t[t.kTb=1]="PLAYGRAPH_UNCHANGED";t[t.iSb=2]="NO_MATCHING_SEGMENT_FOUND";t[t.AUb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";t[t.sPb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";t[t.rPb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";t[t.BUb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";t[t.mMb=7]="APPENDED_PAST_TRUNCATION_POINT";t[t.VQb=8]="LOSS_OF_POSITION";},43102:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(85892),b);t.__exportStar(a(61555),b);},61555:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yma=function(a){return void 0 !== a.JJb;};b.wPa=function(a){return void 0 !== a.xml && void 0 !== a.images;};},85892:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},66581:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},53894:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},37268:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wx=b.Vx=b.Dl=b.MX=b.Rfa=void 0;d=a(22970);n=a(66164);c=a(91562);Object.defineProperties(b,{Vx:{enumerable:!0,get:function(){return c.Vx;}}});Object.defineProperties(b,{Wx:{enumerable:!0,get:function(){return c.Wx;}}});Object.defineProperties(b,{MX:{enumerable:!0,get:function(){return c.MX;}}});Object.defineProperties(b,{Rfa:{enumerable:!0,get:function(){return c.Rfa;}}});t=(function(g){function f(e,h,l,k,m){return g.call(this,f.console,e,h,l,k,m) || this;}d.__extends(f,g);Object.defineProperties(f,{console:{get:function(){return this.nb || (this.nb=new n.platform.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return f;})(c.Dl);b.Dl=t;},64772:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Swa=void 0;t=a(66164);d=a(56089);n=a(65161);new t.platform.Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var X6H;X6H=2;for(;X6H !== 7;){switch(X6H){case 2:c.prototype.reset=function(){var L8s;L8s=2;for(;L8s !== 1;){switch(L8s){case 2:this.bL=new d.P1a();L8s=1;break;}}};c.prototype.BC=function(g,f){var j0j;j0j=2;for(;j0j !== 1;){switch(j0j){case 2:f.$l && (this.YOa?this.bL.start(g,f.$l,f.yi):f.type === n.v.V && (this.PE[f.$l]?this.PE[f.$l].Sca+=1:this.PE[f.$l]={$l:f.$l,yi:f.yi,Sca:1,Ska:!1},this.cKb(g)));j0j=1;break;}}};c.prototype.CC=function(g,f){var X1A,e;X1A=2;for(;X1A !== 9;){switch(X1A){case 1:X1A=this.YOa?5:4;break;case 7:X1A=f.$l?3:1;break;case 4:e=this.PE[f.$l];f.type === n.v.V && e && (--e.Sca,0 === e.Sca && (e.Ska && this.bL.stop(g,f.$l,f.yi),e.Ska=!1,delete this.PE[f.$l]),this.cKb(g));X1A=9;break;case 5:this.bL.stop(g,f.$l,f.yi);X1A=9;break;case 2:X1A=f.$l?1:9;break;}}};c.prototype.qU=function(g,f,e,h){var C1t;C1t=2;for(;C1t !== 1;){switch(C1t){case 2:h.$l && (this.YOa?this.bL.add(g,f,e,h.$l,h.yi):this.Y3 === h.$l && this.bL.add(g,f,e,h.$l,h.yi));C1t=1;break;}}};X6H=3;break;case 3:c.prototype.ar=function(){var B$r;B$r=2;for(;B$r !== 1;){switch(B$r){case 2:return this.bL.get();break;}}};X6H=9;break;case 9:c.prototype.cKb=function(g){var p44,f,e;p44=2;for(;p44 !== 5;){switch(p44){case 2:(f=Object.keys(this.PE).map(function(h){var K9T;K9T=2;for(;K9T !== 1;){switch(K9T){case 2:return parseInt(h);break;}}}),e=this.PE[f[0]]);1 === f.length && !1 === e.Ska?(this.bL.start(g,e.$l,e.yi),this.Y3=e.$l):1 < f.length && this.Y3 && (f=this.PE[this.Y3],this.bL.stop(g,this.Y3,f.yi),f.Ska=!1,this.Y3=void 0);p44=5;break;}}};return c;break;}}function c(g){var h4W;h4W=2;for(;h4W !== 4;){switch(h4W){case 2:var D8m="1S";D8m+="IYbZrN";D8m+="J";D8m+="Cp9";this.YOa=g;this.PE={};D8m;h4W=4;break;}}}})();b.Swa=a;},21506:function(t,b,a){var n;function d(){this.xq=void 0;this.FH=0;}n=a(17267);d.prototype.start=function(){};d.prototype.stop=function(){};d.prototype.add=function(){};d.prototype.getState=function(){return 0 !== this.FH && this.xq?{p25:this.xq.av,p50:this.xq.sr,p75:this.xq.bv,c:this.FH}:null;};d.prototype.Bi=function(c){if(!(!n.cd(c) && n.has(c,"p25") && n.has(c,"p50") && n.has(c,"p75") && n.has(c,"c") && n.isFinite(c.p25) && n.isFinite(c.p50) && n.isFinite(c.p75) && n.isFinite(c.c)))return (this.xq=void 0,this.FH=0,!1);this.xq={av:c.p25,sr:c.p50,bv:c.p75};this.FH=c.c;};d.prototype.get=function(){return {MTa:this.xq,Hk:this.FH,lpa:void 0};};d.prototype.set=function(c,g){this.xq=c;this.FH=g;};d.prototype.reset=function(){this.xq=void 0;this.FH=0;};d.prototype.toString=function(){return "IQRHist(" + this.xq + "," + this.FH + ")";};t.exports=d;},32838:function(t,b,a){var n,c,g,f,e,h,l,k;function d(m,p,r){return c.has(m,p)?m[p]:m[p]=r;}Object.defineProperties(b,{__esModule:{value:!0}});n=a(22970);c=n.__importStar(a(17267));g=a(66164);f=n.__importDefault(a(14282));e=a(97315);h=a(28600);new g.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");l={confidence:f.default.jq.HAVE_NOTHING,ob:{Da:0},Mw:{Da:0},default:{Da:0},ph:{Da:0},dr:{Da:0},time:0};k=(function(){function m(p){var r;this.config=p;r=p.nEa;this.confidence=f.default.jq.HAVE_NOTHING;this.NJa=p.Rdb;p=new e.fxa(p);this.ob=p.create("throughput-location-history",r);this.Mw=p.create("throughput-location-history",r);this.pta=p.create("throughput-location-history",r);this.qta=p.create("throughput-location-history",r);this.ota=p.create("throughput-location-history",r);this.ph=p.create("respconn-location-history",r);this.dr=p.create("respconn-location-history",r);this.mta=p.create("throughput-tdigest-history",r);this.Xma=p.create("throughput-iqr-history",r);this.Oja=p.create("throughput-location-history",r);this.Qja=p.create("throughput-location-history",r);this.Pja=p.create("throughput-location-history",r);this.Rja=p.create("throughput-location-history",r);this.time=null;}m.prototype.Hha=function(p,r){this.confidence=r;this.ob.add(p);this.mta.add(p);this.time=g.platform.time.na();this.iG();};m.prototype.Dha=function(p){this.Mw.add(p);this.iG();};m.prototype.Iha=function(p){this.pta.add(p.initial);this.qta.add(p.low);this.ota.add(p.high);this.iG();};m.prototype.Gta=function(p,r){this.Xma.set(p,r);this.iG();};m.prototype.sU=function(p){this.ph.add(p);this.iG();};m.prototype.rU=function(p){this.dr.add(p);this.iG();};m.prototype.Bha=function(p){this.Oja.add(p.Da);this.Qja.add(p.Zf);this.Pja.add(p.IU);this.Rja.add(p.M_);this.iG();};m.prototype.getState=function(){var p;p={c:this.confidence,t:c.cd(this.time)?null:g.platform.time.Qoa(this.time),tp:this.ob.getState(),itp:this.Mw.getState(),tcii:this.pta.getState(),tcil:this.qta.getState(),tcih:this.ota.getState(),rt:this.ph.getState(),hrt:this.dr.getState(),iqr:this.Xma.getState(),td:this.mta.getState(),dta:this.Oja.getState(),dtv:this.Qja.getState(),dtta:this.Pja.getState(),dttv:this.Rja.getState()};return c.cd(p.tp) && c.cd(p.rt) && c.cd(p.hrt)?null:p;};m.prototype.Bi=function(p){var r;r=g.platform.time.now();if(!p || c.cd(p.c) || c.cd(p.t) || c.cd(p.tp) || !c.isFinite(p.c) || !c.isFinite(p.t) || c.cd(p.t) || 0 > p.c || p.c > f.default.jq.U0 || p.t > r || !this.ob.Bi(p.tp))return (this.confidence=f.default.jq.HAVE_NOTHING,this.time=null,this.iG(),this.ob.Bi(null),this.ph.Bi(null),this.dr.Bi(null),!1);this.confidence=p.c;this.time=g.platform.time.Apa(p.t);this.ph.Bi(p.rt);this.dr.Bi(p.hrt);this.Mw.Bi(p.itp);this.pta.Bi(p.tcii);this.qta.Bi(p.tcil);this.ota.Bi(p.tcih);this.Oja.Bi(p.dta);this.Qja.Bi(p.dtv);this.Pja.Bi(p.dtta);this.Rja.Bi(p.dttv);c.cd(p.iqr) || this.Xma.Bi(p.iqr);c.cd(p.td) || this.mta.Bi(p.td);return !0;};m.prototype.get=function(){var p,r,q,u,v,w,x,y,A,z,B;if(!c.Ts(this.jW)){if((g.platform.time.na() - this.jW) / 1E3 < this.config.SWb)return n.__assign(n.__assign({},l),{Ff:!0});this.iG();}p=this.config;if(c.cd(this.time))return l;r=(g.platform.time.na() - this.time) / 1E3;r > p.iXb?this.confidence=f.default.jq.HAVE_NOTHING:r > p.TWb && (this.confidence=Math.min(this.confidence,f.default.jq.SS));q=this.ob.get();u=this.Mw.get();p=this.pta.get().Da;v=this.qta.get().Da;w=this.ota.get().Da;x=this.ph.get();y=this.dr.get();A=this.Xma.get();z=this.mta.get();B={Da:this.Oja.yNa().Da,Zf:this.Qja.yNa().Da,IU:this.Pja.get().Da,M_:this.Rja.get().Da};r={wU:r,confidence:this.confidence,ob:q,Mw:u,default:q,ph:x,dr:y,qJ:A,Jk:z,Sq:B,time:0,Ff:!1};r["throughput-ci"]={initial:p,low:v,high:w};return r;};m.prototype.Eic=function(){return {f:c.Ts(this.jW)?void 0:g.platform.time.Qoa(this.jW),g:this.getState(),h:[null,null,null,null]};};m.prototype.GGc=function(p){this.jW=c.Ts(p.f)?void 0:g.platform.time.Apa(p.f);return this.Bi(p.g);};m.prototype.fail=function(p){this.jW=p;};m.prototype.debug=function(){this.get();c.cd(this.time) || g.platform.time.na();};m.prototype.iG=function(){this.jW=void 0;};return m;})();t=(function(){function m(p,r){var q;this.config=p;this.EYa=r;this.sdc();this.FB=new k(this.config);this.load();if(p=p.Bja){q=n.__assign(n.__assign({},l),{confidence:f.default.jq.U0,ob:{Da:p,Zf:0}});this.get=function(){return q;};}}m.prototype.Hla=function(p,r){var q;q=this.config;p=d(this.history,null !== p && void 0 !== p?p:"",{});return d(p,r?r:"",new k(q));};m.prototype.load=function(){var p,r;p=(0,h.YEb)("lh",this.oNc.bind(this));r=(0,h.YEb)("gh",this.gLb.bind(this));p && this.Bi(p);r && this.vGc(r);};m.prototype.gLb=function(p){if(p && "object" === typeof p)return p;};m.prototype.oNc=function(p){var q,u;if(p && "object" === typeof p){for(var r in p){q=p[r];for(u in q)q[u].g=this.gLb(q[u].g) || null;}return p;}};m.prototype.getState=function(){var p,r,q,u,v;p={};for(r in this.history){q=this.history[r];for(u in q){v=q[u];d(p,r,{})[u]=v.Eic();}}return p;};m.prototype.vGc=function(p){this.FB.Bi(p);};m.prototype.Bi=function(p){var r,q,u,v,w,x,y;r=!0;q=this.config;for(u in p){v=p[u];for(w in v){x=v[w];y=new k(q);y.GGc(x)?d(this.history,u,{})[w]=y:r=!1;}}return r;};m.prototype.save=function(){var p;p=this.getState();g.platform.storage.set("lh",p);g.platform.storage.set("gh",this.FB.getState());};m.prototype.sdc=function(){this.history={};this.xja=this.wlb="";this.fl=null;};m.prototype.ssa=function(p){this.wlb=p;this.fl=null;};m.prototype.aGb=function(p){this.xja=p;this.fl=null;};m.prototype.fF=function(){c.cd(this.fl) && (this.fl=this.Hla(this.wlb,this.xja));return this.fl;};m.prototype.Hha=function(p,r){this.fF().Hha(p,r);this.FB.Hha(p,r);};m.prototype.Dha=function(p){this.fF().Dha(p);this.FB.Dha(p);};m.prototype.Iha=function(p){this.fF().Iha(p);this.FB.Iha(p);};m.prototype.Gta=function(p,r){p && p.av && p.sr && p.bv && (this.fF().Gta(p,r),this.FB.Gta(p,r));};m.prototype.sU=function(p){this.fF().sU(p);this.FB.sU(p);};m.prototype.rU=function(p){this.fF().rU(p);this.FB.rU(p);};m.prototype.Bha=function(p){this.fF().Bha(p);this.FB.Bha(p);};m.prototype.fail=function(p,r){this.Hla(p,this.xja).fail(r);};m.prototype.get=function(p){if(p=(p=this.history[p])?p[this.xja]:null)if((p=p.get(),p.confidence > f.default.jq.HAVE_NOTHING))return p;return this.FB.get();};m.prototype.debug=function(){var r,q;for(var p in this.history){r=this.history[p];for(q in r)r[q].debug(p);}};return m;})();b["default"]=t;},95880:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970).__importStar(a(17267));n=a(66164);new n.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");t=(function(){function c(g){this.config=g;this.load();}c.prototype.save=function(){var g;g=this.getState();n.platform.storage.set("nh",g);};c.prototype.Ytb=function(g,f){this.$K && (f > this.gZ && (this.HR+=f - this.gZ,this.gZ=f),-1 === this.Jna || g > this.Jna) && (g=f - g,this.hX.push([this.HR - g,g]),this.trim(),this.Jna=f);};c.prototype.trim=function(){var g;g=this.HR - this.config.Euc;this.hX=this.hX.filter(function(f){return f[0] > g;});};c.prototype.load=function(){var g;g=n.platform.storage.get("nh");this.Bi(g) || (this.gZ=n.platform.time.na(),this.HR=0,this.$K=!1,this.Jna=-1,this.hX=[]);};c.prototype.Bi=function(g){if(!(g && d.has(g,"t") && d.has(g,"s") && d.has(g,"i") && d.ec(g.t) && d.ec(g.s) && d.isArray(g.i)))return !1;this.gZ=n.platform.time.Apa(1E3 * g.t);this.HR=1E3 * g.s;this.$K=!1;this.hX=g.i.map(function(f){return [1E3 * f[0],f[1]];});this.Jna=-1;return !0;};c.prototype.getState=function(){return this.$K?{t:n.platform.time.now() / 1E3 | 0,s:(this.HR + (n.platform.time.na() - this.gZ)) / 1E3 | 0,i:this.hX.map(function(g){return [g[0] / 1E3 | 0,g[1]];})}:{t:n.platform.time.Qoa(this.gZ) / 1E3 | 0,s:this.HR / 1E3 | 0,i:this.hX.map(function(g){return [g[0] / 1E3 | 0,g[1]];})};};return c;})();b["default"]=t;},40497:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=d.__importStar(a(17267));t=a(90745);c=a(66164);g=a(91176);f=a(72697);e=a(97315);h=a(96965);l=a(66917);k=a(64772);m=a(75640);p=new c.platform.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(q){function u(v,w,x,y){var A;A=q.call(this) || this;A.Qr={};A.jaa=0;A.hK=0;A.V2=[];A.buffer=0;A.zj=!1;A.Nvb=-Infinity;A.Ilb=null;A.config=y;A.uob=new e.fxa(y);A.f6=new k.Swa(!0);A.X3=new k.Swa(!1);y.Ccc && (A.GY=new m.n9a(A.config));A.reset();A.XJ=v;A.oy=w;A.pR=x;A.Vtb=c.platform.cC.name();A.oy.aGb(A.Vtb);c.platform.events.on("networkchange",A.zwc.bind(A));return r=A;}d.__extends(u,q);u.instance=function(){return r;};u.reset=function(){r && r.reset();};Object.defineProperties(u.prototype,{Woc:{get:function(){return c.platform.time.now() - this.Nvb < this.config.yaa;},enumerable:!1,configurable:!0}});u.prototype.zwc=function(v){this.Vtb=v;this.oy.aGb(v);};Object.defineProperties(u.prototype,{fl:{get:function(){return this.oy;},enumerable:!1,configurable:!0}});u.prototype.mKb=function(){var v;if(!this.pZa){v=this.Zrb();this.oy.Hha(v.default.Da,this.confidence);v["initial-throughput-ewma"] && v["initial-throughput-ewma"].Da && this.oy.Dha(v["initial-throughput-ewma"].Da);v["throughput-ci"] && this.oy.Iha(v["throughput-ci"]);v.deliverytime && this.oy.Bha(v.deliverytime);this.oy.Gta(v.qJ?v.qJ.MTa:void 0,v.qJ?v.qJ.OEc:void 0);n.cd(this.Bq) || (this.pZa=!0);}};Object.defineProperties(u.prototype,{startTime:{get:function(){return this.ty;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{confidence:{get:function(){return this.Qr.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mk:{get:function(){return this.Sv;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{FZb:{get:function(){return this.V2;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Evb:{get:function(){return this.oeb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{location:{get:function(){return this.PM;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Myb:{get:function(){return this.Geb;},enumerable:!1,configurable:!0}});u.prototype.xWb=function(){var v,w,x,y;v=this.config;w=v.IWb.concat(v.QWb).filter(Boolean);x=v.nEa;y=this.uob;w=w.reduce(function(A,z){A[z]=y.create(z,x);return A;},{});w.confidence=new l.nM(v,new h.o8a(v,this.Lpa.bind(this)));return w;};u.prototype.reset=function(){var v,w,x,y;v=this.config.nEa;w=this.uob;x=this.config;this.PM=null;this.Geb=void 0;this.Qr=this.xWb();if(this.config.pnb){y=this.config.KIb;this.Qr.DKc=new f.J0(y.numB * y.bSizeMs,y.bSizeMs);}this.f6.reset();this.X3.reset();this.ph=w.create("respconn-ewma",v);this.dr=w.create("respconn-ewma",v);this.GY && this.GY.reset();this.nMc=this.mKb.bind(this);n.Ts(this.E_) || (clearInterval(this.E_),this.E_=void 0);this.xd=this.Bq=this.ty=null;this.vta=0;x.pEb && (this.hK=this.jaa=this.Sv=0,this.V2=[]);};u.prototype.ssa=function(v){var w;w=this.Qr;if(v !== this.PM){n.Ts(this.E_) || (clearInterval(this.E_),this.E_=void 0);n.cd(this.PM) && (this.vta=0,this.ty=null);if(!n.cd(v)){for(var x in w)w[x] && w[x].reset && w[x].reset();this.ph.reset();this.dr.reset();}n.cd(this.ty) || (this.vta+=(n.cd(this.Bq)?c.platform.time.na():this.Bq) - this.ty);this.Bq=this.ty=null;this.PM=v;this.oy.ssa(v);}};u.prototype.qU=function(v,w,x,y){var A,z,B;this.oeb=Math.max(this.oeb || 0,x);this.hK-=v;z=this.config;B=this.Qr;if(!0 === y.S_)(y=B["throughput-wssl"]) && y.add(v,w,x,!0);else if(n.Ts(w))p.warn("addDataReceived called with undefined start time");else if((this.GY && this.GY.qU(v,w,x,y),!z.Hma || !(x - w < z.PGb || y.ka <= z.OGb))){z.PWb && x - w < z.oyb?w=x - z.oyb:0 === x - w && (w=x - 1);this.f6.qU(v,w,x,y);this.X3.qU(v,w,x,y);for(var C in B)B[C] && B[C].add && B[C].add(v,w,x,y);n.cd(this.ty) && (this.ty=w,this.Bq=null,this.pZa=!1);n.cd(this.Bq) || (w > this.Bq && (this.ty+=w - this.Bq),this.Bq=null,this.pZa=!1);n.cd(this.xd) || (w - this.xd > z.Heb?this.XJ.Ytb(this.xd,w):x - w > z.Heb && this.XJ.Ytb(w,x));this.xd=this.xd?Math.max(x,this.xd):x;null === (A=this.Ilb) || void 0 === A?void 0:A.resolve();}};u.prototype.sU=function(v){isNaN(v) || n.cd(v) || (this.ph.add(v),this.oy.sU(v));};u.prototype.rU=function(v){isNaN(v) || n.cd(v) || (this.dr.add(v),this.oy.rU(v));};u.prototype.start=function(v,w){var x;n.cd(this.xd) && !n.cd(this.Bq) && (this.xd=v);x=this.Qr;if(this.config.Lsa)for(var y in x)x[y] && x[y].start && x[y].start(v,w);};u.prototype.stop=function(v,w){var x,y;x=this.Qr;for(y in x)x[y] && x[y].stop && x[y].stop(v,w);this.Bq=n.cd(this.Bq)?v:Math.min(this.Bq,v);this.xd=null;};u.prototype.flush=function(){var v,w;v=this.Qr;for(w in v)v[w] && v[w].flush && v[w].flush();this.v3b();this.XEc();};u.prototype.XEc=function(){var v,w;v=this.Myb;w=0;v && ("uhd" in v) && (w=v.uhd);(v=this.get()) && v.avtp && v.avtp.Da && (this.pR.n_b(v.avtp.Da,w,v.avtp.kKa),this.pR.save());};u.prototype.v3b=function(){var v;v=this.Qr.entropy;v && (this.Geb=v.m3b(),v.reset());};u.prototype.Zrb=function(){var v,w,x,y,A,z,B,C;v=c.platform.time.na();w=this.Qr;x=this.config;y=x.Qdb;A=x.DWb;z=x.gfb;B={};for(C in w)w[C] && w[C].get && (B[C]=w[C].get(v,this.hK),"iqr" === w[C].type && (B.qJ=B[C]),"tdigest" === w[C].type && (B.Jk=B[C]),"wssl" === w[C].type && (B.S_=B[C]));B.cdnavtp=this.f6.ar();B.activecdnavtp=this.X3.ar();B.default=y && B[y] && A && void 0 !== B[y][A]?{Da:B[y][A]}:y && B[y]?B[y]:B["throughput-ewma"];"none" !== x.dsa && "none" !== z && (B.oFb=z && B[z]?B[z]:B["throughput-sw"]);return B;};u.prototype.mNa=function(){return this.GY?this.GY.mNa():void 0;};u.prototype.get=function(){var v,w,x,y,A,z;v=this.Zrb();w=v.default;x=this.ph.get();y=this.dr.get();A=this.config;if(v.oFb){z=v.oFb;w=n.ec(w.Da) && n.ec(z.Da) && w.Da > z.Da && 0 < z.Da?z:w;}v.ob=w;v.Mw=v["initial-throughput-ewma"];!A.Pcc || !w || n.cd(w.Da) || isNaN(w.Da) || !v.S_ || n.cd(v.S_.Da) || isNaN(v.S_.Da) || ("max" === A.$Lb?v.ob.Da=Math.max(v.S_.Da,w.Da):"sum" === A.$Lb && (v.ob.Da+=v.S_.Da));v.ph=x;v.dr=y;this.config.pnb && (w=this.config.KIb,v.y4c=this.Qr.DKc.get(w.fillS,w.fillHl));w=this.vta + (n.cd(this.ty)?0:(n.cd(this.Bq)?c.platform.time.na():this.Bq) - this.ty);v.time=w;return v;};u.prototype.Rkc=function(){var v,w,x;v={};w=this.get();if(w.confidence && w["throughput-ewma"]){v.aseavtp=Number(w["throughput-ewma"].Da).toFixed(2);v.asevartp=Number(w["throughput-ewma"].Zf).toFixed(2);if(w.qJ){x=w.qJ.MTa;!x || void 0 === x.bv || void 0 === x.av || void 0 === x.sr || isNaN(x.bv || 0) || isNaN(x.av) || isNaN(x.sr) || (v.aseniqr=0 < x.sr?Number((x.bv - x.av) / x.sr).toFixed(2):-1,v.aseiqr=Number(x.bv - x.av).toFixed(2),v.asemedtp=Number(x.sr).toFixed(2));v.iqrsamples=w.qJ.OEc;}w.Jk && w.Jk.KW && (v.tdigest=w.Jk.KW());}return v;};u.prototype.ENa=function(){return this.pR.ENa();};u.prototype.BC=function(v,w){var x,y,A;x=w.requestId;1 === ++this.Sv && this.emit("active",v);if(this.config.fnb){y=this.Qr;for(A in y)y[A] && y[A].BC && y[A].BC(v,w);}this.config.Ssa && this.start(v,w);x && (this.config.Ssa || this.start(v,w),this.V2.push(x));this.hK+=w.ka || 0;this.f6.BC(v,w);this.X3.BC(v,w);};u.prototype.NDc=function(){++this.jaa;};u.prototype.CC=function(v,w,x){var y,A,z;y=x.requestId;w && --this.jaa;--this.Sv;this.hK=Math.max((this.hK || 0) - ((x.ka || 0) - (x.bytesReceived || 0)),0);this.config.pEb && (this.Sv=Math.max(this.Sv,0),this.jaa=Math.max(this.jaa,0));if(this.config.fnb){A=this.Qr;for(z in A)A[z] && A[z].CC && A[z].CC(v,w,x);}this.config.Ssa && this.stop(v,x);0 === this.Sv && (this.config.Ssa || this.stop(v,x),this.emit("inactive",v));y && (w=this.V2.indexOf(y),0 <= w && this.V2.splice(w,1));this.f6.CC(v,x);this.X3.CC(v,x);};u.prototype.Lpa=function(){this.mKb();this.E_=setInterval(this.nMc,this.config.CXb);};u.prototype.$Dc=function(){return d.__awaiter(this,void 0,void 0,function(){var v,w,x,y,A,z,B,C,D,F,H;return d.__generator(this,function(E){switch(E.label){case 0:v=this.get();w=v.ob.Da;x=v.ph.Da;if(this.Woc)return [2,{Syb:w,Xvc:w,AEb:x}];this.Nvb=c.platform.time.now();y=this.config;A=y.Qdb;z=y.gfb;return A.match(/ewma/)?[4,this.Ilb=new g.An()]:[2,null];case 1:return (E.S(),B=this.get(),C=(null === (H=B["throughput-sw-fast"]) || void 0 === H?void 0:H.Da) || 0,D=this.Qr[A],F="none" !== z?this.Qr[z]:null,null === D || void 0 === D?void 0:D.reset(),null === F || void 0 === F?void 0:F.reset(),[2,{Syb:C,Xvc:w,AEb:x}]);}});});};return u;})(t.EventEmitter);b["default"]=a;},75539:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Wza=b.Zg=void 0;t=a(22970);d=a(90745);n=a(66164);a(97685);c=a(52571);g=a(45550);f=a(65161);e=t.__importDefault(a(40497));(function(l){l[l.tA=0]="CREATED";l[l.OPENED=1]="OPENED";l[l.xL=2]="ACTIVE";l[l.Gl=3]="RECEIVING";l[l.zn=4]="COMPLETE";l[l.Av=5]="ABORTED";})(h || (b.Zg=h={}));a=(function(){function l(k,m,p,r,q,u,v,w,x,y){this.stream=k;this.ug=m;this.properties=q;this.listener=v;this.K=w;this.config=x;this.console=y;this.kha=this.CM=0;this.Va=h.tA;this.Ff=!1;this.request=new n.platform.Cl(p,r,this.akc(q,w));this.offset=u.offset;this.Ne=u.ka;this.id=this.eic();this.$Gb=q.HC;this.bR=q.bR;this.xx=q.xx;this.responseType=void 0 === q.responseType?n.platform.Cl.eg && !n.platform.Cl.eg.QVa.pCa?0:1:q.responseType;this.rj=this.f1b();this.mediaType === f.v.Aa || !x.Cha && q.gf || (this.ed=e.default.instance());}Object.defineProperties(l.prototype,{url:{get:function(){return this.ug;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ka:{get:function(){return this.Ne;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bytesReceived:{get:function(){return this.CM;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qi:{get:function(){return this.request.Qi;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ah:{get:function(){return this.request.ah;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{XE:{get:function(){return this.request.XE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xg:{get:function(){return this.request.Xg;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xI:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jG:{get:function(){return this.request.jG;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{EY:{get:function(){return this.Va >= h.OPENED && this.Va < h.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.Va >= h.xL && this.Va < h.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gVa:{get:function(){return this.Va === h.Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Va === h.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aborted:{get:function(){return this.Va === h.Av;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{state:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endOffset:{get:function(){return this.offset + this.Ne - 1;},enumerable:!1,configurable:!0}});l.prototype.open=function(){if(this.Va !== h.tA || !this.request.open(this.ug,{start:this.offset,end:this.endOffset},this.responseType,{},void 0,void 0,this.$Gb,this.stream.zx,this.stream.xa?this.stream.O.Xw.nO:void 0))return !1;this.Va=h.OPENED;return !0;};l.prototype.l_=function(k){if(this.state < h.OPENED || this.state >= h.zn)return (this.ug=k,!0);if(this.ug === k){if(this.Ff || this.state === h.xL && n.platform.time.na() - this.Qi > this.config.duc)return this.eFc();}else return (this.qIa(),this.kha=0,this.ug=k,this.Ff=!1,this.request.l_(k));return !0;};l.prototype.eFc=function(){var k,m;k=this;if(void 0 === this.Oaa){m=this.request.Qi?n.platform.time.na() - this.request.Qi:0;m=Math.max(0,this.config.dpa - m);m+=Math.random() * Math.min(this.config.Guc * Math.pow(2,this.kha),this.config.Fuc);this.kha+=1;this.Oaa=setTimeout(function(){k.Oaa=void 0;k.state < h.zn && (k.Ff || k.state === h.xL) && (k.Ff=!1,k.request.l_(k.ug) || k.listener.lx(k));},m);}return !0;};l.prototype.abort=function(){var k;if(this.aborted)return !0;this.active && (null === (k=this.ed) || void 0 === k?void 0:k.CC(n.platform.time.na(),this.gVa,this.t7()));this.Va=h.Av;this.qIa();this.request.abort();return !0;};l.prototype.Qe=function(){var k,m,p;if(7 !== this.request.readyState && 5 !== this.request.readyState){m=this.EY;p=this.active;this.abort();this.listener.CY(this,p,m);}this.qIa();null === (k=this.rj) || void 0 === k?void 0:k.clear();this.request.Qe();};l.prototype.getResponseHeader=function(k,m){return this.request.getResponseHeader(k,m);};l.prototype.getAllResponseHeaders=function(k){return this.request.getAllResponseHeaders(k);};l.prototype.Zpb=function(){var k,m;k=this.getResponseHeader("content-range",!1);if(k){m=k.indexOf("/");(0,c.assert)(-1 !== m,"unable to parse content-range: " + k);m=k.slice(m + 1);m=parseInt(m);(0,c.assert)(0 < m,"unable to parse content-range: " + k);return m;}};l.prototype.lZ=function(){this.request.lZ();};l.prototype.ti=function(){return this.request.ti();};l.prototype.tY=function(){var k,m;if(this.Va === h.OPENED){this.Va=h.xL;m=this.request.Qi || this.request.loadTime;g.IL.instance().push(n.platform.time.na() - m);!this.config.lxb && (null === (k=this.ed) || void 0 === k?void 0:k.BC(m,this.t7()));this.listener.kQ(this);this.timestamp=m;}};l.prototype.Mpa=function(){var k,m,p,r;if(!(this.Va >= h.Gl)){this.Va=h.Gl;r=this.request.Qi || this.request.DLa;g.IL.instance().push(n.platform.time.na() - r);this.config.lxb && (null === (k=this.ed) || void 0 === k?void 0:k.BC(r,this.t7()));null === (m=this.ed) || void 0 === m?void 0:m.NDc();k=this.request.jG;this.request.connect && k.length && (null === (p=this.ed) || void 0 === p?void 0:p.sU(k[0]));this.timestamp=r;this.listener.cK(this);0 === this.Ne && this.GMc(this.request.Vp);this.request.getAllResponseHeaders(!0);}};l.prototype.jQ=function(){var k;if(!(this.Va > h.Gl)){this.Va=h.Gl;k=this.request.Qi;g.IL.instance().push(n.platform.time.na() - k);k=this.HSa(!0);this.listener.UF(this,k);}};l.prototype.aK=function(){var k,m,p;if(!this.aborted){m=this.request.Qi;g.IL.instance().push(n.platform.time.na() - m);p=this.HSa(!0);null === (k=this.ed) || void 0 === k?void 0:k.CC(m,this.gVa,this.t7());this.Va=h.zn;this.listener.qo(this,p);this.Qe();}};l.prototype.iwc=function(){this.listener.Upa(this);};l.prototype.o$=function(){var k;if(!this.complete && !this.aborted && "number" === typeof this.request.ah){this.Ff=!0;k=this.request.Qi;g.IL.instance().push(n.platform.time.na() - k);this.HSa(this.config.Dra && void 0 === this.request.status);this.listener.lx(this);}};l.prototype.HSa=function(k){var m,p,r,q;m=this;r=this.request.Qi;q=this.request.bytesReceived - this.CM;k && this.ed && (void 0 !== this.timestamp && 0 < q && this.ed.qU(q,this.timestamp,r,this.t7()),null === (p=this.request.jG) || void 0 === p?void 0:p.forEach(function(u){return m.ed.rU(u);}));this.timestamp=r;this.CM=this.request.bytesReceived;return q;};l.prototype.GMc=function(k){var m;m=this.Ne;this.Ne=k;this.listener.lQ(this,this.Ne,m);};l.prototype.t7=function(){var k;return {requestId:this.id,$l:this.stream.Eb,yi:null === (k=this.stream.O.U.gB) || void 0 === k?void 0:k.yi,type:this.mediaType,bR:this.bR,ka:this.Ne,bytesReceived:this.request.bytesReceived,xx:this.xx};};l.prototype.eic=function(){var k;k=(k=this.stream)?k.toString():this.url;this.Ne && (k+=",range " + this.offset + "-" + (this.offset + this.Ne - 1));return k;};l.prototype.f1b=function(){var k,m,p;k=this;m=new d.lf();p=n.platform.Cl.Al;m.on(this.request,p.F8a,function(){return k.tY();});m.on(this.request,p.E8a,function(){return k.Mpa();});m.on(this.request,p.G8a,function(){return k.jQ();});m.on(this.request,p.q2,function(){return k.aK();});m.on(this.request,p.vTc,function(){return k.iwc();});m.on(this.request,p.mH,function(){return k.o$();});return m;};l.prototype.akc=function(k,m){return {mediaType:this.mediaType,Jb:this.stream.Jb,bitrate:this.stream.bitrate,Qc:this.stream.Eb,lz:!k.gf,L:m.id,config:this.config,SLa:k.SLa};};l.prototype.qIa=function(){void 0 !== this.Oaa && (clearTimeout(this.Oaa),this.Oaa=void 0);};l.prototype.toString=function(){return "ID: " + this.request.ti() + " " + this.id;};l.prototype.toJSON=function(){return {requestId:this.request.ti(),id:this.id};};return l;})();b.Wza=a;},75640:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.n9a=void 0;d=a(65161);n=a(43276);t=(function(){var a2G;a2G=2;function c(g){var t77;t77=2;for(;t77 !== 7;){switch(t77){case 2:var E6i="1S";E6i+="IYb";E6i+="Z";E6i+="r";E6i+="NJCp9";this.Eaa=[0,0];this.Vp=[0,0];this.w$=[0,0];E6i;this.x$=g.x$;this.rTa=[new n.EL(),new n.EL()];this.EAb=new n.EL();t77=7;break;}}}for(;a2G !== 3;){switch(a2G){case 2:c.prototype.reset=function(){var u9j;u9j=2;for(;u9j !== 4;){switch(u9j){case 1:this.Vp=[0,0];this.w$=[0,0];u9j=4;break;case 9:this.Eaa=[5,6];u9j=0;break;case 2:this.Eaa=[0,0];u9j=1;break;}}};c.prototype.qU=function(g,f,e,h){var T4u,l,k;T4u=2;for(;T4u !== 8;){switch(T4u){case 4:(this.Eaa[h.type]+=g,this.EAb.add(g,f,e),this.rTa[h.type].add(g,f,e));T4u=3;break;case 3:T4u=(null === (k=h.bR) || void 0 === k?0:k.vRa(g,f,e,this.x$))?9:8;break;case 2:this.Vp[h.type]+=g;T4u=5;break;case 9:this.w$[h.type]+=g;T4u=8;break;case 5:T4u=(null === (l=h.bR) || void 0 === l?0:l.mna())?4:3;break;}}};c.prototype.mNa=function(){var b$v;b$v=2;for(;b$v !== 1;){switch(b$v){case 2:return {bytesRequestedPacingVideo:this.Eaa[d.v.V],bytesRequestedPacingAudio:this.Eaa[d.v.X],estimatedBytesPacedVideo:this.w$[d.v.V],estimatedBytesPacedAudio:this.w$[d.v.X],bytestotalVideo:this.Vp[d.v.V],bytestotalAudio:this.Vp[d.v.X],pacedAvtpVideo:this.rTa[d.v.V].get().Da,pacedAvtpAudio:this.rTa[d.v.X].get().Da,pacedAvtp:this.EAb.get().Da};break;}}};return c;break;}}})();b.n9a=t;},66058:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(66164);n=new d.platform.Console("ASEJS_SESSION_HISTORY","media|asejs");t=(function(){function c(g){this.config=g;this.oB={avtp:0,neuhd:0,d:0,t:0};this.load();}c.prototype.load=function(){var g;g=this;(this.Np=d.platform.storage.get("sth"))?(this.Np=this.Np.filter(function(f){return f.d >= g.config.R9 && 0 <= f.neuhd && 0 < f.avtp;}),this.Np.sort(function(f,e){return f.t - e.t;}),n.log("session history list: ",this.Np)):this.Np=[];};c.prototype.save=function(){this.oB.d >= this.config.R9 && 0 <= this.oB.neuhd && 0 < this.oB.avtp && (this.Np.push(this.oB),this.Np.length > this.config.A9 && (this.Np=this.Np.slice(this.Np.length - this.config.A9)),this.Np.length && (n.log("saving state: ",JSON.stringify(this.Np)),d.platform.storage.set("sth",this.Np)));this.oB={avtp:0,neuhd:0,d:0,t:0};};c.prototype.reset=function(){this.Np=[];this.oB={avtp:0,neuhd:0,d:0,t:0};};c.prototype.ENa=function(){return this.Np;};c.prototype.n_b=function(g,f,e){this.oB.avtp=g;this.oB.neuhd=f;this.oB.d=e;this.oB.t=d.platform.time.na();};return c;})();b["default"]=t;},88318:function(t,b,a){var n,c;function d(g){this.xb={z9:g.maxc || 25,CIa:g.c || .5,gCc:g.rc || "none",$y:g.hl || 7200};this.J3();this.CYb=this.xb.gCc;this.dXb=this.xb.$y;this.SDa=Math.exp(Math.log(2) / this.dXb);this.SDa=Math.max(this.SDa,1);this.vga=1;}n=a(17267);c=a(15913).TDigest;new (a(66164).platform.Console)("ASEJS_NETWORK_HISTORY","media|asejs");d.prototype.getState=function(){var g;if(0 === this.tg.size())return null;g=this.tg.ak([.25,.75]);if(g[0] === g[1])return null;this.tg.size() > this.xb.z9 && this.tg.Qn();g=this.tg.aj(!1).reduce((function(f,e){n.ec(e.hh) && n.ec(e.n) && f.push({mean:e.hh,n:e.n / this.vga});return f;}).bind(this),[]);return {tdigest:JSON.stringify(g)};};d.prototype.Bi=function(g){var f;if(n.cd(g) || !n.has(g,"tdigest") || !n.Zh(g.tdigest))return !1;try{f=JSON.parse(g.tdigest);}catch(e){return !1;}f.forEach(function(e){n.isFinite(e.n) || (e.n=1);});g=f.map(function(e){return {hh:e.mean,n:e.n};});this.vga=1;this.tg.UUa(g);void 0 === this.tg.ak(0) && this.J3();};d.prototype.get=function(){var g,f;g=this.tg;f=g.ak([0,.1,.25,.5,.75,.9,1]);return {min:f[0],pTa:f[1],av:f[2],sr:f[3],bv:f[4],qTa:f[5],max:f[6],Tl:g.aj(!1)};};d.wjc=function(g){var f;f=new d({});n.cd(g) || n.Ts(g) || !n.isArray(g.Tl) || (f.tg.UUa(g.Tl),void 0 === f.tg.ak(0) && f.J3());g=f.tg.ak([.25,.75]);return g[0] === g[1]?null:function(e){return f.tg.ak(e);};};d.prototype.add=function(g){var f;f=1;"ewma" === this.CYb && (this.vga=f=this.vga * this.SDa);this.tg.push(g,f);};d.prototype.toString=function(){return "TDigestHist(" + this.tg.summary() + ")";};d.prototype.J3=function(){this.tg=new c(this.xb.CIa,this.xb.z9);};t.exports={Ubb:d};},36974:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.V3a=void 0;d=a(95316);n=a(91176);t=(function(){function c(){}c.prototype.EFb=function(g){var f,e,h,l;e=g.profile;h=g.frameRate;g=null !== (f=(0,n.oc)(d.MG,function(k){return d.Qca[k].test(e);})) && void 0 !== f?f:"h264hpl";f=d.sL[g].some(function(k){return (0,d.YLa)(h,d.J6[k]);})?h:null;if(!f){l={ia:h.ia / 2,P:h.P};f=d.sL[g].some(function(k){return (0,d.YLa)(l,d.J6[k]);})?l:null;}f || (f=d.J6[d.sL[g][0]]);return {profile:g,frameRate:f};};return c;})();b.V3a=t;},27259:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.q9a=void 0;d=a(52571);n=a(36974);c=a(603);t=(function(){function g(f){this.config=f;}g.prototype.create=function(){switch(this.config.qQ){case "strict":return new c.Fbb();case "flexible":return new n.V3a();default:(0,d.assert)(!1,("Invalid padding codec selector: ").concat(this.config.qQ));}};return g;})();b.q9a=t;},27977:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r){return function(){return ("[").concat(r,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.wbb=void 0;b.Upb=function(r){return -1 !== r.indexOf("xheaac")?"xheaac":-1 !== r.indexOf("heaac")?"heaac":"ddp";};n=a(95316);c=a(91176);g=a(26388);f=a(52571);e=a(48170);h=a(26279);l=a(79459);k=a(444);m=a(52629);t=(function(){function r(q,u){p=new n.vbb(q,u);}r.BHa=function(){(0,f.assert)(p,"expected StaticMediaCache to exist");return p;};r.prototype.JCb=function(q,u,v,w,x,y,A,z,B,C){var D,F,H,E,G,K,N,I,L;D=[];w=r.BHa().xkc(v,w,x);F=new c.I(w.duration);H=new c.I(w.Ea);E=H.P;G=w.profile;K={cub:!0,mediaType:g.v.X,oub:!0,me:G,profile:G,P:E,pj:[{ef:0,data:w.Sb}],eh:!0,Ea:H,ee:u,wh:B.wh,O:q,bitrate:w.bitrate,Jb:"-1",track:{trackId:"1",mediaType:g.v.X,Zn:!1,Ea:H,O:q,channels:w.channels,sampleRate:48E3,profile:G,XGa:"heaac" === v?"AAC":"DDP",De:[],Zs:x,toString:d(g.v.X)},toJSON:function(){return {mediaType:K.mediaType,Jb:K.Jb,bitrate:K.bitrate};}};K.$q=K.track.$q=h.h0.prototype.$q.bind(K.track);K.track.De.push(K);q=new c.I(w.Ea);v=B.wh?u:c.I.fa;x=v.add(F);e.u && C.trace(("StaticMedia: audio target duration is ").concat(y.ba()));G=c.I.fa;u=B.wh?-Math.ceil(u.bf(H)):0;B=v;for(H=!0;B.lessThan(y);){B=B.add(F);B.greaterThan(y) && (N=F.bf(q) - Math.floor(B.ca(y).bf(q)));I=B.pf(y);L=H?0:I?y.ca(G).G:void 0;H=new l.cva(w.Sb,w.Na,K,E,v.Rc(E).ia,x.Rc(E).ia,q,C,A,z.bind(void 0,E,G),L,H,I);H.Gh({start:u,end:N});e.u && C.log(("PaddingBranch: enqueing request ").concat(H,", edit: ").concat(JSON.stringify({start:u,end:N}),", ") + ("offset ").concat(G.ba()));D.push(H);G=G.add(F);u=void 0;H=!1;}return D;};r.prototype.KCb=function(q,u,v,w,x,y,A,z,B,C){var D,F,H,E,G,K,N,I,L;D=[];u=r.BHa().zkc(u,v,w,x,y);v=new c.I(u.duration);F=u.profile;H=u.bitrate;E=u.width;G=u.height;K=u.uTa;N=u.vTa;w=u.Ea.P;x=new c.I(u.Ea);I=new k.MD(w,u.Ea.ia);L={cub:!0,mediaType:g.v.V,me:F,profile:F,P:w,pj:[{ef:0,data:u.Sb}],eh:!0,Jb:"-1",Ea:x,O:q,bitrate:H,track:{trackId:"1",mediaType:g.v.V,Zn:!1,Ea:x,frameRate:I,qoa:I,qn:new m.KT({w:E,Iw:G},{w:K,Iw:N}),O:q,profile:F,De:[],Zs:y,toString:d(g.v.V)},toJSON:function(){return {mediaType:L.mediaType,Jb:L.Jb,bitrate:L.bitrate};}};L.$q=L.track.$q=h.h0.prototype.$q.bind(L.track);e.u && C.trace(("StaticMedia {").concat(z.id,"}: video queue"),L);L.track.De.push(L);F=Math.ceil(A.bf(v));A=v.Jg(F);q=c.I.fa.Rc(w);y=q.add(A).Rc(w);e.u && C.trace(("PaddingBranch: ").concat(F," fragments of ").concat(v.ba(),", ") + ("duration ").concat(A.ba(),", ") + ("c: ").concat(q.ba(),"-").concat(y.ba(),", "));for(H=c.I.fa;H.lessThan(A);)(F=H.add(v),H=new l.cva(u.Sb,u.Na,L,w,0,v.Rc(w).ia,x,C,z,B.bind(void 0,w,H),void 0,H.equal(c.I.fa),F.pf(A)),e.u && C.trace(("PaddingBranch: appended ").concat(H)),D.push(H),H=F);return {sa:q,za:y,duration:A,La:D};};r.prototype.uBc=function(){return r.BHa().ykc();};return r;})();b.wbb=t;},603:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Fbb=void 0;t=(function(){function a(){}a.prototype.EFb=function(d){return d;};return a;})();b.Fbb=t;},73861:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Q9a=void 0;t=a(22970);d=a(91176);n=a(66164);c=a(26388);g=t.__importDefault(a(14282));f=g.default.Jo;e=g.default.ay;h=a(65161);l=a(69575);k=t.__importDefault(a(40497));a=(function(){function m(p,r,q,u,v){this.kl=p;this.sB=r;this.config=q;this.console=u;this.mediaType=v;}m.prototype.enabled=function(){return !this.kl.Ba.Gd;};m.prototype.rvc=function(p){var r;if(this.enabled()){r=p.K;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{L:r.id,offset:d.I.Ca(this.kl.AIa).ca(r.lb)},completePlayerStreamingTimestamp:d.I.Ca(this.kl.f5),trackIndex:p.stream.track.PH,bufferLevelMs:this.kl.Ba.Xm(p.mediaType)};(0,l.Fy)(this.sB,p.type,p);}};m.prototype.tvc=function(p,r,q){var u,v,w;if(this.enabled()){v=this.mediaType;w=this.kl.Qp.yk(v);w.rR(p);p.mediaType !== h.v.X && p.mediaType !== h.v.V || !this.config.Raa || (void 0 === w.yQa?w.yGb(n.platform.time.na()):n.platform.time.na() - w.yQa > this.config.Raa && (p.bitrate !== w.Svb && (p.mediaType === h.v.V?(n.platform.storage.set("vb",p.bitrate),w.xGb(p.bitrate)):p.mediaType === h.v.X && (n.platform.storage.set("ab",p.bitrate),w.xGb(p.bitrate))),w.yGb(n.platform.time.na())));w.Kna && w.Kna === p || (this.kl.Qp.UHb(r,w.Kna,p),w.JGc(p),r=0,p.sb && p.sb.confidence && p.sb.ob && (r=p.sb.ob.Da),q={L:this.kl.Ba.K.id,offset:d.I.Ca(q).ca(this.kl.Ba.K.lb)},p={type:"streamSelected",nativetime:n.platform.time.na(),mediaType:v,streamId:p.id,trackIndex:p.track.PH,streamIndex:p.wv,bandwidth:r,longtermBw:r,rebuffer:0,position:q,stream:p,manifest:null === (u=p.O) || void 0 === u?void 0:u.U},(0,l.Fy)(this.sB,p.type,p));}};m.prototype.ovc=function(p,r,q){var u,v,w,x;if(this.enabled()){u=r.O;v=u.wi;w=this.kl.Qp.yk(r.mediaType);x=u.vpc(r);u=x.fQa;x=x.wpc;q && r.Eb && !w.EJ?(x=e.GA,r.ut=e.name[x],this.pzb(p,r.Eb,r.ut,r.location,r.bitrate),w.EJ=r.Eb):!q && r.Eb && r.Eb !== w.EJ && (x=x?void 0 === w.EJ?e.GA:v.LZ === e.qAa?e.EUb:e.mva:e.DUb,r.ut=e.name[x],this.pzb(p,r.Eb,r.ut,r.location,r.bitrate),w.EJ=r.Eb);!w.xX && r.location && (x={type:"logdata",target:"startplay",fields:{}},this.mediaType === f.X?x.fields.alocid=r.location:this.mediaType === f.V && (x.fields.locid=r.location),(0,l.Fy)(this.sB,x.type,x));q && r.location && !w.xX?(x=e.GA,r.ut=e.name[x],this.nzb(p,r.location,r.VQa,r.Eb,r.hba,r.ut,r.pC),w.xX=r.location):!q && r.location && r.location !== w.xX && (x=u?void 0 === w.xX?e.GA:v.LZ === e.qAa?e.TQb:e.mva:e.SQb,r.ut=e.name[x],this.nzb(p,r.location,r.VQa,r.Eb,r.hba,r.ut,r.pC),r.pC=void 0,w.xX=r.location);this.config.bG || (r.Jvb=r.location,r.Qvb=r.Eb);}};m.prototype.ypa=function(p){p={type:"requestsPruned",requests:p};(0,l.Fy)(this.sB,p.type,p);};m.prototype.pzb=function(p,r,q,u,v){var w,x;if(this.enabled())if(this.mediaType === f.Aa)this.console.warn("notifyServerSwitch ignored for MediaType.TEXT");else {w=c.XP[this.mediaType];x=k.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:w,server:r,reason:q,location:u,bitrate:v,confidence:x.confidence};x.confidence && (p.throughput=x.ob.Da);x=this.kl.Qp.yk(this.mediaType).EJ;void 0 !== x && (p.oldserver=x);(0,l.Fy)(this.sB,p.type,p);}};m.prototype.nzb=function(p,r,q,u,v,w,x){this.enabled() && (this.mediaType === f.Aa?this.console.warn("notifyServerSwitch ignored for MediaType.TEXT"):(p={type:"locationSelected",segmentId:p,mediatype:c.XP[this.mediaType],location:r,locationlv:q,serverid:u,servername:v,selreason:w,seldetail:x},(0,l.Fy)(this.sB,"locationSelected",p)));};m.prototype.VXb=function(p,r){this.enabled() && (p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(r)},(0,l.Fy)(this.sB,p.type,p));};m.prototype.Afc=function(p){(0,l.Fy)(this.sB,"transportReport",p);};m.prototype.zfc=function(p){this.enabled() && (0,l.Fy)(this.sB,"mediaRequestComplete",p);};return m;})();b.Q9a=a;},98561:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.x6a=void 0;d=a(22970);n=a(91176);c=a(48170);t=a(2415);g=a(99548);a=(function(f){function e(h){return f.call(this,h) || this;}d.__extends(e,f);e.prototype.XGb=function(){return this.splice?!0:this.K?0 !== this.K.cb:!1;};e.prototype.yK=function(h,l){c.u && this.console.trace("LivePipelineNormalizer.renormalize:",this.za);(0,n.assert)(this.iJ,"expected to be called init() before renormalize");l=(0,g.f$)(this.console,this.config,this.O,l) || l;return f.prototype.yK.call(this,h,l);};e.prototype.rSa=function(){var h,l,k,m,p,r,q,u,v;h=this;c.u && this.console.trace(("LivePipelineNormalizer.normalizePipelines ").concat(this.sa.ba()," ") + ("- ").concat(null === (l=this.za) || void 0 === l?void 0:l.ba()));this.config.wR && void 0 !== this.O.Si.endTime && (l=null === (k=this.Ke.ht) || void 0 === k?void 0:k.Ba,(null === l || void 0 === l?0:l.parent) || this.O.cXa(this.sa.G));k=this.XGb()?n.I.zg:this.O.Ym();this.sa=(0,g.opa)(this.console,k,this.O,this.sa);this.za=(0,g.f$)(this.console,this.config,this.O,this.za);if((k=this.Ke.ht) && k.track.jz){k=k.track.jz;l=k.track.un;r=k.track.Yk.Rc(k.P);l+=Math.floor(this.sa.bf(r));k=k.track.Ju(l);q=k.sa;u=k.za;v=[];(null === (m=this.O.bi) || void 0 === m?0:m.model.rC) && v.push(this.O.bi.model.rC.Ua);null === (p=this.O.bi) || void 0 === p?void 0:p.model.yb.forEach(function(w){var x;x=w.Ua;w=w.duration;v.push(x);v.push(x.add(w));});v.some(function(w){if(w.pf(q) && w.lessThan(u))return (c.u && h.console.trace("LivePipelineNormalizer.normalizePipelines normalize contentStartTimestamp to SCTE marker, " + ("original: ").concat(h.sa.ba(),", ") + ("SCTE marker: ").concat(w.ba())),h.sa=w,!0);}) || (c.u && this.console.trace("LivePipelineNormalizer.normalizePipelines normalize contentStartTimestamp to segmentContentStartTimestamp (no SCTE marker in the segment), " + ("original: ").concat(this.sa.ba(),", ") + ("segmentContentStartTimestamp: ").concat(q.ba())),this.sa=q);}return f.prototype.rSa.call(this);};e.prototype.sSa=function(){var h,l,k;c.u && this.console.trace("LivePipelineNormalizer.normalizeSegment");(0,n.assert)(this.K,"missing segment");l=this.XGb()?n.I.zg:this.O.Ym();k=(0,g.opa)(this.console,l,this.O,this.K.lb);c.u && this.console.trace("normalizeSegment, " + ("segment.startTimestamp: ").concat(null === (h=this.K) || void 0 === h?void 0:h.lb.ba(),", ") + ("liveEdgeConstraint: ").concat(l,", ") + ("segmentStartTimestamp: ").concat(k.ba()));return this.Dmb(k);};return e;})(t.aBa);b.x6a=a;},95324:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;function d(x){var y,A,z;y=x.Bj;A=x.Xuc;z=x.Vrc;x=x.C1c;x=void 0 === x?c.platform.time.na():x;return x + (A + z - (y - x) - x);}Object.defineProperties(b,{__esModule:{value:!0}});b.Eea=void 0;b.HZc=d;n=a(22970);c=a(66164);g=a(91176);f=a(90745);e=a(65161);h=a(52571);l=a(48170);t=a(85254);k=a(71808);m=a(97757);p=a(8149);r=a(45691);q=a(27265);u=a(46512);v=a(71077);w=a(15908);a=(function(x){var A;function y(z,B,C,D,F,H,E,G,K){var N;N=x.call(this,z,B,C,D,F,H,E,G,K) || this;N.parent=z;N.config=B;N.events=new f.EventEmitter();N.FEa=-1;N.$Ra=new Set();N.xJa=0;N.fs=new q.G6a(N,B,N.console,N.wr,N.Rt,N.mediaType,N.CH,function(){return N.xo;});N.sFc=new v.zya(N.Ba.O,B);return N;}n.__extends(y,x);A=y;Object.defineProperties(y.prototype,{track:{get:function(){return this.js;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{JWa:{get:function(){return this.track.O.Xw.JWa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{pwb:{get:function(){return this.BXb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{pqc:{get:function(){return this.FEa;},enumerable:!1,configurable:!0}});y.prototype.dZa=function(z,B,C){var D;D=this.QC(z);if(D)return D;(0,h.assert)(z.xa,"LivePipeline.tryIssueRequest: stream must be live");z=this.BLc(z,this.fe,C,B);this.cjb();return z;};y.prototype.dhc=function(){var z;z=Array.from(this.$Ra).reduce(function(B,C){return void 0 !== C.Bk && (void 0 === (null === B || void 0 === B?void 0:B.Bk) || B.Bk < C.Bk)?C:B;},void 0);if(z && void 0 !== z.Bk)return ((0,h.assert)((0,p.Xj)(z.stream),"LivePipeline: stream must be live"),z.stream.track.Ju(z.Bk + 1).sa);};y.prototype.l_b=function(z){l.u && this.trace("Marking missing request: ",z.toString());this.$Ra.add(z);this.xJa+=1;this.BXb=this.$Ra.size;this.Ue.LDc(z);this.events.emit("liveMissingSegment",{type:"liveMissingSegment",L:z.index,mediaType:this.mediaType,Ba:this.Ba});this.config.iO && this.po === z.index && this.rG(z.za.G,this.po + 1);};y.prototype.pKb=function(z,B){var C,D,F,H,E;C=this;if(B && this.config.boa && z.x4b()){D=this.De.indexOf(z.stream);if(-1 === D)this.error("reissueLiveRequest: stream not found in stream list, falling back to first stream");else {F=0 < D?Math.max(D - 1,0):Math.min(1,this.De.length - 1);H=this.De[F];z.w4b(H);if(!H.eh){E=this.Qj.G;this.Ba.O.cGb(H,this.Ba.K,function(){return {Mg:C.Mg,Xd:e.Dd.Po,et:E,vn:E,Tn:C.CH.Ia.currentTime.G};});}l.u && this.trace("reIssueLiveRequest: ",z.toString()," switchStream: ",B," from ",D," to ",F);}}else (l.u && this.trace("reIssueLiveRequest, request: ",z.toString()),this.Fo(!0));};y.prototype.qo=function(z,B){this.xJa=0;x.prototype.qo.call(this,z,B);};y.prototype.lx=function(z){var B;if(z.gf)this.dla(z);else {B=z.Pb.ca(this.CH.Ia.currentTime);switch(this.sFc.lx(z,B,0 < this.De.indexOf(z.stream))){case v.Ot.yT:this.warn("onrequesterror: 4xx error for live request, retrying the same url",z.toString());this.pKb(z,!1);break;case v.Ot.Oab:this.warn("onrequesterror: switching stream for 410 or 4xx after retries",z.toString());this.pKb(z,!0);break;case v.Ot.Jfa:case v.Ot.lCa:this.warn("onrequesterror: declaring missing segment ",z.toString());this.l_b(z);break;case v.Ot.R3a:this.dla(z);break;case v.Ot.D2:(B=this.Ba.O.Si,z=this.Ba.O.qd.vkb(z.sa),this.Ba.O.sZa(B.startTime,B.endTime,!1,z.G));}}};y.prototype.dS=function(){var z,B,C,D;(0,h.assert)(this.Hd,"LivePipeline.updateFragmentTimes: firstFragment must be set");z=this.Hd;B=this.dd;C=this.track.Ju(this.Hd.index);D=C.sa;C=C.za;l.u && this.console.trace("LivePipeline: updateFragmentTimes: firstFragment " + ("c:").concat(z.wB.G,"-").concat(z.uW.G) + (" -> s:").concat(D.G,"-").concat(C.G));z.xca(D,C,!1);B && isFinite(B.index) && (z=this.track.Ju(B.index),D=z.sa,C=z.za,l.u && this.console.trace("LivePipeline: updateFragmentTimes: lastFragment " + ("c:").concat(B.wB.G,"-").concat(B.uW.G) + (" -> s:").concat(D.G,"-").concat(C.G)),B.xca(D,C,!1));this.fs.dS();};y.prototype.AMc=function(z){var B;null === (B=this.Hd) || void 0 === B?void 0:B.Gh(z.ma);this.parent.Syc(this);};y.prototype.zMc=function(z){var B;null === (B=this.dd) || void 0 === B?void 0:B.Gh(z.ma);this.parent.Ryc(this);};y.prototype.npb=function(z){z.Fs && this.parent.Vka(this);this.FEa=Math.max(this.FEa,z.index);};y.prototype.Vka=function(){this.parent.Vka(this);};y.prototype.BLc=function(z,B,C,D){var F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da;O=this.Rt;J=O.O;Q=this.po;P=Q === (null === (F=this.dd) || void 0 === F?void 0:F.index);F=Q === (null === (H=this.Hd) || void 0 === H?void 0:H.index);H=z.track.Ju(Q);S=H.sa;Y=H.za;if(F && this.Hd && P && this.dd){H=this.Hd.sa;X=this.dd.za;}else F && this.Hd?(H=this.Hd.sa,X=this.Hd.za):P && this.dd?(H=this.dd.sa,X=this.dd.za):(H=S,X=Y);T=this.track.O.cm(!0);l.u && this.trace("checkLiveDuration, stream:",z.bitrate,"contentEndPts:",X.G,"cushionedLiveEdgeMs:",T,"serverTimeMs:",J.Bj);if(X.G > T)return {Sf:!1,reason:"exceedsLiveEdge"};if(this.config.hO && J.bi && this.mediaType !== e.v.Aa && (T=this.track.Ea || g.I.Ca(50),T=X.ca(T),!J.bi.Dsb(T)))return (l.u && this.trace("Waiting for media events",{R2c:T,za:X,hqc:J.bi.ax}),{Sf:!1,reason:"waitingOnMediaEvents"});if(J.jw && !J.jw.$Ha(this.mediaType,0))return (l.u && this.trace("existing buffer size limites already exceeded"),{Sf:!1,reason:this.mediaType === e.v.V?"globalVideoMemoryLimit":"globalAudioMemoryLimit"});if(this.mediaType === e.v.X && (F || P) && (T=this.Ba.Ie(e.v.V),T instanceof A)){if(T.pqc < Q)return (l.u && this.trace("waiting for video fragment timing to be confirmed"),{Sf:!1,reason:"waitingOnVideoFragmentTiming"});if(P && T.dd){U=T.dd.za.G;l.u && this.trace("setting targetSplicePts:",U);}}if(this.mediaType !== e.v.Aa)if(F && P)Z=n.__assign(n.__assign({},(null === (E=this.dd) || void 0 === E?void 0:E.ma) || ({})),{start:null === (K=null === (G=this.Hd) || void 0 === G?void 0:G.ma) || void 0 === K?void 0:K.start});else F?Z=(null === (N=this.Hd) || void 0 === N?void 0:N.ma) || ({}):P && (Z=(null === (I=this.dd) || void 0 === I?void 0:I.ma) || ({}));E=this.mediaType === e.v.Aa || this.mediaType === e.v.X && Z?0:void 0;if(!S.equal(H) || !Y.equal(X))(aa=S.ia,da=Y.ia);C={Bk:Q,index:Q,tb:H.ia,Ib:X.ia,H6:aa,fla:da,P:z.P,offset:0,ka:0,xx:C,Fs:F,Yj:P,MC:U,responseType:E,ma:Z};this.$Wa(C,O.K);this.bXa(C,{stream:z,kn:D,qZ:X.ca(H)});z=this.Ue.w5(C,B,z);l.u && this.trace("making mediaRequest (LIVE):",z.toString(),"fragmentIndex:",Q,"contentStartTicks:",H.ia,"contentEndTicks:",X.ia,"timescale:",H.P,"firstRequestInSequence:",C.Fs,"lastRequestInSequence:",C.Yj,"isTerminal",null === (L=C.FC) || void 0 === L?void 0:L.vP,"edit",Z);if(!z.open()){this.warn("MediaRequest.open error: " + z.ah + " native: " + z.Xg);if(z.aborted)return (l.u && this.trace("makeRequest aborted"),{Sf:!1,reason:"requestAborted"});this.warn("makeRequest caught:",z.ah);J.Hf({oi:"MediaRequest open failed (3)",uB:"NFErr_MC_StreamingFailure"});return {Sf:!1,reason:"openAseMediaRequest"};}this.rG(X.G,this.po + 1);!F || z instanceof r.rda || this.parent.Vka(this);return {Sf:!0,reason:"success"};};y.prototype.Fta=function(){var z,B,C,D,F;z=this.track.O;B=z.qd;z=z.Bj;C=this.track.Ju(this.po).za;D=B.cm(!0);F=B.WMa(!0);D=C.G <= D;B=this.Ba.O.Jqb().G;this.VM=-Infinity;this.zM="available";D?this.config.UV && (z=this.Ba.cma(),C=this.config.gl,F=this.Ba.Xm(this.mediaType),this.VM=(0,w.gNa)(w.Ffa.pya,{rYa:z,VRa:C,uJa:F,tWa:B,Blb:this.config.JX,Elb:this.config.KX}),this.zM="waitingOnPacedRequest"):(this.VM=d({Bj:z,Xuc:C.G,Vrc:F.G}),this.zM="waitingOnLiveAvailability");};y.prototype.bXa=function(z){var B;B=this.Rt.O.SZ;B && (z.HC=B.tu({}));};y.prototype.$Wa=function(z,B){z.FC={Ld:B.dqb(),get vP() {return B.n_ && isFinite(B.ib);}};};return y=A=n.__decorate([m.xW],y);})(u.$Aa);b.Eea=a;(0,t.wl)(k.Ox,a);},27265:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.G6a=void 0;d=a(22970);n=a(26388);c=a(91176);g=a(48170);f=a(11758);e=a(8149);h=a(45691);t=(function(l){function k(m,p,r,q,u,v,w,x){p=l.call(this,m,p,r,q,u,v,w,x) || this;p.kl=m;return p;}d.__extends(k,l);k.prototype.w5=function(m,p,r){var q;q=this.config;g.u && this.console.trace("LiveRequestManager: createRequest, params:",m);(0,c.assert)(!m.header);if(r.mediaType === n.v.Aa)return (m=new f.ava(r,this.Ba.AG.track,m,this.La,this.Ba.K,q,this.console,this.Rla),g.u && this.console.trace("created AseLiveTextRequest object:",m && m.toJSON(),"downloadTrack:",p.toString(),"movieId:",m.R,"streamId:",m.Jb,"offset:",m.offset,"bytes:",m.ka,"contentStartTicks:",m.tb,"contentEndTicks:",m.Ib,"ptsOffsetTicks:",m.xo,"liveSegmentId:",m.Bk),this.wy(m),m);p=l.prototype.w5.call(this,m,p,r);p instanceof h.rda || this.kl.npb(p);return p;};k.prototype.eTa=function(m,p,r,q){(0,c.assert)((0,e.Xj)(m.stream),"LiveRequestManager: onfragmenttimes: stream is not live");m.Fs && m.stream.track.JSa(this.Ba,m.index,p) && m.nf !== p.kG && (this.console.warn("LiveRequestManager: onfragmenttimes: predicted fragment sample count incorrect",("current = ").concat(m.nf,", actual = ").concat(p.kG)),m.oZa(p.kG),r=!0);q && ((0,c.assert)(this.mediaType === n.v.V,"LiveRequestManager: onfragmenttimes: fragmentEditChanged only expected for video"),(0,c.assert)(m.Fs || m.Yj,"LiveRequestManager: onfragmenttimes: fragmentEditChanged only expected for first or last request"),m.Fs?this.kl.AMc(m):m.Yj && this.kl.zMc(m));r && (p=this.La.indexOf(m),p + 1 < this.La.length && (p=this.La.get(p + 1)) && p.kKb(m.uW),this.La.update());this.kl.npb(m);};k.prototype.dS=function(){var m,p;m=this;g.u && this.console.trace(("LiveRequestManager: updateFragmentTimes ").concat(this.La.length," fragments"));if(this.La.length){p=this.La.get(0).stream.track;(0,c.assert)((0,e.eo)(p),"LiveRequestManager: updateFragmentTimes: stream is not live");this.La.forEach(function(r){var q,u;q=p.Ju(r.index);u=q.sa;q=q.za;g.u && m.console.trace("LiveRequestManager: update timestamps:",r,("updating start ").concat(r.sa.ba()," to ").concat(u.ba()),("updating end ").concat(r.za.ba()," to ").concat(q.ba()));r.xca(u,q,!1);});this.La.update();}};return k;})(a(99021).bCa);b.G6a=t;},71077:function(t,b){var d;function a(n,c){var g;g=!1;400 <= n && 499 >= n && 420 !== n && 452 !== n?g=!0:c && 500 <= n && 599 >= n && (g=!0);return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.zya=b.Ot=void 0;b.O_c=a;(function(n){n[n.yT=0]="RETRY";n[n.Oab=1]="SWITCH_STREAM";n[n.lCa=2]="SKIP";n[n.R3a=3]="FORWARD";n[n.D2=4]="STOP";n[n.Jfa=5]="SKIP_OR_FORWARD";})(d || (b.Ot=d={}));t=(function(){function n(c,g){this.O=c;this.config=g;}n.prototype.lx=function(c,g,f){var e,h,l;e=c.status;h=c.sa;c=c.za;if(!a(e,this.config.tka))return d.R3a;this.O.Xw.GEb();l=this.O.qd.Fka;if(l && 410 === e && h.pf(l))return d.D2;if(g.G <= this.config.T9)return d.lCa;g=this.O.cm() - this.config.Wqc;return 410 !== e && c.G > g?d.yT:f?d.Oab:d.Jfa;};return n;})();b.zya=t;},72117:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.P8a=void 0;d=a(22970);t=(function(n){function c(g){return n.call(this,g) || this;}d.__extends(c,n);return c;})(a(2415).aBa);b.P8a=t;},95052:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.O8a=void 0;d=a(22970);n=a(66164);c=a(90745);g=a(65161);f=a(52571);e=a(48170);t=a(71808);h=a(85254);l=a(97757);k=a(99021);m=a(46512);p=a(15908);a=(function(r){function q(u,v,w,x,y,A,z,B,C){var D;D=r.call(this,u,v,w,x,y,A,z,B,C) || this;D.events=new c.EventEmitter();D.fs=new k.bCa(D,v,D.console,D.wr,D.Rt,D.mediaType,D.CH,function(){return D.xo;});return D;}d.__extends(q,r);q.prototype.dZa=function(u,v,w){var x;x=this.QC(u);if(x)return x;(0,f.assert)(!u.xa,"OnDemandPipeline.tryIssueRequest: stream must not be live");x=u.bic();(0,f.assert)(x,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(u.eh,", headerFragments:").concat(x));u=this.CLc(u,x,this.fe,v,w);this.cjb();return u;};q.prototype.CLc=function(u,v,w,x,y){var A,z,B,C,D,F,H,E,G,K,N,I;F=this.Rt;H=F.O;E=this.mediaType;e.u && this.trace("makeRequest on streamId:",u.Jb,"profile:",u.profile,"location:",u.location,"url:",u.url,"bufferLevelMs:",this.gV.G,"(ms)","nextFragmentIndex:",this.po,"firstFragment:",JSON.stringify(this.Hd),"lastFragment:",JSON.stringify(this.dd),"fragments:",v.length,"stream.frameDuration:",u.Ea);G=this.po;if(G >= v.length)return (this.warn("makeRequest nextFragmentIndex:",G,"past fragments length:",v.length),{Sf:!1,reason:"insufficientFragments"});if(!this.Hd || !this.dd)return (this.warn("makeRequest delayed, first or last fragment not set","first:",!!this.Hd,"last:",!!this.dd),{Sf:!1,reason:"noFirstOrLastFragment"});K=E === g.v.X && !!this.config.nG && this.Ba.K.Wq && this.Hd.Rb.G < this.config.nG && void 0 !== this.Hd.ma;N=E === g.v.X && !!this.config.nG && this.Ba.K.jp && this.dd.Rb.G < this.config.nG && void 0 !== this.dd.ma;G=this.GO.pqb(u,G,K,N);if(E === g.v.X && this.config.nG){if(this.Ba.K.Wq)if(G.Fs)(e.u && this.trace("makeRequest marking fragment for fade in"),G.hGb());else if(G.index === this.Hd.index + 1 && this.Hd.Rb.G < this.config.nG && void 0 !== this.Hd.ma){e.u && this.trace("makeRequest marking second fragment for fade in");I=null !== (A=this.Hd.ma.end) && void 0 !== A?A:this.Hd.nf;G.hGb(I - this.Hd.ma.start);}this.Ba.K.jp && (G.Yj?(e.u && this.trace(("makeRequest marking last fragment ").concat(G.index," for fade out")),G.iGb()):G.index === this.dd.index - 1 && (this.dd.Rb.G < this.config.nG && void 0 !== this.dd.ma?(e.u && this.trace(("makeRequest marking fragment ").concat(G.index," for fade out")),I=null !== (z=this.dd.ma.end) && void 0 !== z?z:this.dd.nf,G.iGb(I - this.dd.ma.start)):e.u && this.trace(("makeRequest marking fragment ").concat(G.index," not for fade out ") + (", ").concat(this.dd.Rb.G,", ").concat(JSON.stringify(this.dd.ma)))));}if(H.jw && !H.jw.$Ha(this.mediaType,G.ka))return (e.u && this.trace("makeRequest would go over buffer limits:",G.ka),{Sf:!1,reason:this.mediaType === g.v.V?"globalVideoMemoryLimit":"globalAudioMemoryLimit"});this.sQa=G.region;G.xx=y;null === (B=this.zm) || void 0 === B?void 0:B.jnc(G,u);G.Yj && E === g.v.V && this.wr.VXb(F.K,G.Mb.G);e.u && G.Yj && this.trace("marking last request in sequence, ptsEnd:",G.Mb.G,"branch.contentEndPts:",F.Mb.G,"fragments.endPts:",v.xg,"fragmentIndex:",this.po,"lastFragmentIndex:",v.length - 1);this.config.PJ && (e.u && this.trace("request.bytes:",G.ka,"max request size:",this.config.PJ),G.PJ=this.config.PJ);G.location=u.location;G.Qc=u.Eb;G.y3c=u.ut;this.bXa(G,{stream:u,kn:x,qZ:G.Rb});v=n.platform.time.na();e.u && this.trace("calling createRequest with fragment " + JSON.stringify(G) + ", " + G.constructor && G.constructor.name + ", " + JSON.stringify(u));w=this.Ue.w5(G,w,u);e.u && this.trace("making mediaRequest:",w.toString(),"branchOffset:",F.Wd.G,"offset:",G.offset,"bytes:",G.ka,"lastRequestInSequence:",G.Yj,"viewableId:",H.J,"frag:",G.sa.G + "-" + G.za.G,"frag index:",G.index,"stream.frameDuration:",u.Ea,"fragment.movieDataOffset:",G.Roa,"fragment.profile:",G.profile,"frameCount:",null === (C=this.zm) || void 0 === C?void 0:C.Ty(G,u),"edit:",JSON.stringify(w.ma),"editSecondFragment:",K,"editLastButOneFragment:",N,"this.lastFragment.durationMs:",this.dd.Rb.G);if(!w.open()){this.warn("MediaRequest.open error: " + w.ah + " native: " + w.Xg);if(w.aborted)return (e.u && this.trace("makeRequest aborted"),{Sf:!1,reason:"requestAborted"});this.warn("makeRequest caught:",w.ah);H.Hf({oi:"MediaRequest open failed (1)",uB:"NFErr_MC_StreamingFailure"});return {Sf:!1,reason:"openAseMediaRequest"};}null === (D=this.zm) || void 0 === D?void 0:D.hdc(w,G,u);e.u && this.trace("mediaRequest created in",n.platform.time.na() - v,"ms," + w.toString(),"offset:",G.offset,"bytes:",G.ka);this.rG(w.za.G,G.jY);e.u && this.trace("makeRequest done, mediaRequest:",w.toString(),"relative:",this.ul,"branchOffset:",F.Wd.G,"nextFragmentIndex:",this.po);return {Sf:!0,reason:"success"};};q.prototype.rG=function(u,v){var w;e.u && this.trace("pipeline.setNextStreamingPts:",this.gN + "->" + u,this.po + "->" + v);w=u - this.gN;this.gN=u;this.po=v;this.Fta(w);};q.prototype.Fta=function(u){var v,w;this.VM=-Infinity;this.zM="available";if(this.config.d6){w=null === (v=this.qj) || void 0 === v?void 0:v.La;void 0 !== w && (u={tWa:null !== u && void 0 !== u?u:w.fg(this.po),uJa:this.Ba.Xm(this.mediaType),VRa:this.config.aY,rYa:this.config.HF},this.VM=this.config.Lcc?(0,p.gNa)(p.Ffa.pya,d.__assign(d.__assign({},u),{Blb:this.config.aKc,Elb:this.config.bKc})):(0,p.gNa)(p.Ffa.LINEAR,d.__assign(d.__assign({},u),{I2b:this.config.j_})),this.zM="waitingOnPacedRequest");}};return q=d.__decorate([l.xW],q);})(m.$Aa);b.O8a=a;(0,h.wl)(t.Ox,a);},99548:function(t,b,a){var c,g,f,e,h;function d(l,k){var C,D;for(var m=[],p=0,r=l[p],q=null === r || void 0 === r?void 0:r[0],u=null === r || void 0 === r?void 0:r[1],v=k.dd.index,w=k.track.Dj,x=0,y=k.Hd.sa,A=k.Hd.za.G > r[0],z=A,B=k.Hd.index;B <= v;++B){C=!1;if(r){D=w.get(B);A && (D.sa.G >= u?(A=!1,++p >= l.length?u=q=r=void 0:(r=l[p],q=null === r || void 0 === r?void 0:r[0],u=null === r || void 0 === r?void 0:r[1])):z?z=!1:(m.push(new g.Bfa(x,y,D.sa)),y=D.sa,C=!0));!A && r && D.za.G > q && (A=!0,C=D.sa,(D=k.track.jz.Hs(B).Mob(q)) && 0 !== D.Gk && (C=c.I.Ca(D.re)),m.push(new g.Bfa(x,y,C)),y=C,C=!0);}C && ++x;}m.push(new g.Bfa(x,y,k.dd.za));return m;}function n(l,k,m){var p,r,q,u;(0,e.assert)(l.U && l.Si,"Unexpected normalizeLiveEndTimestamp.");r=l.U.Ti;q=null === r || void 0 === r?void 0:r.dW;r="none";if(null === (p=l.qd) || void 0 === p?0:p.dW)if(q){h && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp setting end timestamp:","manifestEndTime:",q);r="manifest";u=new Date(q).getTime();}else (p=l.Si.endTime,(l=l.Si.EI)?(r="oc",u=l,h && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp,","eventEndTime:",p,"encoderShutdownTime: ",l,"endTimeMs:",u)):p && (r="oc",h && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp setting end timestamp:","eventEndTime:",p),u=new Date(p).getTime() + k.mwb,h && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp,","eventEndTime:",p,"endTimeMs:",u)));u || (u=Infinity);return {ib:u,source:r};}Object.defineProperties(b,{__esModule:{value:!0}});b.YDb=function(l,k,m){var p,r;p=k.get(f.v.X);r=k.get(f.v.V);k=k.get(f.v.Aa);r=null === r || void 0 === r?void 0:r.track.KI(l,m,r.zm);p=null === p || void 0 === p?void 0:p.track.KI(l,(null === r || void 0 === r?void 0:r.za) || m,p.zm);l=null === k || void 0 === k?void 0:k.track.KI(l,(null === r || void 0 === r?void 0:r.za) || (null === p || void 0 === p?void 0:p.za) || m,k.zm);return [p,r,l];};b.fvc=function(l,k,m){(0,e.assert)(k,"missing pipeline");return k.track.Hu(l,m,void 0,!0).sa;};b.Dsc=function(l,k,m){var p;if(!k.cl || 0 === k.cl.length)return (h && l.trace("markExitZones, no exit zones"),[]);p=k.cl.map(function(r){return [k.cb + r[0],k.cb + r[1]];});m=d(p,m.ht);h && l.trace("markExitZones found regions:",m);return m;};b.Q0c=d;b.opa=function(l,k,m,p){var r;r=p;p=m.vJ?r:c.I.min(r,k);h && l.trace("PipelineNormalizer.normalizeLiveStartTimestamp capping start timestamp to live:",r.ba(),"->",p.ba());return p;};b.FZc=n;b.f$=function(l,k,m,p){var r,q,u,v;(0,e.assert)(m.U && m.Si,"Unexpected normalizeLiveEndTimestamp.");(0,e.assert)(m.qd,"Expected live viewable with live position service");r=m.U.Ti;q=n(m,k,l);u=q.ib;q=q.source;if(isFinite(u) && ("oc" === q || null === p || void 0 === p || !p.isFinite())){q=m.qd.$sa.G;v=u - q;0 > v && l.error("PipelineNormalizer.normalizeLiveEndTimestamp negative pts. ","liveMetadata:",JSON.stringify(r),"eventEndTime:",m.Si.endTime);(0,e.assert)(0 <= v,"endPts is negative");p=(null === p || void 0 === p?0:p.isFinite())?c.I.min(p,c.I.Ca(v)):c.I.Ca(v);h && l.trace("PipelineNormalizer.normalizeLiveEndTimestamp. ","new contentEndTimestamp:",p.G,"startTimeMs:",q,"endTimeMs:",u);}return k.wR && (k=m.qd.cm(!0),k=c.I.Ca(k + 1E4),null === p || void 0 === p?0:p.greaterThan(k))?(l.trace("PipelineNormalizer.normalizeLiveEndTimestamp. ","performing simulated override:",p.G,"startTimeMs:",k,"endTimeMs:",u),c.I.zg):p;};c=a(91176);g=a(79048);f=a(65161);e=a(52571);h=!1;},2415:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aBa=void 0;d=a(22970);n=a(65161);c=a(52571);g=a(99548);t=(function(){function f(e){var h,l,k,m,p,r,q;h=e.console;l=e.config;k=e.O;m=e.Ke;p=e.K;r=e.sa;q=e.za;e=e.splice;this.iJ=this.dV=!1;this.console=h;this.config=l;this.Ke=m;this.O=k;this.K=p;this.sa=r;this.za=q;this.splice=e;this.console.trace("PipelineNormalizer ctor:",this.Ke.map(function(u){return u.mediaType;}));}f.prototype.normalize=function(){var e,h;if(this.dV)throw Error("Cannot call normalize() after cleanup");if(this.iJ)throw Error("Cannot call init() / normalize() twice");this.iJ=!0;(0,c.assert)(this.f0b());e=this.rSa();h=!1;this.K && !this.K.sx && (h=this.sSa());this.Qe();return {Zja:e,WN:h};};f.prototype.yK=function(e,h){(0,c.assert)(this.iJ,"expected to be called init() before renormalize");this.K=e;this.za=h;e=(0,g.YDb)(this.config,this.Ke,this.za);this.sSa();return e;};f.prototype.Qe=function(){this.dV || (this.dV=!0);};f.prototype.f0b=function(){return this.Ke.every(function(e){return e.track.eh;});};f.prototype.rSa=function(){var e,h,l,k,m,p,r,q,u,v,w,x;e=this.Ke.get(n.v.X);h=this.Ke.get(n.v.V);l=this.Ke.get(n.v.Aa);k=d.__read(h?this.qSa(h,this.sa,this.za,this.splice):[!1],3);m=k[0];p=k[1];k=k[2];r=d.__read(e?this.qSa(e,m && void 0 !== (null === p || void 0 === p?void 0:p.sa)?p.sa:this.sa,void 0 !== (null === k || void 0 === k?void 0:k.za)?k.za:this.za,this.splice):[!1],3);q=r[0];u=r[1];r=r[2];v=d.__read(l?this.qSa(l,this.sa,this.za,this.splice):[!1],3);w=v[0];x=v[1];v=v[2];q && (null === e || void 0 === e?void 0:e.d8(u,r));m && (null === h || void 0 === h?void 0:h.d8(p,k));w && (null === l || void 0 === l?void 0:l.d8(x,v));return m || void 0 === this.Ke.get(n.v.V) && q;};f.prototype.qSa=function(e,h,l,k){var m,p;p=null === (m=e.Ba.parent) || void 0 === m?void 0:m.Ie(e.mediaType);h=e.Hd || e.track.Hu(this.config,h,null === p || void 0 === p?void 0:p.dd,k);l=e.dd || e.track.KI(this.config,l,e.zm);return [!e.Rf(),h,l];};f.prototype.sSa=function(){(0,c.assert)(this.K,"missing segment");return this.Dmb(this.K.lb);};f.prototype.Dmb=function(e){var h;(0,c.assert)(this.K,"missing segment");h=this.Ke.ht;if(void 0 === (0,g.fvc)(this.config,h,e) || void 0 === h.za)return !1;e=this.config.Eca && "lazy" === this.K.Ld?(0,g.Dsc)(this.console,this.K,this.Ke):[];this.K.vGb(e);return !0;};return f;})();b.aBa=t;},46512:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.$Aa=void 0;d=a(22970);n=a(66164);c=a(91176);t=a(81392);g=a(8934);f=a(65161);e=a(65161);h=a(14242);l=a(69575);k=a(52571);m=a(78541);p=a(42431);r=a(73861);a=(function(q){function u(v,w,x,y,A,z,B,C,D){var F;F=q.call(this,v) || this;F.config=w;F.Rt=A;F.js=z;F.kXb=B;F.CH=C;F.connected=!1;F.nOa=!1;F.VM=-Infinity;F.zM="available";F.uH=!1;F.$Ea=!1;F.zvb=-Infinity;F.GO=new g.z8a(F.mediaType,w,x,F);v="[" + F.mediaType + "]";F.console=(0,l.rf)(n.platform,x,v);F.error=F.console.error.bind(F.console);F.warn=F.console.warn.bind(F.console);F.trace=F.console.trace.bind(F.console);F.gN=B.G;w.zm && (F.zm=new h.sbb(w.zm,F.console));F.wr=new r.Q9a(F,y,F.config,F.console,F.mediaType);F.fe=D || (0,m.oI)(F.mediaType,F.track.O,F.config,F.console,F.track.vc,F.wr.Afc.bind(F.wr),F.wr.zfc.bind(F.wr),function(){});F.fe.on("created",function(){return F.events.emit("requestQueueCreated");});return F;}d.__extends(u,q);Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.js.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{track:{get:function(){return this.js;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ba:{get:function(){return this.Rt;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{L:{get:function(){return this.Rt.K.id;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{OTa:{get:function(){return ("").concat(this.L,"-").concat((0,f.LF)(this.mediaType));},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ue:{get:function(){return this.fs;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{De:{get:function(){return this.js.De;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{gV:{get:function(){return this.fs.gV;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ira:{get:function(){return this.fs.Ira;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ul:{get:function(){return this.gN;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Osa:{get:function(){return this.Pb || this.sF;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Qj:{get:function(){return this.Ue.Qj || this.Osa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{f5:{get:function(){return this.Ue.f5;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{AIa:{get:function(){return this.Ue.AIa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Bvb:{get:function(){var v;v=this.Ue.Cvb;return null === v || void 0 === v?void 0:v.za;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{eKa:{get:function(){return this.Ue.eKa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ak:{get:function(){return !!this.dd && (this.po > this.dd.index || this.gN >= this.dd.za.G);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{i0b:{get:function(){return this.Ak && 0 === this.Ue.nL;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Nj:{get:function(){return this.Ak && 0 === this.fs.Ayc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ETa:{get:function(){var v;if(this.$Ea)return !0;if(!this.Nj)return !1;v=this.NW();return this.$Ea || (this.$Ea=void 0 === v || v.ETa);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{p0b:{get:function(){return !!this.Ue.Cvb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{UH:{get:function(){return this.Ue.UH;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Gx:{get:function(){return this.Mb?c.I.max(this.Mb.ca(this.wG),c.I.fa):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{pW:{get:function(){return this.Ba.pW;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{tl:{get:function(){return this.Qp.yk(this.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{j$b:{get:function(){return this.Ue.La.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qj:{get:function(){return this.tl.qj;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{YJ:{get:function(){return this.VM;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{HU:{get:function(){return this.zM;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{P:{get:function(){var v,w;return null !== (w=null === (v=this.Hd) || void 0 === v?void 0:v.P) && void 0 !== w?w:1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{tb:{get:function(){var v;return null === (v=this.Hd) || void 0 === v?void 0:v.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ib:{get:function(){var v;return null === (v=this.dd) || void 0 === v?void 0:v.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xo:{get:function(){return this.Ba.Wd.Rc(this.P).ia;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qOa:{get:function(){return this.Ue.qOa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Cx:{get:function(){return this.Ue.Cx;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{NXa:{get:function(){return this.Ue.NXa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{sF:{get:function(){return this.kXb.add(this.Ba.Wd);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Unc:{get:function(){return n.platform.time.now() - this.zvb < this.config.yaa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Qp:{get:function(){return this.Ba.z7(this.mediaType);},enumerable:!1,configurable:!0}});u.prototype.aS=function(){this.Ue.aS();};u.prototype.jU=function(){var v;v=this;this.fs.jU(function(w){var x,y;y=w[0];w=null === (x=y.sa) || void 0 === x?void 0:x.G;x=y.index;x < v.po && v.rG(w,x);});};u.prototype.reset=function(){this.Ue.reset();this.Hd && this.rG(this.Hd.sa.G,this.Hd.index);this.fe && this.Ba.O.V3(this.mediaType,this.fe);};u.prototype.$g=function(v){var w;this.uH=!0;this.fs.$g(v);null === (w=this.Qp) || void 0 === w?void 0:w.yk(this.mediaType).Ja();this.fe && (this.Ba.O.V3(this.mediaType,this.fe),p.RL.instance.Vja(this.fe),this.fe.removeAllListeners(),this.fe=void 0);};u.prototype.toJSON=function(){return {started:this.Cx,startOfSequence:this.NXa,segmentId:this.L,requestedBufferLevel:this.Ira,viewableId:this.Rt.O.J,hasFragments:this.qOa};};u.prototype.Fo=function(v){return this.Ue.Fo(v);};u.prototype.rG=function(v,w){this.gN=v;this.po=w;this.Fta();};u.prototype.UI=function(){return this.Ue.UI();};u.prototype.NW=function(){return this.Ba.hrb(this.mediaType);};u.prototype.iV=function(v){return (v=this.Ue.Sec(v.G))?v.complete:!1;};Object.defineProperties(u.prototype,{Mg:{get:function(){return this.Rt.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{wG:{get:function(){var v,w;return this.Ue.wG || (null === (w=null === (v=this.Hd) || void 0 === v?void 0:v.sa) || void 0 === w?void 0:w.add(this.Ba.Wd)) || this.sF;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ZXa:{get:function(){return c.I.Ca(this.gN);},enumerable:!1,configurable:!0}});u.prototype.QC=function(v){(0,k.assert)(!this.uH,"pipeline.tryIssueRequest on disabled pipeline");(0,k.assert)(!this.bo(),"pipeline.tryIssueRequest on done pipeline");(0,k.assert)(!this.Ak);if(!v.eh)return (v=v.QC(this.Ba.K,this.fe))?{Sf:v,reason:"success"}:{Sf:v,reason:"pipelineTryIssueHeaderRequest"};};u.prototype.bXa=function(v,w){var x,y,A,z,B;x=w.stream;y=w.kn;w=w.qZ;A=this.Rt;z=this.mediaType;B=A.O.SZ;B && "OPEN_CONNECT_APPLIANCE" === x.zx && (x=this.config.Hcc && this.mediaType === e.v.V && this.config.Ap,v.bR=this.config.rka || z === e.v.X && this.config.oka || z === e.v.V && this.config.pka?y:void 0,v.HC=B.tu({gI:A.Xm(this.mediaType),kpa:this.config.zcc?this.config.kpa:void 0,YIb:String(n.platform.time.na()),DAb:y,lHa:x?{start:v.offset,size:v.ka}:void 0,DBb:w.G}));};u.prototype.d8=function(v,w){v && (this.Hd=v);w && (this.dd=w);(0,k.assert)(this.Hd);(0,k.assert)(this.dd);(0,k.assert)(void 0 === this.po);this.rG(this.Hd.sa.G,this.Hd.index);};u.prototype.truncate=function(v){var w,x;w=this;(0,k.assert)(this.Hd,"expected first fragment to exist on updateStreaming");if(this.bo() && (null === (x=this.dd) || void 0 === x?0:x.ZA) || this.dd && v.index > this.dd.index)return !1;this.dd=v;if(!this.Ak)return !0;v=this.fs.uZb(v);if(!v)return !1;this.rG(v[0],v[1]);this.Ak && (this.Ue.XFb(),this.Ue.djb(),Promise.resolve().then(function(){w.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:w.mediaType});}));return !0;};u.prototype.Sw=function(){return this.bo()?!1:this.Rf()?!0:this.track.Y9;};u.prototype.Rf=function(){return void 0 !== this.Hd && void 0 !== this.dd;};u.prototype.bo=function(){return this.uH || this.i0b;};u.prototype.SPa=function(){var v,w,x;x=this.config.Ap;if(null === (v=this.fe) || void 0 === v?0:v.track)x=null === (w=this.fe) || void 0 === w?void 0:w.track.Ap;return x;};Object.defineProperties(u.prototype,{rUa:{get:function(){var v;v=!0;this.config.Gaa && (v=this.connected);this.config.Faa && (v=v && this.nOa);return v;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vAb:{get:function(){return void 0 !== this.zm;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{bqa:{get:function(){var v;return (null === (v=this.zm) || void 0 === v?0:v.hB())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});u.prototype.qo=function(v,w){this.wr.rvc(v);"oncomplete" === this.config.wtb && (this.nOa=!0);this.FO(v,w);};u.prototype.kQ=function(v){var w,x;v.gf || this.wr.tvc(v.stream,null === (w=v.Pb) || void 0 === w?void 0:w.G,null === (x=v.sa) || void 0 === x?void 0:x.G);this.wr.ovc(this.L,v.stream,v.gf);this.ela(v);};u.prototype.cK=function(v){this.connected=!0;"onfirstbyte" === this.config.wtb && (this.nOa=!0);this.F6(v);};u.prototype.qqb=function(v){var w,x;w=this.Ue.La;if(0 === w.length)return {La:[],pqa:0,nx:0,mZ:0};x=w.u6(v.G);0 > x && (x=void 0 === w.Pb || v.G <= w.Pb.G?0:w.length);return {La:w.CFc(x),pqa:Math.max(0,w.dkb - x),nx:w.nx,mZ:w.mZ};};u.prototype.sZb=function(v,w,x){var y,A,z,B,F,H,E,G,K;if(!this.Unc){z=this.Ue.rjc();Array.prototype.sort.call(z,function(I,L){return I.index - L.index;});(0,f.LF)(this.mediaType);B=w / z.length;w=[];try{for(var C=d.__values(z),D=C.next();!D.done;D=C.next()){F=D.value;H=F.bitrate;E=F.Rb;G=F.ZA;K=8 * ((F.ka || E.G * H / 8) - F.bytesReceived);if(void 0 !== F.Na.sa)if(0 < w.length)w.push(F);else if(Math.ceil(K / B) + (F.active?0:x) > v){if(G)return;w.push(F);}}}catch(I){var N;N={error:I};}finally{try{D && !D.done && (y=C.return) && y.call(C);}finally{if(N)throw N.error;}}0 !== w.length && (v=d.__read(w,1)[0],this.Ue.tZb(w),this.rG(null === (A=v.Na.sa) || void 0 === A?void 0:A.G,v.index),this.zvb=n.platform.time.now());}};u.prototype.cjb=function(){this.Ak && (this.Ue.XFb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};u.prototype.Fta=function(){this.VM=-Infinity;this.zM="available";};return u;})(t.DL);b.$Aa=a;},99021:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q;Object.defineProperties(b,{__esModule:{value:!0}});b.bCa=void 0;d=a(22970);n=d.__importStar(a(17267));c=a(91176);g=a(47743);f=a(21306);t=a(81392);e=a(65161);h=a(52571);l=a(89645);k=a(40666);m=a(97757);p=a(27977);r=a(3033);q=a(58418);a=(function(u){function v(w,x,y,A,z,B,C,D){var F;F=u.call(this,w) || this;F.config=x;F.console=y;F.wr=A;F.Rt=z;F.mediaType=B;F.Rla=D;F.fe=new l.SG(F.console);F.error=F.console.error.bind(F.console);F.warn=F.console.warn.bind(F.console);F.trace=F.console.trace.bind(F.console);F.vEb();F.nl=null === C || void 0 === C?void 0:C.Pq(function(){return F.MDc();},"pruner");return F;}d.__extends(v,u);Object.defineProperties(v.prototype,{Ba:{get:function(){return this.Rt;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Cx:{get:function(){return 0 < this.CVa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{NXa:{get:function(){return !this.z6;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{CVa:{get:function(){return this.kb.length;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{nL:{get:function(){return this.kb.nL;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{rN:{get:function(){return this.fe.tF;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Qj:{get:function(){return this.kb.complete.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{f5:{get:function(){return this.kb.akb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{AIa:{get:function(){return this.kb.a6b;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wG:{get:function(){return this.kb.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ira:{get:function(){return void 0 === this.kb.Pb?0:this.kb.Mb.G - this.kb.Pb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{gV:{get:function(){return {ka:this.kb.gja,G:this.kb.empty?0:Math.max(this.kb.akb - this.kb.Pb.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{gja:{get:function(){return this.kb.gja;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{UH:{get:function(){return this.kb.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ayc:{get:function(){return this.vjc();},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qOa:{get:function(){return this.kb.length > this.kb.nL;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mk:{get:function(){return this.kb.mk;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Cvb:{get:function(){return this.EEa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{eKa:{get:function(){return void 0 !== this.EEa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{La:{get:function(){return this.kb;},enumerable:!1,configurable:!0}});v.prototype.$g=function(w){var y,A,z;function x(){var B;B=z.map(function(C){return C;});y.wr.ypa(B);z.forEach(function(C){C.abort();C.Qe();});}y=this;z=this.kb;w?setTimeout(x,1):x();this.vEb();this.fe.oO();null === (A=this.nl) || void 0 === A?void 0:A.Ja();};v.prototype.reset=function(){this.$g();this.fe.tEb();};v.prototype.close=function(){this.fe.oO();};v.prototype.XFb=function(){this.Ngb=!0;};v.prototype.zrb=function(){return {endMarked:void 0 !== this.fe.count,queueCount:this.fe.count,isComplete:this.fe.tF,itemCount:this.fe.bkb,continuousEndPts:this.fe.aj().reduce(function(w,x){return x && !x.done && (x=x.value,100 > Math.abs(x.wB.G - w) || -1 === w)?x.uW.G:w;},-1),sentinelItemCount:this.fe.aj().filter(function(w){return w && w.done;}).length,processedCount:this.fe.rac,rc:this.CVa};};v.prototype.ahc=function(){return {completedRequests:this.kb.bhc()};};v.prototype.w5=function(w,x,y){var A;A=this.config;(0,h.assert)(!w.header);w=g.Yua.create(y,A,x.track,w,this.kb,this.Ba.K,this.console,this.Rla);this.kb.length && this.kb.za && !w.sa.equal(this.kb.za) && w.kKb(this.kb.za);this.wy(w);return w;};v.prototype.wy=function(w){var x,y;this.kb.Ps(w);(null === (x=this.nl) || void 0 === x?void 0:x.state) === k.Hl.complete && (null === (y=this.nl) || void 0 === y?void 0:y.Uc());this.G4b();w.Yj && (this.z6=!1);};v.prototype.UI=function(){return this.fe.pla();};v.prototype.djb=function(){this.dC === this.kb.length && this.Ngb && this.fe.oO();};v.prototype.aS=function(){var w,x,y,A;w=this;A=Promise.resolve();if(!this.Rt.jX(this.mediaType) || this.dC === this.kb.length)return A;for(var z=this.config.Wsc,B=0,C=[];this.dC < this.kb.length;){if(y=this.kb.get(this.dC)){if(y.aC){if(this.config.iO)C.push.apply(C,this.pBc(y));else break;}else {if(this.kb.Zob && this.kb.Zob.tb < y.tb)break;if(!y.KB())break;C.push(y);}++B;n.ec(this.ZTa) || (this.ZTa=null === (x=y.Pb) || void 0 === x?void 0:x.G);}++this.dC;if(!n.Ts(z) && B >= z)break;}C.length && (void 0 !== this.fe.count && (this.error("tryToAtach() but requestQueue has sentinel:",this.fe.count),this.fe.tEb()),A=Promise.all(C.map(function(D){return w.fe.enqueue(D).then(function(){return w.tlc(D);});})),this.djb());return A;};v.prototype.tlc=function(w){this.EEa=w;};v.prototype.jU=function(w){var x,y,A;x=this;y=[];if(0 !== this.kb.nL){A=this.kb.cBb;this.kb.ZJb.HXa(function(z){var B;if(z.Yj || A > (null === (B=z.Pb) || void 0 === B?void 0:B.G))return !0;z.Fs && (x.z6=!1);if(!x.mN(z))return (x.warn("request abort failed:",z.toString()),!0);y.unshift(z);});this.caa();y.length && "function" === typeof w && w(y);}};v.prototype.LDc=function(w){w.aC=!0;w.abort();this.kb.bxc();this.aS();};v.prototype.MDc=function(){var w,x,y,A,z,B;return d.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.kb.length)return [3,3];w=this.kb.get(0);x=c.I.Ca(null !== (B=null === (z=this.config.eA) || void 0 === z?void 0:z.G) && void 0 !== B?B:0);y=x.add(w.Mb);return [4,k.Ud.Fm(y)];case 2:C.S();if(1 >= this.kb.complete.length && !w.Yj)return [3,3];(0,h.assert)(w === this.kb.get(0));w.ZA || this.mN(w);A=this.kb.splice(0,1);0 < this.dC && this.dC--;this.wr.ypa(A);A=void 0;return [3,1];case 3:return [2];}});};v.prototype.Sec=function(w){if(this.kb.length && (w=this.kb.Cob(w)))return w;};v.prototype.uZb=function(w){var x,y,A,z,B,C,D;C=w.za;w=this.kb.vLa(w.sa.G);if(!(0 > w)){D=this.kb.get(w);(0,h.assert)(D && void 0 !== (null === (x=D.sa) || void 0 === x?void 0:x.G) && void 0 !== (null === (y=D.za) || void 0 === y?void 0:y.G) && void 0 !== D.index,"expected existing request to be defined with properties");if(null === (A=D.za) || void 0 === A?0:A.equal(C))return (this.Hfb(w),[null === (z=D.za) || void 0 === z?void 0:z.G,D.index + 1]);this.Hfb(w - 1);return [null === (B=D.sa) || void 0 === B?void 0:B.G,D.index];}};v.prototype.Fo=function(w){var x,y;x=this;y=[];this.kb.forEach(function(A){var z,B;B=null === (z=A.yZa) || void 0 === z?void 0:z.call(A,w);1 === B?y.push(A):2 === B && x.Ba.O.Hf({oi:"swapUrl failure"});});return y;};v.prototype.cK=function(w){w.lz && w.KB() && !this.config.kO && this.aS();this.F6(w);};v.prototype.UF=function(w,x){var y,A;if(this.config.kO && w.KB() && !w.ZA){y=w.stream;A=y.track;y=y.bitrate;A=(0,q.Qrb)({e3b:w.ka,Yrc:A.De[0].bitrate,k$b:y,Qtc:this.config.Ysa,HDc:w.Rb.ci,xa:this.Ba.O.vc});w.bytesReceived >= A && this.aS();}this.tW(w,x);};v.prototype.qo=function(w,x){var y,A;w.lz && !w.ZA && this.aS();(null === (y=this.nl) || void 0 === y?void 0:y.state) === k.Hl.complete && (null === (A=this.nl) || void 0 === A?void 0:A.Uc());this.FO(w,x);};v.prototype.rjc=function(){return this.kb.active.concat(this.kb.ZJb);};v.prototype.tZb=function(w){var x,y,A;x=this;y=!1;A=-1;w.map(function(z){(0,h.assert)(-1 === A || z.index === A + 1,"requests to abort must be contiguous");A=z.index;if(!x.mN(z))return !1;y=!0;x.fe.remove(z);z.Qe();return !0;});y && this.caa();};v.prototype.vjc=function(){return this.kb.mk + this.kb.nL;};v.prototype.vEb=function(){var w,x,y;x=void 0 !== this.kb && 0 < this.kb.length;y=this.kb;this.kb=new f.p0a(this.console,this);this.dC=0;this.fe.clear();this.EEa=void 0;this.ZTa=null;null === (w=this.nl) || void 0 === w?void 0:w.Uc();this.Ngb=this.z6=!1;x && (w=y.map(function(A){return A;}),this.wr.ypa(w));};v.prototype.G4b=function(){this.z6 || (this.z6=!0);};v.prototype.Hfb=function(w){var x;for(w+=1;w < this.CVa;w++){x=this.kb.get(w);(0,h.assert)(x,"expected request to exist");this.fe.remove(x);x.aborted || (this.mN(x),x.Qe());}this.caa();};v.prototype.mN=function(w){return w.abort()?!0:!1;};v.prototype.caa=function(){var w,x,y,A;w=this;if(0 !== this.kb.length){y=[];A=0;this.kb.caa(function(z,B){B < w.dC && ++A;y.push(z);});this.dC-=A;null === (x=this.nl) || void 0 === x?void 0:x.Uc();this.wr.ypa(y);}};v.prototype.pBc=function(w){switch(this.mediaType){case e.v.X:return this.qBc(w);case e.v.V:return this.sBc(w);case e.v.Aa:return this.rBc(w);case e.v.Im:return (this.console.error("providePaddingFragments not implemented for MEDIA_EVENTS"),[]);}};v.prototype.qBc=function(w){return r.ML.instance().Gba.JCb(this.Ba.O,w.stream.ee,(0,p.Upb)(w.stream.profile),w.stream.bitrate,w.stream.track.Zs,w.Rb,this.Ba.K,function(x,y){return w.Pb.add(y).Rc(x).ia;},this.config,this.console);};v.prototype.sBc=function(w){var x,y,A;A=null === (x=w.stream.track.Ea) || void 0 === x?void 0:x.hVa();(0,h.assert)(A,"Video streams must have a frame rate");return r.ML.instance().Gba.KCb(this.Ba.O,"padding",w.stream.profile,A,null === (y=w.stream.track.qn) || void 0 === y?void 0:y.$A,w.stream.track.Zs,w.Rb,this.Ba.K,function(z,B){return w.Pb.add(B).Rc(z).ia;},this.console).La;};v.prototype.rBc=function(w){w.TUa(r.ML.instance().Gba.uBc(),!0);return [w];};return v=d.__decorate([m.xW],v);})(t.DL);b.bCa=a;},99614:function(t,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.K3b=function(n){var c,g,f;c=n.tWa;g=n.uJa;f=n.Elb;return g < n.VRa?Infinity:g >= n.rYa?1E3 / c:1E3 * (d / Math.pow(g / (n.Blb / (Math.pow(2,1 / f) - a)) + a,f) + 1) / c;};b.J3b=function(n){var c,g;c=n.tWa;g=n.uJa;return g < n.VRa?Infinity:g > n.rYa?1E3 / c:1E3 * (n.I2b + 1) / c;};a=.001;d=9;},15908:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Ffa=void 0;b.gNa=function(f,e,h){void 0 === h && (h=n.platform.time.na());f=1E3 / (0,g[f])(e);return h + f;};n=a(66164);t=a(99614);(function(f){f[f.pya=0]="LOGARITHMIC";f[f.LINEAR=1]="LINEAR";})(c || (b.Ffa=c={}));g=(d={},d[c.pya]=t.K3b,d[c.LINEAR]=t.J3b,d);},58418:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qrb=void 0;b.Qrb=function(a){var d,n,c,g,f;d=a.HDc;n=a.e3b;c=a.Yrc;g=a.FYc;f=c / a.k$b;return Math.min(n * a.Qtc,n - (a.xa?d * c * 1E3 / 8:n * f)) - (void 0 === g?150:g) / 1E3 * (n / d);};},95407:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.jfa=void 0;d=a(22970);n=a(91176);t=(function(c){function g(f,e){f=c.call(this,f) || this;f.GI=e;f.name="PlaybackError";return f;}d.__extends(g,c);g.Toc=function(f){return f && f.message && f.stack && f.GI?"PlaybackError" === (null === f || void 0 === f?void 0:f.name):!1;};g.prototype.EO=function(){return {name:this.name,message:this.message,stack:this.stack,errorInformation:{category:this.GI.Nn,subCategory:this.GI.fIb,errorCode:this.GI.errorCode,context:n.P0.EO(this.GI.context)}};};return g;})(Error);b.jfa=t;},34434:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.dva=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(91176);a(97685);a(26388);f=a(69575);e=a(52571);h=a(65161);l=a(40666);t=a(75393);k=a(26012);m=a(97757);p=d.__importDefault(a(40497));d.__importDefault(a(40497));r=a(62234);q=a(74371);u=a(74504);v=a(82867);w=a(90111);x=a(85030);y=t.kC.LJa;a=(function(A){function z(B,C,D){var F;F=A.call(this) || this;F.player=B;F.Aeb=C;F.x3=D;F.V5=[];F.F5b=void 0;F.ze=void 0;F.m6=new n.lf();F.M8=void 0;F.lK=void 0;F.SCc=null;F.m6.on(F.player,"underflow",F.Dk.bind(F));F.Z2=new w.l$a(B);F.m6.on(F.player,"skipped",F.ZSa.bind(F));F.m6.on(F.player,"playbackEnding",F.SSa.bind(F));F.m6.on(F.player,"paused",F.Dwc.bind(F));F.CH=new l.qH(F.Z2,F.nb,"player");F.d_a=new f.Eg();B.lw && B.Uc && (F.$z=new x.Sab(F,B,F.nb));F.IQ=new r.Q$a({Aaa:function(H){return "function" === typeof B.Aaa?B.Aaa(H):{Bs:"APPROVED"};},Dic:function(){var H,E;return null !== (E=null === (H=F.ze) || void 0 === H?void 0:H.oa.id) && void 0 !== E?E:-1;},cc:F.Tc},F.x3);F.x3.JKa && F.Tc.qja(function(){return F.Lwc();},c.I.Ca(500));F.xQ=(0,q.alb)({Xrc:Math.min(D.zqa,D.gl - 2500),d$b:D.yqa,xB:function(){return F.Pd;},yjc:function(){var H,E,G,K,N,O,P;N=(null === (K=F.ze) || void 0 === K?void 0:K.Zq()) || [];K=[];try{for(var I=d.__values(N),L=I.next();!L.done;L=I.next()){O=L.value;try{for(var J=(E=void 0,d.__values([h.v.X,h.v.V,h.v.Aa])),Q=J.next();!Q.done;Q=J.next()){P=O.Ie(Q.value);P && K.push(P);}}catch(Y){E={error:Y};}finally{try{Q && !Q.done && (G=J.return) && G.call(J);}finally{if(E)throw E.error;}}}}catch(Y){var S;S={error:Y};}finally{try{L && !L.done && (H=I.return) && H.call(I);}finally{if(S)throw S.error;}}return K;},cc:F.Tc,console:F.nb,kuc:500});F.uY=F.uY.bind(F);F.Ppa=F.Ppa.bind(F);F.xQ.addListener("healthChange",F.Ppa);F.player.addListener("playing",F.uY);return F;}d.__extends(z,A);Object.defineProperties(z.prototype,{rl:{get:function(){var B;return null !== (B=this.player.rl) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{jh:{get:function(){return this.Aeb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{sourceBuffers:{get:function(){var B;return (null === (B=this.ze) || void 0 === B?void 0:B.hj) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Do:{get:function(){var B;return null === (B=this.ze) || void 0 === B?void 0:B.Do;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gv:{get:function(){var B;return (null === (B=this.ze) || void 0 === B?void 0:B.gv) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ta:{get:function(){var B;return (null === (B=this.ze) || void 0 === B?void 0:B.Zq()) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{oa:{get:function(){var B;return null === (B=this.ze) || void 0 === B?void 0:B.oa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ia:{get:function(){return this.Z2;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ehb:{get:function(){var B,C;return !!((null === (B=this.ze) || void 0 === B?0:B.vR) && (null === (C=this.em) || void 0 === C?0:C.Nj));},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{vR:{get:function(){var B,C;return null !== (C=null === (B=this.ze) || void 0 === B?void 0:B.vR) && void 0 !== C?C:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yX:{get:function(){return this.XT;},enumerable:!1,configurable:!0}});z.prototype.SSa=function(B){var C;if(this.Jd){B=this.Dp(B.re || this.player.Xc,!0);(0,e.assert)(B,"Playback ending at position outside playgraph");C=this.GB(B);(0,e.assert)(C,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:C,position:B});}else this.console.warn(("Unexpected playback ending event at ").concat(B.re));};z.prototype.fGb=function(B){-1 === this.V5.indexOf(B) && this.V5.push(B);this.ze && this.ze.rY(B);this.events.emit("drmReady",{viewableId:B});};z.prototype.eGb=function(B){B=this.V5.indexOf(B);-1 !== B && this.V5.splice(B,1);};z.prototype.o8=function(B){var C;return -1 !== this.V5.indexOf(B) || !(null === (C=(0,g.oc)(this.Ta,function(D){return D.dm && D.O.J === B;})) || void 0 === C || !C.O.jB);};z.prototype.SK=function(B){var C;null === (C=this.ze) || void 0 === C?void 0:C.SK(B);};z.prototype.yca=function(B){var C;null === (C=this.ze) || void 0 === C?void 0:C.yca(B);this.Aeb=B;};z.prototype.reset=function(){var B,C;this.d_a=new f.Eg();A.prototype.reset.call(this);this.lK=void 0;null === (B=this.ze) || void 0 === B?void 0:B.reset();null === (C=this.$z) || void 0 === C?void 0:C.reset();};z.prototype.LVa=function(B){this.tZ([B]);};z.prototype.tZ=function(B){var C,D;C=this;B.forEach(function(F){var H;A.prototype.LVa.call(C,F);null === (H=C.$z) || void 0 === H?void 0:H.aEc(F);});null === (D=this.ze) || void 0 === D?void 0:D.tZ(B);};z.prototype.jI=function(){var B;null === (B=this.ze) || void 0 === B?void 0:B.jI();};z.prototype.pause=function(B){this.DR(B);A.prototype.pause.call(this,B || this.jh);};z.prototype.resume=function(B){var C;null === (C=this.ze) || void 0 === C?void 0:C.resume(B);A.prototype.resume.call(this,B || this.jh);};z.prototype.Ja=function(){var B;this.xQ.removeListener("healthChange",this.Ppa);this.player.removeListener("playing",this.uY);this.M8=this.vma()?this.Js():void 0;this.ze && this.YJa(this.ze.oa);this.Z2.Ja();this.CH.Ja();this.m6.clear();null === (B=this.$z) || void 0 === B?void 0:B.Ja();A.prototype.Ja.call(this);this.xQ.stop();clearInterval(this.SCc);};z.prototype.xB=function(){var B,C;if(null === (B=this.ze) || void 0 === B?0:B.EAc){B=this.player.Xc;if(this.Ia.Oi){if(this.lK){if(this.lK.greaterThan(B))return (B=this.lK.ca(B),this.d_a.push(B.G),this.lK);if(this.Ta.length){C=this.ze.qqc;if(C && C.lessThan(B))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Hc:{clockdrift:{type:"count"}}}),this.lK);}}this.lK=B;}return B;}return A.prototype.xB.call(this);};z.prototype.OW=function(){var B;B=this.player.playbackRate;void 0 === B && (B=A.prototype.OW.call(this));return B;};z.prototype.vma=function(){return !!this.M8 || A.prototype.vma.call(this);};z.prototype.Js=function(){return this.M8?this.M8:A.prototype.Js.call(this);};z.prototype.SI=function(){var B,C,D,F;F=null === (B=this.ze) || void 0 === B?void 0:B.Mvb;if(null === (C=this.ze) || void 0 === C || !C.oa || F && (null === (D=this.oa) || void 0 === D?0:D.Z.$[F.K.id]))return F;};z.prototype.YJa=function(B){var C,D;(0,e.assert)(B === this.oa);null === (C=this.ze) || void 0 === C?void 0:C.Ja();this.ze=void 0;null === (D=this.oa) || void 0 === D?void 0:D.events.removeListener("seeking",this.xQ.Qpa);this.IQ.reset();};z.prototype.kia=function(B,C){var D,F,H,E;this.M8=void 0;H=A.prototype.kia.call(this,B,C);if(H){E=new u.J0a(B,this,this.nb,B.config,this.x3,this.events,this.jh,this.CH,this.$z,this.TM,this.LM,this.Kdb,null === C || void 0 === C?void 0:C.Do,null === C || void 0 === C?void 0:C.gv);null === C || void 0 === C?void 0:C.BY();this.ze=E;this.DR(this.LY);this.$z && (C=B.zf.Zjc(k.tCa),C || (C=new k.tCa(),B.od(C)),this.$z.OCc(C));null === (F=null === (D=this.oa) || void 0 === D?void 0:D.events) || void 0 === F?void 0:F.addListener("seeking",this.xQ.Qpa);}return H;};z.prototype.BY=function(){var B,C;null === (B=this.ze) || void 0 === B?void 0:B.BY();null === (C=this.F5b) || void 0 === C?void 0:C.Ja();};z.prototype.aW=function(){var D;for(var B=[],C=0;C < arguments.length;C++)B[C]=arguments[C];D=this.ze;(0,e.assert)(D);B.forEach(function(F){return D.fdc(F);});A.prototype.aW.apply(this,d.__spreadArray([],d.__read(B),!1));};z.prototype.tba=function(){var B;null === (B=this.ze) || void 0 === B?void 0:B.tba();};z.prototype.JIc=function(B,C,D){var F;null === (F=this.oa) || void 0 === F?void 0:F.SYa(B.to,B.from,C,D,!0);};z.prototype.sk=function(B){var C,D,F,H;if(!this.ze)return !1;F=this.P6(B);if(!F)return !1;H=c.I.fa;F === this.em && !F.K.n_ && (1 < F.K.KC || null !== (D=null === (C=F.K.cl) || void 0 === C?void 0:C.length) && void 0 !== D && D) && (H=c.I.Ca(this.x3.U9));return F.Mb.ca(H).lessThan(B) || !F.iV(B)?!1:this.ze.sk(B);};z.prototype.nba=function(B){this.IQ.nba(B);};z.prototype.sMa=function(){var B,C;return null !== (C=null === (B=this.oa) || void 0 === B?void 0:B.Mqb()) && void 0 !== C?C:Infinity;};z.prototype.Dk=function(){var B,C,D;if(null === (B=this.oa) || void 0 === B?0:B.en)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {D=this.Pd;(0,e.assert)(this.oa);B=this.Dp(D,!0);(0,e.assert)(B);null === (C=this.ze) || void 0 === C?void 0:C.Dk(B);C=this.P6(D);null === C || void 0 === C?void 0:C.O.Dk();this.oa.Dk(B);this.IQ.AVa();}};z.prototype.ZSa=function(B){this.lK=void 0;this.Mib(B);};z.prototype.Dwc=function(B){this.IQ.rsa(!1);this.Mib(B);};z.prototype.Mib=function(B){var C,D;C=this;if(this.Ta.length && null !== B && void 0 !== B && B.re){B=B.wUa || B.re;D=this.XT={Ai:B,position:this.Dp(B,!0)};this.Tc.uu(l.Ud.Kx(c.I.Ca(1E3)),function(){C.XT === D && (C.XT=void 0);},"cleanupLastPositionPriorToSkip");}};z.prototype.hMa=function(){var B;return null === (B=this.ze) || void 0 === B?void 0:B.hMa();};z.prototype.E$=function(B){this.ze?this.ze.E$(B):A.prototype.E$.call(this,B);};z.prototype.DR=function(B){var C;null === (C=this.ze) || void 0 === C?void 0:C.DR(B);};z.prototype.UYa=function(B){(0,e.assert)(this.oa && this.ze);return A.prototype.UYa.call(this,B);};z.prototype.hra=function(){(0,e.assert)(this.ze);this.ze.hra();};z.prototype.uY=function(){this.x3.kO && !this.xQ.dn && this.xQ.start();this.IQ.usa(this.sMa());this.IQ.rsa(!0);};z.prototype.Lwc=function(){var B,C;B=this.oa;(0,e.assert)(B,"expected playgraph while time updating");C=this.sMa();B.Nqb();this.IQ.usa(C);};z.prototype.Ppa=function(B){var C;C=B.Kac;B.qmc === q.P9a.U1 && C && this.swc(B);};z.prototype.swc=function(B){d.__awaiter(this,arguments,void 0,function(C){var D,F,H,E,G,K;G=C.$Bc;K=C.kl;return d.__generator(this,function(N){switch(N.label){case 0:return [4,p.default.instance().$Dc()];case 1:D=N.S();if(!D)return [2];F=D.Syb;H=D.AEb;E=Math.max(0,G - 500);K.sZb(E,F,H);return [2];}});});};d.__decorate([y.return.nHa(),y.return.Rp],z.prototype,"Js",null);d.__decorate([y.return.nHa(),y.return.SF],z.prototype,"SI",null);return z=d.__decorate([m.xW],z);})(v.tBa);b.dva=a;},74504:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.J0a=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(91176);f=a(66164);e=a(79048);h=a(74418);l=a(62614);k=a(89645);m=a(65161);p=a(78647);r=a(69575);q=a(40666);u=a(52571);v=a(67181);w=a(95324);x=a(16290);y=a(89527);t=(function(){function A(z,B,C,D,F,H,E,G,K,N,I,L,O,J){var Q;Q=this;this.oa=z;this.player=B;this.console=C;this.config=D;this.ev=F;this.events=H;this.jh=E;this.Tc=G;this.$z=K;this.lo=N;this.AP=I;this.Qj=L;this.z3=J;this.Eia=!1;this.Tob=new r.hbb();this.SEa=this.FSa.bind(this);this.VEa=this.Pwc.bind(this);this.UEa=this.qwc.bind(this);this.Ey=new k.SG(this.console);this.Q3=O || new x.fDa(this.console,z);this.QEa=E.some(function(P){return !(null === J || void 0 === J || !J.get(P));});this.x9b();this.hj && (this.DAc=this.ola(this.Ljc()),this.Mdb());this.nl=G.Pq(function(){return Q.z2b();},"branchPruner");this.kj=new n.lf();this.kj.on(this.events,"segmentPresenting",function(){return d.__awaiter(Q,void 0,void 0,function(){var P;return d.__generator(this,function(S){switch(S.label){case 0:return (this.xXb=this.player.Js(),null !== (P=this.config.thb) && void 0 !== P && P.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(S.S(),this.events.emit("requestGarbageCollection",{time:f.platform.time.na(),type:"requestGarbageCollection"}),S.label=2);case 2:return [2];}});});});}Object.defineProperties(A.prototype,{Do:{get:function(){return this.Q3;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{gv:{get:function(){var z;z=new Map();this.hj.forEach(function(B){z.set(B.mediaType,B.mC);});return z;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Mvb:{get:function(){return this.xXb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vR:{get:function(){return this.hj.every(function(z){return z.vR;});},enumerable:!1,configurable:!0}});A.prototype.z2b=function(){var z,B,C,D,F,H;return d.__generator(this,function(E){switch(E.label){case 0:if(!this.Ey.bkb)return [3,2];z=d.__read(this.Ey.mca(),1);B=z[0];C=B.K.type === e.Fd.content && (null === (H=this.ev.eA) || void 0 === H?void 0:H.G) || 0;D=B.Nna || B.Mb;F=D.add(c.I.Ca(C + 1E3));return [4,q.Ud.Fm(F)];case 1:return (E.S(),this.MCb(B),[3,0]);case 2:return [2];}});};Object.defineProperties(A.prototype,{EAc:{get:function(){var z;return !(null === (z=this.DAc) || void 0 === z || !z.lo.value);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{qqc:{get:function(){return this.Eia?c.I.max.apply(c.I,d.__spreadArray([],d.__read(this.hj.map(function(z){var B;return null === (B=z.m1b) || void 0 === B?void 0:B.Kvb;}).filter(g.jzb)),!1)):void 0;},enumerable:!1,configurable:!0}});A.prototype.SK=function(z){this.hj.forEach(function(B){B.SK(z);});};A.prototype.FSa=function(){var z;this.nl.Uc();z=this.hj.filter(function(B){return B.bub;}).map(function(B){return B.mediaType;});this.DR(z);this.resume(z);};A.prototype.Pwc=function(z){this.Dib(z.Ba);};A.prototype.qwc=function(z){this.Dib(z.Ba);};A.prototype.Dib=function(z){var B,C,D;B=this.Zq();C=B.indexOf(z);if(-1 !== C && !B.slice(0,C).some(function(F){return !F.Nj;})){D=z.Qj;D && D.greaterThan(this.Qj.value) && (z.Nj && C < B.length - 1 && (D=c.I.max(D,B[C + 1].Qj || c.I.ryb)),this.Qj.set(D));}};A.prototype.fdc=function(z){(0,u.assert)(-1 === this.Ey.mca().indexOf(z),("Branch ").concat(z.K.id," is already in the collection, cannot re-queue"));z.events.on("branchEdited",this.SEa);z.events.on("requestComplete",this.VEa);z.events.on("liveMissingSegment",this.UEa);z.Qj && this.Zq().every(function(B){return B.Nj;}) && this.Qj.set(z.Qj);this.Ey.enqueue(z);this.nl.state === q.Hl.complete && this.nl.Uc();!z.K.n_ || z.O.vc && !isFinite(z.K.ib) || this.Ey.oO();this.Eia || this.$ec(z);};A.prototype.rY=function(z){this.hj.forEach(function(B){B.rY(z);});};A.prototype.yca=function(z){var B,C,D,F;B=this;C=!1;D=this.hj.map(function(H){return H.mediaType;});this.oa.Gw().some(function(H){return H.vc;}) || (D=D.filter(function(H){return H !== m.v.Aa;}));F=(0,g.Iq)(D,z);F.forEach(function(H){var E;E=B.Ch.sourceBuffers;E=(0,g.oc)(E,function(G){return G.mediaType === H;});(0,u.assert)(E);B.Ch.removeSourceBuffer(E);E=B.ola(H);(0,u.assert)(E);E.reset();E.Ja();(0,g.MGa)(B.hj,E);(0,g.MGa)(F,H);C=!0;});z=(0,g.Iq)(z,D);if(!this.h4(this.Ch,z))throw (this.aN({oi:"error creating source buffers",uB:"NFErr_MC_StreamingInitFailure"}),this.Ch.error);z.forEach(function(H){var E;E=B.Ch.sourceBuffers;E=(0,g.oc)(E,function(G){return G.mediaType === H;});(0,u.assert)(E);E=B.dlb(B.Ch,E);B.hj.push(E);C=!0;});C && this.Mdb();};A.prototype.reset=function(){this.hj.forEach(function(z){z.reset();});this.QEa=this.Eia=!1;this.Tob.removeAllListeners();this.jI();};A.prototype.LVa=function(z){this.tZ([z]);};A.prototype.tZ=function(z){var B;B=this;z.forEach(function(C){C=B.ola(C);null === C || void 0 === C?void 0:C.reset(!1,z);});};A.prototype.jI=function(){var z;z=this;this.Ey.mca().forEach(function(B){B.events.mm("branchEdited",z.SEa);B.events.mm("requestComplete",z.VEa);B.events.mm("liveMissingSegment",z.UEa);});this.Ey.clear();this.nl.Uc();};A.prototype.hra=function(){var z;z=this;this.Ey.mca().filter(function(B){return B.rN;}).forEach(function(B){return z.MCb(B);});};A.prototype.resume=function(z){this.hj.forEach(function(B){void 0 !== z && -1 === z.indexOf(B.mediaType) || B.resume();});};A.prototype.E$=function(z){var B;B=this.hj.filter(function(C){return C.bub;});B.forEach(function(C){return C.stop();});z();B.forEach(function(C){return C.resume();});};A.prototype.DR=function(z){this.hj.forEach(function(B){return (void 0 === z || -1 !== z.indexOf(B.mediaType)) && B.stop();});};A.prototype.tba=function(){this.hj.forEach(function(z){return z.tba();});};A.prototype.Dk=function(z){var B,C,D;this.console.trace("attached-player: onUnderflow");B=this.Mvb;if(B.dm && B.O.vc){C=B.Wy();if(!this.config.iO && C && 0 < C.length && C.every(function(F){return F instanceof w.Eea;}) && (C=C.map(function(F){return F.dhc();}).filter(c.$c),C.length)){C=c.I.max.apply(c.I,d.__spreadArray([],d.__read(C),!1));D=(0,l.Mic)(B.O.U);C=C.add(c.I.Ca(D));z=this.oa.Hw(z);(0,u.assert)(z.Ua.G <= C.G);B=this.oa.ws({J:B.O.J,Ua:C});(0,u.assert)(B);B={type:"fragmentsMissing",nextAvailableGraphPosition:B,nextAvailableContentTimestamp:C};this.events.emit(B.type,B);}}};A.prototype.nkc=function(){return this.Ey.getIterator();};A.prototype.gic=function(){return this.Zq()[0];};A.prototype.Zq=function(){return this.Ey.mca();};A.prototype.h4=function(z,B){var C,D;C=!0;D=z.sourceBuffers;B.forEach(function(F){(0,g.oc)(D,function(H){return H.mediaType === F;}) || z.addSourceBuffer(F) || (C=!1);});C || this.console.warn("Error adding sourceBuffer:",z.error);return C;};A.prototype.x9b=function(){var z,B;z=this;this.$T("createMediaSourceStart");if(this.ev.cNa)B=this.ev.cNa();else (B=new f.platform.MediaSource(this.player.player),B.eg || (B.eg=f.platform.MediaSource.eg));if(1 !== B.readyState)this.aN({oi:"exception in init",uB:"NFErr_MC_StreamingInitFailure"});else {this.$T("createMediaSourceEnd");this.Ch=B;if(!this.h4(B,this.jh))throw (this.aN({oi:"error creating source buffers",uB:"NFErr_MC_StreamingInitFailure"}),B.error);this.Qib={};this.oa.od(new v.Q1a(this.oa,this.Qib,this.config));this.hj=B.sourceBuffers.filter(function(C){return 0 <= z.jh.indexOf(C.mediaType);}).map(function(C){return z.dlb(B,C);});}};A.prototype.dlb=function(z,B){var C,D,F,H;C=this;z=new p.r1a(B.mediaType,z,B,this.config,this.player,this.Tc);z.addListener("error",function(E){return C.aN({oi:E.errorstr});});z.addListener("logdata",function(E){return C.events.emit("logdata",E);});z.addListener("managerdebugevent",function(E){C.events.emit("managerdebugevent",E);});H=null === (D=this.z3) || void 0 === D?void 0:D.get(B.mediaType);D=new h.t0a(z,B.mediaType,this,this.config,this.console,this.player,this.ev,this.Tc,this.Do,this.$z,H);if(B.mediaType === m.v.V)D.on("drmNeeded",function(E){return C.events.emit("drmNeeded",E);});H || (null === (F=D.mC) || void 0 === F?void 0:F.G_b(new y.GS(this.Qib[B.mediaType]={},this.console,this.player,z,this.player.events,this.ev,this.Tc)));return D;};A.prototype.MCb=function(z){var B;(0,u.assert)(z.rN,"Attempted to prune branch that has not been fully appended");this.Ey.remove(z);z.events.removeListener("branchEdited",this.SEa);z.events.removeListener("requestComplete",this.VEa);z.events.removeListener("liveMissingSegment",this.UEa);z.$g("pruned");(null === (B=this.config.thb) || void 0 === B?0:B.branchPruned) && this.events.emit("requestGarbageCollection",{time:f.platform.time.na(),type:"requestGarbageCollection"});};A.prototype.Ja=function(){this.GRa.clear();this.qHa.clear();this.hj.forEach(function(z){return z.Ja();});this.ev.cNa || this.Ch.Cs();this.jI();this.nl.Ja();this.kj.clear();};A.prototype.sk=function(z){return this.hj.every(function(B){return B.sk(z);});};A.prototype.BY=function(){this.hj.forEach(function(z){return z.Wkb();});this.Q3=new x.fDa(this.console,this.oa);};A.prototype.hMa=function(){return {HBc:this.Zq(),izc:this.hj};};A.prototype.$ec=function(z){var B;B=this;this.Eia=!0;z.ja.forEach(function(C){var D;D=B.ola(C.mediaType);if(void 0 !== D)B.Tob.once(C.HLa,function(F){return D.cfc(F);});});if(z.sa)this.cnb();else z.events.once("branchNormalized",function(){return B.cnb();});};A.prototype.cnb=function(){var z;z=this.gic();z && ((0,u.assert)(z.Pb),this.events.emit("ptsChanged",{initialTimestamp:z.Pb,inNonSeamlessTransition:this.QEa}),this.QEa=!1);};A.prototype.ola=function(z){return (0,g.oc)(this.hj,function(B){return B.mediaType === z;});};A.prototype.Ljc=function(){return -1 !== this.jh.indexOf(m.v.V)?m.v.V:m.v.X;};A.prototype.$T=function(z){z={type:"startEvent",event:z,time:f.platform.time.na()};this.events.emit(z.type,z);};A.prototype.aN=function(z){this.oa.Hf(z);};A.prototype.Mdb=function(){var z;z=this;this.GRa && this.GRa.clear();this.GRa=c.Mt.HLb(this.hj.map(function(B){return B.lo;}),function(B){return B.every(function(C){return C;});},function(B){return z.lo.set(B);});this.qHa && this.qHa.clear();this.qHa=new c.fAa(this.hj.map(function(B){return B.AP;}),function(B){return c.I.min.apply(c.I,d.__spreadArray([],d.__read(B),!1));},function(B){z.AP.set(B);},c.I.Ca(-Infinity));};return A;})();b.J0a=t;},89527:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.GS=void 0;d=a(22970);n=a(90745);c=a(52571);g=a(48170);f=0;t=(function(e){function h(l,k,m,p,r,q,u,v){k=e.call(this,("cdnList").concat(f++),k,m,p,r,q,u,"cdnList",v) || this;k.Th=l;k.Sb();return k;}d.__extends(h,e);h.prototype.Sb=function(){var l;l=this;this.N$=new n.lf();this.N$.on(this.Cb.player,"skipped",function(k){l.nC && ((null === k || void 0 === k?0:k.wUa) && l.c5(k.wUa),l.nC=void 0);});this.N$.on(this.Cb.player,"paused",function(){l.nC && l.Cb.Jd && l.c5(l.Cb.Pd);});this.N$.on(this.Cb.player,"underflow",function(){l.nC && l.Cb.Jd && l.c5(l.Cb.Pd);});};h.prototype.zy=function(l,k,m){this.N$.clear();e.prototype.zy.call(this,l,k,m);this.Sb();};h.prototype.close=function(){g.u && this.console.trace("close");e.prototype.close.call(this);this.N$.clear();};h.prototype.lIc=function(l,k){var m;m=this;this.nC && this.c5(l);return this.Fob(k).map(function(p){return m.Th[p];});};h.prototype.GDb=function(l){var k;k=this;this.Fob(l).forEach(function(m){delete k.Th[m];});};h.prototype.Fob=function(l){var k;k=this;return Object.keys(this.Th).filter(function(m){return k.Th[m].R === ("").concat(l);});};h.prototype.lo=function(l){var k,m,p;k=l.stream;m=l.Qc;p=l.Pb;l=l.Mb;(0,c.assert)(void 0 !== p);(0,c.assert)(void 0 !== l);g.u && this.console.trace(("Media appended ").concat(p.ba(),"-").concat(l.ba()));this.lGa({stream:k,Qc:m},p,l);};h.prototype.vna=function(l,k){return l.stream === k.stream && l.Qc === k.Qc;};h.prototype.Yhc=function(l){var k,m;m=l.Rr;l=m.Qc;m=null === (k=m.stream.O.U.gB) || void 0 === k?void 0:k.yi;return ("").concat(l,"::").concat(m);};h.prototype.AKa=function(l,k){g.u && this.console.trace(("Presenting event for ( ").concat(l.Rr.stream.id,", ").concat(l.Rr.Qc," )") + (" at ").concat(k.ba()));this.nC?this.c5(k):this.d5=k;this.nC=l;};h.prototype.c5=function(l){var k,m,p,r,q,u,v,w,x;(0,c.assert)(this.nC);if(null === (k=this.yJa) || void 0 === k?0:k.lessThan(l))l=this.yJa;q=this.nC;k=this.Th;u=q.Rr;v=u.stream;u=u.Qc;w=null === (m=v.s9) || void 0 === m?void 0:m.Vn;m=l.ca(this.d5 || q.timestamp).G;if(void 0 !== u && void 0 !== w){x=null === (p=v.O.U.gB) || void 0 === p?void 0:p.yi;p=v.track.R;q=this.Yhc(q);k=(r=(k[q] || (k[q]={On:u,yi:x,R:p,aO:{}})).aO)[w] || (r[w]={bitrate:v.bitrate,Yb:w,mediaType:v.mediaType,totalTime:0,Ob:v.Ob});k.totalTime=Math.max(k.totalTime + m,0);}this.d5=l;};h.prototype.clone=function(l,k){k=void 0 === k?{}:k;l=new (k.U3c || h)(l,this.kxc,this.Cb,this.Zha,this.events,this.ev,this.cc,k.priority);this.H5b(l);l.nC=this.nC;l.d5=this.d5;g.u && l.console.trace("Cloning",{WVc:l.uj.length});return l;};h.prototype.reset=function(){e.prototype.reset.call(this);this.d5=void 0;};h.prototype.zJ=function(l){return ("(").concat(l.stream.Jb,", ").concat(l.Qc,")");};return h;})(a(546).nfa);b.GS=t;},63002:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.I3a=void 0;d=a(22970);n=a(48170);c=a(40666);t=(function(){function g(f,e,h){this.cc=f;this.Ptc=e;this.nb=h;}Object.defineProperties(g.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});g.prototype.waitUntil=function(f){var e;f=(0,c.O_)(this.cc,f,!0);e=f.promise;this.a_a=f.te;return e;};g.prototype.process=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,h;return d.__generator(this,function(l){switch(l.label){case 0:if(f.done)return [3,2];e=f.value.value;if(!e.JLa)return [3,2];h=e.Pb.ca(this.Ptc);n.u && this.nb.trace(("[").concat(e.mediaType,"] JIT: waiting until playertime >= ").concat(h.G),("to append next request ").concat(e.toString()));return [4,this.waitUntil(h)];case 1:(l.S(),n.u && this.nb.trace(("[").concat(e.mediaType,"] JIT: now appending request ").concat(e.toString())),l.label=2);case 2:return [2,f];}});});};g.prototype.reset=function(){var f;null === (f=this.a_a) || void 0 === f?void 0:f.Ja();};return g;})();b.I3a=t;},54540:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.F6a=void 0;d=a(22970);n=a(91562);c=a(91176);g=a(8149);t=(function(){function f(e){this.console=e;}Object.defineProperties(f.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});f.prototype.process=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,l,k,m,p,r,q,u,v,w,x,y,A,z;return d.__generator(this,function(){e.done || (h=e.value.value,(0,g.Xj)(h.stream) && (l=h.u7(0),l instanceof ArrayBuffer && (k=new n.Dl(this.console,h.stream,l,["moof"],!0,{BTa:!0}),m=k.parse(),m.Kz && (p=k.am("moof"),r=p.am("traf"),q=r.am("trun"),u=r.am("tfdt"),v=h.stream.ml,w=q.yd,x=u.pE,y=m.La.P,A=new c.I(x,y),z=this.jt?A.ca(this.jt.e2b):void 0,this.console.trace(("Live Request Logger: processing request [").concat(h.mediaType,"]"),{baseMediaDecodeTime:x,timescale:y,baseMediaDecodeMs:A.G,ptsOffsetMs:v.G,mediaTimestampMs:A.ca(v).G,offsetFromPriorMs:null === z || void 0 === z?void 0:z.G,sampleCount:w,url:h.url}),this.jt={e2b:A}))));return [2,e];});});};f.prototype.reset=function(){this.jt=void 0;};return f;})();b.F6a=t;},85030:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Sab=void 0;d=a(22970);n=a(91176);c=a(90745);g=a(66164);f=a(48170);e=a(65161);h=a(69575);l=a(52571);t=(function(){function k(m,p,r){var q;q=this;this.Cb=m;this.player=p;this.pending=new Map();this.listeners=new c.lf();this.oSa=!1;this.Ilc=function(u){q.CEb(!0,function(){f.u && q.console.debug("cancelling playback ending");u.cancel();});};this.listeners.addListener(p,"playbackEnding",this.Ilc);this.console=(0,h.rf)(g.platform,r,"SEAMLESSMANAGER");f.u && this.console.debug("construct");}k.prototype.Ja=function(){f.u && this.console.debug("destruct");this.pending.clear();this.listeners.clear();};k.prototype.OCc=function(m){this.kFb=m;};k.prototype.ELb=function(m){var p;0 === this.pending.size && ((0,l.assert)(void 0 === this.Um,"SeamlessManager: No pending transitions, but a wait is deferred"),this.Um=new n.An());(0,l.assert)(this.Um,"SeamlessManager: deferred is undefined");(0,l.assert)(!this.pending.has(m.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + m.mediaType);this.pending.set(m.mediaType,m);f.u && this.console.trace(("got new transition [").concat(m.mediaType,"] --\x3e ").concat(null === (p=m.to.stream) || void 0 === p?void 0:p.id));p=this.Cb.jh;f.u && this.console.debug("checking pending",{size:this.pending.size,mYc:p});if(this.pending.size === p.length && !this.oSa){p=this.fpc();if(p.iUa)return (f.u && this.console.trace(("seamless transition possible at ").concat(m.timestamp.ba())),this.Um.resolve(),this.reset(),Promise.resolve());f.u && this.console.trace(("starting non-seamless transition at ").concat(m.timestamp.ba()));this.HIc(p.info);}return this.Um.promise;};k.prototype.aEc=function(m){f.u && this.console.trace(("reset media [").concat(m,"]"));this.pending.delete(m);0 === this.pending.size && this.reset();};k.prototype.reset=function(){f.u && this.console.debug("resetting");this.oSa=!1;this.Um=void 0;this.pending.clear();};k.prototype.fpc=function(){var m,p,r,q,w,x,y,A,z,B,C,D,F,H,E;q={iUa:!0};try{for(var u=d.__values(this.pending.entries()),v=u.next();!v.done;v=u.next()){w=d.__read(v.value,2);x=w[0];y=w[1];if(y.from){A=y.from.stream;z=y.to.stream;if((null === A || void 0 === A?void 0:A.track) === (null === z || void 0 === z?void 0:z.track))f.u && this.console.debug("Seamless deemed possible due to same track",{mediaType:x});else {B=null === A || void 0 === A?void 0:A.$q();C=null === z || void 0 === z?void 0:z.$q();D=void 0;F=this.Cb.Dp(y.timestamp);D=y.from.L && 0 > this.Cb.AP.value.G?{L:y.from.L,offset:n.I.Ca(0)}:this.Cb.Dp(y.zUa);H=void 0;H=x !== e.v.Aa?this.player.lw({mediaType:x,CLa:y.CLa,from:B,to:C,K6:D,ica:F}):{lw:!0,reason:"Text"};if(H.lw)f.u && this.console.debug("Seamless deemed possible",{mediaType:x,from:B,to:C,K6:D,ica:F});else {f.u && this.console.debug("Non-seamless transition; details:",{reason:H.reason,mediaType:x,from:B,to:C});E=q.iUa?[]:q.info.lDb;H.reason && (y.reason="string" !== typeof H.reason?H.reason:void 0,E.push(H.reason));q={iUa:!1,info:{Cac:null !== (p=y.to.L) && void 0 !== p?p:"unk",sIc:null !== (r=y.from.L) && void 0 !== r?r:"unk",rzc:y.timestamp,lDb:E}};}}}}}catch(K){var G;G={error:K};}finally{try{v && !v.done && (m=u.return) && m.call(u);}finally{if(G)throw G.error;}}return q;};k.prototype.HIc=function(m){var p;null === (p=this.kFb) || void 0 === p?void 0:p.x_b(m);this.oSa=!0;this.Cb.lo.value?(f.u && this.console.trace("Signaling EOS for upcoming restart"),this.Cb.tba()):(m=this.Cb,f.u && this.console.trace("Signaling immediate restart",{append:this.Cb.lo.value,XVc:m.sourceBuffers.map(function(r){return r.lo.value;})}),this.CEb(!1));};k.prototype.CEb=function(m,p){var r,q,u,v,w,x,y,B,C,D;u=this;if(this.pending.size){f.u && this.console.trace("playback ending, restarting player");w={};x=(r={},r[e.v.X]=void 0,r[e.v.V]=void 0,r[e.v.Aa]=void 0,r[e.v.Im]=void 0,r);r=void 0;y=[];try{for(var A=d.__values(this.pending.entries()),z=A.next();!z.done;z=A.next()){B=d.__read(z.value,2);C=B[0];D=B[1];w[C]=null === (v=D.to.stream) || void 0 === v?void 0:v.$q();r={to:{L:D.to.L,offset:D.timestamp}};D.reason && y.push(D.reason);D.from.L && (x[C]=D.from.L,r.from={L:D.from.L,offset:D.zUa});}}catch(H){var F;F={error:H};}finally{try{z && !z.done && (q=A.return) && q.call(A);}finally{if(F)throw F.error;}}null === p || void 0 === p?void 0:p();this.Cb.JIc(r,m,y);f.u && this.console.debug("Restarting player",w);this.player.Uc(w,x,r).then(function(){var H,E;null === (H=u.Um) || void 0 === H?void 0:H.resolve();f.u && u.console.debug("Restart completed");null === (E=u.kFb) || void 0 === E?void 0:E.y_b();u.reset();});}};return k;})();b.Sab=t;},33604:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Tab=void 0;d=a(22970);n=a(79048);c=a(48170);g=a(58049);t=(function(){function f(e,h,l){this.$z=e;this.mediaType=h;this.console=l;this.c4b=this.t8=!0;}Object.defineProperties(f.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});f.prototype.process=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,l,k;return d.__generator(this,function(m){switch(m.label){case 0:if(e.done)return [3,6];h=e.value.value;if(!(0,g.MPa)(h))return [3,3];if(!this.jt || h.Ba.O.J === n.mq)return [3,2];c.u && this.console.trace("Seamless Throttler: skipping request",{request:h});return [4,this.$z.ELb({mediaType:this.mediaType,CLa:this.t8,to:{stream:void 0,L:h.K.id},from:{stream:void 0,L:this.jt.L},timestamp:h.Ba.Pb,zUa:null === (l=this.jt) || void 0 === l?void 0:l.Pb})];case 1:(m.S(),m.label=2);case 2:return (this.jt={KDc:0,stream:void 0,O:h.Ba.O,Pb:h.Ba.Pb,L:h.K.id},[3,6]);case 3:if(!this.jt || !h.Fs || h.stream.O === this.jt.O || h.stream.O.J === n.mq)return [3,5];c.u && this.console.trace(("Seamless Throttler: Waiting on request [").concat(h.mediaType,"]"),h.index,"in",h.K.id);return [4,this.$z.ELb({mediaType:h.mediaType,CLa:this.t8,to:{stream:h.stream,L:h.K.id},from:{stream:this.jt.stream,L:this.jt.L},timestamp:h.Pb,zUa:null === (k=this.jt) || void 0 === k?void 0:k.Pb})];case 4:(m.S(),m.label=5);case 5:(this.t8=!1,this.jt={KDc:h.index,stream:h.stream,Pb:h.Pb,L:h.K.id,O:h.stream.O},m.label=6);case 6:return [2,e];}});});};f.prototype.OSa=function(e,h){void 0 === e && (e=[]);void 0 === h && (h=[]);c.u && this.console.trace(("Seamless Throttler: onMediaSourceReset() ").concat(h));this.t8 || (this.t8=-1 !== h.indexOf(this.mediaType));(null === e || void 0 === e?0:e.length) && e.length !== h.length && (this.jt=void 0);};f.prototype.reset=function(){};return f;})();b.Tab=t;},53693:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.o9a=void 0;d=a(22970);n=a(48170);c=a(52571);g=a(40666);t=(function(){function f(e,h,l,k){var m;m=this;this.cc=e;this.Ixc=h;this.sTa=l;this.console=k;e.Ia.on("stopStart",function(){return m.G5b();});n.u && this.console.trace(("PacingThrottler: pacingFactory=").concat(h,", pacingThreshold=").concat(l.ba()));}Object.defineProperties(f.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});f.prototype.G5b=function(){var e,h;h=this.cc.Ia;this.eV=h.Oi?h.currentTime:void 0;this.n4=this.x6=void 0;n.u && this.console.trace(("PacingThrottler: clock reset ").concat(null === (e=this.eV) || void 0 === e?void 0:e.G));};f.prototype.waitUntil=function(e){var h;e=(0,g.O_)(this.cc,e,!0);h=e.promise;this.a_a=e.te;return h;};f.prototype.process=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,l,k,m;return d.__generator(this,function(p){switch(p.label){case 0:if(e.done)return [3,11];h=e.value.value;(0,c.assert)(h.Pb);l=this.cc.Ia;if(!this.x6 || !this.n4)return [3,10];if(!this.n4.greaterThan(this.sTa))return [3,8];if(!this.eV)return [3,5];k=h.Pb.ca(this.eV).ca(this.sTa);m=this.eV.add(k.bf(this.Ixc));if(!m.lessThan(h.Pb))return [3,3];if(!m.greaterThan(l.currentTime))return [3,2];n.u && this.console.trace(("PacingThrottler: waiting until ").concat(m.ba()," for mediaRequest @") + ("").concat(h.Pb.ba(),", ") + ("current time ").concat(l.currentTime.ba(),", ") + ("clock start time ").concat(this.eV.ba(),", ") + ("distance ").concat(k.ba()));return [4,this.waitUntil(m)];case 1:(p.S(),p.label=2);case 2:return [3,4];case 3:(n.u && this.console.warn("PacingThrottler: invalid schedule time " + ("").concat(m.ba()," for mediaRequest ") + ("@").concat(h.Pb.ba(),", ") + ("current time ").concat(l.currentTime.ba(),", ") + ("clock start time ").concat(this.eV.ba(),", ") + ("distance ").concat(k.ba())),p.label=4);case 4:return [3,7];case 5:k=h.Pb.ca(this.x6);if(!k.greaterThan(this.sTa))return [3,7];n.u && this.console.trace(("PacingThrottler: (buffering) waiting until ").concat(this.x6.G,"ms") + (" for mediaRequest @").concat(h.Pb.G,"ms, ") + ("current time ").concat(l.currentTime.G));return [4,this.waitUntil(this.x6)];case 6:(p.S(),p.label=7);case 7:return [3,9];case 8:(this.n4=this.n4.add(h.Rb),p.label=9);case 9:return [3,11];case 10:(this.x6=h.Pb,this.n4=h.Rb,p.label=11);case 11:return [2,e];}});});};f.prototype.reset=function(){var e;null === (e=this.a_a) || void 0 === e?void 0:e.Ja();};return f;})();b.o9a=t;},74371:function(t,b,a){var n,c,g,f,e,h;function d(l,k){return l > k.Xrc?e.v4a:l > k.d$b?e.U1:0 < l?e.YNb:e.EMPTY;}Object.defineProperties(b,{__esModule:{value:!0}});b.alb=b.P9a=void 0;n=a(22970);c=a(91176);g=a(90745);f=a(54520);(function(l){l[l.EMPTY=0]="EMPTY";l[l.YNb=1]="CRITICAL";l[l.U1=2]="LOW";l[l.v4a=3]="HEALTHY";})(e || (b.P9a=e={}));h=(function(){function l(){this.fK=this.buffer=e.EMPTY;}Object.defineProperties(l.prototype,{JN:{get:function(){return Math.min(this.buffer,this.fK);},enumerable:!1,configurable:!0}});return l;})();b.alb=function(l){var m,p,r,q,u;function k(){var v,w,A,z,B,C,D,F,H;w=l.yjc();try{for(var x=n.__values(w),y=x.next();!y.done;y=x.next()){A=y.value;if(!A.Nj){w=A;z=p[w.OTa] || new h();B=(0,f.Cpa)(new h(),p[w.OTa]);C=l.xB();D=w.Qj.ca(C).G;B.fK=d(D,l);F=w.gV.G;H=d(F,l);B.buffer=H;q && B.JN < e.v4a || (q && (q=!1),B.JN !== z.JN && (p[w.OTa]=B,m.emit("healthChange",{qmc:B.JN,Kac:B.JN < z.JN,kl:w,$Bc:Math.min(F,D)})));}}}catch(G){var E;E={error:G};}finally{try{y && !y.done && (v=x.return) && v.call(x);}finally{if(E)throw E.error;}}}m=new g.EventEmitter();p={};r=null;q=!1;u={get dn() {return !(null === r || void 0 === r || !r.dn);},start:function(){return n.__awaiter(void 0,void 0,void 0,function(){return n.__generator(this,function(){if(u.dn)return [2];r=l.cc.qja(k,c.I.Ca(l.kuc));return [2];});});},stop:function(){return null === r || void 0 === r?void 0:r.Ja();},Qpa:function(){q=!0;},addListener:m.addListener.bind(m),removeListener:m.removeListener.bind(m)};return u;};},61651:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hfa=void 0;d=a(22970);n=a(91176);c=a(52571);g=a(48170);f=a(17122);t=(function(e){function h(l){var k;k=e.call(this) || this;k.oa=l;k.z3=new Map();k.Ta=[];k.rl=Number.MAX_SAFE_INTEGER;k.Z2=new f.Sfa({Oi:!1,currentTime:function(){return k.Jd?k.Pd:n.I.zg;},speed:1});return k;}d.__extends(h,e);Object.defineProperties(h.prototype,{Ia:{get:function(){return this.Z2;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Tc:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Do:{get:function(){return this.Q3;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gv:{get:function(){return this.z3;},enumerable:!1,configurable:!0}});h.prototype.kia=function(l,k){var m;m=!this.oa;m && (this.oa=l,this.eEa=(null === k || void 0 === k?0:k.Jd)?k.Pd:void 0,this.Q3=null === k || void 0 === k?void 0:k.Do,this.z3=k?k.gv:new Map(),null === k || void 0 === k?void 0:k.BY());return m;};h.prototype.BY=function(){this.z3=this.Q3=void 0;};h.prototype.jI=function(){this.Ta=[];this.eEa=void 0;};h.prototype.YJa=function(l){g.u && (0,c.assert)(this.oa === l);this.oa=void 0;this.jI();};h.prototype.aW=function(){for(var l,k=[],m=0;m < arguments.length;m++)k[m]=arguments[m];(l=this.Ta).push.apply(l,d.__spreadArray([],d.__read(k),!1));e.prototype.aW.apply(this,d.__spreadArray([],d.__read(k),!1));};h.prototype.xB=function(){return this.eEa?this.eEa:e.prototype.xB.call(this);};h.prototype.o8=function(){return !1;};h.prototype.SK=function(){};h.prototype.sMa=function(){return Infinity;};h.prototype.nba=function(){};h.prototype.DR=function(){};h.prototype.hra=function(){this.Ta=this.Ta.filter(function(l){return l.rN?(l.$g("pruned"),!1):!0;});};h.prototype.Ja=function(){e.prototype.Ja.call(this);this.gv.forEach(function(l){return l.close();});};return h;})(a(82867).tBa);b.hfa=t;},82867:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});b.tBa=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(66164);f=a(52571);e=a(65161);t=a(75393);h=a(48170);l=a(69575);k=t.kC.LJa;a=(function(){function m(){this.LY=[];this.TM=new c.Mt(!1);this.LM=new c.Mt(c.I.Ca(-Infinity));this.Kdb=new c.Mt(c.I.Ca(-Infinity));this.XT=void 0;this.events=new n.EventEmitter();this.nb=new g.platform.Console("ASEJS","media|asejs");}Object.defineProperties(m.prototype,{yX:{get:function(){return this.XT;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{console:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Tc:{get:function(){return this.CH;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Do:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gv:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.OW();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ehb:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{lo:{get:function(){return this.TM;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{AP:{get:function(){return this.LM;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qj:{get:function(){return this.Kdb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jd:{get:function(){return this.Ou;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pd:{get:function(){return this.xB();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xh:{get:function(){var p,r;p=this.Pd;r=this.Dp(p,!1);h.u && (0,f.assert)(r,("Could not find current branch for ").concat(p.G));return r;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wnc:{get:function(){return this.Ta[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{em:{get:function(){return this.Ou?this.Ta[this.Ta.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Tz:{get:function(){var p,r;p=this.Pd;r=this.P6(p);(0,f.assert)(r,("Could not find presenting branch for ").concat(p.G));return r;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ou:{get:function(){return 0 < this.Ta.length;},enumerable:!1,configurable:!0}});m.prototype.fGb=function(){};m.prototype.eGb=function(){};m.prototype.sk=function(){return !1;};m.prototype.vma=function(){return 0 < this.Ta.length;};m.prototype.Js=function(){(0,f.assert)(0 < this.Ta.length,"Could not find presenting branch. Player has no branches.");return this.Tz;};m.prototype.tsb=function(p){return -1 !== this.Ta.indexOf(p);};m.prototype.kia=function(){return void 0 !== this.oa?!1:!0;};m.prototype.BY=function(){};m.prototype.Ja=function(){};m.prototype.GB=function(p){var r,q,u;r=this.Ta.filter(function(v){return v.K.id === p.L;});if(0 !== r.length){q=this.xB();u=new c.I(Infinity,1);r.forEach(function(v){v=v.fv.add(p.offset);q.KE(v).lessThan(q.KE(u)) && (u=v);});return u;}};m.prototype.H7=function(p){var r,q,u,v,w,x,y,A,z,B;return d.__generator(this,function(C){switch(C.label){case 0:r=this.Ta.filter(function(D){return D.K.id === p.L;});if(0 === r.length)return [2,void 0];q=this.xB();C.label=1;case 1:(C.qc.push([1,6,7,8]),u=d.__values(r),v=u.next(),C.label=2);case 2:if(v.done)return [3,5];w=v.value;x=w.fv.add(p.offset);y=q.KE(x);return [4,{Ai:x,KE:y}];case 3:(C.S(),C.label=4);case 4:return (v=u.next(),[3,2]);case 5:return [3,8];case 6:return (A=C.S(),z={error:A},[3,8]);case 7:try{v && !v.done && (B=u.return) && B.call(u);}finally{if(z)throw z.error;}return [7];case 8:return [2];}});};m.prototype.Dp=function(p,r){var q,u,v;void 0 === r && (r=!1);q=this.P6(p,r);if(q){u=q.K;r=u.id;v=u.Rb;p=c.I.min(p.ca(u.lb.add(q.Wd)),v);return {L:r,offset:p};}};m.prototype.qlc=function(p){var r,q,u,v;r=this.Ta.filter(function(w){return w.K.id === p.L;});if(0 !== r.length){q=this.xB();u=new c.I(Infinity,1);r.forEach(function(w){var x;x=w.fv.add(p.offset);q.KE(x).lessThan(q.KE(u)) && (u=x,v=w);});return v;}};m.prototype.yca=function(){};m.prototype.reset=function(){this.jI();};m.prototype.LVa=function(){};m.prototype.tZ=function(){};Object.defineProperties(m.prototype,{vR:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.E$=function(p){p();};m.prototype.pause=function(p){void 0 === p && (p=e.g2);this.LY=null === p || void 0 === p?void 0:p.reduce(function(r,q){-1 === r.indexOf(q) && r.push(q);return r;},this.LY);};m.prototype.resume=function(p){var r;r=this;void 0 === p && (p=e.g2);p.forEach(function(q){q=r.LY.indexOf(q);-1 !== q && r.LY.splice(q,1);});};m.prototype.UYa=function(p){var r;(0,f.assert)(this.oa);(0,f.assert)(p !== this);this.DR();r=p.kia(this.oa,this);r && (this.hra(),p.pause(this.LY),p.aW.apply(p,d.__spreadArray([],d.__read(this.Ta),!1)),this.YJa(this.oa));return r;};m.prototype.aW=function(){for(var p,r,q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];try{for(var v=d.__values(q),w=v.next();!w.done;w=v.next())this.events.emit("segmentAppended",{type:"segmentAppended",L:w.value.K.id});}catch(x){p={error:x};}finally{try{w && !w.done && (r=v.return) && r.call(v);}finally{if(p)throw p.error;}}};m.prototype.xB=function(){return this.wqb();};m.prototype.wqb=function(){var p;h.u && (0,f.assert)(this.Ou,"Attempted to get initial time before any branches were queued");p=d.__read(this.Ta,1)[0];h.u && (0,f.assert)(p);return p.Pb || p.sF;};m.prototype.OW=function(){return 1;};m.prototype.SI=function(){};m.prototype.P6=function(p,r){var q;void 0 === r && (r=!1);if(this.Ou){q=this.wqb();return p.lessThan(q)?this.Ta[0]:(0,l.Nob)(this.Ta,p) || (r?this.em:void 0);}};m.prototype.ehc=function(){var p,r,v,w,x,y,A,z;r={};try{for(var q=d.__values(this.Ta),u=q.next();!u.done;u=q.next()){v=u.value;w=void 0;x=void 0;y=v.AW();for(w in y){A=w;z=y[A];z && (r[A]=(null !== (x=r[A]) && void 0 !== x?x:0) + z);}if(!v.Nj)break;}}catch(C){var B;B={error:C};}finally{try{u && !u.done && (p=q.return) && p.call(q);}finally{if(B)throw B.error;}}return r;};d.__decorate([k.return.Jd(),k.return.SF],m.prototype,"yX",null);d.__decorate([k.return.Ah()],m.prototype,"xh",null);d.__decorate([k.return.nHa(),k.return.Rp],m.prototype,"Js",null);d.__decorate([d.__param(0,k.Ah())],m.prototype,"GB",null);d.__decorate([d.__param(0,k.Ah())],m.prototype,"H7",null);d.__decorate([k.return.Ah(),k.return.SF],m.prototype,"Dp",null);return m;})();b.tBa=a;},90111:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.l$a=void 0;d=a(90745);n=a(91176);t=a(66164);c=a(65161);a=a(85254);g=new t.platform.Console("PLAYERCLOCK");t=(function(){function f(e){this.player=e;this.AEa=!1;this.Hyb=new d.lf();this.LCc();}f.prototype.LCc=function(){var e,h;e=this;h=this.Hyb;h.on(this.player,"paused",function(){return e.Rpa();});h.on(this.player,"playing",function(){return e.Rpa(!0);});h.on(this.player,"underflow",function(){return e.Rpa();});h.on(this.player,"skipped",function(){return e.ZSa();});h.on(this.player,"clockAdjusted",function(){return e.n$();});h.on(this.player,"playbackRateChanged",function(){return e.Gwc();});};Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.LHb || this.player.Xc || n.I.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Oi:{get:function(){return this.AEa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){var e;return null !== (e=this.player.playbackRate) && void 0 !== e?e:1;},enumerable:!1,configurable:!0}});f.prototype.Rpa=function(e){void 0 === e && (e=!1);e !== this.AEa && (this.LHb=(this.AEa=e)?void 0:this.player.Xc,e?g.log("PlayerClock: Player is running",this.player.Xc):g.log("PlayerClock: Player is stopping",this.player.Xc));this.emit("stopStart",{type:"stopStart"});};f.prototype.ZSa=function(){this.LHb=void 0;this.n$(c.Hv.VK);};f.prototype.n$=function(e){void 0 === e && (e=c.Hv.jE);g.log("PlayerClock: clock adjusted",{ir:this.Oi,time:this.player.Xc,reason:c.Hv[e]});this.emit("clockAdjusted",{type:"clockAdjusted",reason:e});};f.prototype.Gwc=function(){this.emit("speedChanged",{type:"speedChanged"});};f.prototype.Ja=function(){this.Rpa();this.Hyb.clear();};return f;})();b.l$a=t;(0,a.wl)(d.EventEmitter,t);},546:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nfa=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(66164);f=a(69575);e=a(48170);h=a(40666);l=c.I.Ca(1E3);t=(function(){function k(m,p,r,q,u,v,w,x,y,A){var z,B;this.Jfc=m;this.kxc=p;this.Zha=q;this.events=u;this.ev=v;this.qJb=x;this.priority=y;this.uj=[];this.console=(0,f.rf)(g.platform,p,("PresentationTracker [").concat(this.Jfc,"] [").concat(this.qJb,"]"));this.B$=l.add(c.I.Ca(null !== (B=null === (z=v.eA) || void 0 === z?void 0:z.G) && void 0 !== B?B:0));e.u && this.console.debug("Constructed",{B$:this.B$.ba(),UOa:A});this.listeners=new n.lf();this.YTa=new n.lf();this.tG=!0;this.waa=!A;this.L9b(w);this.oGb(r,w,q);}k.prototype.oGb=function(m,p,r){var q;q=this;this.Zha=r;this.listeners.clear();this.YTa.clear();this.Cb=m;this.cc=p;this.YTa.on(m.player,"skipped",this.Jwc.bind(this));this.listeners.on(r,"requestAppended",function(u){return q.lo(u.request);});this.events=m.events;this.dO.Wib(p);this.nl.Wib(p);};k.prototype.L9b=function(m){var p;p=this;this.dO=m.Pq(function(){return p.Tbc();},"Presentation Emit",this.priority);this.nl=m.Pq(function(){return p.wBc();},"Presentation Prune");};k.prototype.Jwc=function(){this.trace(("skipped, scheduler clock ").concat(this.cc.Ia.currentTime.ba()));this.waa=this.tG=!0;this.dO.Uc();};k.prototype.Tbc=function(){var m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:(e.u && this.console.trace("Starting emit job",this.tG),this.Uz=this.Wuc(this.tG),m=this.Vyb(),q.label=1);case 1:if(!m)return [3,3];this.trace(("queuing task for ").concat(this.zJ(m.Rr)) + (" at player time ").concat(m.timestamp.ba()) + (" scheduler clock is ").concat(this.cc.Ia.currentTime.ba()));return [4,h.Ud.Fm(m.timestamp)];case 2:q.S();this.trace(("executing task for ").concat(this.zJ(m.Rr)) + (" for player time ").concat(m.timestamp.ba()) + (", scheduler clock: ").concat(this.cc.Ia.currentTime.ba()) + (", actual player time: ").concat(this.Cb.Pd) + (", first item: ").concat(this.tG),{stc:this.uj.length,Uz:this.Uz});p=this.waa?this.Cb.Pd:m.timestamp;r=this.tG && !this.pSa;this.pSa=this.waa=this.tG=!1;this.ylb=m;this.Uz++;this.yJa=(m=this.Vyb())?m.timestamp:this.BP;try{this.AKa(this.ylb,p,r);}catch(u){this.console.error(("Error in ").concat(this.qJb," emit, continuing"),u);}p=null === m || void 0 === m?void 0:m.timestamp;return [3,1];case 3:return (e.u && this.console.trace("Ending emit job"),[2]);}});};k.prototype.bTa=function(){};k.prototype.VYa=function(){e.u && this.console.trace("Marking transfered from");this.pSa=this.tG=!0;};k.prototype.Vyb=function(){if(void 0 !== this.Uz)return this.uj[this.Uz];};k.prototype.Wuc=function(m){var p,r,u;void 0 === m && (m=!1);for(var q=m?0:null !== (p=this.Uz) && void 0 !== p?p:0;q < this.uj.length;q++){p=this.uj[q];u=c.I.Ca(null !== (r=this.ev.pzc) && void 0 !== r?r:0);if(p.timestamp.greaterThan(this.Cb.Pd.add(u)))return m && 0 < q?q - 1:q;}return Math.max(this.uj.length - 1,0);};k.prototype.wBc=function(){var m,p;return d.__generator(this,function(r){switch(r.label){case 0:if(!(1 < this.uj.length))return [3,2];m=d.__read(this.uj,2);p=m[1];this.trace(("queuing pruning task for ").concat(this.zJ(p.Rr)) + (" at player time ").concat(this.B$.add(p.timestamp).ba()) + (" scheduler clock is ").concat(this.cc.Ia.currentTime.ba()));return [4,h.Ud.Fm(this.B$.add(p.timestamp))];case 1:return (r.S(),this.trace(("executing pruning task for ").concat(this.zJ(p.Rr)) + (" at player time ").concat(this.B$.add(p.timestamp).ba()) + (" scheduler clock is ").concat(this.cc.Ia.currentTime.ba()),{stc:this.uj.length,Uz:this.Uz}),this.uj.shift(),this.Uz && this.Uz--,[3,0]);case 2:return [2];}});};k.prototype.zy=function(m,p,r){this.oGb(m,p,r);};k.prototype.reset=function(){this.uj=[];e.u && this.trace("reset");this.tG=!0;this.pSa=!1;this.waa=!0;this.BP=void 0;this.Uz=0;this.nl.Uc();this.dO.Uc();};k.prototype.close=function(){e.u && this.trace("close()");this.waa=this.tG=!0;this.YTa.clear();this.dO.Ja();this.nl.Ja();this.listeners.clear();this.uj=[];};k.prototype.sk=function(m){var p;e.u && this.trace(("canSkip() ").concat(m));if(0 === this.uj.length)return (e.u && this.trace("canSkip false, no media sequence"),!1);p=this.uj[0];return p.timestamp.greaterThan(m)?(e.u && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.BP || this.BP.lessThan(m)?(e.u && this.trace(("canSkip false, later than last appended at ").concat(this.BP)),!1):!0;};k.prototype.trace=function(m){for(var p,r=[],q=1;q < arguments.length;q++)r[q - 1]=arguments[q];e.u && (p=this.console).trace.apply(p,d.__spreadArray([m],d.__read(r),!1));};k.prototype.lGa=function(m,p,r){var q,u;q=this;r && (this.BP=r);u=this.uj.length?this.uj[this.uj.length - 1]:void 0;if(void 0 === u || !this.vna(u.Rr,m))return (this.uj.push({Rr:m,timestamp:p}),e.u && this.console.log(("Added ").concat(this.zJ(m)," to media sequence at"),{i1c:this.uj.length,w4c:this.uj.slice(0,3).map(function(v){return q.zJ(v.Rr);}),lYc:this.dO.state,I2c:this.nl.state}),this.dO.state === h.Hl.complete && this.dO.Uc(),this.nl.state === h.Hl.complete && this.nl.Uc(),!0);u === this.ylb && (this.yJa=r);return !1;};k.prototype.vna=function(m,p){return m === p;};k.prototype.H5b=function(m){this.trace("Item cloned");m.uj=d.__spreadArray([],d.__read(this.uj),!1);m.BP=this.BP;};k.prototype.q7=function(){var m,p,r,v;if(this.Cb.Jd){p=this.Cb.Pd;r=void 0;try{for(var q=d.__values(this.uj),u=q.next();!u.done;u=q.next()){v=u.value;if(v.timestamp.gn(p))r=v;else break;}}catch(x){var w;w={error:x};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(w)throw w.error;}}return null === r || void 0 === r?void 0:r.Rr;}};return k;})();b.nfa=t;},55024:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.S$a=void 0;d=a(22970);n=a(91176);c=a(65161);g=a(6832);f=a(36640);t=(function(){function e(h,l,k,m,p,r,q,u){this.mediaType=h;this.console=l;this.Cb=k;this.Zha=m;this.Es=p;this.ev=r;this.cc=q;this.KH=[];this.mediaType === c.v.V && this.KH.push(new f.$ab(h,l,k,m,p,r,q,u,2));this.KH.push(new g.Ufa(h,l,k,m,p,r,q,"stream",1,null === u || void 0 === u?void 0:u.UOa()));}e.prototype.zy=function(h,l,k){this.Cb=h;this.cc=l;this.Zha=k;this.OC.forEach(function(m){return m.zy(h,l,k);});};e.prototype.G_b=function(h){this.KH.push(h);};e.prototype.nW=function(h){return (0,n.oc)(this.KH,function(l){return l instanceof h;});};e.prototype.reset=function(){this.KH.forEach(function(h){return h.reset();});};e.prototype.close=function(){this.KH.forEach(function(h){return h.close();});};e.prototype.sk=function(h){return d.__read(this.KH,1)[0].sk(h);};Object.defineProperties(e.prototype,{OC:{get:function(){return this.KH;},enumerable:!1,configurable:!0}});e.prototype.bTa=function(){this.OC.forEach(function(h){return h.bTa();});};e.prototype.VYa=function(h){this.OC.forEach(function(l,k){var m;k=null === h || void 0 === h?void 0:h.OC[k];null === (m=l.VYa) || void 0 === m?void 0:m.call(l,k);});};return e;})();b.S$a=t;},36640:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$ab=void 0;d=a(22970);n=a(91176);c=a(48170);g=a(52571);t=(function(f){function e(h,l,k,m,p,r,q,u,v){h=f.call(this,h,l,k,m,p,r,q,"segment",v,null === u || void 0 === u?void 0:u.UOa()) || this;h.Do=u;return h;}d.__extends(e,f);e.prototype.lo=function(h){var l,k,m,p,r,q,u,v,w,x,y,A,z;u=h.Pb;v=h.Mb;w=h.sa;x=h.za;y=h.bitrate;A=h.Ob;(0,g.assert)(void 0 !== u);z=null === (l=this.Cb.Dp(u)) || void 0 === l?void 0:l.L;(0,g.assert)(z,"missing segment id");h={L:z,Uob:h.Fs,sa:w,za:x,hLb:y,iLb:h.stream.Jb,Ob:A,AAc:null === (k=this.zX) || void 0 === k?void 0:k.hLb,CAc:null === (m=this.zX) || void 0 === m?void 0:m.Ob,BAc:null === (p=this.zX) || void 0 === p?void 0:p.iLb,wAc:null === (r=this.zX) || void 0 === r?void 0:r.za,Zd:null === (q=h.stream.O.U) || void 0 === q?void 0:q.Zd};c.u && this.console.log("segmentTracker: mediaAppended",{item:h});this.zX=h;this.lGa(h,u,v) && c.u && this.trace(("segment ").concat(z," @ ").concat(u.G,"ms"),h);};e.prototype.vna=function(h,l){return h.L === l.L && !l.Uob;};e.prototype.AKa=function(h,l,k){var m,p,r,q,u,v,w,x,y,A,z;m=h.Rr;p=m.L;r=m.hLb;q=m.AAc;u=m.Ob;v=m.CAc;w=m.BAc;x=m.iLb;y=m.sa;m=m.wAc;A=this.Cb.Dp(l);z=A?this.Cb.qlc(A):void 0;(0,g.assert)(void 0 !== A,"segmentTracker::emitPresentingEvent: position should be defined");c.u && this.trace(("emitSegmentPresentingEvent @ ").concat(h.timestamp.G,"ms for segment ").concat(p));A.L !== p && (c.u && this.console.warn("player position:",A,"not equal to trackedElement:",p),A={L:p,offset:n.I.fa});h={type:"segmentPresenting",playerTimestamp:l,position:A,seek:k,playbackContextId:h.Rr.Zd,branchId:null === z || void 0 === z?void 0:z.JU};if(this.Do){if(p=this.Do.eNa(p))(p.destvbitrate=r,p.destvmaf=u,p.destVdlid=x,p.srcvbitrate=q,p.srcvmaf=v,p.srcVdlid=w,p.srcMoffms=null === m || void 0 === m?void 0:m.G,p.destMoffms=y.G);h.metrics=p;}c.u && this.trace(("segmentPresenting: ").concat(JSON.stringify(h)));this.events.emit(h.type,h);};e.prototype.reset=function(){f.prototype.reset.call(this);this.zX=void 0;};e.prototype.close=function(){f.prototype.close.call(this);this.zX=void 0;};e.prototype.zJ=function(h){return ("").concat(h.L," seqFirst:").concat(h.Uob);};return e;})(a(546).nfa);b.$ab=t;},6832:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ufa=void 0;d=a(22970);n=a(97685);c=a(26388);g=a(48170);f=a(52571);t=(function(e){function h(){return null !== e && e.apply(this,arguments) || this;}d.__extends(h,e);h.prototype.lo=function(l){var k,m,p;k=l.stream;m=l.Pb;p=l.Mb;l=l.sa;(0,f.assert)(void 0 !== m,"playerStartTimestamp undefined at media append");(0,f.assert)(void 0 !== l,"contentStartTimestamp undefined at media append");this.lGa({stream:k,sa:l},m,p) && g.u && this.trace(("stream ").concat(k.id,", ").concat(k.bitrate,"kbit/s @ ").concat(m.G,"ms"));};h.prototype.vna=function(l,k){return l.stream === k.stream;};h.prototype.AKa=function(l,k){var m,p,r,q,u,v,w,x;q=l.Rr.stream;u=this.Cb.Dp(k);(0,f.assert)(void 0 !== u);g.u && this.trace(("emitStreamPresentingEvent @ ").concat(l.timestamp.G,"ms for ").concat(null === q || void 0 === q?void 0:q.id,", ") + ("").concat(null === q || void 0 === q?void 0:q.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:q.mediaType,playerTimestamp:k,position:u,trackIndex:null === (m=null === q || void 0 === q?void 0:q.track) || void 0 === m?void 0:m.PH,streamIndex:null === q || void 0 === q?void 0:q.wv,stream:q,manifest:null === (p=q.O) || void 0 === p?void 0:p.U,contentStartTimestamp:l.Rr.sa});if(g.u && q)if((l=q.zr,q.mediaType === c.v.V)){k=q.track;m=q.Eb;p=q.me;v=q.vZ;w=q.xEb;x=q.Ob;u=q.location;q=q.bitrate;n.Fna.log({zr:l,type:"STREAM_RENDER",mediaType:"VIDEO",bitrate:(0,n.mvb)(q),On:null !== (r=null === m || void 0 === m?void 0:m.toString()) && void 0 !== r?r:n.hk,Od:p,framerate:k.frameRate?k.frameRate.ix / k.frameRate.xu:-1,height:null !== v && void 0 !== v?v:-1,width:null !== w && void 0 !== w?w:-1,doa:null !== u && void 0 !== u?u:n.hk,Ob:null !== x && void 0 !== x?x:-1});}else q.mediaType === c.v.X && (k=q.track,m=q.Eb,p=q.me,u=q.location,q=q.bitrate,n.Fna.log({zr:l,type:"STREAM_RENDER",mediaType:"AUDIO",bitrate:(0,n.mvb)(q),On:null !== (v=null === m || void 0 === m?void 0:m.toString()) && void 0 !== v?v:n.hk,Od:p,doa:null !== u && void 0 !== u?u:n.hk,channels:null !== (w=k.channels) && void 0 !== w?w:n.hk,language:n.hk}));};h.prototype.zJ=function(l){return ("").concat(l.stream.Jb,"@").concat(l.sa.ba());};return h;})(a(546).nfa);b.Ufa=t;},16290:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fDa=void 0;d=a(79048);n=a(91176);c=a(66164);g=a(65161);t=(function(){function f(e,h){this.console=e;this.Z=h;}f.prototype.Psa=function(e,h,l,k,m,p,r){var q,u;void 0 === m && (m=!1);void 0 === p && (p=void 0);void 0 === r && (r=!1);q=e.K;u=this.Vgc(q);this.transition={startTime:c.platform.time.na(),vIc:e,uIc:l.G,jka:h,Ld:this.zic(k,h,r),kLc:this.Ukc(k,m),WBc:p,gac:m,jg:k,Z4b:u,Quc:this.bjc(q,l)};};f.prototype.UOa=function(){return !!this.transition;};Object.defineProperties(f.prototype,{jka:{get:function(){var e;return null === (e=this.transition) || void 0 === e?void 0:e.jka;},enumerable:!1,configurable:!0}});f.prototype.eNa=function(e){var h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K;if(this.transition && e === this.transition.jka){v=this.transition;w=v.Z4b;x=v.Quc;y=v.gac;A=v.jg;z=v.vIc;B=v.uIc;C=v.startTime;D=v.Ld;F=v.kLc;v=v.WBc;this.transition=void 0;H=this.nMa(e).rHa;E=this.ugc(z.K.id,e,w);H=this.Swb(E.weight,H);G={};for(K in w)K !== e && (G[K]=w[K].details);w=c.platform.time.na() - C;C=A?0:w;K={offset:this.tkc(z,B,A,y),L:z.K.id};B={offset:n.I.Ca(B),L:z.K.id};x={segment:e,destPosition:{L:e,offset:n.I.fa},srcsegment:z.K.id,srcTransitionPosition:K,srcStartPosition:B,srcsegmentduration:z.qca.G,srcoffset:K.offset.G,seamlessRequested:this.aQa(A,y),atRequest:E,atTransition:H,discard:G,transitionType:D,transitionTypeAtRequest:F,delayToTransition:this.lhc(w,A,y),durationOfTransition:C,nextExitPositionAtRequest:x};v && (x.reasonCodes=v);y=null !== (l=null === (h=this.Z.Z.$[e]) || void 0 === h?void 0:h.type) && void 0 !== l?l:d.Fd.content;h=null !== (m=null === (k=this.Z.Z.$[z.K.id]) || void 0 === k?void 0:k.type) && void 0 !== m?m:d.Fd.content;e=null !== (r=null === (p=this.Z.Z.$[e]) || void 0 === p?void 0:p.J) && void 0 !== r?r:void 0;p=null !== (u=null === (q=this.Z.Z.$[z.K.id]) || void 0 === q?void 0:q.J) && void 0 !== u?u:void 0;e && p && (e !== p || -1 < [y,h].indexOf("adBreak") || -1 < [y,h].indexOf("ad")) && (x.auxMidType=y,x.auxSrcmidType=h,x.auxMid=e,x.auxSrcmid=p);return x;}};f.prototype.ugc=function(e,h,l){var k,m,p,r;p={};l=l[h];r=this.Z.Z.$[e];if(l)p=l.details;else {(0,n.assert)(this.Z);if(!r)return p;p.weight=null === (m=null === (k=this.Z.Z.$[e].next) || void 0 === k?void 0:k[h]) || void 0 === m?void 0:m.weight;}return p;};f.prototype.lhc=function(e,h,l){var k;l || (k=h?e:0);return k;};f.prototype.bjc=function(e,h){var l,k,m;k=e.lb.add(h);null === (l=e.sx) || void 0 === l?void 0:l.some(function(p){k.lessThan(p.sa) && (m=p.sa.G);});return m;};f.prototype.tkc=function(e,h,l,k){return this.aQa(l,k)?e.qca:n.I.Ca(h);};f.prototype.zic=function(e,h,l){return e?"perfect":l?"long":this.nMa(h).usb?"reset":"long";};f.prototype.aQa=function(e,h){return e || h;};f.prototype.Ukc=function(e,h){return this.aQa(e,h)?"lazy":"immediate";};f.prototype.Vgc=function(e){var h,l;h=this;l={};e.Fz.forEach(function(k){var m,p;m=e.Zuc[k];p=h.nMa(k).rHa;l[k]={details:h.Swb(m,p)};});return l;};f.prototype.nMa=function(e){var h,l;e=this.Z.zW(e);h=0 < e.length?e[0]:void 0;e=null === h || void 0 === h?void 0:h.AW();if(!h || !e)return {usb:!1,rHa:{Sta:0,vha:0,Lca:0,W3:0}};l=h.tma(g.v.X) && !e.vha;h=h.tma(g.v.V) && !e.Sta;return {usb:!l && !h,rHa:e};};f.prototype.Swb=function(e,h){return {weight:e,vbuflmsec:h.Sta,abuflmsec:h.vha,vbuflbytes:h.Lca,abuflbytes:h.W3};};return f;})();b.fDa=t;},62819:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma,R,M,V,ba,ha,ca,la,ra,ta;function d(ja){var W;W={};ja.forEach(function(ea){ea.mediaType !== r.v.Aa && (W[ea.mediaType]=ea.$q());});if(!(1 > Object.keys(W).length))return W;}Object.defineProperties(b,{__esModule:{value:!0}});b.eva=void 0;n=a(22970);c=a(90745);g=a(79048);f=a(91176);e=a(91176);h=a(66164);l=a(79048);k=a(91176);a(97685);m=a(16816);p=a(20271);r=a(65161);q=a(26286);u=a(70842);v=a(31485);w=a(52571);x=a(61651);y=a(40666);A=a(63576);z=a(91967);B=a(5653);C=a(17122);D=a(54366);F=a(63172);H=a(61996);E=n.__importDefault(a(40497));G=a(46759);K=a(60028);N=a(27288);I=a(73036);L=a(69575);O=a(6783);J=a(99548);Q=a(8149);P=a(29739);S=a(66412);Y=a(94328);X=a(28696);T=a(19455);U=a(25317);Z=a(86451);aa=a(88874);da=a(25510);fa=a(78538);ma=a(36472);R=a(54775);M=a(4489);V=a(35879);ba=a(56879);ha=a(86048);ca=a(70494);la=a(31509);t=a(75393);ra=a(46262);ta=t.kC.LJa;a=(function(){function ja(W,ea,ka,pa,qa,na,Aa,Ha,oa,wa){this.Cfb=ea;this.config=ka;this.id=pa;this.Yv=na;this.tk=Aa;this.l5b=Ha;this.Nq=wa;this.iEa=!1;this.PD=void 0;this.$Ka=[];this.RA=void 0;this.dBb=!1;this.li=this.Fa=void 0;this.s0b="2.0";this.Ctb=this.lha=this.Aq=void 0;this.Va=p.Ft.CLOSED;this.qEa=!0;this.r4=!1;this.iA=this.aq=this.ps=void 0;this.kib=new c.lf();this.wQa={};this.BI=0;this.bta=!1;this.qnc();this.console=new h.platform.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.Ve=new H.Lm({Bg:10,wj:this,source:"AsePlaygraph",console:this.console});this.events=new c.EventEmitter();this.Fq=g.OD.create(W);this.qGb(this.Fq);this.Ta=new aa.t$a();this.Wh=new ca.u$a(this.console);this.tqc=new X.c4a(this.config,f.I.Ca(this.config.IF),{parent:function(ya){return ya.NW();},next:this.crb.bind(this)},this.events,this.console);this.Ipc=new T.b4a(this.config,f.I.Ca(this.config.IF),{parent:function(ya){return ya.NW();},next:this.crb.bind(this)},this.events,this.console);this.aYa=new v.Dbb(this.console,this.events);this.M4={oF:ka.UP || Infinity};this.player=new x.hfa(this);this.Tc=new y.qH(this.player.Ia,this.console,"playgraph",1);this.vnc();this.Nf=new da.t1a(this.console,ka,qa,this.events,this.Ipa.bind(this),this.id,this.Ej);this.fI=new R.k1a(this.Tc,this.Ej,this.config,this.ym.bind(this),this.Xd,this.console,this);this.Jpa=this.Nf.Jpa.bind(this.Nf);this.zY=this.Nf.zY.bind(this.Nf);this.Spa=this.Nf.Spa.bind(this.Nf);this.zpa=this.zpa.bind(this);this.rpa=this.rpa.bind(this);this.vpa=this.vpa.bind(this);this.wpa=this.wpa.bind(this);this.xpa=this.xpa.bind(this);this.NK=this.NK.bind(this);this.zf=new z.Dfa(ka,this.console);this.nnc();this.zf.od(new D.En(this.Nf.Ve));this.zf.od(new F.R9a(this.xjc.bind(this)));this.zf.od(new D.En(this.Ve));this.zf.od(new G.s$a(this.Ta,this));this.zf.od(new N.E6a(this.Nq,this));this.zf.od(new I.Tbb(this.Tc));this.aua=new P.$Ba("viewables");this.zf.od(this.aua);this.XHb=new ha.Cbb(this,this.console,oa);this.d9=new K.S6a(this.Ej,this.console,this.events);this.cp=new la.v$a(this.lVa.bind(this));this.dXa((0,A.s5)(),(0,A.t5)(this.console,this.config));}Object.defineProperties(ja.prototype,{parent:{get:function(){return this.RA;},set:function(W){this.RA=W;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{state:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{$n:{get:function(){return !(this.player instanceof x.hfa);},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{Oc:{get:function(){return this.PD;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{bx:{get:function(){var W;return null === (W=this.PD) || void 0 === W?void 0:W.bx;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{Kb:{get:function(){return this.Fq;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{f8:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{Z:{get:function(){return this.Fq.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{weight:{get:function(){return this.Cfb;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{Yi:{get:function(){(0,w.assert)(this.Jw,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Aq.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{pFb:{get:function(){(0,w.assert)(this.Jw,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.Hw(this.Yi).Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{Xd:{get:function(){return this.Nf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{en:{get:function(){return this.Nf.en;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{Jw:{get:function(){return void 0 !== this.Aq;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{xh:{get:function(){return this.player.Jd?this.player.xh:this.Yi;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{Pd:{get:function(){var W;return this.player.Jd?this.player.Pd:(null === (W=this.Aq) || void 0 === W?void 0:W.Ai) || this.pFb;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{B1b:{get:function(){return this.bWb;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{Zta:{get:function(){return this.hZb;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{BK:{get:function(){return this.Yv;},enumerable:!1,configurable:!0}});Object.defineProperties(ja.prototype,{iOa:{get:function(){return this.oba()?this.Ipc:this.tqc;},enumerable:!1,configurable:!0}});ja.prototype.vnc=function(){this.Ej=new y.qH(new C.Sfa({Oi:!0,currentTime:function(){return f.I.Ca(h.platform.time.na());},speed:1}),this.console,"wallclock");};ja.prototype.nnc=function(){var W;W=this;(0,ba.x8b)({Nf:this.Nf,Ej:this.Ej},y.Ud.Kx(f.I.Ca(this.config.UY)),function(){W.player.Jd && W.player.Tz && (W.Nf.state.value === r.Dd.Fl || W.Nf.state.value === r.Dd.Df) && W.Leb(W.player.Tz);},"buffering");};ja.prototype.qnc=function(){var W;W=this;this.Jz=function(ea){var ka,pa,qa,na;pa=W.Kb.get(ea.position.L);(0,w.assert)(pa,"segment must exsts in workingPlaygraph");qa=W.iNa(pa);if(qa && W.player.Jd){na=(0,L.Nob)(W.player.Ta.filter(function(Aa){return Aa.K.id === ea.position.L;}),ea.playerTimestamp,{Zjb:!0});na && (null === (ka=W.player.Do) || void 0 === ka?void 0:ka.Psa({K:pa,get qca() {return na.za.ca(pa.lb);}},qa,W.xh.offset,!0,!1,void 0));}W.cp.start();};this.rY=function(){W.tk("onDrmReady");};this.Wzb=function(ea){ea=ea.newValue;W.iEa || (W.iEa=ea);};this.ywc=function(){W.tk("mediaEventsProgress");};};ja.prototype.open=function(){this.qEa=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Va !== p.Ft.CLOSED)return !1;this.Va=p.Ft.OPEN;return !0;};ja.prototype.Ja=function(){var W;this.Ej.Ja();this.Tc.Ja();this.Va !== p.Ft.CLOSED && (this.$g(m.KL.Wja),this.cp.Ja(),this.Va=p.Ft.CLOSED,this.$n || this.player.Ja(),this.d9.Ja(),null === (W=this.Oc) || void 0 === W?void 0:W.bx.Ja());};ja.prototype.C4b=function(W,ea,ka){W=(0,fa.Inb)(this.Ta,this.NK.bind(this),W,ea,ka).Xib;return this.Kib(W);};ja.prototype.Ax=function(W,ea,ka){var pa,qa,na,Aa,Ha,oa,wa;pa=this;qa=this.ps;na=this.aq;Aa=this.iA;this.ps=W;this.aq=ea;this.iA=ka;ea=(0,fa.Inb)(this.Ta,this.NK.bind(this));Ha=ea.Xib;W=ea.A2b;ea=ea.h0b;if(0 === Ha.length)return !0;if(!this.Kib(Ha))return (this.ps=qa,this.aq=na,this.iA=Aa,!1);oa=this.xh;this.player.tZ(Ha);this.player.yca(ea);wa=this.Hw(oa).Ua;W.forEach(function(ya){var ua,xa,Ca;ua=ya.Ba;xa=ya.ja;Ca=oa.L === ua.K.id?wa:void 0;ya=pa.Ta.Ula(ua);ua.Ax(xa,Ca,void 0 !== ya,Ha);ua.dm && (xa=ua.O,ua.K.type === g.Fd.padding && (xa={MJ:[0,0]}),pa.cp.state === la.dH.qM && pa.REa(ua,xa,!ya,ua.O.U));});this.Nf.$wc(oa,W[0].ja);return !0;};ja.prototype.s5=function(W){return (0,A.s5)(this.config,W);};ja.prototype.t5=function(W){return (0,A.t5)(this.console,this.config,W);};ja.prototype.j7=function(W,ea){var ka,pa,qa;ka=this.Kb.get(W);pa=this.Kb.get(ea);(0,w.assert)(ka,"currentSement must exist in workingPlaygraph");(0,w.assert)(pa,"currentSement must exist in workingPlaygraph");qa=this.iNa(ka);return {jNc:ka.amc(ea),N4:ea !== W && this.Ta.has(ea) && this.Ta.Zq(ea)[0].Rf,mja:pa.lb.G,kSa:qa};};ja.prototype.ym=function(W,ea,ka,pa){var qa,na,Aa,Ha,oa,wa,ya;qa=this;void 0 === pa && (pa=!0);if(!ea)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(pa && this.Wh.get(W))ka || this.Wh.set(W,ea);else {oa=this.zW(W)[0];wa=this.Kb.get(W);(0,w.assert)(wa,"currentSegment must exist in workingPlaygraph");ya=1 === wa.KC && 0 === (null !== (Aa=null === (na=wa.cl) || void 0 === na?void 0:na.length) && void 0 !== Aa?Aa:0) && wa.Fz[0] === ea;this.xh.L !== W || !oa || ya && ka || (null === (Ha=this.player.Do) || void 0 === Ha?void 0:Ha.Psa({K:oa.K,get qca() {return oa.za.ca(oa.K.lb);}},ea,this.xh.offset,pa,ka,void 0));pa || (W={offset:f.I.fa,L:ea},this.Aq={position:W,Rf:!0,YJb:W});ka?this.Wh.oGc(wa.id,ea):this.Wh.set(wa.id,ea);this.cp.start();pa && wa.sx && 0 < wa.sx.length && ((0,w.assert)(oa),oa.Bta(wa.sx) && this.zW(ea).forEach(function(ua){return qa.Hx(oa,ua);}));pa || this.Nf.wY(this.Yi);}};ja.prototype.Kib=function(W){var ea,ka;if(0 === W.length)return !0;if(this.player.vR && this.player.AP.value.ca(this.player.Pd).lessThan(f.I.Ca(5E3)))return !1;W=this.player.Ta;if(!W.length)return !0;ka=null === (ea=W[0]) || void 0 === ea?void 0:ea.O.J;return !W.some(function(pa){return pa.O.J !== ka;});};ja.prototype.Hx=function(W,ea){W=W.Mb.ca(ea.K.lb);ea.Hx(W,"from playgraph");this.gKb(ea);};ja.prototype.gKb=function(W){var ea;ea=this;this.Ta.Wgc(W).forEach(function(ka){return ea.Hx(W,ka);});};ja.prototype.Kk=function(W){var ea;ea=this;Object.keys(W).forEach(function(ka){return ea.Kb.Kk(ka,W[ka]);});this.cp.start();};ja.prototype.dXa=function(W,ea){this.bWb=W;this.hZb=ea;this.state === p.Ft.Po && this.tk("setStreamFilters");};ja.prototype.ZZb=function(W){(0,w.assert)(-1 === this.$Ka.indexOf(W),"Attempted to add the same evaluation hook twice");this.$Ka.push(W);};ja.prototype.VGc=function(W){return this.Yv.mDc(W);};ja.prototype.JK=function(W,ea){this.fsa(W,ea);};ja.prototype.fsa=function(W,ea,ka){var pa,qa,na,Aa,Ha,oa,wa,ya;Aa=this.Z;Ha=(0,Y.mNc)(Aa,W);if(Ha.tX){oa=this.UEc(Aa,W,ea);if(void 0 === oa)(ea=("Invalid seekPosition after sanitization to ").concat(W.L) + ("(").concat(W.offset.G,"ms)") + (", reason: ").concat(Ha.reason),this.Hf({oi:ea,J:null === (pa=Aa.$[W.L]) || void 0 === pa?void 0:pa.J}));else if(void 0 === this.ps || void 0 === this.aq)this.Hf({oi:"No track selectors available"});else if((pa=!(this.$n && this.player.Ou) && (0,Y.gOa)(null === (qa=this.Aq) || void 0 === qa?void 0:qa.YJb,oa),this.events.emit("seeking",{type:"seeking",position:W,duplicate:pa}),!pa)){this.lha=ka;this.Jw?(this.SYa(oa),this.Ajb(W)):this.Ta.empty && ka && (ka=this.player.SI()) && (this.SYa(oa,{L:ka.K.id,offset:ka.Wd}),this.Ajb(W));ka=this.UMa();try{wa=Aa.$[oa.L].J;ya=this.Gw().filter(function(ua){return ua.J === wa;})[0];this.$g(m.KL.jvb);this.p5b();this.Aq={position:oa,YJb:oa,Rf:!1,Ai:ea};this.Ctb=ea?ea.ca(this.pFb):f.I.fa;this.Nf.wY();null === (na=this.Oc) || void 0 === na?void 0:na.bx.wY(ya,oa);this.Va=p.Ft.Po;this.cp.start();}finally{this.events.emit("seeked",{type:"seeked",position:W});ka.release();}}}else (ea=("Invalid seekPosition to ").concat(null === W || void 0 === W?void 0:W.L) + ("(").concat(W.offset.G,"ms)") + (", reason: ").concat(Ha.reason),this.Hf({oi:ea,J:null === (oa=Aa.$[W.L]) || void 0 === oa?void 0:oa.J}));};ja.prototype.SYa=function(W,ea,ka,pa,qa){var na,Aa;void 0 === ka && (ka=!1);void 0 === qa && (qa=!1);Aa=this.Kb.get((null === ea || void 0 === ea?void 0:ea.L) || this.xh.L);(0,w.assert)(Aa,"currentSegment must exist in workingPlaygraph");null === (na=this.player.Do) || void 0 === na?void 0:na.Psa({K:Aa,qca:Aa.Rb},W.L,ea?ea.offset:this.xh.offset,!1,ka,pa,qa);};ja.prototype.Ajb=function(W){var ea,ka;if((null === (ea=this.player.SI()) || void 0 === ea?void 0:ea.K.id) === W.L){if((this.Wh.s5b(W.L),!this.Wh.get(W.L) && this.player.Ou)){W=this.player.Ta;ka=this.player.SI();ka && (W=(0,e.oc)(W,function(pa){return pa.parent === ka;})) && this.Wh.set(ka.K.id,null === W || void 0 === W?void 0:W.K.id);}}else this.Wh.lIa();};ja.prototype.UMa=function(){var W,ea;W=this;ea=this.Ta.filter(function(ka){return ka.K.J !== g.mq && !ka.Nsb;}).map(function(ka){if(W.Yv.xma(ka.K.J))return W.Yv.Cr(ka.K.J).fm;}).filter(f.$c);return new k.cT({name:"playgraphLeases",p$:function(){ea.forEach(function(ka){return ka.release();});},console:this.console}).vy();};ja.prototype.$g=function(W){var ea,ka,pa;void 0 === W && (W=m.KL.Wja);this.Nf.stop();pa=this.Gw();this.Ta.reset();this.events.emit("cancelStreaming",{type:"cancelStreaming",reason:W});if(W === m.KL.Wja && (this.Wh.lIa(),pa.length))try{for(var qa=n.__values(pa),na=qa.next();!na.done;na=qa.next())na.value.EDb();}catch(Ha){var Aa;Aa={error:Ha};}finally{try{na && !na.done && (ea=qa.return) && ea.call(qa);}finally{if(Aa)throw Aa.error;}}this.Tc.Uc();this.player.reset();this.Aq=void 0;this.fI.reset();null === (ka=this.kib) || void 0 === ka?void 0:ka.clear();this.Va === p.Ft.Po && (this.Va=p.Ft.OPEN);};ja.prototype.zW=function(W){return this.Ta.Zq(W);};ja.prototype.Dk=function(W){this.Nf.Dk(W);(0,w.assert)(this.player.em,"Must have an appended branch on underflow");this.player.ehb && this.Nf.en && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),W=this.Xm(this.Pd),this.Nf.Sl("complete",W.y_,W.z_));this.fI.oca(this.player.em,this.Pd,!0);this.tk("onUnderflow");this.events.emit("underflow");};ja.prototype.od=function(W){this.zf.od(W);};ja.prototype.$Fc=function(W){(0,w.assert)(!this.Oc,"AdManager already set");this.PD=W;this.PD.bx.events.addListener("mediaEventsProgress",this.ywc);};ja.prototype.zy=function(W){this.od(new B.qab(W));this.Nf.Iwc();return this.Ahb(W);};ja.prototype.Ahb=function(W){var ea;ea=this.player;if(!this.player.UYa(W))return (this.Hf({oi:"player in use"}),!1);this.player=W;this.Tc.iia(this.player.Ia);this.player.events.on("segmentPresenting",this.Jz);this.player.events.on("drmReady",this.rY);this.player.lo.addListener(this.Wzb);W=this.bkc();0 < W.length && this.player.yca(W);this.events.emit("playerChanged",{type:"playerChanged",old:ea,"new":this.player});return !0;};ja.prototype.Eac=function(){this.$n && (this.player.events.mm("segmentPresenting",this.Jz),this.player.events.mm("drmReady",this.rY),this.player.lo.removeListener(this.Wzb),this.Ahb(new x.hfa(void 0)));};ja.prototype.Hw=function(W){var ea,ka;ea=W.offset;ka=this.Kb.get(W.L);(0,w.assert)(ka,"segment must exist in workingPlaygraph");W=ka.J;ea=ka.lb.add(ea);return {J:W,Ua:ea};};ja.prototype.Dp=function(W,ea){var ka,pa,qa;qa=this.player.Dp(W);if(void 0 !== qa)return qa;if(null === (pa=null === (ka=this.Aq) || void 0 === ka?void 0:ka.Ai) || void 0 === pa?0:pa.equal(W))return this.lha || this.Yi;ka=this.player.em;return (0,Y.Dp)(W,{oa:this,xnc:ka && ({id:ka.K.id,wFc:ka.fv})},ea);};ja.prototype.GB=function(W,ea){void 0 === ea && (ea=!1);W=this.H7(W,ea).next();if(!W.done)return (W=W.value,null === W || void 0 === W?void 0:W.Ai);};ja.prototype.H7=function(W,ea){var ka,pa,qa,na,Aa,Ha,oa,wa,ya,ua,xa,Ca,Ja,Ka;void 0 === ea && (ea=!1);return n.__generator(this,function(La){switch(La.label){case 0:(ka=this.player.H7(W),pa=ka.next(),La.label=1);case 1:return pa.done?[3,3]:[4,pa.value];case 2:return (La.S(),pa=ka.next(),[3,1]);case 3:if(!ea)return [2];qa={};na=this.xh;this.$n && this.player.Jd && (oa=this.player.em) && (Ha=this.Kb.get(oa.K.id)) && (na={offset:f.I.fa,L:oa.K.id},Aa=oa.Mb.ca(this.player.Pd));Aa || (Ha=this.Kb.get(na.L),(0,w.assert)(Ha,("currentSegment ").concat(na.toString()," must exist in workingPlaygraph")),Aa=Ha.lb.add(na.offset).ca(Ha.Ub));(0,w.assert)(Ha,"Current segment should be defined by here");wa=this.Pd;if(Ha.Ac && Ha.id !== W.L)return [3,6];if(Ha.id !== W.L)return [3,5];ya=W.offset.ca(na.offset);return [4,{KE:ya,Ai:wa.add(ya)}];case 4:(La.S(),La.label=5);case 5:return [2];case 6:(ua=this.Kb.get(Ha.Ac),(0,w.assert)(ua,("currentSegment.defaultNext must exist in workingPlaygraph ").concat(Ha.Ac," from ").concat(W.L)),xa=this.Kb,Ca=this.Kb.fvb(function(Oa,Na){Oa=xa.get(Na);(0,w.assert)(Oa,"nextSegment must exist in workingPlaygraph");return Oa.Ac;},ua.id),Ja=Ca.next(),La.label=7);case 7:if(Ja.done)return [3,11];Ka=Ja.value;if(qa[Ka.id])return [3,11];qa[Ka.id]=!0;if(Ka.id !== W.L)return [3,9];ya=W.offset.add(Aa);return [4,{KE:ya,Ai:wa.add(ya)}];case 8:return (La.S(),[2]);case 9:(Aa=Aa.add(Ka.Rb),La.label=10);case 10:return (Ja=Ca.next(),[3,7]);case 11:return [2];}});};ja.prototype.fFb=function(W){return (0,Y.cFb)(this.Z,W);};ja.prototype.ws=function(W){return (0,O.ws)(this.Z,W.J,W.Ua);};ja.prototype.Gob=function(W){var ea,ka,pa,qa;ea=this.xh;if(this.Z.$[ea.L].J === W)return ea;if(this.player.Jd){ka=this.player.Ta;pa=ka.indexOf(this.player.Tz);if(-1 !== pa)for(;pa < ka.length;pa++){qa=ka[pa];if(qa.K.J === W)return {L:qa.K.id,offset:qa.sa};}}for(ea=this.player.em?{L:this.player.em.K.id,offset:this.player.em.sa}:ea;;){ka=this.Z.$[ea.L];if(ka.J === W)return ea;if(ka.Ac)ea={L:ka.Ac,offset:f.I.fa};else break;}};ja.prototype.UEc=function(W,ea,ka){var pa,qa;pa=(0,Y.cFb)(W,ea);qa=f.I.Ca(1E4);if(!pa || !ka || ka.greaterThan(qa))return pa;W=ea.offset.add(f.I.Ca(W.$[ea.L].cb));ka=ka.ca(W);if(ka.pf(f.I.fa))return pa;qa=f.I.max(f.I.fa,W.ca(qa)).add(ka);if(qa.pf(f.I.fa))return pa;qa=pa.offset.add(qa);return {L:pa.L,offset:qa};};ja.prototype.Hu=function(W,ea){var ka,pa,qa,na;void 0 === ea && (ea={Ogb:!1});if(W.J !== g.mq){qa=this.Yv.Cr(W.J);try{na=W.Ua;(null === (ka=qa.O) || void 0 === ka?0:ka.vc) && !ea.Ogb && (na=(0,J.opa)(this.console,qa.O.Ym(),qa.O,na));if(void 0 === this.aq)this.Hf({oi:"No track selectors available"});else return null === (pa=qa.O) || void 0 === pa?void 0:pa.Hu(this.config,na,this.aq);}catch(Aa){this.console.error(Aa,Aa.stack);}finally{qa.fm.release();}}};ja.prototype.Pla=function(){return (0,M.Jpb)(this.Ta,this.cna.bind(this));};ja.prototype.cna=function(W){W=this.Ta.Ula(W);return void 0 === W || W.Nj && this.cna(W);};ja.prototype.Ola=function(){return this.M4.oF;};ja.prototype.xhc=function(W){return (0,V.Rrb)(this.Ta,W);};ja.prototype.Xm=function(W){var ka,pa,qa,na;function ea(Aa){return Aa?Math.max(Aa - W.G,0):0;}ka=this;this.Ta.LI(function(Aa){var Ha,oa,wa;Ha=Aa.EW(r.v.X);oa=Aa.EW(r.v.V);wa=Aa.EW(r.v.Aa);if(Aa.K.n_ || !ka.Ta.oma(Aa) || !Aa.Nj){if(!pa || Ha < pa)pa=Ha;if(!qa || oa < qa)qa=oa;if(!na || wa < na)na=wa;}return Aa.Nj;});return {y_:ea(pa),z_:ea(qa),gJb:ea(na)};};ja.prototype.YNa=function(W){return (W=this.Fq.LJ(W))?this.Fq.eK.get(W):void 0;};ja.prototype.PO=function(){var W,ea,ka,pa;ka=this.Jw?this.Xm(this.Pd):{y_:0,z_:0,gJb:0};pa=E.default.instance().get();return {totalabuflmsecs:ka.y_,totalvbuflmsecs:ka.z_,totaltbuflmsecs:ka.gJb,abuflbytes:0,vbuflbytes:0,tbuflbytes:0,currentBandwidth:null !== (ea=Number(0 < pa.confidence) && (null === (W=pa.ob) || void 0 === W?void 0:W.Da)) && void 0 !== ea?ea:0};};ja.prototype.VW=function(){var W,ea,ka,pa,qa,na,Aa,Ha;W=this;if(this.Tw())return (this.Ve.vg({isStreamingFailureReported:!0}),[]);ka=this.Ta.size;this.Ve.vg({branchCount:ka});if(!this.Jw || 0 === ka)return [];pa=this.Pd;qa=this.xh;na=[];ka=this.Kb.get(this.xh.L);(0,w.assert)(ka,"presentingSegment must exist in workingPlaygraph");Aa=ka.Rb;Ha=this.Wh.get(ka.id)?1:null !== (ea=ka.sv) && void 0 !== ea?ea:1;ea=this.Ta.reduce(function(oa,wa,ya){var ua,xa,Ca,La,Oa,Na,Qa;Ca=wa.Nla();try{for(var Ja=n.__values(Ca),Ka=Ja.next();!Ka.done;Ka=Ja.next()){La=Ka.value;if(!La.bo()){Oa=("p").concat(W.id,"-").concat(ya,"-").concat(null === (xa=wa.Pb) || void 0 === xa?void 0:xa.G);Na=W.Fkc(La);Qa=new ra.D$a(W,La,Oa,Ha,Aa.G,Na.G,pa.G,qa);oa.push(Qa);}!La.Sw() && W.Ve.enabled && na.push({segmentId:La.L,isDoneStreaming:La.bo(),isNormalized:La.Rf(),needsHeaderRequest:La.track.Y9});}}catch(Va){var Ra;Ra={error:Va};}finally{try{Ka && !Ka.done && (ua=Ja.return) && ua.call(Ja);}finally{if(Ra)throw Ra.error;}}return oa;},[]);this.Ve.vg({nonStreamables:na});return ea;};ja.prototype.Fkc=function(W){var ea;ea=W.NW();if(this.config.SV && ea && (0,l.HPa)(ea.Ba.K.fma(W.L)))return W.Qj;for(;ea && !ea.ETa;)(W=ea,ea=ea.NW());return W.Qj;};ja.prototype.crb=function(W){var ea;if(!W.Ba.Gd){ea=W.Ba.K.Ac;if(ea)return (ea=n.__read(this.Ta.Zq(ea),1)[0],null === ea || void 0 === ea?void 0:ea.gF(W.mediaType));}};ja.prototype.Ipa=function(W,ea,ka){var pa,qa,na;if(!this.aYa.Tw()){pa=void 0;try{qa=this.xh;if(qa){na=this.Kb.get(qa.L);(0,w.assert)(na,"currentPosition segment must exist in workingPlaygraph");pa=na.J;}}catch(Aa){this.console.error("Error getting viewableId for buffering timeout",Aa,"state:",this.Nf.state.value,"hasPlayer:",this.$n,"hasPosition:",this.player.Jd,"branches:",JSON.stringify(this.player.Ta));}this.Hf({oi:W,J:pa,uB:ea,RF:null === ka || void 0 === ka?void 0:ka.ah,Vj:null === ka || void 0 === ka?void 0:ka.Vj,Xg:null === ka || void 0 === ka?void 0:ka.Xg});}};ja.prototype.Hf=function(W){this.aYa.Hf(W);return !0;};ja.prototype.bZa=function(W,ea){ea=this.Mla(ea,W);this.events.emit("logdata",{type:"logdata",target:W,fields:ea});};ja.prototype.Mla=function(W,ea){void 0 !== W && this.d9.Cqc(W);ea=this.zf.ri(W,ea);W === z.Mc.wk && (W=this.PO(),ea.vbuflmsec=W.totalvbuflmsecs,ea.abuflmsec=W.totalabuflmsecs,ea.vbuflbytes=W.vbuflbytes,ea.abuflbytes=W.abuflbytes,ea.audioSwitchability=this.klc());return ea;};ja.prototype.klc=function(){var W;W=this;this.Gw().forEach(function(ea){var ka;ka=ea.J;-1 !== ka && void 0 !== ea.FU && (W.wQa[ka]=ea.FU);});return this.wQa;};ja.prototype.oNa=function(){return this.zf.aMa();};ja.prototype.fKb=function(W){this.M4=W;this.tk("updateBudget");};ja.prototype.Tw=function(){return this.aYa.Tw();};ja.prototype.AZa=function(W){W !== this.weight && (this.Cfb=W,this.events.emit("weightUpdated"));};ja.prototype.eS=function(W){var ea,ka;ea=this;ka=this.h4b(W.Z);ka.success?(this.player.E$(function(){ea.qGb(W.i4(ea.Fq));}),this.cp.start()):this.Ve.vg({current:this.Kb.Z,target:W.Z});return ka;};ja.prototype.qL=function(W){W=g.OD.update(this.Fq,W);return this.eS(W);};ja.prototype.h4b=function(W){var ea,ka,pa,qa,na,Aa,wa,ya,ua,xa,Ca,Ja,Ka,La,Oa,Na;pa=(0,Z.H3b)(this.Z,W);qa=pa.ux;na=pa.ru;Aa=pa.MLc;if([pa.uU,qa,na].every(function(Ra){return !Ra.length;}))return {success:!0,reason:r.Qv.kTb};if(0 === na.length && 0 === Aa.length && this.$n && this.player.Jd)return {success:!1,reason:r.Qv.iSb};if(this.player.Ta.some(function(Ra){return -1 < qa.indexOf(Ra.K.id);}))return {success:!1,reason:r.Qv.AUb};if(this.Jw && !this.player.Jd && -1 < qa.indexOf(this.Yi.L))return {success:!1,reason:r.Qv.VQb};if(this.Jw)try{for(var Ha=n.__values(na),oa=Ha.next();!oa.done;oa=Ha.next()){wa=oa.value;ya=this.Z.$[wa];ua=ya.cb;xa=ya.ib;Ca=ya.J;Ja=W.$[wa];Ka=Ja.ib;La=Ja.cb;Oa=Ja.J;if(this.xh.L === wa && Ka !== xa){if(!Ka)return {success:!1,reason:r.Qv.BUb};Na=f.I.Ca(Ka - La + 1);if(null === (ka=this.xh.offset) || void 0 === ka?0:ka.greaterThan(Na))return {success:!1,reason:r.Qv.mMb};}if(ua !== La)return {success:!1,reason:r.Qv.rPb};if(Ca !== Oa)return {success:!1,reason:r.Qv.sPb};}}catch(Ra){var Qa;Qa={error:Ra};}finally{try{oa && !oa.done && (ea=Ha.return) && ea.call(Ha);}finally{if(Qa)throw Qa.error;}}return {success:!0,reason:r.Qv.jTb};};ja.prototype.Ym=function(W){var ea;ea=n.__read(this.Gw().filter(function(ka){return ka.J === W;}),1)[0];if(ea)return ea.Ym();};ja.prototype.Mqb=function(){var W,ea;ea=Infinity;try{for(var ka=n.__values(this.Ta),pa=ka.next();!pa.done;pa=ka.next())ea=Math.min(ea,pa.value.wrb());}catch(na){var qa;qa={error:na};}finally{try{pa && !pa.done && (W=ka.return) && W.call(ka);}finally{if(qa)throw qa.error;}}return ea;};ja.prototype.Nqb=function(){var W,ea;ea=Infinity;try{for(var ka=n.__values(this.Ta),pa=ka.next();!pa.done;pa=ka.next())ea=Math.min(ea,pa.value.cma());}catch(na){var qa;qa={error:na};}finally{try{pa && !pa.done && (W=ka.return) && W.call(ka);}finally{if(qa)throw qa.error;}}return ea;};ja.prototype.qGb=function(W){var ea;ea={type:"playgraphUpdating",Fpa:this.Kb.Z,epa:W.Z};this.Fq=W;this.NMc();this.events.emit("playgraphUpdating",ea);};ja.prototype.NMc=function(){var W,ea,ka,pa,qa;ka=this.player && this.$n && this.player.Jd?this.xh:void 0;if(ka){pa=this.Kb.get(ka.L);(0,w.assert)(pa,"currentPosition segment must exist in workingPlaygraph");ka=null === (W=this.player.Do) || void 0 === W?void 0:W.jka;if((W=this.iNa(pa)) && W !== ka && this.player.Ou){qa=this.player.Tz;null === (ea=this.player.Do) || void 0 === ea?void 0:ea.Psa({K:qa.K,get qca() {return qa.za.ca(qa.K.lb);}},W,this.xh.offset,!0,!1,void 0);}}};ja.prototype.TF=function(W,ea){var ka;this.UDb(W);W.uO.addListener("criticalNetworkError",this.Jpa);W.uO.addListener("temporaryNetworkError",this.zY);W.uO.addListener("requestError",this.zY);W.uO.addListener("updatingLastSuccessEvent",this.Spa);ka=1 >= this.Gw().filter(function(pa){return pa === W;}).length;W.events.addListener("logdata",this.zpa);W.events.addListener("asereportconfigoverrides",this.rpa);W.events.addListener("liveEventTimesUpdated",this.vpa);W.events.addListener("liveLoggingInfoUpdated",this.wpa);W.events.addListener("livePostplayUpdated",this.xpa);W.vc && ka && (W.yCb(),W.FX && W.FX.od(this.zf),this.aua.anc(W.zf,W.R));ka=this.Nq.YMa(W);ka.gu === this.config.gu && ka.yy === this.config.yy && ka.XH === this.config.XH || this.events.emit("asereportconfigoverrides",{type:"asereportconfigoverrides",gu:ka.gu,yy:ka.yy,XH:ka.XH});this.Va === p.Ft.Po && ea && this.Taa();};ja.prototype.cTa=function(W){var ea;ea=0 === this.Ta.filter(function(ka){return ka.dm && ka.O === W;}).length;this.wQa[W.J]=W.FU;ea && (this.UDb(W),this.aua.PDb(W.zf));};ja.prototype.UDb=function(W){W.uO.removeListener("criticalNetworkError",this.Jpa);W.uO.removeListener("temporaryNetworkError",this.zY);W.uO.removeListener("updatingLastSuccessEvent",this.Spa);W.events.removeListener("logdata",this.zpa);W.events.removeListener("asereportconfigoverrides",this.rpa);W.events.removeListener("liveEventTimesUpdated",this.vpa);W.events.removeListener("liveLoggingInfoUpdated",this.wpa);W.events.removeListener("livePostplayUpdated",this.xpa);this.aua.PDb(W.zf);};ja.prototype.cgb=function(W){var ea;(0,w.assert)(W.Rf,"expected branch to be normalized on addBranchToPlayer");this.player.Ou || (null === (ea=this.Aq) || void 0 === ea?0:ea.Rf) || this.Zec(W);this.Nf.Aca(W.ja);this.player.Ou && (ea=this.player.em) && this.Wh.clear(ea.K.id);this.player.aW(W);this.events.emit("branchEnqueued",{Ba:W,type:"branchEnqueued"});this.fI.oca(W,this.Pd);};ja.prototype.Zec=function(W){var ea,ka;(0,w.assert)(W.sa,"Normalized branch should have a defined content start timestamp");(0,w.assert)(this.Aq,"AsePlaygraph should have a seek position on first branch normalization");(0,w.assert)(!this.Aq.Rf,"Seek position should not already be normalized on first branch normalization");ea=W.O;ka=this.Kb.get(W.K.id);(0,w.assert)(ka,"WorkingSegment for a normalized branch must exist");if(!ka.km)if(ea.vc)this.npa(W);else {if(void 0 === this.ps || void 0 === this.aq){this.Hf({oi:"No track selectors available"});return;}this.Kb.normalize(ea.J,ea.ppa.bind(ea,[this.ps,this.aq,this.iA]));}this.Aq=n.__assign(n.__assign({},this.Aq),{position:{L:ka.id,offset:W.sa.ca(ka.lb)},Rf:!0});this.Nf.eGc(this.Aq.position,W.ja.filter(function(pa){return pa.mediaType === r.v.X;})[0]);};ja.prototype.npa=function(W){var ea,ka;ea=n.__read(W.ja,1)[0];(0,w.assert)((0,Q.eo)(ea),"Expected primary track to be live");(0,w.assert)(W.O.qd,"Expected live viewable with position service");ea=(0,J.f$)(this.console,this.config,W.O,W.K.Ub) || f.I.zg;ka=W.parent || W.K.lb.h$(f.I.fa)?f.I.zg:W.O.qd.Ym(!1);ka=(0,J.opa)(this.console,ka,W.O,f.I.Ca(W.K.cb));this.Kb.npa(W.K.id,ka,ea);this.Taa();};ja.prototype.p5b=function(){var W;this.fI.reset();this.player.jI();this.Aq=void 0;null === (W=this.kib) || void 0 === W?void 0:W.clear();};ja.prototype.zpc=function(W,ea,ka){ea=this.XHb.vE(ea,W.Ck.mediaType,1 > ka || !W.Ck.Ba.Gd && !this.cna(W.Ck.Ba));1 === ka && "global" === (0,r.kDb)(ea.reason) && this.Nf.owc(W.Ck.mediaType,this.Xm(this.Pd));return ea;};ja.prototype.yJ=function(W){var ea,ka,pa,qa,na,Aa,Ha,oa,wa,ya,ua,xa;qa=W.Ck;W=qa.mediaType;na=this.iOa.zFb(this.Xd.value,this.Pd,qa.wG,qa.ZXa,this.player.playbackRate,qa,this.Nf.sV,this.B1b,this.Zta,this.r4);Aa=na.stream;Ha=na.IC;oa=na.fX;wa=na.xx;ya=na.kn;ua=na.reason;xa=na.wob;na=na.CFb;if(!Aa)return {Sf:!1,reason:ua || "selectLocationsAndStream"};if(void 0 === this.aq)return (this.Hf({oi:"No track selectors available"}),{Sf:!1,reason:"noTrackSelectors"});if(qa.bo())return {Sf:!1,reason:"pipelineDoneStreaming"};if(this.Xd.value === r.Dd.Po && qa.Ba && qa.Ba.O.Zn && !qa.Ba.O.yub(this.aq) && !this.player.o8(qa.Ba.O.J)){ua=qa.wG.G - this.Pd.G;if(!qa.Ba.O.Gu && ua > this.config.oxb)return {Sf:!1,reason:"maxBufferingCompleteBufferInMs"};if(!Aa.Wj && Aa.mediaType === r.v.V && ua >= this.config.poa)return {Sf:!1,reason:"maxFastPlayBufferInMs"};}ua=r.v.V;if(null === (ea=qa.Ba) || void 0 === ea?0:ea.ja.every(function(Ca){return Ca.mediaType === r.v.X;}))ua=r.v.X;this.Nf.en && W === ua && this.Nf.yGc(qa.Qp.GFb,Aa.bitrate,oa);this.pGc(qa.Ba.K,Ha);ea=null === (ka=qa.Ba.Gx) || void 0 === ka?void 0:ka.G;ka=qa.dZa(Aa,ya,wa);ka.Sf?(this.qEa && (this.$T("firstDriveStreaming"),this.qEa=!1),0 < this.BI && (qa=null === (pa=qa.Ba.Gx) || void 0 === pa?void 0:pa.G,ea && qa && (this.BI-=ea - qa,0 >= this.BI && this.Taa())),this.events.emit("requestIssued",{type:"requestIssued",mediaType:W,result:na,streamList:xa})):"waitingOnMediaEvents" === ka.reason && ((0,w.assert)(this.Oc,"waitingOnMediaEvents requires adManager"),this.Oc.bx.zuc(qa.Ba.O.J,qa.wG,qa.ZXa));return ka;};ja.prototype.MGc=function(W){this.config.enableCprVideo=W;};ja.prototype.pGc=function(W,ea){var ka;ka=this;ea.forEach(function(pa){pa.O.cGb(pa,W,function(){var qa,na;(0,w.assert)(ka.Jw,"Speculative header callback after streaming is cancelled");qa=ka.Pd.G;na=qa + ka.config.YX;return {Mg:[],Xd:ka.Nf.state.value,et:na,vn:na,Tn:qa};});});};ja.prototype.Taa=function(){var W;W=this;return new Promise(function(ea){W.cp.Yca(la.dH.mD,function(){W.cp.start();W.cp.Yca(la.dH.qM,ea);});});};ja.prototype.lVa=function(){var W,ea,ka,pa,qa;W=this;if(this.Va === p.Ft.Po){ea=this.xh;ka=this.player.Ta;pa=this.Ta.$kc();qa=n.__read(ka,1)[0];ea=qa?this.Kb.get(qa.K.id):this.Kb.get(ea.L);(0,w.assert)(ea,"startSegment must exist in workingPlaygraph");ka=ka.map(function(na){return {id:na.K.id,duration:na.Mb.ca(na.Pb).G};});pa=(0,U.lVa)(this.console,this.Kb.ksb,ea,pa,this.Wh,ka,f.I.Ca(this.config.x2b),this.config.XRa,f.I.Ca(this.config.mHa));ka=pa.DC;this.BI=pa.BI || 0;pa=this.$Ka.reduce(function(na,Aa){var Ha;Ha=Aa(na.DC);Aa=Ha.fS;Ha=Ha.DC;na.fS || (na.fS=Aa);na.DC=Ha;return na;},{fS:!1,DC:ka});this.dBb=pa.fS;this.Ta.eMc(pa.DC,function(na,Aa){var Ha,oa;oa=W.Kb.get(na);(0,w.assert)(oa,"segment must exist in workingPlaygraph");na=na === W.Yi.L?W.Yi.offset:na === (null === (Ha=W.lha) || void 0 === Ha?void 0:Ha.L)?W.lha.offset:f.I.fa;Ha=oa.lb.add(na);return W.xLc(oa,Ha,Aa);}).ux.forEach(function(na){na.$g("aborted");});this.xDb();pa.fS || this.fjb();this.cp.Yca(la.dH.mD,function(){var na;(null === (na=W.Ta.root()) || void 0 === na?0:na.dm) && W.tk("reevaluateBranches");W.cp.M9(la.dH.qM);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};ja.prototype.Gw=function(){var W,ea,qa;ea=[];try{for(var ka=n.__values(this.Ta),pa=ka.next();!pa.done;pa=ka.next()){qa=pa.value;qa.dm && (ea.push(qa.O),qa.O.JY && ea.push(qa.O.JY));}}catch(Aa){var na;na={error:Aa};}finally{try{pa && !pa.done && (W=ka.return) && W.call(ka);}finally{if(na)throw na.error;}}return (0,e.nhb)(ea);};ja.prototype.toString=function(){return ("AsePlaygraph(state: ").concat(this.Va,", branches: ").concat(this.Ta.size,")");};ja.prototype.toJSON=function(){return {state:this.Va,Ta:this.Ta.size};};ja.prototype.xDb=function(){var W,ea;W=this;if(this.Va === p.Ft.Po){if(!this.player.em){ea=n.__read(this.Ta.Zq(this.Yi.L),1)[0];(null === ea || void 0 === ea?0:ea.Rf) && this.cgb(ea);}if(this.player.em){for(;;){ea=this.rqb(this.player.em.K);if(!ea)break;ea=n.__read(this.Ta.Zq(ea).filter(function(ka){return ka.parent === W.player.em;}),1)[0];if(!ea)break;if(null === ea || void 0 === ea || !ea.Rf)break;else if(this.player.tsb(ea))break;this.cgb(ea);}this.fI.oca(this.player.em,this.Pd);}}};ja.prototype.R5=function(){return this.iEa;};ja.prototype.iNa=function(W){var ea,ka,pa,qa;if(this.player.Ou){ea=this.player.Tz;ka=!1;pa=this.player.Ta.filter(function(na){ka || (ka=na === ea);return ka;});qa=(0,e.Ql)(pa,function(na){return na.K.id === W.id;});if(pa=pa[qa + 1])return pa.K.id;}return this.rqb(W,!1);};ja.prototype.rqb=function(W,ea){var ka;void 0 === ea && (ea=!0);ka=this.Wh.get(W.id);if(ka)return ka;if(!ea && 1 === W.KC)return W.Fz[0];};ja.prototype.fjb=function(){var W;W=this.Ta.empty || 0 !== this.jgc();W || this.bta?W && this.bta && (this.bta=!1):(this.Nf.en && (W=this.Xm(this.Pd),this.Nf.Sl("complete",W.y_,W.z_)),this.YXb(),this.bta=!0);};ja.prototype.jgc=function(){return this.Ta.filter(function(W){return !W.Nj;}).length;};ja.prototype.Leb=function(W){this.cna(W) && this.Nf.bIa(this.Pd,this.player.playbackRate,W,{Via:this.iOa.Via.bind(this.iOa,this.XHb)});};ja.prototype.fwc=function(W,ea){var ka,pa,qa;ka=this;if(ea.didNormalizeSegment){ea=W.O;pa=this.Kb.get(W.K.id);(0,w.assert)(pa,"WorkingSegment for a normalized branch must exist");if(ea.vc)this.npa(W);else {if(void 0 === this.ps || void 0 === this.aq){this.Hf({oi:"No track selectors available"});return;}this.Kb.normalize(ea.J,ea.ppa.bind(ea,[this.ps,this.aq,this.iA]));}qa=ma.Xab.mlc(W,this.console,this.config);(0,w.assert)(qa,"Segment should be normalized");Promise.resolve().then(function(){return ka.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:pa.id,normalizedStart:pa.lb,normalizedEnd:pa.Ub,viewableContentEnd:qa.uLb,viewableEarliestContentEnd:qa.vLb,media:d(W.ja)});});}Promise.resolve().then(function(){ka.xDb();});this.tk("branchNormalized");};ja.prototype.gwc=function(){this.dBb || this.fjb();};ja.prototype.ewc=function(){this.cp.start();};ja.prototype.FSa=function(W){this.gKb(W);};ja.prototype.Hpa=function(W,ea){var ka,pa,qa,na;qa=ea.rxc;ea=ea.mxc;na=W.O;qa.equal(W.K.lb) || (null === (ka=na.bi) || void 0 === ka?void 0:ka.Yzb(qa,W.K.lb));ea.equal(W.K.Ub) || (null === (pa=na.bi) || void 0 === pa?void 0:pa.Yzb(ea,W.K.Ub));};ja.prototype.W9b=function(W,ea){var ka;ka=this;return new q.n1a(W.J,this.Yv,function(pa,qa,na){ka.state !== p.Ft.CLOSED && (ka.TF(qa,na),ka.cp.Yca(la.dH.qM,function(){pa.Gd || ka.REa(pa,qa,ea,qa.U);}));},this.cTa.bind(this));};ja.prototype.xLc=function(W,ea,ka){var pa,qa,na;if(this.l5b(W,ea))throw Error("Not implemented");qa=this.W9b(W,!ka);na=ka?ka.Mb.ca(ea):this.Ctb || f.I.fa;W=(0,u.v6b)({config:this.config,console:this.console,K:W,events:this.events,NK:this.NK,up:ea,Wd:na,lp:this.l$b.bind(this),Xd:this.Xd,Tc:this.Tc,rA:qa,cUa:this.Ta,Ej:this.Ej});W.dm && (null === (pa=W.O) || void 0 === pa?void 0:pa.J) === g.mq && this.REa(W,(null === ka || void 0 === ka?0:ka.dm)?ka.O:{MJ:[0,0]},!ka);this.BJc(W,!!ka);return W;};ja.prototype.l$b=function(){return this.Pd.G;};ja.prototype.BJc=function(W,ea){var ka,pa;ka=this;W.uL.then(function(){var qa,na;if(!W.Gd){qa=W.O;na=ka.Kb.get(W.K.id);na && !na.km && na.type === g.Fd.padding && (void 0 === ka.ps || void 0 === ka.aq?ka.Hf({oi:"No track selectors available"}):ka.Kb.normalize(qa.J,qa.ppa.bind(qa,[ka.ps,ka.aq,ka.iA])));}});pa=new c.lf();pa.addListener(W.events,"needsRequest",function(){var qa;qa=ka.Ta.root();qa && !qa.dm || ka.tk("branchNeedsHeader");});pa.addListener(W.events,"branchNormalized",this.fwc.bind(this,W));pa.addListener(W.events,"lastRequestIssued",this.ewc.bind(this,W));pa.addListener(W.events,"branchStreamingComplete",this.gwc.bind(this,W));pa.addListener(W.events,"checkBufferingProgress",this.Leb.bind(this,W));pa.addListener(W.events,"branchEdited",this.FSa.bind(this,W));pa.addListener(W.events,"branchTimestampsChanged",this.Hpa.bind(this,W));pa.addListener(W.events,"branchDestroyed",function(qa){var na;pa.clear();ka.Ta.contains(W) && (ka.Ta.YCc(W),ka.cp.start());na=ka.player.tsb(W);ka.cp.Yca(la.dH.mD,function(){"aborted" !== qa.reason || na || ka.XXb(W.K.id);ka.UXb(W,qa.reason);});});pa.addListener(W.events,"liveMissingSegment",function(qa){ka.events.emit("liveMissingSegment",qa);});ea || (this.$T("createDlTracksStart"),W.events.once("requestQueuesCreated",function(){ka.$T("createDlTracksEnd");}));};ja.prototype.xjc=function(W){if(this.player.Jd)return this.player.Tz.Ie(W);};ja.prototype.NK=function(W,ea,ka,pa){ea=[[r.v.X,ea || this.ps,"audio_tracks"],[r.v.V,ka || this.aq,"video_tracks"]].map(function(qa){var na,Aa;na=n.__read(qa,3);Aa=na[0];qa=na[1];na=na[2];if(W.U && ((0,w.assert)(qa,("Expected mediaType ").concat(Aa," track selector to be defined")),Aa=W.U[na],qa=qa.nR(W.U,Aa),void 0 !== qa && 0 <= qa && qa < Aa.length))return W.getTrackById(Aa[qa].yta);}).filter(e.jzb);ka=pa || this.iA;W.U && ka && (pa=W.U.timedtexttracks,ka=ka.nR(W.U,pa),void 0 !== ka && 0 <= ka && ka < pa.length && (pa=W.getTrackById(pa[ka].id)) && ea.push(pa));return ea;};ja.prototype.bkc=function(){var W,ea;W=this;ea=new Set();this.Gw().forEach(function(ka){W.NK(ka,W.ps,W.aq,W.iA).forEach(function(pa){return ea.add(pa.mediaType);});});return Array.from(ea).sort();};ja.prototype.oba=function(){return this.config.H8 && this.Gw().every(function(W){return !W.vc;});};ja.prototype.zpa=function(W){this.events.emit("logdata",W);};ja.prototype.rpa=function(W){this.events.emit("asereportconfigoverrides",W);};ja.prototype.vpa=function(W){var ea,ka,pa,qa;ea=this;ka=W.O;pa=W.startTime;qa=W.endTime;this.Ta.filter(function(na){return na.dm && na.O === ka;}).forEach(function(na){na={type:"liveEventTimesUpdated",L:na.K.id,startTime:pa,endTime:qa};ea.events.emit(na.type,na);});};ja.prototype.wpa=function(W){var ea,ka,pa,qa;ea=this;ka=W.O;pa=W.mediaType;qa=W.info;this.Ta.filter(function(na){return na.dm && na.O === ka;}).forEach(function(na){na={type:"liveLoggingInfoUpdated",L:na.K.id,mediaType:pa,info:qa};ea.events.emit(na.type,na);});};ja.prototype.xpa=function(W){W={type:"livePostplayUpdated",J:W.O.J,Q$:W.Q$,action:W.action};this.events.emit(W.type,W);};ja.prototype.REa=function(W,ea,ka,pa){var qa,na;qa=W.ja.filter(function(Aa){return Aa.mediaType === r.v.X;});if(qa.length)na=qa[0].trackId;W={type:"segmentStarting",segmentId:W.K.id,contentOffset:W.Wd.G,contentStartPts:W.sa.G,maxBitrates:{audio:ea.MJ[r.v.X],video:ea.MJ[r.v.V]},media:d(W.ja),initial:ka,manifest:pa,audioTrackId:na,branchId:W.JU};(0,S.L0b)(W,["manifest"]);this.events.emit(W.type,W);};ja.prototype.XXb=function(W){W={type:"segmentAborted",segmentId:W};this.events.emit(W.type,W);};ja.prototype.UXb=function(W,ea){W={type:"branchDestroyed",branchId:W.JU,segmentId:W.K.id,allMediaAppended:W.rN,reason:ea};this.events.emit(W.type,W);};ja.prototype.YXb=function(){var W;W={type:"streamerEnd",time:h.platform.time.na()};this.events.emit(W.type,W);};ja.prototype.$T=function(W){W={type:"startEvent",event:W,time:h.platform.time.na()};this.events.emit(W.type,W);};n.__decorate([ta.return.Ah()],ja.prototype,"Yi",null);n.__decorate([ta.return.Ah()],ja.prototype,"xh",null);n.__decorate([(0,H.Za)({methodName:"checkCanSetTracks",return:!0})],ja.prototype,"C4b",null);n.__decorate([(0,H.Za)({methodName:"setTracks",return:!0})],ja.prototype,"Ax",null);n.__decorate([(0,H.Za)({methodName:"setNextSegment",Qm:!0})],ja.prototype,"ym",null);n.__decorate([(0,H.Za)({methodName:"seekStreaming"}),n.__param(0,ta.Ah())],ja.prototype,"JK",null);n.__decorate([(0,H.Za)({methodName:"seekStreamingWithEntryPoint"}),n.__param(0,ta.Ah()),n.__param(2,ta.Ah()),n.__param(2,ta.SF)],ja.prototype,"fsa",null);n.__decorate([ta.L()],ja.prototype,"zW",null);n.__decorate([ta.return.QIa(),n.__param(0,ta.Ah())],ja.prototype,"Hw",null);n.__decorate([ta.return.Ah(),ta.return.SF],ja.prototype,"Dp",null);n.__decorate([n.__param(0,ta.Ah())],ja.prototype,"GB",null);n.__decorate([n.__param(0,ta.Ah())],ja.prototype,"H7",null);n.__decorate([ta.return.Ah(),ta.return.SF,n.__param(0,ta.Ah())],ja.prototype,"fFb",null);n.__decorate([ta.return.Ah(),ta.return.SF,n.__param(0,ta.QIa())],ja.prototype,"ws",null);n.__decorate([ta.return.Ah(),ta.return.SF],ja.prototype,"Gob",null);n.__decorate([n.__param(0,ta.QIa())],ja.prototype,"Hu",null);n.__decorate([(0,H.Za)({methodName:"getStreamables",Re:!0})],ja.prototype,"VW",null);n.__decorate([(0,H.Za)({methodName:"updateWorkingPlaygraph",return:!0})],ja.prototype,"eS",null);n.__decorate([(0,H.Za)({methodName:"updatePlaygraphMap",return:!0})],ja.prototype,"qL",null);return ja;})();b.eva=a;},14430:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.D_a=void 0;d=a(57966);b.D_a=(function(){return function(n,c,g,f,e,h,l){this.config=n;this.console=c;this.Fa=g;this.vd=f;this.Mn=e;this.vh=h;this.Ofb=new d.F_a(this.config,this.console,this.Fa,this.vd,this.Mn,this.vh,l);this.Fa.ZZb(this.Ofb.Bdc.bind(this.Ofb));};})();},57966:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.F_a=void 0;d=a(79048);n=a(66164);c=a(91176);g=a(48170);f=a(52571);t=(function(){function e(h,l,k,m,p,r,q){this.config=h;this.console=l;this.Fa=k;this.vd=m;this.Mn=p;this.vh=r;this.NNc=q;this.console=(0,c.rf)(n.platform,this.console,"ADBREAKHYDRATIONPOLICY");}e.prototype.Bdc=function(h){var l,k,m,p,r,q,u,v;l=this;k=!1;if(!this.vd.mF())return {fS:k,DC:h};m=!0;p=[];r=[];u=this.Fa.f8.Kb;h.LI(function(w,x){var y,A,z,B,C,D;if(!(x || !w.K.Loc || l.gpc() && l.vd.QGb(l.Fa.Yi)))return (l.console.trace("Hydration: Not checking root segment"),!0);A=u.get(w.K.id);(0,f.assert)(A,"Hydration: Segment must be present in innermost playgraph");z=A.J;B=!1;if(A.type && -1 < [d.Fd.Nc,d.Fd.padding].indexOf(A.type))B=!0;else {C=u.FF(A.id);C && (C=l.Fa.Kb.get(C)) && C.J !== A.J && (l.console.trace("Hydration: segment evaluated is a content playgraph modification, get viewableId from equivalent segment. " + ("auxiliary viewableId: ").concat(A.J,", ") + ("main content viewableId: ").concat(C.J)),z=C.J);}if(B){if((B=l.YNa(A),C=l.Fa.Kb.fxb({offset:c.I.fa,L:A.id}),g.u && l.console.log("Checking Parent location for adBreak",{L:A.id,startTime:A.cb,$4c:null === B || void 0 === B?void 0:B.id,O4c:null === C || void 0 === C?void 0:C.offset.ba()}),B && C)){z=B.J;D=l.vh.mla(z,C.offset.add(B.lb));}}else (g.u && l.console.log("Checking current location for adbreak",{L:A.id,startTime:A.cb}),D=l.vh.mla(z,A.lb));if(D && !D.zk){g.u && l.console.log("Found adbreak at location",{startTime:A.cb,L:A.id,pu:D.pu,hg:D.hg});B=l.cic(D,A);g.u && l.console.log("Got hydration context",{L:A.id,context:B});if(B.pu)if(D.zR)l.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((A=null === (y=null === x || void 0 === x?void 0:x.Ba) || void 0 === y?void 0:y.duration,l.vd.jqc && A && 5E3 > A))l.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {if(m && 0 === r.length || q === x)(r.push({J:z,Qa:D,k8:B.k8}),q=x);if(B.k8)return (p.push(w),!1);}g.u && l.console.log("Not Blocking branch progression");m=!1;if(B.k8)return (g.u && l.console.log("Hydration: Blocking further branches"),!1);}else g.u && l.console.log("Could not find adbreak for segment",{startTime:A.cb,L:A.id});return !0;});k || (k=0 < p.length);p.forEach(function(w){return h.remove(w);});this.Mn.eWa(r);if(this.config.TCc && h.root){v=u.get(h.root.K.id);(0,f.assert)(v,"root segment must exist in innermost playgraph");(v=this.vh.mla(v.J,v.lb)) && v.zR && (v.zR=!1);}return {fS:k,DC:h};};e.prototype.YNa=function(h){h=this.Fa.Kb.LJ(h.id);return this.Fa.Kb.eK.get(h);};e.prototype.cic=function(h,l){var k,m,p,r;p=this.Fa.en;r=h.RGb;h=h.RGb;(l=this.YNa(l)) && r && (l=this.NNc.get(l.J),(0,f.assert)(l,"AdBreakHydrationPolicy::getHydratableContext: main aseViewable should exist"),l.vc && (null === (m=null === (k=l.U) || void 0 === k?void 0:k.He) || void 0 === m?0:m.Rq) && h && (h=p));return {pu:r,k8:h};};e.prototype.gpc=function(){return !this.Fa.player.Ou && this.Fa.en;};return e;})();b.F_a=t;},31300:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v;Object.defineProperties(b,{__esModule:{value:!0}});b.G_a=b.Pfb=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(91176);f=a(91176);e=a(66164);a(51308);h=a(65161);l=a(6783);k=a(40666);m=a(48170);p=a(69575);r=a(61996);q=a(54366);u=a(81749);b.Pfb=["AD_BREAK_UNAVAILABLE"];v=(function(){function w(x,y){this.J=x;this.Qa=y;this.Fra=this.zaa=!1;this.Fr=-1;this.ji=new c.AbortController();this.Neb=new c.An();}w.isEqual=function(x,y){return y.J === x.J && y.Qa === x.Qa;};w.prototype.Fsc=function(){this.Neb.resolve();};return w;})();t=(function(){function w(x,y,A,z,B,C){var D,F;D=this;this.Yv=x;this.oa=y;this.oS=A;this.config=z;this.console=B;this.items=[];this.ez=new Map();this.JZb=1;this.Z3b=!1;this.events=new n.EventEmitter();C.on("adBreakEvent",function(H){return D.CSa(H);});F=this;this.oa.Tc.Pq(function(){return d.__generator(this,function(H){switch(H.label){case 0:return [4,k.Ud.hua];case 1:return (H.S(),F.Z3b=!0,[2]);}});},"playerStartedHydrator");this.console=(0,p.rf)(e.platform,B,"ADBREAKHYDRATOR");this.dk=new r.Lm({wj:this,source:"AdBreakHydrator",console:this.console});this.oa.zf.od(new q.En(this.dk));}w.prototype.M6=function(x,y){var A,z;return x instanceof u.Wua?("").concat(x.yc,":").concat(null !== (A=x.Ge.fb) && void 0 !== A?A:""):("").concat(y,":").concat(null !== (z=x.fb) && void 0 !== z?z:"");};w.prototype.mba=function(x,y){x=this.M6(x);this.dk.vg({id:x,DYc:y.type});m.u && this.console.log("Setting hydration event",{id:x,event:d.__assign(d.__assign({},y),{fw:void 0})});this.ez.set(x,y);};w.prototype.Nja=function(x,y){x=this.M6(x);this.dk.vg({id:x,reason:y});m.u && this.console.log("Deleting hydration event",{reason:y,id:x});this.ez.delete(x);};w.prototype.u5b=function(){var x;x=this;this.dk.vg({t_c:Array.from(this.ez.values()).map(function(y){return x.M6(y.bS);})});this.console.log("Clearing adBreak hydrator events on seek");this.ez.clear();};w.prototype.MHa=function(x){var y;y=this;this.items=this.items.filter(function(A){var z;return x.length && A.Qa.Ge.fb === x && !A.Fra?(m.u && y.console.log("Cancelling adBreak hydrations for",{J:A.J,yc:A.Qa.yc,fb:x}),null === (z=A.ji) || void 0 === z?void 0:z.abort(),y.mba(A.Qa,{type:"tooLate",O:void 0,Fr:-1,bS:A.Qa}),!1):!0;});};w.prototype.UKa=function(x){var y;y=this;if(!this.ez.size)return x;x.yb=x.yb.map(function(A,z){var B,C,D,F,H,E,G,K,N,I,L;if((z=y.M6(A,z)) && y.ez.has(z)){z=y.ez.get(z);if("tooLate" === (null === z || void 0 === z?void 0:z.type))return d.__assign(d.__assign({},A),{uJ:!0});if("dehydration" === (null === z || void 0 === z?void 0:z.type))return d.__assign(d.__assign({},A),{jc:void 0,uJ:!1,pu:!0});D=z.fw;D=D.vc && !(null === (B=D.U.He) || void 0 === B || !B.Rq);if("adBreakHydrated" === z.type){B=z.yha;F=z.pk;H=z.fb;E=A.Uu;G=A.Eo;K=A.location;N=A.Ua;I=A.nt;L=A.duration;D=!(null === z || void 0 === z?0:z.zk) || D;return d.__assign(d.__assign({},B),{Eo:G,Uu:E,location:K,duration:B.OV?I || L:(null === (C=B.jc) || void 0 === C?0:C.length)?B.jc.reduce(function(O,J){return O.add(g.I.Ca(J.ib - J.cb));},g.I.fa):g.I.fa,nt:void 0 !== I?I:"embedded" !== A.type || B.OV?void 0:L,Ua:N,pk:F,fb:H,uJ:D,pu:D,bJ:null === z || void 0 === z?void 0:z.Fr,qX:!1,source:"hydration",type:B.OV?"embedded":"dynamic"});}if(D)return d.__assign(d.__assign({},A),{uJ:!0,bJ:null === z || void 0 === z?void 0:z.Fr});if("adBreakHydrationSkipped" === z.type)return d.__assign(d.__assign({},A),{uJ:!0,qX:!0,bJ:null === z || void 0 === z?void 0:z.Fr});}return A;});return x;};w.prototype.jIa=function(x){var y;y=this;x.forEach(function(A){A.zk?y.yjb(A):y.Nja(A,"cleanup");});};w.prototype.yjb=function(x){var y;y=this.M6(x);this.ez.has(y) && x.zk?(y=this.ez.get(y),"tooLate" === y.type?this.Nja(x,"dehydration"):y.zk=!0):x.zk && this.ez.set(y,{type:"dehydration",O:void 0,Fr:x.Fr,bS:x});};w.prototype.CSa=function(x){var y,A;y=this;if("adBreakComplete" === x.event){this.QIb=this.oS.Ia.currentTime;A=x.yc;void 0 !== A && this.ez.forEach(function(z){z.bS.yc < A && y.Nja(z.bS,"adBreakComplete");});}};w.prototype.eWa=function(x){d.__awaiter(this,void 0,void 0,function(){var y,A,z,B,C,D;D=this;return d.__generator(this,function(F){switch(F.label){case 0:y=x.map(function(H){return [new v(H.J,H.Qa),H.k8];});A=y.map(function(H){return d.__read(H,1)[0];});z=(0,f.T5b)(this.items,A,v.isEqual);this.items=z.result;z.oaa.forEach(function(H){var E;H.Fra || (null === (E=H.ji) || void 0 === E?void 0:E.abort());});y.filter(function(H){return d.__read(H,2)[1];}).forEach(function(H){var E;E=d.__read(H,1)[0];H=(0,c.oc)(D.items,function(G){return v.isEqual(G,E);});null === H || void 0 === H?void 0:H.Fsc();});m.u && this.console.log("Evaluated schedule",{R_b:z.Egb.length,oaa:z.oaa.length,Vqa:z.Vqa.length,Juc:z.result.length});this.dk.vg({R_b:z.Egb.length,oaa:z.oaa.length,Vqa:z.Vqa.length,Juc:z.result.length});B=this.items.filter(function(H){return !H.zaa;}).map(function(H){return D.Vf(H);});if(!(0,h.gr)(this.oa.Xd.value))return [3,5];C=this.items.map(function(H){return D.Yv.Cr(H.J).fm;});F.label=1;case 1:return (F.qc.push([1,,3,4]),[4,Promise.race(B)]);case 2:return (F.S(),[3,4]);case 3:return (C.forEach(function(H){return H.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(B)];case 6:(F.S(),F.label=7);case 7:return [2];}});});};w.prototype.Vf=function(x){return d.__awaiter(this,void 0,void 0,function(){var y,A,z,B,C,D,F,H,E;F=this;return d.__generator(this,function(G){switch(G.label){case 0:(m.u && this.console.log("Start scheduling for adbreak",{a5c:x.J,wWc:x.Qa.yc}),y=("").concat(x.Qa.yc,":").concat(null !== (H=x.Qa.Ge.fb) && void 0 !== H?H:""),this.dk.vg({id:y}),null === (E=x.ji) || void 0 === E?void 0:E.abort(),A=new c.AbortController(),x.ji=A,z=(0,l.ws)(this.oa.Z,x.J,x.Qa.Ua),B=(0,c.cia)(A.signal),G.label=1);case 1:return (G.qc.push([1,,5,6]),[4,Promise.race([(function(){return d.__awaiter(F,void 0,void 0,function(){return d.__generator(this,function(K){switch(K.label){case 0:return [4,this.USa(A.signal)];case 1:return (K.S(),m.u && this.console.log("Rebuffering detected, expediting hydration"),[2,"rebuffer"]);}});});})(),Promise.all([this.VNc(B),this.ZNc(z,B)]).then(function(){return "gatesPassed";}),B.then(function(){return "cleanup";})])]);case 2:C=G.S();m.u && this.console.log("Schedule completed for reason",C);if(A.aborted)return [3,4];m.u && this.console.log("Making Item Fetch",{xWc:x.Qa.yc,Uu:x.Qa.location.G});x.zaa=!0;return [4,this.TCb(x,C,A.signal)];case 3:(G.S(),G.label=4);case 4:return [3,6];case 5:return (x.ji === A && (D=this.items.indexOf(x),-1 !== D && (m.u && this.console.log(("Removing item ").concat(D,", ").concat(this.items.length - 1," left")),this.items.splice(D,1))),[7]);case 6:return [2];}});});};w.prototype.USa=function(x){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return (0,h.gr)(this.oa.Xd.value)?(m.u && this.console.log("Buffering detected, expediting hydration"),[2]):[2,g.Mt.bOc([this.oa.Xd],function(y){y=d.__read(y,1)[0];return (0,h.gr)(y);},x)];});});};w.prototype.VNc=function(x){var y;y=this;return this.QIb && this.config.ftb?new Promise(function(A){var z,B;z=y.QIb.add(g.I.Ca(y.config.ftb));B=y.oS.uu(k.Ud.Fm(z),A,"hydratorWaitTask");x.then(function(){return B.Ja();});}):Promise.resolve();};w.prototype.ZNc=function(x,y){return d.__awaiter(this,void 0,void 0,function(){var A,z,B;B=this;return d.__generator(this,function(C){switch(C.label){case 0:if(!this.config.xxb)return [2,Promise.resolve()];A=g.I.Ca(this.config.xxb);C.label=1;case 1:return (C.qc.push([1,3,,4]),[4,new Promise(function(D){var F,H;F=B.oa.GB(x,!0);H=B.oa.Tc.uu(k.Ud.Fm(F.ca(A)),D,"waitJitHydrateAdBreak");y.then(function(){return H.Ja();});})]);case 2:return (C.S(),[3,4]);case 3:return (z=C.S(),m.u && this.console.warn("waitJitHydrateAdBreak failed",c.P0.EO(z)),[3,4]);case 4:return [2];}});});};w.prototype.V1b=function(x,y,A){return d.__awaiter(this,void 0,void 0,function(){var z,B,C,D,F,H,E,G;H=this;return d.__generator(this,function(K){switch(K.label){case 0:if(!x.Qs || !this.config.Exc)return [2];z=x.qd.Ym(!0);B=g.I.max(g.I.fa,z.ca(y.Qa.Ua));C=B.gn(g.I.Ca(this.config.brc));D=null !== (G=null === (E=x.U.He) || void 0 === E?void 0:E.Wlb) && void 0 !== G?G:this.config.$qc;F=Math.random() * D;m.u && this.console.log("Checking schedule for live jitter and adbreak hydration",{zta:y.Qa.Ge.fb,N2c:F,KXc:D,lwb:z.ba(),ww:B.ba(),I_c:C});return C?[4,new Promise(function(N){var I;I=H.oS.uu(k.Ud.Kx(g.I.Ca(F)),N,"hydrationLiveJitterTask");A.addEventListener("abort",function(){I.Ja();});})]:[2];case 1:return (K.S(),m.u && this.console.log("Live jitter completed",{zta:y.Qa.Ge.fb}),[2]);}});});};w.prototype.TCb=function(x,y,A){return d.__awaiter(this,void 0,void 0,function(){var z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma,R,M,V,ba;return d.__generator(this,function(ha){switch(ha.label){case 0:(z=x.Qa,B=x.J,C=("").concat(z.yc,":").concat(null !== (aa=z.Ge.fb) && void 0 !== aa?aa:""),this.dk.vg({id:C,reason:y}),D=z.Ge.pk,F=z.Ge.fb,H=null !== F && void 0 !== F?F:D,(0,c.assert)(H,"adBreakToken or adBreakTriggerId must exist if adBreak hydration was queued"),E=this.JZb++,x.Fr=E,G=this.Yv.Cr(B),K=G.fm,ha.label=1);case 1:return (ha.qc.push([1,6,9,10]),[4,G.Tr]);case 2:return (N=ha.S(),N.Qs?[4,Promise.race([this.V1b(N,x,A),x.Neb.promise])]:[3,4]);case 3:(ha.S(),ha.label=4);case 4:return (null === (da=x.ji) || void 0 === da?0:da.signal.aborted)?[2]:[4,this.Yv.YQ({pk:D,fb:F,J:B})];case 5:return (I=ha.S(),x.Fra=!0,A.aborted || (L=I.yha,O=I.fw,m.u && this.console.log("Hydrated response " + ("with ").concat(null === (fa=I.yha.jc) || void 0 === fa?void 0:fa.length," ads")),m.u && this.console.debug("Hydrated complete response ",{response:L}),J={type:"adBreakHydrated",pk:D,fb:F,yha:L,fw:O,bS:x.Qa,Fr:E},this.mba(x.Qa,d.__assign({},J)),this.events.emit("adBreakHydrated",J)),[3,10]);case 6:Q=ha.S();if(A.aborted)return [3,8];P=null === (ma=Q.GI) || void 0 === ma?void 0:ma.context;return [4,G.Tr];case 7:S=ha.S();(0,c.assert)(S,"parentAseViewable must exist");if(P && (Y=null !== (R=P.type) && void 0 !== R?R:P.type,X=null !== (M=P.error) && void 0 !== M?M:P.error,"adBreakHydration" === Y && (T=null !== (ba=null !== (V=X.edgeCode) && void 0 !== V?V:X.code) && void 0 !== ba?ba:X.code,-1 !== b.Pfb.indexOf(T))))return (m.u && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("code: ").concat(T,", ") + ("parentViewableId: ").concat(B,", ") + ("adBreakToken: ").concat(D)),U={type:"adBreakHydrationSkipped",pk:D,fb:F,fw:S,bS:x.Qa,Fr:E},this.mba(x.Qa,U),z.zR=!0,this.events.emit("adBreakHydrationSkipped",U),[2]);Z={type:"adBreakHydrationFailed",pk:D,fb:F,error:Q,fw:S,bS:x.Qa,Fr:E};this.mba(x.Qa,Z);this.events.emit("adBreakHydrationFailed",Z);ha.label=8;case 8:return [3,10];case 9:return (x.Fra=!0,K.release(),this.oa.Taa(),[7]);case 10:return [2];}});});};d.__decorate([(0,r.Za)({methodName:"setHydration"})],w.prototype,"mba",null);d.__decorate([(0,r.Za)({methodName:"deleteHydration"})],w.prototype,"Nja",null);d.__decorate([(0,r.Za)({methodName:"clearHydrations"})],w.prototype,"u5b",null);d.__decorate([(0,r.Za)({methodName:"cancelAndSkipHydration",Qm:!0,Re:!0})],w.prototype,"MHa",null);d.__decorate([(0,r.Za)({methodName:"dehydrateAdBreak",Re:!0})],w.prototype,"yjb",null);d.__decorate([(0,r.Za)({methodName:"scheduleHydration",Re:!0})],w.prototype,"eWa",null);d.__decorate([(0,r.Za)({methodName:"schedule",return:!0})],w.prototype,"Vf",null);d.__decorate([(0,r.Za)({methodName:"queueAdBreakHydration"})],w.prototype,"TCb",null);return w;})();b.G_a=t;},71398:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.H_a=void 0;d=a(22970);n=a(91176);c=a(66164);g=a(31413);t=(function(){function f(e,h,l,k,m,p,r){this.O=e;this.oa=h;this.Tc=l;this.events=k;this.Qa=m;this.pn=p;this.console=r;this.WA=0;m.GU && c.platform.ping && c.platform.ping(m.GU);!1;}Object.defineProperties(f.prototype,{GG:{get:function(){return this.WA;},enumerable:!1,configurable:!0}});f.prototype.ESa=function(e,h,l,k,m){this.bu && (this.bu.Ja(),this.bu=void 0);this.bu=new g.kbb(this.oa,this.Tc,this.events,this.Qa,e,h,l,k,m,this.R4.bind(this),this.console);};f.prototype.ogc=function(){var e;e=this.O;(0,n.assert)(e.qd,"livePositionService must be defined");return e.qd.vkb(this.Qa.Ua).G;};f.prototype.rMa=function(e){var h,l;l=this.ogc();return {Ah:e,au:null !== (h=this.q6) && void 0 !== h?h:this.Qa.Eo,yc:this.Qa.yc,fb:this.Qa.Ge.fb,UFa:l,TFa:this.Xpc,eLb:this.O.J};};f.prototype.Gpa=function(e){var h,l,k,m;this.bu && (this.bu.Ja(),this.bu=void 0);!1;try{h=this.R4(e);l={Ah:e,au:this.Qa.Eo,yc:this.Qa.yc,b4:void 0 !== this.q6?"embedded":this.Qa.type,VE:h};if(this.O.vc || "embedded" === this.Qa.type){if(this.oa.config.gO){k=this.rMa(e);m=d.__assign(d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},this.Qa.oN.complete || ({event:"adBreakComplete"})),l),k),{J$:this.Qa.duration.G});!1;this.events.emit(m.type,m);}}else (m=d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},this.Qa.oN.complete),l),{eLb:this.O.J}),!1,this.events.emit(m.type,m));this.Qa.ZW=!0;}catch(p){this.console.error("Impression error event",p);this.WA++;}};f.prototype.Lzb=function(e,h){var l,k,m;!1;this.Xpc=e.offset.G;this.Avb=h;if((this.O.Qs || "embedded" === this.Qa.type) && this.oa.config.gO)try{l=this.Qa.oN.start || ({event:"adBreakStart"});k=this.rMa(e);m=d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},l),k),{J$:e.offset.G,b4:void 0 !== this.q6?"embedded":this.Qa.type,VE:k.au});!1;this.events.emit(m.type,m);this.K8=k.au;}catch(p){this.console.error("Impression error event",p);this.WA++;}};f.prototype.Mzb=function(e,h){var l,k,m,p,r,q;!1;if((this.O.Qs || "embedded" === this.Qa.type) && this.oa.config.gO)try{k=h || this.oa.player.Pd;m=this.Avb?k.ca(this.Avb).G:0;p=this.Qa.oN.stop || ({event:"adBreakStop"});r=this.K8?this.K8 + m:this.R4(e);q=d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},p),this.rMa(e)),{J$:m,b4:void 0 !== this.q6?"embedded":this.Qa.type,VE:r});null === (l=this.bu) || void 0 === l?void 0:l.Ja();!1;this.events.emit(q.type,q);}catch(u){this.console.error("Impression error event",u);this.WA++;}return r;};f.prototype.DSa=function(e,h){var l;!1;void 0 !== this.q6?!1:(this.K8=this.q6=null !== (l=this.Mzb(e)) && void 0 !== l?l:0,this.Lzb(e,h));};f.prototype.Ja=function(){var e;null === (e=this.bu) || void 0 === e?void 0:e.Ja();};f.prototype.kp=function(){var e;return {ad:null === (e=this.bu) || void 0 === e?void 0:e.kp(),errors:this.WA};};f.prototype.R4=function(e){var h;h=this.pn.EB(e);if(!h){!1;if(this.K8)return (!1,this.K8 + this.Qa.duration.G);e=this.oa.Hw(e).Ua.ca(this.Qa.Ua);e=this.Qa.location.add(e);!1;return e.G;}return this.Qa.location.add(h.progress.Rfb).G;};return f;})();b.H_a=t;},40345:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q,u;function d(v,w,x){return v && v.Nfc === w && v.to.L === x.L && v.to.offset.G === x.offset.G;}function n(v){return null === v || void 0 === v?void 0:v.yb.map(function(w){var x,y;y=(w.jc || []).map(function(A){return ("").concat(A.id);}).join(",");return ("[").concat(null !== (x=w.fb) && void 0 !== x?x:"",":").concat(w.source,":[").concat(y,"]");}).join(",");}Object.defineProperties(b,{__esModule:{value:!0}});b.I_a=void 0;c=a(22970);g=a(90745);f=a(79048);e=a(91176);h=a(66164);l=a(48170);k=a(52571);m=a(61996);p=a(54366);r=a(94328);q=a(45991);u=a(8707);t=(function(){function v(w,x,y,A,z,B,C){var D;D=this;this.config=w;this.console=x;this.Fa=y;this.Rd=A;this.bx=z;this.Jub=B;this.XC=C;this.du={};this.Rha=this.Wga=!1;this.Vdb=new WeakMap();this.events=new g.EventEmitter();this.console=(0,e.rf)(h.platform,this.console,"ADCOMPOSER");z.events.on("adsUpdated",function(F){return D.qtc(F.O);});this.dk=new m.Lm({wj:this,source:"ad-composer",Bg:10,console:x});this.Fa.zf.od(new p.En(this.dk));this.Fa.fI.events.on("onDeciding",function(F){l.u && D.console.trace("Handling branch decision event",{id:F.ea.id});(F=c.__read(D.Fa.Ta.Zq(F.ea.id).filter(function(H){return H.dm;}),1)[0]) && D.jZ(F.O);});this.Fa.events.on("branchEnqueued",function(F){var H,E;l.u && D.console.trace("Handling branch enqueued event",{id:F.Ba.K.id});H=D.pn.MO(F.Ba.K.id);if(null === H || void 0 === H?0:H.fb)D.Mn.MHa(H.fb);else if(void 0 !== (null === H || void 0 === H?void 0:H.yc) && F.Ba.O.vc){E=void 0;if(F=D.vh.dw[F.Ba.O.J])(E=F[H.yc],E.fb && D.Mn.MHa(E.fb));l.u && D.console.log("Handled branch enqueued event for embedded ad break",{index:H.yc,zta:null === E || void 0 === E?void 0:E.fb});}});this.Fa.fI.F_b(function(F,H){var E;E=F.Ba;if(D.Fa.Ta.oma(E))return H(F);l.u && D.console.trace("Disallowing tracking due to no children",{K:E.K.id});return {result:!1};});this.Fa.events.on("segmentNormalized",function(F){var H;H=D.Fa.Kb.ixb(F.segmentId);l.u && D.console.trace("Handling segment normalized event",{id:F.segmentId},("mapped to ").concat(H));H && D.Swc(H,F);});}Object.defineProperties(v.prototype,{jqc:{get:function(){return this.Wga;},enumerable:!1,configurable:!0}});v.prototype.qtc=function(w){l.u && this.console.trace("Media events updated for viewable");this.jZ(w);};v.prototype.jZ=function(w,x){void 0 === x && (x=!1);(this.E3(w) || x) && this.events.emit("adsUpdated",{type:"adsUpdated"});};v.prototype.E3=function(w){var x,y,A,z,B;y=this.ZDc(w);A=y.Qnb;z=y.du;B=(0,u.vU)(A,z);y=B.ru;B=B.reason;if(y){if((l.u && this.console.trace("Updating metadata",{O:w.R,reason:B,Yfb:n(z)}),this.dk.vg({c:y,ab:null === z || void 0 === z?void 0:z.yb.length}),null === z || void 0 === z?0:z.yb))(this.vh.NWa(w.R,z.yb),this.pU.sGb(),l.u && this.console.trace("Received ad metadata for",{O:w.R,Yfb:n(z)}));}else if(z && A && (B=null === (x=this.Vdb.get(A)) || void 0 === x?void 0:x.map(function(C){return C.xw || C.yI;}),w=this.Eib(w.J,z,w).map(function(C){return C.xw || C.yI;}),void 0 !== B && (x=(0,e.mhb)(B,w,function(C,D){var F,H;F=Array.isArray(C);H=Array.isArray(D);return F && H?0 === (0,e.mhb)(C,D).length:F || H?!1:C === D;}),l.u && this.console.trace("Dropped ads diff",{Huc:w,U1c:B,KE:x}),0 !== x.length)))return (l.u && this.console.trace("Dropped ads changed",{Qnb:A,Huc:w}),!0);return y;};v.prototype.ZDc=function(w){var x,y;x=this.pgc(w);y=this.du[w.R];this.du[w.R]=x;return {Qnb:y,du:x};};Object.defineProperties(v.prototype,{Vma:{get:function(){return this.Fa.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{yb:{get:function(){return this.vh.dw;},enumerable:!1,configurable:!0}});v.prototype.Sb=function(w,x,y){var A;A=this;this.vh=w;this.pn=x;this.Mn=y;this.pU=new q.T_a(this.vh,this.console,this.Fa,this.config,this.XC);this.Mn.events.on("adBreakHydrationSkipped",function(z){return A.jZ(z.fw);});this.Mn.events.on("adBreakHydrationFailed",function(z){A.jZ(z.fw);});this.Mn.events.on("adBreakHydrated",function(z){return A.E3(z.fw);});this.Fa.events.on("branchDestroyed",function(z){return A.dwc(z);});};v.prototype.dwc=function(w){var x,y,A,z,D;if("pruned" === w.reason && (w=this.pn.cMa(w.segmentId)) && w.Sg.zk){l.u && this.console.log("cleaning up ad metadata for adinfo",{index:null === w || void 0 === w?void 0:w.Sg.yc,zta:null === w || void 0 === w?void 0:w.Sg.fb});y=w.Sg;A=w.kd;z=this.vh.dw[A];w=[];try{for(var B=c.__values(z),C=B.next();!C.done;C=B.next()){D=C.value;if(D.yc < y.yc)D.hg && (w.push(D),D.bmb());else break;}}catch(H){var F;F={error:H};}finally{try{C && !C.done && (x=B.return) && x.call(B);}finally{if(F)throw F.error;}}w.length && (F=this.XC.get(A),this.Mn.jIa(w),F=this.bx.tMa(F),null === F || void 0 === F?void 0:F.jIa(w));}};v.prototype.mF=function(){var w;w=this;return !!(0,e.oc)(Object.keys(this.yb),function(x){return 0 < w.yb[x].length;});};v.prototype.wY=function(w,x){var y,A,z,B,C;y=this.Rd.Uj;(0,k.assert)(y,"Could not get graph location service");A=this.Rd.Z.$[w.L].J;z=this.Fa.Gw().filter(function(D){return D.J === A;})[0];if(null === z || void 0 === z?0:z.vc){B=this.dFb(z,w);!(0,r.gOa)(w,B) && x && (x=this.Rd.Hw(B),(0,k.assert)(x,"Could not get initial content position from seek position"),(0,k.assert)(x.J === z.J,"Initial content position should be in the same viewable"),x=x.Ua);w=B;}if(0 < this.vh.BZa || (null === z || void 0 === z?0:z.vc)){C=this.HE(this.Rd.Kb,z);y=y.iS(C);this.vh.reset();}z=null === C || void 0 === C?void 0:C.Z;B=this.pU.fhb(w,y,C);y=B.Yi;w=B.QE;this.Pvb=B.fUa;l.u && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(y)));z=(z || this.Fa.Z).$[y.L];this.Wga=!!z.type && -1 < [f.Fd.Nc,f.Fd.padding].indexOf(z.type);return {Yi:y,Ai:x,QE:w,fpa:C};};v.prototype.TF=function(w,x,y){var A,z;A=y || ({});z=A.Yi;A=A.Ai;if(!x)return {vU:!1,Bca:z,CZa:A};this.bx.TF(w);w.vc && z && (z=this.dFb(w,z),!(0,r.gOa)(z,y.Yi) && A && (x=this.Rd.Hw(z),(0,k.assert)(x,"Could not get initial content position from seek position"),(0,k.assert)(x.J === w.J,"Initial content position should be in the same viewable"),A=x.Ua));if((x=this.E3(w)) && z && this.Isb(z)){if(this.QGb(z,w))return c.__assign({vU:x,CZa:A},this.qKb(z,w,"viewableReceived"));l.u && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(z,",\n                        didAppendData: ").concat(this.Fa.R5(),",\n                        enablePrerollForInitialSeek ").concat(this.Fa.config.XV));}return {vU:x,Bca:z,CZa:A};};v.prototype.dFb=function(w,x){var y,A,z,B;y=this.Rd.Kb.get(x.L);if((null === y || void 0 === y?void 0:y.J) === w.J){A=w.Ym();z=A.ca(y.lb);(0,k.assert)(0 <= z.G,"Seek segment should not begin after live edge");w=w.qd.Fka;y=(null === w || void 0 === w?void 0:w.ca(y.lb)) || e.I.zg;B=e.I.min(x.offset,z,y);l.u && this.console.trace(("ads::sanitizeLiveSeekPosition: ").concat(JSON.stringify(x),", ") + ("live edge target ").concat(A.ba(),", ") + ("live edge offset: ").concat(z.ba(),", ") + ("event end ").concat(null === w || void 0 === w?void 0:w.ba(),", event end offset: ").concat(y.ba()) + (" -> adjusted offset ").concat(B.ba()));return {L:x.L,offset:B};}return x;};v.prototype.Jzb=function(w,x){var y,A;this.E3(w);y=this.du[w.R];(0,k.assert)(y,("adMetadata for viewable ").concat(w.J," should exist if an adBreak hydration was requested"));l.u && this.console.trace("ads::onAdBreakHydrated: Resetting branch decisions");A=this.Fa.player;A.em && this.Fa.$n && this.Fa.fI.oca(A.em,A.Pd,!0);this.pU.sGb();l.u && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{O:w.R,Yfb:n(y)});if(x)return this.qKb(x,w,"adBreakHydration");};v.prototype.qKb=function(w,x,y){var A,z,B,C;l.u && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(w)));A=this.Rd.Uj;(0,k.assert)(A,"Could not get graph location service");x=this.HE(this.Rd.Kb,x);A=A.iS(x);z=x.Z;B=this.pU.fhb(w,A,x);C=B.Yi;B=B.QE;this.Wga=!1;(z=z.$[C.L]) || (z=this.Fa.Z.$[C.L]);this.Wga=!!z.type && -1 < [f.Fd.Nc,f.Fd.padding].indexOf(z.type);A=null === A || void 0 === A?void 0:A.IG(C);l.u && this.console.trace("ads::updatePendingSeekPosition: should consider preroll on seek",{a2c:w,Bca:A,QE:B,R5:this.Fa.R5(),XV:this.Fa.config.XV,reason:y});return {Bca:A,QE:B,fpa:x};};v.prototype.Eib=function(w,x,y){var A,z;A=this;z=x.yb.map(function(B,C){return A.pU.QI(A.yb[w][C],C,Number(w),A.Jub(),y);});l.u && this.console.debug("Calculated dropped ads",{context:{seeking:this.Jub()},result:z});this.Vdb.set(x,z);return z;};v.prototype.HE=function(w,x){var y,A,z,B;y=this;A=w;z=w.Z;B=Object.keys(z.$).map(function(C){return ("").concat(z.$[C].J);});Object.keys(this.du).forEach(function(C){var D,F,H;if(-1 !== B.indexOf(C)){D=parseInt(C);F=y.du[C];if(F){H=y.XC.get(D);(0,k.assert)(H,"AdComposer::createInnerWorkingPlaygraph: viewable should exist");H=y.Eib(D,F,x);y.dk.vg({droppedAds:H.map(function(E,G){return {Jca:E,KOa:G};}).slice(-5),viewableId:C});C=H.map(function(E){return E.xw || E.yI;});F.yb.forEach(function(E){var G;if("dynamic" === E.type){G=y.vh.mla(D,E.Ua);E.Q1c=(null === G || void 0 === G?void 0:G.duration) || e.I.fa;}});H=new Set();F=(0,f.q8b)(D,F.yb,H,C,y.config.dqa,!1);C=f.OD.create(F);C=f.OD.hn(w,C);l.u && y.console.trace("Creating new ads playgraph",{RVc:F,E1c:C.J9.Z});A=C.J9;}}});A.i4(this.Fa.Kb);return A;};v.prototype.Isb=function(w){return !!this.du[this.Rd.Z.$[w.L].J];};v.prototype.pgc=function(w){var x,y,A,z;x=this;y=this.bx.cF(w);if(w.He){z=w.He;z.yb.length && (A=y?this.Btc(z,y,w):{yb:c.__spreadArray([],c.__read(z.yb),!1)});}!A && y && (A={yb:y});A && (A=this.Mn.UKa(A),A=this.YFa.UKa(w,A),A.yb.forEach(function(B){var C,D;"dynamic" === B.type && w.Qs && B.jc && (null === (C=B.nt) || void 0 === C?0:C.ca(B.duration).greaterThan(e.I.Ca(x.config.Ssc))) && (C=B.Ua.add(B.duration),C=(null === (D=x.Fa.f8.Hu({Ua:C,J:w.J},{Ogb:!0})) || void 0 === D?void 0:D.sa) || C,B.jc.push({id:w.J,cb:C.G,ib:B.Ua.add(B.nt).G,iX:!1,aB:!0}),B.duration=B.nt,l.u && x.console.trace("ads::getAdMetadata: adding additional embedded ad",{fb:B.fb,J:w.J,jc:B.jc.length}));}));return A;};v.prototype.Btc=function(w,x,y){var A,z,B,C,D,F;if(w.JEb)return {yb:x};B={};w.yb.forEach(function(H){B[H.location.G]=H;});C={};x.forEach(function(H){C[H.location.G]=H;});l.u && this.console.trace("ads::mergeReplacedAds viewableRecords",{f5c:w.yb.map(function(H){return H.location.G;}),h1c:x.map(function(H){return H.location.G;}),j3c:null === (z=null === (A=y.bi.model.rC) || void 0 === A?void 0:A.Ua) || void 0 === z?void 0:z.ba()});D=(0,e.phb)(Object.keys(B),Object.keys(C));F=[];B["0"] && -1 === D.indexOf("0") && F.push(B["0"]);D.forEach(function(H){var E;E=C[H];H=c.__assign(c.__assign({},B[H]),{nt:E.duration,location:E.location,Ua:E.Ua,Uu:E.Uu,Eo:E.Eo,pu:!0});F.push(H);});this.Rha || (w=Object.keys(B).filter(function(H){return 0 !== Number(H) && -1 === D.indexOf(H);}).map(function(H){return Number(H);}),x=Object.keys(C).filter(function(H){return -1 === D.indexOf(H);}).map(function(H){return Number(H);}),(w.length || x.length) && this.uDc(w,x),this.Rha=!0);return {yb:F};};v.prototype.rKa=function(w){var x,y,A;x=this;l.u && this.console.log("ads::dropErroredAd",{PZb:w});y=Array.from(this.XC.keys()).filter(function(z){var B;return null === (B=x.vh.dw[z]) || void 0 === B?void 0:B.some(function(C){var D;return null === (D=C.jc) || void 0 === D?void 0:D.some(function(F){return F.id === w;});});});this.vh.rKa(w);y.length && this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:w});y.map(function(z){z=x.XC.get(Number(z));A || (A=z);z && x.jZ(z);});A && this.jZ(A,!0);l.u && this.console.log("ads::dropErroredAd",{PZb:w,y_c:y,YZc:!!A});};v.prototype.uDc=function(w,x){this.Rha || (this.events.emit("advertsMismatch",{type:"advertsMismatch",manifestUnmatchedAdBreakLocations:w,mediaEventsUnmatchedAdBreakLocations:x,sev:w.length?"warn":"info"}),this.Rha=!0);};v.prototype.pXa=function(w,x,y){var A;return this.pU.pXa(w,x,y,null === (A=this.Vma) || void 0 === A?void 0:A.ff);};v.prototype.QGb=function(w,x){var y,A,z,B,C,D;z=this.Fa.config.XV;B=w.L;C=this.Fa.Z.$[B] || this.Rd.Z.$[B];D=e.I.fa;C?(x=x || this.Fa.Gw().filter(function(F){return F.J === C.J;})[0],D=(null === x || void 0 === x?0:x.vc) && (null === (y=x.Si) || void 0 === y?0:y.startTime)?x.qd.ykb(e.I.fa):e.I.fa,l.u && this.console.warn(("ads::shouldConsiderPrerollOnSeek Inferring offset ").concat(D.G," as origin"))):l.u && this.console.warn("ads::shouldConsiderPrerollOnSeek: segment not found",{L:B});y=w.offset.G === D.G;x=this.Fa.R5();return y || (x?d(this.Pvb,null === (A=this.Fa.player.SI()) || void 0 === A?void 0:A.K.id,w)?this.Pvb.Qlc:!0:z);};v.prototype.dMa=function(w,x){var y,B;(0,k.assert)(void 0 !== x.yc || void 0 !== x.fb,"adInfo must have adBreakIndex or adBreakTriggerId");w=this.vh.dw[w];l.u && this.console.trace("Searching adBreak by index",{yc:x.yc});if(void 0 !== x.yc && w)return w[x.yc];l.u && this.console.trace("Searching adBreak by triggerId",{fb:x.fb,yb:null === w || void 0 === w?void 0:w.map(function(D){return D.fb;})});if(void 0 !== x.fb && w)try{for(var A=c.__values(w),z=A.next();!z.done;z=A.next()){B=z.value;if(B.fb === x.fb)return B;}}catch(D){var C;C={error:D};}finally{try{z && !z.done && (y=A.return) && y.call(A);}finally{if(C)throw C.error;}}l.u && this.console.trace("Could not find ad-break");};v.prototype.Swc=function(w,x){var y,A,z;A=this.pn.Cpb({L:w,offset:e.I.fa});if(A && A.Nc){w=A.Qa;z=A.Nc;A=A.oU;this.console.trace(("ads::onSegmentNormalized ").concat(x.segmentId,": ").concat(x.normalizedStart.ba()," - ").concat(x.normalizedEnd.ba()));z.normalize(x.normalizedStart,x.normalizedEnd);A === (null === (y=w.jc) || void 0 === y?NaN:y.length) - 1 && this.events.emit("adBreakNormalized",{type:"adBreakNormalized",Qa:w});}};c.__decorate([(0,m.Za)({methodName:"_refreshAds",Re:!0})],v.prototype,"E3",null);c.__decorate([(0,m.Za)({methodName:"onAdBreakHydrated"})],v.prototype,"Jzb",null);c.__decorate([(0,m.Za)({methodName:"createInnerWorkingPlaygraph"})],v.prototype,"HE",null);return v;})();b.I_a=t;},13303:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.J_a=void 0;d=a(22970);n=a(91176);c=a(48170);t=(function(){function g(f,e,h){this.Gq=f;this.vd=e;this.console=h;this.kVa=[];this.vd.YFa=this;}g.prototype.lOa=function(f){var e,h,m;if(this.Gq.player.Ta.some(function(r){return r.K.J === f && r.HGa;}))return !1;if(this.kVa.some(function(r){return r.agb === f;}))return !0;try{for(var l=d.__values(Object.keys(this.vd.du)),k=l.next();!k.done;k=l.next()){m=this.vd.du[k.value];m && (h=m.yb.some(function(r){var q;return null === (q=r.jc) || void 0 === q?void 0:q.some(function(u){return u.id === f;});})) && this.kVa.push({agb:f});}}catch(r){var p;p={error:r};}finally{try{k && !k.done && (e=l.return) && e.call(l);}finally{if(p)throw p.error;}}return h?(this.Gq.Ta.filter(function(r){return !r.Rf && r.K.J !== f;}).forEach(function(r){return r.Nsb=!0;}),this.vd.rKa(f),!0):!1;};g.prototype.UKa=function(f,e){var h;h=this;if(!f.vc)return e;e.yb=e.yb.map(function(l,k){var m,p,r,q,u;if(!l.jc)return l;p=f.vc && (null === (m=f.He) || void 0 === m?void 0:m.Rq);r=!1;q=[];u=0;l.jc.forEach(function(v){p && r || h.kVa.some(function(w){return w.agb === v.id;})?(r=!0,u++):q.push(v);});if(r)c.u && h.console.log("Dropping ads due to error",{yc:k,MVc:l.fb,eYc:u});else return l;k=q.reduce(function(v,w){return v.add(n.I.Ca(w.ib - w.cb));},n.I.fa);return d.__assign(d.__assign({},l),{jc:q,nZ:void 0,duration:k});});return e;};return g;})();b.J_a=t;},53787:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.K_a=void 0;d=a(90745);n=a(91967);t=(function(){function c(g,f,e){var h;h=this;this.vd=f;this.kj=new d.lf();this.im="adHydratorAudit";this.zc="adHydratorAuditor";this.enabled=!0;this.kj.on(g.events,"adBreakPresenting",function(l){h.state.Vfb.push(l.presentingInfo.Qa.Sg.Fr);});this.kj.on(e.events,"adBreakHydrated",function(){h.state.Tfb++;});this.kj.on(e.events,"adBreakHydrationFailed",function(){h.state.Sfb++;});this.kj.on(e.events,"adBreakHydrationSkipped",function(){h.state.Wfb++;});this.state={Tfb:0,Sfb:0,Wfb:0,Vfb:[]};}c.prototype.ri=function(g){g=g.Ri;if(this.vd.mF() && g === n.Mc.wk)return {adBreaksPresentedSequence:this.state.Vfb,adBreaksHydratedCount:this.state.Tfb,adBreaksFailedHydratedCount:this.state.Sfb,adBreaksSkippedCount:this.state.Wfb};};c.prototype.Ja=function(){this.kj.clear();};return c;})();b.K_a=t;},60575:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.L_a=void 0;d=a(90745);n=a(91967);t=(function(){function c(g,f,e){var l;function h(k){var m,p;(m=l.state.ZFa)[p=k.event] || (m[p]=0);l.state.ZFa[k.event]++;}l=this;this.vd=f;this.kP=e;this.kj=new d.lf();this.im="adImpressionAudit";this.zc="adImpressionAuditor";this.enabled=!0;this.kj.on(g.events,"adPresenting",function(){l.state.Kgb++;});this.kj.on(g.events,"adBreakPresenting",function(k){var m,p,r,q;l.state.Ufb++;k=k.presentingInfo;k.Qa.Sg.empty || l.state.Xfb++;k.Qa.oX || l.state.Ktc++;(m=l.state.WFa)[p=k.Qa.type] || (m[p]=0);l.state.WFa[k.Qa.type]++;(r=l.state.VFa)[q=k.Qa.Sg.source] || (r[q]=0);l.state.VFa[k.Qa.Sg.source]++;});this.kj.on(e.events,"adEvent",h);this.kj.on(e.events,"adBreakEvent",h);this.state={Ufb:0,Xfb:0,Ktc:0,ZFa:{},Kgb:0,WFa:{},VFa:{}};}c.prototype.ri=function(g){g=g.Ri;if(this.vd.mF() && g === n.Mc.wk)return {presented:{breaks:this.state.Ufb,breaksWithAds:this.state.Xfb,ads:this.state.Kgb,adBreaksPresentedByType:this.state.WFa,adBreaksPresentedBySource:this.state.VFa},events:this.state.ZFa,logger:this.kP.kp()};};c.prototype.Ja=function(){this.kj.clear();};return c;})();b.L_a=t;},28143:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.N_a=void 0;d=a(90745);n=a(66164);c=a(69575);g=a(52571);f=a(48170);e=a(67288);h=a(71398);t=(function(){function l(k,m,p,r,q,u){this.Yg=k;this.ft=m;this.pn=p;this.Fa=r;this.Tc=q;this.GG=0;this.events=new d.EventEmitter();this.console=(0,c.rf)(n.platform,u,"IMPRESSION");m.events.addListener("adBreakPresenting",this.Kzb.bind(this));m.events.addListener("adBreakComplete",this.Gpa.bind(this));m.events.addListener("adBreakFallback",this.DSa.bind(this));m.events.addListener("adPresenting",this.ESa.bind(this));this.Fa.events.addListener("seeking",this.Qpa.bind(this));this.Fa.events.addListener("cancelStreaming",this.Pzb.bind(this));}Object.defineProperties(l.prototype,{Z7:{get:function(){return !!this.ki;},enumerable:!1,configurable:!0}});l.prototype.Fib=function(){var k,m;k=this.Fa.player.yX;if(!k && this.Fa.$n && this.Fa.player.Jd){m=this.Fa.player;k || (k={Ai:m.Pd,position:m.xh});}return k;};l.prototype.Pzb=function(){var k;if(this.ki){k=this.Fib();k && this.ki.Mzb(k.position,k.Ai);this.ki=void 0;}};l.prototype.Kzb=function(k){var m,p,r;f.u && this.console.trace("onAdBreakPresenting:",k);m="adBreakPresenting" === k.type || (0,e.s8)(k)?k.presentingInfo.Qa.Sg:k.mka;(0,g.assert)(m,"Ad break must be defined for ad break presenting");p="adBreakPresenting" === k.type || (0,e.s8)(k)?k.presentingInfo.position:k.position;this.ki && (this.ki.Gpa(p),"dynamic" === this.ki.Qa.type && (f.u && this.console.warn("Unexpected back-to-back dynamic ad breaks"),this.GG+=this.ki.GG,this.ki=void 0));r=this.ft.pn.ZNa(p);(0,g.assert)(r,"uxViewableId must be defined for ad break presenting");r=this.Yg.get(r);(0,g.assert)(r,"uxViewable must be defined for ad break presenting");this.ki=new h.H_a(r,this.Fa,this.Tc,this.events,m,this.pn,this.console);this.ki.Lzb(p,k.Ai);};l.prototype.Gpa=function(k){var m,p;p=(0,e.s8)(k)?k.presentingInfo.Qa.Sg:(0,e.pub)(k)?k.mka:null === (m=this.ki) || void 0 === m?void 0:m.Qa;f.u && this.console.trace(("adBreakComplete event, ").concat(this.ki?"have":"no"," impression logger, ") + (p?("ad break ").concat(p.yc," is ") + ("").concat(p.jc.length?"not ":"","empty, ") + ("has ").concat(p.zk?"":"not ","played"):"no ad break"));if(((0,e.s8)(k) || (0,e.pub)(k)) && 0 === p.jc.length)((0,g.assert)(!this.ki,"Received ad break complete for empty ad break during ad break"),p.QGc(),this.Kzb(k));else if(!this.ki)return;k=(0,e.s8)(k)?k.presentingInfo.position:k.position;this.ki.Gpa(k);this.GG+=this.ki.GG;this.ki=void 0;};l.prototype.DSa=function(k){var m;if(this.ki){m=this.Fib();m?this.ki.DSa(m.position,k.Ai):f.u && this.console.warn("Recevied ad break fallback but unable to calculate lastPosition",k);}};l.prototype.ESa=function(k){var m,p,r,q,u;(0,g.assert)(this.ki,"Expect to be in ad break when ad presenting is received");(0,g.assert)(this.ki.Qa === (null === (m=k.presentingInfo) || void 0 === m?void 0:m.Qa.Sg),"Expect to be in correct ad break when ad presenting is received");m=k.presentingInfo.position;r=this.Fa.zW(m.L)[0];q=k.Ai;u=q.ca(m.offset);this.ki.ESa(null === (p=k.presentingInfo.RH) || void 0 === p?void 0:p.Nc,null === r || void 0 === r?void 0:r.O,m,q,u);};l.prototype.Qpa=function(k){!k.duplicate && this.ki && "embedded" === this.ki.Qa.type && this.Pzb();};l.prototype.kp=function(){var k;return {"break":null === (k=this.ki) || void 0 === k?void 0:k.kp(),errors:this.GG};};return l;})();b.N_a=t;},13060:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.O_a=void 0;d=a(90745);n=a(91176);c=a(66164);g=a(41456);f=a(54366);e=a(75462);h=a(40345);l=a(14103);k=a(67288);m=a(28143);p=a(13303);r=a(60575);q=a(31300);u=a(53787);v=a(14430);w=a(54953);t=(function(){function x(y,A,z,B,C,D,F){this.zha=D;this.Yg=new Map();this.lJ=new d.lf();y=(0,n.rf)(c.platform,y,"ADS");this.bx=new g.z7a(B,this.Yg,A,y);this.vd=new h.I_a(A,y,z,B,this.bx,F,this.Yg);this.pn=new l.U_a(y,z,B,this.vd);this.ft=new k.k$a(this,z,y,this.Yg);this.kP=new m.N_a(this.Yg,this.ft,this.pn,z,z.Tc,y);this.Mn=new q.G_a(C,B,B.Ej,A,y,this.kP.events);z.zf.od(new r.L_a(this.ft,this.vd,this.kP));z.zf.od(new u.K_a(this.ft,this.vd,this.Mn));z.zf.od(new f.En(this.bx.dk));this.vh=new w.V_a(A,this.kP.events);new v.D_a(A,y,z,this.vd,this.Mn,this.vh,this.Yg);z.d9.od(new e.o6a(this.Yg,this.kP.events,this.vh,y));this.vd.Sb(this.vh,this.pn,this.Mn);this.YFa=new p.J_a(z,this.vd,y);}x.prototype.TF=function(y){var A;A=this;if(this.Yg.get(y.J) === y)return !1;this.lJ.addListener(y.events,"destructed",function(){A.Yg.delete(y.J);});this.Yg.set(y.J,y);return !0;};x.prototype.sk=function(y){return this.ft.sk(y);};return x;})();b.O_a=t;},86681:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.l5=void 0;d=a(22970);n=a(40981);c=a(17774);g=a(75393);f=a(23855);b.l5=function(e,h,l){var k,m,p,r;e=d.__assign({pxa:n.oxa},e).pxa;k=h.O$[5];m=(0,c.bAb)(function(){return r;});k.igb(m.Cr);p={Uj:void 0,Rd:void 0,Fa:void 0,Xvb:"ads"};p.Uj=new e(function(){return p.Rd.Kb;},function(){return p.Fa;},h.O$[2],"Ads:");r=new f.R_a(p,m.gIb,g.kC.XVa.BZ,k);e=h.FGa;h.FGa=d.__spreadArray(d.__spreadArray([],d.__read(e),!1),[r],!1);p.Fa=l(h);p.Rd=g.kC.KUa(p.Fa,r,function(){return p;},e);r.Sb();return p.Rd;};},23855:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});b.R_a=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(48170);f=a(35331);e=a(61996);h=a(52571);t=a(14739);l=a(40666);k=a(13060);a=(function(m){function p(r,q,u,v){r=m.call(this,r,q,u,"AdsPlaygraphHost") || this;r.Yv=v;r.PD=void 0;r.Bwb=new c.z2();r.zha=new n.EventEmitter();return r;}d.__extends(p,m);Object.defineProperties(p.prototype,{Rd:{get:function(){return this.Hp.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Gq:{get:function(){var r;r=this.HE(this.Rd.Kb).Z;if(r !== this.Rd.Z)return r;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Oc:{get:function(){return this.PD;},enumerable:!1,configurable:!0}});p.prototype.Sb=function(){var r;r=this;m.prototype.Sb.call(this);this.Hp.Fa.od(new f.S_a(this.Hp));this.PD=new k.O_a(this.nb,this.xb,this.Fa,this.Rd,this.Yv,this.zha,function(){return !!r.eJ;});this.Hp.Fa.$Fc(this.PD);this.Oc.Mn.events.on("adBreakHydrated",function(q){return r.vCb(q);});this.Oc.Mn.events.on("adBreakHydrationFailed",function(q){var u,v,w;(null === (u=q.fw) || void 0 === u?0:u.vc) && (null === (w=null === (v=q.fw) || void 0 === v?void 0:v.He) || void 0 === w?0:w.Rq) || r.Hf({oi:q.error.message,RTa:q.error});});this.PD.vd.events.on("adsUpdated",function(){g.u && r.nb.log("AdPlaygraphHost::adsUpdated");r.rra();});this.Fa.events.on("seeked",function(){r.eJ && r.Rd.Tc.uu(l.Ud.hua,function(){r.eJ=void 0;},"clear in progress seek request");});};p.prototype.rK=function(r){var q,u,v,w,x;q=m.prototype.rK.call(this,r);if(q){(0,h.assert)(this.Oc,"missing manager");u=this.Oc.TF(r);r=this.Oc.vd.TF(r,u,this.eJ);u=r.Bca;v=r.CZa;w=r.QE;x=r.fpa;r.vU && this.fra(x,u,v,w);}return q;};p.prototype.vCb=function(r){var q,u;r=r.fw;g.u && this.nb.log("AdPlaygraphHost::processAdBreakHydrationResponse");(0,h.assert)(this.Oc,"missing manager");(r=this.Oc.vd.Jzb(r,null === (q=this.eJ) || void 0 === q?void 0:q.Yi))?(q=r.QE,this.fra(r.fpa,r.Bca,null === (u=this.eJ) || void 0 === u?void 0:u.Ai,q)):this.fra();};p.prototype.Hf=function(r){var q,u;q=!1;u=!1;r.J && !r.vYa && (q=this.Oc.YFa.lOa(r.J));q?g.u && this.nb.log("AdPlaygraphHost::reportStreamingFailure streaming failure is recoverable"):u=this.Hp.Fa.Hf(r);return u;};p.prototype.JK=function(r,q){var u,v,w,x;u=this;g.u && this.nb.log("Top level seek streaming call to ",r);this.ZWa(r,q);this.Rd.Tc.uu(l.Ud.hua,function(){u.eJ=void 0;},"clear in progress seek request");if(this.Oc.vd.Isb(r)){g.u && this.nb.trace(("ads::seekStreaming: ").concat(JSON.stringify(r)));v=this.Oc.vd.wY(r,q);q=v.Yi;w=v.Ai;x=v.QE;if(v=v.fpa)(g.u && this.nb.trace("ads::seekStreaming: ads playgraph was updated"),this.fra(v,r,w));g.u && this.nb.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(q),", ") + ("playerTimestamp: ").concat(w,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Fa.fsa(q,w,x);}else this.Fa.JK(r,q);};p.prototype.fra=function(r,q,u,v){var w;w=this;this.Bwb.Xha || this.Bwb.SLb(function(){w.rra(r,w.Rd.Kb,q,u,v);w.zha.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.HE=function(r){return this.Oc.vd.HE(r,this.oga);};p.prototype.$g=function(r){m.prototype.$g.call(this,r);this.eJ=void 0;};p.prototype.ZWa=function(r,q){this.eJ={Yi:r,Ai:q};};d.__decorate([(0,e.Za)({methodName:"ads::processViewableResponse"})],p.prototype,"rK",null);d.__decorate([(0,e.Za)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"vCb",null);d.__decorate([(0,e.Za)({methodName:"ads::reportStreamingFailure"})],p.prototype,"Hf",null);d.__decorate([(0,e.Za)({methodName:"ads::seekStreaming"})],p.prototype,"JK",null);d.__decorate([(0,e.Za)({methodName:"ads::cancelStreaming"})],p.prototype,"$g",null);return p;})(t.zBa);b.R_a=a;},45991:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r;function d(q,u){var v;v=u && q.$[u];if(v)return v.type !== c.Fd.content?d(q,v.Ac):u;}Object.defineProperties(b,{__esModule:{value:!0}});b.T_a=void 0;n=a(91176);c=a(79048);g=a(48170);f=a(52571);e=a(14103);h=a(3758);l=a(88700);k=a(15905);m=a(73803);p=a(70778);r=a(45496);t=(function(){function q(u,v,w,x,y){this.vh=u;this.console=v;this.Fa=w;this.config=x;this.XC=y;this.tbc=[new h.T$a(v),new r.U$a(),new l.s6a(x,v),new k.$2a(),new m.Z2a(),new p.B8a()].filter(n.$c);}q.prototype.sGb=function(){this.gha=void 0;};q.prototype.QI=function(u,v,w,x,y){var A,z,B;z=(null === y || void 0 === y?void 0:y.J) === w?y:this.Fa.Gw().filter(function(C){return C.J === w;})[0];y=Array.from(this.Fa.player.Ta).map(function(C){return C.K;});B=null === (A=this.Fa.Oc) || void 0 === A?void 0:A.pn;A=this.Fa.player.SI();u={Zrc:z,Qa:u,Cbc:x,yc:v,p4:y.map(function(C){return null === B || void 0 === B?void 0:B.cMa(C.id);}).filter(n.$c),fqc:A && (null === B || void 0 === B?void 0:B.cMa(A.K.id))};x=this.tbc.map(function(C){return C.QI.bind(C);});u=n.hD.pJ(u,x);g.u && this.console.info("Evaluated ad-break drop",{yc:v,YVc:y.map(function(C){return C.id;}),result:u});return u;};q.prototype.hpc=function(u,v){var w;return u.offset.equal(n.I.fa)?!0:v.vc && (null === (w=v.Si) || void 0 === w?0:w.startTime)?(v=v.qd.ykb(n.I.fa),this.console.trace(("Checking ").concat(u.offset.G," against ").concat(v.G," for live seek")),u.offset.G === v.G):!1;};q.prototype.fhb=function(u,v,w){var x,y,A,z,B,C,D,F,H,E,G,K;void 0 === w && (w=this.Fa.Kb);z=w.Z;B=null === (x=w.eK.get(u.L)) || void 0 === x?void 0:x.J;(0,f.assert)(void 0 !== B,"AdPolicies::applyAdPoliciesToSeekPosition: viewableId must exist in outermost playgraph");C=this.vh.dw[B];D=x=v.ME(u);F=z.$[x.L];g.u && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition",{Yi:u,mKa:x});B=this.XC.get(B);(0,f.assert)(B,"AdPolicies::applyAdPoliciesToSeekPosition: viewable must exist");if(this.hpc(x,B))H=this.wNa(z,C,x);else {F.type === c.Fd.padding && (x={L:F.Ac,offset:n.I.fa});E=null === (y=this.Fa.player.SI()) || void 0 === y?void 0:y.K.id;if(E)G=E;else (y=d(z,z.ff),this.Fa.$n && this.Fa.player.Ou || this.Fa.R5() || y !== x.L || !this.config.XV?G=y:H=this.wNa(z,C,v.ME({L:u.L,offset:n.I.fa})));!H && G && (g.u && this.console.trace(("ads::seekStreaming: seek from segment ").concat(G)),H=this.Jjc(G,x,w));}u=!(null === (A=B.He) || void 0 === A || !A.Rq);if(H && !u)if(H.L){D={L:H.L,offset:n.I.fa};g.u && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition adjusting entrypoint",{mKa:x});F.type === c.Fd.Nc && (x={L:x.L,offset:n.I.fa},g.u && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition snapping entrypoint to beginning of ad",{mKa:x}));K=x;}else F.type !== c.Fd.Nc && (this.gha=H.Qa);A={Qlc:u?F.type === c.Fd.Nc:!!H,Nfc:G,to:x};K || F.type !== c.Fd.Nc || u || (g.u && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition seeking to an ad, defaulting entryPoint",{QE:K,mKa:x}),x.offset.greaterThan(n.I.fa) && (g.u && this.console.debug("AdPolicies::resetting seek position to beginning of ad"),x={L:x.L,offset:n.I.fa}),D=K=x);g.u && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition returning: ",("{ seekPosition: ").concat(D,", entryPoint: ").concat(K,", policy: ").concat(A));return {Yi:D,QE:K,fUa:A};};q.prototype.pXa=function(u,v,w,x){if(this.gha)return (v=this.gha,this.gha=void 0,v);if((u=this.vh.dw[u]) && u.length)if(w && v.L === x && v.offset.equal(n.I.fa)){if((v=u[0],0 === v.location.G && v.empty && !v.zk && !v.ZW))return v;}else if(!w)return this.yMa(v.L,u);};q.prototype.Jjc=function(u,v,w){var x,y,A,z,B,C,D;g.u && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(u," to ").concat(JSON.stringify(v)));if(w){y=w.LJ(v.L);(0,f.assert)(y,"inner WorkingPlaygraph segmentId should map correctly to outermost");A=this.vh.dw[w.eK.Z.$[y].J];z=w.Z.$;B=null === (x=z[u]) || void 0 === x?void 0:x.Ac;z[u] || (B=this.Fa.Z.$[u].Ac);C=void 0;D=void 0;u=function(){var H,E,G;H=z[B];if(!H)return (F.console.warn(("AdPoliciesManager: getPrerollOnSeek: segment ").concat(B," not found")),"break");if(H.type === c.Fd.content && (C === c.Fd.content || void 0 === C) && A){E=F.yMa(B,A);E && (D={Qa:E});}if(B === v.L)return (E=(H=D && !D.L) || C && C !== c.Fd.content?D:void 0,g.u && F.console.trace("AdPoliciesManager: getPrerollOnSeek: returning",{result:E,n0c:D,ZYc:H}),{value:E});if(H.type === c.Fd.Nc && C !== c.Fd.Nc){g.u && F.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(B));G=(0,e.MO)(B);(0,f.assert)(G,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId");(E=void 0 !== G.yc?A[G.yc]:(0,n.oc)(A,function(K){return K.fb === G.fb;})) && (D={L:B,Qa:E});}C=H.type;B=H.Ac;};for(var F=this;B;){w=u();if("object" === typeof w)return w.value;if("break" === w)break;}}g.u && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};q.prototype.wNa=function(u,v,w){var x,y,A;x=u.$;w=w.L;y=x[w];if(y){y=y.type;if(y === c.Fd.padding)return this.wNa(u,v,{L:x[w].Ac,offset:n.I.fa});g.u && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",w);if(y === c.Fd.Nc){A=(0,e.MO)(w);(0,f.assert)(A,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId");v=void 0 !== A.yc?v[A.yc]:(0,n.oc)(v,function(z){return z.fb === A.fb;});(0,f.assert)(v,"getPrerollAdBreakForPlaygraph: Unable to find ad break");return {L:w,Qa:v};}if(y === c.Fd.content){if(u=this.yMa(w,v))return {Qa:u};v=this.fjc(w,v);if("dynamic" === (null === v || void 0 === v?void 0:v.type))return {L:w,Qa:v};}else g.u && (0,f.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");}else g.u && this.console.warn(("AdPoliciesManager: getPrerollAdBreakForPlaygraph: segment ").concat(w," not found"));};q.prototype.yMa=function(u,v){u=(0,e.Ypb)(u);(0,f.assert)(u,"Should have contentInfo from segment name");if(0 < u.lja)if((v=v[u.lja - 1],g.u && this.console.trace("getEmptyAdForSegment",{XZc:!!v,Qa:v && ({index:v.yc,empty:v.empty,zk:v.zk,ZW:v.ZW,source:v.source})}),!v))g.u && this.console.warn("AdPoliciesManager: getNonEmptyAdForSegment: adBreak not found");else if(v.empty && !v.zk && !v.ZW)return v;};q.prototype.fjc=function(u,v){u=(0,e.Ypb)(u);(0,f.assert)(u,"Should have contentInfo from segment name");if(0 < u.lja)if((v=v[u.lja - 1],!v))g.u && this.console.warn("AdPoliciesManager: getNonEmptyAdForSegment: adBreak not found");else if(!v.empty && !v.zk && !v.ZW)return v;};return q;})();b.T_a=t;},14103:function(t,b,a){var n,c,g,f,e,h,l;function d(k){var m;m=(/^.+:ad\-(\d+)\-(\d+)(-F)?$/).exec(k);if(m)return {oU:parseInt(m[2]),yc:parseInt(m[1]),nX:!1};if(m=(/^.+:q\-\[(.+)\]\-(\d+)(-F)?$/).exec(k))return {oU:parseInt(m[2]),fb:m[1],nX:!1};if(k=(/^.+:pad((end)|(start))-(\d+)(-F)?$/).exec(k))return {yc:parseInt(k[4]),nX:!0,HY:k[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.U_a=void 0;b.MO=d;b.Ypb=function(k){if(k=(/^.+-(\d+)(-F)?$/).exec(k))return {lja:parseInt(k[1])};};n=a(22970);c=a(66164);g=a(91176);f=a(79048);e=a(48170);h=a(51308);l=a(81749);t=(function(){function k(m,p,r,q){this.console=m;this.Gq=p;this.Rd=r;this.vd=q;this.console=(0,g.rf)(c.platform,this.console,"ADPOSITIONSERVICE");}k.prototype.qgc=function(m){var p,r,q,u,v,w,x,y,A,z;q=d(null === m || void 0 === m?void 0:m.L);u=this.Gq.Kb;u.get(m.L);x=u.FF(m.L);y=[m.L];if(x){A=u.vF.MI(m.L);for(w=A.next();!w.done;){w=w.value;z=u.FF(w.id);if(!w || z !== x || w.type === f.Fd.content)break;y.push(w.id);w=A.next();}}u=null !== (v=y.pop()) && void 0 !== v?v:m.L;v=d(u);m=this.Gq.Z.$[m.L];u=this.Gq.Z.$[u];m=(null !== (p=m.ib) && void 0 !== p?p:Infinity) - m.cb;p=(null !== (r=u.ib) && void 0 !== r?r:Infinity) - u.cb;return {start:(null === q || void 0 === q?0:q.nX)?new l.bva(h.sda.start,m):void 0,end:(null === v || void 0 === v?0:v.nX)?new l.bva(h.sda.end,p):void 0};};Object.defineProperties(k.prototype,{oK:{get:function(){if(this.Gq.player.Jd)return this.EB(this.Gq.player.xh);},enumerable:!1,configurable:!0}});k.prototype.EB=function(m){var p,r,q,u,v,w,x,y,A,z,B,C,D;p=this.Cpb(m);e.u && this.console.debug("getPresentingAdBreak",m,p);if(p){r=p.Qa;q=p.yc;u=p.Nc;v=p.oU;w=p.HY;if(r){(0,g.assert)(void 0 !== q,"adBreakIndex should be defined");x=this.qgc(m);x=new l.m0a(r,x.start,x.end);y=this.Gq.Kb;y.get(m.L);z=-m.offset.G;B=y.FF(m.L);if(B){C=y.vF.MI(m.L);for(A=C.next();!A.done;){A=A.value;D=y.FF(A.id);if(!A || D !== B || A.type === f.Fd.content)break;z+=A.ib - A.cb;A=C.next();}}y=g.I.Ca(z);z=y.ca(x.e6.duration);"end" === p.HY?z=g.I.fa:"start" === p.HY && (B=x.Nsa.duration.ca(m.offset),z=z.ca(B));r={Qa:x,progress:{Rfb:r.duration.ca(z),LZb:1 - Math.max(0,z.G) / r.duration.G,MZb:x.duration.ca(y),NZb:1 - Math.max(0,y.G) / x.duration.G},position:m,index:q};q=this.Gq.Z.$[m.L];q=q.ib - q.cb;m=m.offset.G / q;w?r.tTa={Mxc:m,fqa:p.HY,cqa:g.I.Ca(q)}:u && ((0,g.assert)(void 0 !== v,"adIndex should be defined"),r.RH={Nc:u,Zfb:m,index:v});return r;}this.console.error("getPresentingAdBreak unable to find adBreak,","position:",m,"adInfo:",p);}else e.u && this.console.debug("getPresentingAdBreak could not find ad data for position",m);};k.prototype.Cpb=function(m){var p,r,q;r=m.L;e.u && this.console.debug("getAdDataForSegment",r,m);m=this.ZNa(m);if(void 0 === m)e.u && this.console.debug("getAdDataForSegment could not find viewable for position");else {if(r=d(r)){m=this.vd.dMa(m,r);(0,g.assert)(m,"adBreak should be defined");if(r.nX)return {Qa:m,yc:r.yc,HY:r.HY};q=r.oU;r=null !== (p=r.yc) && void 0 !== p?p:m.yc;return {Qa:m,yc:r,Nc:m.jc[q],oU:q};}e.u && this.console.debug("Could not get ad info for segment name");}};k.prototype.Chc=function(m,p){var r;r=this.ZNa(m);if(void 0 !== r)return this.vd.pXa(r,m,p);};k.prototype.MO=function(m){return d(m);};k.prototype.cMa=function(m){var p,r,q,u;p=d(m);if(p){r=void 0;r=this.Gq.Z.$[m]?this.Gq.Kb.FF(m):this.Gq.f8.Kb.LJ(m);q=m=void 0;if(r)if((q=this.Rd.Z.$[r].J,r=this.vd.yb[q],(0,g.assert)(r,"viewableAds should be defined"),void 0 !== p.yc))m=r[p.yc];else if(p.fb){u=p.fb;m=r.filter(function(v){return v.fb === u;})[0];}(0,g.assert)(m,"adBreakInfo should be defined");p=n.__rest(p,["adBreakIndex","adBreakTriggerId"]);return {Sg:m,v2c:p,kd:q};}};k.prototype.ZNa=function(m){var p,r;r=this.Rd;if(m=null === (p=r.Uj) || void 0 === p?void 0:p.IG(m))if(p=r.Z.$[m.L])return p.J;};return k;})();b.U_a=t;},54953:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.V_a=void 0;d=a(91176);n=a(52571);c=a(59034);t=(function(){function g(f,e){var h;h=this;this.config=f;this.BZa=0;this.LT={};e.on("adEvent",function(l){return h.Zvc(l);});}Object.defineProperties(g.prototype,{dw:{get:function(){var f,e;f=this;e={};Object.keys(this.LT).forEach(function(h){e[h]=f.LT[h].state;});return e;},enumerable:!1,configurable:!0}});g.prototype.NWa=function(f,e){var h;h=this.LT[f];h || (h=new c.Ycb(this.config),this.LT[f]=h);h.NWa(e);};g.prototype.reset=function(){this.BZa=0;};g.prototype.Zvc=function(f){var e;e=this;"adComplete" === f.event && Object.keys(this.LT).some(function(h){var l,k,m;h=null !== (l=(m=e.dw)[h]) && void 0 !== l?l:m[h]=[];(0,n.assert)(void 0 !== f.yc,"complete event should have an adBreakIndex");return null === (k=h[f.yc].jc) || void 0 === k?void 0:k.some(function(p){return p.id == f.U.R?(p.zk=!0,e.BZa++,!0):!1;});});};g.prototype.rKa=function(f){var e;e=this;Object.keys(this.LT).forEach(function(h){e.dw[h].forEach(function(l){l.jc.forEach(function(k){k.id == f && (k.sJ=!0);});});});};g.prototype.mla=function(f,e){return (f=this.dw[f]) && (0,d.oc)(f,function(h){return new d.N2(h.Ua,h.Ua.add(h.nt || d.I.fa)).n5(e,"ms");});};g.prototype.mgc=function(f,e){return (f=this.dw[f]) && (0,d.oc)(f,function(h){return h.Eo === e;});};return g;})();b.V_a=t;},14847:function(t,b,a){var g,f,e,h,l;function d(k){switch(k){case "AD_BREAK":case "AD_BREAK_ENUMERATED_ADS":return 52;case "NON_AD_BREAK":return 34;case "NO_INDICATION":return 60;default:return 60;}}function n(k){switch(k){case "ENABLED_AS_NORMAL":return {mG:!0,YF:!0,wF:!0};case "DISABLED_EXCEPT_FOR_PAUSE_EXIT":return {mG:!1,YF:!0,wF:!0};case "DISABLED_EXCEPT_FOR_PAUSE_EXIT_LIVE_EDGE":return {mG:!1,YF:!0,wF:!0};default:return {mG:void 0,YF:void 0,wF:void 0};}}function c(k,m,p){var r;if(3 <= (null === k || void 0 === k?void 0:k.length)){r=0;k=k.toLowerCase().substring(0,3).split("").map(function(q){return "t" === q?!0:"f" === q?!1:"*" === q?0 === (1 << r++ & p):void 0;});m.mG=k[0];m.YF=k[1];m.wF=k[2];}else (m.mG=void 0,m.YF=void 0,m.wF=void 0);}Object.defineProperties(b,{__esModule:{value:!0}});b.m0a=b.bva=b.Wua=void 0;g=a(91176);f=a(35963);e=a(8707);h=a(88E3);t=(function(){function k(m,p,r,q){void 0 === q && (q=NaN);this.config=m;this.Ge=p;this.vdb=r;this.vFa=q;this.yga=this.nma=this.ieb=this.i3=!1;this.aFa={mG:void 0,YF:void 0,wF:void 0};this.oX=this.zR=!1;this.sH=[];this.dKb(p,r);}Object.defineProperties(k.prototype,{aB:{get:function(){return this.Ge.aB;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{yc:{get:function(){return this.vdb;},enumerable:!1,configurable:!0}});k.prototype.eKb=function(m){var p;p=this;void 0 === m && (m=[]);this.sH=m.map(function(r,q){q=p.sH[q];return (null === q || void 0 === q?void 0:q.id) === r.id?q:new h.l0a(r);});};k.prototype.dKb=function(m,p){var r,q,u;u=this.Ge;this.Ge=m;u=m.bJ !== u.bJ;if(this.sH.length !== (null === (r=m.jc) || void 0 === r?void 0:r.length) || u)(this.eKb(m.jc),this.i3="hydration" === m.source && u?!1:this.i3);this.vdb=p;c(this.config.Vba,this.aFa,p);r=this.config.Vba;4 < (null === r || void 0 === r?void 0:r.length) && (r=r.substring(4),p%=r.length / 2,m.rn=parseInt(r.substring(2 * p,2 * p + 2),16));this.Ge.uJ && "viewable" !== this.Ge.source?(this.Fmc(m,null !== (q=m.bJ) && void 0 !== q?q:-1),this.zR=this.Ge.qX || !1):this.yga && this.bmb();};Object.defineProperties(k.prototype,{location:{get:function(){return this.Ge.location;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ua:{get:function(){return this.Ge.Ua;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Eo:{get:function(){return this.Ge.Eo;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{GU:{get:function(){return this.Ge.GU;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{rn:{get:function(){var m;return null === (m=this.Ge) || void 0 === m?void 0:m.rn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Fr:{get:function(){return this.vFa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kzc:{get:function(){return this.aFa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oN:{get:function(){return this.Ge.oN;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jc:{get:function(){return this.sH;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return this.duration.equal(g.I.fa);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{source:{get:function(){return this.Ge.source;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{duration:{get:function(){return (0,e.ena)(this.Ge)?this.Ge.duration:this.jc.reduce(function(m,p){return m.add(p.endTime.ca(p.startTime));},g.I.fa);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{type:{get:function(){return this.Ge.type;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fb:{get:function(){return this.Ge.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vub:{get:function(){return this.zk || !this.pu && !this.nma?this.sH.every(function(m){return m.zk;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zk:{get:function(){return this.i3?!0:this.sH.length?this.sH.every(function(m){return m.zk;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{pu:{get:function(){return !!this.Ge.pu;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{RGb:{get:function(){var m;m="viewable" === this.Ge.source && this.hg;return !!this.Ge.pu && !this.hg && !m;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hg:{get:function(){return !this.yga && !!this.Ge.uJ && (!!this.Ge.jc || "embedded" === this.type);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nt:{get:function(){var m;return null === (m=this.Ge) || void 0 === m?void 0:m.nt;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ZW:{get:function(){return this.ieb;},set:function(m){m && (this.ieb=!0);},enumerable:!1,configurable:!0}});k.prototype.QGc=function(){this.jc.length || (this.i3=!0);};k.prototype.Bsc=function(){this.oX=!0;};k.prototype.Fmc=function(m,p){this.nma && p === this.vFa || (this.Ge=m,this.eKb(m.jc),this.nma=!0,this.vFa=p,this.zR=m.qX,m.Ica && (m.Ica.cLb && (this.Ge.rn=d(m.Ica.cLb)),m.Ica.dLb && (this.aFa=n(m.Ica.dLb))));this.yga=!1;};k.prototype.bmb=function(){this.i3=this.zk;if(this.Ge.pk || this.Ge.fb)(this.yga=!0,this.sH=[],this.nma=this.zR=!1);};return k;})();b.Wua=t;l=(function(){function k(m,p){this.fqa=m;this.HWb=p;}Object.defineProperties(k.prototype,{duration:{get:function(){return g.I.Ca(this.HWb);},enumerable:!1,configurable:!0}});Object.defineProperties(k,{ySa:{get:function(){return this.$Xb || (this.$Xb=new k(f.sda.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(k,{yvc:{get:function(){return this.ZXb || (this.ZXb=new k(f.sda.end,0));},enumerable:!1,configurable:!0}});return k;})();b.bva=l;t=(function(){function k(m,p,r){this.Sg=m;this.nfb=p || l.ySa;this.LWb=r || l.ySa;}Object.defineProperties(k.prototype,{Nsa:{get:function(){return this.nfb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{e6:{get:function(){return this.LWb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bmc:{get:function(){return this.nfb !== l.ySa || this.e6 !== l.yvc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{duration:{get:function(){return this.Sg.duration.add(this.Nsa.duration).add(this.e6.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cqa:{get:function(){return this.Nsa.duration.add(this.e6.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{type:{get:function(){return this.Sg.type;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{rn:{get:function(){return this.Sg.rn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oX:{get:function(){return this.Sg.oX;},enumerable:!1,configurable:!0}});return k;})();b.m0a=t;},88E3:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.l0a=void 0;d=a(91176);t=(function(){function n(c){this.Nc=c;this.Ieb=this.sJ=this.zk=!1;this.lb=d.I.Ca(this.Nc.cb);this.Ub=d.I.Ca(this.Nc.ib);}Object.defineProperties(n.prototype,{id:{get:function(){return this.Nc.id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{km:{get:function(){return this.Ieb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{startTime:{get:function(){return this.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{endTime:{get:function(){return this.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{duration:{get:function(){return this.Ub.ca(this.lb);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hE:{get:function(){return this.Nc.hE;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{rta:{get:function(){return this.Nc.rta;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aB:{get:function(){return this.Nc.aB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{iX:{get:function(){return this.Nc.iX;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{o_:{get:function(){return this.Nc.o_;},enumerable:!1,configurable:!0}});n.prototype.normalize=function(c,g){this.lb=c;this.Ub=g;this.Ieb=!0;};Object.defineProperties(n.prototype,{hZa:{get:function(){return this.Nc.hZa;},enumerable:!1,configurable:!0}});return n;})();b.l0a=t;},81749:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(88E3),b);t.__exportStar(a(14847),b);t.__exportStar(a(46062),b);},67288:function(t,b,a){var n,c,g,f,e,h,l,k,m;function d(p,r){return n.__assign(n.__assign({},{Ai:r || f.I.fa,position:p.position,Qa:p.Qa.Sg}),{Qa:p.Qa.Sg});}Object.defineProperties(b,{__esModule:{value:!0}});b.k$a=void 0;b.pub=function(p){return !!p.mka;};b.s8=function(p){return !!p.presentingInfo;};b.F_c=function(p){return !p.mka && !p.presentingInfo;};n=a(22970);c=a(90745);g=a(79048);f=a(91176);e=a(91176);h=a(66164);l=a(48170);k=a(69575);m=a(52571);t=(function(){function p(r,q,u,v){var w;w=this;this.Oc=r;this.Fa=q;this.XC=v;this.wO=new c.lf();this.vFb=this.Ehb=!1;this.console=(0,k.rf)(h.platform,u,"PLAYERADMANAGER");this.events=new c.EventEmitter();this.Fa.events.on("playerChanged",this.JBb.bind(this));this.JBb();this.Fa.events.on("cancelStreaming",function(){var x;if(w.ON){x=w.Fa.player.yX;x?w.RFa(x.position):(l.u && w.console.error("Missing last position for cancel streaming call"),w.ON=void 0);}});this.Oc.zha.on("adPlaygraphUpdated",function(x){return w.events.emit("adPlaygraphUpdated",x);});this.vd.events.on("adSegmentDropped",function(x){w.$vc(x);});this.vd.events.on("advertsMismatch",function(x){return w.events.emit("advertsMismatch",x);});}Object.defineProperties(p.prototype,{Z7:{get:function(){return !!this.ON;},enumerable:!1,configurable:!0}});p.prototype.sk=function(r){var q;if(!this.Fa.$n)return (l.u && this.console.trace("PlayerAdManager.canSkip(): no player"),!1);q=this.Fa.player;if(!q.P6(r))return (l.u && this.console.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",r),!1);l.u && this.console.trace(("PlayerAdManager.canSkip(): ").concat(q.Pd.ba()," -> ").concat(r.ba()));r=r.greaterThan(q.Pd)?(0,k.zob)(q.Ta,q.Pd,r):(0,k.zob)(q.Ta,r,q.Pd);q=!r.some(function(u){return u.K.type !== g.Fd.content;});l.u && this.console.trace(("PlayerAdManager.canSkip(): ").concat(q,"; ").concat(r.map(function(u){return ("").concat(u.K.id," ").concat(u.K.type," ").concat(u.Pb.G,"..").concat(u.Pb.G);})));return q;};p.prototype.o7=function(){var r;return (null === (r=this.ON) || void 0 === r?void 0:r.kzc) || ({mG:void 0,YF:void 0,wF:void 0});};Object.defineProperties(p.prototype,{vd:{get:function(){return this.Oc.vd;},enumerable:!1,configurable:!0}});p.prototype.JBb=function(){var r,q;r=this;this.console.trace("Player changed",this.Fa.$n);this.wO.clear();if(this.Fa.$n){q=this.Fa.player;this.wO.addListener(q.events,"segmentPresenting",function(u){return r.Jz(u);});this.wO.addListener(q.events,"playbackEnding",function(u){return r.SSa(u);});}};p.prototype.Jz=function(r){var q,u,v,w,x,y,A,z,B,C,D,F;l.u && this.console.trace("Got Segment presenting",{K:r.position.L,position:r.position.offset.ba(),seek:r.seek});B=r.gX?r.gX.position.L:r.position.L;C=this.Fa.zW(B)[0];D=C?null === (u=null === (q=C.O.U) || void 0 === q?void 0:q.He) || void 0 === u?void 0:u.GU:void 0;!this.Ehb && D && h.platform.ping && (h.platform.ping(D),this.Ehb=!0);q=this.pn.EB(r.position);l.u && this.console.trace("Checked segment presenting",{yc:null === q || void 0 === q?void 0:q.index,C2c:q});if(u=(null === q || void 0 === q?void 0:q.Qa.Sg) || this.pn.Chc(r.position,!!r.seek))if((D=null === (v=null === q || void 0 === q?void 0:q.RH) || void 0 === v?void 0:v.Nc,v=(null === (w=null === C || void 0 === C?void 0:C.O) || void 0 === w?void 0:w.JY) || (null === C || void 0 === C?void 0:C.O),this.vFb || (null === v || void 0 === v?0:v.Qs) || u.Bsc(),l.u && this.console.trace(("Got segment presenting event: adBreak: ").concat(u.yc),{Nc:D,L:B,O:v.J}),(0,m.assert)(q || u.empty,"Should have presenting info for event corresponding to ad break, or ad break should be empty"),q)){F=!1;this.XC.forEach(function(H){var E;H.vc && (null === (E=H.U.He) || void 0 === E?0:E.Rq) && (F=!0);});if(!this.Z7 || "embedded" === (null === (x=this.ON) || void 0 === x?void 0:x.type) || F && r.seek)u.empty?u.hg || D?(l.u && this.console.trace("We are no longer in an adbreak or past an embedded ad (1)"),this.Odc(q,r.playerTimestamp)):l.u && this.console.trace("Passed an unhydrated ad break; assume it was skipped intentionally"):this.KZb(q,r.playerTimestamp);D && (D.id === v.J && "dynamic" === (null === (y=this.ON) || void 0 === y?void 0:y.type) && (l.u && this.console.trace("Detected fallback from dynamic to embedded ad, forcing new ad break"),this.IZb(q,r.playerTimestamp)),(0,m.assert)((null === (A=q.RH) || void 0 === A?void 0:A.Nc) === D,"Presenting Info should point to same ad as adInfo"),this.Xo(q,r.playerTimestamp));}else (l.u && this.console.trace("We are no longer in an adbreak or past an embedded ad (2)"),u.hg && this.Ubc(u,r.position,r.playerTimestamp));!this.Z7 || q && "end" !== (null === (z=q.tTa) || void 0 === z?void 0:z.fqa) || (l.u && this.console.trace("We are in end padding / next segment"),this.Vgb(r.position));this.Z7 && !q && this.RFa(r.position);this.vFb=!0;};p.prototype.SSa=function(r){this.Z7 && this.moc(r.position) && (this.Vgb(r.position),this.RFa(r.position));};p.prototype.KZb=function(r,q){(0,m.assert)(r,"Should have presenting info for event corresponding to ad break");l.u && this.console.trace("Emitting adBreakPresenting:",r);this.ON=r.Qa.Sg;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:r,playerControlState:this.o7(),Ai:q,Edc:d(r,q)});};p.prototype.Xo=function(r,q){var u,v,w;l.u && this.console.trace("Emitting adPresenting:",r);u=this.events;v=u.emit;w=n.__assign(n.__assign({},d(r,q)),{Nc:r.RH.Nc});v.call(u,"adPresenting",{type:"adPresenting",presentingInfo:r,Edc:w,Ai:q});};p.prototype.IZb=function(r,q){r={type:"adBreakFallback",presentingInfo:r,Ai:q};l.u && this.console.trace("Emitting adBreakFallback:",r);this.events.emit(r.type,r);};p.prototype.Odc=function(r,q){l.u && this.console.trace("Emitting explicit adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",presentingInfo:r,Ai:q});};p.prototype.Ubc=function(r,q,u){l.u && this.console.trace("Emitting empty adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",mka:r,position:q,Ai:u});};p.prototype.Vgb=function(r){l.u && this.console.trace("Emitting anonymous adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",position:r});};p.prototype.RFa=function(r){this.ON=void 0;l.u && this.console.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:r},playerControlState:this.o7()});};p.prototype.mF=function(){var r,q,u;r=this;q={$ha:[],result:{}};u=Object.keys(this.vd.yb).filter(function(v){return r.vd.du[v];});q.$ha=u;u.forEach(function(v){var w;q.result[v]=0 < (null === (w=r.vd.yb[v]) || void 0 === w?void 0:w.length);});return q;};p.prototype.cF=function(r){var q,u,v,w;q=this;u={$ha:[],result:{}};v=this.vd.du;w=Object.keys(v).filter(function(x){return v[x];});if(null === r || void 0 === r?0:r.NG)w=w.filter(function(x){var y;return -1 !== (null === (y=r.NG) || void 0 === y?void 0:y.indexOf(x));});u.$ha=w;w.forEach(function(x){var y,A,z,B,C;z=null === (y=v[x]) || void 0 === y?void 0:y.yb;if(z){y=q.XC.get(Number(x));B=!(null === y || void 0 === y || !y.vc) && !(null === (A=null === y || void 0 === y?void 0:y.U.He) || void 0 === A || !A.Rq);A=q.wec(x,z);C=q.vd.yb[x];u.result[("").concat(x)]=A.map(function(D,F){return n.__assign(n.__assign({},D),{hasCompletedPlayback:C[F].vub || B,isHiddenFromUser:C[F].vub || B,unnormalizedLocationMs:D.Eo,locationMs:D.Uu,location:D.location,adBreakToken:D.pk,contentTimestamp:D.Ua,type:D.type});});}});return u;};Object.defineProperties(p.prototype,{pn:{get:function(){return this.Oc.pn;},enumerable:!1,configurable:!0}});p.prototype.wec=function(r,q){var u,v;u=[];v=[];this.vd.yb[r].forEach(function(w){return w.jc.forEach(function(x){x.sJ && -1 === v.indexOf(x.id) && v.push(x.id);});});q.forEach(function(w){var x,y;w=n.__assign({},w);y=null === (x=w.ads) || void 0 === x?void 0:x.filter(function(A){return -1 === v.indexOf(A.id);});w.ads=y;u.push(w);});return u;};p.prototype.$vc=function(r){var q,u,v,w;q=this;u=r.adId;v=this.vd.du;r=Object.keys(v).filter(function(x){return v[x];});w=this.Fa.Z.$;r.forEach(function(x){var y,A;null === (A=null === (y=v[x]) || void 0 === y?void 0:y.yb) || void 0 === A?void 0:A.forEach(function(z,B){var C;null === (C=z.jc) || void 0 === C?void 0:C.forEach(function(D,F){D.id === u && (D=(0,e.oc)(Object.keys(w),function(H){H=q.pn.MO(H);return !H || H.nX?!1:F === H.oU && B === H.yc;})) && q.events.emit("segmentDropped",{type:"segmentDropped",auxMid:u,auxMidType:g.Fd.Nc,adBreakLocationMs:z.Eo,reason:"network_error",sev:"error",segmentId:D});});});});};p.prototype.moc=function(r){r=this.Fa.Kb.get(r.L);return !(!r || 0 < r.KC);};return p;})();b.k$a=t;},73803:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Z2a=void 0;t=(function(){function a(){}a.prototype.QI=function(d,n){var c,g;c=d.Qa;g=n(d);g.xw || c.jc.forEach(function(f,e){f.sJ && (g.yI.push(e),g.reason="error");});return g;};return a;})();b.Z2a=t;},15905:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$2a=void 0;t=(function(){function a(){}a.prototype.QI=function(d,n){return d.Qa.zk?{xw:!0,yI:[],reason:"played"}:n(d);};return a;})();b.$2a=t;},88700:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.s6a=void 0;d=a(22970);n=a(91176);t=(function(){function c(g,f){this.config=g;this.console=f;}c.prototype.QI=function(g,f){var e,h,l,k,m,p,r,v,w;if(this.config.k4)return f(g);h=g.Zrc;l=null === h || void 0 === h?void 0:h.He;k=l && l.JEb;if((null === h || void 0 === h?0:h.vc) && l){l=h.Ym(!0);m=g.Qa;p=g.Qa.Ua.add(m.nt || m.duration);h=!k && ((null === h || void 0 === h?void 0:h.Qs) || m.aB);if(l && p.lessThan(l) && h)return (!1,{xw:!0,yI:[],reason:"live-drop"});if(l && m.jc){f=f(g);if(f.xw)return f;r=n.I.fa;m=m.jc.map(function(y,A){r=r.add(y.duration);return {Nc:y,index:A,Bbc:r};}).reverse();f=f.yI || [];try{for(var q=d.__values(m),u=q.next();!u.done;u=q.next()){v=u.value;w=v.index;if(-1 === f.indexOf(w)){if(!v.Nc.aB)break;if(g.Qa.Ua.add(v.Bbc).lessThan(l))(!1,f.push(w));else break;}}}catch(y){var x;x={error:y};}finally{try{u && !u.done && (e=q.return) && e.call(q);}finally{if(x)throw x.error;}}return {xw:!1,yI:f,reason:"live-drop"};}}return f(g);};return c;})();b.s6a=t;},70778:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.B8a=void 0;t=(function(){function a(){}a.prototype.QI=function(){return {yI:[],xw:!1,reason:"none"};};return a;})();b.B8a=t;},3758:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.T$a=void 0;t=(function(){function a(d){this.console=d;}a.prototype.QI=function(d,n){n=n(d);if(n.xw && !d.Cbc && d.p4.filter(function(c){return c.Sg.yc === d.yc;}).length)return (n.xw=!1,n.reason="in buffer",this.console.log("PreserveAppendedAdsPolicy: preserving ad break",{yc:d.yc,fb:d.Qa.fb,p4:d.p4}),n);this.console.log("PreserveAppendedAdsPolicy: not preserving ad break",{yc:d.yc,fb:d.Qa.fb,p4:d.p4});return n;};return a;})();b.T$a=t;},45496:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.U$a=void 0;t=(function(){function a(){}a.prototype.QI=function(d,n){var c;n=n(d);c=d.fqc;n.xw && c && c.Sg.yc === d.yc && (n.xw=!1,n.reason="last appended");return n;};return a;})();b.U$a=t;},31413:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kbb=void 0;d=a(22970);n=a(91176);c=a(91176);g=a(66164);f=a(65161);e=a(48170);h=a(89527);l=a(52571);k=a(40666);t=(function(){function m(p,r,q,u,v,w,x,y,A,z,B){var C;C=this;this.oa=p;this.Tc=r;this.events=q;this.Qa=u;this.Nc=v;this.cGa=w;this.zba=x;this.zIc=y;this.d4=A;this.R4=z;this.console=B;this.rl=g.platform.time.now();this.OC=new Map();this.WA=0;(0,l.assert)(w.U,"Presenting ad should have a manifest");this.$fb=r.Pq(function(){return C.eLc();},"impressionLogging");this.oa.player.gv.forEach(function(D,F){(D=D.nW(h.GS)) && C.OC.set(F,D);});}Object.defineProperties(m.prototype,{GG:{get:function(){return this.WA;},enumerable:!1,configurable:!0}});m.prototype.Ja=function(){this.$fb.Ja();};m.prototype.eLc=function(){var p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E;return d.__generator(this,function(G){switch(G.label){case 0:e.u && this.console.trace("AdImpressionLogger: starting at",this.d4.ba());p=this.Nc;this.Cjb();if(!p.hE)return (this.console.error(("AdImpressionLogger: no actionAdEvents for ad ").concat(p.id)),[2]);r=this.zba.offset.G;q=this.d4;u=this.d4.add(p.duration);v=this.zIc;G.label=1;case 1:(G.qc.push([1,12,13,14]),(0,l.assert)(null === (F=p.hE) || void 0 === F?void 0:F.start,"Start event info should be defined"),this.emit(p.hE.start,r,v,!1,r),(0,l.assert)(p.rta,"Timed event info should be defined"),G.label=2);case 2:(G.qc.push([2,7,8,9]),w=d.__values(p.rta),x=w.next(),G.label=3);case 3:if(x.done)return [3,6];y=x.value;q=this.d4.add(n.I.Ca(y.xv));if(q.lessThan(v))return [3,5];e.u && this.console.trace(("AdImpressionLogger[").concat(this.zba.L,"]: waiting for ").concat(y.xv,"ms timed event") + (" at ").concat(q.ba()));return [4,k.Ud.Fm(q)];case 4:(G.S(),v=q,this.emit(y,y.xv,q,!1,r),G.label=5);case 5:return (x=w.next(),[3,3]);case 6:return [3,9];case 7:return (A=G.S(),C={error:A},[3,9]);case 8:try{x && !x.done && (D=w.return) && D.call(w);}finally{if(C)throw C.error;}return [7];case 9:if(!u.greaterThan(q))return [3,11];q=u;e.u && this.console.trace(("AdImpressionLogger[").concat(this.zba.L,"]: waiting for end of ad at ").concat(q.ba()));return [4,k.Ud.Fm(q)];case 10:(G.S(),v=q,G.label=11);case 11:return [3,14];case 12:return (z=G.S(),this.console.error("AdImpressionLogger: error",z),this.WA++,[3,14]);case 13:v=this.oa.player.yX?this.oa.player.yX.Ai:this.oa.player.Jd?this.oa.player.Pd:v;if(v.pf(u))((0,l.assert)(null === (H=p.hE) || void 0 === H?void 0:H.complete,"Complete event should be defined"),this.emit(p.hE.complete,p.endTime.G,u,!0,r));else if(null === (E=p.hE) || void 0 === E?0:E.stop)(B=v.ca(this.d4).G,this.emit(p.hE.stop,B,v,!0,r));this.Cjb();return [7];case 14:return [2];}});};m.prototype.emit=function(p,r,q,u,v){var w;e.u && this.console.trace(("AdImpressionLogger[").concat(this.zba.L,"]: emitting ").concat(p.event," event at ").concat(r,"ms") + (" for player time ").concat(q.ba()));r={L:this.zba.L,offset:n.I.Ca(r)};q=this.qNa(q);try{w=this.R4(r);this.events.emit("adEvent",d.__assign(d.__assign({type:"adEvent"},p),{Ah:r,jC:q,U:this.cGa.U,rl:this.rl,z3c:u?g.platform.time.now():-1,au:this.Qa.Eo,yc:this.Qa.yc,o_:this.Nc.o_,iX:this.Nc.iX,b4:this.Qa.type,fb:this.Qa.Ge.fb,bGa:v,VE:w}));}catch(x){this.console.error("Impression error event",x);this.WA++;}};m.prototype.qNa=function(p){var r,q,u;r=this.cGa.U.R;q=d.__read(this.orb(p,this.OC.get(f.v.X),r),2);u=q[0];q=q[1];p=d.__read(this.orb(p,this.OC.get(f.v.V),r),2);return {audio:u,video:p[0],text:[],total:Math.max(q,p[1])};};m.prototype.orb=function(p,r,q){p=(null === r || void 0 === r?void 0:r.lIc(p,q)) || [];p=(0,c.flatten)(p.map(function(u){return Object.keys(u.aO).map(function(v){v=u.aO[v];return {Yb:v.Yb,duration:v.totalTime,On:u.On};});}));r=p.reduce(function(u,v){return u + v.duration;},0);e.u && this.console.trace("Getting playtime journal",{R:q,o2c:p.length,totalTime:r});return [p,r];};m.prototype.Cjb=function(){var p,r,q;q=this.cGa.U.R;null === (p=this.OC.get(f.v.X)) || void 0 === p?void 0:p.GDb(q);null === (r=this.OC.get(f.v.V)) || void 0 === r?void 0:r.GDb(q);};m.prototype.kp=function(){return {ad:this.$fb.kp(),errors:this.WA};};return m;})();b.kbb=t;},8707:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ena=b.vU=void 0;b.vU=function(a,d){var n,c,e;if(!(a && d || a === d))return {ru:!0,reason:"one of the ads is undefined"};if(a && d){if(a.yb.length !== d.yb.length)return {ru:!0,reason:"ad break count mismatch"};for(var g=function(h){var l,k;l=a.yb[h];k=d.yb[h];if(!l.Ua.equal(k.Ua))return {value:{ru:!0,reason:"ad break content timestamp mismatch"}};if(l.source !== k.source)return {value:{ru:!0,reason:"ad break source mismatch"}};if((0,b.ena)(l) && (0,b.ena)(k) && !l.duration.equal(k.duration))return {value:{ru:!0,reason:"ad break duration mismatch"}};if((null === (n=l.jc) || void 0 === n?void 0:n.length) !== (null === (c=k.jc) || void 0 === c?void 0:c.length))return {value:{ru:!0,reason:"ad break ads length mismatch"}};if(l.jc && k.jc && l.jc.some(function(m,p){if(m.id !== k.jc[p].id)return !0;}))return {value:{ru:!0,reason:"ad break ads mismatch"}};if(l.bJ !== k.bJ)return {value:{ru:!0,reason:"ad break hydration sequence id mismatch"}};},f=0;f < a.yb.length;f++){e=g(f);if("object" === typeof e)return e.value;}}return {ru:!1,reason:""};};b.ena=function(a){return "embedded" === a.type;};},59034:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ycb=void 0;d=a(81749);t=(function(){function n(c){this.config=c;this.XFa=[];}Object.defineProperties(n.prototype,{state:{get:function(){return this.XFa;},enumerable:!1,configurable:!0}});n.prototype.NWa=function(c){var g,f;g=this;f=[];c.forEach(function(e,h){var l;l=g.XFa[h];l?(f.push(l),l.dKb(e,h)):(e=g.u9b(e,h),f.push(e));});this.XFa=f;};n.prototype.u9b=function(c,g){return new d.Wua(this.config,c,g,c.bJ);};return n;})();b.Ycb=t;},25750:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.l5=void 0;d=a(22970);n=a(40981);c=a(75393);g=a(17774);b.l5=function(f,e,h){var l,k,m,p,r;l=e.O$;k=e.FGa;f=d.__assign({pxa:n.oxa},f).pxa;m=l[5];l=(0,g.bAb)(function(){return r;});m.igb(l.Cr);h=h(e);p={Uj:void 0,Rd:void 0,Fa:h,Xvb:"content"};p.Uj=new f(function(){return p.Rd.Kb;},function(){return p.Fa;},e.O$[2],"content:");r=new g.i2a(p,l.gIb,c.kC.XVa.BZ);p.Rd=c.kC.KUa(h,r,function(){return p;},k);r.Sb();return p.Rd;};},17774:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.i2a=void 0;b.bAb=function(e){var h;h=[];return {Cr:function(l,k){var m,p,r,q,u,v,w,x;r=l.J;q=l.Jp;u=e();v=u.N1b;if(v && v !== r){w=null === (m=null === q || void 0 === q?void 0:q.Mf) || void 0 === m?void 0:m.Bb;m=null === (p=null === q || void 0 === q?void 0:q.Mf) || void 0 === p?void 0:p.kd;p=u.Bb;(0,f.assert)(v,"did not receive parent viewable id");q={Mf:{Bb:null !== w && void 0 !== w?w:p,kd:null !== m && void 0 !== m?m:v}};}u.Fa.console.trace("In wrapped request viewable",r,q);x=k(d.__assign(d.__assign({},l),{Jp:q}));h.forEach(function(y){return y({J:r,Tr:x.Tr});});return x;},gIb:function(l){h.push(l);}};};d=a(22970);n=a(79048);c=a(5479);g=a(61996);f=a(52571);t=(function(e){function h(l,k,m,p){void 0 === p && (p="CphAsePlaygraph");k=e.call(this,l,k,m,p) || this;k.Hp=l;k.UEb=m;l.Fa.od(new c.j2a(k));return k;}d.__extends(h,e);h.prototype.rK=function(l){var k,m;k=e.prototype.rK.call(this,l);if(k){m=l.U.Iy;m && !this.qga && (this.ZIa.vg({applyingContentPlaygraph:!0}),this.qga=m,this.fXb=this.C6b(l.U),this.rra());}return k;};Object.defineProperties(h.prototype,{Fsb:{get:function(){return this.fXb;},enumerable:!1,configurable:!0}});h.prototype.HE=function(l){if(this.qga)return (l=n.OD.hn(l,n.OD.create(this.qga.Z)).J9,l.i4(this.Fa.Kb),l);};h.prototype.C6b=function(l){var k,m;k=l.$o;m=l.$I;return !(!k || !k.some(function(p){return p.$I !== m;}));};Object.defineProperties(h.prototype,{Iy:{get:function(){var l;return null === (l=this.qga) || void 0 === l?void 0:l.Z;},enumerable:!1,configurable:!0}});d.__decorate([(0,g.Za)({methodName:"processViewableResponse"})],h.prototype,"rK",null);return h;})(a(14739).zBa);b.i2a=t;},79:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.OIa=void 0;d=a(75393);n=a(4515);b.OIa=function(c,g){var f;c=g(c);f=new n.o$a(c,d.kC.XVa.BZ);return d.kC.KUa(c,f,function(){return f.Hp;});};},64281:function(t,b,a){var n,c,g,f;function d(e,h){return h && !Array.isArray(h) && -1 === h.Lnb.indexOf(e)?h.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.cJa=void 0;n=a(22970);t=a(90745);c=a(49165);g=a(87561);f=(function(e){function h(l,k){var m;m=e.call(this) || this;m.psc=l;m.Mtb=k;m.lEa={};return m;}n.__extends(h,e);h.prototype.emit=function(l){for(var k=[],m=1;m < arguments.length;m++)k[m - 1]=arguments[m];return e.prototype.emit.call(this,l,this.psc(l,k[0]));};h.prototype.subscribe=function(l){var k,m;k=this;if(!this.listeners(l).length){m=function(){for(var p=[],r=0;r < arguments.length;r++)p[r]=arguments[r];return k.emit.apply(k,n.__spreadArray([l],n.__read(p),!1));};this.lEa[l]=m;this.Mtb.addListener(l,m);}};h.prototype.addListener=function(l,k){this.subscribe(l);e.prototype.addListener.call(this,l,k);return this;};h.prototype.removeListener=function(l,k){e.prototype.removeListener.call(this,l,k);k=this.lEa[l];!this.listeners(l).length && k && (this.Mtb.removeListener(l,k),this.lEa[l]=void 0);return this;};h.prototype.on=function(l,k){this.addListener(l,k);return this;};h.prototype.mm=function(l,k){this.removeListener(l,k);return this;};h.prototype.once=function(l,k){var p;function m(){for(var r=[],q=0;q < arguments.length;q++)r[q]=arguments[q];p.removeListener(l,m);k.apply(void 0,n.__spreadArray([],n.__read(r),!1));}p=this;this.addListener(l,m);return this;};h.prototype.Qqa=function(l,k){this.subscribe(l);e.prototype.Qqa.call(this,l,k);};h.prototype.nCb=function(l,k){var p;function m(){for(var r=[],q=0;q < arguments.length;q++)r[q]=arguments[q];p.removeListener(l,m);k.apply(void 0,n.__spreadArray([],n.__read(r),!1));}p=this;this.Qqa(l,m);};return h;})(t.EventEmitter);b.cJa=function(e,h,l,k){return new f(function(m,p){var r;r=d(m,k["*"]);m=k[m] || [];r=r.concat(m).filter(function(q){return "object" === typeof q;});m=n.__read(m.filter(function(q){return "function" === typeof q;}),1)[0];return r.length?(0,g.Rra)(e,p,l,{rules:r,Rp:!1,BGa:!0},c.vD.HG,m):p;},h);};},40981:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.oxa=void 0;d=a(22970);n=a(66164);c=a(61996);g=a(94328);f=a(52571);e=a(48170);h=a(35779);t=(function(){function l(k,m,p,r){var u,v;function q(w,x){return w.L === x.L && w.offset.equal(x.offset);}this.A$=k;this.Fa=m;this.config=p;this.Cgb=r;this.Q_=new WeakMap();this.P_=new WeakMap();this.console=new n.platform.Console(("GRAPHLOCATIONSERVICE ").concat(null !== (v=null === (u=this.Cgb) || void 0 === u?void 0:u.replace(":","")) && void 0 !== v?v:""));this.Ve=new c.Lm({wj:this,source:(r || "") + "GraphLocation",console:this.console});(0,h.mVa)(this,"d",new h.fT(p,q));(0,h.mVa)(this,"u",new h.fT(p,q));}l.prototype.Sb=function(){var k,m,p;k=this;"temp" !== this.Cgb && (null === (m=this.Fa().events) || void 0 === m?void 0:m.on("segmentNormalized",function(){(0,h.pMa)(k).forEach(function(r){return r.clear();});k.Q_=new WeakMap();k.P_=new WeakMap();}),null === (p=this.Fa().events) || void 0 === p?void 0:p.on("playgraphUpdating",function(){(0,h.pMa)(k).forEach(function(r){return r.clear();});k.Q_=new WeakMap();k.P_=new WeakMap();}));};l.prototype.iS=function(k){return new l(function(){return k.aqa;},function(){return {Kb:k};},this.config,"temp");};l.prototype.ME=function(k){var m,p,r,q,u;e.u && this.console.trace("downConverting",k);if(this.Q_.has(k))return this.Q_.get(k);try{p=this.A$().Z;r=this.Fa().Kb.Z;if(p === r)return m=k;if(r.$[k.L])return (p.$[k.L] || e.u && this.console.warn("Received a down converted position unexpectedly",k,Error().stack),m=k);q=(0,g.ujb)(k,this.A$());u=this.A$().usc({offset:q.vjb,L:k.L});(0,f.assert)(!!u,"mapPositionDown on uxPlaygraph should return a value");m={offset:q.vw.add(u.offset),L:u.L};e.u && this.console.trace("downConverting ret:",m,this.A$().identifier);return m;}finally{m && (this.Q_.set(k,m),this.P_.set(m,k));}};l.prototype.IG=function(k){var m,p,r,q,u,v;e.u && this.console.trace("upConverting",k);if(this.P_.has(k))return this.P_.get(k);try{m=this.A$().Z;p=this.Fa().Kb.Z;if(m === p)return k;if(m.$[k.L])return (p.$[k.L] || e.u && this.console.warn("Received a up converted position unexpectedly",k,Error().stack),k);r=this.Fa().Kb;q=(0,g.ujb)(k,r);u=r.fxb({offset:q.vjb,L:k.L});(0,f.assert)(!!u,"mapPositionUp on combinedPlaygraph should return a value");v={offset:q.vw.add(u.offset),L:u.L};e.u && this.console.trace("upConverting ret:",v,r.identifier);return v;}finally{v && (this.P_.set(k,v),this.Q_.set(v,k));}};l.prototype.wic=function(k){var m;m=this.ME(k);(0,f.assert)(!!m,"mapPositionDown on uxPlaygraph should return a value");for(var p=m.L,r=this.Fa().Kb,q=r.vF.MI(p),u=q.next();!u.done;){u=u.value;if(r.FF(u.id) !== k.L && p !== m.L)break;p=u.id;u=q.next();}(0,f.assert)(p,("Could not find any segments in the path of ").concat(k));return p;};d.__decorate([(0,c.Za)({methodName:"downConvertPosition",Re:!0,Qm:!0,return:!0}),(0,h.CHa)("d")],l.prototype,"ME",null);d.__decorate([(0,c.Za)({methodName:"upConvertPosition",Re:!0,Qm:!0,return:!0}),(0,h.CHa)("u")],l.prototype,"IG",null);return l;})();b.oxa=t;},75393:function(t,b,a){var g,f,e,h,l,k,m,p,r;function d(q,u){var v,w,x;if(q.Rd.Z.$[u] && q.Rd.Oc){x=q.Rd.Kb.LJ(u);x && (x=q.Rd.Kb.eK.Z.$[x].J,(u=(0,m.MO)(u)) && (w=null === (v=q.Rd.Oc.vd.dMa(x,u)) || void 0 === v?void 0:v.Eo));}return w;}function n(q,u,v,w){var x;return u === l.vD.YN?(u=f.I.fa,(null === w || void 0 === w?void 0:w.p3c) === r.end && (u=f.I.Ca(null !== (x=v.Rd.Z.$[q].ib) && void 0 !== x?x:0),(0,e.assert)(0 < u.G,"EndTime must be non null")),v.Uj.ME({offset:u,L:q}).L):v.Uj.IG({offset:f.I.fa,L:q}).L;}function c(q,u,v){return u === l.vD.HG?v.Uj.IG(q):v.Uj.ME(q);}Object.defineProperties(b,{__esModule:{value:!0}});b.kC=b.ASb=void 0;g=a(22970);f=a(91176);e=a(52571);t=a(42194);h=a(50599);l=a(49165);k=a(6783);m=a(14103);p=a(57722);a=(0,h.TEb)();a=(0,t.xib)()({jxb:"combinedPlaygraph",BZ:{Ah:a()({map:c,wE:p.Uoc}),Jd:a()({map:function(q,u,v,w){var x,y;x=(null === w || void 0 === w?0:w.Er)?(0,p.FMa)(q,w.Er):q.position;(null === w || void 0 === w?0:w.Jib) && u === l.vD.HG && (v.Fa.Z.$[x.L] || (y=null));null !== y && (y=c(x,u,v));q=(0,p.sIa)(q,null === w || void 0 === w?void 0:w.Er);(null === w || void 0 === w?0:w.Er)?(0,p.uGc)(q,w.Er,y):q.position=y;return q;},wE:function(q,u,v){return (null === v || void 0 === v?0:v.Er)?(0,p.FMa)(q,v.Er):(0,p.Jd)(q);}}),vL:a()({map:function(q,u,v,w){var x;if(u === l.vD.YN)return null !== (x=q.inner) && void 0 !== x?x:q;u=(0,p.sIa)(q,null === w || void 0 === w?void 0:w.Er);null !== w && void 0 !== w && w.Er || (u.inner=q,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).FPb && (u.gctag=void 0));return u;},wE:function(q,u,v){return (null === v || void 0 === v?0:v.Er)?"object" === typeof (0,p.FMa)(q,v.Er):"object" === typeof q;}}),L:a()({map:n,wE:p.ipc}),Zaa:a()({map:function(q,u,v,w){var x,y;y=null !== (x=q.L) && void 0 !== x?x:q.segmentId;u=n(y,u,v,w);return q.L?g.__assign(g.__assign({},q),{L:u}):g.__assign(g.__assign({},q),{segmentId:u});},wE:p.hmc}),QIa:a()({map:function(q,u,v){u === l.vD.YN?(q=(0,k.ws)(v.Rd.Z,q.J,q.Ua,{mFb:!0}),(0,e.assert)(void 0 !== q,"Graph position must exist in ux playgraph"),q=v.Uj.ME(q),u=q.L,q=q.offset,u=v.Fa.Z.$[u],v=u.J,u=u.cb,q=f.I.Ca(u).add(q)):(q=(0,k.ws)(v.Fa.Z,q.J,q.Ua,{mFb:!0}),(0,e.assert)(void 0 !== q,"Graph position must exist in combined playgraph"),q=v.Uj.IG(q),u=q.L,q=q.offset,u=v.Rd.Z.$[u],v=u.J,u=u.cb,q=f.I.Ca(u).add(q));return {Ua:q,J:v};},wE:p.ioc}),nHa:a()({wE:p.boc,map:function(q,u,v){var w,x,y,A,z;w=v.Fa.Kb;x=v.Rd.Kb;if(u === l.vD.YN){y={L:q.K.id,offset:f.I.fa};A=v.Uj.ME(y);u=w.get(A.L);(0,e.assert)(u,"workingSegment on inner playgraph must exist");x=x.get(y.L);(0,e.assert)(x,"equivalent workingSegment on outer playgraph must exist");y=u.Rb;v=q.Wd.add(u.lb.ca(x.lb));w=u.lb;u=u.Ub;return {Wd:v,CQ:q.fv.add(y),fv:q.fv,K:{id:A.L,lb:w,Ub:u}};}A={L:q.K.id,offset:f.I.fa};y=v.Uj.IG(A);u=w.get(A.L);(0,e.assert)(u,"workingSegment on inner playgraph must exist");x=x.get(y.L);(0,e.assert)(x,"equivalent workingSegment on outer playgraph must exist");A=x.Rb;if(!A.isFinite()){z=v.Uj.wic(y);(w=w.get(z)) && w.Rb.isFinite() && (A=v.Uj.IG({L:z,offset:w.Rb}).offset);}y=q.fv.ca(y.offset);z=y.add(A);v=q.Wd.add(x.lb.ca(u.lb));w=x.lb;u=A.add(w);return {Wd:v,CQ:z,fv:y,K:{id:x.id,lb:w,Ub:u}};}}),I1b:a()({wE:function(q){return "segmentPresenting" === q.type;},map:function(q,u,v){var w,x;q=(0,p.sIa)(q);if((u=q.metrics) && void 0 === u.adBreakLocationMs){w=d(v,u.destPosition.L);void 0 !== w && (u.adBreakLocationMs=w);x=u.srcStartPosition;x && v.Fa.Z.$[x.L] && (w=d(v,x.L));void 0 !== w && (u.srcadBreakLocationMs=w);}return q;}})}});(function(q){q[q.rWc=0]="beginning";q[q.end=1]="end";})(r || (b.ASb=r={}));b.kC=a;},5472:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KBb=void 0;b.KBb={"*":{Lnb:["logdata"],rules:[{Fk:function(a){return a.vL;}}]},segmentPresenting:[{Fk:function(a){return a.vL;},config:{Er:["metrics"]}},{Fk:function(a){return a.Jd;}},{Fk:function(a){return a.Jd;},config:{Er:["metrics","srcStartPosition"],Jib:!0}},{Fk:function(a){return a.Jd;},config:{Er:["metrics","srcTransitionPosition"],Jib:!0}},{Fk:function(a){return a.Jd;},config:{Er:["metrics","destPosition"]}},{Fk:function(a){return a.I1b;}}],streamPresenting:[{Fk:function(a){return a.Jd;}}],segmentAppended:[{Fk:function(a){return a.Zaa;}}],fragmentsMissing:[{Fk:function(a){return a.Jd;},config:{Er:["nextAvailableGraphPosition"]}}]};},4515:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.o$a=void 0;d=a(22970);n=a(66164);c=a(61996);g=a(69575);f=a(64281);e=a(5472);t=(function(){function h(l,k){var m;m=this;this.e8=l;this.events=(0,f.cJa)(function(){return m.Hp;},this.e8.events,k,e.KBb);this.ymc=(0,g.rf)(n.platform,this.e8.console,"PLAYERHOST");new c.Lm({Bg:10,wj:this,source:"PlayerHost",console:this.ymc});}h.prototype.pIa=function(){this.Hp=void 0;};h.prototype.WWa=function(l){this.Hp=l;};d.__decorate([(0,c.Za)({methodName:"clearProxyPlaygraphContext"})],h.prototype,"pIa",null);d.__decorate([(0,c.Za)({methodName:"setProxyPlaygraphContext"})],h.prototype,"WWa",null);return h;})();b.o$a=t;},94152:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OBb=void 0;b.OBb={"*":{Lnb:["logdata"],rules:[{Fk:function(a){return a.vL;}}]},locationSelected:[{Fk:function(a){return a.Zaa;}}],segmentComplete:[{Fk:function(a){return a.Zaa;}}],segmentStarting:[{Fk:function(a){return a.Zaa;}}],serverSwitch:[{Fk:function(a){return a.Zaa;}}],streamSelected:[{Fk:function(a){return a.Jd;}}],seeked:[{Fk:function(a){return a.Jd;}}]};},14739:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.zBa=void 0;d=a(22970);n=a(79048);c=a(91176);g=a(66164);f=a(51308);e=a(54366);h=a(61996);l=a(65161);k=a(52571);m=a(48170);p=a(29254);r=a(36414);q=a(64281);u=a(94152);t=(function(){function v(w,x,y,A){var z;void 0 === A && (A="CphAsePlaygraph");z=this;this.Hp=w;this.UEb=y;this.jJb=A;this.lmc=new p.QBa();x(function(B){return d.__awaiter(z,[B],void 0,function(C){var D,F;F=C.Tr;return d.__generator(this,function(H){switch(H.label){case 0:return [4,F];case 1:return (D=H.S(),this.rK(D),[2]);}});});});}Object.defineProperties(v.prototype,{Fa:{get:function(){return this.Hp.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{li:{get:function(){return this.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Z:{get:function(){return this.Fq.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kb:{get:function(){return this.Fq;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{parent:{get:function(){return this.RA;},set:function(w){this.RA=w;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Uj:{get:function(){return this.Hp.Uj;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{nb:{get:function(){void 0 === this.sdb && (this.sdb=(0,c.rf)(g.platform,this.Fa.f8.console,this.jJb));return this.sdb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{xb:{get:function(){return this.Fa.config;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Fsb:{get:function(){return !1;},enumerable:!1,configurable:!0}});v.prototype.Sb=function(){var w,x;w=this.Hp;this.ZIa=new h.Lm({Bg:10,wj:this,source:this.jJb,console:this.nb});this.events=(0,q.cJa)(function(){return w;},w.Fa.events,this.UEb,u.OBb);this.Fq=w.Fa.Kb;x=w.Uj;x.Sb();w.Fa.od(new e.En(this.ZIa));w.Fa.od(new e.En(w.Uj.Ve));w.Fa.od(new r.N1a(("").concat(w.Xvb,"::gls"),x));w.Fa.parent=w.Rd;};v.prototype.zy=function(w){var x,y;x=this.player || this.Fa.player;this.player=w;w.WWa && w.WWa(this.Hp);y=this.Hp.Fa.zy(w.e8 || w);y?(this.player=w,x !== w && x.pIa && x.pIa()):this.player=x;return y;};v.prototype.rra=function(w,x,y,A,z){(w=w || this.HE(x || this.Kb)) && this.Awc(w,this.Fsb,y,A,z);};v.prototype.Awc=function(w,x,y,A,z){var B,C,D,F,H,E,G,K,N;B=w.Z;C=this.Hp.Rd;D=C.player;H=C.Z;if(F=y?y:C.$n && D.Jd?D.xh:C.Jw?C.Yi:void 0){E=this.Fa.Kb.get(F.L);G=w.get(F.L);E && !G && (F=this.Uj.IG(F));}C.config.UNc && x && D.SK(!0);x=C.UMa();m.u && this.nb.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(H)),{TLb:w.identifier});m.u && this.nb.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(B)));this.lmc.set(B,!0);H=this.Fa.eS(w);try{if(!H.success || F && !D.Jd && !C.Jw || y && z){(0,k.assert)(!D.Ia.Oi,"Player is not paused:" + l.Qv[H.reason]);C.$g(f.KL.jvb);H=this.Fa.eS(w);if(F){K=this.Uj.ME(F);N=B.$[K.L];(null === N || void 0 === N?void 0:N.type) === n.Fd.padding && (K={L:N.Ac,offset:c.I.fa});this.ZWa(F,A);this.Fa.fsa(K,A,z);D.resume();}m.u && this.nb.log("onNewInnerPlaygraph: result",{Iuc:w.identifier,result:l.Qv[H.reason],success:H.success,TLb:this.Kb.identifier,GZb:this.Fa.Kb.identifier});}else m.u && this.nb.log("onNewInnerPlaygraph: result (in-flight)",{Iuc:w.identifier,result:l.Qv[H.reason],success:H.success,TLb:this.Kb.identifier,GZb:this.Fa.Kb.identifier});}catch(I){m.u && this.nb.error(("onNewInnerPlaygraph: error: ").concat(I));}finally{x.release();}};v.prototype.eS=function(w){var y,A;function x(){var z;z=w.i4(y.Fq);m.u && y.nb.trace("updateWorkingPlaygraph:successHandler",{Fpa:y.Fq.identifier,epa:z.identifier});y.Fq=z;}y=this;A=this.HE(w) || w;try{return (this.Fa.events.nCb("playgraphUpdating",x),m.u && this.nb.trace("updateWorkingPlaygraph:Starting update",{Fpa:this.Fq.identifier,O1c:w.identifier,K1c:A.identifier}),this.Fa.eS(A));}finally{this.Fa.events.removeListener("playgraphUpdating",x);}};v.prototype.qL=function(w){w=n.OD.update(this.Kb,w);m.u && this.nb.log("updatePlaygraphMap:Attempt to update playgraph",{epa:w.identifier});return this.eS(w);};Object.defineProperties(v.prototype,{Bb:{get:function(){return this.xdb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{N1b:{get:function(){var w;return null === (w=this.oga) || void 0 === w?void 0:w.J;},enumerable:!1,configurable:!0}});v.prototype.rK=function(w){var x,y,A;x=w.U;y=x.Bb;x=x.Iy;A=this.xb.o6 || [];if(x && A.some(function(z){return z == w.R;}))return (y=("").concat(w.R," was excluded from content playgraph"),this.ZIa.vg(y),m.u && this.nb.trace(y),!1);y && !this.xdb && (this.xdb=y,this.oga=w);!this.oga && x && (this.oga=w);return !0;};v.prototype.$g=function(w){this.Fa.$g(w);};v.prototype.ZWa=function(){};d.__decorate([(0,h.Za)({methodName:"attachPlayer"})],v.prototype,"zy",null);d.__decorate([(0,h.Za)({methodName:"reevaluateInnerPlaygraph"})],v.prototype,"rra",null);d.__decorate([(0,h.Za)({methodName:"processViewableResponse"})],v.prototype,"rK",null);d.__decorate([(0,h.Za)({methodName:"cancelStreaming"})],v.prototype,"$g",null);return v;})();b.zBa=t;},57722:function(t,b,a){var n;function d(c,g){var f,e;f=n.__assign({},c);e=n.__read(g || [],1)[0];e && c[e] && (c=c[e],"object" === typeof c?(g=g.concat(),g.shift(),f[e]=d(c,g)):f[e]=c);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.Jd=function(c){return !(null === c || void 0 === c || !c.position);};b.Uoc=function(c){return !(null === c || void 0 === c || !c.L) && !(null === c || void 0 === c || !c.offset);};b.hmc=function(c){return !(null === c || void 0 === c || !c.L) || !(null === c || void 0 === c || !c.segmentId);};b.ipc=function(c,g){return "string" === typeof c && !(!g.Rd.Z.$[c] && !g.Fa.Z.$[c]);};b.ioc=function(c){return !(null === c || void 0 === c || !c.J) && !(null === c || void 0 === c || !c.Ua);};b.boc=function(c){return !(null === c || void 0 === c || !c.Wd);};b.FMa=function(c,g){var f;f=c;g.forEach(function(e){f=null === f || void 0 === f?void 0:f[e];});return f;};b.sIa=d;b.uGc=function(c,g,f){for(var e=0;e < g.length - 1 && c;e++)c=c[g[e]];return c?(c[g[g.length - 1]]=f,!0):!1;};n=a(22970);},54775:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});b.k1a=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(66164);f=a(69575);e=a(40666);h=a(48170);l=a(65161);k=a(49870);t=(function(){function m(p,r,q,u,v,w,x){var y;y=this;this.cc=p;this.Ej=r;this.config=q;this.cwc=u;this.Xd=v;this.console=w;this.bLa=new n.lf();this.events=new n.EventEmitter();this.console=(0,f.rf)(g.platform,w,"BranchDecisionMaker");this.kJb=[function(A,z){var B;B=A.Ba;return B.K.n_?(h.u && y.console.trace(("").concat(B.K.id," does not need tracking")),{result:!1}):z(A);},function(){return {result:!0};}];this.erc=new k.w6a(x,w);}m.Kgc=function(p){return p.Mb || p.CQ;};m.Thc=function(p){var r,q;r=p.Ac;q=p.lY;return r?r:q.length?q[0]:p.Fz[0];};m.prototype.F_b=function(p){this.kJb.unshift(p);};m.prototype.oca=function(p,r,q){var u,v,w;u=this;void 0 === q && (q=!1);v=p.K;q=c.hD.pJ({Ba:p,Pd:r,force:q},this.kJb);h.u && this.console.trace(("tracking ").concat(p.K.id),{E3c:q});if(!1 === q.result)this.pJb !== p && this.reset();else {this.reset();this.pJb=p;w=this.p3b(p);q=w.$ra;r=r.lessThan(w.OOa);h.u && this.console.trace(("tracking ").concat(p.K.id),{L:v.id,AXc:r,h3c:null === q || void 0 === q?void 0:q.G});this.aFc(v,r?q:void 0);if(r)this.bLa.on(p.events,"branchEdited",function(){u.oca(p,u.cc.Ia.currentTime,!0);});}};m.prototype.zjb=function(){var p;null === (p=this.Olb) || void 0 === p?void 0:p.Ja();this.Olb=void 0;};m.prototype.reset=function(){this.zjb();this.bLa.clear();this.pJb=void 0;};m.prototype.p3b=function(p){var r,q,u,v,w;v=1 < p.K.Fz.length || 0 < (null !== (q=null === (r=p.K.cl) || void 0 === r?void 0:r.length) && void 0 !== q?q:0);q=m.Kgc(p);r=c.I.Ca(v?this.config.U9:this.config.ivb);w=c.I.Ca(this.config.auc + this.config.T9);r=q.ca(r);q=(0,l.gr)(this.Xd.value)?q.ca(w):r;if(p=this.q3b(p,v))if((h.u && this.console.log("Calculated live decision",{reason:p.reason,type:null === (u=p.Bs) || void 0 === u?void 0:u.type}),p.Bs)){if("immediate" === p.Bs.type)return {OOa:c.I.fa};u=p.Bs.when;h.u && (0,c.assert)(u.type === e.tM.absolute,"we only support abs times");h.u && this.console.log("Calculated live decision for time",{HVc:u.timestamp});return {OOa:q,$ra:u.timestamp};}return {OOa:q,$ra:r};};m.prototype.q3b=function(p,r){if(this.config.ucc)return this.erc.csc(p,r);};m.prototype.aFc=function(p,r){var q,u;this.zjb();q=this;u=this.Ej;r && (u=this.cc);this.Olb=u.Pq(function(){return d.__generator(this,function(v){switch(v.label){case 0:return r?[4,e.Ud.Fm(r)]:[3,2];case 1:(v.S(),v.label=2);case 2:return (q.events.emit("onDeciding",{type:"onDeciding",Bs:q.cqb(p),ea:p}),[4,e.Ud.hua]);case 3:return (v.S(),q.bsc(p),[2]);}});},"branch decision");};m.prototype.cqb=function(p){return m.Thc(p);};m.prototype.bsc=function(p){var r;this.bLa.clear();r=this.cqb(p);h.u && this.console.trace(("BranchDecisionMaker making decision for ").concat(p.id,", decision is ").concat(r));this.cwc(p.id,r,!0);};return m;})();b.k1a=t;},25510:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.t1a=void 0;d=a(22970);n=a(91176);c=a(66164);a(97685);g=a(65161);f=a(52571);e=a(61996);h=a(40666);t=(function(){function l(k,m,p,r,q,u,v,w){var x;void 0 === w && (w=500);x=this;this.console=k;this.config=m;this.ed=p;this.events=r;this.Ipa=q;this.zr=u;this.cc=v;this.L2b=w;this.vUa=this.$Ta=this.tHa=0;this.Eoa=[];this.Oy={sV:0};this.state=new n.Mt(g.Dd.by);this.Ve=new e.Lm({Bg:10,wj:this,source:"BufferStateTracker",Agb:function(){return {isBuffering:x.en};}});}Object.defineProperties(l.prototype,{sV:{get:function(){return this.Oy.sV;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{en:{get:function(){return (0,g.gr)(this.state.value);},enumerable:!1,configurable:!0}});l.prototype.Aca=function(k){var m;m=this;Array.isArray(k) || (k=[k]);k.forEach(function(p){p.mediaType === g.v.X && (m.rib=d.__assign(d.__assign({},m.rib),{audio:{trackId:p.trackId,trackIndex:p.mL}}));});};l.prototype.Iwc=function(){this.$Ta=c.platform.time.na();};l.prototype.wY=function(k){this.set(g.Dd.by);this.KXa(k,g.Dd.Df);};l.prototype.Jpa=function(){this.Oy.sV++;};l.prototype.zY=function(k){this.DJ={Vj:k.Vj,ah:k.errorCode,Xg:k.Xg};"temporaryNetworkError" === k.type && this.state.value === g.Dd.Df && (k=this.ed.Evb || 0,c.platform.time.na() - k >= this.config.Zoa && this.Ipa("BufferingStateTracker: Temporary failure while buffering","NFErr_MC_StreamingFailure",this.DJ));};l.prototype.Spa=function(){this.DJ=void 0;};l.prototype.Dk=function(k){this.en || this.KXa(k,g.Dd.Fl);};l.prototype.$wc=function(k,m){this.state.value !== g.Dd.Df && this.KXa(k,g.Dd.Wfa);this.Aca(m);};l.prototype.owc=function(k,m){var p;p=this;this.config.J2b && this.en && (-1 === this.Eoa.indexOf(k) && this.Eoa.push(k),2 === this.Eoa.length && Promise.resolve().then(function(){p.en && void 0 !== p.JC && p.Sl("memoryLimit",m.y_,m.z_);}));};l.prototype.eGc=function(k,m){(0,f.assert)(this.state.value === g.Dd.Df && void 0 === this.JC);this.JC=k;m && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:m.trackId,trackIndex:m.mL}),this.Aca(m));};l.prototype.yGc=function(k,m,p){(0,f.assert)(this.en);this.kPa=null !== k && void 0 !== k?k:this.kPa;this.c8=null !== m && void 0 !== m?m:this.c8;this.fX=p || this.fX;};l.prototype.Sl=function(k,m,p){var r;(0,f.assert)(this.en && void 0 !== this.JC && void 0 === this.Iia && void 0 === this.Rta && void 0 === this.tha);this.Iia=k;this.Rta=m;this.tha=p;this.ou=100;this.oIa();this.VJa();null === (r=this.cIa) || void 0 === r?void 0:r.Ja();this.state.value === g.Dd.Fl && (this.vUa=c.platform.time.na());this.Nbc();this.set(g.Dd.Po);this.tha=this.Rta=this.Iia=this.fX=this.c8=this.kPa=this.JC=void 0;};l.prototype.stop=function(){var k;this.set(g.Dd.by);this.oIa();this.VJa();null === (k=this.cIa) || void 0 === k?void 0:k.Ja();};l.prototype.bIa=function(k,m,p,r){var q,u,v,w,x,y,A,z,B,C;q=this;(0,f.assert)(this.en);null === (u=this.cIa) || void 0 === u?void 0:u.Ja();if(this.state.value === g.Dd.Fl && c.platform.time.na() < this.vUa + this.config.myb){x=this.config.myb - (c.platform.time.na() - this.vUa);this.cIa=this.cc.uu(h.Ud.Kx(n.I.Ca(x)),function(){q.bIa(k,m,p,r);});}else {u=p.gF(g.v.X);y=p.gF(g.v.V);A=c.platform.time.na() - Math.max(this.tHa,this.$Ta);if(u || y){z=function(D){return D?D.Sw() || D.bo()?r.Via(q.state.value,k,A >= q.config.UY,m,D,q.sV):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};B=z(u);z=z(y);C=function(D){var F;return {reason:D.reason,complete:D.complete,bl:null !== (F=D.lu) && void 0 !== F?F:0};};this.Ve.vg({as:C(B),vs:C(z),bt:A});C=y?z:B;C.ANc=y && z.lu || 0;C.p1b=u && B.lu || 0;B.complete && z.complete?(C.complete=!0,this.Sl(null !== (x=C.reason) && void 0 !== x?x:"unknown",null !== (v=C.ANc) && void 0 !== v?v:0,null !== (w=C.p1b) && void 0 !== w?w:0)):(C.complete=!1,this.o3b(C),this.Ve.vg({bp:this.ou}));}}};l.prototype.o3b=function(k){var m,p,r;r=k.progress;k.k9?r=(c.platform.time.na() - Math.max(this.tHa,this.$Ta)) / this.config.UY:r || (r=(null !== (m=k.lu) && void 0 !== m?m:0) / this.config.no);k=Math.min(Math.max(Math.round(100 * r),null !== (p=this.ou) && void 0 !== p?p:0),99);k != this.ou && (this.ou=k);};l.prototype.KXa=function(k,m){(0,f.assert)(m === g.Dd.Df || void 0 !== k);this.JC=k;this.ou=0;this.qpa=void 0;this.Oy.sV=0;this.Eoa=[];k=this.state.value === g.Dd.Df || this.state.value === g.Dd.Fl;this.tHa=c.platform.time.na();this.set(m);k || this.Pbc();this.en && (this.dHc(),(m === g.Dd.Fl || this.config.qDc) && this.Gkb());};l.prototype.set=function(k){this.state.set(k);};l.prototype.Pbc=function(){(0,f.assert)(this.events && void 0 !== this.ou);this.qpa=this.ou;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:c.platform.time.na(),percentage:this.ou});};l.prototype.dHc=function(){var k;k=this;this.oIa();this.gvc=this.cc.qja(function(){return k.Obc();},n.I.Ca(this.L2b),"buffering-notification");};l.prototype.oIa=function(){var k;null === (k=this.gvc) || void 0 === k?void 0:k.Ja();};l.prototype.Obc=function(){this.en && this.events && void 0 !== this.ou && this.ou !== this.qpa && this.events.emit("buffering",{type:"buffering",time:c.platform.time.na(),percentage:this.ou}) && (this.qpa=this.ou);};l.prototype.Nbc=function(){var k;(0,f.assert)(this.events && this.JC && void 0 !== this.Iia && void 0 !== this.tha && void 0 !== this.Rta);this.qpa=this.ou;k=d.__assign({type:"bufferingComplete",time:c.platform.time.na(),actualStartPosition:this.JC,reason:this.Iia,aBufferLevelMs:this.tha,vBufferLevelMs:this.Rta,selector:this.kPa,initBitrate:this.c8,initSelReason:this.fX},this.rib);this.events.emit("bufferingComplete",k);};l.prototype.Gkb=function(){var k;k=this;!this.sE || this.sE.state !== h.Hl.complete && this.sE.state !== h.Hl.UN?void 0 === this.sE && (this.sE=this.cc.Pq(function(){return k.uib();},"bufferingTimeoutTask")):this.sE.Uc();};l.prototype.VJa=function(){this.sE && (this.sE.state !== h.Hl.UN && this.sE.Ja(),this.sE=void 0);};l.prototype.uib=function(){var k,m,p;return d.__generator(this,function(r){switch(r.label){case 0:return (k=this.config.w9,this.console.trace(("BufferingStateTracker: starting buffering timer: ").concat(k,"ms")),[4,h.Ud.Kx(n.I.Ca(k))]);case 1:(r.S(),r.label=2);case 2:if(!this.en)return [3,4];m=this.ed.Evb || 0;p=c.platform.time.na() - m;if(p >= k)return (this.console.trace(("Forcing streaming failure, ").concat(p,"ms since data received")),this.Ipa("BufferingStateTracker: Temporary failure while buffering","NFErr_MC_StreamingFailure",this.DJ),[2]);this.console.trace(("BufferingStateTracker: network activity, wait ").concat(k - p,"ms"));return [4,h.Ud.Kx(n.I.Ca(k - p))];case 3:return (r.S(),[3,2]);case 4:return [2];}});};d.__decorate([(0,e.Za)({methodName:"onTemporaryNetworkError",Re:!0})],l.prototype,"zY",null);d.__decorate([(0,e.Za)({methodName:"onUnderflow",Re:!0})],l.prototype,"Dk",null);d.__decorate([(0,e.Za)({methodName:"bufferingComplete",Re:!0})],l.prototype,"Sl",null);d.__decorate([(0,e.Za)({methodName:"stop",Re:!0})],l.prototype,"stop",null);d.__decorate([(0,e.Za)({methodName:"checkStreamingBufferingComplete",Re:!0})],l.prototype,"bIa",null);d.__decorate([(0,e.Za)({methodName:"createBufferingTimeoutTask",Re:!0})],l.prototype,"Gkb",null);d.__decorate([(0,e.Za)({methodName:"destroyBufferingTimeoutTask",Re:!0})],l.prototype,"VJa",null);d.__decorate([(0,e.Za)({methodName:"bufferingTimeoutTaskRunner",Re:!0})],l.prototype,"uib",null);return l;})();b.t1a=t;},56879:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.x8b=function(c){var h,l;function g(k){(0,n.gr)(k.newValue) && !(0,n.gr)(k.oldValue)?(null === l || void 0 === l?void 0:l.Ja(),l=h.uu.apply(h,d.__spreadArray([],d.__read(f),!1))):null === l || void 0 === l?void 0:l.Ja();}for(var f=[],e=1;e < arguments.length;e++)f[e - 1]=arguments[e];e=c.Nf;h=c.Ej;e.state.addListener(g);g({oldValue:n.Dd.by,newValue:e.state.value});};d=a(22970);n=a(65161);},78538:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Inb=function(n,c,g,f,e){var h,l;h=[];l=[];n=n.Yp.values.filter(function(k){return k.dm;}).map(function(k){var m,p;m=c(k.O,g,f,e);p=m.map(function(r){return r.mediaType;});h=(0,d.q4)(h,p);p=(0,d.Iq)(m,k.ja).map(function(r){return r.mediaType;});l=(0,d.q4)(l,p);p=(0,d.Iq)(k.ja,m).map(function(r){return r.mediaType;});l=(0,d.q4)(l,p);return {Ba:k,ja:m};});return {Xib:l,A2b:n,h0b:h};};d=a(91176);},19455:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.b4a=void 0;d=a(22970);n=a(45247);c=a(52571);g=a(65161);f=a(44284);e=a(14246);h=a(56841);l=a(8149);t=(function(k){function m(p,r,q,u,v){p=k.call(this,p,r,q,u,v) || this;r=(0,e.vNa)(p.config);p.Nqa=r.VY.bind(r);p.kvb=new h.M1();return p;}d.__extends(m,k);m.prototype.zFb=function(p,r,q,u,v,w,x,y,A,z){var B,C,D,F,H,E,G,K,N,I,L,O;C=[];D=w.track;if(!this.wqa(D,(0,l.eo)(D)?D.Lla(u):void 0))return {stream:L,IC:C,reason:"locationSelectionFailure"};F=w.Qp;H=w.GO;u=F.Jla();E=w.mediaType;G=E === n.v.X;K=E === n.v.Aa;N=w;if((K || G) && !u){I=w.Ba.gF(n.v.V);N=I?I:N;}v=this.elb(p,r,v,N,!!z);r=this.nic(w,r,p,v.state,q,y,A,u);p=r.first;y=(null === y || void 0 === y?void 0:y.Tia) || (null === A || void 0 === A?void 0:A.Tia);if(0 === p.length && y)return {stream:void 0,IC:C,reason:"allStreamsFiltered"};!u || (null === (B=u.C7(D.mediaType)) || void 0 === B?0:B.equals(w.track)) || (u=this.Pec(u,p));if((K || G) && u){L=u.vi(E);C=this.Mrb(p,u);return {stream:L,IC:C};}x=F.KZ(v,r,0,this.Nqa,N.SPa(),x,H);if(!x)return {stream:L,IC:C,reason:"streamSelectionFailure"};w={Lg:x.Lg,mK:x.mK};if(x.reason){O=x.reason;this.gjb(E,p,q);}this.Qbc(x,p);u=x.zd || p[0];F.yk(n.v.X).rR(u.vi(n.v.X));F.yk(n.v.V).rR(u.vi(n.v.V));C=this.Mrb(p,u);L=u.vi(E);q=x.kn;u=Array.from(new Set(p.map(function(J){return J.vi(E);}).filter(function(J){return void 0 !== J;})));F=d.__assign(d.__assign({},x),{zd:L});return {stream:L,IC:C,fX:O,xx:w,kn:q,wob:u,CFb:F};};m.prototype.Mrb=function(p,r){var q;q=this.Nrb(p,r,n.v.X);p=this.Nrb(p,r,n.v.V);return d.__spreadArray(d.__spreadArray([],d.__read(q),!1),d.__read(p),!1);};m.prototype.Nrb=function(p,r,q){var u;p=p.map(function(v){return v.vi(q);});u=r.vi(q);return p.filter(function(v){var w;return void 0 !== v && v !== u && v.Pr && !v.xa && !(null === (w=v.La) || void 0 === w?0:w.length);});};m.prototype.nic=function(p,r,q,u,v,w,x,y){var A,z,B,C,D,F;A=new f.bya();z=this.dh(p.Ba.cP(n.v.V),q,v,p.Ba.Wd,p.Ba.Rf,x);B=this.dh(p.Ba.cP(n.v.X),q,v,p.Ba.Wd,p.Ba.Rf,w);C=p.Ba.cP(n.v.Aa);D=this.qla(p,r);z=this.kvb.Mkb(this.config,this.Nqa,D,u,B,z,C,y);A.qN(z);r=p.Ba.Mb.ca(r);r=this.config.uoa - r.G;for(z=p;0 < r;){F=this.navigator.next(z);if(null === F || void 0 === F || !F.Rf)break;z=this.dh(F.Ba.cP(n.v.V),q,v,F.Ba.Wd,F.Ba.Rf,x);B=this.dh(p.Ba.cP(n.v.X),q,v,p.Ba.Wd,p.Ba.Rf,w);z=this.kvb.Mkb(this.config,this.Nqa,D,u,B,z,C,y);A.qN(z);r-=F.Ba.K.Rb.G;z=F;}return A;};m.prototype.Pec=function(p,r){var q;q=r[0];r.filter(function(u){return u.Us;}).every(function(u){return u.gw && u.Bt && p.gw && p.Bt && u.gw <= p.gw && u.Bt <= p.Bt?(q=u,!0):!1;});return q;};m.prototype.Via=function(p,r,q,u,v,w,x){var y,A,z;if(!(0,g.gr)(r))return {complete:!0,reason:"playing"};if(!w.rUa)return {complete:!1,reason:"unknown"};if(w.vAb)return ((0,c.assert)(w.bqa),w.bqa);y=w.Qp;A=this.qla(w,q);z=y.Jla();q=A.uk - A.Xc;if(q < this.config.no || void 0 === z)return {complete:!1,lu:q,reason:"preBuf"};if(w.mediaType === n.v.X)return {complete:!0,lu:q,reason:"audio"};if(p=p.aIa(w.mediaType))return {complete:!0,lu:q,reason:p};this.wqa(w.track);w=new f.bya();w.qN([z]);y.S$(w,(0,g.aUa)(r),A,this.Nqa);r=y.hB(A,r,v,z,x);if(!r.complete && u)return {complete:!0,reason:"prebufferTimeLimit",lu:q};r.lu=q;return r;};m.prototype.ekc=function(p,r){var q;return d.__assign(d.__assign({},r),{zd:null === (q=r.zd) || void 0 === q?void 0:q.vi(p)});};m.prototype.Dkc=function(p,r){return Array.from(new Set(r.map(function(q){return q.vi(p);}).filter(function(q){return void 0 !== q;})));};m.prototype.Qbc=function(p,r){var q;q=this;r[0].C6(function(u){var v,w;v=q.Dkc(u.mediaType,r);w=q.ekc(u.mediaType,p);q.events.emit("streamSelection",{type:"streamSelection",mediaType:u.mediaType,result:w,streamList:v});});this.events.emit("jointStreamSelection",{type:"jointStreamSelection",result:p,streamList:r});};return m;})(a(54477).qxa);b.b4a=t;},94328:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mNc=function(f,e){f=f.$[e.L];if(void 0 === f)return {tX:!1,reason:("Segment ").concat(e.L," was not found")};if(0 > e.offset.G)return {tX:!1,reason:("Offset ").concat(e.offset.G," was negative")};if(void 0 === f.ib || null === f.ib || Infinity === f.ib)return {tX:!0};f=f.ib - f.cb;return e.offset.G >= f?{tX:!1,reason:("Offset ").concat(e.offset.G," was greater than segment duration ").concat(f)}:{tX:!0};};b.gOa=function(f,e){if(f === e)return !0;if(f && e && f.L === e.L){if(f.offset === e.offset)return !0;f=d.I.abs(f.offset.ca(e.offset));if(g.greaterThan(f))return !0;}return !1;};b.Dp=function(f,e,h){var l,k,p;l=e.oa;e=e.xnc;void 0 === h && (h={});l=l.Kb;k=(null === e || void 0 === e?0:e.id)?l.get(null === e || void 0 === e?void 0:e.id):l.initial;(0,n.assert)(k,"initialSegment must be found in workingPlaygraph");e=(null === e || void 0 === e?void 0:e.wFc) || (null === k || void 0 === k?void 0:k.lb);if(e.greaterThan(f))return h.jIc?{offset:f.ca(e),L:k.id}:void 0;k=l.vF.MI(k.id);for(var m=k.next();!m.done;){l=m.value;p=e;e=p.add(l.Rb);if(e.greaterThan(f))return (f=f.ca(p),c.u && (0,n.assert)(f.pf(d.I.fa) && f.lessThan(l.Rb)),{L:l.id,offset:f});m=k.next();if(m.done && h.kIc)return {L:l.id,offset:f.ca(p)};}};b.ujb=function(f,e){e=e.get(f.L);(0,n.assert)(e,"workingSegment must exist in workingPlaygraph for the position to clamp");e=e.tjb(f.offset);return {vjb:e,vw:f.offset.ca(e)};};b.cFb=function(f,e){f=f.$[e.L];if(void 0 !== f)return null === f.ib || void 0 === f.ib?{L:e.L,offset:d.I.max(d.I.fa,e.offset)}:{L:e.L,offset:d.I.max(d.I.fa,d.I.min(e.offset,d.I.Ca(f.ib - f.cb)))};};d=a(91176);n=a(52571);c=a(48170);g=d.I.Ca(100);},54477:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qxa=void 0;t=a(22970);d=a(66164);n=a(65161);c=t.__importDefault(a(40497));g=a(8149);a=(function(){function f(e,h,l,k,m){this.config=e;this.aIc=h;this.navigator=l;this.events=k;this.console=m;}f.prototype.dh=function(e,h,l,k,m,p){return p?p.dh(e,h,l.ca(k),m):e;};f.prototype.Sbc=function(e,h,l){this.events.emit("streamSelection",{type:"streamSelection",mediaType:e,result:h,streamList:l});};f.prototype.Rbc=function(e,h,l,k){e={type:"maxVideoBitrateChanged",time:d.platform.time.na(),streaming:k,maxvb_old:e,maxvb:h,reason:l};this.events.emit(e.type,e);};f.prototype.wqa=function(e,h){return e.O.wi.Mta(e.O.J,e.De,h);};f.prototype.qla=function(e,h){var A;for(var l,k=h.ca(this.aIc),m=[],p=e,r=h,q,u,v=0,w=0,x=(0,g.eo)(e.track),y=!0;p;){A=p.qqb(k);if(!y && !p.Nj && !x)break;0 < A.La.length && (r=A.La[0].Pb,void 0 === q && (q=A.La[A.La.length - 1].Mb,u=A.pqa >= A.La.length?q:A.La[A.pqa].Pb),m=A.La.concat(m),v+=0 < A.nx?A.nx:0,w+=A.mZ);p=this.navigator.parent(p);y=!1;}return {nw:d.platform.LW()[e.mediaType],Db:Math.floor(r.G),Xc:h.G,ul:Math.floor(null !== (l=null === q || void 0 === q?void 0:q.G) && void 0 !== l?l:h.G),uk:Math.floor(u?u.G:h.G),Vp:m.reduce(function(z,B){return z + B.ka;},0),nx:v,mZ:w,$Yc:m.length,La:m};};f.prototype.elb=function(e,h,l,k,m){var p,r,q;e=(0,n.aUa)(e);p=this.qla(k,h);r=k.mediaType === n.v.V?this.config.Oca:this.config.u4;q=c.default.instance();h={state:e,Rw:e === n.Wb.bg,ef:k.po,playbackRate:l,buffer:p,gka:r,QV:m,mk:null === q || void 0 === q?void 0:q.mk,mediaType:k.mediaType,Xc:h.G,fVa:0};this.BMc(h,void 0 !== k.Qp.tl.qj);return h;};f.prototype.gjb=function(e,h,l){var p,r;if(e === n.v.V){e="manifest";for(var k=0,m=h.length - 1;0 <= m;--m){p=h[m];r=p.bitrate;if(p.uF){k=Math.max(k,r);break;}else p.fr?p.qp && (e="hf"):e="av";}this.Fxb !== k && (this.Rbc(this.Fxb,k,e,l),this.Fxb=k);}};f.prototype.BMc=function(e,h){switch(e.state){case n.Wb.Df:case n.Wb.Fl:case n.Wb.bg:case n.Wb.gi:if(h)break;e.state=n.Wb.Oo;case n.Wb.Oo:h && (e.state=n.Wb.Df);}};return f;})();b.qxa=a;},28696:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.c4a=void 0;d=a(22970);n=a(45247);c=a(65161);g=a(14246);f=a(44284);e=a(52571);h=a(8149);t=(function(l){function k(m,p,r,q,u){m=l.call(this,m,p,r,q,u) || this;p=(0,g.vNa)(m.config);m.psa=p.psa.bind(p);m.lXa=p.lXa.bind(p);m.gMa=p.gMa.bind(p);m.$Na=p.$Na.bind(p);m.dCb=[p.cCb.bind(p),p.VY.bind(p)];return m;}d.__extends(k,l);k.prototype.zFb=function(m,p,r,q,u,v,w,x,y,A){var z,B,C,D,F,H;z=[];y=v.mediaType === n.v.X?x:y;B=v.track;if(!this.wqa(B,(0,h.eo)(B)?B.Lla(q):void 0))return {stream:C,IC:z,reason:"locationSelectionFailure"};u=this.elb(m,p,u,v,!!A);A=v.Qp;q=A.tl;x=v.GO;C=q.qj;D=this.Tkc(v,p,m,r,y);m=D.first;if(0 === m.length && (null === y || void 0 === y?0:y.Tia))return {stream:void 0,IC:z,reason:"allStreamsFiltered"};C && !C.track.equals(B) && (C=this.Qec(C,m));y=v.mediaType;if((p=y === n.v.X) && C && !this.DHc(q,C))return (this.config.lsb && this.psa(C.bitrate),{stream:C,IC:z});B=this.dCb[y];F=p?this.$Na():this.gMa();v=A.KZ(u,D,F,B,v.SPa(),w,x);if(!v)return {stream:C,IC:z,reason:"streamSelectionFailure"};w={Lg:v.Lg,mK:v.mK};if(v.reason){H=v.reason;this.gjb(y,m,r);}this.Sbc(y,v,m);C=v.zd || m[0];r=C.bitrate;p?this.config.lsb && this.psa(r):this.lXa(r);q.rR(C);z=m.filter(function(E){var G;return E !== C && E.Pr && !E.xa && !(null === (G=E.La) || void 0 === G?0:G.length);});return {stream:C,IC:z,fX:H,xx:w,kn:v.kn,wob:m,CFb:v};};k.prototype.Tkc=function(m,p,r,q,u){var v;v=new f.dDa();v.qN(this.dh(m.track.De,r,q,m.Ba.Wd,m.Rf(),u));p=m.Ba.Mb.ca(p);for(p=this.config.uoa - p.G;0 < p;){m=this.navigator.next(m);if(null === m || void 0 === m || !m.Rf)break;v.qN(this.dh(m.track.De,r,q,m.Ba.Wd,m.Rf(),u));p-=m.Ba.K.Rb.G;}return v;};k.prototype.DHc=function(m,p){return 0 < this.config.zo.length?!0:(m=m.xX) && m === p.location?!1:!0;};k.prototype.Qec=function(m,p){var r;r=p[0];p.filter(function(q){return q.Us;}).every(function(q){return q.bitrate <= m.bitrate?r=q:!1;});return r;};k.prototype.Via=function(m,p,r,q,u,v,w){var x,y,A;if(!(0,c.gr)(p))return {complete:!0,reason:"playing"};if(!v.rUa)return {complete:!1,reason:"unknown"};if(v.vAb)return ((0,e.assert)(v.bqa),v.bqa);x=v.Qp;y=x.tl;r=this.qla(v,r);A=y.qj;y=r.uk - r.Xc;if(y < this.config.no || void 0 === A)return {complete:!1,lu:y,reason:"preBuf"};if(v.mediaType === n.v.X)return {complete:!0,lu:y,reason:"audio"};if(m=m.aIa(v.mediaType))return {complete:!0,lu:y,reason:m};this.wqa(v.track);m=new f.dDa();m.qN([A]);x.S$(m,(0,c.aUa)(p),r,this.dCb[v.mediaType]);p=x.hB(r,p,u,A,w);if(!p.complete && q)return {complete:!0,reason:"prebufferTimeLimit",lu:y};p.lu=y;return p;};return k;})(a(54477).qxa);b.c4a=t;},49870:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.w6a=void 0;d=a(22970);n=a(91176);c=a(40666);t=(function(){function g(f,e){this.oa=f;this.console=e;}g.prototype.grb=function(f){return f.lessThan(n.I.fa)?{Bs:{type:"immediate"},reason:"Invoking Panic"}:{Bs:{type:"player",when:c.Ud.Fm(f)},reason:"Panic"};};g.prototype.csc=function(f,e){var h,l,k,m;l=f.O;if(!l.vc || e)return {reason:"not live or multi-choice"};if(!l.bi)return {reason:"no media events store",Bs:{type:"immediate"}};e=l.qd.vlb;l=null === (h=this.oa.Kb.get(f.K.id)) || void 0 === h?void 0:h.Ac;h=this.oa.Kb.get(l);l=n.I.zg;h && (l=h.Ub.ca(f.za).add(f.Mb));e=l.ca(e.Xqc);l=f.K.type;k=this.oa.config;m=this.oa.Pd.add(e);k=f.Mb.ca(n.I.Ca(k.ivb));!1;return h?f.K.type !== h.type && "adBreak" === l?{Bs:{type:"immediate"},reason:"transition from adBreak"}:f.K.type === h.type && "adBreak" !== l?{Bs:{type:"immediate"},reason:"transition to like segments"}:h.Rb.isFinite()?e.lessThan(n.I.fa)?{Bs:{type:"immediate"},reason:"successor end beyond live edge end"}:k.lessThan(m)?this.grb(k):{Bs:{type:"player",when:c.Ud.Fm(m)},reason:"waiting till live edge beyond successor end"}:d.__assign(d.__assign({},this.grb(k)),{reason:"successor not finite"}):{reason:"successor not found"};};return g;})();b.w6a=t;},95650:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.A2a=void 0;d=a(22970);n=a(91176);c=a(91176);g=a(66164);f=a(90745);t=(function(){function e(h,l,k,m,p,r){var u;function q(){u.O.qd.HI && (u.WY.Uc(),u.O.events.mm("liveEventTimesUpdated",q));}u=this;this.O=h;this.Ej=l;this.BK=k;this.ft=m;this.oa=p;this.iIa=new Map();this.Qna=new n.sya({vra:n.XBa.all});this.vu={yb:new Map(),SFa:[]};this.console=(0,n.rf)(g.platform,r,"DAIPREFETCHER");!1;this.wO=new f.lf();this.WY=this.Ej.Pq(function(){return u.dFc();},"DaiPrefetcher.schedulePrefetchAds");this.wO.addListener(m.events,"adBreakComplete",function(){return u.WY.Uc();});this.wO.addListener(m.events,"adBreakPresenting",function(){return u.WY.Uc();});this.O.events.on("liveEventTimesUpdated",q);this.FAc(this.O.U);this.Lvb=this.Qvc.length;}Object.defineProperties(e.prototype,{Hz:{get:function(){var h,l;l=null === (h=this.O.bi) || void 0 === h?void 0:h.model;return l?l.yb.map(function(k){return k.fb;}).filter(n.$c):[];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Qvc:{get:function(){var h,l,k;h=this;k=null === (l=this.O.bi) || void 0 === l?void 0:l.model;return k?k.yb.filter(function(m){return m.Ua.add(m.duration).lessThan(h.O.bi.ax);}).map(function(m){return m.fb;}).filter(n.$c):[];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Wpc:{get:function(){var h;h=this.ft.cF().result[this.O.J] || [];return h[h.length - 1];},enumerable:!1,configurable:!0}});e.prototype.FAc=function(h){var l;if(null === (l=h.He) || void 0 === l?0:l.Rq)(h=h.He,h.QFa && (!1,this.osb(h,new c.AbortController())));};e.prototype.eWa=function(){d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.WY.dn || this.WY.Uc();return [2];});});};e.prototype.jIa=function(h){var l;l=this;h.forEach(function(k){(k=k.Ge.fb) && l.iIa.delete(k);});};e.prototype.Qkb=function(h,l){var k,m,p;if(!l.has(h)){p=null === (m=null === (k=h.jc) || void 0 === k?void 0:k[0]) || void 0 === m?void 0:m.id;p && (k=this.BK.Cr(p,{Mf:{Bb:this.O.U.Bb,kd:this.O.J}}),k.Tr.then(function(){!1;}),l.h_b(h,k.fm));}};e.prototype.qec=function(){d.__awaiter(this,void 0,void 0,function(){var h,l,k,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:(null === (r=this.Nfb) || void 0 === r?void 0:r.ji.abort(),h=new c.AbortController(),this.Nfb={ji:h},k=this.Hz,q.label=1);case 1:return (q.qc.push([1,3,,4]),m=Array.from(this.vu.yb.keys()).filter(function(u){return -1 === k.indexOf(u);}),[4,this.BK.ZQ({Mf:{Bb:this.O.U.Bb,kd:this.O.J},Hz:k,P4:m},h.signal)]);case 2:return (l=q.S(),[3,4]);case 3:return (p=q.S(),this.console.error("DaiPrefetcher: error fetching prefetch ads",n.P0.EO(p)),[2]);case 4:if(h.signal.aborted)return [2];!1;this.osb(l,h);this.Lvb=k.length;return [2];}});});};e.prototype.osb=function(h,l){var k,m,p,u,v;p=new n.sya({vra:n.XBa.all});this.Ctc(h);try{for(var r=d.__values(this.vu.SFa),q=r.next();!q.done;q=r.next()){u=q.value[0];if(u){v=this.vu.yb.get(u);v?this.Qkb(v,p):this.console.error("DaiPrefetcher: ad break not found for trigger",{fb:u,yb:Array.from(this.vu.yb.keys())});}}}catch(x){var w;w={error:x};}finally{try{q && !q.done && (k=r.return) && k.call(r);}finally{if(w)throw w.error;}}l.signal.addEventListener("abort",function(){!1;p.clear();});null === (m=this.Alb) || void 0 === m?void 0:m.ji.abort();this.Alb={ji:l};this.Qna=p;this.Nfb=void 0;};e.prototype.Ctc=function(h){var l,k,m,q,u;m=this.Hz;try{for(var p=d.__values(Object.keys(h.QFa)),r=p.next();!r.done;r=p.next()){q=r.value;u=h.QFa[q];"" === q?this.console.error("Empty ad break trigger id in prefetch data"):"REMOVE" === u.action || -1 !== m.indexOf(q)?(!1,this.vu.yb.delete(q)):"UPSERT" === u.action && (u.Qa.OV || null !== (k=u.Qa.jc) && void 0 !== k && k.length?(!1,this.vu.yb.set(q,u.Qa)):this.console.error("Empty dynamic ad break in prefetch data",{zta:q,Qa:u.Qa}));}}catch(w){var v;v={error:w};}finally{try{r && !r.done && (l=p.return) && l.call(p);}finally{if(v)throw v.error;}}this.vu.SFa=h.hxc.map(function(w){return w.filter(function(x){x=-1 !== m.indexOf(x);!1;return !x;});}).filter(function(w){return w.length;});};e.prototype.cF=function(){return this.iIa;};e.prototype.g5b=function(h,l){var k,m,p,r,q;m=this;!1;if(this.vu.yb.has(h)){p=this.vu.yb.get(h);this.Ej.uu(n.Ud.Kx(n.I.Ca(1E3)),function(){return d.__awaiter(m,void 0,void 0,function(){return d.__generator(this,function(x){switch(x.label){case 0:return [4,this.oa.Taa()];case 1:return (x.S(),this.Qna.delete(p),[2]);}});});},"delayedLeaseCleanup");r=function(x){var y,A;y=x.indexOf(h);-1 !== y && x.splice(y,1);0 === y && 0 < x.length && ((y=q.vu.yb.get(x[0]))?q.Qkb(y,q.Qna):q.console.error("Invalid state detected, did not have adbreak metadata for ad break trigger",{triggerId:x[0]}));x=p.jc || [];A=l.duration.G;x=x.filter(function(z){z=z.ib - z.cb;if(A >= z - 1E4)return (A=Math.max(A,0),A-=z,!0);!1;A=-Infinity;return !1;});q.iIa.set(h,d.__assign(d.__assign({},p),{jc:x}));q.vu.yb.delete(h);};q=this;try{for(var u=d.__values(this.vu.SFa),v=u.next();!v.done;v=u.next())r(v.value);}catch(x){var w;w={error:x};}finally{try{v && !v.done && (k=u.return) && k.call(u);}finally{if(w)throw w.error;}}}else !1;};e.prototype.dFc=function(){var h;return d.__generator(this,function(l){switch(l.label){case 0:return (h=this.ajc().V3b,[4,n.Ud.Fm(h)]);case 1:return (l.S(),this.qec(),[2]);}});};e.prototype.ajc=function(){var l,k,m,p,r,q,u;function h(v,w){var x;v=null !== (x=null !== v && void 0 !== v?v:r) && void 0 !== x?x:0;w=null !== w && void 0 !== w?w:p;w=void 0 === w?v:Math.floor(Math.random() * w) + v;!1;return w;}k=this.O.U.He;m=this.Wpc;p=k.Wlb;r=k.R$b;k=n.I.Ca(h(k.znc,k.ync));q=m && ("daiPrefetch" === m.source || "hydration" === m.source);u=q && m.zDb?n.I.Ca(h(m.Vzc,m.Uzc)):n.I.zg;k=q && u || k;k.isFinite() || this.Alb || (k=n.I.Ca(h(r,p)));!this.vu.yb.size || null !== (l=this.O.bi) && void 0 !== l && l.cCc || (!1,k=n.I.zg);this.Hz.length && this.Hz.length === this.Lvb && (!1,k=n.I.zg);l=m?m.Ua.add(m.duration):this.O.qd.HI || n.I.zg;l=this.O.qd.ukb(l);l=this.O.qd.P1b(l).add(k);l=this.O.qd.lsa(l.G);!1;return {V3b:n.I.Ca(l)};};e.prototype.Ja=function(){!1;this.Qna.Ja();this.WY.Ja();this.wO.clear();};return e;})();b.A2a=t;},41456:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.z7a=void 0;d=a(22970);n=a(90745);c=a(66164);g=a(91176);f=a(61996);e=a(48170);h=a(40666);l=a(95650);t=(function(){function k(m,p,r,q){this.oa=m;this.Yg=p;this.config=r;this.console=q;this.lJ=new n.lf();this.EJa=new WeakMap();this.WTa=new n.lf();this.events=new n.EventEmitter();this.console=(0,g.rf)(c.platform,q,"MEDIAEVENTSMANAGER");e.u && this.console.trace("MediaEventsManager ctor");this.dk=new f.Lm({wj:this,source:"media-events-manager",Bg:10,console:q});this.Hqa=this.oa.Tc;}k.prototype.y7=function(m){return m.bi;};Object.defineProperties(k.prototype,{enabled:{get:function(){return this.config.hO;},enumerable:!1,configurable:!0}});k.prototype.TF=function(m){var p,r,q,u,v,w;p=this;if(this.enabled && m.vc){v=this.y7(m);if(v){e.u && this.console.trace("MediaEventsManager","onViewableReceived",m.J);w=function(x){x={id:x.id,Yo:x.Yo,hC:x.hC,payload:x.payload};e.u && p.console.trace("emitting mediaEventReceived:",x);p.events.emit("mediaEventReceived",x);};v.model.Ez.forEach(w);this.lJ.addListener(v.events,"netflixEventReceived",w);this.lJ.addListener(v.events,"netflixEventCancelled",function(x){var y;x={id:x.id,Yo:x.Yo,Q4c:x.duration.G,hC:x.hC,payload:x.payload};e.u && p.console.trace("emitting mediaEventCancelled:",x);p.events.emit("mediaEventCancelled",x);null === (y=p.Aoa) || void 0 === y?void 0:y.Uc();});this.lJ.addListener(v.events,"modelUpdated",function(x){var y;e.u && p.console.trace("modelUpdated",{id:m.J,FKb:Array.from(x.Cca.values())});if(x.Cca.has("breakstart") || x.Cca.has("adbreak"))(p.i5b(m,x.dSa),p.events.emit("adsUpdated",{O:m}));x.Cca.has("netflix") && (e.u && p.console.trace("restarting mediaEventsTask - netflix updates"),null === (y=p.Aoa) || void 0 === y?void 0:y.Uc());});this.lJ.addListener(v.events,"progress",function(x){var y;if(p.UK){y={O:m,za:x.za};e.u && p.console.trace("emitting mediaEventsProgress:",{J:m.J,za:x.za.ba()});p.events.emit("mediaEventsProgress",y);}});m.vc && (e.u && this.console.trace("Received media events",{J:m.J,xXc:null === (q=null === (r=m.U) || void 0 === r?void 0:r.He) || void 0 === q?void 0:q.Rq}),(null === (u=m.He) || void 0 === u?0:u.Rq) && !this.EJa.has(m) && (e.u && this.console.trace("Constructing dai prefetcher for viewable",m.J),this.EJa.set(m,new l.A2a(m,this.oa.Ej,this.oa.BK,this.oa.Oc.ft,this.oa,this.console))));this.lJ.on(this.Hqa,"clockChanged",function(){var x;p.WTa.clear();p.WTa.on(p.Hqa.Ia,"clockAdjusted",function(y){var A;y.reason === g.Hv.VK && (e.u && p.console.trace("restarting mediaEventsTask - clockAdjusted"),null === (A=p.Aoa) || void 0 === A?void 0:A.Uc());});e.u && p.console.trace("restarting mediaEventsTask - clockChanged");null === (x=p.Aoa) || void 0 === x?void 0:x.Uc();});this.Aoa=this.Hqa.Pq(function(){return p.cFc(m);},"media-events-scheduler");}}};k.prototype.i5b=function(m,p){var r,q;r=this;e.u && this.console.debug("Checking claimed ad-breaks",{dSa:p.map(function(u){return u.ba();})});q=this.tMa(m);q && (m=this.y7(m),e.u && this.console.debug("Claiming... Checking dai ads",{jc:m.model.yb.map(function(u){return {location:u.Ua.ba(),fb:u.fb};})}),m.model.yb.filter(function(u){return p.filter(function(v){return v.equal(u.Ua);}).length;}).forEach(function(u){u.fb?q.g5b(u.fb,u):e.u && r.console.debug("Missing adBreakTriggerId for ad break");}));};k.prototype.tMa=function(m){return this.EJa.get(m);};k.prototype.wY=function(m,p){this.UK && this.XJa();this.L5b(m,p);};k.prototype.cF=function(m){var p,r,q;if(this.enabled){p=this.y7(m);if(p){p=p.model.yb || [];r=this.tMa(m);q=(null === r || void 0 === r?void 0:r.cF()) || new Map();p=p.map(function(u){var v,w,x,y,A,z,B,C;w=u.location;x=u.rn;y=u.fb;A=u.duration;z=w.G;if(y && q.has(y)){B=q.get(y);C=B.jc?null === (v=B.jc) || void 0 === v?void 0:v.reduce(function(D,F){return D.add(g.I.Ca(F.ib - F.cb));},g.I.fa):g.I.fa;return d.__assign(d.__assign({},B),{Ua:u.Ua,location:w,Uu:w.G,Eo:z,duration:B.OV?A:C,type:B.OV?"embedded":"dynamic",rn:x,nt:A,fb:y,uJ:!0,pu:!0,qX:!1,source:"daiPrefetch"});}return {Ua:u.Ua,location:w,Uu:z,aB:!0,Eo:z,jc:[],oN:{},duration:A,nt:A,zDb:!0,type:"embedded",rn:x,fb:y,pu:!(null === (C=null === (B=m.U) || void 0 === B?void 0:B.He) || void 0 === C || !C.Rq),qX:!1,source:"mediaEvents"};});this.dk.vg({ads:p.slice(-5)});return p;}e.u && this.console.debug("No store found for viewable - not returning ads",m.R);}else e.u && this.console.debug("MediaEventsManager disabled - not returning ads");};k.prototype.zuc=function(m,p,r){var q,u;q=this.Yg.get(m);if(q){u=p.ca(g.I.Ca(this.config.drc)).ca(r);if(this.UK){(0,g.assert)(this.EXa,"Skip offset must be set if skip task is set");if(this.EXa.gn(u))return;this.XJa();}e.u && this.console.trace("MediaEventsManager: needsMediaEvents starting skip task",m,p,r,u);this.H9b(q,u);}};k.prototype.H9b=function(m,p){var r;r=this;(0,g.assert)(!this.UK,"Skip task must not be set when creating a new one");this.UK=this.Hqa.Pq(function(){return r.cIc(m,p);},"media-events-skipper");this.EXa=p;};k.prototype.XJa=function(){var m;(0,g.assert)(this.UK,"Skip task  must be set when destructing it");null === (m=this.UK) || void 0 === m?void 0:m.Ja();this.EXa=this.UK=void 0;};k.prototype.Ja=function(){this.UK && this.XJa();this.WTa.clear();this.lJ.clear();this.Yg.clear();};k.prototype.cIc=function(m,p){var r,q,u;return d.__generator(this,function(v){switch(v.label){case 0:(r=this.y7(m),(0,g.assert)(r,"Store must be present"),e.u && this.console.trace(("MediaEventsManager: starting skip task for viewable ").concat(m.J," ") + ("with skip offset ").concat(p.ba())),v.label=1);case 1:if(r.complete)return [3,3];q=r.ax;u=q.add(p);e.u && this.console.trace(("MediaEventsManager: waiting until ").concat(u.ba()," ") + ("to skip media events at ").concat(q.ba()));return [4,h.Ud.Fm(u)];case 2:return (v.S(),r.Dsb(q) || (e.u && this.console.trace(("MediaEventsManager: skipping at ").concat(q.ba()),{skip:p.ba(),target:q.ba(),Glb:r.ax.ba(),lwb:m.Ym().ba()}),r.eHb(q)),[3,1]);case 3:return [2];}});};k.prototype.cFc=function(m){var p,r,q,u,v,w,x,y,A,z,B,C,D;return d.__generator(this,function(F){switch(F.label){case 0:(F.qc.push([0,7,8,9]),p=d.__values(this.cjc(m)),r=p.next(),F.label=1);case 1:if(r.done)return [3,6];q=r.value;u=q.event;v=q.dn;e.u && this.console.trace("MediaEventsManager - Checking event schedule - ",{$s:this.$s,event:u,dn:v});if((null === (D=this.$s) || void 0 === D?void 0:D.id) === u.id && v)return [3,3];this.$s && (e.u && this.console.trace("MediaEventsManager - Closing this.openedMediaEvent",{$s:this.$s}),this.tIa(m,this.$s));w=this.oa.ws({J:m.J,Ua:u.Ua});if(!w)return [3,3];x=this.oa.GB(w);if(!x)return [3,3];e.u && this.console.trace("MediaEventsManager - Waiting for media event to begin:",{event:u});return [4,h.Ud.Fm(x)];case 2:(F.S(),e.u && this.console.trace("MediaEventsManager - Opening media event:",{event:u}),this.dxc(m,u),F.label=3);case 3:y=this.oa.ws({J:m.J,Ua:u.Ua.add(u.duration)});if(!y)return [3,5];A=this.oa.GB(y);if(!A)return [3,5];e.u && this.console.trace("MediaEventsManager - Waiting for event to elapse:",{event:u});return [4,h.Ud.Fm(A)];case 4:(F.S(),e.u && this.console.trace("MediaEventsManager - Closing event:",{event:u}),this.tIa(m,u),F.label=5);case 5:return (r=p.next(),[3,1]);case 6:return [3,9];case 7:return (z=F.S(),B={error:z},[3,9]);case 8:try{r && !r.done && (C=p.return) && C.call(p);}finally{if(B)throw B.error;}return [7];case 9:return [2];}});};k.prototype.cjc=function(m){var p,r,q,u,v,w,x,y,A,z,B,C,D;return d.__generator(this,function(F){switch(F.label){case 0:p=this.y7(m);(0,g.assert)(p,"Store must be present");r=this.oa;q=p.model.Ez;u=r.Gob(m.J);if(!u)return [3,8];v=r.Hw(u);w=!1;F.label=1;case 1:(F.qc.push([1,6,7,8]),x=d.__values(q),y=x.next(),F.label=2);case 2:if(y.done)return [3,5];A=y.value;z=!1;!w && v.Ua.lessThan(A.Ua.add(A.duration)) && (w=!0,z=v.Ua.pf(A.Ua));return w?[4,{event:A,dn:z}]:[3,4];case 3:(F.S(),F.label=4);case 4:return (y=x.next(),[3,2]);case 5:return [3,8];case 6:return (B=F.S(),C={error:B},[3,8]);case 7:try{y && !y.done && (D=x.return) && D.call(x);}finally{if(C)throw C.error;}return [7];case 8:return [2];}});};k.prototype.dxc=function(m,p){var r;this.$s=p;r=p.Ua;m=g.I.Ca(m.cm()).ca(r).G;p={id:p.id,Yo:p.Yo,Ddc:m,duration:p.duration.G,hC:p.hC,payload:p.payload};e.u && this.console.trace("emitting mediaEventTriggered:",p);this.events.emit("mediaEventTriggered",p);};k.prototype.L5b=function(m,p){var r,q;if(p && this.$s && m){p=this.oa.Hw(p);r=this.$s.Ua;q=r.add(this.$s.duration);if(p.Ua.lessThan(r) || p.Ua.greaterThan(q))(e.u && this.console.trace("MediaEventsManager - Seek position not in window closing media event - ",{$s:this.$s}),this.tIa(m,this.$s));}};k.prototype.tIa=function(m,p){var r;this.$s=void 0;r=p.Ua.add(p.duration);m=g.I.Ca(m.cm()).ca(r).G;p={id:p.id,Yo:p.Yo,Ddc:m};e.u && this.console.trace("emitting mediaEventElapsed:",p);this.events.emit("mediaEventElapsed",p);};d.__decorate([(0,f.Za)({methodName:"getAds",Re:!0})],k.prototype,"cF",null);return k;})();b.z7a=t;},76452:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.D7a=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(91562);f=a(66164);e=a(48170);h=a(8149);l=a(61996);k=a(54366);m=a(45173);p=a(89025);r=a(12381);t=(function(){function q(u,v,w,x){var y,A,z,B,C,D,F,H;y=this;this.O=v;this.config=w;this.RJ=x;this.model={Ez:[],yb:[],aLc:function(){var E,G;return {last5NetflixMediaEvents:this.Ez.map(function(K){return {id:K.id,contentTimestamp:new c.N2(K.Ua,K.Ua.add(K.duration)).toString()};}).slice(-5),netflixMediaEventsCount:this.Ez.length,last5adBreaks:this.yb.map(function(K){return {id:K.id,contentTimestamp:new c.N2(K.Ua,K.Ua.add(K.duration)).toString()};}).slice(-5),adBreaksCount:this.yb.length,programStart:null === (E=this.rC) || void 0 === E?void 0:E.Ua.ba(),programEnd:null === (G=this.$$) || void 0 === G?void 0:G.Ua.ba()};}};this.iFa=!1;this.Ez=new Map();this.yb=new Map();this.zp=new c.iM([],function(E,G){return E.Ng - G.Ng;});this.UD=c.I.ryb;this.As=new r.w7a();(0,c.assert)(v.vc,"MediaEventsStore requires live Viewable");this.events=new n.EventEmitter();x=c.I.fa;this.console=new f.platform.Console("MEDIAEVENTSSTORE","asejs",("[").concat(this.O.R,"]"));e.u && this.console.log(("Creating MediaEventsStore: synthesizeLiveIdrMismatch=").concat(this.config.m_));this.dk=new l.Lm({wj:this,source:"media-events-store",Bg:10,console:this.console});this.O.zf.od(new k.En(this.dk));D=w.b6;if(this.RJ && D){F=this.RJ;D=F.m$b;H=F.f2b;(F=F.P) && D >= H && (x=c.I.Ca(D - H).Rc(F));F=c.I.Ca(this.O.cm(!0));this.Jyb(x,F) && (e.u && this.console.log("needs events from media event history, adjusting startContentTimestamp","startContentTimestamp",null === x || void 0 === x?void 0:x.ba(),"logicalLiveEdge",null === F || void 0 === F?void 0:F.ba(),"new startContentTimestamp",null === (A=c.I.min(x,F)) || void 0 === A?void 0:A.ba()),x=c.I.min(x,F));this.ACb(x);e.u && this.console.log("processed history: cutoffTimeMs",D,"baseTimeMs",H,"startContentTimestamp",x.ba());}else e.u && this.console.log("no media events history");void 0 === this.model.$$ && (this.Dr=new m.x7a(u,v,w,this.rub.bind(this),this.As),this.Dr.events.on("mediaEventsReceived",function(E){var G;y.zp.push(E);e.u && y.console.info("Received media events",{Ng:E.Ng,x4c:y.zp.aj().slice(0,5).map(function(K){return K.Ng;})});y.process();y.complete && (null === (G=y.Dr) || void 0 === G?void 0:G.Ja());}),this.Dr.events.on("eosReceived",function(){var E;null === (E=y.Dr) || void 0 === E?void 0:E.Ja();}),this.events.on("modelUpdated",function(){y.iFa=!0;}));null !== (z=this.O.qd.Fka) && void 0 !== z && z.isFinite()?void 0 === this.model.$$ && (u=this.O.qd.HI,void 0 !== u && (x=c.I.max(x,u))):x=c.I.max(x,c.I.Ca(this.O.cm(!0) - w.owb));this.O.events.on("urlsUpdated",function(){var E;null === (E=y.Dr) || void 0 === E?void 0:E.Dca(y.jm);});this.start(x);e.u && this.Dr && this.console.log(("starting retrieval at segment ").concat(this.jm,", ") + ("startSegmentNumber: ").concat(this.stream.track.un,", ") + ("startContentTimestamp: ").concat(x.ba(),", ") + "eventStartContentTimestamp: " + ("").concat(null === (B=this.O.qd.HI) || void 0 === B?void 0:B.ba(),", ") + "eventEndContentTimestamp: " + ("").concat(null === (C=this.O.qd.Fka) || void 0 === C?void 0:C.ba(),", ") + ("logicalLiveEdge: ").concat(this.O.cm(!0),", ") + ("averageSegmentDuration: ").concat(this.stream.track.Yk.ba()));}Object.defineProperties(q.prototype,{ax:{get:function(){return this.UD;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cCc:{get:function(){return this.iFa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{complete:{get:function(){return this.rub(this.ax);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{track:{get:function(){var u;u=this.O.getTracks(g.v.Im)[0];(0,c.assert)((0,h.eo)(u),"MediaEventsStore: track is not live");return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{stream:{get:function(){return this.track.De[0];},enumerable:!1,configurable:!0}});q.prototype.ufc=function(){var u;u=c.I.Ca(this.O.cm(!0) - this.config.owb);this.jm=0;this.zp.clear();this.iFa=!1;this.UD=u;this.Uc(u);};q.prototype.Dsb=function(u){var v;if(this.complete || this.ax.greaterThan(u))return (e.u && this.console.trace("" + ("hasMediaEvents ").concat(u.ba()," returns true")),!0);v=u.ca(c.I.Ca(this.config.crc));e.u && this.console.trace(("hasMediaEvents ").concat(u.ba()," returns false,") + (" cutoff (").concat(this.ax.ba(),")") + (" catchup (").concat(v.ba(),")"));this.ax.lessThan(v) && (e.u && this.console.trace(("catchup to ").concat(v.ba())),this.Uc(v));return !1;};q.prototype.eHb=function(u){!this.complete && this.ax.gn(u) && (u=u.add(this.track.Yk),e.u && this.console.trace(("skip to ").concat(u.ba())),this.Uc(u));};q.prototype.Yzb=function(u,v){var y;e.u && this.console.trace(("POI changed from ").concat(u.ba()," to ").concat(v.ba()));for(var w=!1,x=0;x < this.model.yb.length;x++){y=this.model.yb[x];if(y.Ua.G === u.G){e.u && this.console.trace(("Updating adBreak ").concat(x,", id:").concat(y.id," location: ").concat(y.Ua.ba()) + (" to location ").concat(v.ba()," ") + ("from ").concat(y.Ua.ba()," and duration from ").concat(y.duration.ba()," ") + ("to ").concat(y.duration.add(y.Ua.ca(v)).ba()));y.duration=y.duration.add(y.Ua.ca(v));y.Ua=v;w=!0;break;}if(y.Ua.add(y.duration).G === u.G){e.u && this.console.trace(("Updating adBreak ").concat(x,", id:").concat(y.id," location: ").concat(y.Ua.ba()) + (" duration to ").concat(v.ca(y.Ua).ba()," ") + ("from ").concat(y.duration.ba()));y.duration=v.ca(y.Ua);w=!0;break;}}e.u && !w && this.console.warn(("POI changed from ").concat(u.ba()," to ").concat(v.ba()," but no adBreak found"));};q.prototype.start=function(u){u=Math.floor(u.bf(this.stream.track.Yk));this.jm=u + this.stream.track.un;this.UD=this.stream.track.Yk.Jg(u);this.Dr && ((0,c.assert)(!this.Dr.Oi,"retrieval service should not be running at start"),this.Dr.start(this.jm));};q.prototype.Uc=function(u){var v,w,x;v=Math.floor(u.bf(this.stream.track.Yk));w=this.jm;x=v + this.stream.track.un;x > w && (this.jm=x,this.UD=this.stream.track.Yk.Jg(v));this.Dr && ((e.u && this.console.trace("Restarting retrieval",{start:u.ba(),jY:x}),this.Dr.K7)?x > w && (this.zp.clear(),this.Dr.Uc(this.jm)):this.Dr.start(this.jm));this.process();};q.prototype.rub=function(u){var v,w;if(this.model.$$)return (e.u && this.console.trace("isEventsModelComplete ending due to programEnd"),!0);v=this.O.qd.SHb;w=u.pf(v);w && e.u && this.console.trace("isEventsModelComplete ending at time:",{Ua:u,SHb:v});return w;};q.prototype.process=function(){var u,v,w,x,y,A,z,B,C,D,E,G;C=new Set();D=[];null !== (w=this.jm) && void 0 !== w?w:this.jm=this.stream.track.un;w=!1;for(e.u && this.console.log("Starting process loop",{Ng:this.jm,dfc:null === (x=this.zp.vr()) || void 0 === x?void 0:x.Ng,Iyc:this.zp.length,Glb:this.UD.toString()});0 < this.zp.length;)if((x=this.zp.vr(),(null === x || void 0 === x?void 0:x.Ng) === this.jm)){x.events.length?e.u && this.console.log("Adding media events",{Ng:this.jm,next:x}):e.u && this.console.debug("Empty media events",{Ng:this.jm,next:x});try{for(var F=(u=void 0,d.__values(null === x || void 0 === x?void 0:x.events)),H=F.next();!H.done;H=F.next()){E=H.value;if(this.RJ){G=this.RJ.P;E.presentationTime=E.presentationTime.Rc(G);E.UE=E.UE?E.UE.Rc(G):void 0;}this.fGa(E) && (C.add(E.type),D.push(E.presentationTime));}}catch(K){u={error:K};}finally{try{H && !H.done && (v=F.return) && v.call(F);}finally{if(u)throw u.error;}}this.UD=c.I.max(this.ax,x.za);w=!0;this.jm++;this.zp.pop();}else if((null !== (y=null === x || void 0 === x?void 0:x.Ng) && void 0 !== y?y:0) < this.jm)(e.u && this.console.warn("Dropping old media event",{Yuc:this.jm,BYc:null === x || void 0 === x?void 0:x.Ng}),this.zp.pop(),null === (A=this.As) || void 0 === A?void 0:A.mwc(null !== (z=null === x || void 0 === x?void 0:x.Ng) && void 0 !== z?z:0));else {e.u && e.u && this.console.info("First item in queue is later... waiting",{Yuc:this.jm,SYc:null === x || void 0 === x?void 0:x.Ng});break;}0 < C.size && this.events.emit("modelUpdated",{type:"modelUpdated",Cca:C,dSa:D});w && (e.u && this.console.trace("" + ("progress to ").concat(this.UD.ba())),this.events.emit("progress",{type:"progress",za:this.UD}));e.u && this.console.log("Exiting process loop",{Ng:this.jm,dfc:null === (B=this.zp.vr()) || void 0 === B?void 0:B.Ng,Glb:this.UD.toString(),g1c:w,m2c:this.zp.aj().map(function(K){return K.Ng;})});};q.prototype.ACb=function(u){var v,w,x,y,A,z;v=this;w=[];if(this.RJ){x=this.RJ;y=x.Jxb;A=x.P;if(y.length){z=new Set();y.forEach(function(B){var C,D,F,H,E;C=new c.I(B.timestamp,A);D=void 0 !== B.duration?new c.I(B.duration,A):void 0;if("netflix" === B.type){H=B.type;E=B.id;B=B.Yo;u.pf(C.add(D || c.I.fa))?F={type:H,id:E,presentationTime:C,UE:D,Yo:B}:e.u && v.console.trace("skipping in-progress event id:",E);}else (H=B.type,F={type:H,presentationTime:C,UE:D,rn:B.rn,fb:B.fb});F && (v.fGa(F),w.push(F.presentationTime),z.add(F.type));});z.size && this.events.emit("modelUpdated",{type:"modelUpdated",Cca:z,dSa:w});this.dk.vg({store:this.model.aLc()});}}};q.prototype.fGa=function(u){var v,w;w=(0,p.ana)(u)?this.m_b(u):this.z_b(u);this.dk.vg({yb:this.model.yb.length,SXc:w,type:u.type});null === (v=this.As) || void 0 === v?void 0:v.awc(u,w,u.presentationTime);return w;};q.prototype.m_b=function(u){var v,w,x,y;v=!1;w=u.foc;x=("").concat(u.id,"-").concat(u.Yo);y=this.Ez.get(x);y || w?y && w?(w=u.presentationTime.ca(y.Ua),v=this.NY(u,y,w),u=d.__assign(d.__assign({},y),{duration:w,hC:u.hC,payload:u.payload}),e.u && this.console.trace("emitting netflixEventCancelled:",u),this.events.emit("netflixEventCancelled",u)):e.u && this.console.trace("Duplicate NetflixMediaEvent ignored:",{dLa:x,GYc:y,event:u}):(u={key:x,id:u.id,duration:u.UE || c.I.fa,Ua:u.presentationTime,Yo:u.Yo,hC:u.hC,payload:u.payload},this.Ez.set(u.key,u),v=!0,e.u && this.console.trace("emitting netflixEventReceived:",u),this.events.emit("netflixEventReceived",u));v && (this.model.Ez=Array.from(this.Ez.values()));return v;};q.prototype.z_b=function(u){var v,w,x,y,A,z,B;y=!1;A=u.lFc;z=(null === A || void 0 === A?void 0:A.bba) || u.rn;if(this.config.m_){B=null === (v=this.O.getTracks(g.v.V)[0].Ea) || void 0 === v?void 0:v.Jg(this.config.m_);B && (this.console.log(("Adjusting event timestamp ").concat(u.presentationTime.ba()," by ").concat(B.ba())),u.presentationTime=u.presentationTime.add(B));}v=u.presentationTime.ia;this.console.debug("Processing event",{id:v,hqc:this.ax,event:u});if(void 0 !== this.model.rC || "programstart" === u.type)switch(u.type){case "breakstart":case "adbreak":if(u.presentationTime.lessThan(this.ax))break;if((w=this.yb.get(v)) && w.Ua.equal(u.presentationTime) && w.duration.equal(u.UE || c.I.fa) && w.rn === z)break;this.bgb(v,u,A);y=!0;break;case "cancel":w=this.model.yb.filter(function(C){return C.kFc === (null === A || void 0 === A?void 0:A.id) && C.rn === z;}).sort(function(C,D){return C.Ua.Ul(D.Ua);});if(0 === w.length)break;w=w[w.length - 1];if(w.Ua.add(w.duration).lessThan(u.presentationTime))break;y=this.NY(u,w,u.presentationTime.ca(w.Ua));break;case "programend":null !== (w=this.model.$$) && void 0 !== w && w.Ua.equal(u.presentationTime) || (this.console.debug("Setting program end",u.presentationTime),this.model.$$={Ua:u.presentationTime},y=!0);break;case "programstart":null !== (x=this.model.rC) && void 0 !== x && x.Ua.equal(u.presentationTime) || (this.console.debug("Setting program start",u.presentationTime),this.model.rC={Ua:u.presentationTime},y=!0);}y && (this.model.yb=Array.from(this.yb.values()));return y;};q.prototype.bgb=function(u,v,w){var x;(0,c.assert)(this.model.rC,"Program start not set");x=(null === w || void 0 === w?void 0:w.bba) || v.rn;this.yb.set(u,{id:u,duration:v.UE || c.I.fa,Ua:v.presentationTime,location:v.presentationTime.ca(this.model.rC.Ua),rn:x,fb:v.fb,kFc:null === w || void 0 === w?void 0:w.id});e.u && this.console.debug("Upserting event",{id:u,Qa:this.yb.get(u)});};q.prototype.NY=function(u,v,w){var x;x=!1;w.equal(c.I.fa)?(this.console.debug("Deleting event",v.id),this.dk.vg({deleting:!0}),(0,p.ana)(u)?this.Ez.delete(v.key):this.yb.delete(v.id),x=!0):w.h$(v.duration) && (this.console.debug("Updating event",{id:v.id,L1c:w}),this.dk.vg({adjusting:w}),(0,p.ana)(u)?this.Ez.set(v.key,d.__assign(d.__assign({},v),{duration:w})):this.yb.set(v.id,d.__assign(d.__assign({},v),{duration:w})),x=!0);return x;};q.prototype.Jyb=function(u,v){var w,x,y;if(this.RJ && this.config.Ebc){w=this.RJ;x=w.Jxb;y=w.P;if(x.length)return x.some(function(A){var z,B;z=new c.I(A.timestamp,y);B=void 0 !== A.duration?new c.I(A.duration,y):void 0;B=z.add(B || c.I.fa);return "netflix" === A.type && z.lessThan(u) && B.greaterThan(v);});}return !1;};q.prototype.Ja=function(){var u;null === (u=this.Dr) || void 0 === u?void 0:u.Ja();};q.prototype.disable=function(){var u;this.Ja();u=c.I.Ca(72E6);this.eHb(u);};d.__decorate([(0,l.Za)({methodName:"processMediaEventsHistory",Re:!0})],q.prototype,"ACb",null);d.__decorate([(0,l.Za)({methodName:"addEvent",Re:!0})],q.prototype,"fGa",null);d.__decorate([(0,l.Za)({methodName:"addAdBreak",Qm:!0})],q.prototype,"bgb",null);d.__decorate([(0,l.Za)({methodName:"performCancel",Re:!0,Qm:!0})],q.prototype,"NY",null);d.__decorate([(0,l.Za)({methodName:"needsMediaEventsFromHistory"})],q.prototype,"Jyb",null);d.__decorate([(0,l.Za)({methodName:"destruct"})],q.prototype,"Ja",null);d.__decorate([(0,l.Za)({methodName:"disable"})],q.prototype,"disable",null);return q;})();b.D7a=t;},28057:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.B7a=void 0;d=a(91967);t=(function(){function n(c){this.As=c;this.zc=this.im=n.zc;}Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.ri=function(c){c=c.Xs;if(c === d.Td.Pp || c === d.Td.GJ || c === d.Td.Cu)return this.As.Yjc();};n.zc="media-events";return n;})();b.B7a=t;},12381:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.w7a=b.BPb=void 0;d=a(22970);n=a(91176);c=a(35536);g=a(94258);f=a(89025);e=[50,100,150,200,250,300,500,1E3,2E3,1E4];h=(function(){function l(k){this.size=k;this.xy=[];}l.prototype.push=function(k){for(this.xy.push(k);this.xy.length >= this.size;)this.xy.shift();};l.prototype.aj=function(){return this.xy;};return l;})();b.BPb=h;t=(function(){function l(){this.state={Gfb:new n.Eg(),Ifb:0,Hnb:new n.Eg(),HOa:{},ctb:new g.GD(e),iFb:new n.Eg(),lWa:{},JRa:{},lIb:new n.Eg(),UJb:0,Dca:0,tFb:0,yFb:new h(10),Fvb:new h(10)};}l.prototype.wwc=function(k){this.state.lIb.push(k);};l.prototype.vwc=function(k){this.state.Hnb.push(k);};l.prototype.uwc=function(k){this.state.Gfb.push(k);};l.prototype.fLc=function(k){d.__awaiter(this,void 0,void 0,function(){var m,p,r,q,u;return d.__generator(this,function(v){switch(v.label){case 0:(m=new c.oH(),m.start(),v.label=1);case 1:return (v.qc.push([1,3,,4]),[4,k]);case 2:return (p=v.S(),m.stop(),this.state.ctb.push(m.duration),[3,4]);case 3:return (r=v.S(),(0,n.Zma)(r)?this.state.Ifb++:this.state.UJb++,[2]);case 4:return (p.ok || (q=null !== (u=this.state.HOa[p.status]) && void 0 !== u?u:0,this.state.HOa[p.status]=q + 1),[2]);}});});};l.prototype.axc=function(){this.state.Dca++;};l.prototype.mwc=function(k){this.state.tFb++;this.state.yFb.push(k);};l.prototype.awc=function(k,m,p){var r,q;if((0,f.ana)(k)){q=null !== (r=this.state.JRa[k.Yo]) && void 0 !== r?r:0;this.state.JRa[k.Yo]=q + 1;}else (r=null !== (q=this.state.lWa[k.type]) && void 0 !== q?q:0,this.state.lWa[k.type]=r + 1);m && this.state.Fvb.push({eventType:k.type,presentationTimeS:p.ci});};l.prototype.xwc=function(k){this.state.iFb.push(k);};l.prototype.Yjc=function(){return {httpLatencyBuckets:this.state.ctb,unhandledExceptions:this.state.UJb,abortsCount:this.state.Ifb,httpErrorCounts:this.state.HOa,successAttemptsCounts:this.state.lIb,scheduledDelay:this.state.iFb,errorAttemptsCounts:this.state.Hnb,abortAttemptsCounts:this.state.Gfb,scteEventsReceivedCounts:this.state.lWa,mediaEventsReceivedCounts:this.state.JRa,urlsChanged:this.state.Dca,segmentDroppedEvents:this.state.tFb,segmentsDropped:this.state.yFb.aj(),lastEventsAdded:this.state.Fvb.aj()};};return l;})();b.w7a=t;},45173:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.x7a=void 0;d=a(22970);a(97685);n=a(65161);c=a(61996);g=a(44053);t=(function(f){function e(h,l,k,m,p){var r;r=f.call(this,h,l,m,p) || this;r.requestId=-1;r.zoa=new g.C7a(l,k,r.console,fetch,p);r.zoa.events.on("eosReceived",function(q){r.events.emit("eosReceived",q);});r.zoa.events.on("errorReceived",function(q){!1;0 !== q.fob.status && r.HEb(q.fob);});r.nec=r.zoa.Khc();return r;}d.__extends(e,f);e.prototype.HEb=function(h){var l;(h=h.headers.get("X-TCP-Info"))?(h=null === (l=this.O.FX) || void 0 === l?void 0:l.decode(n.v.Im,h,!1)) && (void 0 === h.Bj || isNaN(h.Bj) || this.O.Kta(h.Bj,this.zoa.cqc || 0)):!1;};e.prototype.Onb=function(h,l){return d.__awaiter(this,void 0,void 0,function(){var k,m,p,r,q,u;return d.__generator(this,function(v){switch(v.label){case 0:k=this.stream;m=this.O.wi;p=m.Mta(this.track.O.J,this.track.De,this.track.Lla(l.sa));this.EJ=this.stream.Eb;if(!p)throw Error("Unable to perform location selection");r=k.SW(l.gf,l.Ng);++this.requestId;return [4,this.nec(l)(r,{signal:h})];case 1:q=v.S();this.HEb(q);if(!q.ok)throw Error(("Failed to fetch media events: ").concat(q.status));return [4,q.arrayBuffer()];case 2:return (u=v.S(),[2,u]);}});});};e.prototype.Dca=function(h){var l;null === (l=this.As) || void 0 === l?void 0:l.axc();l=this.stream.track.Ju(h).sa;this.O.wi.Mta(this.track.O.J,this.track.De,this.track.Lla(l));this.stream.Eb !== this.EJ && (this.BFa.vg({url:this.stream.Eb,out:this.fK,segmentIndex:this.Ng}),this.Uc(h));};d.__decorate([(0,c.Za)({methodName:"urlsChanged",Re:!0})],e.prototype,"Dca",null);return e;})(a(85981).y7a);b.x7a=t;},85981:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.y7a=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(91562);f=a(66164);e=a(91176);h=a(91562);l=a(40666);k=a(8149);m=a(61996);p=a(54366);t=(function(){function r(q,u,v,w){this.oS=q;this.O=u;this.tKc=v;this.As=w;this.events=new n.EventEmitter();this.Ng=0;this.za=c.I.fa;this.hr=!1;this.console=new f.platform.Console("MEDIAEVENTS_FETCHER","asejs",("[").concat(this.O.R,"]"));this.oC=new e.AbortController();this.jA=new c.gxa(this.console,{Bg:10,aHa:!0});this.BFa=new m.Lm({wj:this,source:"media-events-provider",Bg:10,console:this.console});this.O.zf.od(new p.En(this.BFa));}Object.defineProperties(r.prototype,{Oi:{get:function(){var q;return !(null === (q=this.mW) || void 0 === q || !q.dn);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{K7:{get:function(){return void 0 !== this.mW;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{track:{get:function(){var q;q=this.O.getTracks(g.v.Im)[0];(0,c.assert)((0,k.eo)(q),"MediaEventsFetchProviderBase: track is not live");return q;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{stream:{get:function(){return this.track.De[0];},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{fK:{get:function(){return this.jA.uC;},enumerable:!1,configurable:!0}});r.prototype.uma=function(){return !this.hr && !this.tKc(this.za);};r.prototype.lec=function(){var q,u,v,w,x,y,A,z;return d.__generator(this,function(B){switch(B.label){case 0:((0,c.assert)((0,k.Xj)(this.stream),"MediaEventsFetchProviderBase: stream is not live"),this.console.log("Fetch task: starting",{$Zc:this.uma(),c2c:this.fK}),void 0 === this.Tsb && (this.console.log("Fetch task: queuing header request"),this.Tsb=this.ugb(!0).item),q=20,B.label=1);case 1:if(!(this.uma() && this.fK < q))return [3,3];u=this.stream.track.Ju(this.Ng);v=u.za;w=u.sa;x=this.O.cm(!0);y=Math.max(0,v.G - x);this.console.log("Fetch task: waitRelative",{j5c:y,za:v,Iwb:x,fK:this.fK});return [4,l.Ud.Kx(c.I.Ca(y))];case 2:return (B.S(),A=v.G - x,null === (z=this.As) || void 0 === z?void 0:z.xwc(A),this.ugb(!1,this.Ng,w,v),this.za=v,this.Ng++,[3,1]);case 3:return (this.uma() || this.console.log("Fetch task: complete"),this.console.log("Fetch task: exiting"),[2]);}});};r.prototype.ugb=function(q,u,v,w){var x,y,A;x=this;this.console.log("Fetch task: addRequestToQueue",{header:q,Ng:u,sa:v,za:w});(0,c.assert)(q || void 0 !== u && void 0 !== w && void 0 !== v,"segmentIndex must be defined if not a header request");y=new c.kga();y.gYa(this.oC.signal);A=y.ji.signal;return this.jA.add({OH:A,$tb:function(){return d.__awaiter(x,void 0,void 0,function(){var z,B;return d.__generator(this,function(C){switch(C.label){case 0:return (C.qc.push([0,,5,6]),q?[4,this.Twb(A)]:[3,2]);case 1:return [2,C.S()];case 2:return [4,this.Vwb(A,u,v,w)];case 3:return [2,C.S()];case 4:return [3,6];case 5:return (y.Ja(),(!(null === (z=this.mW) || void 0 === z?0:z.dn) && this.uma() && !this.hr || q) && (null === (B=this.mW) || void 0 === B?void 0:B.Uc()),[7]);case 6:return [2];}});});},VSa:function(){y.Ja();},priority:u || 0});};r.prototype.Twb=function(q){return d.__awaiter(this,void 0,void 0,function(){var u,v,w,x;return d.__generator(this,function(y){switch(y.label){case 0:return (this.console.log("Making header request"),[4,this.Onb(q,{Ng:void 0,gf:!0,stream:this.stream,sa:c.I.fa,za:c.I.fa})]);case 1:u=y.S();v=new g.Dl(this.console,{},u,["moov"],!1,{R3c:!0});w=v.parse();if(!w.Kz)throw Error(w.parseError);x=g.Dl.path(v,["moov","trak","mdia","mdhd"]);(0,c.assert)(void 0 !== x,"mdhd should be defined");this.P=x.P;return [2];}});});};r.prototype.Vwb=function(q,u,v,w){return d.__awaiter(this,void 0,void 0,function(){var x,y,A,z,B,C;return d.__generator(this,function(D){switch(D.label){case 0:(x=this.O.qd.HI || c.I.zg,v.ca(x),this.BFa.vg({si:u,cst:v.ba(),cet:w.ba()}),D.label=1);case 1:return (D.qc.push([1,3,,4]),[4,this.Onb(q,{gf:!1,za:w,sa:v,stream:this.stream,Ng:u})]);case 2:return (y=D.S(),[3,4]);case 3:return (A=D.S(),(0,c.Zma)(A) || this.events.emit("mediaEventsReceived",{type:"mediaEventsReceived",events:[],za:w,Ng:u,R_c:!0}),[2]);case 4:return void 0 !== this.P?[3,6]:[4,this.Tsb];case 5:(D.S(),D.label=6);case 6:(0,c.assert)(void 0 !== this.P,"timescale should be defined once header request resolves");z=new g.j2(this.console,{},y);B={events:[]};C=z.parse(B);this.console.debug("Parsed media events: ",C.done);if(C.error)throw Error(C.error);this.console.debug("Received media events",{events:B.events,Oq:w});this.events.emit("mediaEventsReceived",{type:"mediaEventsReceived",events:this.ssc(B.events),za:w,Ng:u});return [2,B.events];}});});};r.prototype.ssc=function(q){var u;u=this;return (null === q || void 0 === q?void 0:q.reduce(function(v,w){(w=u.gyc(w)) && v.push(w);return v;},[])) || [];};r.prototype.gyc=function(q){var u,v,w,x;if(q.MF){u=new c.I(q.ZF,this.P).ca(this.track.ml);v=void 0 !== q.eW?new c.I(q.eW,this.P):void 0;if(q.HK === h.pT.HK){w=new h.pT(new DataView(q.MF.buffer,q.MF.byteOffset,q.MF.byteLength),f.platform.sI,this.console);if(w=w.parse()){x=w.header;return {type:"netflix",presentationTime:u,UE:v,id:x.VVc,Yo:q.value,foc:x.cancel || !1,hC:x.r1c || "application/json",payload:w.body};}}else if(q.HK === h.DT.HK && (w=new h.DT(new DataView(q.MF.buffer,q.MF.byteOffset,q.MF.byteLength),this.console),q=w.parse()))return (w=q.event,x=12 === q.cba && q.JZ && 4 < q.JZ.byteLength && (x=f.platform.sI(new Uint8Array(q.JZ)),"NFLX" === x.slice(0,4))?x.slice(4):void 0,{type:w,presentationTime:u,UE:v,lFc:q,fb:x});}};r.prototype.start=function(q){var u;u=this;(0,c.assert)(!this.Oi,"MediaEventsFetchProviderBase: start called while running");this.hr?this.console.warn("MediaEventsFetchProviderBase: start called after destruct"):(this.Ng=Math.max(q,this.stream.track.un),this.mW=this.oS.Pq(function(){return u.lec();},"media-events-fetcher"));};r.prototype.Uc=function(q){this.hr?this.console.warn("MediaEventsFetchProviderBase: restart called after destruct"):(this.Ja(),this.hr=!1,this.oC=new e.AbortController(),this.start(q));};r.prototype.Ja=function(){var q;this.hr=!0;null === (q=this.mW) || void 0 === q?void 0:q.Ja();this.mW=void 0;this.oC.abort();this.jA.clear();this.za=c.I.fa;};d.__decorate([(0,m.Za)({methodName:"makeHeaderRequest",Re:!0})],r.prototype,"Twb",null);d.__decorate([(0,m.Za)({methodName:"makeMediaSegmentRequest",Re:!0})],r.prototype,"Vwb",null);d.__decorate([(0,m.Za)({methodName:"start",Re:!0})],r.prototype,"start",null);d.__decorate([(0,m.Za)({methodName:"restart",Re:!0})],r.prototype,"Uc",null);d.__decorate([(0,m.Za)({methodName:"destruct",Re:!0})],r.prototype,"Ja",null);return r;})();b.y7a=t;},89025:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ana=function(a){return "netflix" === a.type;};},81621:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sob=void 0;d=a(22970);n=a(91176);b.sob=function(c,g){return function(f,e){return d.__awaiter(void 0,void 0,void 0,function(){var h,l,k,m,p;return d.__generator(this,function(r){switch(r.label){case 0:if(0 >= g)return [2,c(f,e)];l=(h=f instanceof Request)?f.signal:null === e || void 0 === e?void 0:e.signal;k=new n.kga();l && k.gYa(l);m=setTimeout(function(){k.abort();},g);r.label=1;case 1:return (r.qc.push([1,,6,7]),p=void 0,h?[4,Promise.race([(0,n.cia)(k.signal,!0).then(function(){return Response.error();}),c(f,e)])]:[3,3]);case 2:return (p=r.S(),[3,5]);case 3:return [4,c(f,d.__assign(d.__assign({},e),{signal:k.signal}))];case 4:(p=r.S(),r.label=5);case 5:return [2,p];case 6:return (clearTimeout(m),[7]);case 7:return [2];}});});};};},58487:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.u6a=void 0;d=a(91176);n=a(66164);c=a(71077);t=(function(){function g(f,e){this.mrc=f;this.dpa=e;}g.prototype.wJ=function(f,e){var h,l;l=this.Iqb(f);f=e(f);switch(l){case c.Ot.lCa:return {zK:!1,Hr:!1};case c.Ot.D2:return {zK:!1,Hr:!1,ooc:!0};case c.Ot.Jfa:case c.Ot.yT:return {zK:!1,Hr:null !== (h=f.Hr) && void 0 !== h?h:!0};default:return f;}};g.prototype.Iqb=function(f){var e;e=f.Jp;return this.mrc.lx({za:e.za,sa:e.sa,status:f.response.status},d.I.zg,!1);};g.prototype.VU=function(f,e){var h,l;e=e(f);h=this.Iqb(f);if(h === c.Ot.yT || h === c.Ot.Jfa){h=f.response;l=f.Ypc;if(404 === h.status || 500 <= h.status)(h=l?n.platform.time.na() - l:0,e.M5=Math.max(0,this.dpa - h));}h=f.Jp.za;f=f.Jp.stream.O.cm(!0);h.G > f && (e.M5=Math.max(e.M5,h.G - f));return e;};return g;})();b.u6a=t;},78203:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.t7a=void 0;t=(function(){function a(d){this.QX=d;}a.prototype.wJ=function(d,n){var c;c=d.attempt < this.QX;return c?n(d):{Hr:c};};return a;})();b.t7a=t;},44053:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.C7a=void 0;d=a(22970);n=a(91176);c=a(66164);g=a(90745);f=a(71077);e=a(53914);h=a(87887);l=a(58487);k=a(79122);m=a(63206);p=a(81621);r=a(78203);t=(function(){function q(u,v,w,x,y){this.O=u;this.console=w;this.pob=x;this.As=y;this.events=new g.EventEmitter();this.cFa=[];u=new f.zya(u,v);this.cFa=[new l.u6a(u,v.dpa),new m.hcb(),new h.lcb(),new r.t7a(v.ptc),new e.A7a()];this.pob=(0,p.sob)(x,v.W$b);}Object.defineProperties(q.prototype,{cqc:{get:function(){return this.wXb;},enumerable:!1,configurable:!0}});q.prototype.Khc=function(){var u;u=this;return function(v){return function(w,x){return u.AHb(w,x,v,0);};};};q.prototype.AHb=function(u){return d.__awaiter(this,arguments,void 0,function(v,w,x,y){var A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y;void 0 === w && (w={});return d.__generator(this,function(X){switch(X.label){case 0:(A=x.sa,z=x.za,B=new n.kga(),w.signal && B.gYa(w.signal),(0,n.MIb)(B.signal),C=new Request(v,d.__assign(d.__assign({},w),{signal:B.signal})),F=c.platform.time.na(),X.label=1);case 1:return (X.qc.push([1,3,,4]),!1,H=this.pob(C),this.wXb=c.platform.time.na() - F,null === (Q=this.As) || void 0 === Q?void 0:Q.fLc(H),[4,H]);case 2:return (D=X.S(),D.ok?(null === (P=this.As) || void 0 === P?void 0:P.wwc(y),[2,D]):[3,4]);case 3:E=X.S();!1;if((0,n.Zma)(E) && (!1,null === (S=this.As) || void 0 === S?void 0:S.uwc(y),B.signal.aborted))throw E;D=Response.error(C.url,{headers:new Headers(),status:0,statusText:"Unhandled error in fetch"});return [3,4];case 4:G={request:C,attempt:y,response:D,Jp:x,Ypc:F};this.events.emit("errorReceived",{fob:D,attempt:y});K=this.wJ(G);N=K.Hr;I=K.zK;L=K.ooc;!1;I && this.zK(G);L && this.events.emit("eosReceived",{sa:A,za:z});if(!N)return [3,7];O=this.VU(G);if(!(0 < O))return [3,6];J=(0,n.cia)(B.signal,!0);!1;return [4,Promise.race([J,new Promise(function(T){return setTimeout(T,O);})])];case 5:(X.S(),X.label=6);case 6:return [2,this.AHb(v,w,x,y + 1)];case 7:return (!1,null === (Y=this.As) || void 0 === Y?void 0:Y.vwc(y),[2,D]);}});});};q.prototype.zK=function(u){u=new k.P7a(u);this.O.lx(u);};q.prototype.VU=function(u){var v;v=this.cFa.filter(function(w){return w.VU;}).map(function(w){return w.VU.bind(w);});return n.hD.pJ(u,v).M5;};q.prototype.wJ=function(u){var v;v=this.cFa.filter(function(w){return w.wJ;}).map(function(w){return w.wJ.bind(w);});return n.hD.pJ(u,v);};return q;})();b.C7a=t;},79122:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.P7a=void 0;d=a(66164);n=a(26388);c=a(24940);t=(function(){function g(f){this.context=f;this.Hra=c.dCa.Je;}Object.defineProperties(g.prototype,{response:{get:function(){return this.context.response;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ah:{get:function(){var f;f=this.response.status;return 0 === f || 900 === f?d.platform.Cl.lD.Axa:500 <= f && 600 > f?d.platform.Cl.lD.F1:400 <= f && 500 > f?d.platform.Cl.lD.nea:d.platform.Cl.lD.hk;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{XE:{get:function(){return this.response.statusText;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{status:{get:function(){return this.response.status;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xg:{get:function(){return this.status;},enumerable:!1,configurable:!0}});g.prototype.ti=function(){return ("ME:").concat(this.context.attempt,"::").concat(this.context.Jp.Ng);};Object.defineProperties(g.prototype,{url:{get:function(){return this.context.request.url;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Bk:{get:function(){return this.context.Jp.Ng;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{stream:{get:function(){return this.context.Jp.stream;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mediaType:{get:function(){return n.v.Im;},enumerable:!1,configurable:!0}});return g;})();b.P7a=t;},53914:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.A7a=void 0;t=(function(){function a(){}a.prototype.VU=function(){return {M5:0};};a.prototype.wJ=function(){return {zK:!0};};return a;})();b.A7a=t;},63206:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hcb=void 0;t=(function(){function a(){}a.prototype.wJ=function(d,n){var c;n=n(d);this.rna(d) && (n.Hr=null !== (c=n.Hr) && void 0 !== c?c:!0);return n;};a.prototype.VU=function(d,n){n=n(d);this.rna(d) && (n.M5=0);return n;};a.prototype.rna=function(d){d=d.response;if(!d.ok && (0 === d.status || 900 === d.status))return !0;};return a;})();b.hcb=t;},87887:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.lcb=void 0;d=a(91176);t=(function(){function n(){this.uEc=[400,404,408,409,410];}n.prototype.wJ=function(c,g){var f;g=g(c);if(void 0 === g.Hr){f=c.response;f.ok || (600 > f.status && 500 <= f.status && (g.Hr=!0),(0,d.oc)(this.uEc,function(e){return e === f.status;}) && (g.Hr=!0));}return g;};return n;})();b.lcb=t;},93747:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.R7a=void 0;d=a(22970);n=a(48170);c=a(62629);g=a(65161);f=a(61996);t=(function(){function e(h,l,k){this.GMa=h;this.Whc=l;this.console=k;this.Ve=new f.Lm({wj:this,console:k,source:"MemoryDeadlockProtector",Bg:5});}e.prototype.Ifc=function(h){var l,k,m,p;m=h.config;p=m.no + (null !== (k=null === (l=m.eA) || void 0 === l?void 0:l.G) && void 0 !== k?k:0);l=this.Vlc(p,h);n.u && this.console.debug(("MDP: has prebuf: ").concat(l));return l?{Xja:!0}:(k=this.G3b(m),l=k.yxc,k=k.gNc,l && k?(n.u && this.console.debug(("MDP: utilizing ").concat(Math.round(100 * k),"%")),k >= m.wtc?this.rEb(h,l):{Xja:!0}):{Xja:!1});};e.prototype.rEb=function(h,l){var k,m,p,r,q,v,y,A;this.Ve.vg({o:l});r=h.player;h=h.Ta;q=r.Ta;r=r.em;for(var u=0;u < q.length;u++)if(!q[u].Nj){r=q[u];q=q.slice(0,u + 1);break;}u=!1;v=[{mediaType:g.v.X,tE:0},{mediaType:g.v.V,tE:0},{mediaType:g.v.Aa,tE:0}];if(null === r || void 0 === r || !r.Nj){h=h.map(function(B){return B;}).filter(function(B){return -1 === q.indexOf(B);}).sort(function(B,C){return (0,c.Iib)(B) - (0,c.Iib)(C);});try{for(var w=d.__values(h),x=w.next();!x.done;x=w.next()){y=x.value;A=y.AW();v[g.v.X].tE+=null !== (m=A.W3) && void 0 !== m?m:0;v[g.v.V].tE+=null !== (p=A.Lca) && void 0 !== p?p:0;n.u && this.console.debug(("Resetting discontiguous branch ").concat(y.K.id),A);y.reset();if(u=v.every(function(B){return B.tE >= l[B.mediaType].tE;}))break;}}catch(B){var z;z={error:B};}finally{try{x && !x.done && (k=w.return) && k.call(w);}finally{if(z)throw z.error;}}}return {Xja:u,dZc:v};};e.prototype.G3b=function(h){var l,k,m,p,r;l=[g.v.X,g.v.V,g.v.Aa];if(!h.xtc)return {};k=this.Whc();m=this.GMa().total;p=h.vtc;r=0;h=l.map(function(q){var u;u=k[q] - m[q] * p;r=Math.max(0 < m[q]?k[q] / m[q]:0,r);return {tE:Math.max(0,u),mediaType:q};});return {gNc:r,yxc:h};};e.prototype.Vlc=function(h,l){var k,m,p;k=this;m=!1;l=l.$n?l.player:void 0;if(null === l || void 0 === l?0:l.wnc){m=l.Tz.Wy().map(function(r){return r.mediaType;});p=l.ehc();m=m.every(function(r){var q,u;if(r === g.v.X)r=null !== (q=p.vha) && void 0 !== q?q:0;else if(r === g.v.V)r=null !== (u=p.Sta) && void 0 !== u?u:0;else return (n.u && k.console.trace("hasEnoughBuffer ignoring mediaType:",r),!0);return r >= h;});}return m;};d.__decorate([(0,f.Za)({methodName:"resetDiscontiguousBranches",return:!0,Re:!0})],e.prototype,"rEb",null);return e;})();b.R7a=t;},88874:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.t$a=void 0;d=a(22970);n=a(91176);c=a(69575);g=a(52571);f=a(61520);t=(function(){function e(){this.Ta=new c.d8a();this.Yp=new f.cga();}Object.defineProperties(e.prototype,{empty:{get:function(){return this.Ta.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{size:{get:function(){return this.Ta.size;},enumerable:!1,configurable:!0}});e.prototype.reset=function(){var h;h=this.Ta.values();this.Ta.clear();this.Yp.clear();h.forEach(function(l){return l.$g();});};e.prototype.Zq=function(h){return this.Ta.get(h);};e.prototype.has=function(h){return this.Ta.has(h);};e.prototype.root=function(){return this.Yp.root;};e.prototype.contains=function(h){var l;l=h.K.id;if(this.has(l))return -1 !== this.Zq(l).indexOf(h);};e.prototype.LI=function(h){this.Yp.LI(h);};e.prototype.Ula=function(h){return this.Yp.parent(h);};e.prototype.Wgc=function(h){return this.Yp.children(h);};e.prototype.oma=function(h){return this.Yp.oma(h);};e.prototype.YCc=function(h){var l;if(this.Ta.delete(h.K.id,h)){l=this.Yp.children(h);this.Yp.root === h?0 === l.length?this.Yp.clear():((0,g.assert)(1 === l.length,"cannot remove the root branch with multiple successors"),this.Yp.nDc(l[0])):((0,g.assert)(0 === l.length,"cannot remove non-root branch with successors"),this.Yp.remove(h));}};e.prototype.forEach=function(h){var l;l=this;this.Ta.forEach(function(k,m){return h(k,m,l);});};e.prototype.reduce=function(h,l){var k;k=this;return this.Ta.reduce(function(m,p,r){return h(m,p,r,k);},l);};e.prototype.map=function(h){var l;l=this;return this.Ta.map(function(k,m){return h(k,m,l);});};e.prototype.filter=function(h){var l;l=this;return this.Ta.filter(function(k,m){return h(k,m,l);});};e.prototype.$kc=function(){var h;h={};this.forEach(function(l,k){(l=l.Gx) && (h[k] || (h[k]=[])).push(l.G);});return h;};e.prototype.eMc=function(h,l){var k,m,p;k=this;h=this.t9b(h,l);m=h.vmb(this.Yp);l=m.uU;p=m.ux;m=m.xVa;this.Yp.clear();this.Yp=h;l.forEach(function(r){return k.Ta.set(r.K.id,r);});l.forEach(function(r){return r.Sb();});p.forEach(function(r){return k.Ta.delete(r.K.id,r);});m.forEach(function(r){r.WSa();});return {ux:p,xVa:m};};e.prototype[Symbol.iterator]=function(){return d.__generator(this,function(h){switch(h.label){case 0:return [5,d.__values(this.Ta)];case 1:return (h.S(),[2]);}});};e.prototype.t9b=function(h,l){var k,m,p;k=this;m=new Map();p=new f.cga();h.LI(function(r,q){var u,v;if(q){u=m.get(q);if(!u)return !0;}v=(0,n.oc)(k.Zq(r.K.id),function(w){return k.Yp.parent(w) === u || !q;}) || l(r.K.id,u);v.Mg=r.Mg;m.set(r,v);p.add(v,u);v.update(r.K);return !0;});return p;};return e;})();b.t$a=t;},70494:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.u$a=void 0;t=(function(){function a(d){this.console=d;this.lIa();}a.prototype.get=function(d){return this.EV[d] || this.Wh[d];};a.prototype.set=function(d,n){void 0 === this.Wh[d] && (this.Wh[d]=n);};a.prototype.oGc=function(d,n){void 0 === this.get(d) && (this.EV[d]=n);};a.prototype.clear=function(d){this.EV[d]=void 0;this.Wh[d]=void 0;};a.prototype.s5b=function(d){var n;this.Wh=(n={},n[d]=this.Wh[d],n);this.EV={};};a.prototype.lIa=function(){this.Wh={};this.EV={};};a.prototype.toJSON=function(){return {Wh:this.Wh,EV:this.EV};};return a;})();b.u$a=t;},86451:function(t,b,a){var c,g;function d(f,e){var h,l;h=Object.keys(f);if(h.some(function(k){var m,p,r,q;return (null === (m=f[k]) || void 0 === m?void 0:m.Ld) !== (null === (p=e[k]) || void 0 === p?void 0:p.Ld) || (null === (r=f[k]) || void 0 === r?void 0:r.weight) !== (null === (q=e[k]) || void 0 === q?void 0:q.weight);}))return !0;l=Object.keys(e);return 0 !== c.__spreadArray(c.__spreadArray([],c.__read((0,g.Iq)(h,l)),!1),c.__read((0,g.Iq)(l,h)),!1).length?!0:!1;}function n(f,e){return f.some(function(h,l){return 0 !== (0,g.Iq)(h,e[l] || []).length;}) || f.length !== e.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.H3b=function(f,e){var h,l,k,m,p,r;h=Object.keys(f.$);l=Object.keys(e.$);k=l.filter(function(q){return -1 === h.indexOf(q);});m=h.filter(function(q){return -1 === l.indexOf(q);});p=h.filter(function(q){var u;if(-1 === l.indexOf(q))u=!1;else (u=f.$[q],q=e.$[q],u=u.Ac !== q.Ac || u.ib !== q.ib || u.cb !== q.cb || u.Ld !== q.Ld || u.J !== q.J || n(u.cl || [],q.cl || []) || d(u.next || ({}),q.next || ({}))?!0:!1);return u;});r=(0,g.Iq)(h,c.__spreadArray(c.__spreadArray(c.__spreadArray([],c.__read(p),!1),c.__read(k),!1),c.__read(m),!1));return {uU:k,ux:m,ru:p,MLc:r};};c=a(22970);g=a(91176);},31509:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.v$a=b.dH=void 0;d=a(22970);n=a(52571);(function(g){g[g.tA=0]="CREATED";g[g.nCa=1]="STARTED";g[g.qM=2]="REQUEST_ISSUED";g[g.mD=3]="EVALUATED";g[g.s2a=4]="DESTRUCTED";})(c || (b.dH=c={}));t=(function(){function g(f,e,h){this.FK=f;this.console=e;this.name=h;this.Va=c.tA;this.XK={};this.Eba={};}Object.defineProperties(g.prototype,{state:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});g.prototype.start=function(){var f;f=this;this.Va !== c.nCa && (this.M9(c.nCa),[c.mD,c.qM].forEach(function(e){var h;h=new Promise(function(l){(0,n.assert)(f.Eba && f.XK,"state promises should be defined");f.Eba[e]=l;f.XK[e]=h;});}),this.FK(),this.M9(c.mD));};g.prototype.M9=function(f){this.Va=f;this.Eba && (f=this.Eba[f],null === f || void 0 === f?void 0:f());};g.prototype.Ja=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:if(this.Va !== c.nCa)return [3,2];(0,n.assert)(this.XK,"state resolves should be defined");return [4,this.XK[c.mD]];case 1:(f.S(),f.label=2);case 2:return (this.Eba=this.XK=void 0,this.Va=c.s2a,[2]);}});});};g.prototype.Yca=function(f,e){d.__awaiter(this,void 0,void 0,function(){var h;return d.__generator(this,function(l){switch(l.label){case 0:if(this.Va === c.s2a)return [2];if(this.Va === c.mD)return [3,6];(0,n.assert)(this.XK,"state promises should be defined");h=f;switch(h){case c.mD:return [3,1];case c.qM:return [3,3];}return [3,5];case 1:return [4,this.XK[c.mD]];case 2:return (l.S(),[3,6]);case 3:return [4,this.XK[c.qM]];case 4:return (l.S(),[3,6]);case 5:return [3,6];case 6:return (null === e || void 0 === e?void 0:e(),[2]);}});});};return g;})();b.v$a=t;},46262:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.D$a=void 0;t=(function(){function a(d,n,c,g,f,e,h,l){var k,m;this.Z=d;this.Ck=n;this.groupId=c;this.$F=g;this.JQ=f;this.et=e;this.Tn=h;c=null !== (m=null === (k=this.Ck.Ba.Pb) || void 0 === k?void 0:k.G) && void 0 !== m?m:n.Ba.sF.G;this.sv=d.Wh.get(n.L)?1:this.Ck.Ba.K.sv;this.KQ=l.offset.G;this.d_=Math.max(this.vn - c,0);}Object.defineProperties(a.prototype,{identifier:{get:function(){return this.Ck.L;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mediaType:{get:function(){return this.Ck.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mg:{get:function(){return this.Ck.Mg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Xd:{get:function(){return this.Z.Xd.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vn:{get:function(){return this.Ck.wG.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qW:{get:function(){return this.Ck.pW.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ig:{get:function(){return this.Ck.Ba.Rb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Sw:{get:function(){return this.Ck.Sw();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bo:{get:function(){return this.Ck.bo();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ak:{get:function(){return this.Ck.Ak;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YJ:{get:function(){return this.Ck.YJ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{HU:{get:function(){return this.Ck.HU;},enumerable:!1,configurable:!0}});a.prototype.vE=function(d,n){var c;c=this.Ck.Ba.vE(this.mediaType);return c.vQ?this.Z.zpc(this,d,n):c;};a.prototype.yJ=function(){return this.Z.yJ(this);};a.prototype.toJSON=function(){return {mediaType:this.mediaType,Zy:this.Zy,Mg:this.Mg,Xd:this.Xd,et:this.et,vn:this.vn,Tn:this.Tn,qW:this.qW,KQ:this.KQ,$F:this.$F,JQ:this.JQ,sv:this.sv,Ig:this.Ig,d_:this.d_,groupId:this.groupId,Sw:this.Sw,bo:this.bo,Ak:this.Ak,identifier:this.identifier,Z:"playgraph Object",Ck:this.Ck};};return a;})();b.D$a=t;},25317:function(t,b,a){var n,c,g;function d(f,e,h,l,k){var m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L;v=f.console;w=f.XLc;x=f.Wh;y=f.XDc;A=f.Zac;z=f.XRa;B=f.mHa;f=f.oQ;C=k || ({complete:!0,Gx:0});D=C.root;F=C.complete;H=C.EZb;E=C.lEb;E=void 0 === E?0:E;C=C.Gx;G=E < y.length && y[E].id === e.id;K=E < y.length?y[E].id:l && x.get(l.id);N=k && l && K !== e.id?void 0 !== K?{jg:0}:l.A3b(e.id):{jg:1};x=N.jg;N=N.cJ;I=void 0 === N?0:N;N=(x + I) * (null !== (m=null === k || void 0 === k?void 0:k.aG) && void 0 !== m?m:1);g && v.trace(("reevaluateBranches: visiting ").concat(e.id,", ") + ("distance: ").concat(h,", ") + ("probability: ").concat(N,", ") + ("predecessor: ").concat(null === l || void 0 === l?void 0:l.id,", ") + ("decision: ").concat(K,", ") + ("predecessorComplete: ").concat(F,", ") + ("isOnRequiredPath: ").concat(G,", ") + ("requiredPathIndex: ").concat(E,", ") + ("activeDistance: ").concat(H,", ") + ("seamless ").concat(x,", ") + ("immediate ").concat(I,", ") + ("predecessor sum of: successor weights=").concat(null === l || void 0 === l?void 0:l.hYa,", ") + ("immediate weights= ").concat(null === l || void 0 === l?void 0:l.fta));m=null !== (r=null === (p=w[e.id]) || void 0 === p?void 0:p.shift()) && void 0 !== r?r:e.Rb.G;p=0 === m;if(!G){if(0 === N)return {nS:!1,Uha:!0};if(!F && 0 === I && C > B)return (f.BI=Math.min(f.BI || Infinity,C - B),{nS:!1,Uha:!0});if(!p && h >= A && 1 > N || !1 === D && N < z)return {nS:!1,Uha:!0};}if(E < y.length){(0,n.assert)(y[E].id === e.id,"");L={duration:y[E].duration};}k=(null === k || void 0 === k?void 0:k.Mg) || [];l && 1 > x && (0 === I?k=k.concat([{jg:x}]):(y=(null === (u=null === (q=l.cl) || void 0 === q?void 0:q[0]) || void 0 === u?void 0:u[0]) || 0,q=Math.max(0,l.Rb.G - y),g && v.trace(("reevaluateBranches: immediate: ").concat(l.Rb.G,",\n                ").concat(y,", ").concat(q)),k=k.concat([{jg:x,cJ:I,duration:q}])));q=f.DC.Kob(function(O){return O.K === l;});f.DC.add({K:e,Mg:k,Ba:L},q);h=F?h + e.Rb.G:H;g && v.trace(("reevaluateBranches: added ").concat(e.id,", visiting successors, ") + ("active distance: ").concat(h," ") + ("probabilities: ").concat(JSON.stringify(k)));return {nS:!0,Uha:G,state:{root:!l,complete:p,aG:N,Mg:k,EZb:h,lEb:E + 1,Gx:C + m}};}Object.defineProperties(b,{__esModule:{value:!0}});b.lVa=function(f,e,h,l,k,m,p,r,q){var u,v,w,x;v={DC:new c.cga()};w=(null === (u=h.Ub) || void 0 === u?void 0:u.ca(h.lb).G) || 0;0 < m.length && (0,n.assert)(h.id === m[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");g && f.trace(("reevaluateBranches: starting at ").concat(h.id," ") + ("requiredPath: ").concat(JSON.stringify(m)));x={console:f,XLc:l,Wh:k,XDc:m,Zac:p.G + w,XRa:r,mHa:q.G,oQ:v};e.wLb(h,function(y,A,z,B){return d(x,y,A,z,B);},{root:!1,complete:!0,lEb:0,Gx:0});return v;};b.h5c=d;b.z4c=function(f,e,h){var l;l=(0,c.GAc)(e,function(k){return ("").concat(k.K.id);});h(("requiredBranches(").concat(f,")"),l.replace(/\n/g,"<>"));h(("requiredBranches(").concat(f,")"),e.values.map(function(k){var m;return ("").concat(k.K.id,"::").concat(null === (m=e.parent(k)) || void 0 === m?void 0:m.K.id);}).join(", "));};n=a(52571);t=a(48170);c=a(61520);g=t.u && !1;},33143:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.sab=void 0;d=a(22970);n=a(91176);c=a(91176);t=(function(){function g(f,e,h){this.he=e;this.hXb=h;this.Caa=[];this.Caa.push(f);}g.prototype.xma=function(f){return this.hXb({J:f,Jp:void 0},this.he);};g.prototype.Cr=function(f,e){return c.hD.pJ({J:f,Jp:e},this.Caa);};g.prototype.YQ=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,h,l,k,m,p,r,q;return d.__generator(this,function(u){switch(u.label){case 0:(e=f.pk,h=f.fb,l=f.J,k=this.Cr(f.J),u.label=1);case 1:return (u.qc.push([1,,4,5]),[4,k.Tr]);case 2:return (m=u.S(),p=m.U.Bb,(0,n.assert)(p,"Manifest must have aux manifest token to request ad break hydration"),r={pk:e,fb:h,Mf:{Bb:p,kd:l}},[4,this.he.YQ(e || "",r)]);case 3:return (q=u.S(),[2,{yha:q,fw:m}]);case 4:return (k.fm.release(),[7]);case 5:return [2];}});});};g.prototype.ZQ=function(f,e){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return [2,this.he.ZQ(f,e)];});});};g.prototype.mDc=function(f){var e;e=this.Caa.pop();this.Caa.push(f);return e;};g.prototype.igb=function(f){this.Caa.unshift(f);};return g;})();b.sab=t;},36472:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Xab=void 0;d=a(22970);n=a(91176);c=a(99548);g=a(52571);f=a(8149);b.Xab=(function(){function e(){}e.mlc=function(h,l,k){var m,p;if(h.Rf){m=d.__read(h.ja,1)[0];if(h.ja.some(function(r){return (0,f.eo)(r);})){(0,g.assert)((0,f.eo)(m),"expected live primary track");(0,g.assert)(h.O.qd,"Expected live viewable with position service");p=(0,c.f$)(l,k,h.O,n.I.zg) || n.I.zg;h=(0,c.f$)(l,k,h.O,n.I.zg) || n.I.zg;return {uLb:p,vLb:h};}l=null === (p=m.Dj) || void 0 === p?void 0:p.Ub;(0,g.assert)(l);h=h.ja.reduce(function(r,q){var u;return (null === (u=q.Dj) || void 0 === u?0:u.Ub)?n.I.min(r,q.Dj.Ub):r;},l);return {uLb:l,vLb:h};}};return e;})();},35879:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Rrb=void 0;b.Rrb=function(a,d){return a.reduce(function(n,c){return n + c.xla(d).G;},0);};},4489:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Jpb=void 0;d=a(59839);b.Jpb=function(n,c){return n.reduce(function(g,f){var e;e=c(f);f.Wy().forEach(function(h){return g.kGa(h.mediaType,h.UH,!e);});return g;},new d.y$a());};},86048:function(t,b,a){var n,c;function d(g,f){return f === n.v.Im?0:Object.keys(g.DQ).map(function(e){return g.DQ[e];}).filter(function(e){return void 0 === e.Zy || 1 === e.Zy;}).reduce(function(e,h){return e + h.su[f];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.Cbb=void 0;n=a(65161);c=a(48170);t=(function(){function g(f,e,h){this.Z=f;this.console=e;this.GMa=h;}g.prototype.vE=function(f,e,h){var l,k,m,p;l=h && this.Z.config.bNc;k=this.Z.config.LG || l;m=this.GMa();if(l){l=f.global;l=(p={},p[n.v.X]=l[n.v.X] - d(f,n.v.X),p[n.v.V]=l[n.v.V] - d(f,n.v.V),p[n.v.Aa]=l[n.v.Aa] - d(f,n.v.Aa),p);}p=l;m=this.aIa(e) || this.P4b(f) || this.N4b(f,m,p) || this.O4b(f,m,p,e);p=(0,n.kDb)(m);if(m && (!p || k))return (c.u && this.console.log(("canIssueRequest ").concat(this.Z.id," [").concat(e,"] static limit: ") + ("").concat(h,", usage: ").concat(JSON.stringify(f),", failed ").concat(m)),{vQ:!1,reason:m});c.u && this.console.log(("canIssueRequest ").concat(this.Z.id," [").concat(e,"] static limit: ") + ("").concat(h,", usage: ").concat(JSON.stringify(f),", success ").concat(m));return {vQ:!0,reason:m};};g.prototype.aIa=function(f){var e;e=this.Z.config.HF;if(this.Z.xhc(f) >= (e || Infinity))return "mediaDurationLimit";};g.prototype.P4b=function(f){return f.DQ[this.Z.id].total.total > (this.Z.Ola() || Infinity)?"playgraphMemoryLimit":void 0;};g.prototype.N4b=function(f,e,h){f=f.global;return h?h[n.v.X] + h[n.v.V] > (e.RXa.total || Infinity)?"staticMemoryLimit":void 0:f.total > (e.total.total || Infinity)?"globalMemoryLimit":void 0;};g.prototype.O4b=function(f,e,h,l){var k;k=f.global;if(l !== n.v.Im)return h?(c.u && this.console.log(("checkRequestByMediaTypeMemory [").concat(l,"]:") + (" using static limit ").concat(e.RXa[l],", usage: ").concat(h) + (" (global: ").concat(k[l]," ") + (" - certain contiguous: ").concat(d(f,l),")")),h[l] > (e.RXa[l] || Infinity)?l === n.v.V?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):k[l] > (e.total[l] || Infinity)?l === n.v.V?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return g;})();b.Cbb=t;},50612:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.UG=void 0;d=a(65161);n=a(65167);c=a(28847);t=(function(){var r4T;function g(f){var z4n,e;z4n=2;for(;z4n !== 9;){switch(z4n){case 2:var b0X="1SIYbZrN";b0X+="JC";b0X+="p9";e=this;this.config=f;this.rLb=this.oia=null;this.cCb=function(h,l,k){var h9C;h9C=2;for(;h9C !== 5;){switch(h9C){case 2:h=e.ar(h,k);return e.config.Whb?(l=(0,n.ZKa)(e.config.Vhb,l.uk - l.Xc,1),{lower:h * (1 - l),upper:void 0}):{lower:h * e.config.OR / 100,upper:void 0};break;}}};b0X;z4n=9;break;}}}r4T=2;for(;r4T !== 6;){switch(r4T){case 2:g.prototype.ymb=function(f,e){var A2X,h;A2X=2;for(;A2X !== 4;){switch(A2X){case 2:h=null === this.oia?f * (100 - this.config.OR) / 100:(0,c.ghb)(f,this.oia);this.config.Una && e?(f=(0,c.ghb)(f,e),f=Math.max(f,h)):f=h;return f;break;}}};g.prototype.uXa=function(f){var q_l;q_l=2;for(;q_l !== 1;){switch(q_l){case 2:return this.config.knb && (f === d.Wb.Oo || f === d.Wb.Df);break;}}};g.prototype.ar=function(f,e){var P9P,h,l,k;P9P=2;for(;P9P !== 5;){switch(P9P){case 2:return this.uXa(e)?(null === (h=f.Mw) || void 0 === h?void 0:h.Da) || (null === (l=f.ob) || void 0 === l?void 0:l.Da) || 0:(null === (k=f.ob) || void 0 === k?void 0:k.Da) || 0;break;}}};r4T=4;break;case 4:g.prototype.psa=function(f){var T2s;T2s=2;for(;T2s !== 1;){switch(T2s){case 2:this.oia=f;T2s=1;break;}}};g.prototype.gMa=function(){var f5E;f5E=2;for(;f5E !== 1;){switch(f5E){case 4:return this.oia;break;case 2:return this.oia;break;}}};g.prototype.lXa=function(f){var f7$;f7$=2;for(;f7$ !== 1;){switch(f7$){case 2:this.rLb=f;f7$=1;break;case 4:this.rLb=f;f7$=6;break;}}};g.prototype.$Na=function(){var W84;W84=2;for(;W84 !== 1;){switch(W84){case 2:return this.rLb;break;case 4:return this.rLb;break;}}};r4T=7;break;case 7:return g;break;}}})();b.UG=t;},53809:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.c2a=void 0;d=a(22970);n=a(65161);t=a(50612);c=a(93731);a=(function(g){var Z2w;Z2w=2;for(;Z2w !== 5;){switch(Z2w){case 3:d.__extends(f,g);return f;break;case 2:d.__extends(f,g);return f;break;}}function f(e){var u8k,h;u8k=2;for(;u8k !== 9;){switch(u8k){case 2:var G6O="1SIY";G6O+="bZrNJC";G6O+="p9";h=g.call(this,e) || this;h.VY=function(l,k,m,p,r){var B1f,K6L;B1f=2;for(;B1f !== 10;){switch(B1f){case 2:void 0 === r && (r=!0);B1f=1;break;case 12:B1f=11;break;case 1:B1f=h.uXa(m)?5:4;break;case 9:p=h.config.GZa * l.ob.Da;B1f=8;break;case 5:return h.osc.VY(l,k,m,p,r);break;case 6:return {lower:(null === k || void 0 === k?void 0:k.low) || l.ob.Da,upper:(null === k || void 0 === k?void 0:k.high) || p};break;case 8:B1f=m === n.Wb.Oo?7:14;break;case 4:var D7_="de";D7_+="li";D7_+="very";D7_+="time-ci";K6L=h.config.Xia;B1f=K6L === D7_?3:12;break;case 11:var E2f="throughp";E2f+="ut-";E2f+="ci";k=l[E2f];B1f=9;break;case 3:var T8r="de";T8r+="live";T8r+="ryti";T8r+="me-ci";k=l[T8r];B1f=9;break;case 14:B1f=m === n.Wb.Df?7:13;break;case 7:return {lower:(null === k || void 0 === k?void 0:k.initial) || l.ob.Da,upper:(null === k || void 0 === k?void 0:k.high) || p};break;case 13:B1f=6;break;}}};h.osc=new c.nza(e);G6O;return h;break;}}}})(t.UG);b.c2a=a;},14246:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vNa=b.UG=void 0;d=a(93731);n=a(8367);c=a(93928);g=a(53809);f=a(50612);Object.defineProperties(b,{UG:{enumerable:!0,get:function(){return f.UG;}}});b.vNa=function(e){switch(e.noa){case "manifold":return new d.nza(e);case "stddev":return new c.xbb(e);case "ci":return new g.c2a(e);default:return new n.ibb(e);}};},93731:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nza=void 0;d=a(22970);t=a(66164);n=d.__importStar(a(65167));a=a(50612);c=n.Yia;g=n.m5b;f=n.ZKa;e=n.Adc;h=n.YEc;new t.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(l){var r6F;r6F=2;function k(m){var N2l,p;N2l=2;for(;N2l !== 13;){switch(N2l){case 8:var J7l="1";J7l+="SIY";J7l+="bZ";J7l+="rNJCp9";p.WHc=!!m.By.simpleScaling;m.By.niqrfilter && m.By.niqrcurve && (p.$yb=m.By.niqrfilter,p.avc=g(m.By.niqrcurve,1,0,4));J7l;return p;break;case 2:p=l.call(this,m) || this;p.VY=function(r,q,u,v,w){var u95,x,y,A;u95=2;for(;u95 !== 11;){switch(u95){case 14:U7QY0.T$6(0);A*=U7QY0.F8S(q,1);v=w?p.ymb(A,v):A;return {lower:v,upper:v * p.config.GZa};break;case 4:u=p.uXa(u)?A:(null === (x=r[p.filter]) || void 0 === x?void 0:x.Da) || A;x=Math.pow(Math.max(1 - u / p.a2b,0),p.Y1b);u=q.uk - q.Xc;p.WHc?(q=f(p.Dlb,u,1),u=f(p.Clb,u,1),q=q * x + u * (1 - x)):q=f(h(p.Dlb,p.Clb,x),u,1);r=p.$yb && (null === (y=r[p.$yb]) || void 0 === y?void 0:y.lpa);void 0 !== r && (y=e(p.avc,r),q=Math.min(q * y,1));u95=14;break;case 2:void 0 === w && (w=!0);A=p.ar(r,u);u95=4;break;}}};Array.isArray(m.By.curves) && (p.Dlb=g(m.By.curves[0],0,0,1),p.Clb=g(m.By.curves[1],0,0,1));p.a2b=c(m.By.threshold || 6E3,1,1E5);p.Y1b=c(m.By.gamma || 1,.1,10);p.filter=m.By.filter;N2l=8;break;}}}for(;r6F !== 5;){switch(r6F){case 2:d.__extends(k,l);return k;break;case 3:d.__extends(k,l);return k;break;}}})(a.UG);b.nza=a;},8367:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ibb=void 0;d=a(22970);t=a(66164);n=a(50612);c=a(28847);new t.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(g){function f(e){var u7$,h;u7$=2;for(;u7$ !== 3;){switch(u7$){case 5:var e19="1";e19+="SIYbZ";e19+="rNJCp9";e19;return h;break;case 2:h=g.call(this,e) || this;h.VY=function(l,k,m,p,r){var o2k,q;o2k=2;for(;o2k !== 8;){switch(o2k){case 4:k=q?q * (100 - h.Dgc(k,l)) / 100 | 0:0;p=r?h.ymb(k,p):k;return {lower:p,upper:p * h.config.GZa};break;case 2:void 0 === r && (r=!0);q=h.ar(l,m);l=h.MHc(l,m);o2k=4;break;}}};u7$=5;break;}}}var Z2s;Z2s=2;for(;Z2s !== 3;){switch(Z2s){case 2:d.__extends(f,g);f.prototype.Dgc=function(e,h){var X4G,l,k;X4G=2;for(;X4G !== 3;){switch(X4G){case 2:(l=this.config,k=h?l.h5:l.G4);h=h?l.i5:l.I4;Array.isArray(h) && (k=(0,c.zdc)(h,e.uk - e.Xc,l.H4));return k;break;}}};Z2s=5;break;case 5:f.prototype.MHc=function(e,h){var v9_;v9_=2;for(;v9_ !== 5;){switch(v9_){case 2:e=this.ar(e,h);return this.config.Tba && e < this.config.j5;break;}}};return f;break;}}})(n.UG);b.ibb=a;},93928:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.xbb=void 0;d=a(22970);t=a(50612);t=(function(n){var R97;R97=2;function c(g){var T4T,f;T4T=2;for(;T4T !== 3;){switch(T4T){case 4:return f;break;case 2:var k0f="1S";k0f+="IYb";k0f+="Z";k0f+="r";k0f+="NJCp9";f=n.call(this,g) || this;f.VY=function(e){var T04,Z9D,h;T04=2;for(;T04 !== 10;){switch(T04){case 14:T04=e.Sq && e.Sq.M_?13:4;break;case 1:var d__="delive";d__+="ry";d__+="time";Z9D=f.config.UIc;T04=Z9D === d__?5:12;break;case 6:return {lower:e.Sq.IU + f.config.SXa * h,upper:e.Sq.IU + f.config.TXa * h};break;case 5:T04=!e.Sq || !e.Sq.Da?4:3;break;case 7:h=Math.sqrt(e.Sq.M_ || 0);T04=6;break;case 8:T04=!e.Sq || !e.Sq.IU?4:7;break;case 11:var V3Q="ew";V3Q+="m";V3Q+="a";T04=Z9D === V3Q?14:4;break;case 13:return (h=Math.sqrt(e.Sq.M_ || 0),{lower:e.ob.Da + f.config.SXa * h,upper:e.ob.Da + f.config.TXa * h});break;case 9:return {lower:8 / (e.Sq.Da + f.config.SXa * h),upper:8 / (e.Sq.Da - f.config.TXa * h)};break;case 12:var E6s="av";E6s+="era";E6s+="get";E6s+="p";T04=Z9D === E6s?8:11;break;case 2:h={lower:e.ob.Da,upper:void 0};T04=1;break;case 3:h=Math.sqrt(e.Sq.Zf || 0);T04=9;break;case 4:return h;break;}}};k0f;T4T=4;break;}}}for(;R97 !== 5;){switch(R97){case 2:d.__extends(c,n);return c;break;}}})(t.UG);b.xbb=t;},28847:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.zdc=function(n,c,g){var f,e,h;f=0;if(g){n.some(function(l){var k;k=l.b;l=l.m;if(c <= k)return (f=h && k !== e?h + (l - h) / (k - e) * (c - e):l,!0);e=k;f=h=l;return !1;});}else n.some(function(l){f=l.m;return c <= l.b;});return f;};b.cCb=function(n,c,g){var f;c=(null === (f=c.ob) || void 0 === f?void 0:f.Da) || 0;return n.Whb?(n=(0,d.ZKa)(n.Vhb,g.uk - g.Xc,1),c * (1 - n)):c * n.OR / 100;};b.ghb=function(n,c){return n < 2 * c?n / 2:n - c;};d=a(65167);},43071:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.m2a=b.o2a=void 0;d=a(63576);n=a(47233);c=a(76753);b.o2a=625E3;t=(function(){function g(f,e){this.console=f;this.config=e;}g.prototype.IHa=function(f){var e,h,l,k,m,p;e=this;h=this.config.Jja;l=this.config.e1c || this.config.Ija;k=0 < f.dOa.oF && Infinity !== f.dOa.oF;m=k?l * b.o2a / 1E3:this.config.UP || Infinity;p=k?Math.floor(f.dOa.oF / m):h;return {wo:f.lOc.sort(function(r,q){return r.priority - q.priority;}).slice(0,h).map(function(r,q){var u;u=r.key.config;return {Xub:{oF:q > p - 1?0:m},sd:r,Lqa:1,Ek:u,THb:{audio:[(0,d.s5)(u),new n.OCa(),new c.Qxa()],video:[(0,d.t5)(e.console,u),new n.OCa(),new c.Qxa()]}};})};};return g;})();b.m2a=t;},76753:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qxa=void 0;t=(function(){function a(){}a.prototype.dh=function(d){return d.filter(function(n){return !n.xa;});};return a;})();b.Qxa=t;},68766:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.G2a=void 0;d=a(22970);n=a(79048);c=a(28871);t=(function(){function g(){}g.prototype.gxb=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,h,l,k,m;return d.__generator(this,function(p){switch(p.label){case 0:e=f.sd.key;if(!(0,c.G8)(e))return [3,2];h=e.J;l=f.sd.he.Yq(h);return [4,Promise.resolve(l.Ct)];case 1:return (k=p.S(),m=k.U,m.Lq?[2,(0,n.fIa)(m.Lq,{config:k.config})]:[2,(0,n.CXa)(h,"ps0")]);case 2:return [2,e.Z];}});});};return g;})();b.G2a=t;},34297:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.I$a=void 0;d=a(48170);n=a(82475);b.I$a=(function(){function c(){}c.oDc=function(g,f,e,h){g.events.once("seeking",function(l){var k,m;k=l.position;m=e.length;l.duplicate || (e.paa(function(p){return "segmentNormalized" !== p.Eu;}),d.u && h.log(("Discarding ").concat(m - e.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,n.hOa)(f)) + (" due to seek to ").concat((0,n.hOa)(k))));d.u && h.log(("Replaying ").concat(e.length," events from prefetched playgraph") + ("for seek postition ").concat((0,n.hOa)(k)));e.yVa();e.Ja();});};return c;})();},91961:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z;Object.defineProperties(b,{__esModule:{value:!0}});b.K$a=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(66164);f=a(65161);e=a(51308);h=a(69575);l=a(52571);k=a(70764);m=a(48170);p=a(61996);r=a(63576);q=a(30285);u=a(7520);v=a(68766);w=a(81307);x=a(43071);y=a(28871);A=a(34297);z=a(2948);t=(function(){function B(C,D,F,H,E){void 0 === H && (H=new w.H2a());void 0 === E && (E=new v.G2a());this.Anb=C;this.config=D;this.vDb=H;this.wo=[];this.jCb=[];this.uy=[];this.ECb=new c.z2();this.stats={avb:0,bvb:0,Yub:0,zHa:0,Zub:0,$ub:0,AHa:0};this.events=new n.EventEmitter();this.console=(0,h.rf)(g.platform,F,"PREFETCH");this.Ve=new p.Lm({Bg:10,wj:this,source:"Prefetcher"});this.qGa(new x.m2a(F,D));this.qGa(new z.dbb(D));this.$Fb({oF:D.Ozc});this.VWa(E);this.unc();}Object.defineProperties(B.prototype,{Pzc:{get:function(){return this.wo.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{kOc:{get:function(){return this.uy;},enumerable:!1,configurable:!0}});B.prototype.uGb=function(C){m.u && (0,l.assert)(C,"Reconciliation strategy is undefined");this.vDb=C;return this;};B.prototype.qGa=function(C){this.jCb.unshift(C);return this;};B.prototype.oXa=function(C){var D;m.u && this.console.debug("Wish list changed",{M1c:C.length});D=(0,c.Iq)(this.kOc,C);this.Ve.vg({dropped:D.map(function(F){return (0,y.oj)(F.key);}),wishlist:C.map(function(F){return (0,y.oj)(F.key);})});D.forEach(function(F){var H;return null === (H=F.Ja) || void 0 === H?void 0:H.call(F);});this.uy=C;this.gra();};B.prototype.reset=function(C){var D;D=this;void 0 === C && (C=this.config);C.$zc?this.wo.forEach(function(F){return D.dfb(F);}):this.oXa([]);};B.prototype.dfb=function(C,D){var F,H,E;F=C.Z;H=C.I8;E=C.context;void 0 === D && (D=!1);F && (C=void 0,D && (C=F.UMa()),F.$g(D?e.KL.Qzc:e.KL.Wja),H.paa(function(G){return "segmentNormalized" !== G.Eu;}),D=(0,y.Yla)(E.sd,F.Z),F.JK(D),null === C || void 0 === C?void 0:C.release());};B.prototype.$Fb=function(C){m.u && this.console.debug("Budget changed",{Fpa:this.M4,epa:C});this.M4=C;this.gra();};B.prototype.k5b=function(C,D){var F,H,E,G;m.u && this.console.debug("Looking for playgraph to claim");if(C=this.vDb.Job(this.wo,{Z:C,Ek:D})){H=this.uy.indexOf(C.context.sd);m.u && this.console.debug(("Claiming item: ").concat((0,y.oj)(C.context.sd.key)),{wU:g.platform.time.na() - C.FYa,buffer:null === (F=C.Z) || void 0 === F?void 0:F.Xm(c.I.fa)});this.zI(C.context,{Ana:!!C.Z,sjb:!!C.Z});C.xa && this.dfb(C,!0);if(C.Z){F=C.Z;E=C.XQ;G=F.Yi;A.I$a.oDc(F,G,C.I8,this.console);E.WEc(F.GB(G) || c.I.fa,H);F.fKb({oF:this.config.UP || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.sd,videoBytesBuffered:C.Z.PO().Lca,audioBytesBuffered:C.Z.PO().W3});}}D.j0b || this.reset(D);return null === C || void 0 === C?void 0:C.Z;};B.prototype.h5b=function(){};B.prototype.getStats=function(){var C;C=g.platform.time.na();return {wishListLength:this.uy.length,prefetchList:this.Pzc.length,contents:this.wo.map(function(D){var F,H,E,G,K;if(D.Z){K=(0,y.Yla)(D.context.sd,D.Z.Z);K=D.Z.GB(K);K=D.Z.Xm(K || c.I.fa);}return {id:(0,y.oj)(D.context.sd.key),buffer:K,pId:null === (F=D.Z) || void 0 === F?void 0:F.id,budget:{inMemoryBytes:D.context.Xub.oF},weight:D.context.Lqa,age:C - D.FYa,timeOpened:C - (null !== (H=D.IKc) && void 0 !== H?H:0),state:f.Dd[null !== (G=null === (E=D.Z) || void 0 === E?void 0:E.Xd.value) && void 0 !== G?G:f.Dd.by]};}),aggregated:{itemsRequested:this.stats.avb,itemsStarted:this.stats.bvb,itemsClaimed:this.stats.Yub,bytesClaimed:this.stats.zHa,itemsCompleted:this.stats.Zub,itemsDiscarded:this.stats.$ub,bytesDiscarded:this.stats.AHa}};};B.prototype.zI=function(C){d.__awaiter(this,arguments,void 0,function(D,F){var H,E,G,K,N,I,L,O,J,Q;void 0 === F && (F={});return d.__generator(this,function(P){switch(P.label){case 0:H=d.__assign({Ana:!1,pvb:!1,sjb:!1},F);E=H.Ana;G=H.pvb;K=H.sjb;N=(0,c.oc)(this.wo,function(S){return S.context === D;});G || K || (null === (J=(O=D.sd).Ja) || void 0 === J?void 0:J.call(O));if(!N)return [3,3];this.Ve.vg({prefetchItem:(0,y.oj)(D.sd.key)});this.wo.splice(this.wo.indexOf(N),1);G || (I=this.uy.length,this.uy=this.uy.filter(function(S){return S !== D.sd;}),m.u && this.console.info("Dropping items from wishlist",I - this.uy.length),this.uy.length >= I && m.u && this.console.warn("Unable to filter out wishlist item",this.uy.map(function(S){return S.key;}),D.sd.key));m.u && this.console.debug("Dropping playgraph",{wU:g.platform.time.na() - N.FYa,buffer:null === (Q=N.Z) || void 0 === Q?void 0:Q.Xm(c.I.fa),J:(0,y.oj)(D.sd.key),O2c:!E,EYc:!G});N.kj.clear();if(E)return [3,2];L=this.zC(N);return N.Z?[4,L]:[3,2];case 1:(P.S(),P.label=2);case 2:(this.gra(),P.label=3);case 3:return [2];}});});};B.prototype.VWa=function(C){(0,l.assert)(C,"Playgraph resolver is undefined");this.dUa=C;return this;};B.prototype.unc=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.stats.Zub++;});this.events.on("prefetchStarted",function(){return C.stats.bvb++;});this.events.on("itemQueued",function(){return C.stats.avb++;});this.events.on("itemClaimed",function(D){var F,H;C.stats.Yub++;C.stats.zHa+=(null !== (F=D.BNc) && void 0 !== F?F:0) + (null !== (H=D.q1b) && void 0 !== H?H:0);});this.events.on("itemDropped",function(D){var F,H;C.stats.$ub++;C.stats.AHa+=(null !== (F=D.BNc) && void 0 !== F?F:0) + (null !== (H=D.q1b) && void 0 !== H?H:0);});};B.prototype.gra=function(){var C;C=this;this.ECb.Xha?Promise.resolve():this.ECb.qOc(function(){var D,F,H,E,G;D=c.hD.pJ({lOc:C.uy,dOa:C.M4},C.jCb.map(function(K){return K.IHa.bind(K);})).wo;F=(0,c.Iq)(D,C.wo,function(K,N){return (0,y.isEqual)(K.sd.key,N.context.sd.key);});H=(0,c.Iq)(C.wo,D,function(K,N){return (0,y.isEqual)(K.context.sd.key,N.sd.key);});E=(0,c.Iq)(C.wo,H);m.u && C.console.debug(("Re-evaluated prefetch items. new:").concat(F.length,", evict: ").concat(H.length,", update: ").concat(F.length));C.Ve.vg({toKeep:E.map(function(K){return (0,y.oj)(K.context.sd.key);}),toEvict:H.map(function(K){return (0,y.oj)(K.context.sd.key);}),newContexts:F.map(function(K){return (0,y.oj)(K.sd.key);})});H=H.map(function(K){return d.__awaiter(C,void 0,void 0,function(){var N,I,L;return d.__generator(this,function(O){switch(O.label){case 0:(N=K.context.sd.key,m.u && this.console.debug("Releasing playgraph",(0,y.oj)(N)),O.label=1);case 1:return (O.qc.push([1,,3,4]),[4,this.zC(K)]);case 2:return (O.S(),[3,4]);case 3:return (this.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:K.context.sd}),null === (L=(I=K.context.sd.he).Ja) || void 0 === L?void 0:L.call(I),[7]);case 4:return [2];}});});});G=E.map(function(K){return d.__awaiter(C,void 0,void 0,function(){var N,I;return d.__generator(this,function(L){switch(L.label){case 0:(N=(0,c.oc)(D,function(O){return (0,y.isEqual)(O.sd.key,K.context.sd.key);}),(0,l.assert)(N,"Couldn't find the requested item context"),K.context=N,L.label=1);case 1:return (L.qc.push([1,3,,4]),[4,K.Jqa]);case 2:return (I=L.S(),[3,4]);case 3:return (L.S(),[2]);case 4:return ((0,c.oc)(this.wo,function(O){return O === K;}) && (this.khb(K.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:K.context.sd})),[2]);}});});});F=F.map(function(K){var N;N=C.z9b(K);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:K.sd});return N;});C.wo=d.__spreadArray(d.__spreadArray([],d.__read(E),!1),d.__read(F),!1);E=F.map(function(K){return K.Jqa.catch(function(){});});E=H.concat(G).concat(E);return Promise.all(E);});};B.prototype.zC=function(C){return d.__awaiter(this,void 0,void 0,function(){var D,F,H;return d.__generator(this,function(E){switch(E.label){case 0:return (E.qc.push([0,3,,4]),[4,C.Jqa]);case 1:return (D=E.S(),m.u && this.console.debug("Removing prefetch playgraph",{size:D.Xm(c.I.fa)}),C.kj.clear(),[4,this.Anb()]);case 2:return (F=E.S(),F.zC(D),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.sd,videoBytesBuffered:D.PO().Lca,audioBytesBuffered:D.PO().W3}),[3,4]);case 3:return (H=E.S(),m.u && this.console.trace("Non fatal error in removing playgraph",H),[3,4]);case 4:return [2];}});});};B.prototype.jJa=function(C){return d.__awaiter(this,void 0,void 0,function(){var D,F,H,E,G,K,N,I,L,O,J;J=this;return d.__generator(this,function(Q){switch(Q.label){case 0:return (D=C.context,F=(0,y.oj)(D.sd.key),m.u && this.console.debug("Creating playgraph",F),[4,this.dUa.gxb(D)]);case 1:return (H=Q.S(),[4,D.sd.he.Yq(F).Ct]);case 2:E=Q.S();G=E.U;if(G.Iy)return (this.zI(D,{Ana:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(F) + " is not supported with prefetching")]);if((0,c.Ow)(G.Jf))if(this.config.$na)C.xa=!0;else return (this.zI(D,{Ana:!0}),[2,Promise.reject(("live title encountered viewable:").concat(F) + " disabling header fetch / normalization")]);K=D.Ek;N=K.tB && (G.Lq?K.Ybc:!0);I=Object.create(K,{tB:{value:N}});return [4,this.Anb()];case 3:return (L=Q.S(),O=L.f4(H,D.Lqa,I,D.sd.he,!1),C.kj.addListener(O.events,"error",function(P){m.u && J.console.debug("Prefetch playgraph resulted in error",P.oi);J.zI(D);}),[2,O]);}});});};B.prototype.exc=function(C,D){return d.__awaiter(this,void 0,void 0,function(){var F,H,E,G;return d.__generator(this,function(K){switch(K.label){case 0:return (F=C.context,H=(0,y.oj)(F.sd.key),E=F.sd.he.Yq(H),[4,E.Ct]);case 1:return (G=K.S(),this.khb(F,D),this.M0b(F,D,!!G.Gu),D.open(),D.Ax({nR:function(N,I){var L,O;L=N.recommendedMedia;O=L?(0,c.Ql)(I,function(J){return J.new_track_id === L.iu;}):(0,c.Ql)(I,function(J){return J.track_id === N.defaultTrackOrderList[0].audioTrackId;});return 0 <= O && O < I.length?O:void 0;}},{nR:function(N,I){var L,O;L=N.recommendedMedia;O=L?(0,c.Ql)(I,function(J){return J.new_track_id === L.Go;}):(0,c.Ql)(I,function(J){return J.track_id === N.defaultTrackOrderList[0].videoTrackId;});return 0 <= O && O < I.length?O:void 0;}}),m.u && this.console.trace("Open Playgraph/seekstreaming",{J:(0,y.oj)(C.context.sd.key)}),D.JK((0,y.Yla)(F.sd,D.Z)),this.PCc(C,E),E.Aw && (m.u && this.console.warn("Viewable churn encountered during prefetcher (expired on initialization)",H),this.zI(C.context)),[2]);}});});};B.prototype.PCc=function(C,D){var H;function F(E){m.u && H.console.debug(("Viewable ").concat(E?"superseded":"expired"),(0,y.oj)(C.context.sd.key));C.K0c=!0;H.zI(C.context,{pvb:!E && H.config.Opc});}H=this;D.events && (C.kj.addListener(D.events,"viewableEvicted",function(){F(!0);}),C.kj.addListener(D.events,"viewableExpired",function(){F(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.sd});};B.prototype.khb=function(C,D){D.AZa(C.Lqa);D.fKb(C.Xub);};B.prototype.M0b=function(C,D,F){var H;H=C.THb;C=H.audio;H=H.video;F && H.push(new u.d2(this.console,D.config));D.dXa(new r.cy(C,!0),new r.cy(H,!0));};B.prototype.z9b=function(C){var D,F,H;D=this;F=new k.J$a();H={context:C,FYa:g.platform.time.na(),kj:new n.lf(),XQ:F};H.Jqa=this.jJa(H).then(function(E){return d.__awaiter(D,void 0,void 0,function(){var G,K;K=this;return d.__generator(this,function(N){switch(N.label){case 0:for(G=E;G.Fa;)G=G.Fa;E.od(F);F.l1b(E);H.I8=new q.H3a(G.events,{HHc:function(I){var L,O;L=I.Eu;switch(L){case "buffering":return !1;case "segmentStarting":O=I.Qm[0];H.I8.paa(function(J){if("segmentStarting" === J.Eu)return J.Qm[0].L === O.L;if(O.initial && "initialAudioTrack" === J.Eu)return !0;});return !0;case "bufferingStarted":H.I8.paa(function(J){return "bufferingComplete" === J.Eu || "updateStreamingPts" === J.Eu;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":H.I8.paa(function(J){return J.Eu === L;});default:return !0;}}});G.events.on("bufferingComplete",function(){K.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.sd});});return [4,this.exc(H,E)];case 1:return (N.S(),H.IKc=g.platform.time.na(),H.Z=E,[2,E]);}});});});H.Jqa.catch(function(E){var G;G=(0,y.oj)(H.context.sd.key);m.u && D.console.error(("Exception occurred creating playgraph ").concat(G),E);D.zI(H.context);});return H;};d.__decorate([(0,p.Za)({methodName:"setWishList",Re:!0})],B.prototype,"oXa",null);d.__decorate([(0,p.Za)({methodName:"reset",Re:!0})],B.prototype,"reset",null);d.__decorate([(0,p.Za)({methodName:"dropPrefetchItem",Re:!0})],B.prototype,"zI",null);d.__decorate([(0,p.Za)({methodName:"processWishList",Re:!0})],B.prototype,"gra",null);return B;})();b.K$a=t;},81307:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.H2a=void 0;d=a(22970);n=a(52571);c=a(28871);t=(function(){function g(){}g.oj=function(f){var e,h;e=f.$;f=f.ff;h=e[f].J;Object.keys(e).forEach(function(l){return (0,n.assert)(e[l].J === h);});return e[f].J;};g.prototype.Job=function(f,e){var h;h=Object.keys(e.Z.$).length;return d.__read(f.filter(function(l){var k;return g.oj(e.Z) === (0,c.oj)(l.context.sd.key) && (1 === h || h === Object.keys((null === (k=l.Z) || void 0 === k?void 0:k.Z.$) || ({})).length);}),1)[0];};return g;})();b.H2a=t;},2948:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dbb=void 0;t=(function(){function a(d){this.config=d;}a.prototype.IHa=function(d,n){var c,g;c=this;d=n(d);g=d.wo.map(function(f){return f.sd.priority;}).sort();d.wo.forEach(function(f){f.Lqa=c.config.Szc / (2 << g.lastIndexOf(f.sd.priority));});return d;};return a;})();b.dbb=t;},47233:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.OCa=void 0;d=a(65161);t=(function(){function n(){}n.prototype.dh=function(c,g){return g === d.Dd.Po?[]:c;};return n;})();b.OCa=t;},28871:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Yla=b.oj=b.isEqual=b.G8=void 0;d=a(91176);n=a(6783);b.G8=function(c){return !!c.J;};b.isEqual=function(c,g){var f,e;f=(0,b.G8)(c);e=(0,b.G8)(g);return f === e?f?c.J === g.J:c.Z === g.Z:!1;};b.oj=function(c){if((0,b.G8)(c))return c.J;c=c.Z;return c.$[c.ff].J;};b.Yla=function(c,g){var f;return c.Cia?c.Cia instanceof d.I?(c=(0,n.ws)(g,(0,b.oj)(c.key),c.Cia),(null === c || void 0 === c?0:c.offset.greaterThan(d.I.fa))?c:{offset:d.I.fa,L:null !== (f=null === c || void 0 === c?void 0:c.L) && void 0 !== f?f:g.ff}):c.Cia:{offset:d.I.fa,L:g.ff};};},56820:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(23093),b);t.__exportStar(a(82010),b);t.__exportStar(a(19588),b);t.__exportStar(a(39833),b);},23093:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.R$a=void 0;t=(function(){function a(){this.jE="NONE";this.ys=this.Am=-1;this.Rw=this.Ls=!1;this.bZ=0;}Object.defineProperties(a.prototype,{A8:{get:function(){return 0 === this.bZ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sOa:{get:function(){return -1 !== this.Am;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tlc:{get:function(){return -1 !== this.ys;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dn:{get:function(){return this.Ls && this.Tlc && this.sOa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mub:{get:function(){return "DECREASING" === this.jE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Boc:{get:function(){return "INCREASING" === this.jE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lpc:{get:function(){return "NONE" === this.jE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nub:{get:function(){return "DISABLED" === this.jE;},enumerable:!1,configurable:!0}});return a;})();b.R$a=t;},62234:function(t,b,a){var q,u,v,w,x,y,A;function d(z,B){return B.nub;}function n(z,B){return (0,v.H8b)({k6b:l,s$b:z,Onc:h,cc:B});}function c(z,B){B=B.sOa;return z.sOa && !B;}function g(z,B,C){var D;z=B.ys;D=B.Am;C=C.Zba;return B.dn && z < D - C;}function f(z,B,C){var D;z=B.ys;D=B.Am;C=C.Zba;return B.dn && z > D + C;}function e(z,B,C){var D,F;z=B.ys;D=B.jE;F=B.Am;C=C.Zba;return B.dn?"DECREASING" === D && z <= F || "INCREASING" === D && z >= F || "NONE" === D && Math.abs(z - F) <= C?!0:!1:!1;}function h(z,B){z=z.bZ;B=B.bZ;return 0 < z && z < B;}function l(z,B){B=B.A8;return z.A8 && !B;}function k(z,B){B=B.A8;return !z.A8 && B;}function m(z,B){B=B.Rw;return !z.Rw && B;}function p(z,B){B=B.Ls;return z.Ls && !B;}function r(z,B){B=B.Ls;return !z.Ls && B;}Object.defineProperties(b,{__esModule:{value:!0}});b.Q$a=void 0;q=a(22970);u=a(66164);v=a(91176);w=a(97685);x=a(48170);y=a(23093);A=a(19250);t=(function(){function z(B,C){var D;D=this;this.zb=B;this.config=C;this.console=new u.platform.Console("ASEJS_PRESENTATION_DELAY_CONTROLLER","asejs");this.state=new v.Abb({model:y.R$a});this.gnc=function(F,H){var E,G;E=F.Am;F=F.ys;if(!D.state.value.Boc){G=D.zb.Aaa({type:"INCREASE",Am:E});x.u && D.$Qa({reason:H,request:"INCREASE",Am:E,ys:F,response:G});H=D.Y$(G);return {hx:D.jNa(H?"INCREASE":"DISABLE")};}};this.J$b=function(F,H){var E,G;E=F.Am;F=F.ys;if(!D.state.value.mub && D.state.value.A8){G=D.zb.Aaa({type:"DECREASE",Am:E});x.u && D.$Qa({reason:H,request:"DECREASE",Am:E,ys:F,response:G});H=D.Y$(G);return {hx:D.jNa(H?"DECREASE":"DISABLE")};}};this.Rwb=function(F,H){var E,G;E=F.Am;F=F.ys;if(!D.state.value.lpc){G=D.zb.Aaa({type:"MAINTAIN",Am:E});x.u && D.$Qa({reason:H,request:"MAINTAIN",Am:E,ys:F,response:G});H=D.Y$(G);return {hx:D.jNa(H?"MAINTAIN":"DISABLE")};}};this.Y$=function(F){if("APPROVED" === F.Bs)return (x.u && D.console.log("The platform approved the request"),!0);x.u && D.console.log(('The platform rejected the request with reason "').concat(F.reason,'"'));switch(F.reason){case "NOT_SUPPORTED":return !1;case "TARGET_ACHIEVED":return !0;case "NO_LIVE_INTENT":return (x.u && D.state.value.Ls && D.console.warn("Request requested due to NO_LIVE_INTENT, but ASE has intent"),!0);default:if(x.u)throw Error(("Unexpected rejection: ").concat(F.reason));return !1;}};this.AGb=function(F,H){if(D.state.value.Am !== D.config.gl)return (x.u && D.console.log(("Setting target to configured minimum at ").concat(D.config.gl,'ms due to "').concat(H,'"')),{hx:{Am:D.config.gl}});};this.WLc=function(F,H){x.u && D.console.log(('Unsetting target due to "').concat(H,'"'));return {hx:{Am:-1}};};this.slc=function(F,H){if(D.state.value.mub)return (x.u && D.console.log(("Halting decrease to ").concat(D.state.value.Am,'ms due to "').concat(H,'". ') + ("Setting new target to ").concat(D.state.value.ys,"ms.")),{hx:{Am:D.state.value.ys}});};this.ZFc=function(F,H){x.u && D.console.log(("No negative QoE signals have been received for ").concat(D.config.Sqa,"ms, ") + ('setting QoE to "acceptable" due to "').concat(H,'"'));return {hx:{bZ:0}};};this.nba=this.nba.bind(this);this.usa=this.usa.bind(this);this.rsa=this.rsa.bind(this);this.AVa=this.AVa.bind(this);this.reset=this.reset.bind(this);this.algorithm=new v.Algorithm([[d,function(){return {B2b:!0};}],[(0,v.Jkb)([r,m],p),this.AGb],[(0,v.Jkb)([p,m],r),this.WLc],[n(this.config.Sqa,this.zb.cc),this.ZFc],[k,this.AGb],[l,this.slc],[c,this.Rwb],[e,this.Rwb],[f,this.J$b],[g,this.gnc]],{store:this.state,nNa:function(){return [D.config];}});}z.prototype.nba=function(B){this.Lta({Ls:B});};z.prototype.usa=function(B){this.Lta({ys:B});};z.prototype.AVa=function(){this.Lta({bZ:this.state.value.bZ + 1});};z.prototype.rsa=function(B){this.Lta({Rw:B});};z.prototype.reset=function(){this.algorithm.reset();this.state.value.nub || this.state.reset();};z.prototype.jNa=function(B){B=(0,v.jLc)(A.mAc,this.state.value.jE,B);x.u && B.ru && this.console.log(('Transitioned from "').concat(B.xAc,'" to "').concat(B.hx,'" due to ') + ('event "').concat(B.event,'"'));return {jE:B.hx};};z.prototype.Lta=function(B){this.state.next(q.__assign({},B));};z.prototype.$Qa=function(B){var C,D,F,H;C=B.reason;D=B.request;F=B.Am;H=B.ys;B=B.response;H="MAINTAIN" === D?("Requesting ").concat(D).concat(-1 !== F?(" at ").concat(F,"ms"):""):("Requesting ").concat(D," from ").concat(H,"ms to ").concat(F,"ms");H+=(' due to "').concat(C,'"');w.Fna.log({zr:this.zb.Dic(),type:"PRESENTATION_DELAY_CHANGE_REQUEST",JVc:"APPROVED" === B.Bs,reason:C,request:D,source:"AUTOMATIC",d4c:F / 1E3});this.console.log(H);};return z;})();b.Q$a=t;},19250:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mAc={initial:"NONE",GHb:{NONE:{on:{TRc:"INCREASING",qQc:"DECREASING"}},rQc:{on:{YQb:"NONE"}},URc:{on:{YQb:"NONE"}},wQc:{}},on:{vQc:"DISABLED"}};},82010:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},19588:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},39833:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},53800:function(t){function b(d,n){this.qYb=d.uQ && d.uQ.enabled;this.pha=void 0;this.LXb=n;this.uFa=[];this.JFa=[];this.ZEa=[];d=d.lFa || [];n=d.map(function(c){return c.TXc;});n.unshift(0);this.tYb=d;this.uYb=n;this.eFa=[];this.Nd=[];}function a(d,n){var k,m,p,r;for(var c=[],g=[],f=0;f < d.length;f++){for(var e=d[f],h=[],l=0;l < e.length;l++){k=e[l] - (g[l] || 0);m=n && n[l];p=h;r=p.push;1 <= m && (m=Math.pow(10,m || 0),k=Math.round(k * m) / m);r.call(p,k);}c.push(h);g=e;}return c;}b.prototype.reset=function(d){this.pha=void 0;this.uFa=[];this.JFa=[];this.ZEa=[];this.eFa=[];d && (this.Nd=[]);};b.prototype.add=function(d,n){var c,g,f,e;c=n.filter(function(h){return h.uF || h === d.zd;});g=c.map(function(h){return h.bitrate;});n=d.zd;c=c.indexOf(n);f=this.pha;if(f && (f.length !== g.length || f.some(function(h,l){return h !== g[l];}))){e=this.$pb();e && (this.Nd.push(e),this.reset(!1));}void 0 === f && (this.pha=g);this.uFa.push([c,d.zv,d.ul,d.vHa,d.vib,d.mK,d.Fzb,d.Lg,d.mk,d.Oq,d.zG - d.zv,d.MBb]);void 0 !== d.kn && this.ZEa.push([d.zv,d.kn.vG,d.kn.EE,d.kn.dG]);c=n && n.La;this.qYb && void 0 !== c && (f=c.$E(d.Oq),-1 != f && (c=c.get(f),f=c.duration,n=c.Ob || n.Ob,void 0 !== n && this.JFa.push({Db:c.Db,duration:f,Ob:n})));(n=d.eCb) && n.length && (n=n.slice(0),n.unshift(d.zv),this.eFa.push(n));};b.prototype.$pb=function(){var d,n;d=a(this.uFa);if(0 !== d.length){d={dltype:this.LXb,bitrates:this.pha,seltrace:d,vmaftrace:this.JFa,paceratetrace:a(this.ZEa)};n=a(this.eFa,this.uYb);n && n.length && (d.predtrace={config:this.tYb,data:n});return d;}};b.prototype.get=function(){var d,n;d=this.$pb();n=this.Nd;d && n.push(d);if(0 !== n.length)return n;};t.exports=b;},35331:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.S_a=void 0;d=a(79048);n=a(14103);c=a(91967);t=(function(){function g(f){this.context=f;this.zc="ad-playgraph";this.enabled=!0;}g.prototype.ri=function(f){var e,h,l,k,m,p;h=f.Ri;f=f.Xs;if(h === c.Mc.sl || h === c.Mc.Zp || h === c.Mc.wk || f === c.Td.qt || void 0 === h && void 0 === f){h=this.context;f=h.Rd;h=h.Fa;if(null === (e=f.Oc) || void 0 === e?0:e.vd.mF()){e=h.player;e=e.Jd?e.xh:h.Jw?h.Yi:void 0;l=f.Gq;k=void 0;f=void 0;if(e){m=h.Z.$[e.L];p=h.Kb.LJ(e.L);p && (h=h.Kb.eK.Z.$[p],h.J != m.J && (k=m.J),"content" !== m.type && (f=this.ngc(e.L,h.J)));}h={adPlaygraph:l?d.xBa.decode(l):void 0,adMid:k,manifestHasAds:!0};void 0 !== f && (h.adBreakLocationMs=f);return h;}return {manifestHasAds:!1};}};g.prototype.ngc=function(f,e){var h,l,k;if(f=(0,n.MO)(f))k=null === (l=null === (h=this.context.Rd.Oc) || void 0 === h?void 0:h.vd.dMa(e,f)) || void 0 === l?void 0:l.Eo;return k;};return g;})();b.S_a=t;},75402:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.w0a=void 0;t=a(22970);d=a(90745);n=a(91176);c=a(91176);g=t.__importDefault(a(14282));f=t.__importDefault(a(53800));e=a(91967);h=a(60028);a=(function(){function l(k){this.Z=k;this.Eu="aseReport";this.CF="asereport";this.uE=n.I.zg;this.events=new d.EventEmitter();this.eja=h.Cfa.l2a;this.fha=!1;this.VHb=0;this.yY=this.yY.bind(this);this.JGb({type:"asereportconfigoverrides",gu:this.Z.config.gu,yy:this.Z.config.yy,XH:this.Z.config.XH});}l.prototype.JGb=function(k){var m,p,r,q,u;q=this.Z.config.XYc;u=null !== (m=k.gu) && void 0 !== m?m:this.Z.config.gu;0 === Math.floor(1E6 * Math.random()) % u || q?(m=null !== (p=k.yy) && void 0 !== p?p:this.Z.config.yy,this.uE=n.I.Ca(m),this.Zsc=null !== (r=k.XH) && void 0 !== r?r:this.Z.config.XH,this.Z.r4=!0,this.open()):(this.uE=n.I.zg,this.fha=this.Z.r4=!1,this.Z.events.mm("requestIssued",this.yY));};l.prototype.open=function(){var k,m;k=this;if(this.Z.r4 && !this.fha){m=[];m[g.default.Jo.V]=new f.default(this.Z.config,g.default.Jo.V);m[g.default.Jo.X]=new f.default(this.Z.config,g.default.Jo.X);m[g.default.Jo.Aa]=new f.default(this.Z.config,g.default.Jo.Aa);this.WXa=m;this.fha=!0;this.Z.events.on("openComplete",function(){return k.ozb();});this.ozb();this.Z.events.on("requestIssued",this.yY);}};l.prototype.ozb=function(){this.Z.events.emit("aseReportEnabled",{type:"asereportenabled"});};l.prototype.yY=function(k){k.result && k.streamList && (this.WXa[k.mediaType].add(k.result,k.streamList),++this.VHb >= this.Zsc && this.events.emit("collectionRequested"));};l.prototype.Ekc=function(){var k;k=(0,c.flatten)(this.WXa.map(function(m){return m.get();}).filter(function(m){return void 0 !== m;}));this.WXa.forEach(function(m){return m.reset(!0);});this.VHb=0;return k;};l.prototype.Se=function(k){var m,p;m=k.Ri;p=k.U5b;k=k.iub || p || m === e.Mc.wk;return this.Z.r4 && this.fha && k && (k=this.Ekc()) && k.length?{RZ:!0,event:{type:"asereport",strmsel:k}}:{RZ:!1};};return l;})();b.w0a=a;},36414:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.N1a=void 0;d=a(35779);n=a(48170);c=a(91967);t=(function(){function g(f,e){this.rIc=f;this.wj=e;}Object.defineProperties(g.prototype,{im:{get:function(){return ("cache-").concat(this.rIc);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zc:{get:function(){return this.im;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return n.u;},enumerable:!1,configurable:!0}});g.prototype.ri=function(f){var e,h,l;e=f.Ri;f=f.Xs;if(e === c.Mc.sl || e === c.Mc.Zp || e === c.Mc.wk || void 0 === e && void 0 === f){h=(0,d.Opb)(this.wj);e=Object.keys(h).filter(function(k){return h[k].isEnabled;});if(e.length){l={};e.forEach(function(k){l[k]={hit:h[k].RU,idx:h[k].Nia};});return {CWc:l};}}};return g;})();b.N1a=t;},67181:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Q1a=void 0;d=a(91176);n=a(65161);c=a(89527);g=a(91967);t=(function(){function f(e,h,l){this.oa=e;this.Th=h;this.config=l;this.zc="CdnReporter";}Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.ri=function(e){var h,l,k;h=this;l=e.Ri;k=e.Xs;e={};(k === g.Td.Cu || k === g.Td.pP || k === g.Td.GJ || k === g.Td.kK || k === g.Td.qt || k === g.Td.Pp) && (k=this.Spb()) && (e.cdnidinfo={audio:{streaming_cdn_id:k.YHb,streaming_cdn_name:k.nJc,presenting_cdn_id:k.pCb,presenting_cdn_name:k.rAc},video:{streaming_cdn_id:k.bIb,streaming_cdn_name:k.qJc,presenting_cdn_id:k.rCb,presenting_cdn_name:k.uAc},text:{streaming_cdn_id:k.aIb,streaming_cdn_name:k.pJc,presenting_cdn_id:k.qCb,presenting_cdn_name:k.tAc},mediaevents:{streaming_cdn_id:k.ZHb,streaming_cdn_name:k.oJc}});this.config.r4b && l === g.Mc.wk && (e.cdndldist=JSON.stringify((0,d.O0b)(Object.keys(this.Th).map(function(m){var p;p=h.Th[m];return Object.keys(p).map(function(r){var q;q=p[r];return {cdnid:q.On,pbcid:q.yi,dls:Object.keys(q.aO).map(function(u){var v,w;u=q.aO[u];w=u.mediaType === n.v.X?"adlid":"dlid";return (v={tm:u.totalTime,bitrate:u.bitrate},v[w]=u.Yb,v.vf=u.Ob,v);})};});}))));return e;};f.prototype.aMa=function(){var e;e=this.Spb();if(e)return {Y4:{audio:{Jba:e.YHb,Uqa:e.pCb},video:{Jba:e.bIb,Uqa:e.rCb},u_:{Jba:e.aIb,Uqa:e.qCb},Mxb:{Jba:e.ZHb}}};};f.prototype.Spb=function(){var e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q;I=this.oa.player;if(I.Jd){L=I.Tz;O=L.O;J=O.wi;Q=null === (h=null === (e=L.Ie(n.v.X)) || void 0 === e?void 0:e.qj) || void 0 === h?void 0:h.Eb;e=null === (k=null === (l=L.Ie(n.v.V)) || void 0 === l?void 0:l.qj) || void 0 === k?void 0:k.Eb;l=null === (p=null === (m=L.Ie(n.v.Aa)) || void 0 === m?void 0:m.qj) || void 0 === p?void 0:p.Eb;m=null === (q=null === (r=O.bi) || void 0 === r?void 0:r.Dr) || void 0 === q?void 0:q.EJ;r=null === (w=null === (v=null === (u=I.gv.get(n.v.X)) || void 0 === u?void 0:u.nW(c.GS)) || void 0 === v?void 0:v.q7()) || void 0 === w?void 0:w.Qc;u=null === (A=null === (y=null === (x=I.gv.get(n.v.V)) || void 0 === x?void 0:x.nW(c.GS)) || void 0 === y?void 0:y.q7()) || void 0 === A?void 0:A.Qc;x=null === (C=null === (B=null === (z=I.gv.get(n.v.Aa)) || void 0 === z?void 0:z.nW(c.GS)) || void 0 === B?void 0:B.q7()) || void 0 === C?void 0:C.Qc;return {YHb:Q,nJc:Q?null === (D=null === J || void 0 === J?void 0:J.kF(Q)) || void 0 === D?void 0:D.name:void 0,pCb:r,rAc:r?null === (F=null === J || void 0 === J?void 0:J.kF(r)) || void 0 === F?void 0:F.name:void 0,bIb:e,qJc:e?null === (H=null === J || void 0 === J?void 0:J.kF(e)) || void 0 === H?void 0:H.name:void 0,rCb:u,uAc:u?null === (E=null === J || void 0 === J?void 0:J.kF(u)) || void 0 === E?void 0:E.name:void 0,aIb:l,pJc:l?null === (G=null === J || void 0 === J?void 0:J.kF(l)) || void 0 === G?void 0:G.name:void 0,qCb:x,tAc:x?null === (K=null === J || void 0 === J?void 0:J.kF(x)) || void 0 === K?void 0:K.name:void 0,ZHb:m,oJc:m?null === (N=null === J || void 0 === J?void 0:J.kF(m)) || void 0 === N?void 0:N.name:void 0};}};return f;})();b.Q1a=t;},5479:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.j2a=void 0;d=a(79048);n=a(91967);t=(function(){function c(g){this.Iy=g;this.zc="content-playgraph";this.enabled=!0;}c.prototype.ri=function(g){var f,e,h,l,k;f=g.Ri;g=g.Xs;if(f === n.Mc.sl || f === n.Mc.Zp || f === n.Mc.wk || g === n.Td.qt || void 0 === f && void 0 === g){e=this.Iy.Fa;g=e.Kb.eK.Z;f=this.Iy;h=f.Fa.f8 || f.Fa;f=h.player;l=f.Jd?f.xh:h.Jw?h.Yi:void 0;k=f=void 0;l && (g=(k=e.Kb.LJ(l.L)) && g.$[k],h=h.Z.$[l.L],e=h.J,k=d.Fd.content,g && g.jo && g.J !== g.jo && (f=g.J,k=g.type || "content"),g && (null === g || void 0 === g?void 0:g.J) != e && (f=e,k=h.type),"adBreak" === h.type && (k=h.type));return {contentPlaygraph:this.Iy.Iy,auxMid:f,auxMidType:k};}};return c;})();b.j2a=t;},61996:function(t,b,a){var n,c,g,f;function d(e,h,l){var k,m,q;h=n.__assign({},null === (m=null === e || void 0 === e?void 0:e.context) || void 0 === m?void 0:m.call(e,{Dzb:h,Qm:l}));if((null === e || void 0 === e?0:e.Qm) && l)if(!0 === e.Qm)h.args=l;else {m={};h.args=m;try{for(var p=n.__values(e.Qm),r=p.next();!r.done;r=p.next()){q=r.value;m[q]=l[q];}}catch(v){var u;u={error:v};}finally{try{r && !r.done && (k=p.return) && k.call(p);}finally{if(u)throw u.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Lm=b.UNa=b.Za=void 0;n=a(22970);c=a(66164);g=a(91176);f=a(48170);b.Za=function(e){return function(h,l,k){var m;m=k.value;k.value=function(){var p,r,q,u,v,w;r=(0,b.UNa)(this);if(r)(q=d(e,this,arguments),u=null !== (p=null === e || void 0 === e?void 0:e.methodName) && void 0 !== p?p:String(l),v=r.Jha(u,q,null === e || void 0 === e?void 0:e.Re,null === e || void 0 === e?void 0:e.m_c));p=null === r || void 0 === r?void 0:r.wJa;r && (r.wJa=v);try{w=null === m || void 0 === m?void 0:m.apply(this,arguments);(0,g.YPa)(w) && (w=w.then(function(y){v && (null === e || void 0 === e?0:e.return) && (v.data.resolve=y);return y;},function(y){v && (v.data.reject=("").concat(y));return Promise.reject(y);}));return w;}catch(y){var x;x=y;throw y;}finally{r && (r.wJa=p);v && (v.data || (v.data={}),x?(v.data.error=("").concat(x),null === r || void 0 === r?void 0:r.r6b(v)):(null === e || void 0 === e?0:e.return) && !(0,g.YPa)(w) && (v.data.lRet=w));}};};};b.UNa=function(e){if(null === e || void 0 === e?0:e.NDa)return e.NDa;};t=(function(){function e(h){this.Tu=[];this.Qga=!1;this.wEa={};this.xb=n.__assign({Bg:10},h);Object.defineProperties(h.wj,{NDa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(e.prototype,{source:{get:function(){return this.xb.source;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{enabled:{get:function(){return !this.Qga;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Lpc:{get:function(){return n.__spreadArray([],n.__read(this.Tu),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{umc:{get:function(){return this.wEa;},enumerable:!1,configurable:!0}});e.prototype.vg=function(h){var l,k,m;if(!this.Qga){k=(0,b.UNa)(this.xb.wj);m=null === k || void 0 === k?void 0:k.wJa;k && (null === (l=k.xb.console) || void 0 === l?void 0:l.trace(("Adding additional item to ").concat(null === m || void 0 === m?void 0:m.methodName),h));m && (m.data=n.__assign(n.__assign({},m.data),h));}};e.prototype.Jha=function(h,l,k,m){var p,r,q,u;if(!this.Qga){q=!1;u=null === (r=(p=this.xb).Agb) || void 0 === r?void 0:r.call(p,this.xb.wj);p=d({},this.xb.wj);l=n.__assign(n.__assign(n.__assign({},u),p),l);u=0 < Object.keys(l).length;l={methodName:h,data:u?l:void 0,time:c.platform.time.na()};m && this.wEa[h]++;k && this.Tu.length && (k=this.Tu[this.Tu.length - 1],k.methodName === h && (k.data=k.data || ({}),k.data.dedup=k.data.dedup || ({hitCount:1}),k.data.dedup.hitCount++,k.data.dedup.lJournal=l,q=!0));this.s6b(l);q || this.Tu.push(l);this.Tu.length > this.xb.Bg && this.Tu.shift();return l;}};e.prototype.s6b=function(h){var l;f.u && (null === (l=this.xb.console) || void 0 === l?void 0:l.trace(("").concat(this.xb.source,"::").concat(h.methodName),h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.xb,h);};e.prototype.r6b=function(h){var l;f.u && (null === (l=this.xb.console) || void 0 === l?void 0:l.error(("").concat(this.xb.source,"::").concat(h.methodName),h.data));};e.prototype.Ja=function(){Object.defineProperties(this.xb.wj,{NDa:{enumerable:!1,value:null,configurable:!0}});this.Qga=!0;this.clear();};e.prototype.clear=function(){this.Tu=[];this.wEa={};};return e;})();b.Lm=t;},7470:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.y3a=void 0;d=a(91967);t=(function(){function n(c){this.ed=c;}Object.defineProperties(n.prototype,{zc:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.ri=function(c){var g;if(c.Ri === d.Mc.wk && this.ed){c={};g=this.ed.get();g && g.avtp && g.avtp.Da && (c.avtp=g.avtp.Da,c.dltm=g.avtp.kKa);g && g.initialThroughput && g.initialThroughput.Da && (c.initial_avtp=g.initialThroughput.Da);g && g.cdnavtp && (c.cdnavtp=g.cdnavtp,c.activecdnavtp=g.activecdnavtp);if(g=this.ed.mNa())(g.bytesRequestedPacingVideo && (c.bytesRequestedPacingVideo=g.bytesRequestedPacingVideo,c.estimatedBytesPacedVideo=g.estimatedBytesPacedVideo,c.bytestotalVideo=g.bytestotalVideo,c.pacedAvtpVideo=g.pacedAvtpVideo),g.bytesRequestedPacingAudio && (c.bytesRequestedPacingAudio=g.bytesRequestedPacingAudio,c.estimatedBytesPacedAudio=g.estimatedBytesPacedAudio,c.bytestotalAudio=g.bytestotalAudio,c.pacedAvtpAudio=g.pacedAvtpAudio),g.pacedAvtp && (c.pacedAvtp=g.pacedAvtp));this.ed.flush();if(g=this.ed.Myb)for(var f in g)g.hasOwnProperty(f) && (c["ne" + f]=Number(g[f]).toFixed(6));return c;}};return n;})();b.y3a=t;},8478:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.A3a=void 0;d=a(97967);n=a(91967);t=(function(){function c(g){this.Aka=g;this.im="engine";this.enabled=!0;}Object.defineProperties(c.prototype,{zc:{get:function(){return this.im;},enumerable:!1,configurable:!0}});c.prototype.ri=function(g){var f;f=g.Ri;g=g.Xs;if(f === n.Mc.sl || f === n.Mc.Zp || f === n.Mc.wk || void 0 === f && void 0 === g)return (f=this.Aka.uzc.map(function(e){var h;h=e.Z;return {id:h.id,weight:h.weight,relativeWeight:e.maa};}),f={prefetcher:this.Aka.Sz.getStats(),playgraphs:f,viewables:this.Aka.MNc,players:this.Aka.szc.length},d.dza.instance && (f.mfCache=d.dza.instance.nRa.getStats()),f);};return c;})();b.A3a=t;},75462:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.o6a=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(66164);f=a(60028);t=(function(){function e(h,l,k,m){this.Yg=h;this.vh=k;this.CF="liveadbreak";this.uE=c.I.zg;this.events=new n.EventEmitter();this.eja=f.Cfa.LCa;this.console=(0,c.rf)(g.platform,m,"LiveAdBreakGenerationReporter");l.addListener("adBreakEvent",this.CSa.bind(this));}e.prototype.CSa=function(h){var l,k;if("adBreakComplete" === h.event || "adBreakStop" === h.event){k=this.Yg.get(h.eLb);k && k.vc && ((k=this.vh.mgc(k.J,h.au))?(this.fRa={adBreakTriggerId:h.fb,adBreakLocationMs:h.au,wasPrefetched:"daiPrefetch" === k.source,wasHydrated:"hydration" === k.source,lastEvent:h.event,isAutoskip:k.aB,plannedAdBreakDuration:k.jc.reduce(function(m,p){return m.add(p.endTime.ca(p.startTime));},c.I.fa).G,adBreakDurationSCTE:null === (l=k.nt) || void 0 === l?void 0:l.G,fallbackAuxMidType:"content",plannedAdCount:k.jc.length},this.events.emit("collectionRequested")):this.console.warn("Missing adBreakData for impression event",{graphPosition:h.Ah,adBreakLocationMs:h.au}));}};e.prototype.Se=function(){var h;if(this.fRa){h=this.fRa;this.fRa=void 0;return {RZ:!0,event:d.__assign({type:"logblob",CF:"liveadbreak"},h)};}return {RZ:!1};};return e;})();b.o6a=t;},29688:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.D6a=void 0;d=a(22970);n=a(90745);c=a(91176);g=a(60028);f=a(91967);t=(function(){function e(h){this.Z=h;this.Eu="liveReport";this.CF="livereport";this.uE=c.I.zg;this.events=new n.EventEmitter();this.eja=g.Cfa.LCa;this.f3=!1;this.trace=[];this.iJb=1;0 < h.config.rwb && 0 < h.config.PQa && (this.uE=c.I.Ca(h.config.PQa),this.iJb=Math.max(Math.floor(h.config.rwb / h.config.PQa),1),this.f3=!0);}e.prototype.R5b=function(){var h,l,k,m;l=this.Z.player;if(l.Jd){k=l.Tz.O;if(k=k.vc?k:(null === (h=k.JY) || void 0 === h?0:h.vc)?k.JY:void 0){(0,c.assert)(k.qd,"Expected live viewable with presenting service");m=k.qd.XMa(!0).G;h=k.Bj;l=m + l.Pd.G;k=this.Z.PO();this.trace.push([h,l,k.totalabuflmsecs,k.totalvbuflmsecs]);}else this.f3=!1;}};e.prototype.Se=function(h){var l,k;l=h.iub;h=h.Ri;this.f3 && (l || h === f.Mc.sl) && this.R5b();if(this.trace.length === this.iJb || 0 < this.trace.length && h === f.Mc.wk){l=this.trace;k=d.__read(l[l.length - 1],2);h=k[0];k=k[1];this.trace=[];return {RZ:!0,event:{type:"livereport",samplinginterval:this.uE.G,trace:l,encodingpipelinetime:h,devicepts:k}};}return {RZ:!1};};return e;})();b.D6a=t;},27288:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});b.E6a=void 0;t=a(22970);d=a(26388);n=a(91176);c=a(6832);g=a(71460);f=t.__importDefault(a(40497));e=a(8149);h=a(13550);l=a(65161);k=a(91967);a=(function(){function m(p,r){this.Nq=p;this.oa=r;this.enabled=!0;this.GV={};this.jL={};r.events.on("liveMissingSegment",this.iCc.bind(this));}m.prototype.iCc=function(p){var r,q;p=p.mediaType;p=(0,l.LF)(p);(r=this.GV)[p] || (r[p]=0);(q=this.jL)[p] || (q[p]=0);this.GV[p]+=1;this.jL[p]+=1;};Object.defineProperties(m.prototype,{zc:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});m.prototype.ri=function(p){var r,q,u,v,w,x,y,A,z,B;p=p.Xs;if(p === k.Td.Pp || p === k.Td.pP || p === k.Td.Cu || p === k.Td.qt || p === k.Td.Fba || p === k.Td.zE || p === k.Td.saa || p === k.Td.GJ){x=this.oa.player;if(x.Jd){y=x.Tz;A=y.O;z=null === (r=y.Ie(d.v.V)) || void 0 === r?void 0:r.qj;if(A.vc && (0,e.Xj)(z)){(0,n.assert)(A.qd,"Expected live viewable with position service");r=A.qd.XMa(!0).G;r={encodingpipelinetime:A.Bj,devicepts:r + x.Pd.G};if(p === k.Td.GJ){B=null === (q=x.gv.get(d.v.V)) || void 0 === q?void 0:q.nW(c.Ufa);B && (r.vbitrate=null === (u=B.q7()) || void 0 === u?void 0:u.stream.bitrate);(q=null === (v=x.gv.get(d.v.X)) || void 0 === v?void 0:v.nW(c.Ufa)) && (r.abitrate=null === (w=q.q7()) || void 0 === w?void 0:w.stream.bitrate);0 < Object.keys(this.jL).length && (r.liveMissingFragments=this.jL);0 < Object.keys(this.GV).length && (r.missingFragmentsDelta=this.GV,this.GV={});if(v=y.Ie(d.v.V))(v=v.track,r.minvencodingbitrate=v.TRa,r.maxvencodingbitrate=v.xRa);r.edgecushion=this.oa.config.V8;}p === k.Td.Pp && (r.presentationtimeoffset=z.ml.G);if(p === k.Td.Pp || p === k.Td.qt)(v=f.default.instance().ENa(),u=this.Nq.YMa(A),w=this.oa.Mqb(),q=new g.R4a(v,this.oa.config,this.oa.console),z=(0,h.Asa)(z.O,u.MP),r.presentationdelay=w,r.sessionStats=v,r.ishighandstable=q.zoc(),r.isSlowBufferFilling=z,r.requestOffsetMs=A.qd.hEb);if(p === k.Td.Pp || p === k.Td.qt || p === k.Td.GJ)(z=this.oa.Nqb(),r.targetbufferduration=z);p === k.Td.Cu && (r.livePostplayEvents=A.krc,0 < Object.keys(this.jL).length && (r.missingFragments=this.jL,this.jL={}));return r;}}}};return m;})();b.E6a=a;},60028:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.S6a=b.Cfa=void 0;d=a(22970);n=a(90745);c=a(91967);(function(f){f[f.l2a=1]="Creation";f[f.LCa=2]="StartPlayback";})(g || (b.Cfa=g={}));t=(function(){function f(e,h,l){this.cc=e;this.console=h;this.events=l;this.AC={};this.rj=new n.lf();}f.prototype.od=function(e){var h;h={XQ:e,EHa:void 0};this.AC[e.CF]=h;e.eja === g.l2a && this.fWa(h);this.rj.on(e.events,"collectionRequested",this.kwc.bind(this,h));this.events.on("asereportconfigoverrides",this.bMc.bind(this));};f.prototype.Ja=function(){this.rj.clear();};f.prototype.Cqc=function(e){var h,l;h=this;l={Ri:e};Object.keys(this.AC).forEach(function(k){k=h.AC[k];h.cZa(k.XQ,l);e === c.Mc.sl && k.XQ.eja === g.LCa && h.fWa(k);});};f.prototype.kwc=function(e){var h;this.cZa(e.XQ,{U5b:!0});null === (h=e.EHa) || void 0 === h?void 0:h.Uc();};f.prototype.fWa=function(e){var h,l,k,m;h=this;k=e.XQ;m=this.cc.qja(function(){h.cZa(k,{iub:!0});},k.uE,k.CF);null === (l=e.EHa) || void 0 === l?void 0:l.Ja();e.EHa=m;};f.prototype.cZa=function(e,h){var l;try{l=e.Se(h);l.RZ && (e.Eu && this.events.emit(e.Eu,l.event),this.events.emit("logblob",d.__assign({CF:e.CF},l.event)));}catch(k){this.console.error(("Error generating event for ").concat(e.CF),k);}};f.prototype.bMc=function(e){var h,l,k;h=this.AC.aseReport;if(void 0 !== h){l=h.XQ;k=l.uE.G;l.JGb(e);k !== l.uE.G && this.fWa(h);}};return f;})();b.S6a=t;},63172:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.R9a=void 0;d=a(65161);n=a(95324);c=a(91967);t=(function(){function g(f){this.Ie=f;}Object.defineProperties(g.prototype,{zc:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.ri=function(f){var e,h,l;f=f.Ri;if(f === c.Mc.Zp || f === c.Mc.wk){f={};e=this.Ie(d.v.V);h=this.Ie(d.v.X);l=this.Ie(d.v.Aa);e && (f.videoPipelineSummary=this.kYa(e));h && (f.audioPipelineSummary=this.kYa(h));l && (f.textPipelineSummary=this.kYa(l));return f;}};g.prototype.kYa=function(f){var e,h,l,k,m;m=f.Ue.La;m={actualStartPlayerTimestamp:null === (e=m.Pb) || void 0 === e?void 0:e.G,actualPartialPlayerTimestamp:m.cBb,completePlayerTimestamp:null === (h=f.Qj) || void 0 === h?void 0:h.G,segmentId:f.L,contentStartMs:null === (l=f.sa) || void 0 === l?void 0:l.G,contentEndMs:null === (k=f.za) || void 0 === k?void 0:k.G,streamingPlayerMs:f.wG.G,isStreamable:f.Sw(),isNormalized:f.Rf(),isDoneStreaming:f.bo(),trackNeedsHeaderRequest:f.track.Y9,completedRequests:m.dkb,activeRequests:f.Ue.mk,unsentRequests:f.Ue.nL,bytes:{current:m.ka,received:m.iaa,partial:m.nx,completed:m.gja,unsent:m.VLc}};f instanceof n.Eea && (f.pwb && (m.liveMissingFragments=f.pwb),f=f.JWa,m.serverTimeDeltaUpdateStat={max:f.max,min:f.min,trace:f.trace,serverTime:f.IWa,count:f.count});return m;};return g;})();b.R9a=t;},46759:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.s$a=void 0;d=a(22970);n=a(48170);c=a(69575);g=a(91967);f=a(5653);t=(function(){function e(h,l){var k;k=this;this.cUa=h;this.oa=l;this.PBb=new c.Eg();l.events.on("branchesReevaluated",function(){k.PBb.push(h.size);});}Object.defineProperties(e.prototype,{zc:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{im:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{enabled:{get:function(){return n.u;},enumerable:!1,configurable:!0}});e.prototype.ri=function(h){var l;h=h.Ri;if(h === g.Mc.Zp || h === g.Mc.wk){l={branchCountStats:this.PBb.toJSON(),decisions:this.oa.Wh.toJSON(),player:this.oa.player.Ou?this.oa.player.Ta.map(function(k){return k.K.id;}):[]};this.cUa.forEach(function(k,m){var p,r;r=(0,f.mMa)(k);l[m]=d.__assign({probabilities:k.Mg.map(function(q){return {duration:q.duration,immediate:q.cJ,seamless:q.jg};}),parent:null === (p=k.parent) || void 0 === p?void 0:p.K.id,normalized:k.Rf,hasViewable:k.dm,headerRequested:k.dm && k.O.Vsb},r);});return l;}};return e;})();b.s$a=t;},14609:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.H$a=void 0;d=a(22970);n=a(91967);t=(function(){function c(g){this.Hc=g;d.__assign(d.__assign({},g),{failed:!0});}Object.defineProperties(c.prototype,{zc:{get:function(){return "PrefetchFailureReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{im:{get:function(){return "prefetch";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});c.prototype.ri=function(g){if(g.Ri === n.Mc.sl)return this.Hc;};return c;})();b.H$a=t;},70764:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.J$a=void 0;d=a(66164);n=a(91967);t=(function(){function c(){this.creationTime=d.platform.time.na();this.Hc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}c.prototype.l1b=function(g){this.Z=g;};c.prototype.WEc=function(g,f){var e;g=null === (e=this.Z) || void 0 === e?void 0:e.Xm(g);this.Hc={isPrefetchItem:!0,prefetchedVideoMs:g.z_,prefetchedAudioMs:g.y_,prefetchClaimDurationMs:d.platform.time.na() - this.creationTime,prefetchRank:f};};Object.defineProperties(c,{zc:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{zc:{get:function(){return c.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});c.prototype.ri=function(g){if(g.Ri === n.Mc.sl)return this.Hc;};return c;})();b.J$a=t;},29739:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ba=void 0;d=a(22970);t=(function(){function n(c){this.im=c;this.zc=n.zc;this.enabled=!0;this.dIa=new Map();}n.prototype.anc=function(c,g){this.dIa.set(c,{id:g || "",msa:c});};n.prototype.ri=function(c){var g;g=Array.from(this.dIa.values()).map(function(f){var e;e=f.id;f=f.msa.ri(c.Ri,c.Xs);return [e,f];}).filter(function(f){return (f=d.__read(f,2)[1]) && Object.keys(f).length;});if(g.length)return {yDc:g.map(function(f){return {id:f[0],report:f[1]};})};};n.prototype.PDb=function(c){this.dIa.delete(c);};n.zc="wrapped-reporter";return n;})();b.$Ba=t;},91967:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Dfa=b.U2=b.Td=b.Mc=b.u=void 0;d=a(22970);n=a(91176);c=a(67164);g=a(29739);b.u=!1;(function(e){e[e.sl=0]="startPlayback";e[e.wk=1]="endPlayback";e[e.Zp=2]="underflow";})(f || (b.Mc=f={}));b.Td={Pp:"startplay",NF:"midplay",Cu:"endplay",pP:"intrplay",zE:"chgstrm",kK:"playbackaborted",saa:"renderstrmswitch",GJ:"livereport",AK:"repos",qt:"resumeplay",Fba:"statechanged",aWc:"aseReport",w0c:"liveerrorrestart",transition:"transition"};b.U2={cC:"network",client:"client",U:"manifest",Bsa:"oc_sc"};t=(function(){function e(h,l){this.config=h;this.console=l;this.AC=[new g.$Ba("child")];}e.prototype.od=function(h){var l,k;k=d.__read(this.config.T0b.filter(function(m){return m.zc === h.zc;}),1)[0];this.config.Zbc && (null !== (l=null === k || void 0 === k?void 0:k.enabled) && void 0 !== l?l:h.enabled)?this.AC.push(h):h.Ja && h.Ja();};e.prototype.Zjc=function(h){return (0,n.oc)(this.AC,function(l){return l.zc === h.zc;});};e.prototype.ri=function(h,l){var k,m,p,u,v;m={};p=[];try{for(var r=d.__values(this.AC),q=r.next();!q.done;q=r.next()){u=q.value;try{v=u.ri({Ri:h,Xs:l});v && (u.im?m[u.im]=v:m=d.__assign(d.__assign({},m),v));}catch(x){p.push(Error(("").concat(u.zc,"::").concat(x)));}}}catch(x){var w;w={error:x};}finally{try{q && !q.done && (k=r.return) && k.call(r);}finally{if(w)throw w.error;}}p.length && (m["rpt-error"]=c.e0.stringify(new c.e0("Reporting error",p)));b.u && (w=d.__read(n.Pva.stringify(m),2),k=w[0],w[1].DJa && this.console.error("Cycles found in report generation",{payload:k,Ri:h,Xs:l}));return m;};e.prototype.aMa=function(){var h,l,k,m,q,u;k={};m=[];try{for(var p=d.__values(this.AC),r=p.next();!r.done;r=p.next()){q=r.value;try{u=null === (l=q.aMa) || void 0 === l?void 0:l.call(q);u && (q.im?k[q.im]=u:k=d.__assign(d.__assign({},k),u));}catch(w){m.push(Error(("").concat(q.zc,"::").concat(w)));}}}catch(w){var v;v={error:w};}finally{try{r && !r.done && (h=p.return) && h.call(p);}finally{if(v)throw v.error;}}m.length && (k["rpt-error"]=c.e0.stringify(new c.e0("Reporting error",m)));b.u && (v=d.__read(n.Pva.stringify(k),2),h=v[0],v[1].DJa && this.console.error("Cycles found in PDS report generation",{payload:h}));return k;};return e;})();b.Dfa=t;},5653:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Lpb=b.irb=b.mMa=b.qab=void 0;d=a(22970);n=a(48170);c=a(91967);t=(function(){function g(f){this.Cb=f;}Object.defineProperties(g.prototype,{zc:{get:function(){return g.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{im:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return n.u;},enumerable:!1,configurable:!0}});g.prototype.ri=function(f){var e,h,l,p;h=f.Ri;l=f.Xs;f=h === c.Mc.Zp;if(h === c.Mc.wk || f || "transition" === l)if(h=this.Cb.hMa()){l={};try{for(var k=d.__values(h.izc),m=k.next();!m.done;m=k.next()){p=m.value;l[p.mediaType]=this.tsc(p);}}catch(q){var r;r={error:q};}finally{try{m && !m.done && (e=k.return) && e.call(k);}finally{if(r)throw r.error;}}return {branchQueue:(0,b.Lpb)(h.HBc,f),playerIterator:l,driftStats:this.Cb.d_a};}};g.prototype.tsc=function(f){return null === f || void 0 === f?void 0:f.zqb();};g.zc="queue-audit";return g;})();b.qab=t;b.mMa=function(g,f){var e,h;if(g){e=g.K;h={};g.Wy().forEach(function(l){h[l.mediaType]=(0,b.irb)(l,f);});return {sId:null === e || void 0 === e?void 0:e.id,cancelled:g.Gd,RM:h};}return g;};b.irb=function(g,f){var e,h,l,k;if(g && g.Ue)return (f=f?g.Ue.ahc():{},d.__assign(d.__assign(d.__assign({},g.Ue.zrb()),{unsentRequests:g.Ue.nL,lastFragmentContentEndPts:null === (e=g.dd) || void 0 === e?void 0:e.za.G,trackAttributes:null === (h=g.track) || void 0 === h?void 0:h.$q(),bitrate:null === (l=g.dd) || void 0 === l?void 0:l.bitrate,lastAppendedTimestamp:null === (k=g.Bvb) || void 0 === k?void 0:k.G}),f));};b.Lpb=function(g,f){return g.map(function(e){return (0,b.mMa)(e,f);});};},650:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.tab=void 0;d=a(91967);t=(function(){function n(c,g){this.ed=c;this.Ar=g;}Object.defineProperties(n.prototype,{zc:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.ri=function(c){var g,f;g=c.Ri;f=c.Xs;c={};if(g === d.Mc.wk || g === d.Mc.Zp || void 0 === g && void 0 === f)(c.numOutstandingRequests=this.Ar.uzb,c.requestOpportunityDelayStats=this.Ar.iEb,(g=this.ed.FZb) && g.length && (c.activeRequests=JSON.stringify(g)));return c;};return n;})();b.tab=t;},26012:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.tCa=void 0;d=a(91967);t=(function(){function n(){this.im=this.zc=n.zc;this.enabled=!0;this.Laa=[];this.EEb=0;}n.prototype.x_b=function(c){this.Laa.push(c);5 < this.Laa.length && this.Laa.shift();};n.prototype.y_b=function(){this.EEb++;};n.prototype.ri=function(c){var g;g=c.Ri;c=c.Xs;if((g === d.Mc.sl || g === d.Mc.Zp || g === d.Mc.wk || void 0 === g && void 0 === c) && this.Laa.length)return {restarts:this.Laa.map(function(f){return {s:f.sIc,d:f.Cac,r:f.lDb,atMs:f.rzc.G};}),restartsCompleted:this.EEb};};n.zc="seamlessManager";return n;})();b.tCa=t;},35438:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ubb=void 0;d=a(22970);n=a(90745);c=a(65161);g=a(91967);t=(function(){function f(e){this.oa=e;this.Sdb=!1;this.kj=new n.lf();this.kj.addListener(this.oa.events,"streamSelection",this.yY.bind(this));}f.prototype.yY=function(e){this.Sdb || (e.mediaType === c.v.X && void 0 === this.jPa?this.jPa=e:e.mediaType === c.v.V && void 0 === this.lPa && (this.lPa=e));};f.prototype.Ja=function(){this.lPa=this.jPa=void 0;this.kj.clear();this.Sdb=!0;};Object.defineProperties(f.prototype,{zc:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.ri=function(e){var h,l,k,m,p,r,q;if(e.Ri === g.Mc.sl){r=d.__read(this.oa.Gw().filter(function(u){var v,w;return !(null === (w=null === (v=u.U) || void 0 === v?void 0:v.He) || void 0 === w || !w.Rq);}),1)[0];e=this.lPa || this.jPa;q=null === e || void 0 === e?void 0:e.result;r={histbw:null === (l=null === (h=null === q || void 0 === q?void 0:q.sb) || void 0 === h?void 0:h.ob) || void 0 === l?void 0:l.Da,histinitbw:null === (m=null === (k=null === q || void 0 === q?void 0:q.sb) || void 0 === k?void 0:k.Mw) || void 0 === m?void 0:m.Da,histdiscbw:null === q || void 0 === q?void 0:q.Ms,histage:null === (p=null === q || void 0 === q?void 0:q.sb) || void 0 === p?void 0:p.wU,daiSupported:!!r};h=null === e || void 0 === e?void 0:e.streamList.map(function(u){return void 0 !== u.Dka?{vmaf:u.Dka,streamIndex:u.wv,streamId:u.Jb}:void 0;}).filter(function(u){return void 0 !== u;});0 < (null === h || void 0 === h?void 0:h.length) && (r.vmafEstimates=h);this.Ja();return r;}this.Ja();};return f;})();b.ubb=t;},37058:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Sbb=void 0;d=a(66164);n=a(90745);c=a(48170);g=a(91967);t=(function(){function f(e){this.cc=e;this.bI=[];this.reset();}Object.defineProperties(f.prototype,{zc:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{im:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return c.u;},enumerable:!1,configurable:!0}});f.prototype.reset=function(){var e,h;e=this;null === (h=this.Vq) || void 0 === h?void 0:h.clear();this.Vq=new n.lf();this.Vq.on(this.cc,"clockChanged",function(){e.reset();e.L6("initial");});this.Vq.on(this.cc,"stopping",function(){e.L6("stopping");});this.Vq.on(this.cc.Ia,"clockAdjusted",function(){e.L6("clockAdjusted");});this.Vq.on(this.cc.Ia,"stopStart",function(){e.L6("stopStart");});this.Vq.on(this.cc.Ia,"speedChanged",function(){e.L6("speedChanged");});};f.prototype.L6=function(e){this.bI.push({reason:e,audit:this.cc.kp(),time:d.platform.time.na()});5 < this.bI.length && this.bI.shift();};f.prototype.ri=function(e){var h;h=e.Ri;e=e.Xs;if(h === g.Mc.sl || h === g.Mc.Zp || h === g.Mc.wk || void 0 === h && void 0 === e)return this.bI;};return f;})();b.Sbb=t;},73036:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Tbb=void 0;d=a(48170);n=a(40666);c=a(91967);t=(function(){function g(f){var h;function e(){var l;if(f.AZ){l=f.AZ.gcc();h.bI.add(l.kp());}}h=this;this.cc=f;this.bI=new Set();f.on("clockChanged",e);f.on("rootSchedulerReleasing",function(l){l.AZ.Tta && h.bI.add(l.AZ.Tta.kp());});e();}Object.defineProperties(g.prototype,{zc:{get:function(){return "task-verbose-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{im:{get:function(){return "tsch-verbose";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return d.u;},enumerable:!1,configurable:!0}});g.prototype.ri=function(f){var e,h,l;if(f.Ri === c.Mc.wk){null === (h=null === (e=this.cc) || void 0 === e?void 0:e.AZ.Tta) || void 0 === h?void 0:h.kp();this.bI.forEach(function(k){l=l?n.JT.reduce(l,k):k;});return l;}};return g;})();b.Tbb=t;},54366:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.En=void 0;d=a(22970);n=a(48170);c=a(69575);g=a(91967);t=(function(){function f(e,h){this.Ve=e;this.options=d.__assign({Bjb:!0},h);}Object.defineProperties(f.prototype,{im:{get:function(){return ("trace-").concat(this.Ve.source);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zc:{get:function(){return this.im;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return n.u;},enumerable:!1,configurable:!0}});f.prototype.ri=function(e){var h,l,k;h=e.Ri;l=e.Xs;if(h === g.Mc.wk || h === g.Mc.Zp){e=(0,c.N$b)(this.Ve.Lpc);k=this.Ve.umc;h === g.Mc.wk && this.options.Bjb && "liveerrorrestart" !== l && this.Ve.clear();h=e;Object.keys(k).length && (h=d.__spreadArray(d.__spreadArray([],d.__read(e),!1),[k],!1));if(h.length)return h;}};f.prototype.Ja=function(){var e;null === (e=this.Ve) || void 0 === e?void 0:e.Ja();};return f;})();b.En=t;},19089:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.rab=void 0;d=a(22970);n=a(66164);c=a(91176);a(97685);g=a(52571);f=a(61996);e=a(69575);t=(function(){var S5Z;S5Z=2;for(;S5Z !== 12;){switch(S5Z){case 2:Object.defineProperties(h.prototype,{uzb:{get:function(){var b3S;b3S=2;for(;b3S !== 1;){switch(b3S){case 2:return this.WM;break;}}},enumerable:!1,configurable:!0}});h.prototype.tk=function(){var n6M,l,k;n6M=2;for(;n6M !== 9;){switch(n6M){case 2:l=this;n6M=1;break;case 7:l=this;n6M=7;break;case 1:n6M=!this.hWa?5:9;break;case 3:return Promise.resolve().then(function(){var z5K;z5K=2;for(;z5K !== 5;){switch(z5K){case 2:l.hWa=!1;l.kjb(k);z5K=5;break;}}});break;case 5:this.hWa=!0;k=n.platform.time.na();n6M=3;break;}}};h.prototype.wy=function(l){var A5M,k,m;A5M=2;for(;A5M !== 3;){switch(A5M){case 4:var P3O="More than maxAllowedOutstandingReques";P3O+="ts are";P3O+=" outstanding";(0,g.assert)(this.WM <= this.config.OX,P3O);A5M=3;break;case 2:this.Tu.vg({mediaType:l.mediaType,contentStartPts:null === (k=l.sa) || void 0 === k?void 0:k.G,contentEndPts:null === (m=l.za) || void 0 === m?void 0:m.G});this.WM++;A5M=4;break;}}};S5Z=4;break;case 7:var s46="k";s46+="j";s46+="b";var v6T="che";v6T+="ckReq";v6T+="uestOpp";v6T+="ort";v6T+="unityRunner";var x6V="t";x6V+="x";var z5Z="removeRe";z5Z+="qu";z5Z+="est";var G1U="w";G1U+="y";var c3k="add";c3k+="R";c3k+="eq";c3k+="ues";c3k+="t";d.__decorate([(0,f.Za)({methodName:c3k,Re:!0})],h.prototype,G1U,null);d.__decorate([(0,f.Za)({methodName:z5Z,Re:!0})],h.prototype,x6V,null);d.__decorate([(0,f.Za)({methodName:v6T,Re:!0})],h.prototype,s46,null);return h;break;case 4:var y4j="t";y4j+="k";var a9Y="c";a9Y+="heck";a9Y+="Req";a9Y+="uestOpportunity";h.prototype.tx=function(l){var L6c,k,m;L6c=2;for(;L6c !== 9;){switch(L6c){case 2:var h14="pru";h14+="nedReque";h14+="st";var F6o="Received remove requ";F6o+="est when there are no ";F6o+="reques";F6o+="ts outstandi";F6o+="ng";this.Tu.vg({mediaType:l.mediaType,contentStartPts:null === (k=l.sa) || void 0 === k?void 0:k.G,contentEndPts:null === (m=l.za) || void 0 === m?void 0:m.G});this.WM--;(0,g.assert)(0 <= this.WM,F6o);this.tk(h14);L6c=9;break;}}};h.prototype.kjb=function(l){var f4W,r,k,m,p;f4W=2;for(;f4W !== 6;){switch(f4W){case 9:f4W=!r.Sf?7:8;break;case 4:var T8R="num";T8R+="b";T8R+="e";T8R+="r";r=this.una();!r.Sf && T8R === typeof r.MV && this.vlc(r);f4W=9;break;case 5:f4W=this.WM < k?4:7;break;case 8:p++;f4W=5;break;case 1:this.iEb.push(m);f4W=5;break;case 7:var X20="requestOpport";X20+="unit";X20+="yR";X20+="unnerCompl";X20+="ete";this.Tu.Jha(X20,{requestsIssued:p,scheduledMs:l,timeSinceScheduled:m},!0);f4W=6;break;case 2:(k=this.config.OX,m=n.platform.time.na() - l,p=0);f4W=1;break;}}};h.prototype.vlc=function(l){var D$4;D$4=2;for(;D$4 !== 1;){switch(D$4){case 2:d.__awaiter(this,void 0,void 0,function(){var M91,k,m;M91=2;for(;M91 !== 5;){switch(M91){case 2:m=this;return d.__generator(this,function(){var w$X;w$X=2;for(;w$X !== 7;){switch(w$X){case 1:w$X=this.Lja && k < this.amb?5:9;break;case 8:return [2];break;case 5:this.Lja.Ja();w$X=4;break;case 4:var c82="def";c82+="err";c82+="edAv";c82+="ai";c82+="labilityTask";this.Lja=this.Ej.uu(c.Ud.Fm(c.I.Ca(k)),function(){var B3t;B3t=2;for(;B3t !== 4;){switch(B3t){case 2:var E4s="deferr";E4s+="e";E4s+="dA";E4s+="vailabil";E4s+="ityDelay";m.tk(E4s);m.Lja=void 0;m.amb=-Infinity;B3t=4;break;}}},c82);return [2];break;case 2:k=l.MV;w$X=1;break;case 9:w$X=this.Lja?8:4;break;}}});break;}}});D$4=1;break;}}};d.__decorate([(0,f.Za)({methodName:a9Y,Re:!0,Qm:!0})],h.prototype,y4j,null);S5Z=7;break;}}function h(l,k,m){var Y32,p;Y32=2;for(;Y32 !== 12;){switch(Y32){case 14:var Y$c="R";Y$c+="equest";Y$c+="Pac";Y$c+="er";this.Tu=new f.Lm({wj:this,source:Y$c,Agb:function(){var k3r;k3r=2;for(;k3r !== 1;){switch(k3r){case 4:return {numOutstanding:p.WM};break;case 2:return {numOutstanding:p.WM};break;}}},Bg:10});this.iEb=new e.Eg();Y32=12;break;case 3:var v2m="1SIYbZrNJC";v2m+="p";v2m+="9";var T6Z="me";T6Z+="di";T6Z+="a|ase";T6Z+="j";T6Z+="s";var g$P="ASEJS_REQUE";g$P+="S";g$P+="T_PACER";this.WM=0;this.console=new n.platform.Console(g$P,T6Z);this.hWa=!1;this.amb=-Infinity;v2m;Y32=14;break;case 2:p=this;this.una=l;this.Ej=k;this.config=m;Y32=3;break;}}}})();b.rab=t;},14242:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.sbb=void 0;d=a(91176);n=a(7559);c=a(65161);t=(function(){function g(f,e){this.zm=f;this.console=e;this.Woa=Infinity;this.ckb=this.IVa=0;this.OLc=!1;}g.prototype.Iec=function(f,e,h,l,k){var m;if(this.zm){m=f.La;if(m){if(h === c.v.V)(h=m.$E(Math.ceil(this.zm * f.Ea.lC),void 0,!0),m=f.Hs(h),f=m.Rb.bf(f.Ea),m.Gh({start:0,end:this.zm - h * f}),this.Woa=this.zm);else {void 0 !== l.qHb?(e=l.qHb,h=e * f.Ea.G):(h=(0,n.Zqb)(l,k) + Math.ceil(l.z1b * f.Ea.lC),d.I.Ca(h).bf(f.Ea),h=e + h,e=Math.ceil(h / f.Ea.lC));h=m.$E(h,void 0,!0);for(k=l=0;k < h;++k)(m=f.Hs(k),l+=m.Rb.bf(f.Ea));l=e - l;m=f.Hs(h);m.Gh({end:l});this.Woa=e;}m.kxb();return m;}}};g.prototype.Wlc=function(){return this.ckb >= this.Woa;};g.prototype.jnc=function(f,e){this.IVa+=this.Ty(f,e);};g.prototype.hdc=function(f,e,h){f.IVa=this.Ty(e,h);};g.prototype.Ty=function(f,e){return f.Rb.bf(e.Ea);};g.prototype.hB=function(){if(!this.Wlc())return !1;if(this.OLc)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.ckb," >= ").concat(this.Woa));return !0;};return g;})();b.sbb=t;},2983:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.F0b=function(d,n,c,g){var f,e;f=!0;c.forEach(function(h){var l;if(f && d === h.profile){l=h.ranges;f=void 0 === l?n >= h.min && n <= h.max:l.some(function(k){return n >= k.min && n <= k.max;});!f && h.disallowed && h.disallowed.some(function(k){if(k.stream.bitrate === n)return (e=k.disallowedBy,!0);});}});a && g.trace("applyFilters: profile:" + d + ", bitrate:" + n + ", inRange:" + f + ", disallowed by:" + e);return {inRange:f,aka:e};};a=!1;},72793:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.n0a=void 0;d=a(66164);n=a(65161);c=a(7559);t=(function(){function g(f){this.config=f;}g.prototype.dh=function(f,e,h,l,k){var m,p;m=this.config;p=d.platform.LW()[n.v.X];return f.filter(function(r){var q,u;q=(0,c.wgc)(r,m);u=r.bitrate * q.$X / 8 > p;return (k === n.Wb.Oo?r.bitrate >= q.Cz && r.bitrate <= q.Ys:r.bitrate >= q.Rtc && r.bitrate <= q.Hsc) && !u;});};return g;})();b.n0a=t;},86450:function(t,b,a){var n;function d(c,g){g=Math.max(c,g);return isNaN(g)?c || -Infinity:g;}Object.defineProperties(b,{__esModule:{value:!0}});b.o0a=void 0;n=a(65161);t=(function(){function c(g){this.config=g;this.fVa=0;this.state=n.Dd.by;this.qyb=d(g.bQ,g.aQ);this.YRa=d(g.OF,g.$P);}c.prototype.dh=function(g,f){var e;e=this;if(f !== this.state){this.state=f;if(f === n.Dd.Df || f === n.Dd.Wfa)return g;f === n.Dd.Fl && this.ZBc();}return g.filter(function(h){return !(void 0 !== h.Ob && h.Ob < e.YRa || (void 0 === h.Ob || 0 > e.YRa) && h.bitrate < e.qyb);});};c.prototype.ZBc=function(){++this.fVa;this.YRa=d(this.config.OF,this.config.$P - this.config.Otc * this.fVa);this.qyb=this.config.bQ || -Infinity;};return c;})();b.o0a=t;},84909:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.y0a=void 0;d=a(91176);t=(function(){function n(c){this.config=c;}n.prototype.uHc=function(c){return c % 100 + 1 <= this.config.D$;};n.prototype.dh=function(c){var g,f,e,h,l,k,m,p,r,q,u;m=Number(null === (g=c[0]) || void 0 === g?void 0:g.R);if(!(this.config.YV && this.uHc(m) && 0 < this.config.wZ.length))return c;g=c.length;p=null !== (f=c[g - 1].vZ) && void 0 !== f?f:0;if(f=(0,d.oc)(this.config.wZ,function(v){return v.W2c >= p && v.wEb <= p;})){for(m=0;m < g;m++){r=c[Math.max(m - 1,0)];q=c[m];if(!((null !== (e=q.vZ) && void 0 !== e?e:0) < f.wEb || (null !== (h=r.vZ) && void 0 !== h?h:0) < f.wEb)){u=null !== (l=q.Ob) && void 0 !== l?l:Infinity;r=null !== (k=r.Ob) && void 0 !== k?k:Infinity;if(!(r < f.z1c || r < f.y1c && q.bitrate < f.maxBitrate || !u && q.bitrate < f.U0c))break;}}return c.slice(0,m);}return c;};return n;})();b.y0a=t;},58844:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.z0a=void 0;t=(function(){function a(d){this.config=d;}a.prototype.dh=function(d){var n;n=this.config;return d.filter(function(c){return !(void 0 !== c.Ob && (c.Ob < n.OF || c.Ob > n.nxb) || (void 0 === c.Ob || 0 >= n.OF) && c.bitrate < n.bQ || (void 0 === c.Ob || Infinity === n.nxb) && c.bitrate > n.v9);});};return a;})();b.z0a=t;},72351:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.s5=function(g,f){f && (null === g || void 0 === g?0:g.itb) && (f=new c.cy(f).or(c.mM));return new c.cy(c.kva).and(f || c.mM).or(c.Uya,d.I2.BO).or(c.Vya,d.I2.BO);};b.t5=function(g,f,e){e && f.itb && (e=new c.cy(e).or(c.mM));return f.kLa && Object.keys(f.kLa).length?new c.cy(new n.K3a(f,g)):new c.cy(c.kva).and(new c.A0a()).and(new c.z0a(f)).and(new c.o0a(f)).and(new c.E0a(f)).and(new c.r6a(g,f)).and(f.YV?new c.y0a(f):c.mM).and(e || c.mM).or(c.Uya,d.I2.BO).or(c.Vya,d.I2.BO);};d=a(12986);n=a(84132);c=a(63576);},96077:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.A0a=void 0;d=a(65161);t=(function(){function n(){}n.prototype.dh=function(c,g){return g !== d.Dd.Po?c.filter(function(f){return f.Dw;}):c;};return n;})();b.A0a=t;},48867:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.T2=void 0;d=a(66164);n=a(48170);c=a(2983);t=(function(){function g(f){this.console=f;this.Slb=[];this.eib={};this.tmb=!1;}g.prototype.ysa=function(f,e){this.Slb=f;void 0 !== e?this.eib[e]=f:this.tmb || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.tmb=!0);};g.prototype.dh=function(f){var e,h,l,k;e=this;if(0 === f.length)return f;l=f[0].J;if(void 0 === l)return (this.console.error("StreamFilters: Stream has undefined viewable id"),f);try{null === (h=d.platform.mB) || void 0 === h?void 0:h.call(d.platform,l);}catch(m){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + m),f);}k=this.eib[l] || this.Slb;n.u && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(f.length," streams with ").concat(JSON.stringify(k)));f=f.filter(function(m){return (0,c.F0b)(m.profile,m.bitrate,k,e.console).inRange;});n.u && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(f.length," streams in range"));return f;};return g;})();b.T2=t;},19092:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.E0a=void 0;t=(function(){function a(d){var n;n=this;d.c_ && d.c_.enabled && d.c_.profiles && d.c_.profiles.length && "keepLowest" === d.c_.action && (this.qvb={},d.c_.profiles.forEach(function(c){return n.qvb[c]=!0;}));}a.prototype.dh=function(d){var n,c;n={};c=this.qvb;return void 0 === c?d:d.filter(function(g){return !c[g.profile] || (n[g.profile]?!1:n[g.profile]=!0);});};return a;})();b.E0a=t;},13904:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Uya=b.kva=void 0;d=a(91176);b.kva={dh:function(n){return n.filter(function(c){return c.fr && !c.qp;});}};b.Uya={dh:function(n){return (n=(0,d.oc)(n,function(c){return !!c.fr && !c.qp;}))?[n]:[];}};},84132:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K3a=void 0;t=(function(){function a(d,n){this.config=d;this.console=n;}a.prototype.dh=function(d){var n;if(0 === d.length)return d;n=this.config.kLa[d[0].R];return void 0 !== n?(!1,d=d.filter(function(c){return ("").concat(c.id) === ("").concat(n);}),0 === d.length && !1,d):d;};return a;})();b.K3a=t;},63576:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(62964),b);t.__exportStar(a(96077),b);t.__exportStar(a(48867),b);t.__exportStar(a(19092),b);t.__exportStar(a(58844),b);t.__exportStar(a(86450),b);t.__exportStar(a(84909),b);t.__exportStar(a(13904),b);t.__exportStar(a(25320),b);t.__exportStar(a(12986),b);t.__exportStar(a(86543),b);t.__exportStar(a(72351),b);t.__exportStar(a(7520),b);t.__exportStar(a(77154),b);t.__exportStar(a(72793),b);},77154:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.r6a=void 0;d=a(8149);t=(function(){function n(c,g){this.console=c;this.config=g;}n.prototype.dh=function(c){var g,f;if(!this.config.WMc || 0 === c.length)return c;if((0,d.eo)(c[0].track))g=c[0].track.CX;if(void 0 === g || 0 === g)return c;f=c.filter(function(e){return e.bitrate > g?!1:!0;});return 0 < f.length?f:[c[0]];};return n;})();b.r6a=t;},86543:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vya=void 0;b.Vya={dh:function(a){return a.length?[a[0]]:[];}};},7520:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.d2=void 0;d=a(91176);n=a(48170);t=(function(){function c(g,f){this.console=g;this.config=f;this.JZa=!1;}c.prototype.dh=function(g,f,e,h){void 0 === e && (e=d.I.fa);void 0 === h && (h=!1);n.u && this.console.trace("Filtering streams for fastplay",{JZa:this.JZa,Ua:e.G,Y_c:h});if(this.JZa || e.G >= this.config.Msc || !1 === h){f=g.filter(this.sbc);if(f.length)return f;n.u && this.console.trace("No drm streams to return");}f=g.filter(this.z5b);if(f.length)return f;n.u && this.console.trace("No clear streams to return");return g;};c.prototype.sbc=function(g){return g.Wj;};c.prototype.z5b=function(g){return !g.Wj;};return c;})();b.d2=t;},25320:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mM=void 0;b.mM={dh:function(a){return a;}};},12986:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.cy=b.I2=void 0;d=a(25320);(function(c){c[c.oC=0]="primary";c[c.BO=1]="fallback";})(n || (b.I2=n={}));t=(function(){function c(g,f){var e,h;void 0 === f && (f=!1);h=this;this.Tia=f;this.filters=(e={},e[n.oC]=[],e[n.BO]=[],e);Array.isArray(g)?g.forEach(function(l){return h.and(l,n.oC);}):this.and(g);}c.prototype.and=function(g,f){void 0 === f && (f=n.oC);g !== d.mM && this.filters[f].push({filter:g,lkb:!0});return this;};c.prototype.or=function(g,f){void 0 === f && (f=n.oC);this.filters[f].push({filter:g,lkb:!1});return this;};c.prototype.filter=function(g){var f;f=this;[n.oC,n.BO].forEach(function(e){f.filters[e]=f.filters[e].filter(function(h){return g(e,h.filter);});});};c.prototype.dh=function(g,f,e,h){var l;l=this;return [n.oC,n.BO].reduce(function(k,m){return l.filters[m].reduce(function(p,r){r.lkb?p=r.filter.dh(p,f,e,h):0 === p.length && (p=r.filter.dh(g,f,e,h));return p;},k);},g);};return c;})();b.cy=t;},62964:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},89613:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Bbb=b.dVb=void 0;d=a(22970);t=a(66164);n=a(52571);c=a(95591);a=a(82149);g=new t.platform.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);f=!0;}catch(h){f=!1;}e=(function(h){function l(k,m){m=h.call(this,k.Dj,m) || this;m.GR=k;return m;}d.__extends(l,h);Object.defineProperties(l.prototype,{ka:{get:function(){return this.GR.cHb(this.Oh);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{offset:{get:function(){return this.GR.xf(this.Oh);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Roa:{get:function(){return this.GR.fY && this.GR.fY[this.Oh];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Pl:{get:function(){return this.GR.rgc(this.Oh);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ob:{get:function(){return this.GR.YC && this.GR.YC[this.Oh];},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jHa:{get:function(){return 8 * this.ka / (1E3 * this.AI / this.P);},enumerable:!1,configurable:!0}});l.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.tb,contentEndTicks:this.Ib,durationTicks:this.AI,timescale:this.P,startPts:this.sa.G,endPts:this.za.G,duration:this.Rb.G,additionalSAPs:this.Pl};};return l;})(a.icb);b.dVb=e;t=(function(){function h(l,k,m,p,r,q,u){this.qY=128;this.ye=k;this.offset=m.offset;this.sizes=m.sizes;this.wv=l;this.UU=this.Q4=this.eha=this.Eq=this.yFa=void 0;this.PXb=p;this.QDa=r && r.xf;this.IFa=q;this.zH=Math.min(this.ye.length,this.sizes.length);l=this.x3b();this.IXb=l.maxBitrate;this.JXb=l.Bg;this.Dj.iy.length !== this.sizes.length && g.trace("Mis-matched stream duration (" + this.Dj.iy.length + "," + this.sizes.length + ") for movie id " + u);this.Dj.Oha && !this.QDa && g.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.ye.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.zH;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xt:{get:function(){return this.ye.xt;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{RKa:{get:function(){return this.ye.RKa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Db:{get:function(){return this.ye.Db;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xg:{get:function(){return this.ye.xg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{lb:{get:function(){return this.ye.lb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ub:{get:function(){return this.ye.Ub;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$w:{get:function(){return this.IXb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bg:{get:function(){return this.JXb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ea:{get:function(){return this.ye.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{P:{get:function(){return this.ye.P;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Vp:{get:function(){return this.Eq || this.T3b();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fY:{get:function(){return this.PXb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{tGa:{get:function(){return this.QDa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{YC:{get:function(){return this.IFa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dj:{get:function(){return this.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dA:{get:function(){return this.yFa || this.vja();},enumerable:!1,configurable:!0}});h.prototype.cHb=function(l){if(this.sizes)return this.sizes[l];g.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Mr=function(l){return this.ye.Mr(l);};h.prototype.yka=function(l){return this.ye.Mr(l) + this.ye.fg(l);};h.prototype.xf=function(l){var k,m,p;if(this.Q4 !== l || void 0 === this.UU){if(0 === l)return this.offset;if(this.Q4 === l - 1 && void 0 !== this.UU)(this.UU+=this.sizes[this.Q4],++this.Q4);else {k=this.eha || this.F3b();m=Math.floor(l / this.qY);p=m * this.qY;for(k=k[m];p < l;++p)k+=this.sizes[p];this.Q4=l;this.UU=k;}}return this.UU;};h.prototype.fg=function(l){return this.ye.fg(l);};h.prototype.get=function(l){return new e(this,l);};h.prototype.rgc=function(l){var k,m,p,r,q;(0,n.assert)(0 <= l);k=this.Dj.Oha;m=this.Dj.Bgb;p=this.QDa;if(!p || !k || !m || l >= k.length)return [];r=[];q=l === k.length - 1?m.length:k[l + 1];for(k=k[l];k < q;++k)r.push({Gk:m[k],re:this.Mr(l) + this.Ea.Jg(m[k]).G,offset:p[k]});return r;};h.prototype.$E=function(l,k,m){return this.ye.$E(l,k,m);};h.prototype.uLa=function(l,k,m){return this.ye.uLa(l,k,m);};h.prototype.pja=function(l,k){return this.ye.pja(l,k);};h.prototype.Oia=function(l,k,m,p,r){var q,u,v,w,x,y,A,z,B;q=!0;u=0;v=this.ye.iy;w=this.sizes;l=Math.floor(l * this.P / 1E3);x=Math.floor(m * this.P / 1E3);y=0;A=0;z=0;if(this.ye.kZa && this.ye.jZa)for(u=this.ye.kZa;u <= this.ye.jZa;++u)(y+=v[u],A+=w[u]);if(A > k)q=!1;else for(;u < this.length && (!r || u < r);){B=w[u];m=v[u];if(A + B > k){for(;1 < u - z && A + B > k && (y - v[z] >= x || A - w[z] > p);)(y-=v[z],A-=w[z],++z);if(y < l || A + B > k){q=!1;this.ye.kZa=z;this.ye.jZa=u;break;}}y+=m;A+=B;++u;}return q;};h.prototype.subarray=function(l,k){(0,n.assert)(void 0 === l || 0 <= l && l < this.length);(0,n.assert)(void 0 === k || k > l && k <= this.length);return new h(this.wv,this.ye.subarray(l,k),{offset:this.xf(l),sizes:this.sizes.subarray(l,k)},this.fY && this.fY.subarray(l,k),this.tGa && ({xf:this.tGa}),this.IFa && this.IFa.subarray(l,k));};h.prototype.forEach=function(l){for(var k=0;k < this.length;++k)l(this.get(k),k,this);};h.prototype.map=function(l){for(var k=[],m=0;m < this.length;++m)k.push(l(this.get(m),m,this));return k;};h.prototype.reduce=function(l,k){for(var m=0;m < this.length;++m)k=l(k,this.get(m),m,this);return k;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var k;g.trace("StreamFragments: " + this.length);for(var l=0;l < this.length;++l){k=this.get(l);g.trace(("StreamFragments: ").concat(l,": [").concat(k.sa.G,"-").concat(k.za.G,"]") + (" @ ").concat(k.offset,", ").concat(k.ka," bytes"));}};h.prototype.x3b=function(){var l,k,m,p,r,q,w;l=0;k=0;m=this.ye.rxb;p=this.ye.sxb;r=this.ye.iy;q=this.sizes;if(void 0 === m || m >= this.length || void 0 === p || p >= this.length){for(var u=0,v=this.length;u < v;++u){w=q[u];w > k && (k=w,p=u);w/=r[u];w > l && (l=w,m=u);}void 0 === this.ye.rxb && (this.ye.rxb=m);void 0 === this.ye.sxb && (this.ye.sxb=p);}else (l=q[m] / r[m],k=q[p]);return {maxBitrate:Math.floor(l * this.P / 125),Bg:k};};h.prototype.T3b=function(){for(var l=0,k=0;k < this.length;++k)l+=this.sizes[k];return this.Eq=l;};h.prototype.vja=function(){return this.yFa=new c.zCa(this.ye.iy,this.sizes,this.ye.P);};h.prototype.F3b=function(){if(!this.eha){for(var l=f?new Float64Array(Math.ceil(this.length / this.qY)):Array(Math.ceil(this.length / this.qY)),k=this.offset,m=0;m < l.length;++m){l[m]=k;for(var p=0;p < this.qY;++p)k+=this.sizes[m * this.qY + p];}this.eha=l;}return this.eha;};return h;})();b.Bbb=t;(0,a.KJ)(t.prototype.Mr);(0,a.KJ)(t.prototype.yka);(0,a.KJ)(t.prototype.fg);(0,a.KJ)(t.prototype.xf);(0,a.KJ)(t.prototype.cHb);(0,a.KJ)(t.prototype.get);},19595:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.J2=void 0;d=a(91176);t=(function(){function n(c){this.RA=c;this.Xob=new d.An();}Object.defineProperties(n.prototype,{Kna:{get:function(){var c;return this.hvc || (null === (c=this.parent) || void 0 === c?void 0:c.Kna);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qj:{get:function(){var c;return this.zd || (null === (c=this.parent) || void 0 === c?void 0:c.qj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Svb:{get:function(){var c,g;return null !== (c=this.fJc) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.Svb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yQa:{get:function(){var c,g;return null !== (c=this.gJc) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.yQa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.EFc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{CLb:{get:function(){return this.Xob.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{parent:{get:function(){var c;return null === (c=this.RA) || void 0 === c?void 0:c.call(this);},enumerable:!1,configurable:!0}});n.prototype.Ja=function(){this.RA=void 0;};n.prototype.JGc=function(c){this.hvc=c;};n.prototype.rR=function(c){this.zd=c;this.Xob.resolve();};n.prototype.xGb=function(c){this.fJc=c;};n.prototype.yGb=function(c){this.gJc=c;};n.prototype.jXa=function(c){this.EFc=c;};return n;})();b.J2=t;},32966:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.hB=void 0;d=a(65161);a(13550);b.hB=(function(){var C0O;C0O=2;for(;C0O !== 1;){switch(C0O){case 2:return {lWb:function(n,c,g,f,e,h){var f3K=U7QY0;function l(w){var e8r;e8r=2;for(;e8r !== 7;){switch(e8r){case 4:e8r=void 0 === w?3:9;break;case 5:w=f.La.uLa(n.Xc + w,void 0,!0);e8r=4;break;case 1:return 0;break;case 2:e8r=!f.La?1:5;break;case 3:return 0;break;case 9:w=f.La.get(w.index);return (q - n.nx) / (q + (w.offset + w.ka) - u);break;}}}var V9N,v,k,m,p,r,u,q;V9N=2;for(;V9N !== 54;){switch(V9N){case 38:var x88="1S";x88+="IYbZrNJC";x88+="p9";0 < c && c < m && (p=Math.min(r,Math.max(h.hZ * (m / c - 1),p)));x88;return {complete:!1,CK:p,progress:l(p)};break;case 12:V9N=!c?11:10;break;case 8:var O9Z="lo";O9Z+="wThrough";O9Z+="p";O9Z+="ut";return {complete:!1,k9:!0,reason:O9Z};break;case 9:V9N=c <= h.hoa && (0 < c || !h.Gka)?8:7;break;case 29:V9N=h > e?28:39;break;case 27:e=f.La.$E(n.ul);V9N=26;break;case 7:f3K.x0M(9);var R$E=f3K.F8S(13,12);p=h.no * (m?h.haa:R$E);!f.xa && h.Ecc && f.sb && f.sb.ph && f.sb.ph.Da > h.goa && (p+=h.Lha + f.sb.ph.Da * h.sqa);V9N=14;break;case 28:m=f.La.get(h);f3K.x0M(10);var c2m=f3K.F8S(18,166,2,6,24);v=c2m * v * g / c - m.sa.G - p;V9N=43;break;case 16:V9N=!f.La || !f.La.length?15:27;break;case 13:p=r?Math.min(r,p):p;V9N=12;break;case 25:var g6D="o";g6D+="uto";g6D+="frange";return {complete:!0,reason:g6D};break;case 39:var r_x="n";r_x+="o";r_x+="re";r_x+="bu";r_x+="ff";return {complete:!0,reason:r_x};break;case 42:return (p=Math.min(r,k + v),{complete:!1,CK:p,progress:l(p)});break;case 3:var C3E="maxs";C3E+="i";C3E+="ze";return {complete:!0,reason:C3E};break;case 4:V9N=k >= r?3:9;break;case 35:p=f.La.fg(e);h=Math.min(e + Math.floor(h.hZ / p),f.La.length - 1);v=f.La.xf(h);f3K.x0M(9);var F5U=f3K.F8S(14,6);p=F5U * u * g / c - n.Xc;V9N=31;break;case 41:v=m.offset;V9N=40;break;case 15:return (c < m && (p=Math.min(r,Math.max(h.hZ * (m / c - 1),p))),{complete:!1,CK:p,progress:0});break;case 2:(k=n.uk - n.Xc,m=c === d.Dd.Fl);c=f.ob || 0;(p=0,r=Math.min(h.HF,h.Fca && !m?h.YB:h.B9));V9N=4;break;case 14:e && !f.xa && (p+=e * h.Mha);V9N=13;break;case 17:var H2z="lowLi";H2z+="ve";H2z+="Buffe";H2z+="r";var u__="liveBuf";u__+="ferLev";u__+="el";return c > m && k > p?{complete:!0,reason:u__}:{complete:!1,CK:p,ob:c,bitrate:m,reason:H2z};break;case 30:--h;V9N=29;break;case 43:V9N=0 < v?42:41;break;case 26:V9N=-1 === e?25:24;break;case 31:m=void 0;V9N=30;break;case 18:V9N=f.xa?17:16;break;case 24:u=f.La.xf(e);V9N=23;break;case 40:--h;V9N=29;break;case 21:var P7y="h";P7y+="i";P7y+="g";P7y+="htp";return {complete:!0,reason:P7y};break;case 10:q=n.La.reduce(function(w,x){var D5o;D5o=2;for(;D5o !== 1;){switch(D5o){case 2:return w + (x.Mb.G > n.Xc?x.ka:0);break;}}},0);g=Math.max(g,1);m=g * f.bitrate;V9N=18;break;case 22:V9N=c > m * h.lW?21:35;break;case 23:V9N=k >= p?22:38;break;case 11:var s5_="not";s5_+="hrough";s5_+="put";return {complete:!1,CK:p,reason:s5_};break;}}}};break;}}})().lWb;},13550:function(t,b,a){var c,g;function d(f,e){return f && f.Us && (e || !1 !== f.Dw);}function n(f,e,h){return "number" === typeof f?Math.min(Math.max(f,e),h):e;}Object.defineProperties(b,{__esModule:{value:!0}});b.Dg=b.console=void 0;b.X_c=d;b.K_c=function(f,e){return !f.slice(e + 1).some(function(h){return d(h);});};b.Yia=n;b.oW=function(f,e,h){var k,m,p,r;function l(q){var u;u=f[q];if(!u.Us)return (g && !u.fr && b.console.log("Stream [" + q + "] " + u.id + " (" + u.bitrate + " Kbps): Not available"),g && u.qp && b.console.log("Stream [" + q + "] " + u.id + " (" + u.bitrate + " Kbps): Failed"),!1);if(h && !h(u,q))return !1;g && b.console.log("Stream [" + q + "] " + u.id + " (" + u.bitrate + " Kbps): Available");return !0;}m=f.length;p=0;r=m;Array.isArray(e) && (p=n(e[0],0,m),r=n(e[1],0,m),e=null !== (k=e[2]) && void 0 !== k?k:p + 1);e=n(e || 0,p + 1,r);for(k=e - 1;k >= p;--k)if(l(k))return k;for(k=e + 1;k < r;++k)if(l(k))return k;g && b.console.log("Found no available streams");return -1;};b.zyb=function(f,e){return Math.floor(f / (125 * e) * 1E3);};b.yib=function(f,e){return Math.ceil(f / 1E3 * e * 125);};b.qP=function(f,e,h,l){e=f.buffer.uk - f.buffer.Xc >= h.gl - (null !== e && void 0 !== e?e:0);return f.state === c.Wb.Oo || f.state === c.Wb.Fl?!0:f.state === c.Wb.bg && e?!1:l;};b.Asa=function(f,e){f=f.prc;return void 0 === f?e:f;};t=a(66164);c=a(65161);b.console=new t.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");g=!1;b.Dg=(function(){function f(e){if(!(this instanceof f))return new f(e);this.zd=e;}return f;})();},42556:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.M1=b.N1=b.tT=b.uT=b.K2=void 0;d=a(16096);Object.defineProperties(b,{K2:{enumerable:!0,get:function(){return d.K2;}}});n=a(35479);Object.defineProperties(b,{uT:{enumerable:!0,get:function(){return n.uT;}}});c=a(29217);Object.defineProperties(b,{tT:{enumerable:!0,get:function(){return c.tT;}}});g=a(56556);Object.defineProperties(b,{N1:{enumerable:!0,get:function(){return g.N1;}}});f=a(56841);Object.defineProperties(b,{M1:{enumerable:!0,get:function(){return f.M1;}}});},56841:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.M1=void 0;d=a(22970);n=a(26388);c=a(33923);g=a(72793);f=a(52571);e=a(45247);h=a(7559);t=(function(){function l(){}l.prototype.Mkb=function(k,m,p,r,q,u,v,w){void 0 === v && (v=[]);m=this.Mhc(k,m,p,q,u,r,w);switch(k.Jpc){case "videofirst":return this.Z8b(m,u,v);default:return this.Y8b(m,u,v);}};l.prototype.Y8b=function(k,m,p){var u,v,w;function r(x,y){return Math.exp((y.Ob?Math.log(y.Ob):0) + (x.Hsa?.13 * Math.log(25 * (x.Hsa - 1)):0));}function q(x,y,A,z){var B,C;B=r(x,y);C=r(A,z);x=A.bitrate - x.bitrate + (z.bitrate - y.bitrate);return 0 !== x?(C - B) / x:0;}p=0 < p.length?p[0]:void 0;u=[];v=0;w=0;for(u.push(new c.QG({audio:k[v],video:m[w],text:p}));v + 1 < k.length && w + 1 < m.length;)(v=[{Gsa:q(k[v],m[w],k[v],m[w + 1]),gPa:[v,w + 1]},{Gsa:q(k[v],m[w],k[v + 1],m[w]),gPa:[v + 1,w]},{Gsa:q(k[v],m[w],k[v + 1],m[w + 1]),gPa:[v + 1,w + 1]}],v.sort(function(x,y){return x.Gsa - y.Gsa;}),w=d.__read(v[v.length - 1].gPa,2),v=w[0],w=w[1],u.push(new c.QG({audio:k[v],video:m[w],text:p})));if(w + 1 < m.length)for(w++;w < m.length;w++)u.push(new c.QG({audio:k[v],video:m[w],text:p}));if(v + 1 < k.length)for(v++;v < k.length;v++)u.push(new c.QG({audio:k[v],video:m[w],text:p}));return u;};l.prototype.Z8b=function(k,m,p){var r,q,u;q=[];p=0 < p.length?p[0]:void 0;(0,f.assert)(0 < k.length && 0 < m.length,"We should have at least one video stream and one audio stream");if(0 < k.length){u=k[0];try{for(var v=d.__values(m),w=v.next();!w.done;w=v.next())q.push(new c.QG({audio:u,video:w.value,text:p}));}catch(y){var x;x={error:y};}finally{try{w && !w.done && (r=v.return) && r.call(v);}finally{if(x)throw x.error;}}if(1 < k.length && 0 < m.length)for((m=m[m.length - 1],x=1);x < k.length;x++)q.push(new c.QG({audio:k[x],video:m,text:p}));}return q;};l.prototype.KHc=function(k,m,p,r){var q,u;q=m && m.vi(n.v.X);if(r === e.Wb.Oo || !q)return !1;u=m.vi(n.v.X);if(!p.some(function(v){return v === u;}))return !1;m=u.profile;return k.zo && 0 <= k.zo.indexOf(m)?!1:!0;};l.prototype.Mhc=function(k,m,p,r,q,u,v){if(this.KHc(k,v,r,u))r=[v.vi(n.v.X)];else if((r=new g.n0a(k).dh(r,void 0,void 0,void 0,u),v=r[0],q=q[0],!(0,h.dub)(v.profile,k))){k=0;v && v.Us && v.sb && v.sb.confidence?(m=m(v.sb,p,u,0,!1),k=Math.floor(m.lower) || 1):q && q.Us && q.sb && q.sb.confidence && (m=m(q.sb,p,u,0,!1),k=Math.floor(m.lower) || 1);m=r.length - 1;for(m;0 < m && !(k && r[m].bitrate < .15 * k);--m);r=[r[m]];}return r;};return l;})();b.M1=t;},56556:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q;function d(u){u.forEach(function(v){return v.Pr=!1;});}Object.defineProperties(b,{__esModule:{value:!0}});b.N1=void 0;t=a(22970);n=t.__importStar(a(17267));c=a(66164);g=a(91176);f=a(65161);e=a(62156);h=t.__importDefault(a(29340));l=a(33923);a(52571);k=a(8149);m=a(3082);p=a(35479);r=a(44284);q=a(13550);new c.platform.Console("ASEJS_JOINT_STREAM_SELECTOR","media|asejs");a=(function(){function u(v,w,x,y,A){var H7P;H7P=2;for(;H7P !== 6;){switch(H7P){case 3:var n3j="def";n3j+="a";n3j+="u";n3j+="l";n3j+="t";var D8W="1S";D8W+="IY";D8W+="bZr";D8W+="NJCp9";D8W;v || (v=w.Zsa);this.Hq=new ((m.dba[v] || m.dba[n3j])())(this);A && (this.KNc=new p.uT(w,f.v.V));H7P=6;break;case 2:this.GFb=v;this.config=w;this.A4=x;this.mS=y;H7P=3;break;}}}var V1x;V1x=2;for(;V1x !== 17;){switch(V1x){case 12:u.prototype.Jla=function(){var C$F;C$F=2;for(;C$F !== 5;){switch(C$F){case 1:return new l.QG({audio:this.A4.qj,video:this.mS.qj});break;case 2:C$F=this.A4.qj || this.mS.qj?1:5;break;}}};u.prototype.yk=function(v){var L2E;L2E=2;for(;L2E !== 1;){switch(L2E){case 2:return v === f.v.X?this.A4:this.mS;break;}}};u.prototype.zGb=function(v){var A6i,w,x;A6i=2;for(;A6i !== 4;){switch(A6i){case 2:(null === (w=v.track) || void 0 === w?void 0:w.mediaType) === f.v.X && (this.A4=v);(null === (x=v.track) || void 0 === x?void 0:x.mediaType) === f.v.V && (this.mS=v);A6i=4;break;}}};V1x=20;break;case 7:u.prototype.S$=function(v,w,x,y){var q9$,A,z,B;q9$=2;for(;q9$ !== 5;){switch(q9$){case 3:A=this;q9$=2;break;case 2:A=this;q9$=1;break;case 1:v.$ka(function(C){var H3e;H3e=2;for(;H3e !== 1;){switch(H3e){case 2:A.rW(C,function(D){var m8c;m8c=2;for(;m8c !== 1;){switch(m8c){case 2:D.Us && D.sb && D.sb.confidence?(z !== D.sb && (z=D.sb,B=y(D.sb,x,w,0,!1)),D.ob=Math.floor(B.lower) || 1,D.bca=void 0 !== B.upper?Math.floor(B.upper):1):D.ob=void 0;m8c=1;break;}}});H3e=1;break;}}});q9$=5;break;}}};u.prototype.FRa=function(v,w,x,y,A,z){var z$T,B;z$T=2;for(;z$T !== 4;){switch(z$T){case 9:z$T=this.v$?2:2;break;case 2:z$T=this.v$?1:4;break;case 1:B=(0,g.oc)(v,function(C,D){var c53;c53=2;for(;c53 !== 1;){switch(c53){case 2:U7QY0.T$6(11);var N3Q=U7QY0.F8S(18,9,10);return v[D - N3Q] === w;break;case 4:return v[D % 0] != w;break;}}}) || w;return this.v$.frb({gI:x.uk - x.Xc,oib:x.Vp || 0,mib:x.nw || 0,Xc:x.Xc,Kwb:v[0].yf,zd:w.yf,JKb:B.yf,dJb:v[v.length - 1].yf,Lg:y.state,playbackRate:y.playbackRate,ef:y.ef,GO:A,Ap:z});break;}}};u.prototype.hUa=function(v,w,x,y){var e6W,A,z,B,C,D,F,H;e6W=2;for(;e6W !== 17;){switch(e6W){case 1:e6W=D && F && 0 < F.length?5:9;break;case 9:C.ul=w.ul;F=x && x.ef;v=v.La;C.Oq=v && void 0 !== F && !isNaN(F) && 0 <= F && F < v.length?v.Mr(F):w.ul;C.Fzb=D && D.ob && D.ob.Da || 0;C.vHa=w.uk - w.Xc;C.vib=w.Vp;e6W=11;break;case 11:C.MBb=null !== (B=null === (z=null === (A=c.platform.Xic) || void 0 === A?void 0:A.call(c.platform)) || void 0 === z?void 0:z[x.mediaType === f.v.V?1:0]) && void 0 !== B?B:-1;C.mk=x && x.mk;C.zv=y;C.zG=c.platform.time.na();return C;break;case 3:C.eCb=H;e6W=9;break;case 2:(C={},D=v.sb,F=this.config.lFa);e6W=1;break;case 5:H=[];F.forEach(function(E){var i6r,G;i6r=2;for(;i6r !== 4;){switch(i6r){case 2:G=E.stat;G=(E=D[E.filter]) && E[G];H.push(isNaN(G)?-1:G);i6r=4;break;}}});e6W=3;break;}}};V1x=13;break;case 19:u.prototype.rW=function(v,w){var X$4=U7QY0;var X_z,x;X_z=2;for(;X_z !== 3;){switch(X_z){case 2:X$4.x0M(12);var C7N=X$4.S7f(0,18,19);x=v.length - C7N;X_z=1;break;case 8:X$4.x0M(13);var W_6=X$4.F8S(1,0,7,13);x=v.length * W_6;X_z=6;break;case 1:X_z=0 <= x?5:3;break;case 5:w(v[x],x,v);X_z=4;break;case 4:--x;X_z=1;break;case 14:++x;X_z=2;break;}}};V1x=18;break;case 3:u.prototype.KZ=function(v,w,x,y,A,z,B){var C3A,b_s,I,C,D,F,H,E,G,K,N;C3A=2;for(;C3A !== 23;){switch(C3A){case 27:C3A=b_s === f.Wb.gi?26:25;break;case 7:y=this.Hq.tv;C3A=6;break;case 16:C3A=b_s === f.Wb.Fl?15:27;break;case 8:b_s=v.state;C3A=b_s === f.Wb.Oo?7:18;break;case 9:void 0 !== y && this.S$(w,v.state,v.buffer,y);C3A=8;break;case 26:y=this.Hq.AFb;C3A=6;break;case 15:y=this.Hq.BFb;C3A=6;break;case 18:C3A=b_s === f.Wb.Df?17:16;break;case 24:y=this.Hq.Af;C3A=6;break;case 4:K=K.KLa;v.state === f.Wb.Oo && (this.NM=this.MM=void 0);C3A=9;break;case 20:v.QV && E && (0,h.default)(this.hUa(E,F,v,H),x);C3A=19;break;case 10:var Q8X="p";Q8X+="la";Q8X+="ying";var c7k="mi";c7k+="n_fragmen";c7k+="t_vmaf";(this.A4.rR(E.vi(f.v.X)),this.mS.rR(E.vi(f.v.V)),this.sRa(w.first,E,F.uk - F.Xc),x.mK=E.ob || 0,x.sb=E.sb,x.reason && (E.ut=x.reason,c7k !== x.reason && (E.xWa=x.Ms,E.eX=x.eX,E.zOa=null === (C=x.sb) || void 0 === C?void 0:C.wU,E.AOa=null === (D=x.sb) || void 0 === D?void 0:D.Jk)),w=this.FRa(G,E,F,v,B,A),x.kn=w || x.kn,N && !K && E.bitrate < N.bitrate && (this.MM=F.ul),v.state !== f.Wb.bg && v.state !== f.Wb.gi?(N=(0,e.LBb)(v.state),z=this.hB(v.buffer,N,v.playbackRate,E,z),(x.Sl=z.complete)?x.pHa=z.reason:(x.Sl=!1,x.CK=z.CK,x.k9=z.k9,x.progress=z.progress)):(x.Sl=!0,x.pHa=Q8X));C3A=20;break;case 11:C3A=(E=x.zd)?10:20;break;case 17:y=this.Hq.Lp;C3A=6;break;case 6:I=G[0].vi(f.v.V);(0,k.Xj)(I) && (this.mS.qP=(0,q.qP)(v,I.track.Yk.G,E,this.mS.qP));x=y.call(this.Hq,E,v,w,N,!!A,K,x);x.Lg=v.state;C3A=11;break;case 19:return x;break;case 2:(F=null === v || void 0 === v?void 0:v.buffer,H=c.platform.time.na(),E=this.config,G=w.first);d(w.first);(K=this.ERa(E,v,w.first),N=K.zJa);C3A=4;break;case 25:C3A=24;break;}}};u.prototype.hB=function(v,w,x,y,A){var h35;h35=2;for(;h35 !== 1;){switch(h35){case 2:return this.Hq.ajb(v,w,x,y,A,this.config);break;}}};u.prototype.UHb=function(v,w,x){var G36;G36=2;for(;G36 !== 1;){switch(G36){case 2:n.Ts(w)?this.MM=this.NM=void 0:w.bitrate < x.bitrate && (this.NM=v);G36=1;break;}}};V1x=7;break;case 18:return u;break;case 2:Object.defineProperties(u.prototype,{yF:{get:function(){var L7$;L7$=2;for(;L7$ !== 1;){switch(L7$){case 2:return this.MM;break;case 4:return this.MM;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{AX:{get:function(){var F5n;F5n=2;for(;F5n !== 1;){switch(F5n){case 2:return this.NM;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{AQa:{get:function(){var G8N,v,w;G8N=2;for(;G8N !== 5;){switch(G8N){case 2:return Math.max(null !== (v=this.yF) && void 0 !== v?v:0,null !== (w=this.AX) && void 0 !== w?w:0);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{v$:{get:function(){var N5j;N5j=2;for(;N5j !== 1;){switch(N5j){case 2:return this.KNc;break;}}},enumerable:!1,configurable:!0}});V1x=3;break;case 13:u.prototype.ERa=function(v,w,x){var A7N,y,A,z,B;A7N=2;for(;A7N !== 7;){switch(A7N){case 2:A=this.Jla();A7N=1;break;case 3:z || (y=(0,r.Orb)(x,y.bitrate,y.Ob),w=!0,v.dzb && A && B && (w=!1));A7N=9;break;case 9:return {zJa:y,KLa:w};break;case 1:w=!1;A7N=5;break;case 8:w=!0;A7N=9;break;case 5:A7N=(y=this.Jla())?4:8;break;case 4:(z=(0,g.oc)(x,function(C){var s6N;s6N=2;for(;s6N !== 1;){switch(s6N){case 2:return C.isEqual(y);break;case 4:return C.isEqual(y);break;}}}),B=(0,g.oc)(x,function(C){var p02;p02=2;for(;p02 !== 1;){switch(p02){case 2:return C.isEqual(A);break;}}}));A7N=3;break;}}};V1x=12;break;case 20:u.prototype.sRa=function(v,w,x){var b_o;b_o=2;for(;b_o !== 7;){switch(b_o){case 4:U7QY0.x0M(14);var O6i=U7QY0.S7f(4,14,19,0);x=v.length - O6i;b_o=3;break;case 8:--x;b_o=3;break;case 3:b_o=0 <= x?9:7;break;case 5:b_o=this.config.jHb && x > this.config.YX && !w.xa && v.every(function(y){var L46;L46=2;for(;L46 !== 1;){switch(L46){case 2:return !y.Pr;break;case 4:return -y.Pr;break;}}})?4:7;break;case 1:v.forEach(function(y){var Q8h;Q8h=2;for(;Q8h !== 1;){switch(Q8h){case 2:return y.Pr=!y.La || !y.La.length;break;}}});b_o=7;break;case 2:b_o=this.config.gnb?1:5;break;case 9:(v[x - 1] && v[x - 1].isEqual(w) && v[x].C6(function(y){var V__,A;V__=2;for(;V__ !== 5;){switch(V__){case 2:null !== (A=y.La) && void 0 !== A && A.length || (y.Pr=!0);V__=5;break;}}}),v[x + 1] && v[x + 1].isEqual(w) && v[x].C6(function(y){var g8H,A;g8H=2;for(;g8H !== 5;){switch(g8H){case 2:null !== (A=y.La) && void 0 !== A && A.length || (y.Pr=!0);g8H=5;break;}}}));b_o=8;break;}}};V1x=19;break;}}})();b.N1=a;},29217:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.tT=void 0;d=a(22970);t=(function(){function n(c,g,f){var e,h,l;this.cv=c;"HYBRID" === c?this.$W=f:"CCSP" === c && (this.vG=null !== (e=g.vG) && void 0 !== e?e:0,this.EE=null !== (h=g.EE) && void 0 !== h?h:0,this.dG=null !== (l=g.dG) && void 0 !== l?l:0);}Object.defineProperties(n.prototype,{$Cb:{get:function(){var c;return "HYBRID" === this.cv?[null !== (c=this.$W.kn) && void 0 !== c?c:0]:"CCSP" === this.cv?[this.vG,this.EE,this.dG]:[];},enumerable:!1,configurable:!0}});n.prototype.hyb=function(){return Math.min(this.vG,this.EE,this.dG);};n.prototype.mna=function(){return this.$Cb.some(function(c){return 0 < c;});};n.prototype.cWa=function(c){return new n(this.cv,{vG:c * this.vG,EE:c * this.EE,dG:c * this.dG});};n.prototype.vRa=function(c,g,f,e){var h;h=8 * c / Math.max(f - g,1);if(!this.mna())return !1;c=this.$Cb.map(function(l){return Math.abs(h - l) / l;});return Math.min.apply(Math,d.__spreadArray([],d.__read(c),!1)) < e;};return n;})();b.tT=t;},35479:function(t,b,a){var r,q,u;function d(v){return c(v.zd);}function n(v,w){var x,y,A,z,B;A=g(w.RCc,v.Lg,null !== (y=null === (x=v.zd.sb) || void 0 === x?void 0:x.confidence) && void 0 !== y?y:r.lM.HAVE_NOTHING);if(0 === A.length)return 0;a:switch(w.Jxc){case "implicit":w=p(w,v.zd);w=v.gI / w;break a;case "capacityPercentage":w=Math.max(v.oib / v.mib || 0,v.gI / w.HF);break a;default:w=0;}y=-1;for(x=0;x < A.length;x++)if(A[x].Fia >= w){y=x;break;}if(-1 === y)return f(v,A[A.length - 1].vIa);if(0 === y)return f(v,A[0].vIa);z=A[y - 1].Fia;x=f(v,A[y - 1].vIa);B=A[y].Fia;v=f(v,A[y].vIa);A=Math.min((w - z) / (B - z),1);return (1 - A) * x + A * v;}function c(v){var w,x;x=null === (w=null === v || void 0 === v?void 0:v.O) || void 0 === w?void 0:w.MJ;return x?x[v.mediaType] || 0:0;}function g(v,w,x){var A;function y(z,B){return void 0 !== z && 0 < z.filter(function(C){return C === B;}).length;}A=v.filter(function(z){return y(z.Iqa,w);});0 === A.length && (A=v.filter(function(z){return !z.Iqa || 0 === z.Iqa.length;}));v=A.filter(function(z){return y(z.Lyb,x);});0 === v.length && (v=A.filter(function(z){return !z.Lyb || 0 === z.Lyb.length;}));return v.sort(function(z,B){return z.Fia - B.Fia;});}function f(v,w){var x,y,A,z;if(!w || "object" !== typeof w)return 0;x=v.zd;y=v.JKb;A=v.dJb;z={selectedFragmentBitrate:e(v.GO,x,v.ef) * v.playbackRate,selectedPeakBitrate:(x.$w || h(x) || 0) * v.playbackRate,upswitchPeakBitrate:(y.$w || h(y) || 0) * v.playbackRate,maxPeakBitrate:(A.$w || h(A) || 0) * v.playbackRate,selectedAverageBitrate:h(x) * v.playbackRate,upswitchAverageBitrate:h(y) * v.playbackRate,maxAverageBitrate:c(x) * v.playbackRate,bufferLevelMs:v.gI,observedThroughput:l(v.zd) || 0,averagetp:k(v.zd) || 0,stddevtp:m(v.zd) || 0};v=w.offset || 0;return Object.keys(z).reduce(function(B,C){return B + (w[C] || 0) * z[C];},v);}function e(v,w,x){var y;return w?void 0 !== x && w.La?(void 0 === v?null === (y=w.La) || void 0 === y?void 0:y.get(x).jHa:v.pqb(w,x).jHa) || w.$w || 0:w.$w || 0:0;}function h(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function l(v){var w;v=v.sb;return (null === (w=null === v || void 0 === v?void 0:v.ob) || void 0 === w?void 0:w.Da) || 0;}function k(v){var w;v=v.sb;return (null === (w=null === v || void 0 === v?void 0:v.Sq) || void 0 === w?void 0:w.IU) || 0;}function m(v){var w;v=v.sb;return Math.sqrt((null === (w=null === v || void 0 === v?void 0:v.Sq) || void 0 === w?void 0:w.M_) || 0);}function p(v,w){var x,y;x=v.mKc;x=k(w) + x * m(w);w=w.ob || 0;y=0;0 < w && (y=x / w - 1);return v.Ytc + v.lKc * Math.max(0,y);}Object.defineProperties(b,{__esModule:{value:!0}});b.uT=void 0;b.uZc=g;b.JZc=l;b.AZc=p;t=a(66164);r=a(65161);q=a(29217);new t.platform.Console("ASEJS_PACERATE_SELECTOR","media|asejs");u={maxStreamBitrate:d,"static":function(v,w){return w.HHb;},none:function(){return 0;},regression:n,epsGreedy:function(v,w){return Math.min(n(v,w) || 0,l(v.zd));},"default":d};a=(function(){function v(w,x){var S3G;S3G=2;for(;S3G !== 7;){switch(S3G){case 9:S3G=w.pka || w.oka || w.DKa?8:7;break;case 2:var G5_="d";G5_+="ef";G5_+="a";G5_+="ul";G5_+="t";var V2t="1SIYb";V2t+="ZrNJ";V2t+="Cp";V2t+="9";this.xb=w;V2t;this.algorithm=(u[x === r.v.X?this.xb.Gxc:this.xb.Fxc] || u[G5_]).bind(this);S3G=4;break;case 4:S3G=w.rka?3:9;break;case 3:var D3H="H";D3H+="Y";D3H+="BRID";this.cv=D3H;S3G=7;break;case 8:var m7S="C";m7S+="CS";m7S+="P";this.cv=m7S;S3G=7;break;}}}var I5H;I5H=2;for(;I5H !== 9;){switch(I5H){case 12:return v;break;case 2:v.prototype.wpb=function(w,x){var a6t,B,y,A,z;a6t=2;for(;a6t !== 14;){switch(a6t){case 7:return B;break;case 8:B=new q.tT(this.cv,void 0,{Emc:1,kn:B,PHa:Number(this.xb.PHa),itc:this.xb.Ysc,DVa:Number(this.xb.DVa)});a6t=7;break;case 3:B=w;this.xb.aja && (B=this.Bla(w,A.ZUa[0],z,x,y[0]));a6t=8;break;case 6:var a97="C";a97+="C";a97+="S";a97+="P";a97 === this.cv && (B=new q.tT(this.cv,A?{vG:this.Bla(w,A.ZUa[0],z,x,y[0]),EE:this.Bla(w,A.ZUa[1],z,x,y[1]),dG:this.Bla(w,A.ZUa[2],z,x,y[2])}:{vG:0,EE:0,dG:0},void 0));a6t=7;break;case 4:var X$j="HY";X$j+="BRI";X$j+="D";a6t=X$j === this.cv?3:6;break;case 2:(A=this.xb.aja,z=null === (y=x.Kwb) || void 0 === y?void 0:y.$w);x=e(x.GO,x.zd,x.ef) * x.playbackRate;y=(null === A || void 0 === A?void 0:A.z0c) || [0,0,0];a6t=4;break;}}};v.prototype.tjc=function(w){var N4e,x,y;N4e=2;for(;N4e !== 5;){switch(N4e){case 2:var x9m="s";x9m+="tati";x9m+="c";var u0B="C";u0B+="C";u0B+="S";u0B+="P";var g2O="H";g2O+="Y";g2O+="B";g2O+="RID";y=null === (x=w.zd) || void 0 === x?void 0:x.mediaType;return g2O !== this.cv || this.xb.ecc?u0B === this.cv && (y === r.v.X && !this.xb.ccc || y === r.v.V && !this.xb.dcc)?0:x9m === this.xb.Hxc?this.xb.HHb:c(w.zd):0;break;}}};v.prototype.Bla=function(w,x,y,A,z){var C$i;C$i=2;for(;C$i !== 9;){switch(C$i){case 5:U7QY0.x0M(15);w=Math.ceil(U7QY0.F8S(w,x));w=Math.max(w,Math.ceil(A * z));return w < (this.xb.aja.A0c || 0) * (y || 0)?0:w;break;case 1:return 0;break;case 2:C$i=!x || 0 === w?1:5;break;}}};v.prototype.frb=function(w){var S3p,x,y,A;S3p=2;for(;S3p !== 7;){switch(S3p){case 3:return x;break;case 8:return this.wpb(x,w);break;case 9:x=w.Ap?this.algorithm(w,this.xb):this.tjc(w);S3p=8;break;case 4:S3p=!this.cv || !A || !y || (A=this.xb.RLc) && w.ef && 0 === w.ef % A || w.gI < y.ex?3:9;break;case 2:(y=null === (x=w.zd) || void 0 === x?void 0:x.mediaType,A=this.xb.rka || y === r.v.X && this.xb.oka || y === r.v.V && this.xb.pka);x=this.wpb(0,w);y=this.xb.aja;S3p=4;break;}}};I5H=3;break;case 3:return v;break;}}})();b.uT=a;},70753:function(t,b,a){var c,g,f;function d(e,h){var l;h.some(function(k){var m;m=k.profiles;(m=m && 0 <= m.indexOf(e)) && (l=k.override);return m;});return l;}function n(e,h,l,k,m,p){return p && e > m.wz && (void 0 === l || Number(h) > l || k - l > m.NP);}Object.defineProperties(b,{__esModule:{value:!0}});c=a(22970);g=a(91176);f=a(13550);t=c.__importDefault(a(46263));t=(function(e){var l76;function h(l){var N7I;N7I=2;for(;N7I !== 4;){switch(N7I){case 2:var q76="1";q76+="SI";q76+="YbZrNJCp9";l=e.call(this,l) || this;q76;N7I=5;break;case 5:return l;break;case 7:return l;break;}}}l76=2;for(;l76 !== 3;){switch(l76){case 2:c.__extends(h,e);h.prototype.tv=function(l,k,m,p){var a0z,r,q,u,v,w,x;a0z=2;for(;a0z !== 3;){switch(a0z){case 2:(w=l,x=m.first);a0z=1;break;case 14:return e.prototype.tv.call(this,w,k,m,p);break;case 1:x=(p || x[0]).me;(x=l && l.zo && 0 <= l.zo.indexOf(x)?d(x,l.yG):d(x,l.nia)) && (w={TGa:null !== (r=x.audioBwFactor) && void 0 !== r?r:l.TGa,Cz:null !== (q=x.minInitAudioBitrate) && void 0 !== q?q:l.Cz,Ys:null !== (u=x.maxInitAudioBitrate) && void 0 !== u?u:l.Ys,$X:null !== (v=x.minRequiredAudioBuffer) && void 0 !== v?v:l.$X});a0z=4;break;case 4:return e.prototype.tv.call(this,w,k,m,p);break;}}};h.prototype.Af=function(l,k,m,p){var c3J,v,r,q,u,z,w,x,y,A;c3J=2;for(;c3J !== 33;){switch(c3J){case 11:c3J=0 > y?10:19;break;case 34:return new f.Dg(m);break;case 9:l.yG.some(function(B){var f5I,F,H,E,G,C,D;f5I=2;for(;f5I !== 9;){switch(f5I){case 5:(F=(B=B.override) && B.minRequiredAudioBuffer || l.$X,H=B && B.minAudioBitrate || -Infinity,E=B && B.maxAudioBitrate || Infinity,G=k.buffer.nw || Infinity);f5I=4;break;case 1:f5I=D?5:3;break;case 2:(C=B.profiles,D=C && 0 <= C.indexOf(q));f5I=1;break;case 3:return D;break;case 4:v=r.filter(function(K){var d7l,N;d7l=2;for(;d7l !== 5;){switch(d7l){case 2:N=K.bitrate;return N >= H && N <= E && 0 <= C.indexOf(K.me) && N * F / 8 < G;break;}}});f5I=3;break;case 6:f5I=D?9:0;break;case 12:return D;break;}}});m=p;c3J=6;break;case 26:c3J=y < v.length - 1 && x > m.$Lc * w * k.playbackRate?25:20;break;case 27:u--;c3J=17;break;case 19:c3J=y && x < m.fbc * w * k.playbackRate?18:26;break;case 10:A=0;c3J=20;break;case 16:c3J=(y=v[u],y.uF && (0 === u || y.bitrate * k.playbackRate * m.fbc < x))?15:27;break;case 15:A=u;c3J=20;break;case 22:c3J=++y < v.length?21:20;break;case 23:c3J=(p.La && p.La.length || u) && n(z,this.aA.AX,this.aA.yF,w.ul,m,!!k.Rw)?22:20;break;case 3:return new f.Dg(p);break;case 18:U7QY0.T$6(0);u=U7QY0.S7f(1,y);c3J=17;break;case 6:c3J=v && 1 < v.length?14:34;break;case 4:c3J=!(l && l.zo && 0 <= l.zo.indexOf(q))?3:9;break;case 2:var f6q="Must have at l";f6q+="ea";f6q+="st one sele";f6q+="ct";f6q+="ed stream";r=m.first;(0,g.assert)(p,f6q);(q=p.me,u=p.xa);c3J=4;break;case 35:A=y;c3J=20;break;case 25:w=k.buffer;z=w.uk - w.Xc;c3J=23;break;case 14:(w=p.bitrate,x=m=void 0);u?(m=l.F1b,x=Math.max(.1,1 - l.JIb) * Math.pow(Math.min(1,(k.buffer.uk - k.buffer.Xc) / l.gl),l.IIb),x=p.sb?p.sb.ob.Da * x:0):(m=l.E1b,x=p.ob || 0);(y=(0,g.Ql)(v,function(B){var D7G;D7G=2;for(;D7G !== 1;){switch(D7G){case 4:return B.isEqual(p);break;case 2:return B.isEqual(p);break;}}}),A=y);c3J=11;break;case 20:m=v[A];c3J=34;break;case 17:c3J=0 <= u?16:20;break;case 21:c3J=(u=v[y],u.uF && x > m.$Lc * u.bitrate * k.playbackRate)?35:22;break;}}};return h;break;}}})(t.default);b["default"]=t;},46263:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(13550);t=(function(g){function f(e){return g.call(this,e) || this;}d.__extends(f,g);f.prototype.tv=function(e,h,l){var k,m,r,q,u,v,w;k=new c.Dg();m=e.TGa || 1;l=l.first;for(var p=l.length - 1;0 <= p;--p){r=void 0;q=l[p];u=q.bitrate;v=q.ob || 0;w=!!v;q.Us?(q=null !== (r=e.Ys) && void 0 !== r?r:Infinity,r=u > q || !(u * e.$X / 8 < (h.buffer.nw || Infinity))?!1:w?u * h.playbackRate < v / m?!0:!1:u <= e.Cz?!0:!1):r=!1;if(r){k.zd=l[p];break;}l[p].uF && (k.zd=l[p]);}return k;};f.prototype.Lp=function(e,h,l,k){(0,n.assert)(k,"Must have at least one selected stream");return new c.Dg(k);};f.prototype.Af=function(e,h,l,k){(0,n.assert)(k,"Must have at least one selected stream");return new c.Dg(k);};return f;})(a(75498).dy);b["default"]=t;},58223:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(13550);t=(function(g){function f(e){return g.call(this,e) || this;}d.__extends(f,g);f.prototype.Af=function(e,h,l,k){e=l.first;if(void 0 === k)k=e[(0,c.oW)(e)];else if(!k.uF && (h=(0,n.Ql)(e,function(m){return m.isEqual(k);}),k=e[(0,c.oW)(e,h)],void 0 === k))return new c.Dg();return new c.Dg(k);};return f;})(a(75498).dy);b["default"]=t;},52255:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=d.__importDefault(a(80588));n=a(4620);a=(function(c){function g(f){f=c.call(this,f) || this;f.Af=n.Af;return f;}d.__extends(g,c);return g;})(t.default);b["default"]=a;},4620:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Af=void 0;t=a(22970);d=t.__importStar(a(17267));n=a(66164);c=a(91176);g=a(13550);f=a(50468);e=t.__importDefault(a(80588));b.Af=(function(){var p8L;p8L=2;for(;p8L !== 5;){switch(p8L){case 2:var z1O="1SIYbZ";z1O+="rNJ";z1O+="C";z1O+="p9";z1O;return {Af:function(h,l,k,m,p,r){var S7F,y,q,u,v,w,x,D,N,z,B,C,F,H,E,G,A,K;S7F=2;for(;S7F !== 66;){switch(S7F){case 45:E=void 0;l.K2b && (E=n.platform.time.na() - l.K2b);p.push({ef:l.ef,n4c:E,$0c:G,nWc:A,k4c:D,l4c:F,vHa:r,qpb:u,UWc:H,l0c:m.bitrate,m0c:null !== (z=m.Ob) && void 0 !== z?z:0,uXc:y.bitrate,vXc:null !== (B=y.Ob) && void 0 !== B?B:0,s3c:k.bitrate,t3c:null !== (C=k.Ob) && void 0 !== C?C:0,gna:x});y === k && (x=!1);S7F=62;break;case 21:S7F=q < v.length?35:61;break;case 71:S7F=0 <= y?70:73;break;case 70:S7F=u[y].f === x?69:68;break;case 56:y+=1;S7F=55;break;case 68:S7F=u[y].f < x?73:67;break;case 6:U7QY0.x0M(0);y=U7QY0.S7f(q,x);0 > y && (y=0);y >= u.length && (y=u.length - 1);S7F=12;break;case 55:S7F=y < u.length?77:73;break;case 67:y--;S7F=71;break;case 57:S7F=A < x?56:72;break;case 26:r=r.uk - r.Xc;u=f.bq.vja(l.buffer.La);u=l.buffer.nw - u.ka;x=!0;S7F=22;break;case 47:G+=E.get(K).Rb.G;S7F=46;break;case 48:S7F=K < E.length?47:45;break;case 3:q=u[0].f;y=u[u.length - 1].f;S7F=8;break;case 53:S7F=K < Math.min(K + h.H1b,E.length)?52:49;break;case 2:var D0z="player missing fr";D0z+="a";D0z+="gmentInd";D0z+="ex";var s9A="Must ha";s9A+="ve a selected stream for selec";s9A+="tPl";s9A+="ayin";s9A+="g";(0,c.assert)(m,s9A);(0,c.assert)(d.ec(l.ef),D0z);(u=h.lJc,v=k.first,w=new g.Dg(m),x=null !== (q=l.ef) && void 0 !== q?q:-1);S7F=3;break;case 77:S7F=u[y].f === x?76:75;break;case 22:q=0;S7F=21;break;case 49:K=l.ef;S7F=48;break;case 31:S7F=y.sb && y.sb.tdigest?30:39;break;case 36:S7F=void 0 !== E?54:45;break;case 69:q=y;S7F=73;break;case 8:S7F=x < q || x > y?7:6;break;case 74:y++;S7F=55;break;case 40:D.push(F.max);S7F=39;break;case 50:K++;S7F=53;break;case 35:y=v[q];A=void 0;D=[];y.sb && y.sb.throughput && (A=y.sb.throughput.Da);S7F=31;break;case 52:N=E.get(K);H.push({d:N.Rb.G,b:N.ka});S7F=50;break;case 10:x=y;S7F=20;break;case 11:S7F=A === x?10:58;break;case 20:S7F=void 0 !== x?19:59;break;case 17:k=w.zd;p=[];r=l.buffer;S7F=26;break;case 7:return e.default.prototype.Af.call(this,h,l,k,m,p,r);break;case 72:--y;S7F=71;break;case 19:w.zd=v[u[x].c3c];S7F=18;break;case 30:F=y.sb.tdigest;S7F=29;break;case 62:q++;S7F=21;break;case 75:S7F=u[y].f > x?73:74;break;case 39:F=void 0;y.sb && y.sb.tputTrace && (F=y.sb.tputTrace);(H=[],E=y.La,G=0);S7F=36;break;case 46:K++;S7F=48;break;case 58:q=void 0;S7F=57;break;case 12:A=u[y].f;S7F=11;break;case 59:return e.default.prototype.Af.call(this,h,l,k,m,p,r);break;case 60:return w;break;case 29:D.push(F.min);D.push(F.pTa);D.push(F.av);D.push(F.sr);D.push(F.bv);D.push(F.qTa);S7F=40;break;case 54:K=l.ef;S7F=53;break;case 73:x=q;S7F=20;break;case 76:q=y;S7F=73;break;case 61:w.iWc=p;S7F=60;break;case 18:S7F=h.Jcc?17:60;break;}}}};break;}}})().Af;},63499:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(13550);t=(function(c){function g(f){return c.call(this,f) || this;}d.__extends(g,c);g.prototype.Af=function(f,e,h){f=h.first;return new n.Dg(f[f.length - 1]);};return g;})(a(75498).dy);b["default"]=t;},65114:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(65161);g=a(13550);f=a(48170);e=a(8149);t=a(75498);h=a(57862);l=a(26502);k=a(41379);a=(function(m){function p(r){r=m.call(this,r) || this;r.Af=h.Af;r.tv=l.tv;r.Lp=k.Lp;return r;}d.__extends(p,m);p.prototype.Lic=function(r,q,u,v){var w;w=u.ob.Da;u=u.dr;q=q.vi(c.v.V);if((0,e.Xj)(q) && (q=q.track.Yk.G,void 0 !== q))return (v=Math.min(v,q) - r.nqc * u.Da,void 0 !== u.Zf && (v-=r.Mna * Math.sqrt(u.Zf)),v=Math.max(0,v),w * v / q);};p.prototype.KZ=function(r,q,u,v,w,x){var y,z,B,C,D,F;y=new g.Dg();q=v.JIb * Math.pow(q,v.IIb);y.zd=r[0];for(var A=r.length - 1;-1 < A;--A){z=r[A];if(z.sb && z.sb.ob){B=z.sb.ob.Da;C=z.bitrate;D=v.Y8?this.Lic(v,z,z.sb,u):void 0;F=C * w < (v.Y8?D || B:B) * q;v.Xna && C <= v.W8 && (f.u && g.console.log("liveLowQualityAvoidance: ",F,C,B,v.W8,v.EX,C * w * v.EX),B > C * w * v.EX && (F=!0),f.u && g.console.log("Stream " + A + ": throughput=" + B + ", bitrate=" + C + ", playbackRate=" + w + ", feasible=" + F + ", live segment ID=" + x));f.u && g.console.log("Stream " + A + ": throughput=" + B + ", throughput discount=" + q + ", maxAchievableBitrateWithLatency=" + D + ", bitrate=" + C + ", playbackRate=" + w + ", feasible=" + F + ", live segment ID=" + x);if(F){f.u && g.console.log("Threshold policy selected stream " + A);y.zd=z;break;}}else g.console.warn("Stream has no throughput statistics");}return y;};p.prototype.Lgc=function(r,q,u,v){var w;w=1;u=u.vi(c.v.V);if((0,e.Xj)(u))switch(v){case "loose":w=Math.min(1,r / Math.max(q - u.track.Yk.G,u.track.Yk.G));break;default:w=Math.min(1,r / q);}return w;};p.prototype.Lrb=function(r,q){var u,v;r=null === (u=r[r.length - 1]) || void 0 === u?void 0:u.vi(c.v.V);if(!r)return Infinity;(0,n.assert)((0,e.Xj)(r),"Max rate stream must be a live stream");u=null !== (v=r.bitrate) && void 0 !== v?v:Infinity;return Math.max(u / (q.gl / r.track.Yk.G),q.orc);};return p;})(t.dy);b["default"]=a;},41379:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Lp=void 0;d=a(91176);n=a(13550);c=a(57862);b.Lp=(function(){var u76;u76=2;for(;u76 !== 5;){switch(u76){case 2:var u0I="1";u0I+="SIYbZ";u0I+="r";u0I+="NJ";u0I+="Cp9";u0I;return {Lp:function(f,e,h,l,k,m){var w$y;w$y=2;for(;w$y !== 1;){switch(w$y){case 2:var s9Z="p";s9Z+="l";s9Z+="aying";return s9Z === f.O4?c.Af.call(this,f,e,h,l,k,m):g.call(this,f,e,h,l);break;}}}};break;}}function g(f,e,h,l,k,m,p,r){var K1E,v,x,w,u;function q(y){var M1S,A;M1S=2;for(;M1S !== 8;){switch(M1S){case 1:M1S=!A || (y.bitrate > u?f.IKb:1) * y.bitrate * e.playbackRate > A?5:4;break;case 4:var q6i="bu";q6i+="f";q6i+="f";q6i+="_lt_hist";w=q6i;x=A;return !0;break;case 5:return !1;break;case 2:A=y.ob;M1S=1;break;}}}K1E=2;for(;K1E !== 27;){switch(K1E){case 18:r=new n.Dg();r.zd=l;h.Jb !== l.Jb && (r.reason=w,r.Ms=x);return r;break;case 19:var M$g="s";M$g+="elec";M$g+="t_feasi";M$g+="ble_bufferi";M$g+="ng";w=M$g;K1E=20;break;case 11:l=k[0];K1E=10;break;case 9:m=void 0;m=(0,d.Ql)(k,function(y){var M9f;M9f=2;for(;M9f !== 1;){switch(M9f){case 2:return y.isEqual(l);break;}}});m=Math.max(m,0);K1E=6;break;case 12:K1E=void 0 === l?11:19;break;case 3:K1E=l.ob?9:18;break;case 13:l=(0,d.oc)(k.slice(0,m).filter(function(y){var b2g;b2g=2;for(;b2g !== 1;){switch(b2g){case 2:return y.Bt && y.Bt <= v;break;case 4:return y.Bt || y.Bt < v;break;}}}).reverse(),q);K1E=12;break;case 6:m=Math.min(m + (f.Rgb?2:1),k.length);v=(0,n.Asa)(k[0].O,f.MP) && r?this.Lrb(k,f):Infinity;K1E=13;break;case 4:h=l;K1E=3;break;case 20:x=null === l || void 0 === l?void 0:l.ob;K1E=18;break;case 10:var U__="fallbac";U__+="k_lowes";U__+="t_acceptable_stream";w=U__;K1E=20;break;case 2:var i7F="Must have at l";i7F+="east one selecte";i7F+="d strea";i7F+="m";(0,d.assert)(l,i7F);k=h.first;u=l.bitrate;K1E=4;break;}}}})().Lp;},57862:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Af=void 0;d=a(91176);a(13550);n=a(13550);b.Af=(function(){var W6h;W6h=2;for(;W6h !== 5;){switch(W6h){case 2:var U5g="1S";U5g+="IY";U5g+="b";U5g+="Z";U5g+="rNJCp9";U5g;return {Af:function(c,g,f,e,h,l,k,m){var a9E,p,r;a9E=2;for(;a9E !== 6;){switch(a9E){case 9:(p=(0,d.Ql)(f,function(q){var O0f;O0f=2;for(;O0f !== 1;){switch(O0f){case 2:return q.isEqual(e);break;case 4:return q.isEqual(e);break;}}}),r=(0,n.Asa)(f[0].O,c.MP));m=f.slice(0,(!(void 0 === this.aA.yF || k - this.aA.yF > c.NP) || r && m?(f.length + p) % f.length:Math.min(f.length - 1,p + c.Yna)) + 1);return this.KZ(m,l,h,c,g.playbackRate,g.ef);break;case 4:l=this.Lgc(h,c.gl,e,c.Vna);f=f.first;a9E=9;break;case 2:var K3g="Must ha";K3g+="ve";K3g+=" at leas";K3g+="t one selected str";K3g+="eam";(0,d.assert)(e,K3g);k=g.buffer.ul;h=g.buffer.uk - g.buffer.Xc;a9E=4;break;}}}};break;}}})().Af;},26502:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.tv=void 0;d=a(91176);n=a(65161);c=a(13550);t=(function(){function g(e,h){var a2y,l,k;a2y=2;for(;a2y !== 13;){switch(a2y){case 3:a2y=-1 === k?9:8;break;case 2:a2y=e.jJ?1:14;break;case 9:return l[l.length - 1].d;break;case 8:U7QY0.x0M(0);e=l[U7QY0.S7f(1,k)];l=l[k];a2y=6;break;case 14:return e.pr;break;case 4:return l[0].d;break;case 5:a2y=0 === k?4:3;break;case 6:return Math.floor(e.d + (l.d - e.d) * (h - e.r) / (l.r - e.r));break;case 1:(l=e.jJ,k=(0,d.Ql)(l,function(m){var u5T;u5T=2;for(;u5T !== 1;){switch(u5T){case 2:return h <= m.r;break;case 4:return h > m.r;break;}}}));a2y=5;break;}}}var r0Z;r0Z=2;for(;r0Z !== 5;){switch(r0Z){case 2:var w7g="1";w7g+="S";w7g+="IY";w7g+="bZrNJC";w7g+="p9";w7g;return {tFa:function(e,h,l,k,m,p,r,q){var B7B,u,v,w;B7B=2;for(;B7B !== 3;){switch(B7B){case 2:l=l.first;(u=new c.Dg(),v=Math.max(e.dx,e.aQ),w=(0,c.Asa)(l[0].O,e.MP) && q?this.Lrb(l,e):Infinity);u.zd=(0,d.oc)(l.filter(function(x){var M3A,y,A;M3A=2;for(;M3A !== 9;){switch(M3A){case 2:(y=x.vi(n.v.X))?(y=y.me,y=e && e.zo && 0 <= e.zo.indexOf(y)?f(y,e.yG):f(y,e.nia)):y=void 0;y=y?null !== (A=y.maxInitAudioBitrate) && void 0 !== A?A:e.Ys:e.Ys;M3A=4;break;case 4:A=x.Bt?x.Bt <= e.yz:!0;return (x.gw?x.gw <= y:!0) && A;break;}}}).filter(function(x){var m$w;m$w=2;for(;m$w !== 1;){switch(m$w){case 2:return x.Bt && x.Bt <= w;break;case 4:return x.Bt || x.Bt < w;break;}}}).reverse(),function(x){var R6x,A,y;R6x=2;for(;R6x !== 8;){switch(R6x){case 5:A=x.bitrate * h.playbackRate;R6x=4;break;case 4:var f6S="his";f6S+="t_";f6S+="buff";f6S+="time";y?(x=g(e,A),A=(0,c.yib)(e.no,A * e.WP),(0,c.zyb)(A,y) <= x?(u.Ms=y,u.reason=f6S,y=!0):y=!1):y=!1;R6x=3;break;case 2:y=x.ob;R6x=1;break;case 9:var H$4="no_hist";H$4+="or";H$4+="ical_lte_minbitrat";H$4+="e";var c7e="his";c7e+="t_tput_lt_min";c7e+="bitrate";var y3t="lt_";y3t+="hist_lte_mi";y3t+="nb";y3t+="itra";y3t+="te";y && x.bitrate * h.playbackRate <= y?(u.Ms=y,u.reason=y3t,y=!0):y?(u.Ms=y,u.reason=c7e,y=!1):(u.reason=H$4,y=!0);R6x=3;break;case 3:return y;break;case 1:R6x=x.bitrate > v?5:9;break;}}}) || l[0];B7B=4;break;case 4:return u;break;case 14:return u;break;}}}};break;}}function f(e,h){var c$N,l;c$N=2;for(;c$N !== 4;){switch(c$N){case 2:h.some(function(k){var a_o,m;a_o=2;for(;a_o !== 4;){switch(a_o){case 2:m=k.profiles;(m=m && 0 <= m.indexOf(e)) && (l=k.override);return m;break;}}});return l;break;}}}})().tFa;b.tv=t;},4272:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(13550);t=(function(c){function g(f){return c.call(this,f) || this;}d.__extends(g,c);g.prototype.Af=function(f,e,h){return new n.Dg(h.first[0]);};return g;})(a(75498).dy);b["default"]=t;},80588:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75498);n=a(4969);c=a(98301);g=a(71406);a=(function(f){function e(h){h=f.call(this,h) || this;h.tv=g.tv;h.Lp=n.Lp;h.Af=c.Af;return h;}d.__extends(e,f);return e;})(t.dy);b["default"]=a;},4969:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Lp=void 0;d=a(91176);n=a(13550);c=a(98301);b.Lp=(function(){function g(f,e,h,l){var L19,u,m,p,r,q;function k(v){var F3R,w;F3R=2;for(;F3R !== 8;){switch(F3R){case 5:return !1;break;case 1:F3R=!w || (v.bitrate > p?f.IKb:1) * v.bitrate * e.playbackRate > w?5:4;break;case 2:w=v.ob;F3R=1;break;case 4:var h6f="bu";h6f+="f";h6f+="f_lt";h6f+="_hi";h6f+="st";q=h6f;u=w;return !0;break;}}}L19=2;for(;L19 !== 16;){switch(L19){case 17:return m;break;case 20:m=new n.Dg();m.zd=l;h.Jb !== l.Jb && (m.reason=q,m.Ms=u);L19=17;break;case 11:u=null === l || void 0 === l?void 0:l.ob;L19=20;break;case 6:l=(0,d.oc)(m.slice(0,r).reverse(),k);L19=14;break;case 4:L19=l.ob?3:20;break;case 10:var h8q="select_fea";h8q+="sible";h8q+="_buffe";h8q+="rin";h8q+="g";q=h8q;L19=11;break;case 2:var f4Q="Must have ";f4Q+="at least one selec";f4Q+="ted stream";(0,d.assert)(l,f4Q);(m=h.first,p=l.bitrate);h=l;L19=4;break;case 3:r=void 0;r=(0,d.Ql)(m,function(v){var E4D;E4D=2;for(;E4D !== 1;){switch(E4D){case 2:return v.isEqual(l);break;}}});r=Math.max(r,0);r=Math.min(r + (f.Rgb?2:1),m.length);L19=6;break;case 14:L19=void 0 === l?13:10;break;case 13:l=m[0];L19=12;break;case 12:var k8Z="fal";k8Z+="lback_lowest_accept";k8Z+="a";k8Z+="ble_stream";q=k8Z;L19=11;break;}}}var v_e;v_e=2;for(;v_e !== 5;){switch(v_e){case 2:var N0P="1SI";N0P+="YbZ";N0P+="rNJCp9";N0P;return {Lp:function(f,e,h,l,k,m){var u9D;u9D=2;for(;u9D !== 1;){switch(u9D){case 2:var b6l="pl";b6l+="ay";b6l+="ing";return b6l === f.O4?c.Af.call(this,f,e,h,l,k,m):g.call(this,f,e,h,l);break;}}}};break;}}})().Lp;},98301:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vKa=b.gna=b.Af=void 0;t=a(22970);n=t.__importStar(a(17267));c=a(91176);g=a(50468);f=a(13550);e=t.__importDefault(a(62737));h=a(65161);l=a(20880);b.Af=(d=(function(){function k(p,r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N){var m$9,O,J,Q,P,I,L,S;m$9=2;for(;m$9 !== 16;){switch(m$9){case 17:return 0 < F || 0 < H?(0,e.default)({Dfc:S,blocks:B + F + H,Xc:w,uk:y,bIc:x,nx:C,ul:A,ef:B,afc:B + F,gka:G,qpb:D,ob:(I - N) / K,Ttc:E,ex:p.ex,acc:!1}):I > r.$w?{result:!0,m9:0,Dw:!0}:{result:!1,m9:0,Dw:!0};break;case 9:I=r.ob;(O=y - w,J=v.length,Q=r.La && r.La.length,P=(null === L || void 0 === L?void 0:L.La) && (null === L || void 0 === L?void 0:L.La.length));U7QY0.T$6(5);(0,c.assert)(U7QY0.S7f(J,B));p.n9 && (E=Math.min(E,O));m$9=14;break;case 2:var A5A="First ";A5A+="stream";A5A+=" undefined";void 0 === N && (N=0);r=q[0].stream;L=null === (I=u[0]) || void 0 === I?void 0:I.stream;(0,c.assert)(r,A5A);m$9=9;break;case 13:return !1;break;case 14:m$9=!I || I < r.bitrate * K * p.O7 || !Q?13:12;break;case 12:P || (L=r);S=new l.jbb(v);m$9=10;break;case 10:F=Math.max(0,Math.min(F,r.La.length - z));H=Math.max(0,Math.min(H,L.La.length - z - F));q.forEach(function(Y){var e3I,X,T;e3I=2;for(;e3I !== 4;){switch(e3I){case 2:(X=Y.stream,T=Y.blocks);Y=Y.ef;n.ec(Y) && X.La && S.add(X.La.dA.subarray(Y,Y + T));e3I=4;break;}}});u.forEach(function(Y){var H__,X,T;H__=2;for(;H__ !== 4;){switch(H__){case 2:(X=Y.stream,T=Y.blocks);Y=Y.ef;0 < H && n.ec(Y) && X.La && S.add(X.La.dA.subarray(Y,Y + T));H__=4;break;}}});m$9=17;break;}}}function m(p,r,q){var d_6,u;d_6=2;for(;d_6 !== 3;){switch(d_6){case 1:return p.iyb;break;case 8:d_6=-q.ob?2:8;break;case 2:d_6=!q.ob?1:5;break;case 5:u=(q.bca || q.ob) / q.ob;return 1 >= u?p.uoa:Math.min(Math.max((p.YHc * Math.min(8 * r / q.bitrate,p.HF) - p.xz) / (u - 1),p.iyb),p.uoa);break;}}}var M7M;M7M=2;for(;M7M !== 5;){switch(M7M){case 2:var Q6O="1S";Q6O+="I";Q6O+="Y";Q6O+="bZ";Q6O+="rNJCp9";Q6O;return {gna:k,Af:function(p,r,q,u,v,w){var h60,Q,P,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J;h60=2;for(;h60 !== 17;){switch(h60){case 12:x=(p.xba || w) && G >= p.Zca?y.length:B + 2;(Q=(function(S){var C5e,e2k;C5e=2;for(;C5e !== 4;){switch(C5e){case 5:return y.slice(0,S).map(function(Y,X){var T3E;T3E=2;for(;T3E !== 1;){switch(T3E){case 2:return X < B?[p.Q7,p.i9]:X === B?[p.P7,p.h9]:[p.R7,p.j9];break;}}});break;case 1:return y.slice(0,S).map(function(Y){var A$P;A$P=2;for(;A$P !== 1;){switch(A$P){case 4:return [m(p,r.buffer.nw,Y),9];break;case 2:return [m(p,r.buffer.nw,Y),0];break;}}});break;case 3:C5e=5;break;case 13:C5e=6;break;case 2:var E9f="va";E9f+="ri";E9f+="a";E9f+="bl";E9f+="e";e2k=p.Fsa;C5e=e2k === E9f?1:3;break;}}})(x),P=y.slice(0,x).map(function(S,Y){var I_p=U7QY0;var A01,X;A01=2;for(;A01 !== 5;){switch(A01){case 2:I_p.T$6(16);X=I_p.S7f(B,Y);return function(){var S2D,T,U,Z,aa,da,fa,ma,R,M,V,ba,ha,ca,la;S2D=2;for(;S2D !== 5;){switch(S2D){case 2:a:{I_p.x0M(0);T=Math.max(I_p.S7f(1,Y),0);U=Q[Y][0];Z=Q[Y][1];aa=r.playbackRate;ma=q.INa(Y,E,U);R=ma.PYa;ma=ma.VXa;I_p.T$6(7);M=q.INa(T,I_p.S7f(R,E),Z);T=M.PYa;V=M.VXa;M=ma[0].stream;ba=null === (da=V[0]) || void 0 === da?void 0:da.stream;da=M.ob || 0;ha=M.La && M.La.length;ca=w?p.fec:ha?p.lW:p.gec;ca=X?p.r6:ca;if(L && !L.Oka && L.ob >= da && L.bitrate <= M.bitrate){la=!1;}else {X || ha || (M.Pr=!0);if(!X || !ha)if(ha){if(da >= Math.max(M.$w * aa,M.bitrate * aa * ca) && M.Dw){la=!0;break a;}}else if(da >= M.bitrate * aa * ca){la=!0;break a;}aa=!p.k5 || M === z || M.Eb === z.Eb && v?0:(aa=M.sb) && aa.ph && aa.ph.Da?aa.ph.Da + p.g5 * (aa.ph.Zf?Math.sqrt(aa.ph.Zf):0):0;I_p.T$6(7);ha=I_p.F8S(Z,U);U=(null !== (la=M.gw) && void 0 !== la?la:0) * U / ha + (null !== (fa=null === ba || void 0 === ba?void 0:ba.gw) && void 0 !== fa?fa:0) * Z / ha;(la=k(p,y,ma,V,O,D + aa - C,N,H - C,F - C,E,O.length,K,J,R,T,I,r.gka,r.playbackRate,U)) && la.result && (A.B0c=la.m9);L={Oka:la && la.result,ob:da,bitrate:M.bitrate};la=la && la.result;}}return la;break;}}};break;}}}));(0,c.assert)(P.length === Q.length);P[B]()?B + 1 < y.length && G > p.wz && (void 0 === this.aA.yF || this.aA.AX && this.aA.AX > this.aA.yF || F - this.aA.yF > p.NP && G > p.l9) && (u=(0,c.LGa)(y.slice(B + 1,x),function(S,Y){var n2t;n2t=2;for(;n2t !== 1;){switch(n2t){case 2:return P[B + 1 + Y]();break;}}})):u.La && u.La.length && ((u=(0,c.LGa)(y.slice(0,B),function(S,Y){var m3E;m3E=2;for(;m3E !== 1;){switch(m3E){case 2:return P[Y]();break;}}})) || (u=y[0]));h60=19;break;case 19:A.zd=u || z;return A;break;case 2:var m3Z="Mu";m3Z+="st have";m3Z+=" a se";m3Z+="lected strea";m3Z+="m";(0,c.assert)(u,m3Z);void 0 === r.ef && (r.ef=0);h60=4;break;case 4:var h20="n";h20+="um";h20+="be";h20+="r";var o39="nu";o39+="m";o39+="b";o39+="er";var S2_="invalid ";S2_+="play";S2_+="er fragmentInde";S2_+="x";(0,c.assert)(n.ec(r.ef),S2_);(0,c.assert)(o39 === typeof r.buffer.nw);(0,c.assert)(h20 === typeof r.gka);(y=q.first,A=new f.Dg(),z=u,B=(0,c.Ql)(y,function(S){var M0S;M0S=2;for(;M0S !== 1;){switch(M0S){case 2:return S.isEqual(u);break;case 4:return S.isEqual(u);break;}}}));h60=7;break;case 7:var D6D="Sele";D6D+="ct";D6D+="ed st";D6D+="ream not f";D6D+="ound in stream list";U7QY0.x0M(17);(0,c.assert)(U7QY0.F8S(0,B),D6D);(C=r.buffer.Db,D=r.buffer.Xc,F=r.buffer.ul,H=r.buffer.uk,E=r.ef,G=H - D,K=r.state === h.Wb.bg || r.state === h.Wb.gi?r.buffer.nx:0,N=p.IF,I=null !== (x=p.xz) && void 0 !== x?x:1E3);q.$ka(function(S,Y,X){var z5E,T;z5E=2;for(;z5E !== 5;){switch(z5E){case 2:void 0 !== X && (S=S[X],null !== (T=S.La) && void 0 !== T && T.length || (S.Pr=!0));z5E=5;break;}}});(O=g.bq.vja(r.buffer.La),J=r.buffer.nw - O.ka);h60=12;break;}}},vKa:m};break;}}})(),d.Af);b.gna=d.gna;b.vKa=d.vKa;},71406:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.toc=b.tv=void 0;t=a(22970);d=t.__importStar(a(17267));n=a(91176);c=a(65161);g=a(88318);t=t.__importStar(a(65167));f=a(13550);e=t.THc;a=(function(){var b5O;function u(x,y,A,z,B,C){var j2W;j2W=2;for(;j2W !== 4;){switch(j2W){case 2:var H6N="no_vali";H6N+="d_Bitra";H6N+="te";var L31="no_";L31+="valid_VM";L31+="AF";var H05="no_va";H05+="li";H05+="d_DelayTarget";U7QY0.x0M(16);y=U7QY0.S7f(B,z);x=A?x.Ob >= C.Zu && x.Ob <= C.Dxb:r(x,C) && q(x,C);return (C=y && x)?{Oka:C}:{Oka:C,reason:x?H05:A?L31:H6N};break;}}}function m(x,y){var e3Y=U7QY0;var r7T,A;r7T=2;for(;r7T !== 9;){switch(r7T){case 5:A=y.MK;r7T=4;break;case 4:return (A=y.DFb[A]) && 2 === A.length?1E3 * (A[0] + A[1] * Math.log(1 + x)):y.pr;break;case 3:var O33="s";O33+="i";O33+="gmo";O33+="id";return 0 === y.MK.lastIndexOf(O33,0)?(A=y.MK,(A=y.DFb[A]) && 2 === A.length?1E3 * (A[0] + A[1] * e(x)):y.pr):y.pr;break;case 1:var t_o="l";t_o+="o";t_o+="g";r7T=0 === y.MK.lastIndexOf(t_o,0)?5:3;break;case 14:A=y.MK;r7T=5;break;case 2:e3Y.x0M(18);var M8A=e3Y.F8S(99984,187500,8,1500000);e3Y.T$6(19);var w2E=e3Y.S7f(6000,83004,12,16,14);x=(0,f.Yia)(x,0,M8A) / w2E;r7T=1;break;}}}b5O=2;function p(x,y,A){var E4J,D,F,H,z,B,C;E4J=2;for(;E4J !== 19;){switch(E4J){case 13:B.reason=H;E4J=12;break;case 5:D=A[C];B=h(D,x);(F=l(D.bitrate * y.playbackRate,B.Ms,x),H=m(B.Ms,x));E4J=9;break;case 12:C--;E4J=1;break;case 1:E4J=0 <= C && (z?A[C].Ob >= x.Zu:r(A[C],x))?5:11;break;case 11:var V4d="fall";V4d+="bac";V4d+="k_no_acceptab";V4d+="le_stream";var W9$="belo";W9$+="w_minI";W9$+="nitVideoBitrate";d.cd(B) && !r(A[C],x) && (B=h(A[C],x),B.reason=W9$);d.cd(B) && (B=h(A[0],x),B.reason=V4d);return B;break;case 14:E4J=D?11:13;break;case 2:(z=!!x.Zu && !!x.Dxb && A.every(function(E){var d6O;d6O=2;for(;d6O !== 1;){switch(d6O){case 2:return E.Ob && 110 >= E.Ob;break;}}}),B=null,C=A.length - 1);E4J=1;break;case 9:H=u(D,B.Ms,z,F,H,x);D=H.Oka;H=H.reason;B.eX=F;E4J=14;break;}}}for(;b5O !== 5;){switch(b5O){case 2:var X9K="1";X9K+="S";X9K+="IYbZrNJCp";X9K+="9";X9K;return {tFa:function(x,y,A,z){var P8I;P8I=2;for(;P8I !== 5;){switch(P8I){case 2:A=A.first;return x.lU?p(x,y,A,z):v(x,y,A,z);break;}}},qXb:u};break;}}function h(x,y){var h82,B,A,z;h82=2;for(;h82 !== 11;){switch(h82){case 7:h82=(B=d.ec(y.jsa) && 0 <= y.jsa && 100 >= y.jsa && z)?6:14;break;case 3:x=0;z=null === z || void 0 === z?void 0:z.Jk;h82=7;break;case 6:(B=g.Ubb.wjc(z),d.Nw(B)?(z.ak=B,B=!0):B=!1);h82=14;break;case 14:var E$N="hist_throug";E$N+="hpu";E$N+="t";var b3B="his";b3B+="t";b3B+="_tdig";b3B+="est";B && z.ak?(x=z.ak(y.jsa / 100) || A.zd.ob,A.reason=b3B):A.zd.ob && (x=A.zd.ob,A.reason=E$N);A.Ms=x;return A;break;case 2:A=new f.Dg();A.zd=x;z=A.zd.sb;A.sb=z;h82=3;break;}}}function r(x,y){var s36,A;s36=2;for(;s36 !== 5;){switch(s36){case 2:A=x.Bt?x.Bt >= y.dx:!0;return (x.gw?x.gw >= y.Cz:!0) && A;break;}}}function l(x,y,A){var h62;h62=2;for(;h62 !== 5;){switch(h62){case 2:x=(0,f.yib)(A.no,x * A.WP);return (0,f.zyb)(x,y);break;}}}function q(x,y){var N6i,A,z;N6i=2;for(;N6i !== 9;){switch(N6i){case 1:(A=x.vi(c.v.X))?(A=A.me,A=y && y.zo && 0 <= y.zo.indexOf(A)?w(A,y.yG):w(A,y.nia)):A=void 0;A=A?null !== (z=A.maxInitAudioBitrate) && void 0 !== z?z:y.Ys:y.Ys;y=x.Bt?x.Bt <= y.yz:!0;return (x.gw?x.gw <= A:!0) && y;break;case 2:N6i=1;break;}}}function w(x,y){var o9F,A;o9F=2;for(;o9F !== 4;){switch(o9F){case 2:y.some(function(z){var v4e,B;v4e=2;for(;v4e !== 4;){switch(v4e){case 2:B=z.profiles;(B=B && 0 <= B.indexOf(x)) && (A=z.override);return B;break;}}});return A;break;}}}function k(x,y){var V$R,A,z;V$R=2;for(;V$R !== 13;){switch(V$R){case 1:(A=x.jJ,z=(0,n.Ql)(A,function(B){var e$g;e$g=2;for(;e$g !== 1;){switch(e$g){case 4:return y > B.r;break;case 2:return y <= B.r;break;}}}));V$R=5;break;case 9:return A[A.length - 1].d;break;case 2:V$R=x.jJ?1:14;break;case 6:return Math.floor(x.d + (A.d - x.d) * (y - x.r) / (A.r - x.r));break;case 4:return A[0].d;break;case 14:return x.pr;break;case 5:V$R=0 === z?4:3;break;case 8:U7QY0.T$6(0);x=A[U7QY0.F8S(1,z)];A=A[z];V$R=6;break;case 3:V$R=-1 === z?9:8;break;}}}function v(x,y,A){var y1g,z,B;y1g=2;for(;y1g !== 4;){switch(y1g){case 2:(z=new f.Dg(),B=Math.max(x.dx,x.aQ));z.zd=(0,n.oc)(A.filter(function(C){var X8f;X8f=2;for(;X8f !== 1;){switch(X8f){case 2:return q(C,x);break;case 4:return q(C,x);break;}}}).reverse(),function(C){var u6p,D,F;u6p=2;for(;u6p !== 6;){switch(u6p){case 7:var A90="n";A90+="o_historica";A90+="l";A90+="_lte_minbitrate";var W_D="h";W_D+="ist_tput_";W_D+="lt_minb";W_D+="itrate";var p$j="l";p$j+="t_hist_lte_m";p$j+="inb";p$j+="itrate";D && C.bitrate * y.playbackRate <= D?(z.Ms=D,z.reason=p$j,D=!0):D?(z.Ms=D,z.reason=W_D,D=!1):(z.reason=A90,D=!0);u6p=9;break;case 8:D=!1;u6p=9;break;case 2:D=C.ob;u6p=1;break;case 1:u6p=C.bitrate > B?5:7;break;case 5:u6p=(C=C.bitrate * y.playbackRate,D)?4:8;break;case 3:var j6Q="hist";j6Q+="_buff";j6Q+="ti";j6Q+="me";l(C,D,x) <= F?(z.Ms=D,z.reason=j6Q,D=!0):D=!1;u6p=9;break;case 4:F=k(x,C);u6p=3;break;case 9:return D;break;}}}) || A[0];return z;break;}}}})();t=a.qXb;b.tv=a.tFa;b.toc=t;},62737:function(t,b,a){var j2E="de";j2E+="fau";j2E+="lt";var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);a(91176);n=a(13550);b[j2E]=(function(){var a1i;a1i=2;for(;a1i !== 1;){switch(a1i){case 2:return {QYb:function(c){var L9R=U7QY0;var L76,D,F,H,E,G,K,N,I,L,g,f,e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C;L76=2;for(;L76 !== 50;){switch(L76){case 51:return d.__assign({result:!0,m9:h / (y / 1E3),Dw:!0},c && ({Gia:k}));break;case 30:L76=D < x?29:28;break;case 18:L9R.x0M(1);m*=L9R.F8S(1E3,y);L9R.T$6(1);x*=L9R.F8S(1E3,y);L9R.T$6(1);w*=L9R.S7f(1E3,y);L76=15;break;case 39:L76=H >= r && D > z?51:38;break;case 41:(u+=N[f],++f,f >= N.length && ++K < g.length && (N=g.x7(K),I=g.HW(K),f=0));L76=42;break;case 24:L76=L?23:51;break;case 29:return (c && k.push(D / (y / 1E3)),d.__assign({result:!1,m9:D / (y / 1E3),Dw:!1},c && ({Gia:k})));break;case 34:C=Math.max(p,q);L76=33;break;case 35:L76=u < p?34:53;break;case 54:h=Math.min(D,h);L76=24;break;case 15:L9R.x0M(1);z*=L9R.F8S(1E3,y);D=d.__read(g.jjc(p),2);B=D[0];L76=25;break;case 28:L9R.T$6(20);e+=L9R.S7f(v,F,p,0);m+=A;L76=43;break;case 53:L76=(D=Math.max(m - e,0),D < w && D < C)?52:28;break;case 23:L--;p=E[H];A=G[H];L76=35;break;case 7:f=0;D=g.HW(0)[0];L9R.T$6(21);l=L9R.S7f(D,l,1E3,y);L9R.x0M(22);v=L9R.S7f(8,0,v);L9R.x0M(1);F=L9R.F8S(1E3,y);L76=11;break;case 38:H >= E.length && ++B < g.length && (r-=E.length,E=g.x7(B),G=g.HW(B),H=0);c && k.push(D / (y / 1E3));C=D;L76=54;break;case 33:L76=u < C?32:31;break;case 52:return (c && k.push(D / (y / 1E3)),d.__assign({result:!1,m9:Math.min(D,h) / (y / 1E3),Dw:!0},c && ({Gia:k})));break;case 19:L9R.T$6(1);e*=L9R.F8S(1E3,y);L76=18;break;case 42:L76=l < e && f < H?41:40;break;case 11:var K$Q=" >= ";K$Q+="fragments";K$Q+="Length: ";var X7x="Stre";X7x+="amingIndex";X7x+=": ";p >= A && n.console.error(X7x + p + K$Q + A);e+=B;0 === m && (e=0);L76=19;break;case 43:u-=p;L76=42;break;case 31:L9R.T$6(0);D=L9R.S7f(e,m);L76=30;break;case 25:(H=D[1],E=g.x7(B),G=g.HW(B),K=0,N=g.x7(K),I=g.HW(K),L=A - p);L76=24;break;case 32:(e=l,u+=N[f],++f,f >= N.length && ++K < g.length && (N=g.x7(K),I=g.HW(K),f=0),D=I[f],l+=D);L76=33;break;case 40:++H;L76=39;break;case 2:var E0w="1";E0w+="SIYbZr";E0w+="N";E0w+="JCp9";(g=c.Dfc,f=c.blocks,e=c.Xc,h=c.uk,l=c.bIc,k=c.nx,m=c.ul,p=c.ef,r=c.afc,q=c.gka,u=c.qpb,v=c.ob,w=c.Ttc,x=c.ex);c=c.acc;E0w;(y=g.P,A=Math.min(g.Efc,f),z=h - e,B=8 * k / v | 0);k=[];h=Infinity;C=0;L76=7;break;}}}};break;}}})().QYb;},14087:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(13550);t=(function(c){function g(f){return c.call(this,f) || this;}d.__extends(g,c);g.prototype.Af=function(f,e,h){f=h.first.filter(function(l){return l.Us;});return f.length?new n.Dg(f[Math.floor(Math.random() * f.length)]):new n.Dg();};return g;})(a(75498).dy);b["default"]=t;},3447:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(13550);t=(function(g){function f(e){return g.call(this,e) || this;}d.__extends(f,g);f.prototype.Af=function(e,h,l,k){var m,p;l=l.first;m=h.buffer.ul;h="forward" === e.EEc;if(void 0 === k)return (k=h?l[(0,c.oW)(l)]:l[(0,c.oW)(l,l.length)],new c.Dg(k));if(!k.uF){p=(0,n.Ql)(l,function(r){return r.isEqual(k);});p=(0,c.oW)(l,p);k=l[p];}if(!k)return new c.Dg();if(void 0 === this.aA.AQa || m > this.aA.AQa + e.GKc){l=l.filter(function(r){return r.Us;});if(!l.length)return new c.Dg();e=(0,n.Ql)(l,function(r){return r.isEqual(k);});e=(l.length + e + (h?1:-1)) % l.length;return new c.Dg(l[e]);}return new c.Dg(k);};return f;})(a(75498).dy);b["default"]=t;},21875:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(66164);n=a(91176);c=a(13550);a=a(75498);f=[];e=[];t.platform.t4b && (t.platform.t4b.Qp={Sb:function(){g=void 0;f=[];e=[];},KZ:function(h){g=h;},QZc:function(){return {all:f,LKb:e};}});a=(function(h){function l(k){return h.call(this,k) || this;}d.__extends(l,h);l.prototype.Af=function(k,m,p,r){f=k=p.first;if(void 0 === g)return (r=(0,c.oW)(k),g=k[r].bitrate,new c.Dg(k[r]));if(!k.length)return new c.Dg();r=(0,n.oc)(k,function(q){return q.bitrate === g;});return void 0 === r?(c.console.log("Defaulting to first stream due to unvalid bitrate requested: " + g),new c.Dg(k[0])):new c.Dg(r);};return l;})(a.dy);b["default"]=a;},56186:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(48170);g=a(13550);t=a(75498);t=(function(f){var v8p;v8p=2;function e(h){var B2m;B2m=2;for(;B2m !== 4;){switch(B2m){case 2:var N$D="1SI";N$D+="YbZr";N$D+="N";N$D+="JCp9";h=f.call(this,h) || this;N$D;return h;break;}}}for(;v8p !== 4;){switch(v8p){case 2:d.__extends(e,f);e.prototype.Af=function(h,l,k,m){var F6h,p,r,q,u,v;F6h=2;for(;F6h !== 16;){switch(F6h){case 8:F6h=-1 < m?7:19;break;case 10:--m;F6h=8;break;case 11:var f9Z="Th";f9Z+="reshold ";f9Z+="policy select";f9Z+="ed stream ";return (c.u && g.console.log(f9Z + m),l.zd=p,l);break;case 18:var P0v="Thres";P0v+="ho";P0v+="ld policy s";P0v+="elected str";P0v+="eam 0 (no feasible streams).";c.u && g.console.log(P0v);return l;break;case 7:p=k[m];F6h=6;break;case 9:U7QY0.T$6(7);var W3H=U7QY0.F8S(1,0);m=k.length - W3H;F6h=8;break;case 20:var N0l=". Sk";N0l+="i";N0l+="ppi";N0l+="ng";N0l+=".";var T8q="Cann";T8q+="ot obta";T8q+="in t";T8q+="put sta";T8q+="ts for stream ";c.u && g.console.log(T8q + m + N0l);F6h=10;break;case 19:l.zd=k[0];F6h=18;break;case 2:var o0m="P";o0m+="l";o0m+="ayba";o0m+="ck st";o0m+="ream selection";var T9d="p";T9d+="layer mi";T9d+="ssing frag";T9d+="ment";T9d+="Index";var b6J="n";b6J+="u";b6J+="m";b6J+="be";b6J+="r";var f11="Must h";f11+="ave at lea";f11+="st ";f11+="one selec";f11+="ted stream";(0,n.assert)(m,f11);(0,n.assert)(b6J === typeof l.ef,T9d);c.u && g.console.log(o0m);l=new g.Dg(m);k=k.first;F6h=9;break;case 6:F6h=p.sb && p.sb.ob?14:20;break;case 12:F6h=v?11:10;break;case 14:var J7k=", fea";J7k+="si";J7k+="bl";J7k+="e=";var T5J=",";T5J+=" thres";T5J+="hold=";var Z$T=",";Z$T+=" b";Z$T+="itrate";Z$T+="=";var P04=": ";P04+="t";P04+="h";P04+="roughp";P04+="ut=";var j49="S";j49+="t";j49+="ream";j49+=" ";(r=p.sb.ob.Da,q=h.CKc,u=p.bitrate,v=u < r - q);c.u && g.console.log(j49 + m + P04 + r + Z$T + u + T5J + q + J7k + v);F6h=12;break;}}};return e;break;}}})(t.dy);b["default"]=t;},3082:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.D1b=b.dba=void 0;d=a(21875)["default"];b.dba={first:function(){return a(58223)["default"];},random:function(){return a(14087)["default"];},optimized:function(){return a(80588)["default"];},roundrobin:function(){return a(3447)["default"];},selectaudio:function(){return a(46263)["default"];},selectaudioadaptive:function(){return a(70753)["default"];},"default":function(){return a(80588)["default"];},lowest:function(){return a(4272)["default"];},highest:function(){return a(63499)["default"];},throughputthreshold:function(){return a(56186)["default"];},replay:function(){return a(52255)["default"];},checkdefault:function(){return a(32966)["default"];},livesimple:function(){return a(65114)["default"];},testscript:function(){return d;}};b.D1b=["selectaudio","selectaudioadaptive"];},20880:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jbb=void 0;t=(function(){function a(d){this.dA=[];this.dA.push(d);}Object.defineProperties(a.prototype,{P:{get:function(){return this.dA[0].P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.dA.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Efc:{get:function(){var d;return null !== (d=this.XWb) && void 0 !== d?d:this.XWb=this.dA.reduce(function(n,c){return n + c.length;},0);},enumerable:!1,configurable:!0}});a.prototype.HW=function(d){return this.dA[d].fg;};a.prototype.x7=function(d){return this.dA[d].sizes;};a.prototype.add=function(d){this.dA.push(d);};a.prototype.jjc=function(d){var c;for(var n=0;0 <= d;){c=this.dA[n];if(d < c.length)break;n++;d-=c.length;}return [n,d];};return a;})();b.jbb=t;},95591:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.zCa=void 0;d=a(22970);n=a(91562);a(52571);a(13550);t=(function(){function c(g,f,e,h){this.fg=g;this.sizes=f;this.P=e;this.length=Math.min(g.length,f.length);this.Ne=h;}Object.defineProperties(c.prototype,{ka:{get:function(){return void 0 !== this.Ne?this.Ne:this.Ne=this.iWb();},enumerable:!1,configurable:!0}});c.prototype.subarray=function(g,f){return new c(this.fg.subarray(g,f),this.sizes.subarray(g,f),this.P);};c.prototype.concat=function(){var e,h;for(var g=[],f=0;f < arguments.length;f++)g[f]=arguments[f];f=[this];g=f.concat.apply(f,d.__spreadArray([],d.__read(g),!1));f=g.reduce(function(l,k){return l + k.length;},0);e=new Uint32Array(f);h=new Uint32Array(f);f=g[0].P;g.reduce(function(l,k){n.jDa.set(e,k.fg,l);n.jDa.set(h,k.sizes,l);return l + k.length;},0);return new c(e,h,f);};c.prototype.iWb=function(){for(var g=this.sizes,f=this.length,e=0,h=0;h < f;++h)e+=g[h];return e;};return c;})();b.zCa=t;},75498:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.dy=void 0;d=a(32966);t=(function(){function n(c){this.aA=c;}n.prototype.tv=function(c,g,f,e,h,l,k,m){return this.Af(c,g,f,e,!!h,!!l,k,m);};n.prototype.Lp=function(c,g,f,e,h,l,k,m){return this.Af(c,g,f,e,h,l,k,m);};n.prototype.BFb=function(c,g,f,e,h,l,k,m){return this.Lp(c,g,f,e,h,l,k,m);};n.prototype.AFb=function(c,g,f,e,h,l,k,m){return this.Af(c,g,f,e,h,l,k,m);};n.prototype.ajb=function(c,g,f,e,h,l){return (0,d.hB)(c,g,f,e,h,l);};return n;})();b.dy=t;},16096:function(t,b,a){var n,c,g,f,e,h,l,k,m,p,r,q,u;function d(v){v.forEach(function(w){return w.Pr=!1;});}Object.defineProperties(b,{__esModule:{value:!0}});b.K2=void 0;n=a(22970);c=n.__importStar(a(17267));g=a(66164);f=a(91176);a(97685);e=a(65161);h=a(62156);l=n.__importDefault(a(29340));k=a(33923);a(52571);m=a(8149);p=a(3082);r=a(35479);q=a(44284);u=a(13550);new g.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");t=(function(){var b31;b31=2;for(;b31 !== 19;){switch(b31){case 2:Object.defineProperties(v.prototype,{yF:{get:function(){var t0d;t0d=2;for(;t0d !== 1;){switch(t0d){case 2:return this.MM;break;case 4:return this.MM;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{AX:{get:function(){var E3l;E3l=2;for(;E3l !== 1;){switch(E3l){case 2:return this.NM;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{AQa:{get:function(){var y1i,w,x;y1i=2;for(;y1i !== 5;){switch(y1i){case 2:return Math.max(null !== (w=this.yF) && void 0 !== w?w:0,null !== (x=this.AX) && void 0 !== x?x:0);break;}}},enumerable:!1,configurable:!0}});v.prototype.yk=function(){var U1Y;U1Y=2;for(;U1Y !== 1;){switch(U1Y){case 2:return this.tl;break;case 4:return this.tl;break;}}};v.prototype.zGb=function(w){var Y82;Y82=2;for(;Y82 !== 1;){switch(Y82){case 2:this.tl=w;Y82=1;break;}}};v.prototype.KZ=function(w,x,y,A,z,B,C){var S9K,N,I,L,O,J,D,F,H,E,G,K,Y_s;S9K=2;for(;S9K !== 21;){switch(S9K){case 1:d(x.first);(N=this.ERa(G,w,x.first),I=N.zJa);N=N.KLa;S9K=3;break;case 6:(0,m.Xj)(K[0]) && (this.tl.qP=(0,u.qP)(w,K[0].track.Yk.G,G,this.tl.qP));(L=x.ZKc(),O=I?(0,k.XXa)(I):void 0);y=A.call(this.Hq,G,w,L,O,!!z,N,y,this.tl.qP);y=n.__assign(n.__assign({},y),{zd:null === (J=y.zd) || void 0 === J?void 0:J.yf});S9K=10;break;case 2:(H=null === w || void 0 === w?void 0:w.buffer,E=g.platform.time.na(),G=this.config,K=x.first);S9K=1;break;case 25:S9K=Y_s === e.Wb.gi?24:23;break;case 23:S9K=22;break;case 26:A=this.Hq.BFb;S9K=6;break;case 18:w.QV && J && (0,l.default)(this.hUa(J,H,w,E),y);return y;break;case 16:S9K=Y_s === e.Wb.Df?15:27;break;case 3:w.state === e.Wb.Oo && (this.NM=this.MM=void 0);void 0 !== A && this.S$(x,w.state,w.buffer,A);S9K=8;break;case 27:S9K=Y_s === e.Wb.Fl?26:25;break;case 8:Y_s=w.state;S9K=Y_s === e.Wb.Oo?7:16;break;case 7:A=this.Hq.tv;S9K=6;break;case 22:A=this.Hq.Af;S9K=6;break;case 10:y.Lg=w.state;S9K=20;break;case 24:A=this.Hq.AFb;S9K=6;break;case 20:S9K=(J=y.zd)?19:18;break;case 15:A=this.Hq.Lp;S9K=6;break;case 19:var h_1="pl";h_1+="a";h_1+="ying";var H$j="min_f";H$j+="ragm";H$j+="ent_vmaf";(this.tl.rR(J),this.sRa(x.first,J,H.uk - H.Xc),y.mK=J.ob || 0,y.sb=J.sb,y.reason && (J.ut=y.reason,H$j !== y.reason && (J.xWa=y.Ms,J.eX=y.eX,J.zOa=null === (D=y.sb) || void 0 === D?void 0:D.wU,J.AOa=null === (F=y.sb) || void 0 === F?void 0:F.Jk)),x=this.FRa(K,J,H,w,C,z),y.kn=x || y.kn,I && !N && J.bitrate < I.bitrate && (this.MM=H.ul),w.state !== e.Wb.bg && w.state !== e.Wb.gi?(I=(0,h.LBb)(w.state),B=this.hB(w.buffer,I,w.playbackRate,J,B),(y.Sl=B.complete)?y.pHa=B.reason:(y.Sl=!1,y.CK=B.CK,y.k9=B.k9,y.progress=B.progress)):(y.Sl=!0,y.pHa=h_1));S9K=18;break;}}};v.prototype.hB=function(w,x,y,A,z){var L_j;L_j=2;for(;L_j !== 1;){switch(L_j){case 2:return this.Hq.ajb(w,x,y,(0,k.XXa)(A),z,this.config);break;}}};b31=7;break;case 7:v.prototype.UHb=function(w,x,y){var u70;u70=2;for(;u70 !== 1;){switch(u70){case 2:c.Ts(x)?this.MM=this.NM=void 0:x.bitrate < y.bitrate && (this.NM=w);u70=1;break;}}};v.prototype.S$=function(w,x,y,A){var Q7l,z,B,C;Q7l=2;for(;Q7l !== 5;){switch(Q7l){case 2:z=this;w.$ka(function(D){var m_9;m_9=2;for(;m_9 !== 1;){switch(m_9){case 2:z.rW(D,function(F){var C96;C96=2;for(;C96 !== 1;){switch(C96){case 2:F.Us && F.sb && F.sb.confidence?(B !== F.sb && (B=F.sb,C=A(F.sb,y,x,F.track.O.MJ[e.v.X])),F.ob=Math.floor(C.lower) || 1,F.bca=Math.floor(C.upper || 1) || 1):F.ob=z.config.U$b;C96=1;break;}}});m_9=1;break;}}});Q7l=5;break;}}};v.prototype.FRa=function(w,x,y,A,z,B){var e9Z,C;e9Z=2;for(;e9Z !== 4;){switch(e9Z){case 2:e9Z=this.v$?1:4;break;case 1:C=(0,f.oc)(w,function(D,F){var M9N=U7QY0;var F1j;F1j=2;for(;F1j !== 1;){switch(F1j){case 2:M9N.T$6(13);var X77=M9N.F8S(19,0,0,19);return w[F - X77] === x;break;case 4:M9N.x0M(7);var g$L=M9N.F8S(5,2);return w[F % g$L] !== x;break;}}}) || x;return this.v$.frb({gI:y.uk - y.Xc,oib:y.Vp || 0,mib:y.nw || 0,Xc:y.Xc,Kwb:w[0],zd:x,JKb:C,dJb:w[w.length - 1],Lg:A.state,playbackRate:A.playbackRate,ef:A.ef,GO:z,Ap:B});break;}}};v.prototype.hUa=function(w,x,y,A){var p1y,E,z,B,C,D,F,H;p1y=2;for(;p1y !== 17;){switch(p1y){case 3:D.eCb=E;p1y=9;break;case 6:D.Oq=w && void 0 !== H && !isNaN(H) && 0 <= H && H < w.length?w.Mr(H):x.ul;D.Fzb=F && F.ob && F.ob.Da || 0;D.vHa=x.uk - x.Xc;D.vib=x.Vp;D.MBb=null !== (C=null === (B=null === (z=g.platform.Xic) || void 0 === z?void 0:z.call(g.platform)) || void 0 === B?void 0:B[y.mediaType === e.v.V?1:0]) && void 0 !== C?C:-1;D.mk=y && y.mk;p1y=20;break;case 5:E=[];H.forEach(function(G){var N$N,K;N$N=2;for(;N$N !== 4;){switch(N$N){case 2:K=G.stat;K=(G=F[G.filter]) && G[K];E.push(isNaN(K)?-1:K);N$N=4;break;}}});p1y=3;break;case 20:D.zv=A;D.zG=g.platform.time.na();return D;break;case 9:D.ul=x.ul;H=y && y.ef;w=w.La;p1y=6;break;case 1:p1y=F && H && 0 < H.length?5:9;break;case 2:(D={},F=w.sb,H=this.config.lFa);p1y=1;break;}}};b31=12;break;case 20:return v;break;case 12:v.prototype.ERa=function(w,x,y){var p6r,A,z,B;p6r=2;for(;p6r !== 4;){switch(p6r){case 2:(A=!1,z=(null === x || void 0 === x?void 0:x.buffer).La,B=z.length);(x=0 < B && x.state !== e.Wb.Oo?z[B - 1].stream:this.tl.qj)?-1 === y.indexOf(x) && (x=(0,q.Orb)(y,x.bitrate,x.Ob),A=!0,w.dzb && this.tl.qj && -1 !== y.indexOf(this.tl.qj) && (A=!1)):A=!0;return {zJa:x,KLa:A};break;}}};v.prototype.sRa=function(w,x,y){var a9h,A,z;a9h=2;for(;a9h !== 12;){switch(a9h){case 2:a9h=1;break;case 1:a9h=this.config.gnb?5:4;break;case 8:a9h=w[y - 1] === x && (null === (A=w[y].La) || void 0 === A || !A.length)?7:6;break;case 5:w.forEach(function(B){var p9P;p9P=2;for(;p9P !== 1;){switch(p9P){case 2:return B.Pr=!B.La || !B.La.length;break;}}});a9h=12;break;case 7:w[y].Pr=!0;a9h=12;break;case 4:a9h=this.config.jHb && y > this.config.YX && !x.xa && w.every(function(B){var y3E;y3E=2;for(;y3E !== 1;){switch(y3E){case 4:return -B.Pr;break;case 2:return !B.Pr;break;}}})?3:12;break;case 14:w[y].Pr=!0;a9h=12;break;case 3:U7QY0.x0M(23);var u_6=U7QY0.F8S(19,15,20,19,285);y=w.length - u_6;a9h=9;break;case 13:--y;a9h=9;break;case 9:a9h=0 <= y?8:12;break;case 6:a9h=w[y + 1] === x && (null === (z=w[y].La) || void 0 === z || !z.length)?14:13;break;}}};v.prototype.rW=function(w,x){var U8K,y;U8K=2;for(;U8K !== 3;){switch(U8K){case 5:x(w[y],y,w);U8K=4;break;case 1:U8K=0 <= y?5:3;break;case 4:--y;U8K=1;break;case 2:U7QY0.T$6(11);var x9i=U7QY0.S7f(4,5,0);y=w.length - x9i;U8K=1;break;}}};b31=20;break;}}function v(w,x,y,A){var S1$,z;S1$=2;for(;S1$ !== 6;){switch(S1$){case 2:this.GFb=w;this.config=x;S1$=4;break;case 4:var t4h="d";t4h+="efa";t4h+="u";t4h+="l";t4h+="t";var K17="1";K17+="SIY";K17+="bZrNJ";K17+="Cp";K17+="9";this.tl=y;K17;w || (w=x.Zsa);this.Hq=new ((p.dba[w] || p.dba[t4h])())(this);A && (this.v$=new r.uT(x,null === (z=y.track) || void 0 === z?void 0:z.mediaType));S1$=6;break;}}}})();b.K2=t;},44284:function(t,b,a){var n,c,g,f;function d(e,h,l){var k;k=(0,c.Ql)(e,function(m){return l && m.Ob?m.Ob > l:m.bitrate > h;});k=0 < k?k - 1:0 === k?0:e.length - 1;return e[k];}Object.defineProperties(b,{__esModule:{value:!0}});b.bya=b.dDa=void 0;b.Orb=d;n=a(22970);c=a(91176);g=a(33923);t=(function(){function e(){this.gA=[];}Object.defineProperties(e.prototype,{first:{get:function(){var h;return null === (h=this.gA[0]) || void 0 === h?void 0:h.De;},enumerable:!1,configurable:!0}});e.prototype.qN=function(h){this.gA.push({De:h});};e.prototype.$ka=function(h){this.gA.forEach(function(l,k){return h(l.De,k);});};e.prototype.INa=function(h,l,k){var m,p,r,q,u,v,w;m=k;p=l;r=0;q=[];u=this.first[h];v=u.Ob;w=u.bitrate;this.gA.forEach(function(x,y){var A,z;x=x.De;0 >= m || (y=0 === y?u:d(x,w,v),x=null === (A=y.La) || void 0 === A?void 0:A.pja(p,m),A=null !== (z=null === x || void 0 === x?void 0:x.blocks) && void 0 !== z?z:0,r+=A,q.push({stream:y,blocks:A,ef:p}),null === x || void 0 === x?!0:!x.nZ) || (p=0,m-=x.nZ);});return {VXa:q,PYa:r};};e.prototype.ZKc=function(){var h,l;h=new f();l=this.gA.map(function(k){var m;m=k.De.map(function(p){return (0,g.XXa)(p);});return n.__assign(n.__assign({},k),{De:m});});h.ZGc(l);return h;};return e;})();b.dDa=t;f=(function(){function e(){this.gA=[];}Object.defineProperties(e.prototype,{first:{get:function(){var h;return null === (h=this.gA[0]) || void 0 === h?void 0:h.De;},enumerable:!1,configurable:!0}});e.prototype.qN=function(h){this.gA.push({De:h});};e.prototype.$ka=function(h){this.gA.forEach(function(l,k){return h(l.De,k);});};e.prototype.ZGc=function(h){this.gA=n.__spreadArray([],n.__read(h),!1);};e.prototype.INa=function(h,l,k){var m,p,r,q,u,v,w;m=k;p=l;r=0;q=[];u=this.first[h];v=u.Ob;w=u.bitrate;this.gA.forEach(function(x,y){var A,z;x=x.De;0 >= m || (y=0 === y?u:d(x,w,v),x=null === (A=y.La) || void 0 === A?void 0:A.pja(p,m),A=null !== (z=null === x || void 0 === x?void 0:x.blocks) && void 0 !== z?z:0,r+=A,q.push({stream:y,blocks:A,ef:p}),null === x || void 0 === x?!0:!x.nZ) || (p=0,m-=x.nZ);});return {VXa:q,PYa:r};};e.prototype.toJSON=function(){return {};};return e;})();b.bya=f;},31485:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Dbb=void 0;d=a(22970);n=a(91176);t=(function(){function c(g,f){this.console=g;this.events=f;this.$Xa=!1;}c.prototype.Tw=function(){return this.$Xa;};c.prototype.Hf=function(g){void 0 === g.RTa?this.bnb(g.oi,g.uB,{networkErrorCode:g.RF,httpCode:g.Vj,nativeCode:g.Xg,viewableId:g.J,temporaryFailure:!!g.vYa,server:g.Eb}):this.tDc(g.RTa);};c.prototype.tDc=function(g){var f;this.bnb(g.message,void 0,d.__assign(d.__assign({},g.GI),{err:n.P0.EO(null === (f=g.GI) || void 0 === f?void 0:f.context,{includeStack:!1})}));};c.prototype.bnb=function(g,f,e){void 0 === f && (f=void 0);void 0 === e && (e={});this.$Xa || (e.temporaryFailure || (this.$Xa=!0),g=d.__assign({type:"error",error:null !== f && void 0 !== f?f:"NFErr_MC_StreamingFailure",errormsg:g,temporaryFailure:!1},e),this.console.error("notifyStreamingError:",g),this.events.emit("error",g));};return c;})();b.Dbb=t;},82149:function(t,b,a){var n,c,g,f;function d(e){return function(){for(var h=Array(this.length),l=0;l < this.length;++l)h[l]=e.call(this,l);return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.cDa=b.icb=void 0;b.KJ=d;b.$Vc=function(e){return ("[").concat(Array(e.length).map(function(h,l){return e[l].toString();}).join(","),"]");};n=a(91176);t=a(66164);c=a(52571);g=new t.platform.Console("FRAGMENTS","media|asejs");f=(function(){function e(h,l){this.Dj=h;this.Oh=l;}Object.defineProperties(e.prototype,{index:{get:function(){return this.Oh;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{sa:{get:function(){return new n.I(this.tb,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{za:{get:function(){return new n.I(this.Ib,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Rb:{get:function(){return new n.I(this.AI,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{tb:{get:function(){return this.Dj.nha + this.Dj.JH[this.Oh];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ib:{get:function(){return this.tb + this.Dj.iy[this.Oh];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{AI:{get:function(){return this.Dj.iy[this.Oh];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ea:{get:function(){return this.Dj.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{P:{get:function(){return this.Dj.P;},enumerable:!1,configurable:!0}});e.prototype.toJSON=function(){return {startPts:1E3 * this.tb / this.Ea.P,endPts:1E3 * this.Ib / this.Ea.P,duration:1E3 * this.AI / this.Ea.P,index:this.index};};return e;})();b.icb=f;a=(function(){function e(h,l,k,m){this.mediaType=h;this.length=k.fg.length;this.Ab=k.P;this.iy=k.fg;this.Oha=m && m.TY;this.Bgb=m && m.DZ;this.$r=l;this.jZa=this.kZa=void 0;this.nha=k.xt;this.JH=new Uint32Array(this.length + 1);if(this.length){for(l=h=0;l < this.length;++l)(this.JH[l]=h,h+=this.iy[l]);this.JH[l]=h;this.RDa=Math.floor((this.xg - this.Db) / this.length);}}Object.defineProperties(e.prototype,{xt:{get:function(){return this.DHb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{RKa:{get:function(){return this.DHb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Db:{get:function(){return this.Mr(0);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{xg:{get:function(){return this.Mr(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{lb:{get:function(){return new n.I(this.xt,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ub:{get:function(){return new n.I(this.RKa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ea:{get:function(){return this.$r;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{P:{get:function(){return this.Ab;},enumerable:!1,configurable:!0}});e.prototype.DHb=function(h){return this.nha + this.JH[h];};e.prototype.Mr=function(h){return Math.floor(1E3 * (this.nha + this.JH[h]) / this.P);};e.prototype.yka=function(h){return this.Mr(h + 1);};e.prototype.fg=function(h){return this.yka(h) - this.Mr(h);};e.prototype.get=function(h){return new f(this,h);};e.prototype.$E=function(h,l,k){if(0 === this.length || h < this.Mr(0))return -1;h=Math.max(h,l || 0);for(var m=0,p=this.length - 1,r,q;p >= m;)if((r=m + (p - m >> 1),q=this.Mr(r),h < q))p=r - 1;else if(h >= q + this.fg(r))m=r + 1;else {for(;l && r < this.length && this.Mr(r) < l;)++r;return r < this.length?r:k?this.length - 1:-1;}return k?this.length - 1:-1;};e.prototype.uLa=function(h,l,k){h=this.$E(h,l,k);return 0 <= h?this.get(h):void 0;};e.prototype.pja=function(h,l){var k,m,p;k=Math.floor(l * this.P / 1E3);m=Math.min(h + Math.ceil(l / this.RDa),this.length);p=this.JH[m] - this.JH[h];if(p >= k){for(;p >= k;)(--m,p-=this.iy[m]);return {blocks:Math.max(m - h + 1,0),nZ:0};}for(;p < k && m <= this.length;)(l-=p || 0,p+=this.iy[m],++m);return {blocks:Math.max(m - h - 1,0),nZ:l};};e.prototype.subarray=function(h,l){(0,c.assert)(void 0 === h || 0 <= h && h < this.length);(0,c.assert)(void 0 === l || l > h && l <= this.length);return new e(this.mediaType,this.Ea,{P:this.P,xt:this.nha + this.JH[h],fg:this.iy.subarray(h,l)},this.Oha && ({TY:this.Oha.subarray(h,l + 1),DZ:this.Bgb}));};e.prototype.forEach=function(h){for(var l=0;l < this.length;++l)h(this.get(l),l,this);};e.prototype.map=function(h){for(var l=[],k=0;k < this.length;++k)l.push(h(this.get(k),k,this));return l;};e.prototype.reduce=function(h,l){for(var k=0;k < this.length;++k)l=h(l,this.get(k),k,this);return l;};e.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.RDa};};e.prototype.dump=function(){var l;g.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.RDa + "ms");for(var h=0;h < this.length;++h){l=this.get(h);g.trace(("TrackFragments: ").concat(h,": [").concat(l.sa.G,"-").concat(l.za.G,"]"));}};return e;})();b.cDa=a;d(a.prototype.Mr);d(a.prototype.yka);d(a.prototype.fg);},11862:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.P2=void 0;t=(function(){function a(d){this.sy=d;}Object.defineProperties(a.prototype,{kX:{get:function(){return this.nXb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.sy;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oEc:{get:function(){var d;d=this;return this.sy.then(function(){return d;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.nXb=!0;};a.prototype.aK=function(d,n){var c;c=this;this.result.then(function(g){c.kX?n && n(g):d(g);});return this;};return a;})();b.P2=t;},85858:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},25218:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},52571:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(c,g){var f;if(!c){f=new n(g || "Assertion failed");a(8171).Gv.console.error("Assertion failed",{value:c,message:g,stack:f.stack});throw f;}};d=a(22970);n=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);return g;})(Error);},62156:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.LBb=function(n){switch(n){case d.Wb.Df:n=d.Dd.Df;break;case d.Wb.Fl:n=d.Dd.Fl;break;case d.Wb.Oo:case d.Wb.by:case d.Wb.Lfa:n=d.Dd.by;break;default:n=d.Dd.Po;}return n;};d=a(65161);},2499:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$4b=function(a,d){var n;void 0 === d && (d=Math.random);if("number" !== typeof a || !isFinite(a))throw new TypeError("alpha must be a finite number");if(0 > a || 1 < a)throw new RangeError("alpha must be in [0, 1]");d=d();if(!(0 <= d && 1 > d)){if(1 === d)return 1;throw new RangeError("rng() must return a value in [0, 1)");}n=1 - a / 2;if(d < a / (2 * n))return (a=Math.sqrt(2 * a * d * n),1 >= a?a:1);a=a / 2 + d * n;return 1 >= a?a:1;};},17122:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Sfa=void 0;t=a(90745);d=a(91176);a=a(85254);n=(function(){function c(g){void 0 === g && (g={Oi:!1,currentTime:d.I.fa,speed:1});this.state={Oi:function(){return "function" === typeof g.Oi?g.Oi():g.Oi;},currentTime:function(){return "function" === typeof g.currentTime?g.currentTime():g.currentTime;},speed:function(){return "function" === typeof g.speed?g.speed():g.speed;}};}Object.defineProperties(c.prototype,{Oi:{get:function(){return this.state.Oi();},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{currentTime:{get:function(){return this.state.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{speed:{get:function(){return this.state.speed();},enumerable:!1,configurable:!0}});return c;})();b.Sfa=n;(0,a.wl)(t.EventEmitter,n);},79994:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.N$b=function(a){return JSON.parse(JSON.stringify(a));};},99735:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.a2a=void 0;d=a(22970);a(52571);t=(function(){function n(c,g){this.$d=c;this.cV=g;this.XD();}Object.defineProperties(n.prototype,{length:{get:function(){return this.zH;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{empty:{get:function(){return 0 === this.zH;},enumerable:!1,configurable:!0}});n.prototype.Ofc=function(){return this.vW && this.vW.get(0);};n.prototype.W1b=function(){return this.back && this.back.get(this.back.length - 1);};n.prototype.get=function(c){0 > c && (c+=this.length);for(var g=0;g < this.$d.length;++g)if(this.xf[g + 1] > c)return this.$d[g].get(c - this.xf[g]);};n.prototype.push=function(c){this.$d[this.cV(c)].push(c);this.XD();return this.zH;};n.prototype.shift=function(){var c;if(this.vW){c=this.vW.shift();this.XD();return c;}};n.prototype.pop=function(){var c;if(this.back){c=this.back.pop();this.XD();return c;}};n.prototype.unshift=function(c){this.$d[this.cV(c)].unshift(c);this.XD();return this.zH;};n.prototype.Ps=function(c){var g;g=this.cV(c);this.$d[g].Ps(c);this.XD();};n.prototype.remove=function(c){var g;g=this.$d.some(function(f){return f.remove(c);});g && this.XD();return g;};n.prototype.splice=function(c,g){var p,r,q,u;for(var f,e=[],h=2;h < arguments.length;h++)e[h - 2]=arguments[h];h=[];for(var l,k=c + Math.max(0,g),m=0;m < this.$d.length;++m){p=this.$d[m];r=this.xf[m];q=this.xf[m + 1];if(c < q){u=c - r;r=Math.min(k - r,p.length);void 0 === l && 0 < u && r < p.length?Array.prototype.push.apply(h,p.splice.apply(p,d.__spreadArray([u,r - u],d.__read(e),!1))):(Array.prototype.push.apply(h,p.splice(u,r - u)),void 0 === l && (l=0 < m && 0 === u?m - 1:m));c=q;if(c >= k)break;}}if(e.length && void 0 !== l){for(k=this.cV(e[0]);0 < l && k < l && this.$d[l].empty;)--l;for(;e.length && k === l;){this.$d[l].push(e.shift());if(!e.length)break;k=this.cV(e[0]);}for(;e.length && ++l < this.$d.length && this.$d[l].empty;)for(;e.length && k === l;){this.$d[l].push(e.shift());if(!e.length)break;k=this.cV(e[0]);}e.length && (f=this.$d[l]).splice.apply(f,d.__spreadArray([0,0],d.__read(e),!1));}this.XD();return h;};n.prototype.find=function(c){var g,f;g=this;return this.$d.some(function(e,h){f=e.find(g.MH(c,h));return void 0 !== f;})?f:void 0;};n.prototype.findIndex=function(c){var f;for(var g=0;g < this.$d.length;++g){f=this.$d[g].findIndex(this.MH(c,g));if(-1 !== f)return f + this.xf[g];}return -1;};n.prototype.indexOf=function(c){var f;for(var g=0;g < this.$d.length;++g){f=this.$d[g].indexOf(c);if(-1 !== f)return f + this.xf[g];}return -1;};n.prototype.map=function(c){var g,f;g=this;f=this.$d.map(function(e,h){return e.map(g.MH(c,h));});return Array.prototype.concat.apply([],f);};n.prototype.reduce=function(c,g){var f;f=this;return this.$d.reduce(function(e,h,l){return h.reduce(f.oZb(c,l),e);},g);};n.prototype.forEach=function(c){var g;g=this;this.$d.forEach(function(f,e){f.forEach(g.MH(c,e));});};n.prototype.rW=function(c){for(var g=this.$d.length - 1;0 <= g;--g)this.$d[g].rW(this.MH(c,g));};n.prototype.some=function(c){var g;g=this;return this.$d.some(function(f,e){return f.some(g.MH(c,e));});};n.prototype.HXa=function(c){for(var g=this.$d.length - 1;0 <= g;--g)if(this.$d[g].HXa(this.MH(c,g)))return !0;return !1;};n.prototype.every=function(c){var g;g=this;return this.$d.every(function(f,e){return f.every(g.MH(c,e));});};n.prototype.jfc=function(c,g){var k,m;function f(p){return p.reduce(function(r,q,u,v){return void 0 === q?r:void 0 === r?u:0 > c(q,v[r])?u:r;},void 0);}for(var e=this,h=this.$d.map(function(){return 0;}),l=this.$d.filter(function(p){return p.empty;}).length;l < this.$d.length;){k=h.map(function(p,r){return p < e.$d[r].length?e.$d[r].get(p):void 0;});m=f(k);g(k[m],this.xf[m] + h[m],this);++h[m];h[m] === this.$d[m].length && ++l;}};n.prototype.move=function(c){return this.remove(c)?(this.Ps(c),!0):!1;};n.prototype.qHc=function(){var c;if(this.$d[1].length){c=this.$d[1].shift();this.$d[0].push(c);this.XD();}};n.prototype.Eob=function(c){for(var g=-1,f=0;f < this.$d.length;++f)if((g=c(this.$d[f]),-1 !== g)){g+=this.xf[f];break;}return g;};n.prototype.toJSON=function(){return this.map(function(c){return c.toJSON();});};n.prototype.XD=function(){var g;this.zH=0;this.xf=[0];this.back=this.vW=void 0;for(var c=0;c < this.$d.length;++c){g=this.$d[c];this.zH+=g.length;this.xf.push(this.xf[this.xf.length - 1] + g.length);!this.vW && g.length && (this.vW=g);g.length && (this.back=g);}};n.prototype.MH=function(c,g){var f,e;f=this;e=this.xf[g];return function(h,l){return c(h,e + l,f);};};n.prototype.oZb=function(c,g){var f,e;f=this;e=this.xf[g];return function(h,l,k){return c(h,l,e + k,f);};};return n;})();b.a2a=t;},72697:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.J0=void 0;d=a(48170);n=a(52571);t=(function(){function c(g,f){this.sA=g;this.Ii=f;this.window=Math.floor((g + f - 1) / f);this.reset();}c.prototype.shift=function(){this.Gg.shift();this.times.shift();};c.prototype.vr=function(g){return this.Cib(this.Gg[g],g);};c.prototype.update=function(g,f){this.Gg[g]=(this.Gg[g] || 0) + f;};c.prototype.push=function(){this.Gg.push(0);this.times.push(0);this.time+=this.Ii;};c.prototype.add=function(g,f,e){var h,l,k;if(null === this.time){h=Math.max(Math.floor((e - f + this.Ii - 1) / this.Ii),1);for(this.time=f;this.Gg.length < h;)this.push();}for(;this.time <= e;)(this.push(),this.Gg.length > this.window && this.shift());if(null === this.ss || f < this.ss)this.ss=f;if(f > this.time - this.Ii)this.update(this.Gg.length - 1,g);else if(f === e)(h=this.Gg.length - Math.max(Math.ceil((this.time - e) / this.Ii),1),0 <= h && this.update(h,g));else for(h=1;h <= this.Gg.length;++h){l=this.time - h * this.Ii;k=l + this.Ii;if(!(l > e)){if(k < f)break;this.update(this.Gg.length - h,Math.round(g * (Math.min(k,e) - Math.max(l,f)) / (e - f)));}}for(;this.Gg.length > this.window;)this.shift();};c.prototype.start=function(g){null === this.ss && (this.ss=g);null === this.time && (this.time=g);};c.prototype.stop=function(g){var f,e;if(null !== this.time)if(g - this.time > 10 * this.sA)this.reset();else {for(;this.time <= g;)(this.push(),this.Gg.length > this.window && this.shift());f=this.Gg.length - Math.ceil((this.time - g) / this.Ii);e=this.Gg.length - Math.ceil((this.time - this.ss) / this.Ii);d.u && (0,n.assert)(f >= e,"end index must be after start index");if(0 <= f)if((0 > e && (this.ss=this.time - this.Ii * this.Gg.length,e=0),e === f))this.times[e]+=g - this.ss;else if(f > e)for((this.times[e]+=(this.time - this.ss) % this.Ii,this.times[f]+=this.Ii - (this.time - g) % this.Ii,g=e + 1);g < f;++g)this.times[g]=this.Ii;this.ss=null;}};c.prototype.Cib=function(g,f){f=this.bMa(f);return 0 === f?null:8 * g / f;};c.prototype.bMa=function(g){var f;f=this.times[g];null !== this.ss && (g=this.time - (this.Gg.length - g - 1) * this.Ii,g > this.ss && (f=g - this.ss <= this.Ii?f + (g - this.ss):this.Ii));return f;};c.prototype.get=function(g,f){var e,h;e=this.Gg.map(this.Cib,this);if("last" === g)for(g=0;g < e.length;++g)null === e[g] && (e[g]=0 < g?e[g - 1]:0);else if("average" === g){f=1 - Math.pow(.5,1 / ((f || 2E3) / this.Ii));h=void 0;for(g=0;g < e.length;++g)null === e[g]?e[g]=Math.floor(h || 0):h=void 0 !== h?f * e[g] + (1 - f) * h:e[g];}return e;};c.prototype.reset=function(){this.Gg=[];this.times=[];this.ss=this.time=null;};c.prototype.setInterval=function(g){this.window=Math.floor((g + this.Ii - 1) / this.Ii);};return c;})();b.J0=t;},93559:function(t,b,a){var n;function d(c,g,f){var e,l,k;if(c === g || !f.Rp && c == g)return !0;if(typeof c !== typeof g)return !1;if(c && "object" === typeof c){for(var h in c)if(!d(c[h],g[h],f))return !1;if(!f.J4b){l=Object.keys(c);k=Object.keys(g).filter(function(q){return 0 > l.indexOf(q);});try{for(var m=n.__values(k),p=m.next();!p.done;p=m.next())if((h=p.value,!d(c[h],g[h],f)))return !1;}catch(q){var r;r={error:q};}finally{try{p && !p.done && (e=m.return) && e.call(m);}finally{if(r)throw r.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.MJa=function(c,g){var f;void 0 === f && (f={});f=n.__assign({Rp:!1,J4b:!1},f);return d(c,g,f);};n=a(22970);},68157:function(t,b){function a(d){var n,c;n=Math.abs(d);c=1 / (1 + n / 2);n=c * Math.exp(-n * n - 1.26551223 + c * (1.00002368 + c * (.37409196 + c * (.09678418 + c * (-.18628806 + c * (.27886807 + c * (-1.13520398 + c * (1.48851587 + c * (-.82215223 + .17087277 * c)))))))));return 0 <= d?n:2 - n;}Object.defineProperties(b,{__esModule:{value:!0}});b.h6=a;b.Mmc=function(d){var n,c,f;if(2 <= d)return -100;if(0 >= d)return 100;n=1 > d?d:2 - d;c=Math.sqrt(-2 * Math.log(n / 2));c=-.70711 * ((2.30753 + .27061 * c) / (1 + c * (.99229 + .04481 * c)) - c);for(var g=0;2 > g;g++){f=a(c) - n;c+=f / (1.1283791670955126 * Math.exp(-(c * c)) - c * f);}return 1 > d?c:-c;};b.zYc=function(d){return 1 - a(d);};},30285:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.H3a=void 0;d=a(22970);t=(function(){function c(g,f){void 0 === f && (f={});this.Es=g;this.options=f;this.vO=[];this.oP=new n(g,this.f_b.bind(this));}c.prototype.f_b=function(g){for(var f,e,h,l,k,m,p=[],r=1;r < arguments.length;r++)p[r - 1]=arguments[r];p={Eu:g,Qm:p};if(null !== (h=null === (e=(f=this.options).HHc) || void 0 === e?void 0:e.call(f,p,this.vO)) && void 0 !== h?h:1)(f=p,this.options.C3c && (f=JSON.parse(JSON.stringify(p))),this.vO.push(f));return null !== (m=null === (k=(l=this.options).B3c) || void 0 === k?void 0:k.call(l,p)) && void 0 !== m?m:!0;};c.prototype.paa=function(g){this.vO=this.vO.filter(function(f,e){return !g(f,e);});};c.prototype.yVa=function(){var g;g=this;this.oP.lZa();this.vO.forEach(function(f){var e;(e=g.Es).emit.apply(e,d.__spreadArray([f.Eu],d.__read(f.Qm),!1));});this.oP.Ttb();};Object.defineProperties(c.prototype,{length:{get:function(){return this.vO.length;},enumerable:!1,configurable:!0}});c.prototype.clear=function(){this.vO=[];};c.prototype.Ja=function(){this.clear();this.oP.lZa();this.options=void 0;};return c;})();b.H3a=t;n=(function(){function c(g,f){this.Es=g;this.Gy=f;this.pAb=this.Es.emit;this.W8b();this.Ttb();}c.prototype.W8b=function(){var g;g=this;this.oP=function(f){for(var e,h,l=[],k=1;k < arguments.length;k++)l[k - 1]=arguments[k];return (null === (h=g.Gy) || void 0 === h?0:h.call.apply(h,d.__spreadArray([g,f],d.__read(l),!1)))?(e=g.pAb).call.apply(e,d.__spreadArray([g.Es,f],d.__read(l),!1)):!1;};};c.prototype.Ttb=function(){this.oP && (this.Es.emit=this.oP);};c.prototype.lZa=function(){this.Es.emit=this.pAb;};c.prototype.Ja=function(){this.lZa();this.Gy=this.oP=void 0;};return c;})();},66412:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.L0b=function(c,g){return (0,n.Cpa)(c,{toJSON:function(){var f;f=d.__assign({},c);g.forEach(function(e){delete f[e];});return f;}});};d=a(22970);n=a(54520);},32201:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(68157);t=(function(){function n(c,g){this.Da=c;this.Zf=g;}n.prototype.Oib=function(c){return .5 * (0,d.h6)(-(c - this.Da) / Math.sqrt(2 * this.Zf));};n.prototype.EQ=function(c){return this.Da - Math.sqrt(2 * this.Zf) * (0,d.Mmc)(2 * c);};return n;})();b["default"]=t;},82475:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hOa=function(a){return ("( ").concat(a.L,", ").concat(a.offset.ba()," )");};},6783:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ws=function(c,g,f,e){var h,l,k,r,q,u;void 0 === e && (e={});k=n.I.max(f,n.I.fa);try{for(var m=d.__values(Object.keys(c.$)),p=m.next();!p.done;p=m.next()){r=p.value;q=c.$[r];if(q.J === g){u=n.I.Ca(q.cb);if(k.pf(u) && (!isFinite(null !== (l=q.ib) && void 0 !== l?l:NaN) || k.lessThan(n.I.Ca(q.ib))))return {L:r,offset:f.ca(u)};}}}catch(w){var v;v={error:w};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(v)throw v.error;}}if(e.mFb && (q=Object.keys(c.$).map(function(w){return {key:w,K:c.$[w]};}).filter(function(w){return w.K.J === g;}).map(function(w){var x,y;x=n.I.abs(f.ca(n.I.Ca(w.K.cb)));if(w.K.ib && isFinite(w.K.ib)){y=n.I.abs(f.ca(n.I.Ca(w.K.ib)));x=n.I.min(x,y);}return d.__assign(d.__assign({},w),{vw:x});}),q.sort(function(w,x){return w.vw.G - x.vw.G;}),u=d.__read(q,1)[0]))return (q=u.K,e=u.key,u=n.I.Ca(q.cb),{L:e,offset:f.ca(u)});};d=a(22970);n=a(91176);},71460:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.R4a=void 0;t=(function(){function a(d,n,c){var g,f,e;this.xb=n;this.nb=c;this.kfb=d;g=this.jfb=this.zdb=this.ydb=0;f=0;e=0;this.kfb.length >= this.xb.gyb && (this.kfb.forEach(function(h){g+=h.avtp;f+=1 * h.neuhd;e++;}),this.jfb=e,this.ydb=g / e,this.zdb=f / e);}a.prototype.zoc=function(){return this.jfb >= this.xb.gyb && this.ydb >= this.xb.Zhb.bwThreshold && this.zdb < this.xb.Zhb.nethreshold;};return a;})();b.R4a=t;},69575:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.MTb=b.IPb=void 0;t=a(22970);t.__exportStar(a(65167),b);t.__exportStar(a(55971),b);t.__exportStar(a(1727),b);t.__exportStar(a(61113),b);t.__exportStar(a(79994),b);t.__exportStar(a(93559),b);t.__exportStar(a(24635),b);t.__exportStar(a(48912),b);t.__exportStar(a(62291),b);d=t.__importDefault(a(32201));b.IPb=d.default;a=t.__importDefault(a(16514));b.MTb=a.default;},51117:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.wea=void 0;d=a(68157);t=(function(){function n(c,g){this.cSa=c;this.Zf=g;0 < g?(this.yvb=g=Math.pow(c,3) / g,c=2 * g / c,500 >= c && (this.mLa=Math.exp(c))):this.mLa=0;}n.prototype.Oib=function(c){var g,f,e;g=this.cSa;f=this.mLa;if(f && 0 < c){e=Math.sqrt(this.yvb / (2 * c));g=c / g;c=(0,d.h6)(e * (g - 1));e=(0,d.h6)(e * (g + 1));return Math.max((2 - c + f * e) / 2,0);}return c < g?0:c > g?1:.5;};n.prototype.EQ=function(c,g,f){for(var e=0,h=this.cSa + 5 * Math.sqrt(this.Zf),l=1,k=0;Math.abs(l) > g && f--;)(k=(e + h) / 2,l=this.Oib(k),l=c - l,0 > l?h=k:e=k);return k;};n.prototype.l4b=function(c){var g,f,e,h;g=this.cSa;f=this.mLa;if(f && 0 < c){e=Math.sqrt(this.yvb / (2 * c));h=c / g;c=2 - (0,d.h6)(e * (h - 1));f*=(0,d.h6)(e * (h + 1));return [Math.max((c + f) / 2,0),Math.max(g * (c - f) / 2,0)];}return c < g?[0,0]:c > g?[1,g]:[.5,g / 2];};return n;})();b.wea=t;},62291:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Uwb=function(c,g){var f,e,h,l,k,m,p,r;p=null === (f=g.K) || void 0 === f?void 0:f.id;c || (c=g.pt);r=0;g.ma && g.gP && c && c.forEach(function(q){r+=q.byteLength;});return {sa:g.sa.ca(g.stream.wh?g.stream.ee:d.I.fa).add((0,n.Xj)(g.stream)?g.stream.ml.Rc(g.stream.P):d.I.fa),Rb:g.Rb,Db:null === (e=g.Pb) || void 0 === e?void 0:e.G,duration:(null === (h=g.Mb) || void 0 === h?NaN:h.G) - (null === (l=g.Pb) || void 0 === l?NaN:l.G),offset:g.offset,ka:r || g.ka,bitrate:g.bitrate,profile:g.profile,gf:!!g.gf,J:null === (k=g.O) || void 0 === k?void 0:k.J,L:p,Jb:g.Jb,Qc:g.Qc,location:g.location,ti:g.ti,Oq:null === (m=g.sa) || void 0 === m?void 0:m.G,kl:{Ba:{K:{id:p || "unknown"}}}};};d=a(91176);n=a(8149);},42194:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.xib=void 0;d=a(50599);n=a(65044);b.xib=function(){return function(c){var e,h,l,k;function g(m){k[m]=function(p){return h({rules:[{Fk:m,config:p}]},!0);};}function f(m){e[m]=function(p){return h({rules:[{Fk:m,config:p}]});};}e={};h=(0,d.map)(c.jxb);for(l in c.BZ)f(l);e.SF=h({rules:[],BGa:!0});e.Rp=h({rules:[],Rp:!0});k={};for(l in c.BZ)g(l);k.SF=h({rules:[],BGa:!0},!0);k.Rp=h({rules:[],Rp:!0},!0);e.return=k;return {LJa:e,XVa:c,KUa:function(m,p,r,q){return (0,n.glb)(m,p,r,c.BZ,c.jxb,q);}};};};},50599:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.TEb=b.Rqb=b.map=void 0;d=a(22970);a(1738);b.map=function(n){return function(c,g){void 0 === g && (g=!1);return function(f,e,h){var l,k,m,p;l=Reflect.erb(n,f,e) || ({});m="number" === typeof h;p=g;(k=m?(l.zb || ({}))[h] || ({}):p?l.return:l.PRa) || (k={rules:[]});k=d.__assign(d.__assign(d.__assign({},k),c),{rules:d.__spreadArray(d.__spreadArray([],d.__read(k.rules || []),!1),d.__read(c.rules || []),!1)});m?(l.zb || (l.zb={}),l.zb[h]=k):p?l.return=k:l.PRa=k;Reflect.Mja(n,l,f,e);};};};b.Rqb=function(n){return function(c,g){var f,e,h,l;c=null !== (l=null !== (e=null === (f=c.__proxyCtor) || void 0 === f?void 0:f.prototype) && void 0 !== e?e:null === (h=null === c || void 0 === c?void 0:c.constructor) || void 0 === h?void 0:h.prototype) && void 0 !== l?l:c;for(var k;c && void 0 === k;)(k=Reflect.erb(n,c,g),c=c.__proto__);return k;};};b.TEb=function(){return function(){return function(n){return n;};};};},65044:function(t,b,a){var f,e,h,l,k;function d(m,p){if(m)return Object.getOwnPropertyDescriptor(m,p)?m:d(m.prototype,p) || d(m.__proto__,p);}function n(m,p){if(m=d(m,p))return Object.getOwnPropertyDescriptor(m,p);}function c(m,p){var u;for(var r=Object.getPrototypeOf(m),q=[];r !== Object.prototype;)(q=q.concat(Object.getOwnPropertyNames(r)),r=Object.getPrototypeOf(r));m=Object.keys(m).concat(q);p.__proxyCtor || (p.__proxyCtor=void 0);u=Object.getPrototypeOf(p);m.forEach(function(v){Object.getOwnPropertyDescriptor(p,v) || Object.getOwnPropertyDescriptor(u,v) || p[v] || Object.defineProperty(p,v,{get:function(){},configurable:!0,enumerable:!0});});}function g(m,p,r,q){var w;for(var u=[],v=4;v < arguments.length;v++)u[v - 4]=arguments[v];w=q();if((null === w || void 0 === w?0:w.PRa) || (null === w || void 0 === w?0:w.zb))u=u.map(function(x,y){var A;y=(0,k.Pxb)(w.PRa,null === (A=w.zb) || void 0 === A?void 0:A[y]);return (0,l.Rra)(p,x,r,y);});u=m.call.apply(m,f.__spreadArray([void 0],f.__read(u),!1));return (null === w || void 0 === w?0:w.return)?(0,l.Rra)(p,u,r,w.return,h.vD.HG):u;}Object.defineProperties(b,{__esModule:{value:!0}});b.glb=void 0;b.PXc=c;b.jZc=g;f=a(22970);e=a(50599);h=a(49165);l=a(87561);k=a(28867);b.glb=function(m,p,r,q,u,v){var w,x;void 0 === v && (v=[]);w={};x=(0,e.Rqb)(u);c(p,m);v.forEach(function(y){return c(y,m);});return new Proxy(m,{get:function(y,A){var z,B,C,D;if("__proxyCtor" === A)return m[A] || m.constructor;if((A in p)){C=p[A];return "function" === typeof C?C.bind(p):C;}D=w[A];if(!D && !n(w,A)){D=null !== (B=null === (z=null === y || void 0 === y?void 0:y.constructor) || void 0 === z?void 0:z.prototype) && void 0 !== B?B:y;z=null !== (C=d(D,A)) && void 0 !== C?C:d(D.__proxyCtor,A);C=n(D,A);if(null === C || void 0 === C?0:C.get)return (C=C.get,z=x.bind(null,z,A),y=g.bind(y,C.bind(y),r,q,z),Object.defineProperty(w,A,{get:y,enumerable:!0,configurable:!0}),y());C=y[A];return "function" === typeof C?(z=x.bind(null,y,A),y=g.bind(y,C.bind(y),r,q,z),w[A]=y):C;}return D;},set:function(y,A,z){if((A in p))return (p[A]=z,!0);y[A]=z;delete w[A];return !0;}});};},49165:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.vD={};t[t.HG=0]="up";t[t.YN=1]="down";},87561:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rra=void 0;d=a(22970);n=a(52571);c=a(49165);b.Rra=function(g,f,e,h,l,k){var m,p;void 0 === l && (l=c.vD.YN);m=g();if(h && m){p=h.BGa;g=h.Rp;h=h.rules.map(function(r){return ["function" === typeof r.Fk?r.Fk(e):e[r.Fk],r.config];});p || (0,n.assert)(f,"Param is null");k && h.push([{map:k,wE:function(){return !0;}},void 0]);k=h.filter(function(r){r=d.__read(r,2);return r[0].wE(f,m,r[1]);});g && (0,n.assert)(k.length,("No rules matched for ").concat(f));if(k.length)return k.reduce(function(r,q){q=d.__read(q,2);return q[0].map(r,l,m,q[1]);},f);}return f;};},28867:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Pxb=void 0;d=a(22970);n=a(91176);b.Pxb=function(c,g){var f;if(c || g){f=(null === c || void 0 === c?0:c.rules) && (null === g || void 0 === g?0:g.rules)?(0,n.q4)(c.rules,g.rules):(null === c || void 0 === c?void 0:c.rules) || (null === g || void 0 === g?void 0:g.rules);return d.__assign(d.__assign(d.__assign({},c),g),{rules:f});}};},55971:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.d8a=void 0;d=a(22970);n=a(91176);c=a(52571);t=(function(){function g(){this.data={};}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){var f;f=this;return Object.keys(this.data).reduce(function(e,h){return e + f.data[h].length;},0);},enumerable:!1,configurable:!0}});g.prototype.get=function(f){return this.data[f] || [];};g.prototype.has=function(f,e){return (f=this.data[f])?void 0 === e?!0:-1 !== f.indexOf(e):!1;};g.prototype.count=function(f){return (f=this.data[f])?f.length:0;};g.prototype.keys=function(){return Object.keys(this.data);};g.prototype.values=function(){var f;f=this;return (0,n.flatten)(this.keys().map(function(e){return f.data[e];}));};g.prototype.set=function(f,e){(this.data[f] || (this.data[f]=[])).push(e);return this;};g.prototype.clear=function(){this.data={};};g.prototype.delete=function(f,e){var h,l;h=this.data[f];if(void 0 === h)return !1;if(void 0 === e)return ((0,c.assert)(1 === arguments.length),delete this.data[f],!0);l=h.indexOf(e);if(-1 === l)return !1;1 === h.length?delete this.data[f]:h.splice(l,1);return !0;};g.prototype.forEach=function(f,e){var h;h=this;f=void 0 !== e?f.bind(e):f;this.keys().forEach(function(l){return h.data[l].forEach(function(k){return f(k,l,h);});});};g.prototype.reduce=function(f,e,h){var l,k;l=this;f=void 0 !== h?f.bind(h):f;k=e;this.forEach(function(m,p){k=f(k,m,p,l);});return k;};g.prototype.map=function(f,e){var h;h=this;f=void 0 !== e?f.bind(e):f;return (0,n.flatten)(this.keys().map(function(l){return h.data[l].map(function(k){return f(k,l,h);});}));};g.prototype.filter=function(f,e){var h;h=this;f=void 0 !== e?f.bind(e):f;return (0,n.flatten)(this.keys().map(function(l){return h.data[l].filter(function(k){return f(k,l,h);});}));};g.prototype[Symbol.iterator]=function(){var f,e,h,l,k,m,p,r,q,u,v,w,x,y;return d.__generator(this,function(A){switch(A.label){case 0:(f=this.keys(),A.label=1);case 1:(A.qc.push([1,12,13,14]),e=d.__values(f),h=e.next(),A.label=2);case 2:if(h.done)return [3,11];l=h.value;k=this.get(l);A.label=3;case 3:(A.qc.push([3,8,9,10]),m=(x=void 0,d.__values(k)),p=m.next(),A.label=4);case 4:if(p.done)return [3,7];r=p.value;return [4,r];case 5:(A.S(),A.label=6);case 6:return (p=m.next(),[3,4]);case 7:return [3,10];case 8:return (q=A.S(),x={error:q},[3,10]);case 9:try{p && !p.done && (y=m.return) && y.call(m);}finally{if(x)throw x.error;}return [7];case 10:return (h=e.next(),[3,2]);case 11:return [3,14];case 12:return (u=A.S(),v={error:u},[3,14]);case 13:try{h && !h.done && (w=e.return) && w.call(e);}finally{if(v)throw v.error;}return [7];case 14:return [2];}});};return g;})();b.d8a=t;},54520:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Cpa=void 0;d=a(22970);n=a(22970);b.Cpa=function(c){for(var g=[],f=1;f < arguments.length;f++)g[f - 1]=arguments[f];return n.__assign.apply(void 0,d.__spreadArray([c],d.__read(g),!1));};},7675:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Evc=function(a){var d,n;d={};for(n in a)d[a[n]]=n;return d;};},77399:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Fnc=function(n,c){var h,l,k,m,p,r,q,w,x,y,A,z,B,C;for(var g,f,e=0;e < n.length;e++){h=d.__read(c,3);l=h[0];k=h[1];m=h[2];p=d.__read(n[e],3);r=p[0];h=p[1];q=p[2];if(!(l >= h)){l=[l,Math.min(h,k),r,h].filter(function(D,F,H){return H.indexOf(D) === F;}).sort(function(D,F){return D - F;});r=l.length - 1;p=Array(r);m+=q;try{for(var u=(g=void 0,d.__values([c,n[e]])),v=u.next();!v.done;v=u.next()){w=d.__read(v.value,3);x=w[0];y=w[1];A=w[2];q=y - x;for(c=0;c < r;c++){z=l[c + 1];B=Math.min(z,y) - Math.max(l[c],x);if(0 < B){C=B * A / q;m-=C;p[c]=p[c]?p[c] + C:C;}if(y <= z)break;}}}catch(D){g={error:D};}finally{try{v && !v.done && (f=u.return) && f.call(u);}finally{if(g)throw g.error;}}q=[];for(c=0;c < r;c++)(A=p[c],0 < A && q.push([l[c],l[c + 1],A]));n.splice.apply(n,d.__spreadArray([e,1],d.__read(q),!1));if(h < k)c=[h,k,m];else return;}}c && 0 < c[2] && n.splice(n.length,0,c);};d=a(22970);},16514:function(t){function b(a){this.HXb=a;this.fN=[];this.LH=!1;this.zFa=void 0;this.xq={};}b.prototype.Fha=function(a){this.fN.length === this.HXb && this.fN.shift();Array.isArray(a)?this.fN=this.fN.concat(a):this.fN.push(a);this.LH=!0;};b.prototype.v7=function(){return this.fN.length;};b.prototype.S4=function(a){var d,n,c;if(this.LH || void 0 === this.zFa)(this.zFa=this.fN.slice(0).sort(function(g,f){return g - f;}),this.xq={},this.LH=!1);if(void 0 === this.xq[a]){d=this.zFa;n=Math.floor(a / 100 * (d.length - 1) + 1) - 1;c=(a / 100 * (d.length - 1) + 1) % 1;this.xq[a]=n === d.length - 1?d[n]:d[n] + c * (d[n + 1] - d[n]);}return this.xq[a];};t.exports=b;},28600:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.YEb=function(n,c){n=d.platform.storage.get(n);return c?c(n):n;};d=a(66164);},29254:function(t,b){var n,c,g;function a(f){return void 0 !== (null === f || void 0 === f?void 0:f.tdb);}function d(f){return (a(f)?f:Object.defineProperties(f,{tdb:{value:{},configurable:!1,enumerable:!1}})).tdb;}Object.defineProperties(b,{__esModule:{value:!0}});b.QBa=void 0;c=null !== (n=Number.MAX_SAFE_INTEGER) && void 0 !== n?n:1E9;g=Date.now() % c;t=(function(){function f(){this.id=g=(g + 1) % c;}f.prototype.get=function(e){return a(e)?d(e)[this.id]:void 0;};f.prototype.set=function(e,h){d(e)[this.id]=h;return this;};f.prototype.has=function(e){return a(e) && void 0 !== d(e)[this.id];};f.prototype.delete=function(e){if(!this.has(e))return !1;d(e)[this.id]=void 0;return !0;};return f;})();b.QBa=t;},59458:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YCb=function(a,d,n){void 0 === n && (n={});a=Math.random() * (d - a) + a;return n.Mnc?n.fnc?Math.round(a):Math.floor(a):a;};},1936:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.rUb=void 0;d=a(66164);n=a(8171);c=["","",""];t=(function(){function g(f){this.request=f;this.complete=this.append=this.Wka=this.SQa=this.open=0;}Object.defineProperties(g.prototype,{console:{get:function(){return n.Gv.CB(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qZ:{get:function(){var f;return null === (f=this.request.Rb) || void 0 === f?void 0:f.G;},enumerable:!1,configurable:!0}});g.prototype.Cwc=function(){this.open=d.platform.time.na();};g.prototype.rwc=function(){this.SQa=d.platform.time.na();this.trace();};g.prototype.nwc=function(){this.Wka=d.platform.time.na();this.trace();};g.prototype.aK=function(){this.complete=d.platform.time.na();this.trace();};g.prototype.trace=function(){var f;f=("RequestLedger ID: ").concat(this.request.ti());f+=(" load-open: ").concat(this.SQa - this.open);0 < this.Wka && (" firstbyte-load: ").concat(this.Wka - this.SQa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.Wka);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),f=this.request.mediaType,this.qZ && this.complete - this.open > this.qZ?((" duration: ").concat(this.qZ),c[f]+="X"):c[f]+=".",10 < c[f].length && (c[f]=c[f].slice(1)));};return g;})();b.rUb=t;},61113:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.hbb=b.gbb=void 0;d=a(91176);t=(function(){function n(c){this.bb=c;this.listeners=[];this.r$=[];}Object.defineProperties(n.prototype,{value:{get:function(){return this.bb;},enumerable:!1,configurable:!0}});n.prototype.set=function(c){var g;this.bb=c;g=this.r$;this.r$=[];this.listeners.forEach(function(f){return f(c);});g.forEach(function(f){return f(c);});};n.prototype.uEb=function(){this.bb=void 0;};n.prototype.on=function(c){this.listeners=this.listeners.concat([c]);void 0 !== this.bb && c(this.bb);};n.prototype.once=function(c){void 0 !== this.bb?c(this.bb):this.r$.push(c);};n.prototype.mm=function(c){this.listeners=this.listeners.filter(function(g){return g !== c;});this.r$=this.r$.filter(function(g){return g !== c;});};return n;})();b.gbb=t;t=(function(){function n(){this.listeners=[];}n.prototype.on=function(c,g){this.listeners.push({signal:c,listener:g});c.on(g);};n.prototype.once=function(c,g){var f,e;f=this;if(void 0 === c.value){e=function(h){f.remove(c,g);g(h);};this.listeners.push({signal:c,listener:g,VLb:e});c.once(e);}else c.once(g);};n.prototype.mm=function(c,g){var f;f=(0,d.oc)(this.listeners,function(e){return e.signal === c && e.listener === g;});void 0 !== f && c.mm(f.VLb || f.listener);this.remove(c,g);};n.prototype.removeAllListeners=function(){this.listeners.forEach(function(c){var g;g=c.listener;return c.signal.mm(c.VLb || g);});this.listeners=[];};n.prototype.remove=function(c,g){this.listeners=this.listeners.filter(function(f){return f.signal !== c || f.listener !== g;});};return n;})();b.hbb=t;},94258:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.GD=void 0;d=a(91176);Object.defineProperties(b,{GD:{enumerable:!0,get:function(){return d.GD;}}});},24635:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Eg=void 0;d=a(91176);Object.defineProperties(b,{Eg:{enumerable:!0,get:function(){return d.Eg;}}});},35536:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.oH=void 0;d=a(91176);Object.defineProperties(b,{oH:{enumerable:!0,get:function(){return d.oH;}}});},94451:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jYa=void 0;b.jYa=function(a){return a.reduce(function(d,n){return d + n;},0);};},40666:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.O_=b.JT=b.AT=b.Hl=b.qH=b.HT=b.Ud=b.G2=b.tM=b.ZS=b.flatten=void 0;d=a(91176);Object.defineProperties(b,{flatten:{enumerable:!0,get:function(){return d.flatten;}}});Object.defineProperties(b,{ZS:{enumerable:!0,get:function(){return d.ZS;}}});Object.defineProperties(b,{tM:{enumerable:!0,get:function(){return d.tM;}}});Object.defineProperties(b,{G2:{enumerable:!0,get:function(){return d.G2;}}});Object.defineProperties(b,{Ud:{enumerable:!0,get:function(){return d.Ud;}}});Object.defineProperties(b,{HT:{enumerable:!0,get:function(){return d.HT;}}});Object.defineProperties(b,{qH:{enumerable:!0,get:function(){return d.qH;}}});Object.defineProperties(b,{Hl:{enumerable:!0,get:function(){return d.Hl;}}});Object.defineProperties(b,{AT:{enumerable:!0,get:function(){return d.AT;}}});Object.defineProperties(b,{JT:{enumerable:!0,get:function(){return d.JT;}}});Object.defineProperties(b,{O_:{enumerable:!0,get:function(){return d.O_;}}});},1727:function(t,b,a){var n,c;function d(g,f,e){var h;void 0 === e && (e={});h=n.__assign(n.__assign({},c),e);return g.filter(function(l){var k;k=l.Mb;l=l.Pb;return !!l && l.gn(f) && (!h.Zjb || k.pf(f));});}Object.defineProperties(b,{__esModule:{value:!0}});b.Nob=function(g,f,e){void 0 === e && (e={});return d(g,f,e).pop();};b.NYc=d;b.zob=function(g,f,e){return g.filter(function(h){var l;l=h.Mb;h=h.Pb;return !!h && !!l && (h.pf(f) && h.gn(e) || l.pf(f) && l.gn(e) || h.gn(f) && l.pf(e));});};n=a(22970);c={Zjb:!1};},61520:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.cga=void 0;b.GAc=function(g,f){var e;e="";g.LI(function(h,l,k,m){e+=("").concat(Array(m + 1).join("-")).concat(f(h),"\n");return !0;});return e;};a(22970);a(91176);d=a(48170);n=a(29254);c=a(52571);t=(function(){function g(){this.T=new n.QBa();}Object.defineProperties(g.prototype,{empty:{get:function(){return !this.EC;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{root:{get:function(){var f;return null === (f=this.EC) || void 0 === f?void 0:f.value;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{values:{get:function(){var f;f=[];this.LI(function(e){return !!f.push(e);});return f;},enumerable:!1,configurable:!0}});g.prototype.has=function(f){return !!this.T.get(f);};g.prototype.parent=function(f){var e;f=this.T.get(f);d.u && (0,c.assert)(f,"Attempted to find the parent of a node not in the tree");return null === (e=null === f || void 0 === f?void 0:f.parent) || void 0 === e?void 0:e.value;};g.prototype.children=function(f){f=this.T.get(f);d.u && (0,c.assert)(f,"Attempted to find the children of a node not in the tree");return (null === f || void 0 === f?0:f.children)?f.children.map(function(e){return e.value;}):[];};g.prototype.oma=function(f){f=this.T.get(f);d.u && (0,c.assert)(f,"Attempted to find the children of a node not in the tree");return void 0 !== (null === f || void 0 === f?void 0:f.children) && 0 < f.children.length;};g.prototype.add=function(f,e){var h;d.u && (0,c.assert)(!this.T.get(f),"Attempted to add a value to tree that is already present");h={value:f};void 0 === this.EC?(d.u && (0,c.assert)(void 0 === e,"a parent cannot be specified when the tree is empty"),this.EC=h):(d.u && (0,c.assert)(void 0 !== e,"a parent must be specified when the tree is non-empty"),e=this.T.get(e),d.u && (0,c.assert)(e,"Parent value does not exist in tree"),this.jia(h,e));this.T.set(f,h);return this;};g.prototype.remove=function(f){f=this.T.get(f);d.u && (0,c.assert)(f,"Attempted to remove a node not in the tree");this.removeNode(f);return this;};g.prototype.removeNode=function(f){var e;e=this;this.NLa(function(h){return e.T.delete(h);},f.value);void 0 === f.parent?this.EC=void 0:this.detach(f);};g.prototype.move=function(f,e){f=this.T.get(f);e=this.T.get(e);d.u && (0,c.assert)(f,"cannot move a value that is not in the tree");d.u && (0,c.assert)(e,"cannot move a value to a parent value not in the tree");d.u && (0,c.assert)(null === f || void 0 === f?void 0:f.parent,"cannot move the root node");d.u && (0,c.assert)(!this.Xnc(f,e),"cannot move a node below itself or one of its decendants");f.parent !== e && (this.detach(f),this.jia(f,e));return this;};g.prototype.nDc=function(f){var e,h;e=this;f=this.T.get(f);d.u && (0,c.assert)(f,"cannot replant at a value that is not in the tree");h=[];this.detach(f);this.NLa(function(l){e.T.delete(l);h.unshift(l);return !0;});this.EC=f;};g.prototype.clear=function(){this.EC && this.remove(this.EC.value);return this;};g.prototype.clone=function(){var f;f=new g();this.LI(function(e,h){f.add(e,h);return !0;});return f;};g.prototype.cpb=function(f,e){var h,l;h=this;f=this.T.get(f);d.u && (0,c.assert)(f,"cannot iterate children of a value not in the tree");null === (l=f.children) || void 0 === l?void 0:l.forEach(function(k){return e(k.value,h);});};g.prototype.nIc=function(f,e){var h,l;h=this;f=this.T.get(f);d.u && (0,c.assert)(f,"cannot iterate children of a value not in the tree");return !(null === (l=f.children) || void 0 === l || !l.some(function(k){return e(k.value,h);}));};g.prototype.LI=function(f){this.dpb(f,void 0);};g.prototype.dpb=function(f,e,h,l){var k;k=this;void 0 === l && (l=0);d.u && (0,c.assert)(!this.empty || void 0 === e,"cannot iterate from a value on an empty tree");this.empty || (e=null !== e && void 0 !== e?e:this.EC.value,f(e,h,this,l) && this.cpb(e,function(m){return k.dpb(f,m,e,l + 1);}));};g.prototype.NLa=function(f,e){var h;h=this;d.u && (0,c.assert)(!this.empty || void 0 === e,"cannot iterate from a value on an empty tree");this.empty || (null !== e && void 0 !== e?e:e=this.EC.value,this.cpb(e,function(l){return h.NLa(f,l);}),f(e,this));};g.prototype.Kob=function(f,e){var h,l;h=this;d.u && (0,c.assert)(!this.empty || void 0 === e,"cannot iterate from a value on an empty tree");if(!this.empty){null !== e && void 0 !== e?e:e=this.EC.value;return this.nIc(e,function(k){return !!(l=h.Kob(f,k));})?l:f(e,this)?e:void 0;}};g.prototype.vmb=function(f){var e,h,l,k;e=this;h=this.values;l=h.filter(function(m){return !f.has(m);});k=f.values.filter(function(m){return !e.has(m);});h=h.filter(function(m){return f.has(m) && e.parent(m) !== f.parent(m);});return {uU:l,ux:k,xVa:h};};g.prototype.compare=function(f){var e,h;f=this.vmb(f);e=f.ux;h=f.xVa;return 0 === f.uU.length && 0 === e.length && 0 === h.length;};g.prototype.jia=function(f,e){f.parent=e;(e.children || (e.children=[])).push(f);};g.prototype.detach=function(f){var e;d.u && (0,c.assert)(f.parent,"cannot detach the root");d.u && (0,c.assert)(void 0 !== f.parent.children,"logic error: parent node does not have children");e=f.parent.children.indexOf(f);(0,c.assert)(0 <= e,"logic error: node does not appear in the children of its parent");f.parent.children.splice(e,1);f.parent=void 0;};g.prototype.Xnc=function(f,e){for(;void 0 !== e;){if(e === f)return !0;e=e.parent;}return !1;};return g;})();b.cga=t;},85254:function(t,b,a){var g,f,e;function d(h){var l,k,m,q;m=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var p=(l=void 0,g.__values(Object.getOwnPropertyNames(h))),r=p.next();!r.done;r=p.next()){q=r.value;-1 === m.indexOf(q) && m.push(q);}}catch(u){l={error:u};}finally{try{r && !r.done && (k=p.return) && k.call(p);}finally{if(l)throw l.error;}}h=Object.getPrototypeOf(h);}return m;}function n(h,l,k,m,p){var r;Object.getOwnPropertyNames(h).filter(function(q){return p(q) && (k || !Object.prototype.hasOwnProperty.call(l,q)) && (m || !((q in l)));}).forEach(function(q){r=Object.getOwnPropertyDescriptor(h,q);void 0 !== r && Object.defineProperty(l,q,r);});}function c(h,l,k,m){var p,r;p=[];k || (p=Object.getOwnPropertyNames(l));m || (p=d(l));r=Object.getPrototypeOf(h);null !== r && r !== Object.prototype && c(r,l,k,m);n(h,l,!0,!0,function(q){return "constructor" !== q && -1 === p.indexOf(q);});}Object.defineProperties(b,{__esModule:{value:!0}});b.mXc=c;b.wl=function(h,l,k,m){void 0 === k && (k=!0);void 0 === m && (m=!0);m || (0,f.assert)(!k);h.prototype?(c(h.prototype,l.prototype,k,m),n(h,l,k,m,function(p){return -1 === e.indexOf(p);})):n(h,l.prototype,k,m,function(p){return -1 === e.indexOf(p);});return l;};g=a(22970);f=a(52571);e=Object.getOwnPropertyNames(Function);},8149:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xj=function(a){return !(null === a || void 0 === a || !a.xa);};b.eo=function(a){return !(null === a || void 0 === a || !a.vc);};b.N_c=function(a){return a.O.vc;};},65167:function(t,b,a){var m,p,r;function d(q){return Array.isArray(q)?q.reduce(function(u,v){return u + v;},0):!1;}function n(q){return Array.isArray(q) && q.length?d(q) / q.length:!1;}function c(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=n(q);return d(q.map(function(v){return (v - u) * (v - u);})) / (q.length - 1);}function g(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=c(q);return Math.sqrt(q);}function f(q,u){if(q.length == u.length && 1 < q.length){for(var v=q.length,w=0,x=d(q),y=d(u),A=0;A < v;A++)w+=q[A] * u[A];return (w - x * y / v) / v;}return !1;}function e(q,u,v){return Math.max(Math.min(q,v),u);}function h(q,u){return "number" === typeof q?q:u;}function l(q){return 1 / (1 + Math.exp(-q));}function k(q,u,v){return q * v + (1 - v) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.tanh=b.rf=void 0;b.Fy=function(q,u,v){var w;if(r){"managerdebugevent" === u && (null === (w=q.trace) || void 0 === w?void 0:w.call(q,"managerdebugevent:",v.message));}if(r)q.emit(u,v);else try{q.emit(u,v);}catch(x){if(q.error)q.error("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",x,"Event:",v);else throw x;}};b.Yh=function(q,u){void 0 !== q && m.Rxc(q).forEach(function(v){u(v[0],v[1]);});};b.Hy=function(){var v;for(var q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];q=Array.prototype.concat.apply([],q);u=q.reduce(function(w,x){return w + x.byteLength;},0);v=new Uint8Array(u);q.reduce(function(w,x){v.set(new Uint8Array(x),w);return w + x.byteLength;},0);return v.buffer;};b.RZc=d;b.tZc=n;b.UZc=c;b.PZc=g;b.wZc=f;b.vZc=function(q,u){var v;if(q.length == u.length){v=f(q,u);q=g(q);u=g(u);if(0 < q && 0 < u)return v / (q * u);}return !1;};b.q3c=function(q){return q.length?"{" + q + "} ":"";};b.Yia=e;b.m5b=function(q,u,v,w){return {min:e(h(q.min,u),v,w),max:e(h(q.max,u),v,w),yE:e(q.yE || 6E4,0,6E5),Sib:e(q.Sib || 0,-3E5,3E5),scale:e(q.scale || 6E4,0,3E5),hFb:e(q.hFb || 0,-3E5,3E5),gamma:e(q.gamma || 1,.1,10)};};b.THc=l;b.ZKa=function(q,u,v){return q.min + (q.max - q.min) * (1 - Math.pow(l(6 * (u - (q.yE + (q.Sib || 0) * (1 - v))) / (q.scale + (q.hFb || 0) * (1 - v))),q.gamma));};b.Adc=function(q,u){return q.min + (q.max - q.min) * Math.pow(l(6 * (u - q.yE) / q.scale),q.gamma);};b.scale=k;b.YEc=function(q,u,v){return {min:k(q.min,u.min,v),max:k(q.max,u.max,v),yE:k(q.yE,u.yE,v),scale:k(q.scale,u.scale,v),gamma:k(q.gamma,u.gamma,v)};};m=a(22970).__importStar(a(17267));p=a(91176);Object.defineProperties(b,{rf:{enumerable:!0,get:function(){return p.rf;}}});r=!1;b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});},444:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.MD=void 0;d=a(91176);t=(function(){function n(c,g){this.XM=c;this.HM=g;this.SEc();}n.from=function(c){return "number" === typeof c?new n(c,1):new n(c.ix,c.xu);};n.ZLa=function(c){return new n(c.P,c.ia);};Object.defineProperties(n.prototype,{ix:{get:function(){return this.XM;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xu:{get:function(){return this.HM;},enumerable:!1,configurable:!0}});n.prototype.Ea=function(){return new d.I(this.HM,this.XM);};n.prototype.equal=function(c){return this.XM === c.XM && this.HM === c.HM;};n.prototype.normalize=function(c){return new d.I(Math.floor((Math.floor(c + 1) * this.ix - 1) / (1E3 * this.xu)) * this.xu,this.ix);};n.prototype.SEc=function(){var c,g,f;c=Math.floor(1E3 * this.XM / this.HM);g=Math.floor(1001 * this.XM / this.HM);f=1E3 * Math.round(c / 1E3);this.XM=f;this.HM=Math.abs(g - f) > Math.abs(c - f)?1E3:1001;};return n;})();b.MD=t;},52629:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.KT=void 0;d=a(91176);b.KT=(function(){return function(n,c){var g;void 0 === c && (c={w:1,Iw:1});this.qn=n;this.FAb=c;g=n.w * c.w;n=n.Iw * c.Iw;c=(0,d.KO)(g,n);this.$A={w:g / c,Iw:n / c};};})();},51044:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.writable=void 0;b.writable=function(a){return a;};},48912:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.KDa=void 0;d=a(66164);t=(function(){function n(c){this.IZ=new Uint16Array(c.length);for(var g=0;g < c.length;++g)this.IZ[g]=c.charCodeAt(g);}n.prototype.encrypt=function(c){for(var g=this.IZ.length,f="",e=0;e < c.length;++e)f+=String.fromCharCode(this.IZ[e % g] ^ c.charCodeAt(e));return encodeURIComponent(f);};n.prototype.decrypt=function(c,g){var f,e;void 0 === g && (g=!1);f=this.IZ.length;e="";if(g)for((c=d.platform.Cja(c),g=new Uint8Array(c),c=0);c < g.length;c++)e+=String.fromCharCode(this.IZ[c % f] ^ g[c]);else for((g=decodeURIComponent(c),c=0);c < g.length;c++)e+=String.fromCharCode(this.IZ[c % f] ^ g.charCodeAt(c));return e;};return n;})();b.KDa=t;},83195:function(t,b,a){var f;function d(){return Object.create(null);}function n(e){this.log=e.log;this.Ia=e.Ia;this.fx=d();this.Promise=e.Promise;this.Qn=e.Qn;this.FG=e.FG;this.LB=e.LB || !1;this.H5=d();this.fB=d();this.DN=d();this.FTa=!1;this.OYb(e);e.Es && (this.Es=e.Es);}function c(e){return "undefined" !== typeof e;}function g(e){var k;for(var h=0,l=arguments.length;h < l;){k=arguments[h++];if(c(k))return k;}}a(85852);f=a(46601);n.prototype.OYb=function(e){this.H5.manifest=g(e.Ndc,f.zO.U);this.H5.ldl=g(e.Mdc,f.zO.P8);this.H5.metadata=g(e.HYc,f.zO.Kd);this.fB.manifest=g(e.h3b,f.fB.U);this.fB.ldl=g(e.g3b,f.fB.P8);this.fB.metadata=g(e.GWc,f.fB.Kd);this.DN.manifest=g(e.EWc,f.DN.U);this.DN.ldl=g(e.DWc,f.DN.P8);this.DN.metadata=g(e.FWc,f.DN.Kd);};n.prototype.I7=function(e,h){this.wu("undefined" !== typeof e);this.wu("undefined" !== typeof h);return !!this.Zdb(e,h,void 0).value;};n.prototype.Zdb=function(e,h,l){var k,m;k={value:null,reason:"",log:""};m=this.fx[h];l=l?l:"DEFAULTCAPS";if("undefined" === typeof m)return (k.log="cache miss: no data exists for field:" + h,k.reason="unavailable",k);"undefined" === typeof m[e]?(k.log="cache miss: no data exists for movieId:" + e,k.reason="unavailable"):(m=m[e][l]) && m.value?this.Rga(m)?(k.log="cache miss: " + h + " data expired for movieId:" + e,k.reason="expired",this.clearData(e,h,l,!1,"expired")):(k.log=this.Promise && m.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + e:"cache hit: " + h + " available for movieId:" + e,k.value=m.value):(k.log="cache miss: " + h + " data not available for movieId:" + e,k.reason="unavailable");return k;};n.prototype.getData=function(e,h,l){this.wu("undefined" !== typeof e);this.wu("undefined" !== typeof h);e=this.Zdb(e,h,l);this.log.trace(e.log);return e.value?this.Promise?e.value instanceof this.Promise?e.value:Promise.resolve(e.value):this.FG?JSON.parse(this.FG(e.value,"gzip",!1)):e.value:this.Promise?Promise.reject(e.reason):e.reason;};n.prototype.setData=function(e,h,l,k,m,p){var r,q,u;this.wu("undefined" !== typeof e);this.wu("undefined" !== typeof h);r=this.fx;q=m?m:"DEFAULTCAPS";r[h] || (r[h]=d(),Object.defineProperty(r[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(r[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));l=this.Qn?this.Qn(JSON.stringify(l),"gzip",!0):l;r=r[h];this.EXb(e,h,q,r);u=this;p=p || this.H5[h] + 1;k={creationTime:this.Ia.getTime(),value:l,size:0,type:h,WJa:k,zO:p,iLa:setTimeout(function(){u.clearData(e,h,q,!1,"expired");},p)};r[e]=r[e] || d();r[e][q]=r[e][q] || d();r[e][q]=k;r.size+=0;r.numEntries++;this.Es && this.Es.emit("addedCacheItem",k);return k;};n.prototype.njb=function(e,h){var l,k,m,p;k=Number.POSITIVE_INFINITY;m=this;Object.keys(e).every(function(r){var q;q=e[r] && e[r][h];q && q.value && m.Rga(q) && (p=r);q && q.value && q.creationTime < k && (k=q.creationTime,l=r);return !0;});return p || l;};n.prototype.EXb=function(e,h,l,k){var m,p,r,q,u;m=k.numEntries;p=this.fB[h];r=k[e] && k[e][l];if(r && r.value)(q=e,u="promise_or_expired");else m >= p && !this.FTa && (q=this.njb(k,l),u="cache_full");this.LB && this.log.debug("makespace ",{maxCount:p,currentCount:k.numEntries,field:h,movieId:e,movieToBeRemoved:q});q && (this.clearData(q,h,l,void 0,u),this.log.debug("removed from cache: ",q,h));};n.prototype.mIa=function(e,h){var l,k;l=this;l.wu("undefined" !== typeof e);k=e + "";h.forEach(function(m){var p;p=l.fx[m];p && Object.keys(p).forEach(function(r){r != k && l.clearData(r,m,void 0,void 0,"clear_all");});});};n.prototype.clearData=function(e,h,l,k,m){var p;this.wu("undefined" !== typeof e);this.wu("undefined" !== typeof h);p=this.fx[h];h=p?p[e]:void 0;l=l?l:"DEFAULTCAPS";if(h && h[l]){p.size-=h[l].size;p.numEntries--;if(p=h && h[l])(clearTimeout(p.iLa),h[l]=void 0,!k && p.WJa && p.WJa());this.Es && (e={creationTime:p.creationTime,destroyFn:p.WJa,size:p.size,type:p.type,value:p.value,reason:m,movieId:e},this.Es.emit("deletedCacheItem",e));}};n.prototype.jKb=function(e,h,l,k){var m,p,r;this.wu("undefined" !== typeof e);this.wu("undefined" !== typeof h);m=this;p=this.fx[h];p=p?p[e]:void 0;r=l?l:"DEFAULTCAPS";l=p && p[r];k=k || this.H5[h] + 1;l && (clearTimeout(l.iLa),l.creationTime=this.Ia.getTime(),l.zO=k,l.iLa=setTimeout(function(){m.clearData(e,h,r,!1,"expired");},k));};n.prototype.flush=function(e){var h;this.wu("undefined" !== typeof e);h=this.fx;h[e]=d();h[e].numEntries=0;h[e].size=0;};n.prototype.xjb=function(){var e,h;this.wu(!1);e=this;h=this.fx;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(l){var k;k=h[void 0][l].DEFAULTCAPS;e.Ia.getTime() - k.creationTime > k.zO && e.clearData(l,void 0,"DEFAULTCAPS",void 0,"clean_up");});};n.prototype.Rga=function(e){return this.Ia.getTime() - e.creationTime > e.zO;};n.prototype.getStats=function(e,h,l){var k,m,p,r,q;k={};m=this;p=m.fx;r=c(e) && c(h);q=l || "DEFAULTCAPS";Object.keys(p).forEach(function(u){var v,w;v=Object.keys(p[u]);w=p[u];v.forEach(function(x){!(x=w && w[x] && w[x][q]) || !c(x.value) || x.value instanceof m.Promise || (k[u]=(k[u] | 0) + 1,m.Rga(x) && (k[u + "_expired"]=(k[u + "_expired"] | 0) + 1),r && x.creationTime >= e && x.creationTime < h && (k[u + "_delta"]=(k[u + "_delta"] | 0) + 1));});});return k;};n.prototype.getState=function(e){var h,l,k,m;h=[];l=this;k=l.fx;m=e || "DEFAULTCAPS";Object.keys(k).forEach(function(p){var r,q;r=Object.keys(k[p]);q=k[p];r.forEach(function(u){var v,w;v=q && q[u] && q[u][m];if(v && c(v.value)){w=l.Rga(v)?"expired":v.value instanceof l.Promise?"loading":"cached";h.push({movieId:u,state:w,type:p,size:v.size});}});});return h;};n.prototype.OGc=function(){this.FTa=!0;};n.prototype.pEc=function(){var e;for(this.FTa=!1;this.fx.manifest.numEntries > this.fB.manifest;){e=this.njb(this.fx.manifest,void 0);this.clearData(e,"manifest",void 0,void 0,"eviction");this.log.debug("removed from cache: ",e,"manifest");this.LB && this.log.debug("makespace ",{maxCount:this.fB.manifest,currentCount:this.fx.manifest.numEntries,field:"manifest",movieToBeRemoved:e});}};n.prototype.wu=function(e){if(!e && (this.log.error("Debug Assert Failed",void 0),this.LB))throw Error("Debug Assert Failed ");};t.exports=n;},46601:function(t){t.exports={zO:{U:12E5,P8:9E5,Kd:12E5},fB:{U:10,P8:10,Kd:10},DN:{U:10240,P8:10240,Kd:10240}};},85852:function(t){function b(a){var d;d=[];return (function g(c){if(c && "object" === typeof c){if(-1 !== d.indexOf(c))return !0;d.push(c);for(var f in c)if(c.hasOwnProperty(f) && g(c[f]))return !0;}return !1;})(a);}t.exports=function(a,d){var c;if(d && b(a))return -1;d=[];a=[a];for(var n=0;a.length;){c=a.pop();if("boolean" === typeof c)n+=4;else if("string" === typeof c)n+=2 * c.length;else if("number" === typeof c)n+=8;else if("object" === typeof c && -1 === d.indexOf(c)){d.push(c);for(var g in c)a.push(c[g]);}}return n;};},43155:function(t,b,a){var n;function d(c){if(c.aborted)throw c.reason;}Object.defineProperties(b,{__esModule:{value:!0}});b.FMb=void 0;b.Zma=function(c){return "AbortError" === (null === c || void 0 === c?void 0:c.name);};b.MIb=d;b.cia=function(c,g){function f(){}void 0 === g && (g=!0);g || (f=function(){d(c);});return new Promise(function(e){var l;function h(){return e();}c.aborted && e();c.addListener?c.addListener("abort",h):null === (l=c.addEventListener) || void 0 === l?void 0:l.call(c,"abort",h);}).then(f);};n=a(22970);t=(function(c){function g(f){f=c.call(this,f) || this;f.name="AbortError";return f;}n.__extends(g,c);return g;})(Error);b.FMb=t;},44510:function(t,b,a){var n,c,g;function d(f){var e;return null !== (e=f.Nlb) && void 0 !== e?e:f.name;}Object.defineProperties(b,{__esModule:{value:!0}});b.Algorithm=void 0;b.Jkb=function(f,e){var h;h=0;return Object.assign(function(l,k){for(var m=[],p=2;p < arguments.length;p++)m[p - 2]=arguments[p];for(p=h;p < f.length;p++)if(f[p].apply(void 0,n.__spreadArray([l,k],n.__read(m),!1))){if((h++,h === f.length))return (h=0,!0);}else break;e.apply(void 0,n.__spreadArray([l,k],n.__read(m),!1)) && (h=0);return !1;},{reset:function(){return h=0;},Nlb:("combinator(").concat(f.map(d).join(", "),")")});};b.H8b=function(f){var l,k,m,p,r,q,u;function e(){null === q || void 0 === q?void 0:q.Ja();q=void 0;u=!1;}function h(){u=!0;q=void 0;}l=f.k6b;k=f.s$b;m=f.Onc;p=void 0 === m?l:m;r=f.cc;u=!1;return Object.assign(function(v,w){for(var x=[],y=2;y < arguments.length;y++)x[y - 2]=arguments[y];u || q || !l.apply(void 0,n.__spreadArray([v,w],n.__read(x),!1)) || (q=r.uu(c.Ud.Kx(g.I.Ca(k)),h));p.apply(void 0,n.__spreadArray([v,w],n.__read(x),!1)) && e();(x=u) && (u=!1);return x;},{reset:e,Nlb:("debounced(").concat(d(l),", ").concat(k,"ms)")});};n=a(22970);c=a(24153);g=a(44847);t=(function(){function f(e,h){this.rules=e;this.store=h.store;this.nNa=h.nNa || (function(){return [];});this.store.addListener("update",this.FK.bind(this));}f.prototype.reset=function(){this.rules.forEach(function(e){var h,l;return null === (l=(h=n.__read(e,1)[0]).reset) || void 0 === l?void 0:l.call(h);});};f.prototype.FK=function(e){var h,l,k,m,p,r,q,u,v,w,A,z;m=e.rx;e=e.next;this.store.xIc();try{p=n.__values(this.rules);r=p.next();a:for(;!r.done;r=p.next()){q=n.__read(r.value,2);u=q[0];v=q[1];w=Array.isArray(v)?v:[v];if(u.apply(void 0,n.__spreadArray([m,e],n.__read(this.nNa()),!1))){try{for(var x=(l=void 0,n.__values(w)),y=x.next();!y.done;y=x.next()){A=y.value;z=null === A || void 0 === A?void 0:A(e,d(u));z && z.reset?this.store.reset(z.hx):z && z.hx && this.store.next(z.hx);if(z && z.B2b)break a;}}catch(C){l={error:C};}finally{try{y && !y.done && (k=x.return) && k.call(x);}finally{if(l)throw l.error;}}e=this.store.value;}}}catch(C){var B;B={error:C};}finally{try{r && !r.done && (h=p.return) && h.call(p);}finally{if(B)throw B.error;}}this.store.$cc();};return f;})();b.Algorithm=t;},27192:function(t,b,a){var g;function d(f){return f.filter(function(e,h){return f.indexOf(e) === h;});}function n(f,e,h){return h?f.filter(function(l){return !e.some(function(k){return h(l,k);});}):f.filter(function(l){return -1 === e.indexOf(l);});}function c(f,e,h){return f.length < e.length?h?c(e,f,function(l,k){return h(k,l);}):c(e,f):h?f.map(function(l,k){return h(l,e[k])?-1:k;}).filter(function(l){return -1 !== l;}):f.map(function(l,k){return l === e[k]?-1:k;}).filter(function(l){return -1 !== l;});}Object.defineProperties(b,{__esModule:{value:!0}});b.oc=function(f,e){for(var h=0;h < f.length;h++)if(e(f[h],h,f))return f[h];};b.LGa=function(f,e){for(var h=f.length - 1;0 <= h;--h)if(e(f[h],h,f))return f[h];};b.Ql=function(f,e){var h;h=-1;return f.some(function(l,k,m){h=k;return e(l,k,m);})?h:-1;};b.ohb=function(f,e){for(var h=f.length - 1;0 <= h;h--)if(e(f[h],h,f))return h;return -1;};b.nhb=d;b.phb=function(f,e){return f.filter(function(h,l){return f.indexOf(h) === l && -1 !== e.indexOf(h);});};b.MGa=function(f,e){e=f.indexOf(e);if(-1 === e)return !1;f.splice(e,1);return !0;};b.Iq=n;b.mhb=c;b.q4=function(f,e){return d(f.concat(e));};b.bXc=function(f){return function(e,h){return f(e) - f(h);};};b.Vtc=function(f){return function(e,h){return f(e) < f(h)?e:h;};};b.flatten=function(f){var e;return (e=[]).concat.apply(e,g.__spreadArray([],g.__read(f),!1));};b.nXc=function(f,e){void 0 === e && (e=function(h){return h;});return f.reduce(function(h,l){l=e(l);return (void 0 === h[l]?h[l]=1:++h[l],h);},{});};b.VZc=function(f,e){return f.reduce(function(h,l){var k;k=e(l);return (void 0 === h[k]?h[k]=[l]:h[k].push(l),h);},{});};b.jzb=function(f){return null !== f && void 0 !== f;};b.O0b=function(f){var e,l;e=[];if(Array.isArray(f))for(var h=0;h < f.length;h++){l=f[h];Array.isArray(l)?e=e.concat(l.filter(function(k){return void 0 !== k;})):void 0 !== l && e.push(l);}return e;};b.T5b=function(f,e,h){var l;l=n(f,e,h);e=n(e,f,h);f=n(f,l);return {oaa:l,Egb:e,Vqa:f,result:f.concat(e)};};g=a(22970);},43529:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.AssertionError=void 0;b.assert=function(c,g){if(!c)throw new n(g || "Assertion failed");};d=a(22970);n=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);return g;})(Error);b.AssertionError=n;},70058:function(t,b,a){var c,g,f,e,h,l,k;function d(m){return m && "function" === typeof m.Hg?!0:!1;}function n(m){return d(m) && (m=typeof m.lX,"boolean" === m || "undefined" === m)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.Hda=b.pda=b.AsyncIterator=void 0;b.APa=d;b.lLa=n;b.map=function(m,p,r){return new k(m,p,r);};b.Yka=function(m,p,r){return new l(m,p,r);};c=a(22970);g=a(32910);e=(function(){function m(p){var r;r=this;this.gXb=p;this.l3=!1;this.xYb=function(q){return r.ZAc(q);};this.Hkb();}m.xna=function(p,r){function q(){var u;u=p.next();u.then(function(v){n(p) && p.lX || r(v);});u.then(function(v){return !v.done && q();});}q();};Object.defineProperties(m.prototype,{tF:{get:function(){return this.l3;},enumerable:!1,configurable:!0}});m.NNa=function(){f || (f=Promise.resolve({done:!0}));return f;};Object.defineProperties(m.prototype,{kX:{get:function(){return this.Gd || !1;},enumerable:!1,configurable:!0}});m.prototype.Hg=function(){this.cancel();};m.prototype.cancel=function(){this.NY();this.Gd=!0;return this.NHa;};m.prototype.next=function(){return this.Gd?this.NHa:Promise.race([this.NHa,this.gXb()]).then(this.xYb);};m.prototype.ZAc=function(p){p.done && (this.l3=!0,this.Hg());this.kX || (this.NY(),this.Hkb());return p;};m.prototype.Hkb=function(){var p;p=this;this.NHa=new Promise(function(r){p.NY=function(){return r({done:!0});};});};return m;})();b.AsyncIterator=e;h=(function(m){function p(r){var q;q=m.call(this,function(){return q.$ic();}) || this;q.xy=r;q.index=0;return q;}c.__extends(p,m);p.prototype.Hg=function(){d(this.xy) && this.xy.Hg();m.prototype.Hg.call(this);};p.prototype.$ic=function(){return this.xy.length > this.index?Promise.resolve({value:this.xy[this.index++],done:!1}):Promise.resolve({done:!0});};return p;})(e);b.pda=h;l=(function(m){function p(r,q,u){var v;v=m.call(this,function(){return v.gSa();}) || this;v.console=q;v.ao=u;v.HUa=!1;Array.isArray(r)?v.u$=new h(r):v.u$=r;return v;}c.__extends(p,m);p.prototype.aBc=function(r){var q;this.HUa=!1;q=this.console;g.u && q && q.trace("CompoundIterator: processNextOuterIterator");if(r.done)return r;r=r.value;if(this.lX)return (d(r) && r.Hg(),e.NNa());Array.isArray(r)?this.ao=new h(r):this.ao=r;return this.gSa();};p.prototype.$Ac=function(r){var q;q=this.console;g.u && q && q.trace("CompoundIterator: processNextInnerResult",this.lX,r.done);if(!r.done || this.lX)return r;this.ao=void 0;return this.gSa();};p.prototype.Hg=function(){var r;r=this.console;g.u && r && r.trace("CompoundIterator: dispose");this.lX=!0;m.prototype.Hg.call(this);d(this.u$) && this.u$.Hg();d(this.ao) && this.ao.Hg();};p.prototype.toString=function(){return ("CompoundIterator ").concat(this.lX," ").concat(this.u$," ").concat(this.ao);};p.prototype.gSa=function(){var r,q;r=this;q=this.console;g.u && q && q.trace("CompoundIterator: nextImpl");if(this.ao)return (g.u && q && q.trace("CompoundIterator: getNextInner"),this.ao.next().then(function(u){return r.$Ac(u);}));this.HUa=!0;g.u && q && q.trace("CompoundIterator: getNextOuter");return this.u$.next().then(function(u){return r.aBc(u);});};return p;})(e);b.Hda=l;k=(function(m){function p(r,q,u){var v;v=m.call(this,function(){return v.aXb();}) || this;v.source=r;v.rRa=q;v.FIa=u;return v;}c.__extends(p,m);p.prototype.Hg=function(){d(this.source) && this.source.Hg();m.prototype.Hg.call(this);};p.prototype.aXb=function(){var r,q,u;r=this.FIa;q=this.rRa;u=this.source;g.u && r && r.trace("MappedIterator: Requesting next");return u.next().then(function(v){return v.done?v:q(v.value);});};return p;})(e);},13489:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$Nb=void 0;d=a(73550);n=(function(){function c(g,f,e){this.pWb=g;this.CWb=f;this.Lj=e;this.Pga=!1;}c.prototype.Qn=function(){this.Pga || (this.ZDa=this.pWb(this.Lj),this.HH=this.ZDa.length,this.Lj=void 0,this.Pga=!0);};c.prototype.D5=function(){this.Pga && (this.Lj=this.CWb(this.ZDa),this.ZDa=void 0,this.Pga=!1);};Object.defineProperties(c.prototype,{data:{get:function(){this.D5();return this.Lj;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{size:{get:function(){return this.HH;},enumerable:!1,configurable:!0}});return c;})();t=(function(){function c(){this.flush();}c.prototype.set=function(g,f,e){void 0 === e && (e=!0);g=this.wFa(g,f).zib;e && g.Qn();};c.prototype.wFa=function(g,f){var e,h;e=this;h=new n(void 0,void 0,f);f=new d.cT({name:"compression",p$:function(l){var k;l() && (null === (k=e.hja.get(g)) || void 0 === k?void 0:k.data) === h && h.Qn();}});this.hja.set(g,{data:h,Ww:f});return {zib:h,Ww:f};};c.prototype.get=function(g){if(g=this.hja.get(g))return {value:g.data,fm:g.Ww.vy()};};c.prototype.delete=function(g){this.hja.delete(g);};c.prototype.flush=function(){this.hja=new Map();};return c;})();b.$Nb=t;},91631:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.J3a=b.Ru=b.Tj=b.B_a=b.mbb=void 0;d=a(22970);n=a(66164);c=a(50214);b.mbb=function(g){return void 0 !== g.Py.gIc?g.oQa + g.Py.gIc:Infinity;};b.B_a=function(g){return void 0 !== g.Py.absolute?g.Py.absolute:Infinity;};b.Tj=function(g){if(!g)return Infinity;g=Math.min((0,b.mbb)(g),(0,b.B_a)(g));return isNaN(g)?Infinity:g;};b.Ru=function(g,f){null !== f && void 0 !== f?f:f=n.platform.time.now();return (0,b.Tj)(g) <= f;};t=(function(){function g(f){this.Owc=f;this.PC=new c.iM([],function(e,h){e=(0,b.Tj)(e);h=(0,b.Tj)(h);return e - h;});}Object.defineProperties(g.prototype,{size:{get:function(){return this.PC.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{values:{get:function(){return this.PC.aj();},enumerable:!1,configurable:!0}});g.prototype.has=function(f){return this.PC.contains(f);};g.prototype.track=function(f){this.has(f)?this.laa(f):(this.PC.push(f),this.Vf());};g.prototype.delete=function(f){var e;e=this.has(f);e && this.PC.remove(f);return e;};g.prototype.clear=function(){this.PC.clear();};g.prototype.laa=function(f){f.oQa=n.platform.time.now();this.PC.laa(f);this.Vf();};g.prototype.Vf=function(){var e,h,l,k;function f(q){var u;u=(0,b.Tj)(q);if(isFinite(u))return (k.NC=setTimeout(function(){h.NC=void 0;h.Unb(u);},u - l),"break");k.delete(q);}h=this;this.NC && clearTimeout(this.NC);l=n.platform.time.now();this.Unb(l,!1);k=this;try{for(var m=d.__values(this.PC.aj()),p=m.next();!p.done && "break" !== f(p.value);p=m.next());}catch(q){var r;r={error:q};}finally{try{p && !p.done && (e=m.return) && e.call(m);}finally{if(r)throw r.error;}}};g.prototype.Unb=function(f,e){var h;for(void 0 === e && (e=!0);(0,b.Ru)(this.PC.vr(),f);){h=this.PC.pop();this.Owc(h);}e && this.Vf();};return g;})();b.J3a=t;},67442:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gxa=void 0;d=a(50214);n=a(85068);t=(function(){function c(g,f){var e;this.console=g;this.Bg=f.Bg;this.aHa=null !== (e=f.aHa) && void 0 !== e?e:!1;this.clear();}Object.defineProperties(c.prototype,{uC:{get:function(){return this.Tf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{nU:{get:function(){return this.Z3.size;},enumerable:!1,configurable:!0}});c.prototype.hjb=function(){var g;for(;this.Z3.size < this.Bg && this.Tf.length;){g=this.Tf.pop();this.Nnb(g);}};c.prototype.Nnb=function(g){var f;f=this;this.console.debug("Execute throttler item",{Xqa:g.item.priority,uC:this.uC,Mfb:this.nU,C8:g.Um.DK});g.Um.DK || (g.Um.resolve(g.item.$tb()),this.Z3.add(g.item),g.Um.promise.catch(function(){return f.remove(g.item);}),this.aHa && g.Um.promise.then(function(){return f.remove(g.item);},function(){return f.remove(g.item);}));};c.prototype.add=function(g){var f,e;f=this;this.console.debug("item added",{Xqa:g.priority,uC:this.uC,Mfb:this.nU});e={item:g,Um:new n.An()};this.Tf.push(e);this.hjb();return {RP:function(){f.Tf.remove(e);f.Nnb(e);},item:e.Um.promise};};c.prototype.remove=function(g){var f,e;this.console.debug("item removed",{Xqa:g.priority,uC:this.uC,Mfb:this.nU});e=this.Tf.find(function(h){return h.item === g;});e && this.Tf.remove(e);this.Z3.delete(g);null === (f=g.VSa) || void 0 === f?void 0:f.call(g);this.hjb();};c.prototype.clear=function(){var g,f;null === (g=this.Z3) || void 0 === g?void 0:g.forEach(function(e){var h;return null === (h=e.VSa) || void 0 === h?void 0:h.call(e);});null === (f=this.Tf) || void 0 === f?void 0:f.map(function(e){var h,l;return null === (l=(h=e.item).VSa) || void 0 === l?void 0:l.call(h);});this.Tf=new d.iM([],function(e,h){return e.item.priority - h.item.priority;});this.Z3=new Set();};return c;})();b.gxa=t;},34268:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(57086),b);t.__exportStar(a(6077),b);t.__exportStar(a(13489),b);t.__exportStar(a(67442),b);t.__exportStar(a(49690),b);t.__exportStar(a(13816),b);t.__exportStar(a(91631),b);},57086:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.j6a=b.Bea=void 0;d=a(22970);n=a(66164);c=a(73550);g=a(43529);f=a(4742);t=(function(){function e(h,l){this.name=l;this.Nm=new Map();this.console=(0,f.rf)(n.platform,h,"LeaseCache");}e.prototype.get=function(h){if(this.Nm.has(h))return (h=this.Nm.get(h),{value:h.value,fm:h.Ww.vy()});};e.prototype.keys=function(){return this.Nm.keys();};Object.defineProperties(e.prototype,{size:{get:function(){return this.Nm.size;},enumerable:!1,configurable:!0}});e.prototype.sJb=function(h,l,k){var m,p;if(this.Nm.has(l)){m=this.Nm.get(l);p=d.__assign(d.__assign({},m),{key:k,value:m.value});m.Ww.events.removeAllListeners("leaseReleased");h.WEa(l,k,p);this.Nm.delete(l);return m.value;}};e.prototype.WEa=function(h,l,k){var m;m=this;this.Nm.set(l,k);k.Ww.events.on("leaseReleased",function(p){return p.fna && m.delete(l);});k.Ww.name=this.name;};e.prototype.update=function(h,l){var k;this.Nm.has(h) && (h=this.Nm.get(h),h.value=null !== (k=l(h.value)) && void 0 !== k?k:h.value);};e.prototype.lNa=function(h,l){this.has(h) || this.mXb(h,l(h));return this.get(h);};e.prototype.mXb=function(h,l){(0,g.assert)(!this.has(h),("key ").concat(h," already exists in cache"));this.wFa(h,l.value,l.bK);};e.prototype.has=function(h){return this.Nm.has(h);};e.prototype.wFa=function(h,l,k){var m,p;m=this;(0,g.assert)(!this.Nm.has(h),("key ").concat(h," already found"));p={dn:!0,key:h,value:l,bK:k,Ww:new c.cT({name:this.name,p$:function(){},console:this.console})};p.Ww.events.on("leaseReleased",function(r){r.fna && m.has(h) && m.Nm.get(h) === p && m.delete(p.key);});this.Nm.set(h,p);};e.prototype.zga=function(h){var l,k;k=this.Nm.get(h);k && (null === (l=k.bK) || void 0 === l?void 0:l.call(k),k.dn=!1,this.Nm.delete(h));};e.prototype.delete=function(h){this.zga(h);};e.prototype.values=function(){return this.Nm.values();};e.prototype.Cs=function(){this.clear();};e.prototype.clear=function(){var h;try{for(var l=d.__values(this.Nm.keys()),k=l.next();!k.done;k=l.next())this.zga(k.value);}catch(p){var m;m={error:p};}finally{try{k && !k.done && (h=l.return) && h.call(l);}finally{if(m)throw m.error;}}};return e;})();b.Bea=t;t=(function(e){function h(l,k){l=e.call(this,l,k) || this;l.NT=new Map();return l;}d.__extends(h,e);h.prototype.aGc=function(l,k){this.has(k) && (this.NT.has(l) || this.NT.set(l,new Set()),this.NT.get(l).add(k));};h.prototype.sgc=function(l){if(l=this.NT.get(l))return l.values();};h.prototype.iac=function(l,k){var m;this.delete(k);null === (m=this.NT.get(l)) || void 0 === m?void 0:m.delete(k);};h.prototype.zga=function(l){e.prototype.zga.call(this,l);this.NT.delete(l);};h.prototype.WEa=function(l,k,m){e.prototype.WEa.call(this,l,k,m);this.aGc(l,k);};return h;})(t);b.j6a=t;},6077:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fT=void 0;d=a(22970);n=a(66164);c=a(4069);g=a(43529);t=(function(){function f(e,h,l){void 0 === h && (h=function(k,m){return k === m;});void 0 === l && (l={});this.config=e;this.VKa=h;this.Nd=[];this.RU=new c.Eg();this.Nia=new c.Eg();this.options=d.__assign({Bg:10},l);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.enabled;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){return this.Nd.length;},enumerable:!1,configurable:!0}});f.prototype.get=function(e){if(e=this.nla(e))return e.value;};f.prototype.delete=function(e){e=this.findIndex(e);-1 !== e && this.Nd.splice(e,1);};f.prototype.Sla=function(e,h){var l;if(!this.isEnabled)return h();l=this.nla(e);if(l)return l.value;h=h();this.Ps(e,h);return h;};f.prototype.findIndex=function(e){var h,l,k,m;h=Infinity;l=Infinity;if(this.options.cw || this.options.qv){k=n.platform.time.na();this.options.qv && (h=k - this.options.qv);this.options.cw && (l=k - this.options.cw);}for(k=0;k < this.Nd.length;k++){m=this.Nd[k];if(this.options.qv && m.O8 < h){this.Nd.splice(k,this.Nd.length - k);break;}if(this.options.cw && m.Vl < l)(this.Nd.splice(k,1),k--);else if(this.VKa(m.key,e))return k;}return -1;};f.prototype.nla=function(e){var h;e=this.findIndex(e);if(-1 !== e){h=this.Nd[e];this.Nd.splice(e,1);this.Nd.unshift(h);this.options.qv && (h.O8=n.platform.time.na());this.Nia.push(e);this.RU.push(1);return h;}this.RU.push(0);};f.prototype.has=function(e,h){e=this.findIndex(e);return -1 !== e?h?this.Nd[e].value === h:!0:!1;};f.prototype.Otb=function(e,h,l){if(this.isEnabled){(0,g.assert)(!this.has(e),"key already found");this.Nd.unshift({key:e,value:h});e=d.__assign(d.__assign({},this.options),l);if(e.qv || e.cw)(h=n.platform.time.na(),e.qv && (this.Nd[0].O8=h),e.cw && (this.Nd[0].Vl=h));this.XHa();}};f.prototype.Ps=function(e,h){this.Otb(e,h,this.options);};f.prototype.XHa=function(){var e;if(this.Nd.length > this.options.Bg){e=this.Nd.pop();e && this.options.wna && this.options.wna(e.key,e.value);}};f.prototype.clear=function(){for(var e=this.Nd.pop();e;)(this.options.wna && this.options.wna(e.key,e.value),e=this.Nd.pop());this.Nd=[];};return f;})();b.fT=t;},49690:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.V$a=void 0;d=a(22970);n=a(41674);c=a(57086);g=a(67442);t=(function(){function f(e,h,l){this.console=e;this.Cpc=h;this.Bg=l;this.jA=new g.gxa(e,{Bg:l});this.Pna=new c.Bea(e,"pri-cache");}f.prototype.getStats=function(){return {maxSize:this.Bg,activeItemsLength:this.jA.nU,queueSize:this.jA.uC};};Object.defineProperties(f.prototype,{nU:{get:function(){return this.jA.nU;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{uC:{get:function(){return this.jA.uC;},enumerable:!1,configurable:!0}});f.prototype.remove=function(e){this.Pna.has(e) && this.Pna.delete(e);};f.prototype.get=function(e){var h,l,k;h=this;l=d.__assign({},e);k=this.Pna.lNa(l.key,function(){var p,r,q;function m(){l.required=!0;q.RP();}p=new n.AbortController();r={OH:p.signal,$tb:function(){var u;h.console.trace("Invoking pri-cache",{key:l.key,Xqa:l.priority,Q2c:l.required});u=h.Cpc.Rnc(l,p.signal);l.required && u.RP();m=function(){return u.RP();};return u.item;},priority:l.priority};q=h.jA.add(r);return {value:d.__assign(d.__assign({},q),{RP:function(){null === m || void 0 === m?void 0:m();}}),bK:function(){h.console.trace("pri-cache item removal",{key:l.key});p.abort();h.jA.remove(r);}};});e.required && k.value.RP();return k;};f.prototype.clear=function(){this.Pna.clear();this.jA.clear();};return f;})();b.V$a=t;},13816:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JAc=b.AUa=void 0;b.AUa=function(a,d){var n,c;return (null !== (n=a.priority) && void 0 !== n?n:0) - (null !== (c=d.priority) && void 0 !== c?c:0);};b.JAc=function(a,d){var n,c;return (null !== (n=d.priority) && void 0 !== n?n:0) - (null !== (c=a.priority) && void 0 !== c?c:0);};},62613:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hD=void 0;b.hD=(function(){function a(){}a.pJ=function(d,n){var f;function c(e){return g(f++)(e,c);}function g(e){return e >= n.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(e));}:n[e];}f=0;return c(d);};return a;})();},42022:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},23512:function(t,b,a){var n;function d(){var g;function c(f,e){var h,l;h=this;l=typeof e;if("object" === l || "function" === l)if(((l=(0,n.oc)(g,function(k){return k.object === h;}))?(g.splice(l.index + 1),l.key=f):g.push({index:g.length,key:f,object:this}),f=(0,n.oc)(g,function(k){return k.object === e;})))(f=g.slice(0,f.index).map(function(k){return k.key;}).join("."),e=("[Cycle Detected: ").concat(f.length?" " + f:f,"]"),c.state.DJa=!0);return e;}g=[];c.state={DJa:!1};return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.Pva=void 0;n=a(27192);b.Pva=(function(){function c(){}c.stringify=function(g){var f;f=d();return [JSON.stringify(g,f),f.state];};return c;})();},66045:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hv=void 0;t=b.Hv={};t[t.VK=0]="skipped";t[t.jE=1]="adjustment";},70248:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.fkb=void 0;d=a(22970);n=a(32910);c=a(43529);b.fkb=function(){for(var g=[],f=0;f < arguments.length;f++)g[f]=arguments[f];n.u && (0,c.assert)(g.length);return function(e,h){var l,p,r;try{for(var k=d.__values(g),m=k.next();!m.done;m=k.next()){p=m.value;r=p(e,h);if(0 !== r)return r;}}catch(u){var q;q={error:u};}finally{try{m && !m.done && (l=k.return) && l.call(k);}finally{if(q)throw q.error;}}return 0;};};},44201:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Q2a=void 0;d=a(43529);n=a(50214);c=a(58191);t=(function(){function g(f){this.Gbc=f;this.YZa=!1;this.cua=new c.bab();}g.prototype.wLb=function(f,e,h){var k,m;function l(){var q,u,v,w,x,y;q=p.pop();u=q.node;v=q.Wha;q=v.Mzc;w=v.ww;v=v.state;if(!r.cua.has(u)){q=e(u,w,q,v);x=q.nS;y=q.state;q.Uha || r.cua.add(u);m(u).forEach(function(A){var z;z=A.wNc;k.cua.has(z) || (A=w + A.weight,x && p.push({node:z,Wha:{ww:A,Mzc:u,state:y}}));});}}k=this;m=this.Gbc;(0,d.assert)(!this.YZa);this.YZa=!0;this.cua.clear();for(var p=new n.iM([{node:f,Wha:{ww:0,state:h}}],function(q,u){return q.Wha.ww - u.Wha.ww;}),r=this;!p.empty;)l();this.YZa=!1;};return g;})();b.Q2a=t;},32910:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.u=!1;},19705:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KO=function(a,d){var n;a=Math.abs(a);for(d=Math.abs(d);d;){n=d;d=a % d;a=n;}return a;};},91176:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(41674),b);t.__exportStar(a(43155),b);t.__exportStar(a(43155),b);t.__exportStar(a(44510),b);t.__exportStar(a(44510),b);t.__exportStar(a(27192),b);t.__exportStar(a(43529),b);t.__exportStar(a(70058),b);t.__exportStar(a(34268),b);t.__exportStar(a(62613),b);t.__exportStar(a(42022),b);t.__exportStar(a(23512),b);t.__exportStar(a(23512),b);t.__exportStar(a(66045),b);t.__exportStar(a(70248),b);t.__exportStar(a(44201),b);t.__exportStar(a(19705),b);t.__exportStar(a(97322),b);t.__exportStar(a(26540),b);t.__exportStar(a(73550),b);t.__exportStar(a(50214),b);t.__exportStar(a(48571),b);t.__exportStar(a(94500),b);t.__exportStar(a(85068),b);t.__exportStar(a(58191),b);t.__exportStar(a(94893),b);t.__exportStar(a(95130),b);t.__exportStar(a(34228),b);t.__exportStar(a(90657),b);t.__exportStar(a(4069),b);t.__exportStar(a(89989),b);t.__exportStar(a(89989),b);t.__exportStar(a(23267),b);t.__exportStar(a(15807),b);t.__exportStar(a(15807),b);t.__exportStar(a(24153),b);t.__exportStar(a(42306),b);t.__exportStar(a(44847),b);t.__exportStar(a(22633),b);t.__exportStar(a(61022),b);t.__exportStar(a(34166),b);t.__exportStar(a(94742),b);t.__exportStar(a(75347),b);t.__exportStar(a(81954),b);},97322:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.k0c=function(a){var d,n;d=a.next();do {if(!d.done)n=d.value;d=a.next();}while(!d.done);return n;};b.aj=function(a){if(Array.isArray(a))return a;for(var d=[],n=a.next();!n.done;)(d.push(n.value),n=a.next());return d;};},81954:function(t,b){function a(d,n,c,g){var e;if(Array.isArray(d))d.forEach(function(h,l){h=a(h,n,d,l.toString());void 0 !== h?d[l]=h:delete d[l];});else if(null !== d && "object" === typeof d)for(var f in d)if(d.hasOwnProperty(f)){e=a(d[f],n,d,f);void 0 !== e?d[f]=e:delete d[f];}return n.call(c,g,d);}Object.defineProperties(b,{__esModule:{value:!0}});b.OEb=void 0;b.OEb=function(d,n){null !== d && "object" === typeof d && a(d,n,void 0,"");};},26540:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ona=void 0;b.Ona=function(a){var n;function d(){n || (n=a());return n;}n=void 0;d.clear=function(){n=void 0;};d.Lsb=function(){return void 0 !== n;};return d;};},94742:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sya=b.XBa=void 0;d=a(22970);(function(c){c[c.mY=0]="none";c[c.remove=1]="remove";c[c.clear=2]="clear";c[c.all=3]="all";})(n || (b.XBa=n={}));t=(function(){function c(g){void 0 === g && (g={});this.IP=new Map();this.options=d.__assign({vra:n.mY},g);}Object.defineProperties(c.prototype,{size:{get:function(){return this.IP.size;},enumerable:!1,configurable:!0}});c.prototype.has=function(g){return this.IP.has(g);};c.prototype.h_b=function(g,f){this.IP.set(g,f);};c.prototype.delete=function(g){return d.__awaiter(this,arguments,void 0,function(f,e){var h,l;void 0 === e && (e=!0);return d.__generator(this,function(k){switch(k.label){case 0:h=this.IP.get(f);l=this.IP.delete(f);if(k=e)(k=n.remove,k=(this.options.vra & k) === k);return k?[4,Promise.resolve()]:[3,2];case 1:(k.S(),k.label=2);case 2:return (h && h.release(),[2,l]);}});});};c.prototype.Hdb=function(g){return d.__awaiter(this,void 0,void 0,function(){var f;return d.__generator(this,function(e){switch(e.label){case 0:return (f=Array.from(this.IP.values()),this.IP.clear(),g?[4,Promise.resolve()]:[3,2]);case 1:(e.S(),e.label=2);case 2:return (f.forEach(function(h){h.release();}),[2]);}});});};c.prototype.clear=function(){return d.__awaiter(this,void 0,void 0,function(){var g;return d.__generator(this,function(f){switch(f.label){case 0:return (f=n.clear,g=(this.options.vra & f) === f,[4,this.Hdb(g)]);case 1:return (f.S(),[2]);}});});};c.prototype.Ja=function(){this.Hdb(!1);};return c;})();b.sya=t;},73550:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.cT=void 0;d=a(90745);n=a(94893);t=(function(){function c(g){var f,e;this.counter=new n.z2();this.events=new d.EventEmitter();f=g.p$;e=g.console;this.name=g.name || "unnamed";this.events.on("leaseReleased",function(h){return f(function(){return h.fna;});});this.console=e;}c.prototype.vy=function(){var g,f,e,h;g=this;null === (f=this.console) || void 0 === f?void 0:f.trace(("Acquiring lease ").concat(this.name,", total count"),this.counter.Azb + 1);e=this.counter.add();h=this.counter;return {release:function(){var l;e.release();null === (l=g.console) || void 0 === l?void 0:l.trace(("Releasing lease from ").concat(g.name,", total count"),g.counter.Azb);g.events.emit("leaseReleased",{get fna() {return !h.Xha;}});}};};return c;})();b.cT=t;},75347:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(80635),b);t.__exportStar(a(94490),b);},80635:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.dxb=b.mi=void 0;d=a(27192);b.mi=function(c){return function(g,f){var e;e=this;(0,d.oc)(c,function(h){return g === h;}) && c.forEach(function(h){(h in e) || (e[h]=f);});return f;};};n=[(0,b.mi)(["audioTracks","audio_tracks"]),(0,b.mi)(["textTracks","timedtexttracks"]),(0,b.mi)(["timedtexttracks","textTracks"]),(0,b.mi)(["videoTracks","video_tracks"]),(0,b.mi)(["maxFramerateValue","max_framerate_value"]),(0,b.mi)(["maxFramerateScale","max_framerate_scale"]),(0,b.mi)(["cdnList","cdnlist"]),(0,b.mi)(["downloadables","ttDownloadables"]),(0,b.mi)(["textTrackId","timedTextTrackId"]),(0,b.mi)(["downloadableId","downloadable_id"]),(0,b.mi)(["contentProfile","content_profile"]),(0,b.mi)(["cdnId","cdn_id"]),(0,b.mi)(["pixW","pix_w"]),(0,b.mi)(["pixH","pix_h"]),(0,b.mi)(["resW","res_w"]),(0,b.mi)(["resH","res_h"]),(0,b.mi)(["cropX","crop_x"]),(0,b.mi)(["cropY","crop_y"]),(0,b.mi)(["cropW","crop_w"]),(0,b.mi)(["cropH","crop_h"]),(0,b.mi)(["framerateValue","framerate_value"]),(0,b.mi)(["framerateScale","framerate_scale"]),(0,b.mi)(["id","new_track_id"]),(0,b.mi)(["id","track_id"])];b.dxb=function(c,g){return n.reduce((function(f,e){return e.call(this,c,f);}).bind(this),g);};},94490:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JPa=b.xa=b.Ow=void 0;b.Ow=function(a){return "LIVE" === a || "LINEAR" === a;};b.xa=function(a){return "LIVE" === a;};b.JPa=function(a){return "LINEAR" === a;};},50214:function(t,b,a){var n;function d(c,g){return c < g?-1:c > g?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.iM=void 0;n=a(22970);t=(function(){function c(g,f){this.data=g || [];this.compare=f || d;if(!this.empty)for(g=(this.length >> 1) - 1;0 <= g;g--)this.jEa(g);}Object.defineProperties(c.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});c.prototype.push=function(g){this.data.push(g);this.Afb(this.length - 1);};c.prototype.pop=function(){var g,f;if(!this.empty){g=this.data[0];f=this.data.pop();this.empty || (this.data[0]=f,this.jEa(0));return g;}};c.prototype.vr=function(){return this.data[0];};c.prototype.laa=function(g){this.remove(g);this.push(g);};c.prototype.map=function(g){return this.data.map(g);};c.prototype.find=function(g){return n.__read(this.data.filter(g),1)[0];};c.prototype.clear=function(){this.data=[];};c.prototype.remove=function(g){var f,e,h;f=this.data;g=f.indexOf(g);if(-1 !== g){e=f.pop();if(g < f.length){f[g]=e;h=g - 1 >> 1;f=f[h];0 <= h && 0 > this.compare(e,f)?this.Afb(g):this.jEa(g);}}};c.prototype.ria=function(){for(var g=this.data,f=1;f < g.length;f++)if(0 > this.compare(g[f],g[f - 1 >> 1]))throw Error(("Audit failed at position ").concat(f," of ").concat(g));};c.prototype.contains=function(g){return 0 <= this.data.indexOf(g);};c.prototype.aj=function(){return this.data.concat([]);};c.prototype.Afb=function(g){for(var f=this.data,e=this.compare,h=f[g],l,k;0 < g;){l=g - 1 >> 1;k=f[l];if(0 <= e(h,k))break;f[g]=k;g=l;}f[g]=h;};c.prototype.jEa=function(g){for(var f=this.data,e=this.compare,h=this.length >> 1,l=f[g],k,m,p;g < h;){k=(g << 1) + 1;p=f[k];m=k + 1;m < this.length && 0 > e(f[m],p) && (k=m,p=f[m]);if(0 <= e(p,l))break;f[g]=p;g=k;}f[g]=l;};return c;})();b.iM=t;},48571:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fAa=void 0;t=(function(){function a(d,n,c,g){var f;f=this;this.properties=d;this.transform=n;this.Gy=c;this.state=g;this.Sb();d.forEach(function(e){return e.addListener(f.TSa);});this.TSa();}a.prototype.clear=function(){var d;d=this;this.properties.forEach(function(n){return n.removeListener(d.TSa);});};a.prototype.qub=function(d){return void 0 !== d.equal;};a.prototype.Sb=function(){var d;d=this;this.TSa=function(){var n,c;n=d.state;c=d.properties.map(function(g){return g.value;});d.state=d.transform(c);(d.qub(d.state) && d.qub(n)?d.state.equal(n):n === d.state) || d.Gy(d.state);};};return a;})();b.fAa=t;},94500:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mt=b.oUb=void 0;d=a(22970);n=a(48571);c=a(85068);t=(function(){function g(f,e){this.bb=f;this.lF=e?[e]:[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.bb;},enumerable:!1,configurable:!0}});g.prototype.addListener=function(f){-1 === this.lF.indexOf(f) && (this.lF=this.lF.slice(),this.lF.push(f));};g.prototype.removeListener=function(f){f=this.lF.indexOf(f);-1 !== f && (this.lF=this.lF.slice(),this.lF.splice(f,1));};return g;})();b.oUb=t;t=(function(g){function f(e,h){return g.call(this,e,h) || this;}d.__extends(f,g);f.HLb=function(e,h,l){return new n.fAa(e,h,l,!1);};f.bOc=function(e,h,l){return d.__awaiter(this,void 0,void 0,function(){var k,m,p;p=this;return d.__generator(this,function(r){switch(r.label){case 0:(k=void 0,m=new Promise(function(q){k=p.HLb(e,h,q);}),r.label=1);case 1:return (r.qc.push([1,,6,7]),l?[4,(0,c.XCb)(l,m)]:[3,3]);case 2:return [2,r.S()];case 3:return [4,m];case 4:return [2,r.S()];case 5:return [3,7];case 6:return (k.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(f.prototype,{value:{get:function(){return this.bb;},set:function(e){this.set(e);},enumerable:!1,configurable:!0}});f.prototype.set=function(e){var h;h=this.bb;h !== e && (this.bb=e,this.lF.forEach(function(l){return l({oldValue:h,newValue:e});}));};return f;})(t);b.Mt=t;},28999:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.An=void 0;t=(function(){function a(){var d;d=this;this.qFa=!1;this.promise=new Promise(function(n,c){d.pFa=n;d.jFa=c;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{DK:{get:function(){return this.qFa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(d){var n;this.qFa=!0;null === (n=this.pFa) || void 0 === n?void 0:n.call(this,d);this.jFa=this.pFa=void 0;};a.prototype.reject=function(d){var n;this.qFa=!0;null === (n=this.jFa) || void 0 === n?void 0:n.call(this,d);this.jFa=this.pFa=void 0;};return a;})();b.An=t;},85068:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(28999),b);t.__exportStar(a(86823),b);t.__exportStar(a(29727),b);},86823:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.GT=void 0;d=a(43529);n=a(28999);t=(function(){function c(g){void 0 === g && (g={j4:!0});this.options=g;this.correlationId=0;this.Um=new n.An();}Object.defineProperties(c.prototype,{C8:{get:function(){return this.Um.DK;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{promise:{get:function(){return this.Um.promise;},enumerable:!1,configurable:!0}});c.prototype.QK=function(g,f){var e,h;e=this;void 0 === f && (f=!0);f && (0,d.assert)(!this.C8);h=++this.correlationId;g.then(function(l){return e.yYb(h,l);},function(l){return e.vYb(h,l);});};c.prototype.yYb=function(g,f){(g === this.correlationId || this.options.j4) && this.Um.resolve(f);};c.prototype.vYb=function(g,f){g === this.correlationId && this.Um.reject(f);};return c;})();b.GT=t;},29727:function(t,b,a){var n,c,g;function d(f){return !(null === f || void 0 === f || !f.signal);}Object.defineProperties(b,{__esModule:{value:!0}});b.TOb=b.YPa=void 0;b.E_c=d;b.XCb=function(f,e){return n.__awaiter(this,arguments,void 0,function(h,l,k){var m,p;void 0 === k && (k=!1);return n.__generator(this,function(r){switch(r.label){case 0:return (m=d(h)?h.signal:h,p=(0,c.cia)(m,!k),[4,Promise.race([p,Promise.resolve(l)])]);case 1:return [2,r.S()];}});});};n=a(22970);c=a(43155);g=a(43529);a(86823);b.YPa=function(f){return "function" === typeof (null === f || void 0 === f?void 0:f.then);};t=(function(){function f(){}f.prototype.QK=function(e){(0,g.assert)(this.lXb);this.lXb.QK(e);};return f;})();b.TOb=t;},58191:function(t,b){var n,c,g;function a(f){return void 0 !== (null === f || void 0 === f?void 0:f.udb);}function d(f){return (a(f)?f:Object.defineProperties(f,{udb:{value:{},configurable:!1,enumerable:!1}})).udb;}Object.defineProperties(b,{__esModule:{value:!0}});b.bab=void 0;c=null !== (n=Number.MAX_SAFE_INTEGER) && void 0 !== n?n:1E9;g=Date.now() % c;t=(function(){function f(){this.vt=0;this.id=g=(g + 1) % c;}f.prototype.add=function(e){d(e)[this.id]=this.vt;return this;};f.prototype.has=function(e){return a(e) && d(e)[this.id] === this.vt;};f.prototype.delete=function(e){if(!this.has(e))return !1;d(e)[this.id]=void 0;return !0;};f.prototype.clear=function(){this.vt=(this.vt + 1) % c;return this;};return f;})();b.bab=t;},94893:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.z2=void 0;d=a(22970);t=(function(){function c(){var g;g=this;this.F3=[];this.hDc=function(f){f=g.F3.indexOf(f);0 <= f && g.F3.splice(f,1);};}Object.defineProperties(c.prototype,{Xha:{get:function(){return 0 !== this.F3.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Azb:{get:function(){return this.F3.length;},enumerable:!1,configurable:!0}});c.prototype.add=function(){var g;g=new n(this.hDc);this.F3.push(g);return g;};c.prototype.SLb=function(g){d.__awaiter(this,void 0,void 0,function(){var f,e;return d.__generator(this,function(h){switch(h.label){case 0:(f=this.add(),h.label=1);case 1:return (h.qc.push([1,,3,4]),[4,g()]);case 2:return (e=h.S(),[2,e]);case 3:return (f.release(),[7]);case 4:return [2];}});});};c.prototype.qOc=function(g){var f;f=this.add();try{g();}finally{f.release();}};return c;})();b.z2=t;n=(function(){function c(g){this.DYb=g;}c.prototype.release=function(){this.DYb(this);};return c;})();},95130:function(t,b,a){var n,c,g,f,e;function d(h,l){return h.time - l.time || h.priority - l.priority || h.id - l.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.iXa=function(h,l,k){return e.instance.iXa(h,l,k);};b.rIa=function(h){e.instance.rIa(h);};b.V2c=function(){e.reset();};n=a(66164);c=a(32910);g=a(43529);f=a(50214);e=(function(){function h(){var l;l=this;this.Cm=new f.iM([],d);this.KYa=0;this.console=new n.platform.Console("SETTIMEOUT");this.Jdc=function(){var k,m;k=n.platform.time.na();l.Wba=void 0;c.u && l.console.trace(("[").concat(k,"] Wake"));try{for(;!l.Cm.empty && l.Cm.vr().time <= k;){m=l.Cm.pop();c.u && l.console.trace(("[").concat(n.platform.time.na(),"] Executing p").concat(m.priority," timer ").concat(m.id," scheduled for ").concat(m.time));m.Gy();}}finally{l.gWa();}};}Object.defineProperties(h,{instance:{get:function(){return h.my || (h.my=new h());},enumerable:!1,configurable:!0}});h.reset=function(){(0,g.assert)(void 0 === h.my || h.my.Cm.empty,"Singleton SetTimeoutWithPriority reset with pending timers");h.my=void 0;};h.prototype.iXa=function(l,k,m){var p,r,q;(0,g.assert)(isFinite(k) && 0 <= k);p=this.Cm;r=n.platform.time.na();q=r + k;p.push({id:++this.KYa,time:q,priority:m,Gy:l});c.u && this.console.trace(("[").concat(r,"] New p").concat(m," timer ").concat(this.KYa," scheduled for ").concat(q," in ").concat(k,"ms"));this.gWa();return this.KYa;};h.prototype.rIa=function(l){var k,m,p;k=this.Cm;m=k.find(function(r){return r.id === l;});if(m){p=k.vr().time;k.remove(m);c.u && this.console.trace(("[").concat(n.platform.time.na(),"] Removing timer ").concat(m.id," scheduled for ").concat(m.time));(k.empty || k.vr().time > p) && this.gWa();}};h.prototype.Ejb=function(){this.Wba && (clearTimeout(this.Wba.id),c.u && this.console.trace(("[").concat(n.platform.time.na(),"] Clearing wake timer")),this.Wba=void 0);};h.prototype.gWa=function(){var l,k;k=this.Cm;k.empty?this.Ejb():(k=k.vr().time,k !== (null === (l=this.Wba) || void 0 === l?void 0:l.time) && (this.Ejb(),l=Math.max(0,k - n.platform.time.na()),c.u && this.console.trace(("[").concat(n.platform.time.na(),"] Setting wake timer for ").concat(k," in ").concat(l,"ms")),this.Wba={id:setTimeout(this.Jdc,l),time:k}));};return h;})();},89376:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.enumerable=void 0;b.enumerable=function(a){return function(d,n){var c;c=Object.getOwnPropertyDescriptor(d,n) || ({});c.enumerable !== a && (c.enumerable=a,c.writable=!0,Object.defineProperty(d,n,c));};};},34228:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(89376),b);},90657:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.GD=void 0;d=a(22970);n=a(4069);t=(function(){function c(g,f){var e;this.Cdb=g;this.wJb=f;this.Gg={other:new n.Eg(),all:new n.Eg()};try{for(var h=d.__values(g),l=h.next();!l.done;l=h.next())this.Gg[l.value]=new n.Eg();}catch(m){var k;k={error:m};}finally{try{l && !l.done && (e=h.return) && e.call(h);}finally{if(k)throw k.error;}}}c.hn=function(g,f){var e,h,m;if(g === f)return g;h=new c(g.Cdb,g.wJb);try{for(var l=d.__values(Object.keys(g.Gg)),k=l.next();!k.done;k=l.next()){m=k.value;h.Gg[m]=g.Gg[m].hn(f.Gg[m]);}}catch(r){var p;p={error:r};}finally{try{k && !k.done && (e=l.return) && e.call(l);}finally{if(p)throw p.error;}}return h;};c.prototype.G2b=function(g){var f,e,k;g=(null === (e=this.wJb) || void 0 === e?void 0:e.call(this,g)) || g;try{for(var h=d.__values(this.Cdb),l=h.next();!l.done;l=h.next()){k=l.value;if(g < k)return k;}}catch(p){var m;m={error:p};}finally{try{l && !l.done && (f=h.return) && f.call(h);}finally{if(m)throw m.error;}}return "other";};c.prototype.push=function(g){var f,e;e=null !== (f=this.G2b(g)) && void 0 !== f?f:"other";this.Gg[e].push(g);this.Gg.all.push(g);};c.prototype.toJSON=function(){var g,f;g=this;f={};Object.keys(this.Gg).forEach(function(e){var h;h=g.Gg[e];h.count && (f[e]=h);});return f;};return c;})();b.GD=t;},4069:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Eg=void 0;t=(function(){function a(d){void 0 === d && (d=!1);this.Ckb=d;this.count=0;this.Da=NaN;this.LC=0;this.max=this.min=NaN;}Object.defineProperties(a.prototype,{vC:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(d){this.count++;this.LC+=d;1 === this.count?this.Da=this.min=this.max=d:(this.min=Math.min(d,this.min),this.max=Math.max(d,this.max),this.Da+=(d - this.Da) / this.count);};a.prototype.toJSON=function(){return this.Ckb || 0 === this.count?{count:this.count}:{min:this.min,max:this.max,average:this.Da,count:this.count,sum:this.LC};};a.prototype.hn=function(d){var n;if(0 === this.count)return d;if(0 === d.count)return this;n=new a(this.Ckb);n.count=this.count;n.Da=this.Da;n.LC=this.LC;n.min=Math.min(this.min,d.min);n.max=Math.max(this.max,d.max);for(var c=0;c < d.count;c++)n.push(d.Da);return n;};return a;})();b.Eg=t;},89989:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jLc=function(a,d,n){var c,g,f;a="FINAL" === (null === (c=a.GHb[d]) || void 0 === c?void 0:c.type)?d:(c=null === (f=null === (g=a.GHb) || void 0 === g?void 0:g[d]) || void 0 === f?void 0:f.on) && (n in c)?c[n]:(a=a.on) && (n in a)?a[n]:d;return {hx:a,xAc:d,ru:a !== d,event:n};};},23267:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.oH=void 0;d=a(66164);t=(function(){function n(){}Object.defineProperties(n.prototype,{duration:{get:function(){return void 0 !== this.endTime?this.endTime - this.startTime:0;},enumerable:!1,configurable:!0}});n.prototype.start=function(){this.reset();};n.prototype.reset=function(){this.startTime=d.platform.time.na();this.endTime=void 0;};n.prototype.stop=function(){this.endTime=d.platform.time.na();};return n;})();b.oH=t;},15807:function(t,b,a){var n,c,g;function d(f){var e,h;e={};for(h in f)f.hasOwnProperty(h) && (e[h]=f[h]);return e;}Object.defineProperties(b,{__esModule:{value:!0}});b.Abb=void 0;n=a(22970);t=(function(f){function e(h){var l,k,m,p;l=h.model;k=h.oTa;k=void 0 === k?{}:k;m=h.fAb;h=h.WBb;p=void 0 === h?g:h;h=f.call(this) || this;h.qE=void 0;h.bna=!1;h.wma=!1;h.VBb={};h.a$=0;h.X7a=l;h.fAb=m || (function(){});h.WBb=p;l=h.Ila();h.Qf=d(l);h.bb=Object.assign(l,k);return h;}n.__extends(e,f);e.prototype.next=function(h){var l;if(this.bna)(this.wma=!0,this.qE=this.qE || Object.assign(this.Ila(),this.value),Object.assign(this.qE,h));else {l=this.value;this.bb=h=Object.assign(this.Ila(),n.__assign(n.__assign({},this.value),h));this.iKa({rx:l,next:h});}};e.prototype.reset=function(h){var l;void 0 === h && (h={});h=Object.assign(this.Ila(),h);if(this.qE)(this.wma=!0,this.qE=h);else {l=this.value;this.bb=h;this.iKa({rx:l,next:h});}};e.prototype.xIc=function(){this.bna=!0;};e.prototype.$cc=function(){var h;if(this.bna && this.qE){h=this.value;this.wma && (this.bb=this.qE,this.wma=!1,this.iKa({rx:h,next:this.value}));this.qE=void 0;}this.bna=!1;};Object.defineProperties(e.prototype,{value:{get:function(){return this.qE || this.bb;},enumerable:!1,configurable:!0}});e.prototype.iKa=function(h){this.fAb(h);this.emit("update",h);};e.prototype.Ila=function(){var h,l,k,m;if(!c)return new this.X7a();h=this.VBb[this.a$];if(h){l=h;k=this.Qf;for(m in k)l[m]=k[m];}else h=this.VBb[this.a$]=new this.X7a();this.a$++;this.a$ === this.WBb && (this.a$=0);return h;};return e;})(a(90745).EventEmitter);b.Abb=t;c=!0;g=3;},24153:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(84007),b);t.__exportStar(a(47359),b);t.__exportStar(a(12847),b);t.__exportStar(a(47061),b);t.__exportStar(a(39461),b);t.__exportStar(a(36992),b);t.__exportStar(a(56161),b);},84007:function(t,b,a){var d,n,c,g,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.ZS=void 0;d=a(22970);n=a(66164);c=a(44847);g=a(43529);a(70058);f=a(47061);e=a(36992);t=(function(h){function l(k,m,p){m=h.call(this,m,p) || this;m.$Ec=k;m.EPa=!1;m.tqa=!1;m.reset();return m;}d.__extends(l,h);l.prototype.reset=function(){var k,m;if(this.Va === f.Hl.CZ || this.Va === f.Hl.pending)null === (m=null === (k=this.yV) || void 0 === k?void 0:k.return) || void 0 === m?void 0:m.call(k);h.prototype.reset.call(this);this.yV=this.$Ec();this.tqa=!1;this.b$=e.Ud.Kx(c.I.fa);};l.prototype.Uc=function(){this.reset();(0,g.assert)(this.fE);this.fE.Jaa(this);};l.prototype.ipa=function(){return this.b$;};l.prototype.Se=function(){var k,m,p,r;try{this.EPa=!0;r=(null === (k=this.yV) || void 0 === k?void 0:k.next()) || ({done:!0});}finally{this.EPa=!1;this.iqc=n.platform.time.na();this.K4b();}r.done?(this.b$=e.Ud.$Za,null === (p=null === (m=this.yV) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m),this.yV=void 0):this.b$=r.value;};l.prototype.K4b=function(){this.tqa && this.nmb();};l.prototype.nmb=function(){var k,m;this.EPa?this.tqa=!0:(this.tqa=!1,null === (m=null === (k=this.yV) || void 0 === k?void 0:k.return) || void 0 === m?void 0:m.call(k),this.yV=void 0);};l.prototype.Ja=function(){this.nmb();h.prototype.Ja.call(this);};l.prototype.kp=function(){return {state:f.Hl[this.state],nextWakeup:{ms:this.b$.timestamp.G,type:e.tM[this.b$.type]},lastRunMono:this.iqc};};return l;})(f.HT);b.ZS=t;},47359:function(t,b,a){var c,g,f,e,h,l,k,m,p,r,q,u,v,w,x;function d(y){var A,z,B,C,D,F,H,E,G,K,N,I;z=y.Ia;B=y.Gy;C=y.FLb;D=y.Tp;F=y.priority;H=void 0 === F?0:F;F=y.rL;E=void 0 === F?!0:F;y=y.Thb;G=void 0 === y?!0:y;(0,e.assert)(z.Oi,("Current time: ").concat(f.platform.time.na()," cr: ").concat(z.currentTime));(0,e.assert)(z.currentTime.isFinite());y=C.ca(z.currentTime);G && (y=n(y,null !== (A=null === D || void 0 === D?void 0:D.Bpa) && void 0 !== A?A:0));K=Math.max(Math.ceil(y.lC / z.speed),0);N=D || ({id:void 0,fmb:K,Bpa:0,lxc:K,rL:E,Sia:[]});I=f.platform.time.na();N.id=(N.rL?r.iXa:setTimeout)(function(){var L,O;L=C.ca(z.currentTime);O=f.platform.time.na() - I - K;N.Sia.push({delay:O,eIc:K});L.gn(l.I.fa)?B():(N.Bpa++,d({Ia:z,Gy:B,FLb:C,Tp:N,priority:H,rL:E,Thb:G}));},K,H);N.fmb=K;return N;}function n(y,A){return 0 < A?l.I.max(y,l.I.Ca(10 * (1 << Math.min(A,6) - 1))):y;}Object.defineProperties(b,{__esModule:{value:!0}});b.AT=b.Qab=void 0;c=a(22970);g=a(90745);f=a(66164);e=a(43529);h=a(70248);l=a(44847);k=a(50214);m=a(73550);p=a(32910);r=a(95130);q=a(47061);u=a(36992);v=a(56161);w=(function(){function y(){this.complete();}Object.defineProperties(y.prototype,{TR:{get:function(){return this.AFa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jpa:{get:function(){return this.TXb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$9b:{get:function(){return this.yWb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Zra:{get:function(){return this.LYb;},enumerable:!1,configurable:!0}});y.prototype.set=function(A,z,B){this.yWb=z === x.mY?0:f.platform.time.na();this.TXb=A;this.LYb=z;p.u && (0,e.assert)(!this.AFa,"Invalid replacement of timeout value");this.AFa=B;};y.prototype.complete=function(){this.AFa=void 0;this.set(l.I.zg,x.mY);};return y;})();(function(y){y[y.mY=0]="none";y[y.L9=1]="microTask";y[y.setTimeout=2]="setTimeout";})(x || (b.Qab=x={}));t=(function(y){function A(z,B){var C;C=y.call(this) || this;C.Ia=z;C.console=B;C.m8=!1;C.Uja=!1;C.vm=new w();C.Vq=new g.lf();C.Zj=new k.iM([],(0,h.fkb)(function(D,F){return D.dR.Ul(F.dR);},function(D,F){return D.te.cc.priority - F.te.cc.priority;},function(D,F){return F.te.priority - D.te.priority;},function(D,F){return D.te.id > F.te.id?1:D.te.id < F.te.id?-1:0;}));C.iia(z);return C;}c.__extends(A,y);A.iGc=function(z){this.config=z;};A.Shc=function(z,B){var D,F;function C(){var H,E;H=new A(z,B);E=new m.cT({name:"rootTaskScheduler",p$:function(G){G() && (H.Ja(),D.bsa.delete(z));},console:B});return {cc:H,Ww:E};}D=this;(0,e.assert)(this.config,"Config has not been intiialized");this.config.Tib && (this.bsa.has(z) || this.bsa.set(z,C()));F=this.bsa.get(z) || C();return {cc:F.cc,fm:F.Ww.vy()};};Object.defineProperties(A.prototype,{Tta:{get:function(){return this.kN;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{yHc:{get:function(){return this.Ia.Oi;},enumerable:!1,configurable:!0}});A.prototype.gcc=function(){this.kN || (this.kN=new v.JT());return this.kN;};A.prototype.kp=function(){var z;z={hasSchedule:!!this.vm.TR,schedule:this.vm.TR && ({sleepTime:this.vm.TR.fmb,originalSleepTime:this.vm.TR.lxc,clockSkewAdjustments:this.vm.TR.Bpa}),nextWakeup:this.vm.jpa.G,timeScheduled:this.vm.$9b,scheduleType:x[this.vm.Zra],numTasks:this.Zj.length,clock:{ir:this.Ia.Oi,ct:this.Ia.currentTime.G,sp:this.Ia.speed}};p.u && this.trace("audit",z);return z;};A.prototype.iia=function(z){var B;B=this;this.pw();this.Vq.clear();this.Ia=z;this.Vq.on(z,"stopStart",function(){return B.QQ();});this.Vq.on(z,"clockAdjusted",function(){return B.n$();});this.Vq.on(z,"speedChanged",function(){return B.Vwc();});this.n$();this.emit("clockChanged");};A.prototype.Vwc=function(){this.pw();this.QQ();};A.prototype.Ja=function(){this.reset();this.m8 && (this.Uja=!0);this.Vq.clear();this.hr=!0;};A.prototype.reset=function(){var z;this.pw();z=this.Zj.aj();this.Zj.clear();z.forEach(function(B){return B.te.Ja();});};A.prototype.Uc=function(){var z;this.pw();z=this.Zj.aj();this.Zj.clear();z.forEach(function(B){return B.te.Uc();});};A.prototype.n$=function(){var z,B;z=this;B=this.Zj.map(function(C){return C.te;});this.pw();this.Zj.clear();B.forEach(function(C){return z.tU(C,!1);});this.QQ();};A.prototype.tU=function(z,B){var C,D;void 0 === B && (B=!0);C=z.ipa();D=this.ZIb(C);C={te:z,dR:D,Jra:C};p.u && this.trace(("Adding task ").concat(z.name," for ").concat(D.G," from ").concat(z.cc.name) + ("/").concat(z.cc.priority));(0,e.assert)(!this.Zj.contains(C));this.Zj.push(C);B && this.QQ();};A.prototype.Nta=function(z){var B,C;B=this;this.pw();z.ux && this.Zj.map(function(D){return D;}).filter(function(D){return -1 !== z.ux.indexOf(D.te);}).forEach(function(D){return B.Zj.remove(D);});null === (C=z.uU) || void 0 === C?void 0:C.forEach(function(D){return B.tU(D,!1);});this.QQ();};A.prototype.QQ=function(){var z,B,C,D,F,H;z=this;p.u && this.trace("recheck schedule task count:" + this.Zj.length);if(this.yHc){if(this.m8)p.u && this.trace("already executing, bailing");else if(this.vm.Zra === x.L9)p.u && this.trace("Already scheduled on microtask, bailing");else {C=this.vm.jpa;D=this.Zj.vr();F=(null === D || void 0 === D?void 0:D.dR) || l.I.zg;if(F.isFinite() && F.h$(C)){if((this.pw(!1),this.Ia.currentTime.pf(F)))(this.vm.set(F,x.L9),Promise.resolve().then(function(){z.vm.Zra === x.L9 && (z.vm.complete(),z.VEb({type:x.L9}));}));else {p.u && this.trace("scheduling next wake up for",{k5c:F.G,te:null === D || void 0 === D?void 0:D.te.name,gFc:null === D || void 0 === D?void 0:D.te.cc.name});H=d({Ia:this.Ia,Gy:function(){z.vm.complete();z.VEb({type:x.setTimeout,jpa:F,delay:z.Ia.currentTime.ca(F),HN:H.Bpa,Sia:H.Sia});},FLb:F,priority:null !== (B=null === D || void 0 === D?void 0:D.te.cc.priority) && void 0 !== B?B:0,rL:!!A.config.rL,Thb:!!A.config.Shb});this.vm.set(F,x.setTimeout,H);}}else F.isFinite() || this.vm.Zra !== x.setTimeout || this.pw(!1);}}else (p.u && this.trace("should check schedule is false, stopping"),this.pw());};A.prototype.VEb=function(z){var C,D,F,H,E,G;function B(){return G=!0;}H=0;E=null === (C=this.Zj.vr()) || void 0 === C?void 0:C.Jra;G=!1;this.Ia.on("stopStart",B);try{for((this.m8=!0,null === (D=this.kN) || void 0 === D?void 0:D.QIc(z));1E4 > H++ && this.ALc() && !G;);}finally{this.Ia.mm("stopStart",B);this.m8=!1;null === (F=this.kN) || void 0 === F?void 0:F.ddc(H);this.pw();z=this.Zj.map(function(K){return {name:K.te.name,gFc:K.te.cc.name,l5c:K.dR.G};});1E4 < H && !this.fmc(E)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick",z.slice(0,5)):(p.u && this.trace("Next tasks",z),this.QQ());}};A.prototype.fmc=function(z){var B,C;C=null === (B=this.Zj.vr()) || void 0 === B?void 0:B.Jra;return z && C && z.timestamp.equal(C.timestamp) && z.type === C.type?!1:!0;};A.prototype.Csc=function(){this.m8 && (this.Uja=!0);};A.prototype.ALc=function(){var z,B,C,D,F,H;D=(null === (z=this.Zj.vr()) || void 0 === z?void 0:z.dR) || l.I.zg;p.u && this.trace(("tryExecuteNextTask @").concat(this.Ia.currentTime.G,", next wakeup at ").concat(D));z=this.Ia.currentTime;if(z.pf(D)){F=this.Zj.pop();if(F){H=F.te;null === (B=this.kN) || void 0 === B?void 0:B.PIc({te:H,currentTime:z,jpa:D});this.BJa=H;B=!1;p.u && this.trace("Running a task @" + z.G + ", scheduled for time:" + D.G + ("Name:").concat(H.name));try{H.FK();B=!0;F.Jra=H.ipa();F.dR=this.ZIb(F.Jra);}catch(E){throw (this.error(("Unhandled error from a task ").concat(H.name," occurred.") + " Removing the task from future executions:" + E,{stack:E.stack}),H.Ja(),E);}finally{null === (C=this.kN) || void 0 === C?void 0:C.cdc({te:H,e4c:B});this.BJa=void 0;this.Uja?(H.Ja(),this.Uja=!1):F.dR !== l.I.zg && H.state === q.Hl.CZ && ((0,e.assert)(!this.Zj.contains(F)),this.Zj.push(F));}return !0;}}};A.prototype.Jaa=function(z){this.TQ(z,!1);this.tU(z);};A.prototype.TQ=function(z,B){var C;void 0 === B && (B=!0);C=this.Zj.find(function(D){return D.te === z;});C && this.iDc(C,B);};A.prototype.iDc=function(z,B){this.Zj.remove(z);B && this.QQ();};A.prototype.pw=function(z){var B;void 0 === z && (z=!0);this.vm.TR && (z && this.emit("stopping"),z=this.vm.TR,(z.rL?r.rIa:clearTimeout)(z.id),this.vm.complete(),null === (B=this.Tta) || void 0 === B?void 0:B.pw());};A.prototype.ZIb=function(z){return z.type === u.tM.absolute?z.timestamp:z.timestamp.add(this.Ia.currentTime);};A.prototype.trace=function(){for(var z,B=[],C=0;C < arguments.length;C++)B[C]=arguments[C];null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,c.__spreadArray(["RootTaskScheduler:"],c.__read(B),!1));};A.prototype.error=function(){for(var z,B=[],C=0;C < arguments.length;C++)B[C]=arguments[C];null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,c.__spreadArray(["RootTaskScheduler:"],c.__read(B),!1));};A.config={rL:!0,Tib:!0,Shb:!0};A.bsa=new WeakMap();return A;})(g.EventEmitter);b.AT=t;},12847:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.G2=void 0;d=a(22970);n=a(47061);c=a(36992);t=(function(g){function f(e,h,l,k){void 0 === k && (k={});l=g.call(this,l) || this;l.$ra=e;l.Gy=h;l.options=k;return l;}d.__extends(f,g);f.prototype.ipa=function(){return this.Va === n.Hl.pending?this.$ra:c.Ud.$Za;};f.prototype.Se=function(){this.Gy();};f.prototype.Uc=function(){this.options.D3c?(g.prototype.reset.call(this),this.fE.Jaa(this)):this.Ja();};return f;})(n.HT);b.G2=t;},47061:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.HT=b.Hl=void 0;d=a(36992);(function(c){c[c.pending=0]="pending";c[c.CZ=1]="running";c[c.complete=2]="complete";c[c.UN=3]="destroyed";})(n || (b.Hl=n={}));t=(function(){function c(g,f){void 0 === f && (f=0);this.name=g;this.priority=f;this.Va=n.pending;}Object.defineProperties(c.prototype,{state:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{dn:{get:function(){return this.Va === n.pending || this.Va === n.CZ;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{cc:{get:function(){return this.fE;},enumerable:!1,configurable:!0}});c.prototype.g1b=function(g){var f;null === (f=this.fE) || void 0 === f?void 0:f.TQ(this);this.fE=g;};c.prototype.FK=function(){this.Va=n.CZ;this.Se();this.ipa() === d.Ud.$Za && (this.Va=n.complete,this.cc.TQ(this));};c.prototype.Ja=function(){var g;this.Va=n.UN;null === (g=this.fE) || void 0 === g?void 0:g.TQ(this);};c.prototype.Wib=function(g){this.fE.TQ(this);this.fE=g;this.fE.Jaa(this);};c.prototype.kp=function(){};c.prototype.reset=function(){this.Va=n.pending;};return c;})();b.HT=t;},39461:function(t,b,a){var d,n,c,g,f,e,h,l,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qH=void 0;b.O_=function(m,p,r){var q;q=void 0;return (r || m.Ia.Oi) && m.Ia.currentTime.pf(p)?{promise:Promise.resolve()}:{promise:new Promise(function(u){q=m.uu(l.Ud.Fm(p),u);}),te:q};};d=a(22970);n=a(90745);c=a(43529);g=a(97322);f=a(32910);e=a(84007);h=a(12847);l=a(36992);k=a(47359);t=(function(m){function p(r,q,u,v){var w;void 0 === u && (u="unknown");void 0 === v && (v=0);w=m.call(this) || this;w.Ia=r;w.console=q;w.name=u;w.priority=v;w.Ruc=0;w.Vq=new n.lf();w.hA=new Set();w.iia(r);return w;}d.__extends(p,m);Object.defineProperties(p.prototype,{hr:{get:function(){return void 0 === this.Kn;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{AZ:{get:function(){return this.Kn;},enumerable:!1,configurable:!0}});p.prototype.mlb=function(r,q){r=new (r.bind.apply(r,d.__spreadArray([void 0],d.__read(q),!1)))();r.id=this.Ruc++;r.g1b(this);this.tU(r);return r;};p.prototype.Pq=function(){for(var r=[],q=0;q < arguments.length;q++)r[q]=arguments[q];return this.mlb(e.ZS,r);};p.prototype.kp=function(){var r,q;q=d.__assign(d.__assign({},null === (r=this.Kn) || void 0 === r?void 0:r.kp()),{privateNumTasks:this.hA.size});f.u && this.trace("audit",q);return q;};p.prototype.uu=function(){for(var r=[],q=0;q < arguments.length;q++)r[q]=arguments[q];return this.mlb(h.G2,r);};p.prototype.qja=function(r,q,u){return this.Pq(function(){return d.__generator(this,function(v){switch(v.label){case 0:return [4,l.Ud.Kx(q)];case 1:return (v.S(),r(),[3,0]);case 2:return [2];}});},u);};p.prototype.iia=function(r){var q,u,v;q=this;this.Kn && this.Kn.Nta({ux:(0,g.aj)(this.hA.values())});this.DDb();u=k.AT.Shc(r,this.console);v=u.cc;u=u.fm;this.Kn=v;this.Vq.clear();this.Ia=r;this.Vq.on(v,"stopping",function(){return q.emit("stopping");});this.DEc=u;this.Kn.Nta({uU:(0,g.aj)(this.hA.values())});this.emit("clockChanged");};p.prototype.Ja=function(){var r;if(!this.hr){r=this.Kn.BJa && this.hA.has(this.Kn.BJa);this.reset();r && this.Kn.Csc();this.DDb();}};p.prototype.DDb=function(){var r;this.Kn && this.emit("rootSchedulerReleasing",{AZ:this.Kn});null === (r=this.DEc) || void 0 === r?void 0:r.release();this.Kn=void 0;};p.prototype.reset=function(){var r;if(!this.hr){r=(0,g.aj)(this.hA.values());this.Kn.Nta({ux:r});this.hA.clear();r.forEach(function(q){return q.Ja();});}};p.prototype.Uc=function(){var r;if(!this.hr){r=(0,g.aj)(this.hA.values());this.Kn.Nta({ux:r});r.forEach(function(q){return q.Uc();});}};p.prototype.tU=function(r,q){void 0 === q && (q=!0);this.hr?f.u && this.console.warn(("Task added after destruction ").concat(r.name," on ").concat(this.name)):(this.hA.add(r),this.Kn.tU(r,q));};p.prototype.Jaa=function(r){(0,c.assert)(r.cc === this);this.hr?f.u && this.console.warn(("Task restarted after destruction ").concat(r.name," on ").concat(this.name)):(this.hA.add(r),this.Kn.Jaa(r));};p.prototype.TQ=function(r,q){void 0 === q && (q=!0);!this.hr && this.hA.has(r) && (this.hA.delete(r),this.Kn.TQ(r,q));};p.prototype.trace=function(){for(var r,q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];null === (r=this.console) || void 0 === r?void 0:r.trace.apply(r,d.__spreadArray([("TaskScheduler(").concat(this.name,"):")],d.__read(q),!1));};return p;})(n.EventEmitter);b.qH=t;},36992:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Ud=b.tM=void 0;d=a(44847);(function(f){f[f.absolute=0]="absolute";f[f.BDb=1]="relative";})(n || (b.tM=n={}));g=(function(){function f(e,h){this.type=e;this.timestamp=h;}f.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(n[this.type]);};Object.defineProperties(f,{fa:{get:function(){c || (c=new f(n.BDb,d.I.fa));return c;},enumerable:!1,configurable:!0}});return f;})();t=(function(){function f(){}f.Fm=function(e){return new g(n.absolute,e);};Object.defineProperties(f,{hua:{get:function(){return g.fa;},enumerable:!1,configurable:!0}});f.Kx=function(e){return new g(n.BDb,e);};f.$Za=new g(n.absolute,d.I.zg);return f;})();b.Ud=t;},56161:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.JT=void 0;d=a(66164);n=a(4069);c=a(90657);g=a(23267);f=a(84007);e=a(47359);h=[100,200,400,800,1600,3200];t=(function(){function l(){this.sYa=new WeakMap();this.tYa=new g.oH();this.gRa=new g.oH();this.Aia=new g.oH();this.state={q_:d.platform.time.na(),QR:0,csa:1,lj:{QP:new n.Eg(!0),f9:new n.Eg(),e9:new n.Eg(),Y7:new n.Eg(!0),fca:new n.Eg(),HN:new n.Eg(),Saa:new n.Eg(!0),U4:new c.GD(h),V4:new c.GD(h)},MR:{}};}l.prototype.Xrb=function(k){var m;if(k.name)return ("").concat(k.cc.name,"::").concat(k.name);if(!this.sYa.get(k)){m=("").concat(k.cc.name,"::'unk'::").concat(k.id,"::iterable?").concat(k instanceof f.ZS);this.sYa.set(k,m);}return this.sYa.get(k);};l.prototype.PIc=function(k){var m;k=this.Xrb(k.te);(m=this.state.MR)[k] || (m[k]={Ika:new n.Eg(),AO:0});this.tYa.start();};l.prototype.pw=function(){this.state.lj.Saa.push(1);};l.prototype.QIc=function(k){var m;m=this;k.type === e.Qab.L9?this.state.lj.Y7.push(1):(this.state.lj.fca.push(k.delay.G),k.Sia.forEach(function(p){m.state.lj.U4.push(p.delay);m.state.lj.V4.push(p.eIc);}),this.state.lj.HN.push(k.HN));this.gRa.start();this.Aia.stop();this.Aia.duration && this.state.lj.e9.push(this.Aia.duration);};l.prototype.ddc=function(k){this.gRa.stop();this.Aia.start();this.state.lj.f9.push(this.gRa.duration);this.state.lj.QP.push(k);};l.prototype.cdc=function(k){k=this.Xrb(k.te);this.tYa.stop();this.state.MR[k].Ika.push(this.tYa.duration);};l.prototype.kp=function(){this.state.QR=d.platform.time.na() - this.state.q_;return this.state;};l.reduce=function(k,m){var p,r,q,u,v;if(0 === k.QR && 0 === k.lj.QP.count)return m;if(0 === m.QR && 0 === m.lj.QP.count || k === m)return k;p=k.q_ < m.q_?k:m;r=p === k?m:k;q=p.lj;u=r.lj;v={};Object.keys(k.MR).concat(Object.keys(m.MR)).forEach(function(w){var x,y;if(!v[w]){x=k.MR[w];y=m.MR[w];v[w]=x && y?{Ika:x.Ika.hn(y.Ika),AO:x.AO + y.AO}:x || y;}});return {q_:p.q_,QR:p.QR + r.QR,csa:p.csa + r.csa,lj:{Y7:q.Y7.hn(u.Y7),QP:q.QP.hn(u.QP),f9:q.f9.hn(u.f9),e9:q.e9.hn(u.e9),Saa:q.Saa.hn(u.Saa),fca:q.fca.hn(u.fca),HN:q.HN.hn(u.HN),U4:c.GD.hn(q.U4,u.U4),V4:c.GD.hn(q.V4,u.V4)},MR:v,toJSON:function(){return {timeConstructed:this.q_,timeRunning:this.QR,schedulers:this.csa,executionStats:{immediateRuns:this.lj.Y7,loopRuns:this.lj.QP,loopTime:this.lj.f9,loopBetweenTime:this.lj.e9,scheduleClears:this.lj.Saa,timerRuns:this.lj.fca,callBackDelayBuckets:this.lj.U4,callBackSleepBuckets:this.lj.V4,clockSkewAdjustments:this.lj.HN},taskStats:v};}};};return l;})();b.JT=t;},42306:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.N2=void 0;d=a(44847);t=(function(){function n(c,g){this.lb=c;this.Ub=g;}n.prototype.Jg=function(c){return new n(this.lb.Jg(c),this.Ub.Jg(c));};n.prototype.bf=function(c){return new n(this.lb.bf(c),this.Ub.bf(c));};Object.defineProperties(n.prototype,{length:{get:function(){return this.Ub.ca(this.lb);},enumerable:!1,configurable:!0}});n.prototype.add=function(c){return new n(this.lb.add(c),this.Ub.add(c));};n.prototype.ca=function(c){return new n(this.lb.ca(c),this.Ub.ca(c));};Object.defineProperties(n.prototype,{duration:{get:function(){return this.length;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{fna:{get:function(){return this.lb.equal(this.Ub);},enumerable:!1,configurable:!0}});n.prototype.n5=function(c,g){"number" === typeof c && (c=d.I.Ca(c));return "ms" === g?c.G >= this.lb.G && c.G <= this.Ub.G:c.pf(this.lb) && c.gn(this.Ub);};n.prototype.toString=function(c){return c === d.pH.G?("").concat(this.lb.toString(d.pH.G)) + (" - ").concat(this.Ub.toString(d.pH.G)):c === d.pH.aHb?("").concat(this.lb.ba()) + (" dur:").concat(this.duration.ba(c)):("").concat(this.lb.ba()," - ").concat(this.Ub.ba());};n.prototype.equals=function(c){return this.lb.equal(c.lb) && this.Ub.equal(c.Ub);};return n;})();b.N2=t;},44847:function(t,b,a){var n;function d(c,g){return c && g?Math.abs(c * g / (0,n.KO)(c,g)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.pH=b.I=void 0;n=a(19705);t=(function(){function c(g,f){"object" === typeof g?(this.Jc=g.ia,this.Ab=g.P):(this.Jc=g,this.Ab=f);isFinite(this.Jc) || (this.Ab=1);}c.compare=function(g,f){return g.Ul(f);};c.abs=function(g){return new c(Math.abs(g.Jc),g.Ab);};c.Ca=function(g){return 0 === g?c.fa:new c(g,1E3);};c.NYa=function(g,f){return Math.floor(1E3 * g / f);};c.Ayb=function(g,f){return Math.floor(g * f / 1E3);};c.max=function(){for(var g=[],f=0;f < arguments.length;f++)g[f]=arguments[f];return g.reduce(function(e,h){return e.greaterThan(h)?e:h;});};c.min=function(){for(var g=[],f=0;f < arguments.length;f++)g[f]=arguments[f];return g.reduce(function(e,h){return e.lessThan(h)?e:h;});};c.KO=function(g,f){var e;if(g.Ab === f.Ab)return new c((0,n.KO)(g.Jc,f.Jc),g.Ab);e=d(g.Ab,f.Ab);return new c((0,n.KO)(g.Jc * e / g.Ab,f.Jc * e / f.Ab),e);};Object.defineProperties(c.prototype,{ia:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{G:{get:function(){return c.NYa(this.Jc,this.Ab);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{lC:{get:function(){return 1E3 * this.Jc / this.Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{gR:{get:function(){var g;g=this.lC;return 0 > g?Math.ceil(g):Math.floor(g);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ci:{get:function(){return this.Jc / this.Ab;},enumerable:!1,configurable:!0}});c.prototype.Rc=function(g){g/=this.Ab;return new c(Math.floor(this.Jc * g),Math.floor(this.Ab * g));};c.prototype.add=function(g){var f;if(!this.isFinite() || !g.isFinite() || this.Ab === g.Ab)return new c(this.Jc + g.Jc,this.Ab);f=d(this.Ab,g.Ab);return new c(this.Jc * f / this.Ab + g.Jc * f / g.Ab,f);};c.prototype.ca=function(g){var f;if(this.Ab === g.Ab)return new c(this.Jc - g.Jc,this.Ab);f=d(this.Ab,g.Ab);return new c(this.Jc * f / this.Ab - g.Jc * f / g.Ab,f);};c.prototype.Jg=function(g){return 1 === g?this:new c(this.Jc * g,this.Ab);};c.prototype.bf=function(g){var f;if("number" === typeof g){if(Math.floor(g) === g){f=d(this.Jc,g);if(f !== this.Jc)return this.Rc(f / this.Jc * this.Ab).bf(g);}return new c(Math.floor(this.Jc / g),this.Ab);}if(this.Ab === g.Ab)return this.Jc / g.Jc;f=d(this.Ab,g.Ab);return this.Jc * f / this.Ab / (g.Jc * f / g.Ab);};c.prototype.KE=function(g){var f;if(this.Ab === g.Ab)return new c(Math.abs(this.Jc - g.Jc),this.Ab);f=d(this.Ab,g.Ab);return new c(Math.abs(this.Jc * f / this.Ab - g.Jc * f / g.Ab),f);};c.prototype.hVa=function(){return new c(this.Ab,this.Jc);};c.prototype.cuc=function(){return new c(this.Jc - 1,this.Ab);};c.prototype.compare=function(g,f){var e;if(this.Ab === f.Ab)return g(this.Jc,f.Jc);e=d(this.Ab,f.Ab);return g(this.Jc * e / this.Ab,f.Jc * e / f.Ab);};c.prototype.Ul=function(g){var f;if(this.Ab === g.Ab)return this.ia === g.Jc?0:this.Jc - g.Jc;f=d(this.Ab,g.Ab);return this.Jc * f / this.Ab - g.Jc * f / g.Ab;};c.prototype.equal=function(g){return this.compare(function(f,e){return f === e;},g);};c.prototype.h$=function(g){return this.compare(function(f,e){return f !== e;},g);};c.prototype.lessThan=function(g){return this.compare(function(f,e){return f < e;},g);};c.prototype.greaterThan=function(g){return this.compare(function(f,e){return f > e;},g);};c.prototype.gn=function(g){return this.compare(function(f,e){return f <= e;},g);};c.prototype.pf=function(g){return this.compare(function(f,e){return f >= e;},g);};c.prototype.isFinite=function(){return !!this.Ab && isFinite(this.Jc);};c.prototype.bsb=function(g){return d(this.P,g);};c.prototype.toJSON=function(){return {ticks:this.Jc,timescale:this.Ab};};c.prototype.toString=function(g){return g === b.pH.G?("").concat(this.lC,"ms"):("").concat(this.Jc,"/").concat(this.Ab);};c.prototype.ba=function(g){var f;f=this.lC;f=0 === f % 1?f.toString():f.toFixed(3).replace(/\.?0+$/,"");return g === b.pH.aHb?("").concat(f,"ms"):("").concat(this.Jc,"/").concat(this.Ab," (").concat(f,"ms)");};c.fa=new c(0,1E3);c.kx=new c(1,1E3);c.zg=new c(Infinity,1);c.ryb=new c(-Infinity,1);return c;})();b.I=t;b.pH={G:"ms",aHb:"simple"};},22633:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$c=function(a){return void 0 !== a;};},4742:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rf=function(a,d,n){if(d.klb)return d.klb(n);d=d.prefix?("").concat(d.prefix," ").concat(n):n;return new a.Console("ASEJS","media|asejs",d);};},52496:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.P0=void 0;d=a(22970);b.P0=(function(){function n(){}n.EO=function(c,g){void 0 === g && (g={includeStack:!0});return "function" === typeof (null === c || void 0 === c?void 0:c.EO)?c.EO():c instanceof Error?d.__assign(d.__assign({},c),{name:c.name,message:c.message,stack:g.includeStack?c.stack:void 0}):c;};return n;})();},55960:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},61022:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(4742),b);t.__exportStar(a(55960),b);t.__exportStar(a(65569),b);t.__exportStar(a(52496),b);},65569:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pab=void 0;t=(function(){function a(){this.Sra=!1;}Object.defineProperties(a.prototype,{epc:{get:function(){return this.Sra;},enumerable:!1,configurable:!0}});a.prototype.AIc=function(){var d;d=this;this.Sra || (this.Sra=!0,setTimeout(function(){return d.Bwc();},1));};a.prototype.Bwc=function(){this.Sra=!1;};return a;})();b.Pab=t;},34166:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.kga=void 0;d=a(41674);t=(function(){function n(){var c;c=this;this.U3=[];this.ji=new d.AbortController();this.iAb=function(){c.ji.abort();};}Object.defineProperties(n.prototype,{signal:{get:function(){return this.ji.signal;},enumerable:!1,configurable:!0}});n.prototype.abort=function(){this.ji.abort();};n.prototype.Ja=function(){var c;c=this.U3;this.U3=[];c.forEach(function(g){return g();});};n.prototype.gYa=function(c){var g,f;g=this;if(c.aborted)this.ji.abort(c.reason);else {c.addEventListener("abort",this.iAb);f=function(){c.removeEventListener("abort",g.iAb);g.U3=g.U3.filter(function(e){return e !== f;});};this.U3.push(f);this.signal.addEventListener("abort",f);}};return n;})();b.kga=t;},46882:function(t){function b(d,n,c,g){d.trace(":",c,":",g);n(g);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addListener=function(d,n,c,g){c=g?c.bind(g):c;if(d){this.console && (c=b.bind(null,this.console,c,n));if("function" === typeof d.addListener)d.addListener(n,c);else if("function" === typeof d.addEventListener)d.addEventListener(n,c);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([d,n,c]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(n){var c,g;c=n[0];g=n[1];n=n[2];"function" === typeof c.removeEventListener?c.removeEventListener(g,n):"function" === typeof c.removeListener && c.removeListener(g,n);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};t.exports=a;},90745:function(t,b,a){b=a(22699);b.OJa=0;t.exports={EventEmitter:b,lf:a(46882)};},84726:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.T2a=void 0;d=a(22970);n=a(91176);c=a(91176);g=a(90745);f=a(52885);t=(function(){function e(h,l,k,m,p){this.fo=h;this.xb=l;this.UWb=k;this.nb=m;this.hWb=p;this.cN=new Map();this.dE=new Map();this.events=new g.EventEmitter();this.QM=new Map();}Object.defineProperties(e.prototype,{size:{get:function(){return this.dE.size;},enumerable:!1,configurable:!0}});e.prototype.Nub=function(h){var l;void 0 === l && (l=!0);if(l)return this.cN.has(h);h=this.fo(h);return this.dE.has(h);};e.prototype.Vf=function(h){var l,k,m,p;l=this;k=Array.from(this.dE.keys());m=new Map(h.map(function(r){return [l.fo(r),r];}));p=Array.from(m.keys());h=(0,n.Iq)(k,p,function(r,q){return r === q;});k=(0,n.Iq)(p,k).map(function(r){return m.get(r);});h.forEach(function(r){return l.So(l.dE.get(r),!0,"evicted");});this.KYb(k);};e.prototype.KYb=function(h){var l;l=this;h=h.map(function(k){var m,p;m=l.fo(k);p=new n.AbortController();l.cN.set(k,p);l.dE.set(m,k);return {zb:k,OH:p.signal};});this.UWb.pec({kb:h,g2b:{jr:!0}}).entries.forEach(function(k,m){return d.__awaiter(l,void 0,void 0,function(){var p,r;return d.__generator(this,function(q){switch(q.label){case 0:return (q.qc.push([0,2,,3]),[4,k]);case 1:return (p=q.S().U,r=this.cN.get(m),this.Nub(m) && !r.signal.aborted && (this.TH(m,p),this.cN.delete(m)),[3,3]);case 2:return (q.S(),r=this.cN.get(m),this.Nub(m) && !r.signal.aborted?this.So(m,!0,"evicted"):this.So(m,!1,"evicted"),0,[3,3]);case 3:return [2];}});});});};e.prototype.xEc=function(h){this.dE.set(this.fo(h.Br),h.Br);this.Ntb(h,!1);};e.prototype.Ntb=function(h,l){var k;void 0 === l && (l=!1);k=this.fo(h.Br);this.QM.set(k,h);this.events.emit("itemAdded",{item:h,Ouc:l});};e.prototype.TH=function(h,l,k){var m,p;k=null !== (m=null === k || void 0 === k?void 0:k.cw) && void 0 !== m?m:this.hWb(l);p=(0,n.Ona)(function(){return JSON.stringify(l).length;});h=new f.eza({U:Promise.resolve(l),Br:h,eB:!0,Py:{absolute:k},baa:function(){},get CN() {return p();},jr:h.jr});this.Ntb(h,!0);};e.prototype.az=function(h){h="string" === typeof h?h:this.fo(h);return this.QM.has(h);};e.prototype.Hgb=function(h){var l,k,r;h=Math.max(0,this.size - h);if(0 < h){k=Array.from(this.dE.values()).sort(c.AUa);try{for(var m=d.__values(k),p=m.next();!p.done;p=m.next()){r=p.value;if(0 >= h)break;h--;this.So(r,!0,"evicted");}}catch(u){var q;q={error:u};}finally{try{p && !p.done && (l=m.return) && l.call(m);}finally{if(q)throw q.error;}}}};e.prototype.claim=function(h){var l;l=this.Yn(h);this.So(h,!1,"claimed");return l;};e.prototype.remove=function(h){this.So(h,!0,"deleted");};e.prototype.So=function(h,l,k){var m,p;h=this.fo(h);m=this.dE.get(h);if(m){p=this.cN.get(m);l && p && p.abort();this.cN.delete(m);this.dE.delete(h);l=this.QM.get(h);this.QM.delete(h);l && this.events.emit("itemRemoved",{item:l,reason:k});}};e.prototype.Yn=function(h){h=this.fo(h);if(this.QM.has(h))return this.QM.get(h);};e.prototype.clear=function(){this.Hgb(0);};e.prototype.values=function(){return this.QM.values();};return e;})();b.T2a=t;},97967:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(53300),b);t.__exportStar(a(16659),b);t.__exportStar(a(2300),b);t.__exportStar(a(52885),b);t.__exportStar(a(5300),b);t.__exportStar(a(37349),b);},5300:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.dza=void 0;d=a(53300);a(2300);b.dza=(function(){function n(c){this.nRa=new d.i7a(c);n.instance=this;}return n;})();},52885:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.eza=b.LRb=void 0;d=a(66164);n=a(91176);c=a(90745);(function(e){e[e.ZXc=0]="dormant";e[e.active=1]="active";e[e.Aw=2]="expired";e[e.RXc=3]="deleted";})(g || (b.LRb=g={}));f=0;t=(function(){function e(h){var l;this.Ro=h;this.events=new c.EventEmitter();this.Fr=f++;this.Asb=this.GLb=!1;this.Z2b();this.meb=null !== (l=h.Br.jr) && void 0 !== l?l:!1;this.$ga=new n.GT();h.U && this.$ga.QK(h.U);}Object.defineProperties(e.prototype,{state:{get:function(){return this.Va;},set:function(h){this.Va=h;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{U:{get:function(){return this.$ga.promise;},set:function(h){(0,n.assert)(!this.$ga.C8,"Manifest promise is already resolved");this.$ga.QK(h);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{eB:{get:function(){return this.Ro.eB;},set:function(h){this.Ro.eB=h;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{az:{get:function(){this.tEa || (this.tEa=this.eB);return this.tEa;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{stats:{get:function(){return this.Ro.stats;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Py:{get:function(){return this.Ro.Py;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{aF:{get:function(){return !!this.Ro.aF;},set:function(h){this.Ro.aF=h;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{CN:{get:function(){var h;h=this.Ro.CN;return 0 === h && this.Ro.U?(this.Ro.CN=JSON.stringify(this.Ro.U).length,this.Ro.CN):h;},set:function(h){this.Ro.CN=h;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Br:{get:function(){return this.Ro.Br;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{oQa:{get:function(){return this.ueb;},set:function(h){this.ueb=h;},enumerable:!1,configurable:!0}});e.prototype.Esc=function(){var h;h=this;this.eB || (this.tEa=!0,setTimeout(function(){return h.Ro.eB=!0;},1));};e.prototype.baa=function(){this.meb=!1;this.Ro.baa();this.events.emit("promoted",{type:"promoted"});};Object.defineProperties(e.prototype,{jr:{get:function(){return this.meb;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ru:{get:function(){return (0,n.Ru)(this);},enumerable:!1,configurable:!0}});e.prototype.Z2b=function(){this.ueb=d.platform.time.now();};e.prototype.Tzb=function(){this.events.emit("removed",{type:"removed"});};e.prototype.uGa=function(h){this.Ro.Py.absolute=h;};e.prototype.toJSON=function(){return {state:this.state,hasManifest:this.az,cacheHit:this.eB,wasFallbackItem:this.GLb,hasFallbackItem:this.Asb,viewableId:this.Br.J,isPrefetch:this.jr,expired:this.Ru,flushed:this.aF,seqId:this.Fr};};return e;})();b.eza=t;},53300:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.i7a=void 0;d=a(22970);n=a(91176);c=a(66164);g=a(90745);f=a(91176);e=a(91176);h=a(91176);l=a(2300);k=a(84726);m=a(37349);p=a(52885);(function(q){q[q.Aw=0]="expired";q[q.sqc=1]="lazyExpired";q[q.aF=2]="flushed";q[q.kDc=3]="removedByViewableId";q[q.gta=4]="superseded";})(r || (r={}));t=(function(){function q(u){var v;v=this;this.Ldc=0;this.plugins=[];this.console=(0,n.rf)(c.platform,u.console,"MANIFESTCACHE2");this.sLa=u.sLa;this.fo=u.fo;this.hv=new f.Bea(this.console,"manifest-primary");this.Lfb=new e.V$a(this.console,{Rnc:function(w,x){var y,A;y=w.item;v.console.trace("Fetching manifest",{dua:y.J});A=v.sLa.pec({kb:[{zb:y,OH:x,Pu:w.Pu()}],g2b:{jr:y.jr}});return {item:A,key:w,RP:function(){return A.baa(y);}};}},u.config.$wb);this.config=u.config;this.events=new g.EventEmitter();this.config.Zwb && (this.hp=new k.T2a(this.fo,u.config,u.sLa,u.console,function(w){return v.FHa(w);}),this.hp.events.addListener("itemAdded",function(w){v.WE.track(w.item);w.Ouc && (v.events.emit("manifestScheduled",{type:"manifestScheduled",VB:w.item}),w.item.U.then(function(x){v.events.emit("manifestReceived",{type:"manifestReceived",VB:w.item,U:x});},function(){}));}),this.hp.events.addListener("itemRemoved",function(w){"claimed" !== w.reason && (v.WE.delete(w.item),w.item.Tzb(),"expired" === w.reason && v.events.emit("expired",{type:"expired",VB:w.item}),v.events.emit("deleted",{type:"deleted",VB:w.item}));}));this.II=new n.j6a(this.console,"manifest-expired");this.EK=new n.fT({enabled:this.config.hsc},void 0,{Bg:1,wna:function(w,x){v.WE.delete(x);}});this.WE=new n.J3a(function(w){var x,y;if(null === (x=v.hp) || void 0 === x?0:x.az(w.Br))null === (y=v.hp) || void 0 === y?void 0:y.remove(w.Br);x=v.fo(w.Br);if(v.hv.has(x)){y=v.hv.get(x);try{y && y.value === w && v.jLa(x,r.Aw);}finally{null === y || void 0 === y?void 0:y.fm.release();}}v.EK.has(x) && v.EK.delete(x);});this.qsb=new n.Mt(!1);this.qsb.addListener(function(w){w.newValue || v.aCc();});this.events.on("manifestReceived",function(w){var x;try{for(var y=d.__values(v.plugins),A=y.next();!A.done;A=y.next())A.value.L0c(w.VB,w.U);}catch(B){var z;z={error:B};}finally{try{A && !A.done && (x=y.return) && x.call(y);}finally{if(z)throw z.error;}}});this.events.on("deleted",function(w){var x;try{for(var y=d.__values(v.plugins),A=y.next();!A.done;A=y.next())A.value.M0c(w.VB);}catch(B){var z;z={error:B};}finally{try{A && !A.done && (x=y.return) && x.call(y);}finally{if(z)throw z.error;}}});}Object.defineProperties(q.prototype,{size:{get:function(){var u;return {wha:this.wha,a4:this.a4,S4c:this.fLb,y2c:null === (u=this.hp) || void 0 === u?void 0:u.size,fJb:this.fJb};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{e0b:{get:function(){var u,v;u=Array.from(this.hv.values());v=Array.from(this.II.values());return d.__spreadArray(d.__spreadArray([],d.__read(u),!1),d.__read(v),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fJb:{get:function(){var u,v;return this.a4 + (null !== (v=null === (u=this.hp) || void 0 === u?void 0:u.size) && void 0 !== v?v:0);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{a4:{get:function(){return this.fLb + this.wha;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fLb:{get:function(){return this.hv.size;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wha:{get:function(){return this.II.size;},enumerable:!1,configurable:!0}});q.prototype.Vf=function(u){var v,w,x,y;v=this;x=Math.max(0,this.config.$wb - this.a4);if(!(0 >= x))if((u=u.map(function(A){return [v.fo(A),A];}),u=(0,n.Iq)(u,Array.from(this.hv.keys()),function(A,z){return d.__read(A,1)[0] === z;}),u.length > x)){y=u.map(function(A){return d.__read(A,2)[1];}).sort(h.AUa).slice(0,x);null === (w=this.hp) || void 0 === w?void 0:w.Vf(y);}else null === (y=this.hp) || void 0 === y?void 0:y.Vf(u.map(function(A){return d.__read(A,2)[1];}));};q.prototype.Yn=function(u){return this.feb(u);};q.prototype.j5b=function(u){var v;if(null === (v=this.hp) || void 0 === v?0:v.az(u))return (this.console.trace("Prefetch manifest found",{dua:u.J}),this.hp.claim(u));};q.prototype.uWb=function(u,v,w,x){return d.__awaiter(this,void 0,void 0,function(){var y,A,z,B,C;return d.__generator(this,function(D){switch(D.label){case 0:return (D.qc.push([0,3,7,8]),[4,v]);case 1:return (A=D.S(),[4,A.entries.get(w.Br)]);case 2:return (z=D.S(),w.eB=z.eB,w.CN=z.ka,w.Asb=!!x(),y=z.U,[3,8]);case 3:B=D.S();if((0,n.Zma)(B))throw (!1,B);this.console.error("Error fetching manifest",{rvb:u,error:B});C=x();if(!C)return [3,5];this.console.trace("Reusing manifest from error cache",{rvb:u});return [4,C.U];case 4:return (y=D.S(),w.GLb=!0,[3,6]);case 5:throw B;case 6:return [3,8];case 7:return (c.platform.time && (y?(w.Py.absolute=this.FHa(y),w.Esc()):w.Py.absolute=0),this.WE.laa(w),[7]);case 8:return [2,y];}});});};q.prototype.i9b=function(u,v,w){return d.__awaiter(this,void 0,void 0,function(){var x;return d.__generator(this,function(y){switch(y.label){case 0:(v.U=w,y.label=1);case 1:return (y.qc.push([1,3,,4]),[4,w]);case 2:return (x=y.S(),this.events.emit("manifestReceived",{type:"manifestReceived",VB:v,U:x}),[3,4]);case 3:return (y.S(),this.bDc(u,v),[3,4]);case 4:return (this.WE.track(v),this.console.log("Created manifest Item",v),[2]);}});});};q.prototype.gdc=function(u,v){var x,y,A,z;function w(){!A && x.EK.has(u) && (A || (A=x.EK.get(u)));return A;}x=this;z=this.Lfb.get({key:u,priority:null !== (y=v.priority) && void 0 !== y?y:0,required:!v.jr,item:v,Pu:function(){return !!w();}});v=new p.eza({eB:!1,CN:0,Py:{absolute:Infinity},Br:v,baa:function(){x.console.trace("Promote to required",{key:u});z.value.RP();x.Ggb(0);}});y=this.uWb(u,z.value.item,v,w);this.i9b(u,v,y).then(function(){A=void 0;});v.events.on("removed",function(){z.fm.release();});return v;};q.prototype.bDc=function(u,v){var x,y,A,C;function w(F,H){var E,G;E=F.get(H);G=!1;E && (E.value === v && (y.console.log("Deleting manifest item due failure",v),F.delete(H),G=!0),E.fm.release());return G;}y=this;w(this.hv,u);w(this.II,u);A=this.II.sgc(u);if(A)try{for(var z=d.__values(A),B=z.next();!B.done;B=z.next()){C=B.value;w(this.II,C) && this.II.iac(u,C);}}catch(F){var D;D={error:F};}finally{try{B && !B.done && (x=z.return) && x.call(z);}finally{if(D)throw D.error;}}this.EK.has(u,v) && (this.console.log("Deleting manifest from reuseOnErrorCache due to failure",v),this.EK.delete(u));};q.prototype.g0b=function(u){var w,x,y,A;function v(){u.Tzb();w.events.emit("deleted",{type:"deleted",VB:u});}w=this;A="none";u.aF || (!u.Ru && u.jr?!this.config.Zwb || (null === (x=this.hp) || void 0 === x?0:x.az(u.Br)) || (A="addToDormant"):!u.jr && u.az && (A="reuseOnErrorCache"));this.console.log("allLeasesReturned to cache",{action:A,zib:u});switch(A){case "addToDormant":this.hp?null === (y=this.hp) || void 0 === y?void 0:y.xEc(u):this.WE.delete(u);break;case "reuseOnErrorCache":x=c.platform.time.now() + this.config.Z2c;u.uGa(x);this.WE.track(u);x=this.fo(u.Br);this.EK.delete(x);this.EK.Otb(x,u);v();break;default:(this.WE.delete(u),v());}};q.prototype.feb=function(u,v){var w,x,y;w=this;void 0 === v && (v=!1);x=this.fo(u);this.console.trace("Acquiring lease for manifest",{dua:u.J,qO:this.hv.size,oUa:!!u.jr,Xqa:u.priority});y=this.hv.lNa(x,function(){var A;A=w.j5b(u);A || (A=w.gdc(x,u),w.Ggb());if(A.jr)A.events.on("promoted",function(){w.events.emit("activated",{type:"activated",VB:A});});else w.events.emit("activated",{type:"activated",VB:A});return {value:A,bK:function(){w.console.trace("Leases removed",{x3c:A.Fr,O:u.J});w.g0b(A);}};});if(y.value.Ru)if(v)this.console.error("Skipping Retry on an already expired manifest",{dua:u.J});else return (this.jLa(x,r.sqc),this.console.trace("Manifest Expired, releasing",{dua:u.J}),y.fm.release(),this.feb(u,!0));u.jr || y.value.baa();return y;};q.prototype.Ggb=function(u){var v;void 0 === u && (u=1);u=Math.max(0,this.config.$wb - this.a4 - u - this.wha);null === (v=this.hp) || void 0 === v?void 0:v.Hgb(u);};q.prototype.jLa=function(u,v){var w,x;w=v === r.aF || v === r.kDc;x=this.hv.sJb(this.II,u,("").concat(u,":").concat(this.Ldc++));x && (this.console.debug("Expiring active manifest",{rvb:u,aF:w,reason:r[v]}),x.uGa(0),w && (x.aF=!0),this.events.emit("expired",{type:"expired",VB:x}));};q.prototype.flush=function(){var u,v;this.console.trace("Flush Called");null === (v=this.hp) || void 0 === v?void 0:v.clear();try{for(var w=d.__values(this.hv.keys()),x=w.next();!x.done;x=w.next())this.jLa(x.value,r.aF);}catch(A){var y;y={error:A};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(y)throw y.error;}}};q.prototype.getStats=function(){var u,v,y;v={};try{for(var w=d.__values(this.plugins),x=w.next();!x.done;x=w.next()){y=x.value;v[y.s2c]=y.MZc();}}catch(z){var A;A={error:z};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(A)throw A.error;}}A=this.e0b.slice(0,5).map(function(z){return {viewableId:z.value.Br.J,stats:z.value.stats,lastAccessed:z.value.oQa,hasManifest:z.value.az,isExpired:z.value.Ru};});return {manifestCount:this.hv.size,totalManifestCount:this.size,playbackLeases:l.lBa.lTa,playbackCaches:l.lBa.kTa,activePending:Array.from(this.hv.values()).filter(function(z){return !z.value.az;}).length,expiredPending:Array.from(this.II.values()).filter(function(z){return !z.value.az;}).length,throttler:this.Lfb.getStats(),plugins:v,top5Entries:A};};q.prototype.FHa=function(u){return (0,m.Pqb)(u,this.config,this.qsb.value) + c.platform.time.now();};q.prototype.aCc=function(){d.__awaiter(this,void 0,void 0,function(){var u,v,w,x,y,A,z,B,C,D,F;return d.__generator(this,function(H){switch(H.label){case 0:(u=(null === (F=this.hp) || void 0 === F?void 0:F.values()) || [],v=Array.from(this.hv.values()).map(function(E){return E.value;}),w=d.__spreadArray(d.__spreadArray([],d.__read(v),!1),d.__read(u),!1),H.label=1);case 1:(H.qc.push([1,6,7,8]),x=d.__values(w),y=x.next(),H.label=2);case 2:if(y.done)return [3,5];A=y.value;return !A.az || isFinite(A.Py.absolute)?[3,4]:[4,A.U];case 3:(z=H.S(),A.uGa(this.FHa(z)),this.WE.laa(A),H.label=4);case 4:return (y=x.next(),[3,2]);case 5:return [3,8];case 6:return (B=H.S(),C={error:B},[3,8]);case 7:try{y && !y.done && (D=x.return) && D.call(x);}finally{if(C)throw C.error;}return [7];case 8:return [2];}});});};return q;})();b.i7a=t;},37349:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pqb=void 0;b.Pqb=function(a,d,n){var c,g,f;f=d.J0c;return n && (null === (g=null === (c=a.YK) || void 0 === c?void 0:c.$Z) || void 0 === g?0:g.E8)?Infinity:d.U4c && void 0 !== a.kCb?a.kCb:1E3 * (f?f:a.ysb?900:7200);};},16659:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},2300:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.lBa=void 0;a(22970);d=a(66164);n=a(91176);c=a(91176);g=a(90745);f=0;t=(function(){function e(h,l,k){this.nRa=h;this.fo=l;this.id=f++;this.Wma=this.AYb=!1;this.events=new g.EventEmitter();this.console=(0,n.rf)(d.platform,k,("PLAYBACKMANIFESTCACHE [").concat(this.id,"]"));this.console.trace("Creating this instance");this.H$=new c.Bea(this.console,"playback-manifest-cache");}e.prototype.MCc=function(){this.Wma || (this.Wma=!0,e.kTa++);};e.prototype.OJb=function(){this.Wma && (this.Wma=!1,e.kTa--);};Object.defineProperties(e.prototype,{size:{get:function(){return this.H$.size;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Iyc:{get:function(){return Array.from(this.H$.values()).filter(function(h){return !h.value.U.az;}).length;},enumerable:!1,configurable:!0}});e.prototype.Yn=function(h){var l,k,m;l=this;k=h.J;m=this.fo(h);return this.H$.lNa(m,function(){var p;l.console.trace("Getting manifest",{J:k,Sxb:m});l.AYb && h.jr && (h.jr=!1);p=l.nRa.Yn(h);p.value.U.then(function(){l.console.trace("Manifest received",{J:k,Sxb:m});},function(r){l.console.trace("Manifest error received",{error:r});});e.lTa++;l.MCc();return {value:{U:p.value},bK:function(){p.fm.release();l.events.emit("itemRemoved",{type:"itemRemoved",item:p.value});l.console.trace("Releasing manifest",{J:k,Sxb:m,P0c:l.H$.size,AWc:p});e.lTa--;0 === l.size && l.OJb();}};});};e.prototype.Cs=function(){var h;this.console.trace("Destroying");null === (h=this.H$) || void 0 === h?void 0:h.clear();this.OJb();};e.lTa=0;e.kTa=0;return e;})();b.lBa=t;},57042:function(t,b){var a,d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Wxc=function(g){var f,e,h,l;f=g.read(5);e=g.read(4);if(15 === e){h=g.read(24);e=a.indexOf(h);}else h=a[e];l=g.read(4);switch(f){case d:case n:case c:if(g.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + f + " not supported.");}return {hu:f,sampleRate:h,Yra:e,QWc:l,Ffc:1024};};a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];d=1;n=2;c=4;},79602:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.TAc=function(n,c,g){var f,e;f=n.read(1);if(f){e=new d.x5a(n,f,c);1 === n.read(2) && n.advance(e.pY * e.D9);}(0,d.xCb)(n,c,e,g);(0,d.xCb)(n,c,e,g);};d=a(50539);},48387:function(t,b,a){var d,n;b.w=function(c,g,f,e){var h;h=new d.xda(c);e=e && e.Yra;g=(0,n.VAc)(h,{nE:g,eR:f},e);h=h.offset;return {frame:c.subarray(0,h),jTa:h,X4c:g};};d=a(5641);n=a(67038);},30109:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.UAc=function(a,d,n){15 === d && (d+=a.read(8) - 1);0 < d && 1 !== n.nE && !n.eR?(a.write(4,0),a.advance(8 * d - 4)):a.advance(8 * d);};},67038:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.VAc=function(c,g,f){var e,h,l;if(4095 === c.read(12)){c.advance(3);e=!!c.read(1);h=c.read(2) + 1;f=c.read(4);c.advance(8);l=c.read(13);c.advance(13 + (e?0:16));e={hu:h,Yra:f,Ffc:l};}else c.reverse(12);(0,d.assert)(void 0 !== f);(0,n.cBc)(c,f,g);return e;};d=a(87606);n=a(970);},27912:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.s4a=b.j4a=b.i4a=b.r4a=b.q4a=b.p4a=b.o4a=b.n4a=b.m4a=b.l4a=b.k4a=b.h4a=void 0;b.h4a={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.k4a={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.l4a={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.m4a={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.n4a={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.o4a={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.p4a={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.q4a={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.r4a={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.i4a={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.j4a={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.s4a={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},77737:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.qea=void 0;d=a(27912);n=[d.h4a,d.k4a,d.l4a,d.m4a,d.n4a,d.o4a,d.p4a,d.q4a,d.r4a,d.i4a,d.j4a];c=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.qea=(function(){function g(){}g.Hob=function(f,e){var h,p,r;h=e.table;e=e.width;for(var l=0,k=h[0],m=f.read(k);m !== h[l + 1];){l+=e;p=h[l];r=p - k;k=p;m<<=r;m|=f.read(r);}return l;};g.dHb=function(f){for(var e=4;f.read(1);)++e;f.advance(e);};g.fHb=function(f,e){for(;e--;)g.Hob(f,d.s4a);};g.dIc=function(f,e){var h,l;h=n[e - 1];l=h.table;h=this.Hob(f,h);if(11 > e)c[e - 1] && (e=l[h + 2]) && f.advance(e);else if(11 === e || 15 < e)(h+=2,(e=l[h]) && f.advance(e),(l=l[h + 1]) && this.dHb(f),1 < l && this.dHb(f));else throw Error("Huffman: unknown spectral codebook: " + e);};return g;})();},50539:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.x5a=void 0;b.xCb=function(q,u,v,w){var x,y,A;x=q.read(8);w=Math.max(0,Math.ceil(x + 4 * Math.log(Math.pow(10,w.nE / 20)) / Math.log(2)));q.reverse(8);q.write(8,w);v || (v=new r(q,0,u));x=v;y=x.e_a === g?3:5;A=(1 << y) - 1;u=[];w=[];for(var z=[],B=0;B < x.pY;++B){for(var C=0,D=0;C < x.D9;){for(var F=q.read(4),H=0,E;(E=q.read(y)) === A;)H+=E;H+=E;C+=H;u.push(F);w.push(H);++D;}z.push(D);}x=!0;for(y=0;y < u.length;++y)u[y] !== f && (u[y] === h && x?(q.advance(9),x=!1,n.qea.fHb(q,w[y] - 1)):n.qea.fHb(q,w[y]));q.read(1) && q.advance(6 + 9 * (q.read(2) + 1));if(q.read(1))for((x=v,y=2 === x.e_a?m:p,A=0);A < x.xzb;++A)if(z=q.read(y[0]))for((B=q.read(1),C=0);C < z;++C)if((q.advance(y[1]),D=q.read(y[2])))(q.advance(1),F=q.read(1),q.advance(D * (B + 3 - F)));(0,d.assert)(!q.read(1));x=v.pY;y=v.D9;A=v.xIb;v=v.iua;for(B=z=0;B < x;++B)for((C=v[B],D=0);D < y;++z)if((F=u[z],H=w[z],F === f || F === h || F === k || F === l))D+=H;else {E=F >= e?2:4;for(var G=0;G < H;(++G,++D))for(var K=C * (A[D + 1] - A[D]) / E,N=0;N < K;++N)n.qea.dIc(q,F);}};d=a(87606);n=a(77737);c=a(96103);g=2;f=0;e=5;h=13;l=14;k=15;m=[1,4,3];p=[2,6,5];r=(function(){return function(q,u,v){var w;this.iua=[];this.pY=1;this.iua[0]=1;q.advance(1);this.e_a=q.read(2);q.read(1);if(this.e_a === g){this.xzb=8;this.D9=q.read(4);for(u=0;7 > u;++u)q.read(1)?this.iua[this.pY - 1]++:(this.pY++,this.iua[this.pY - 1]=1);this.xIb=c.Nab[v];}else {this.xzb=1;this.D9=q.read(6);if(q.read(1)){w=14 + Math.min(this.D9,40);q.read(1) && q.advance(w);u && q.read(1) && q.advance(w);}this.xIb=c.Mab[v];}};})();b.x5a=r;},970:function(t,b,a){var d,n,c,g,f;Object.defineProperty(b,"__esModule",{value:!0});b.cBc=function(e,h,l){var m;for(var k;(k=e.read(3)) !== f;){m=e.read(4);switch(k){case c:(0,d.TAc)(e,h,l);break;case g:(0,n.UAc)(e,m,l);break;default:throw Error(("Unsupported AAC element ").concat(k));}}e.a3b();};d=a(79602);n=a(30109);c=1;g=6;f=7;},96103:function(t,b){var a,d,n,c,g,f,e,h,l,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.wUb=b.FQb=b.xUb=b.WUb=b.XUb=b.Nab=b.Mab=void 0;t=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);n=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);g=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);e=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);h=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);l=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);k=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);m=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);p=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.Mab=[t,t,d,c,c,f,e,e,l,l,l,m];b.Nab=[a,a,n,g,g,g,h,h,k,k,k,p];b.XUb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.WUb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.xUb=(function(){for(var r=new Float32Array(428),q=0;428 > q;q++)r[q]=Math.pow(2,(q - 200) / 4);return r;})();b.FQb=(function(){for(var r=new Float32Array(8191),q=4 / 3,u=0;8191 > u;u++)r[u]=Math.pow(u,q);return r;})();b.wUb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},87606:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.assert=function(c,g){if(!c)throw new n(g || "Assertion failed");};d=a(22970);n=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);return g;})(Error);},5641:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xda=void 0;t=(function(){function a(d){this.data=d;this.hw=this.Sc=this.Yd=0;this.view=new DataView(d.buffer,d.byteOffset,d.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Sc;},enumerable:!1,configurable:!0});a.prototype.read=function(d){if(0 === this.Yd){if(8 === d)return this.data[this.Sc++];if(16 === d)return (d=this.view.getUint16(this.Sc),this.Sc+=2,d);if(32 === d)return (d=this.view.getUint32(this.Sc),this.Sc+=4,d);}for(;this.Yd < d;)(this.hw=(this.hw << 8) + this.data[this.Sc++],this.Yd+=8);this.Yd-=d;return this.hw >>> this.Yd & (1 << d) - 1;};a.prototype.advance=function(d){var n;if(d <= this.Yd)this.Yd-=d;else {d-=this.Yd;n=Math.floor(d / 8);this.Sc+=n;this.hw=this.data[this.Sc++];this.Yd=8 - (d - 8 * n);}};a.prototype.write=function(d,n){var c,g;n&=(1 << d) - 1;if(0 === this.Yd){if(8 === d){this.data[this.Sc++]=n;return;}if(16 === d){this.view.setUint16(this.Sc,n);this.Sc+=2;return;}if(32 === d){this.view.setUint32(this.Sc,n);this.Sc+=4;return;}}if(0 < this.Yd){c=Math.min(d,this.Yd);g=this.data[this.Sc - 1] & (~((1 << this.Yd) - 1) ^ (1 << this.Yd - c) - 1);this.data[this.Sc - 1]=g ^ (d >= c?n >>> d - c:n << this.Yd - c);this.Yd-=c;d-=c;}for(;8 <= d;)(d-=8,this.data[this.Sc++]=n >>> d & 255);0 < d && (this.Yd=8 - d,g=this.data[this.Sc] & (1 << this.Yd) - 1,this.hw=this.data[this.Sc++]=g ^ (n & (1 << d) - 1) << 8 - d);};a.prototype.reverse=function(d){0 !== this.Yd && d <= 8 - this.Yd?this.Yd+=d:(0 !== this.Yd && (d-=8 - this.Yd,--this.Sc),this.Sc-=Math.floor(d / 8),this.hw=this.data[this.Sc - 1],this.Yd=d % 8);};a.prototype.a3b=function(){0 !== this.Yd && (this.Yd=0);};return a;})();b.xda=t;},25154:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.p8b=function(d,n){void 0 === n && (n=0);n=~~n;for(var c=0;c < d.length;c++)n=(a[(n >> 8 ^ d[c]) & 255] ^ n << 8) & 65535;return n;};a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);},10543:function(t,b,a){var d,n;b.w=function(c,g,f){var e;e=new d.xda(c);g=(0,n.I0b)(e,g,null === f || void 0 === f?void 0:f.SP).Hfc;c=c.subarray(0,g);(0,n.aHc)(c);return {frame:c,jTa:g};};d=a(5641);n=a(75719);},75719:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.I0b=function(c,g,f){var e,h;e=c.read(16);(0,d.assert)(2935 === e);e=2 * ((c.read(16) & 2047) + 1);c.advance(13);h=c.read(5);c.reverse(5);f && (g*=-h / f);c.write(5,Math.min(31,Math.max(1,Math.floor(h + g))));return {Hfc:e};};b.aHc=function(c){var g;g=(0,n.p8b)(c.subarray(2,c.length - 2));c[c.length - 2]=g >> 8;c[c.length - 1]=g & 255;};d=a(87606);n=a(25154);},71210:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.aec=function(){var h,l,k,m;for(var f=[],e=0;e < arguments.length;e++)f[e]=arguments[e];h="string" === typeof f[0]?{Od:f[0],frame:f[1],nE:f[2],P5b:f[3],SP:f[4]}:f[0];l=h.Od;f=h.frame;e=h.nE;k=h.P5b;m=h.SP;h=h.eR;h=void 0 === h?!1:h;switch(l){case "aac":void 0 === c && (c=a(48387).w);l=6;k && (k=new d.xda(k),l=(0,n.Wxc)(k).Yra);f=c(f,e,h,{Yra:l}).jTa;break;case "ddp":void 0 === g && (g=a(10543).w);f=g(f,e,{SP:m}).jTa;break;case "xheaac":f=f.length;break;default:throw Error("Unrecognized codec in fadeFrame: " + l);}return {Gfc:f};};d=a(5641);n=a(57042);},81969:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(22970).__exportStar(a(71210),b);},66988:function(t,b){var a,d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.uN=void 0;t={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Csa:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Csa:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};d={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Csa:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};n={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Csa:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.uN={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":d,"ddplus-5.1hq-dash":d,"ddplus-2.0-dash":n},reset:{"heaac-2-dash":t,"heaac-2hq-dash":t},"heaac-2-dash":t,"heaac-2-dash-alt":a,"ddplus-5.1-dash":d,"ddplus-2.0-dash":n};},40755:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.f3a=b.n_a=void 0;d=a(22970);t=(function(n){function c(){var g;g=null !== n && n.apply(this,arguments) || this;g.IO=1536;return g;}d.__extends(c,n);c.jd=!0;return c;})(a(70428).default);b["default"]=t;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="ac-3";return c;})(t);b.n_a=a;t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="ec-3";return c;})(t);b.f3a=t;},26856:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Pfc=this.M.Wa(2);this.E2b=this.M.Wa(5);this.F2b=this.M.Wa(3);this.yZb=this.M.Wa(3);this.M.Wa(1);this.M.Wa(5);this.M.Wa(5);return !0;};c.ce="dac3";return c;})(a(72905).kf);b["default"]=t;},56226:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){var e,h;this.M.Wa(1);this.M.Wa(7);this.PFb=this.M.Wa(3);this.OFb=this.M.Wa(5);this.QFb=this.M.Wa(1);this.Xsb=this.M.Wa(1);this.KJb=this.M.Wa(1);this.wyb=this.M.Wa(1);this.pjb=this.M.Wa(1);this.qjb=this.M.Wa(1);this.ojb=this.M.Wa(2);this.M.Wa(3);(this.mPa=this.M.Wa(1))?this.Etb=this.M.Wa(4):this.M.Wa(4);if(null === f || void 0 === f?0:f.Og){for(var l=void 0,k=this.parent;k;){l=null === (h=null === (e=k.am("tkhd")) || void 0 === e?void 0:e.Hc) || void 0 === h?void 0:h.trackId;if(void 0 !== l)break;k=k.parent;}(0,n.assert)(void 0 !== l,"trackId is undefined");f.Og[l].kWc={PFb:this.PFb,OFb:this.OFb,QFb:this.QFb,Xsb:this.Xsb,KJb:this.KJb,wyb:this.wyb,pjb:this.pjb,qjb:this.qjb,ojb:this.ojb,mPa:this.mPa,Etb:this.Etb};}return !0;};g.ce="av1C";return g;})(a(72905).kf);b["default"]=t;},18319:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){var e,h,l;this.o6b=this.M.md();this.EMb=this.M.md();this.M.md();this.M.md();this.vqc=this.M.md() & 3;this.Jsa=this.gFa(this.M.md() & 31);this.bCb=this.gFa(this.M.md());this.aZ=this.Jsa.length?this.Jsa[0][1]:this.EMb;this.Teb=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.aZ || 110 === this.aZ || 122 === this.aZ || 144 === this.aZ) && (this.M.md(),this.M.md(),this.gFa(this.M.md()));l=this.startOffset + this.length - this.Teb;0 < l && this.Ip(l,this.Teb);if(null === f || void 0 === f?0:f.Og){l=void 0;for(var k=this.parent;k;){l=null === (h=null === (e=k.am("tkhd")) || void 0 === e?void 0:e.Hc) || void 0 === h?void 0:h.trackId;if(void 0 !== l)break;k=k.parent;}(0,n.assert)(void 0 !== l,"trackId is undefined");f.Og[l].mWc={Jsa:this.Jsa,bCb:this.bCb,aZ:this.aZ};}return !0;};g.prototype.gFa=function(f){var l;for(var e=[],h=0;h < f;++h){l=this.M.Uf();e.push(this.M.OQ(l));}return e;};g.ce="avcC";g.jd=!1;return g;})(a(72905).kf);b["default"]=t;},70428:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(72905);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){var e;e=c.prototype.parse.call(this,f);this.M.offset+=8;this.VHa=this.M.Uf();this.aWa=this.M.Uf();this.M.offset+=4;this.samplerate=this.M.Uf();this.M.offset+=2;n.u && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.VHa + ", samplesize: " + this.aWa + ", samplerate: " + this.samplerate);if(null === f || void 0 === f?0:f.wf)(f.wf.VHa=this.VHa,f.wf.aWa=this.aWa,f.wf.samplerate=this.samplerate);return e;};g.jd=!1;return g;})(a(71724).default);b["default"]=t;},29973:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Hc=this.yC([{yWc:"int32"},{maxBitrate:"int32"},{xia:"int32"}]);return !0;};c.ce="btrt";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},72905:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.kf=b.u=void 0;d=a(93334);b.u=!1;t=(function(){function n(c,g,f,e,h){this.pc=c;this.type=g;this.byteOffset=f;this.byteLength=e;this.parent=h;this.Ae={};this.nQ=e;}n.ZE=function(c,g){var e,l;function f(k){k && k.ZE && (k=k.ZE(g),k.length && (e=e.concat(k)));}e=[];c.type === g && e.push(c);if(c.Ae)for(var h in c.Ae){l=c.Ae[h];Array.isArray(l) && l.forEach(f);}return e;};n.e4=function(c,g){void 0 === c.Ae[g.type] && (c.Ae[g.type]=[]);c.Ae[g.type].push(g);};n.am=function(c,g){return n.ZE(c,g)[0];};Object.defineProperties(n.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{M:{get:function(){return this.pc;},enumerable:!1,configurable:!0}});n.prototype.Eh=function(){var c;c=this.pc.Vb();this.version=c >> 24;this.flags=c & 16777215;};n.prototype.e4=function(c){n.e4(this,c);};n.prototype.ZE=function(c){return n.ZE(this,c);};n.prototype.am=function(c){return n.am(this,c);};n.prototype.parse=function(){return !0;};n.prototype.YE=function(){return !0;};n.prototype.Sr=function(c){if((c=this.Ae[c]) && Array.isArray(c) && 1 === c.length)return c[0];};n.prototype.Ip=function(c,g){g=void 0 === g?this.pc.offset:g;(0,d.assert)(g >= this.startOffset + 8 && g + c <= this.startOffset + this.nQ,"Removal range [0x" + g.toString(16) + "-0x" + (g + c).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.nQ).toString(16) + ")");this.pc.Ip(c,g,this);};n.prototype.Bra=function(c,g,f){f=void 0 === f?this.pc.offset:f;(0,d.assert)(f >= this.startOffset + 8 && f + c <= this.startOffset + this.nQ,"Removal range [0x" + f.toString(16) + "-0x" + (f + c).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.nQ).toString(16) + ")");this.pc.Bra(c,g,f,this);};n.prototype.hDb=function(c,g,f){if(1 < f){for(var e=[];0 < f--;)e.push(this.Yeb(c,g));return e;}return this.Yeb(c,g);};n.prototype.yC=function(c){var g,f;f=this;void 0 === g && (g={});c.forEach(function(e){var h,l;if("offset" === e.type){h=e.offset;if(0 < h % 8)throw Error("Requested offset " + e.offset + "is not an even byte multiple");f.pc.offset+=h / 8;}else for(h in e){l=e[h];g[h]="string" === typeof l?f.hDb(l):f.hDb(l.type,l.length,l.Q0b);}});return g;};n.prototype.Yeb=function(c,g){var f;f=this.byteLength - this.pc.offset + this.startOffset;"undefined" === typeof g && (g=f);switch(c){case "int8":c=this.pc.md();break;case "int64":c=this.pc.ol();break;case "int32":c=this.pc.Vb();break;case "int16":c=this.pc.Uf();break;case "string":c=this.pc.bVa(Math.min(g,f));break;default:throw Error("Invalid type: " + c);}return c;};n.jd=!1;return n;})();b.kf=t;},53158:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){var e,h,l,k,m,p;if("nclx" === this.M.Xz()){l=this.M.Uf();k=this.M.Uf();m=this.M.Uf();p=this.M.Wa(1);this.M.Wa(7);this.Ujb={aXc:l,G4c:k,S0c:m,iZc:p};}if(null === f || void 0 === f?0:f.Og){l=void 0;for(k=this.parent;k;){l=null === (h=null === (e=k.am("tkhd")) || void 0 === e?void 0:e.Hc) || void 0 === h?void 0:h.trackId;if(void 0 !== l)break;k=k.parent;}(0,n.assert)(void 0 !== l,"Failed to find trackId in track hierarchy");f=f.Og[l];if(!f)return !0;f.Ujb=this.Ujb;}return !0;};g.ce="colr";return g;})(a(72905).kf);b["default"]=t;},29043:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(g){var f,e,h;f=this.M.offset;e=this.M.Uf();this.Klb=e >> 3;this.Bvc=e & 7;this.HJc=[];for(e=0;e <= this.Bvc;e++){h={Pfc:this.M.Wa(2),E2b:this.M.Wa(5),F2b:this.M.Wa(5),yZb:this.M.Wa(3),s0c:this.M.Wa(1),oEb:this.M.Wa(3),Avc:this.M.Wa(4)};0 < h.Avc?h.PWc=this.M.Wa(9):this.M.Wa(1);this.HJc.push(h);}g && g.Vmb && (g.Vmb.Klb=this.Klb,2 <= this.byteLength - (this.M.offset - f) && (this.M.Wa(7),f=this.M.Wa(1),g.Vmb.cWc=1 === f));return !0;};c.ce="dec3";return c;})(a(72905).kf);b["default"]=t;},96345:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(47887);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){this.Eh();this.pPb=n.Kwa.bDb(this.M,f);return !0;};g.ce="esds";g.jd=!1;return g;})(a(72905).kf);b["default"]=t;},96989:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(g){var f,e,h,l,k,m,p;k=null === (l=null === (h=null === (e=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === e?void 0:e.am("tkhd")) || void 0 === h?void 0:h.Hc) || void 0 === l?void 0:l.trackId;if("undefined" === typeof k)return !0;this.Eh();f=this.M.Vb();this.Y5=[];for(e=0;e < f;e++){h=1 === this.version?this.M.ol():this.M.Vb();l=1 === this.version?this.M.ol():this.M.Vb();m=this.M.Uf();p=this.M.Uf();this.Y5.push({r3c:h,utc:l,k1c:m,j1c:p});}if(null === g || void 0 === g || !g.Og || !g.Og[k])return !0;g.Og[k].Y5=this.Y5;return !0;};c.ce="elst";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},98776:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){return !0;};c.ce="emeb";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},29770:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(g,f,e,h,l){return n.call(this,g,f,e,h,l) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Eh();this.M.Vb();this.qAc=this.M.gDb();this.eW=this.M.Vb();4294967295 === this.eW && (this.eW=Infinity);this.id=this.M.Vb();this.HK=this.M.bVa();this.value=this.M.bVa();this.MF=new Uint8Array(this.M.dZ(this.length - (this.M.offset - this.startOffset)));return !0;};c.ce="emib";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},23471:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(g){n.prototype.parse.call(this,g);return !0;};c.ce="evte";c.jd=!0;return c;})(a(99520).default);b["default"]=t;},19234:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.M.Xz();this.M.Xz();for(this.yIa=[];this.M.offset <= this.byteOffset + this.byteLength - 4;)this.yIa.push(this.M.Xz());return !0;};c.ce="ftyp";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},89362:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(g){this.n$b=this.M.Xz();g && g.wf && (g.wf.NEc=this.n$b);return !0;};c.ce="frma";return c;})(a(72905).kf);b["default"]=t;},28721:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(32296);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){var e,h,l,k,m;this.Eh();this.Hc=this.yC([{w2c:"int32"},{mOa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Hc.mOa=(0,n.vH)(this.Hc.mOa);if(f && f.Og){m=null === (k=null === (l=null === (h=null === (e=this.parent) || void 0 === e?void 0:e.parent) || void 0 === h?void 0:h.am("tkhd")) || void 0 === l?void 0:l.Hc) || void 0 === k?void 0:k.trackId;"number" === typeof m && f.Og[m] && (f.Og[m].HB=this.Hc.mOa);}return !0;};g.ce="hdlr";g.jd=!1;return g;})(a(72905).kf);b["default"]=t;},87206:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){var e,h,p;this.p6b=this.M.Wa(8);this.Wfc=this.M.Wa(2);this.Xfc=this.M.Wa(1);this.Vfc=this.M.Wa(5);this.Ufc=this.M.Wa(32);this.Sfc=this.M.Wa(48);this.Tfc=this.M.Wa(8);this.M.Wa(4);this.$tc=this.M.Wa(12);this.M.Wa(6);this.Sxc=this.M.Wa(2);this.M.Wa(6);this.a5b=this.M.Wa(2);this.M.Wa(5);this.o2b=this.M.Wa(3);this.M.Wa(5);this.n2b=this.M.Wa(3);this.S1b=this.M.Wa(16);this.u6b=this.M.Wa(2);this.zvc=this.M.Wa(3);this.sKc=this.M.Wa(1);this.wqc=this.M.Wa(2);if(null === f || void 0 === f?0:f.Og){for(var l=void 0,k=this.parent;k;){l=null === (h=null === (e=k.am("tkhd")) || void 0 === e?void 0:e.Hc) || void 0 === h?void 0:h.trackId;if(void 0 !== l)break;k=k.parent;}(0,n.assert)(void 0 !== l,"trackId is undefined");f=f.Og[l];f.Kw={o6b:this.p6b,pZc:this.Wfc,qZc:this.Xfc,oZc:this.Vfc,nZc:this.Ufc,lZc:this.Sfc,mZc:this.Tfc,B1c:this.$tc,g2c:this.Sxc,SWc:this.a5b,tWc:this.o2b,sWc:this.n2b,pWc:this.S1b,gXc:this.u6b,S1c:this.zvc,f4c:this.sKc,vqc:this.wqc};e=this.M.Wa(8);for(h=0;h < e;h++){this.M.Wa(1);this.M.Wa(1);l=this.M.Wa(6);k=this.M.Wa(16);for(var m=0;m < k;m++){p=this.M.Wa(16);p=this.M.OQ(p);switch(l){case 32:f.Kw.pLb || (f.Kw.pLb=[]);f.Kw.pLb.push(p);break;case 33:f.Kw.RFb || (f.Kw.RFb=[]);f.Kw.RFb.push(p);break;case 34:f.Kw.sBb || (f.Kw.sBb=[]);f.Kw.sBb.push(p);break;case 39:case 40:(f.Kw.oIb || (f.Kw.oIb=[]),f.Kw.oIb.push(p));}}}}return !0;};g.ce="hvcC";return g;})(a(72905).kf);b["default"]=t;},97066:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.YE=function(){var f;f=this.am("esds");if(f=f && f.pPb.am(5))((0,n.assert)(this.samplerate),this.IO=f.IO * this.samplerate / f.Xra);return !0;};g.ce="mp4a";g.jd=!0;return g;})(a(70428).default);b["default"]=t;},99520:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(g){n.prototype.parse.call(this,g);return !0;};return c;})(a(71724).default);b["default"]=t;},56122:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},71368:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Eh();this.Hc=1 === this.version?this.yC([{creationTime:"int64"},{modificationTime:"int64"},{P:"int32"},{duration:"int64"}]):this.yC([{creationTime:"int32"},{modificationTime:"int32"},{P:"int32"},{duration:"int32"}]);return !0;};c.ce="mvhd";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},16530:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},45645:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Eh();this.Hc=this.yC(1 === this.version?[{HO:"int64"}]:[{HO:"int32"}]);return !0;};c.ce="mehd";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},31025:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75589);a=a(72905);n=t.Pza;a=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(){this.Eh();this.Hc=this.yC([{ix:"int32"},{xu:"int16"}]);return !0;};g.ce=n;g.jd=!1;return g;})(a.kf);b["default"]=a;},91056:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(75589);t=a(72905);c=n.Qza;t=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}d.__extends(f,g);f.prototype.parse=function(){this.Eh();this.fileSize=this.M.ol();this.P=this.M.ol();this.duration=this.M.ol(!1,!0);this.Svc=this.M.ol();this.M.ol();this.Wvc=this.M.ol();this.$uc=this.M.Vb();this.Tvc=this.M.ol();this.ffc=this.M.Vb();this.M.qra();this.vo={moof:{offset:this.Svc},sidx:{offset:this.Tvc,size:this.ffc}};this.vo[n.e8a]={offset:this.Wvc,size:this.$uc};this.M.offset - this.startOffset <= this.length - 24 && (this.Vvc=this.M.ol(),this.Cuc=this.M.Vb(),this.Uvc=this.M.ol(),this.Buc=this.M.Vb(),this.vo[n.Rea]={offset:this.Vvc,size:this.Cuc},this.vo[n.Qea]={offset:this.Uvc,size:this.Buc});return !0;};f.ce=c;f.jd=!1;return f;})(t.kf);b["default"]=t;},64280:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75589);a=a(72905);n=t.Rza;a=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(){var f,l,k;this.Eh();1 <= this.version && this.M.qra();f=this.M.Vb();this.vo={};for(var e=this.startOffset + this.length,h=0;h < f;++h){l=this.M.Xz();"uuid" === l && (l=this.M.qra());k=this.M.ol();this.vo[l]={offset:e,size:k};e+=k;}return !0;};g.ce=n;g.jd=!1;return g;})(a.kf);b["default"]=a;},35503:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(g){this.Hc=this.yC([{xmc:"int32"},{xNc:"int32"}]);if(null === g || void 0 === g?0:g.wf)(g.wf.WZc=this.Hc.xmc,g.wf.b5c=this.Hc.xNc);return !0;};c.ce="pasp";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},84379:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(75589);c=a(49420);g=a(70428);t=a(72905);f=a(41192);a=(function(e){function h(){return null !== e && e.apply(this,arguments) || this;}d.__extends(h,e);h.prototype.parse=function(){this.Eh();this.qO=this.M.Vb();return !0;};h.prototype.YE=function(l){var k;k=Object.keys(this.Ae);k.length && (k=k[0],this.Ae[k].length && (k=this.Ae[k][0],k instanceof g.default?this.Ea=new c.I(k.IO,k.samplerate):k instanceof f.default && (k=k.Ae[n.Pza]) && k.length && (k=k[0].Hc,1E3 !== k.xu && 1001 !== k.xu || 0 !== k.ix % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + k.ix + "/" + k.xu):this.Ea=new c.I(k.xu,k.ix)),l && this.Ea && (l.Ea=this.Ea)));return !0;};h.prototype.QDb=function(l){void 0 !== this.Ae[l] && 0 !== this.Ae[l].length && (this.pc.Gm(this.qO - 1,this.byteOffset + 12),l=this.Ae[l][0],this.Ip(l.byteLength,l.byteOffset));};h.ce="stsd";h.jd=!0;return h;})(t.kf);b["default"]=a;},71724:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(72905);n=a(72905);a=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){this.M.offset+=6;this.M.Uf();n.u && this.M.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === f || void 0 === f?0:f.wf)f.wf.NEc=this.type;return !0;};return g;})(t.kf);b["default"]=a;},41116:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(72905);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){this.Eh();this.kWa=this.M.Xz();n.u && this.M.console.trace("SchemeTypeBoxTranslator: " + this.kWa);if("cenc" === this.kWa){if((this.M.offset-=4,n.u && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.pc.g_a("piff"),null === f || void 0 === f?0:f.wf))f.wf.Zcc="piff";}else if(null === f || void 0 === f?0:f.wf)f.wf.Zcc=this.kWa;this.M.Vb();return !0;};g.ce="schm";g.jd=!1;return g;})(n.kf);b["default"]=t;},95797:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(26388);c=a(49420);t=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}d.__extends(f,g);f.prototype.YE=function(e){var h;if(e && e.Ea && !e.oxc && e.mediaType === n.v.X){h=this.Sr("mdia");h && (h=h.Sr("mdhd")) && h.P !== e.Ea.P && (e.Ea=new c.I(e.Ea).Rc(h.P));}return !0;};f.ce="trak";f.jd=!0;return f;})(a(72905).kf);b["default"]=t;},30717:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(g){var f,e,h,l,k;this.Eh();f=this.yC([{B_:"int32"},{QJa:"int32"},{qB:"int32"},{rB:"int32"},{JE:"int32"}]);e=f.B_;h=f.QJa;l=f.qB;k=f.JE;f=f.rB;this.Hc={trackId:e,HXc:h,Kja:l,IXc:k,JXc:f};(null === g || void 0 === g?0:g.Og) && g.Og[e] && (g.Og[e].QJa=h,g.Og[e].qB=l,g.Og[e].JE=k,g.Og[e].rB=f);this.B_=e;this.QJa=h;this.qB=l;this.rB=f;this.JE=k;return !0;};c.ce="trex";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},85571:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(g){var f;this.Eh();f=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];f=f.concat({offset:64,type:"offset"},{p0c:"int16"},{UVc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Hc=this.yC(f);this.Hc.A4c=!!(this.flags & 1);this.Hc.B4c=!!(this.flags & 2);this.Hc.C4c=!!(this.flags & 4);this.Hc.D4c=!!(this.flags & 8);if(null === g || void 0 === g?0:g.wf)(g.wf.width=this.Hc.width / 65536,g.wf.height=this.Hc.height / 65536);g && g.Og && (g.Og[this.Hc.trackId]={});return !0;};c.ce="tkhd";c.jd=!1;return c;})(a(72905).kf);b["default"]=t;},70179:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.O2=void 0;d=a(22970);n=a(81969);c=a(93334);g=a(66988);t=(function(f){function e(h,l,k,m,p){h=f.call(this,h,l,k,m,p) || this;h.lka=!1;return h;}d.__extends(e,f);e.aFb=function(h){return (h & 50331648) >>> 24;};e.bFb=function(h){return !!((h & 65536) >>> 16);};Object.defineProperties(e.prototype,{Jlb:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{A6:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{FZ:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{GZ:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Wra:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ura:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{bfc:{get:function(){return this.Ura?(this.M.offset=this.Ry + this.GK - 4,0 === this.version?this.M.Vb():this.M.gaa()):0;},enumerable:!1,configurable:!0}});e.prototype.parse=function(h){var l,k,m;this.Eh();this.kHa=this.M.offset;this.yd=this.M.Vb();this.vk=this.Jlb?this.M.gaa():0;this.LLa=this.A6?this.M.Vb():void 0;this.GK=(this.FZ?4:0) + (this.GZ?4:0) + (this.Wra?4:0) + (this.Ura?4:0);this.Ry=this.M.offset;(0,c.assert)(this.Jlb,"Expected data offset to be present in Track Run");(0,c.assert)(this.length - (this.M.offset - this.startOffset) === this.yd * this.GK,"Expected remaining data in box to be sample information");if(h && h.Na){h.Na.vk=this.vk;h.Na.yd=this.yd;this.Hk=[];m=null === (k=null === (l=this.parent) || void 0 === l?void 0:l.am("tfhd")) || void 0 === k?void 0:k.B_;for(l=0;l < this.yd;l++)(k={},this.FZ?k.EZ=this.M.Vb():h.Na.qB?k.EZ=h.Na.qB:m && h.Og && h.Og[m] && (k.EZ=h.Og[m].qB),this.GZ?k.lG=this.M.Vb():h.Na?k.lG=h.Na.rB:m && h.Og && h.Og[m] && (k.lG=h.Og[m].rB),this.Wra?k.Vra=this.M.Vb():h.Na?k.Vra=h.Na.JE:m && h.Og && h.Og[m] && (k.Vra=h.Og[m].JE),this.Ura && (k.QEc=0 === this.version?this.M.Vb():this.M.gaa()),0 === l && this.A6 && (k.Vra=this.LLa),this.Hk.push(k));h.Na.Hk=this.Hk;if(h.Na.hR)for(((0,c.assert)(h.Na.hR.length === h.Na.Hk.length,("num fragment samples: ").concat(h.Na.Hk.length,", ") + ("num samples in auxiliary info: ").concat(h.Na.hR.length)),m=0);m < h.Na.Hk.length;m++)(h.Na.Hk[m].Oxa=h.Na.hR[m].Oxa,h.Na.Hk[m].fYa=h.Na.hR[m].fYa);}return !0;};e.prototype.hha=function(h,l,k){var m,p,r;m=this.FZ?this.M.Vb():h.qB;p=this.GZ?this.M.Vb():h.rB;h=this.Wra?this.M.Vb():h.JE;r=this.Ura?0 === this.version?this.M.Vb():this.M.gaa():0;return {PEc:r,Vra:h,lG:p,EZ:m,B2c:(k || 0) + r - (void 0 !== l?l:r)};};e.prototype.SBc=function(h){(0,c.assert)(void 0 !== this.vk);(0,c.assert)(void 0 !== this.Ry);(0,c.assert)(void 0 !== this.yd);(0,c.assert)(void 0 !== this.GK);if(!this.GZ)return Array.from({length:this.yd},function(){return h.rB;});for(var l=[],k=this.Ry + (this.FZ?4:0),m=0;m < this.yd;(++m,k+=this.GK))l.push(this.M.view.getUint32(k,!1));return l;};e.prototype.dDb=function(){var h,m;(0,c.assert)(void 0 !== this.vk);(0,c.assert)(void 0 !== this.Ry);(0,c.assert)(void 0 !== this.yd);(0,c.assert)(void 0 !== this.GK);h=[];if(this.Wra)for(var l=this.Ry + (this.FZ?4:0) + (this.GZ?4:0),k=0;k < this.yd;(++k,l+=this.GK)){m=this.M.view.getUint32(l,!1);2 !== e.aFb(m) && e.bFb(m) || h.push(k);}else !this.A6 || 2 !== e.aFb(this.LLa) && e.bFb(this.LLa) || h.push(0);return h;};e.prototype.ma=function(h,l,k,m,p,r,q){var u,v,w,x;(0,c.assert)(void 0 !== this.vk);(0,c.assert)(void 0 !== this.Ry);(0,c.assert)(void 0 !== this.kHa);(0,c.assert)(void 0 !== this.yd);(0,c.assert)(void 0 !== h.Cy);u=0;v=0;this.pc.offset=this.Ry;for(m=0;m < p;++m){w=this.hha(l,x,v);if(0 === m)x=w.PEc;u+=w.lG;v+=w.EZ;}m=p;p=this.M.offset;w=this.hha(l,x,v);this.rVa=q;this.TZ=m;this.iHb=v;if(q){if((this.VDb=this.vk + u,this.oZ=0,m === this.yd))return !0;}else if((this.VDb=this.vk,this.oZ=u,0 === m))return !0;if(0 === m || m === this.yd)return !1;this.lka=!0;if(q){this.oZ+=w.lG;for(q=m + 1;q < this.yd;++q)(w=this.hha(l,x,v),this.oZ+=w.lG);this.pc.offset=this.kHa;this.yd=m;this.pc.Gm(this.yd);this.pc.j_a(r);this.A6 && (this.M.offset+=4);this.Ip(this.length - (p - this.startOffset),p);}else (l=p - this.Ry,this.Ry=p,this.pc.offset=this.kHa,this.yd-=m,this.pc.Gm(this.yd),this.vk+=u,this.pc.j_a(r,this.vk),this.A6 && (this.M.offset+=4),this.Ip(l,this.pc.offset));null === k || void 0 === k?void 0:k.Ip(this.oZ,h.Cy + this.VDb);return !0;};e.prototype.huc=function(h,l,k,m,p,r,q,u){var v,x,y,A,z;void 0 === q && (q=!1);(0,c.assert)(void 0 !== this.vk);(0,c.assert)(void 0 !== this.Ry);(0,c.assert)(void 0 !== this.yd);(0,c.assert)(void 0 !== this.GK);(0,c.assert)(void 0 !== h.Cy);for(var w=m.length;w < this.yd;++w)m[w]=m[w - 1];m.some(function(B){return 0 >= B;}) && (x=null === (v=this.bXb(p,r)) || void 0 === v?void 0:v.Csa);this.M.offset=this.Ry;h=h.Cy + this.vk;p=-1 !== p.indexOf("xheaac")?"xheaac":-1 !== p.indexOf("heaac")?"aac":"ddp";r=new Uint8Array(this.M.view.buffer,this.M.view.byteOffset,this.M.view.byteLength);for(w=0;w < this.yd;++w){v=this.hha(l).lG;if(-Infinity === m[w]){if(x && this.GZ){k.Bra(v,x,h);y=this.GK - (this.FZ?4:0);this.pc.offset-=y;this.pc.Gm(x.byteLength);this.pc.offset+=y - 4;}}else if(0 > m[w])try{A=r.subarray(h,h + v);z=(0,n.aec)({Od:p,frame:A,nE:m[w],eR:q,SP:u}).Gfc;z !== v && this.M.console.error(("TrackRunBoxEditor: parse frame size error ").concat(z," should be ").concat(v));}catch(B){this.M.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(B.message," ").concat(B.stack));}h+=v;}};e.prototype.bXb=function(h,l){if("string" === typeof l)return ((0,c.assert)("reset" !== l && "standard" !== l),g.uN[l]);if(void 0 !== h)return l?g.uN.reset[h] || g.uN.standard[h]:g.uN.standard[h];};e.ce="trun";e.jd=!1;return e;})(a(72905).kf);b.O2=t;},41192:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.u_a=b.z2a=b.w4a=b.I4a=b.y_a=b.x_a=b.w_a=b.v_a=void 0;d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(g){n.prototype.parse.call(this,g);this.Hc=this.yC([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{n_c:"int32"},{c5c:"int32"},{offset:32,type:"offset"},{aZc:"int16"},{cXc:{type:"int8",Q0b:32}},{depth:"int16"},{offset:16,type:"offset"}]);if(null === g || void 0 === g?0:g.wf)(g.wf.width=this.Hc.width,g.wf.height=this.Hc.height);return !0;};c.jd=!0;return c;})(a(71724).default);b["default"]=t;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="avc1";return c;})(t);b.v_a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="avc2";return c;})(t);b.w_a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="avc3";return c;})(t);b.x_a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="avc4";return c;})(t);b.y_a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="hvc1";return c;})(t);b.I4a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="hev1";return c;})(t);b.w4a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="dvhe";return c;})(t);b.z2a=a;t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.ce="av01";return c;})(t);b.u_a=t;},25564:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.l0=void 0;d=a(22970);n=a(72905);c=a(32296);t=(function(g){function f(e,h,l,k,m){l=g.call(this,l,k,m) || this;l.w2b=e;l.a_=h;l.Ae={};return l;}d.__extends(f,g);f.prototype.parse=function(e){var h,l,k,m,p,r;this.offset=0;h=[];for(e=e || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){l=this.offset;k=this.Vb();if(0 === k)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};m=(0,c.vH)(this.Vb());if(null === m)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === m){if(16 > this.view.byteLength - this.offset)break;m=this.qra();}if(0 === h.length && this.a_.kpb(m,l,k)){this.offset=l;break;}if(l + k > this.view.byteLength){this.offset=l;break;}p=this.w2b[m];r=void 0;if(p){if((r=new p(this,m,l,k,h[0]),(h[0] || this).e4(r),r.parse(e)))this.config.mqa && p.jd?h.unshift(r):this.offset=l + k;else return {done:!1,offset:this.offset,error:"parse error in " + m + " box"};}else this.offset=l + k;for(;h.length && this.offset > h[0].byteOffset + h[0].nQ - 8;){r=h.shift();if(!r.YE(e))return {done:!1,offset:this.offset,error:"finalize error in " + r.type + " box"};this.offset=r.byteOffset + r.nQ;}if(0 === h.length && this.a_.Fmb(m,l,k,r))break;}return !this.a_.done && (e=this.a_.endOffset?this.a_.endOffset - this.view.byteLength:4096,0 < e)?{done:!1,offset:this.offset,Iyb:e}:{done:!0,offset:Math.min(this.a_.endOffset || Infinity,this.offset)};};f.prototype.e4=function(e){n.kf.e4(this,e);};return f;})(a(56445).Xcb);b.l0=t;},2050:function(t){var d,n;function b(){var c,g;if(DataView.prototype && DataView.prototype.D7 && !n){try{c=new ArrayBuffer(4);g=new DataView(c);g.XW(0,4,1);}catch(f){return;}try{c=new ArrayBuffer(4);g=new DataView(c);g.XW(1,2,2);}catch(f){DataView.prototype.XW=a(DataView.prototype.XW,DataView.prototype.getUint8,Uint8Array);DataView.prototype.hma=a(DataView.prototype.hma,DataView.prototype.getUint16,Uint16Array);DataView.prototype.D7=a(DataView.prototype.D7,DataView.prototype.getUint32,Uint32Array);DataView.prototype.PMa=a(DataView.prototype.PMa,DataView.prototype.getInt8,Int8Array);DataView.prototype.NMa=a(DataView.prototype.NMa,DataView.prototype.getInt16,Int16Array);DataView.prototype.OMa=a(DataView.prototype.OMa,DataView.prototype.getInt32,Int32Array);}d.Ykc=function(f,e,h,l,k){return h?f.XW(e,h,l || 1,k):new Uint8Array(0);};d.Wkc=function(f,e,h,l,k){return h?f.hma(e,h,l || 2,k):new Uint16Array(0);};d.Xkc=function(f,e,h,l,k){return h?f.D7(e,h,l || 4,k):new Uint32Array(0);};d.EZc=function(f,e,h,l,k){return h?f.PMa(e,h,l || 1,k):new Int8Array(0);};d.CZc=function(f,e,h,l,k){return h?f.NMa(e,h,l || 2,k):new Int16Array(0);};d.DZc=function(f,e,h,l,k){return h?f.OMa(e,h,l || 4,k):new Int32Array(0);};n=!0;}}function a(c,g,f){return function(e,h,l,k){var m;l=l || f.BYTES_PER_ELEMENT;if(e + h * l > this.byteLength){m=new f(h);m.set(c.call(this,e,h - 1,l,k));m[h - 1]=g.call(this,e + (h - 1 * l),k);return m;}return c.call(this,e,h,l,k);};}d={XW:function(c,g,f,e,h){var l;l=new Uint8Array(f);e=e || 1;for(var k=0;k < f;(++k,g+=e))l[k]=c.getUint8(g,h);return l;},hma:function(c,g,f,e,h){var l;l=new Uint16Array(f);e=e || 2;for(var k=0;k < f;(++k,g+=e))l[k]=c.getUint16(g,h);return l;},D7:function(c,g,f,e,h){var l;l=new Uint32Array(f);e=e || 4;for(var k=0;k < f;(++k,g+=e))l[k]=c.getUint32(g,h);return l;},PMa:function(c,g,f,e,h){var l;l=new Int8Array(f);e=e || 1;for(var k=0;k < f;(++k,g+=e))l[k]=c.getInt8(g,h);return l;},NMa:function(c,g,f,e,h){var l;l=new Int16Array(f);e=e || 2;for(var k=0;k < f;(++k,g+=e))l[k]=c.getInt16(g,h);return l;},OMa:function(c,g,f,e,h){var l;l=new Int32Array(f);e=e || 4;for(var k=0;k < f;(++k,g+=e))l[k]=c.getInt32(g,h);return l;},IYc:b};n=!1;d.rhc=function(){return n;};b();t.exports=d;},59909:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.jwa=void 0;d=a(22970);n=a(72905);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){var e;this.Dpa=this.M.md();e=this.M.md();this.YXa=e >>> 2;this.mZa=e >>> 1 & 1;this.sHa=256 * this.M.Uf() + this.M.md();this.maxBitrate=this.M.Vb();this.xia=this.M.Vb();n.u && this.M.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Dpa.toString(16) + ", streamType=" + this.YXa + ", upStream=" + this.mZa + ", bufferSizeDB=" + this.sHa + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.xia);if(null === f || void 0 === f?0:f.$k)(f.$k.Dpa=this.Dpa,f.$k.YXa=this.YXa,f.$k.mZa=this.mZa,f.$k.sHa=this.sHa,f.$k.maxBitrate=this.maxBitrate,f.$k.xia=this.xia);this.Xeb(f);return !0;};g.tag=4;return g;})(a(91578).Uda);b.jwa=t;},27364:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.E2a=void 0;d=a(22970);n=a(72905);t=a(91578);c=a(47887);a=(function(g){function f(){return null !== g && g.apply(this,arguments) || this;}d.__extends(f,g);f.prototype.pra=function(){var e;e=this.M.Wa(4);return 15 !== e?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][e]:this.M.Wa(24);};f.prototype.parse=function(e,h){if(this.koc(h) && 64 === h.Dpa){if(null === e || void 0 === e?0:e.$k){h=this.M.bqb(this.length);for(var l=new ArrayBuffer(this.length),k=new Uint8Array(l),m=0;m < this.length;m++)k[m]=h.getUint8(m);e.$k.GXc=l;}h=this.M.offset;this.hu=this.$Ua();this.Xra=this.pra();this.UHa=this.M.Wa(4);this.bWa=this.gW=5 === this.hu || 29 === this.hu?5:-1;this.ira=29 === this.hu?1:-1;0 < this.gW && (this.p6=this.pra(),this.hu=this.$Ua(),22 === this.hu && (this.Nka=this.M.Wa(4)));switch(this.hu){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.I6=this.M.Wa(1),this.YIa=(this.oac=this.M.Wa(1))?this.M.Wa(14):void 0,this.M.Wa(1),this.IO=3 === this.hu?256:23 === this.hu?this.I6?480:512:this.I6?960:1024);}k=8 * (this.length - (this.M.offset - h)) + this.M.Yd;5 !== this.gW && 16 <= k && (k=this.M.Wa(11),695 === k && (l=this.$Ua(),5 === l && (k=this.M.Wa(1),1 === k && (this.p6=this.pra(),k=8 * (this.length - (this.M.offset - h)) + this.M.Yd,12 <= k && (k=this.M.Wa(11),1352 === k && (this.ira=this.M.Wa(1))))),22 === l && (k=this.M.Wa(1),1 === k && (this.p6=this.pra()),this.Nka=this.M.Wa(4))));n.u && this.M.console.trace("AudioSpecificConfig: audioObjectType=" + this.hu + ", samplingFrequency=" + this.Xra + ", channelConfiguration=" + this.UHa + ", extensionAudioObjectType=" + this.gW + ", sbrPresentFlag=" + this.bWa + ", psPresentFlag=" + this.ira + ", extensionSamplingFrequency=" + this.p6 + ", extensionChannelConfiguration=" + this.Nka + ", frameLengthFlag=" + this.I6 + ", coreCoderDelay=" + this.YIa + ", frameLength=" + this.IO);if(null === e || void 0 === e?0:e.$k)(e.$k.hu=this.hu,e.$k.Xra=this.Xra,e.$k.UHa=this.UHa,e.$k.gW=this.gW,e.$k.bWa=this.bWa,e.$k.ira=this.ira,e.$k.p6=this.p6,e.$k.Nka=this.Nka,e.$k.I6=this.I6,e.$k.YIa=this.YIa,e.$k.IO=this.IO);}this.skip();return !0;};f.prototype.$Ua=function(){var e;e=this.M.Wa(5);31 === e && (e=32 + this.M.Wa(6));return e;};f.prototype.koc=function(e){return e.tag === c.jwa.tag;};f.tag=5;return f;})(t.Uda);b.E2a=a;},91578:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Uda=void 0;d=a(22970);n=a(47887);t=(function(){function c(g,f,e){this.tag=g;this.view=f;this.M=e;this.startOffset=e.offset;}c.bDb=function(g,f,e){var h,l;h=g.md();l=g.PBc();g=new (n.TN[h] || c)(h,g.bqb(l),g);g.parse(f,e);return g;};Object.defineProperties(c.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});c.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.Yd=0;return !0;};c.prototype.Bob=function(g){var f,h;f=[];this.tag === g && f.push(this);if(this.TN)for(var e=0;e < this.TN.length;e++){h=this.TN[e];f=d.__spreadArray(d.__spreadArray([],f,!0),h.Bob(g),!0);}return f;};c.prototype.am=function(g){for(g=this.Bob(g);0 < g.length;)return g[0];};c.prototype.Xeb=function(g){for(this.TN=[];this.M.offset < this.startOffset + this.length;)this.TN.push(c.bDb(this.M,g,this));};return c;})();b.Uda=t;t.prototype.skip=t.prototype.parse;},47887:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.TN=void 0;t=a(22970);t.__exportStar(a(91578),b);t.__exportStar(a(48823),b);t.__exportStar(a(59909),b);t.__exportStar(a(27364),b);t=a(59909);d=a(27364);a=a(48823);b.TN={3:a.Kwa,4:t.jwa,5:d.E2a};},48823:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Kwa=void 0;d=a(22970);n=a(72905);t=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.parse=function(f){var e;this.qPb=this.M.Uf();e=this.M.md();this.RHb=!!(e & 128);this.Dcb=!!(e & 64);this.D8a=!!(e & 32);this.kJc=e & 31;this.pac=this.RHb?this.M.Uf():void 0;this.Dcb && this.M.OQ(this.M.md());this.wSb=this.D8a?this.M.Uf():void 0;n.u && this.M.console.trace("ESDescriptor: ES_ID=" + this.qPb + ", streamDependenceFlag=" + this.RHb + ", URL_Flag=" + this.Dcb + ", OCRstreamFlag=" + this.D8a + ", streamPriority=" + this.kJc + ", dependsOn_ES_ID=" + this.pac + ", OCR_ES_Id=" + this.wSb);this.Xeb(f);return !0;};g.tag=3;return g;})(a(91578).Uda);b.Kwa=t;},91562:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.hga=b.Qfa=b.DT=b.Wea=b.pT=b.v=b.uN=b.Rfa=b.jDa=b.SOb=b.O2=b.jcb=b.kcb=b.E7a=b.vH=b.fH=b.Q1=b.j2=b.MX=b.Wx=b.Vx=b.Dl=void 0;t=a(98516);d=a(2050);b.SOb=d;d=a(24500);b.jDa=d;d=a(66988);b.uN=d;b.Rfa=t.gY.Ae.sidx;n=a(43607);Object.defineProperties(b,{Dl:{enumerable:!0,get:function(){return n.Dl;}}});c=a(87349);Object.defineProperties(b,{Vx:{enumerable:!0,get:function(){return c.Vx;}}});g=a(66789);Object.defineProperties(b,{Wx:{enumerable:!0,get:function(){return g.Wx;}}});Object.defineProperties(b,{MX:{enumerable:!0,get:function(){return g.MX;}}});f=a(72978);Object.defineProperties(b,{j2:{enumerable:!0,get:function(){return f.j2;}}});e=a(47407);Object.defineProperties(b,{Q1:{enumerable:!0,get:function(){return e.Q1;}}});h=a(35982);Object.defineProperties(b,{fH:{enumerable:!0,get:function(){return h.fH;}}});l=a(32296);Object.defineProperties(b,{vH:{enumerable:!0,get:function(){return l.vH;}}});k=a(98516);Object.defineProperties(b,{E7a:{enumerable:!0,get:function(){return k.E7a;}}});Object.defineProperties(b,{kcb:{enumerable:!0,get:function(){return k.kcb;}}});Object.defineProperties(b,{jcb:{enumerable:!0,get:function(){return k.jcb;}}});m=a(70179);Object.defineProperties(b,{O2:{enumerable:!0,get:function(){return m.O2;}}});p=a(61049);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return p.v;}}});r=a(11526);Object.defineProperties(b,{pT:{enumerable:!0,get:function(){return r.pT;}}});q=a(80735);Object.defineProperties(b,{Wea:{enumerable:!0,get:function(){return q.Wea;}}});u=a(42328);Object.defineProperties(b,{DT:{enumerable:!0,get:function(){return u.DT;}}});v=a(51061);Object.defineProperties(b,{Qfa:{enumerable:!0,get:function(){return v.Qfa;}}});w=a(44248);Object.defineProperties(b,{hga:{enumerable:!0,get:function(){return w.hga;}}});},47407:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Q1=void 0;d=a(22970);t=a(87349);n=a(89931);a=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.ma=function(f){var e,h,l,k;e=this;if(!this.parse().done)return !1;h=this.Ae.moov;if(!h || 0 === h.length)return !1;l=h[0].am("tenc");if(!l)return !1;k=new Uint8Array(l.pz);f.forEach(function(m){for(var p=m.from,r=!0,q=0;q < p.length;q++)if(k[q] !== p[q]){r=!1;break;}r && e.Ce.Bra(m.from.length,m.to,l.lQa);});return (0,n.concat)(this.Ce.ma().Na);};return g;})(t.Vx);b.Q1=a;},61049:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.v=void 0;d=a(26388);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return d.v;}}});},98516:function(t,b,a){var D,F,H,E,G,K,N,I,L,O,J,Q,P,S,Y,X,T,U,Z,aa,da,fa,ma,R,M,V,ba,ha,ca,la,ra,ta,ja,W,ea,ka,pa,qa,na,Aa,Ha;function d(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function n(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function c(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function g(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);this.yXa=oa.config.yXa;this.fg=this.sizes=void 0;}function f(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function e(){for(var oa=new DataView(this),wa="",ya,ua=0;ua < this.byteLength;ua++)(ya=oa.getUint8(ua),wa+=("00" + ya.toString(16)).slice(-2));return wa;}function h(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function l(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function k(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function m(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function p(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function r(oa){function wa(ya,ua,xa,Ca,Ja){E.call(this,ya,ua,xa,Ca,Ja);this.Muc=oa;}wa.jd=!1;wa.prototype=new E();wa.prototype.constructor=wa;Object.defineProperties(wa.prototype,{y2a:{get:function(){return this.Muc;}}});wa.prototype.parse=function(){this.M.offset=this.startOffset + 4;this.pc.g_a(this.y2a);this.type=this.y2a;return !0;};return wa;}function q(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function u(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function v(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function w(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function x(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function y(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function A(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function z(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function B(oa,wa,ya,ua,xa){E.call(this,oa,wa,ya,ua,xa);}function C(oa,wa){oa.forEach(function(ya){wa[ya.ce]=ya;});}D=a(93334).assert;b=a(75589);F=a(49420).I;H=a(24500);a(2050);a(32296);a(32296);a(32296);E=a(72905).kf;G=a(71368)["default"];K=a(95797)["default"];N=a(85571)["default"];I=a(45645)["default"];L=a(35503)["default"];O=a(29973)["default"];J=a(19234)["default"];Q=a(28721)["default"];P=a(84379)["default"];a(71724);a(70428);S=a(40755).n_a;Y=a(40755).f3a;X=a(26856)["default"];T=a(29043)["default"];U=a(41192)["default"];Z=a(41192).v_a;aa=a(41192).w_a;da=a(41192).x_a;fa=a(41192).y_a;ma=a(41116)["default"];R=a(18319)["default"];M=a(56226)["default"];V=a(87206)["default"];ba=a(41192).I4a;ha=a(41192).w4a;ca=a(41192).z2a;la=a(41192).u_a;ra=a(97066)["default"];ta=a(96345)["default"];ja=a(31025)["default"];W=a(91056)["default"];ea=a(64280)["default"];a(91578);a(59909);a(27364);a(48823);ka=a(30717)["default"];pa=a(70179).O2;qa=a(89362)["default"];na=a(96989)["default"];Aa=a(23471)["default"];Ha=a(16530)["default"];a=a(53158)["default"];d.jd=!0;d.prototype=new E();d.prototype.constructor=d;n.jd=!0;n.prototype=new E();n.prototype.constructor=n;c.jd=!1;c.prototype=new E();c.prototype.constructor=c;c.prototype.parse=function(oa){var wa;this.Eh();1 === this.version?(this.M.ol(),this.M.ol(),this.P=this.M.Vb(),this.duration=this.M.ol()):(this.M.Vb(),this.M.Vb(),this.P=this.M.Vb(),this.duration=this.M.Vb());wa=this.M.Uf() & 32767;this.language=String.fromCharCode(96 + (wa >>> 10),96 + (wa >>> 5 & 31),96 + (wa & 31));oa && oa.wf && (oa.wf.P=this.P,oa.wf.duration=this.duration);return !0;};g.jd=!1;g.prototype=new E();g.prototype.constructor=g;g.prototype.lYb=function(){this.Eh();this.M.Vb();this.P=this.M.Vb();0 === this.version?(this.Umb=this.M.Vb(),this.Vob=this.M.Vb()):(this.Umb=this.M.ol(),this.Vob=this.M.ol());this.oEb=this.M.Uf();this.yDb=this.M.Uf();};g.prototype.sWb=function(oa,wa){var ya,ua,xa;ya=this.P;oa=oa && oa.P || ya;ua=oa / ya;ya=this.M.ora(wa,12,!1);xa=1 === ua?this.M.ora(wa,12,!1):H.from(Uint32Array,{length:wa},function(){var Ca;Ca=Math.round(this.M.Vb() * ua);this.M.offset+=8;return Ca;},this);this.cZb(wa,xa,ya,oa);};g.prototype.cZb=function(oa,wa,ya,ua){if(this.yXa){ua=this.yXa * ua / 1E3;for(var xa=0,Ca=1;Ca < oa;Ca++)Math.abs(wa[xa] - ua) > Math.abs(wa[xa] + wa[Ca] - ua)?(wa[xa]+=wa[Ca],ya[xa]+=ya[Ca]):(++xa,xa !== Ca && (wa[xa]=wa[Ca],ya[xa]=ya[Ca]));++xa;wa=new Uint32Array(wa.buffer.slice(0,4 * xa));ya=new Uint32Array(ya.buffer.slice(0,4 * xa));}this.sizes=ya;this.fg=wa;};g.prototype.parse=function(oa){var wa,ya,ua,xa;this.lYb();this.Ea=oa.Ea;wa=this.P;ya=this.Ea && this.Ea.P || wa;ua=this.yDb;xa=this.startOffset + this.length + this.Vob;wa=new F(this.Umb,wa).Rc(ya).ia;this.La={P:ya,xt:wa,offset:xa};this.sWb(this.Ea,ua);this.La.fg=this.fg;this.La.sizes=this.sizes;oa.tn=this;return !0;};f.jd=!1;f.prototype=new E();f.prototype.constructor=f;f.prototype.parse=function(){var oa;this.YC=[];this.Pyc=[];oa=(this.length - 11) / 2;this.M.md();this.M.md();this.M.md();for(var wa=0;wa < oa;wa++)(this.YC.push(this.M.md()),this.Pyc.push(this.M.md()));return !0;};h.jd=!1;h.prototype=new E();h.prototype.constructor=h;h.prototype.parse=function(oa){var wa;this.Eh();this.M.offset+=1;if(0 == this.version)this.M.offset+=1;else {wa=this.M.md();this.aac=wa >> 4;this.fac=wa & 15;oa && oa.wf && (oa.wf.LXc=this.aac,oa.wf.OXc=this.fac);}this.Zlb=this.M.md();this.Ylb=this.M.md();this.lQa=this.M.offset;this.pz=this.M.dZ(16);this.pz.toString=e;oa && oa.wf && (oa.wf.MXc=this.Zlb,oa.wf.cac=this.Ylb,oa.wf.NXc=this.pz);1 == this.Zlb && 0 == this.Ylb && (this.$$b=this.M.md(),this.Z$b=this.M.dZ(this.$$b),oa && oa.wf && (oa.wf.bac=this.Z$b));return !0;};l.jd=!1;l.prototype=new E();l.prototype.constructor=l;l.prototype.parse=function(){this.Eh();this.Du=this.M.Uf();this.ltc=this.M.ora(this.Du,void 0,!0);return !0;};k.jd=!1;k.prototype=new E();k.prototype.constructor=k;k.prototype.parse=function(oa){var wa,ya,ua,xa,Ca,Ja;wa=oa.tn;D(wa);oa=oa.Ea;ya=wa.P;wa=wa.yDb;D(oa);D(ya);D(wa);this.Eh();D(2 > this.version);this.Du=this.M.Uf();this.TY=new Uint16Array(wa + 1);ua=oa.bsb(ya);xa=ua / ya;Ca=oa.Rc(ua).ia;if(0 === this.version)for((this.DZ=new Uint16Array(),this.xf=new Uint32Array(),oa=ya=0);oa <= wa;++oa){if((this.TY[oa]=ya,oa < this.Du)){Ja=this.M.md();if(0 !== Ja)for(ua=0;ua < Ja;(++ua,++ya))(this.DZ[ya]=Math.floor((this.M.Vb() + 1) * xa) / Ca,this.xf[ya]=this.M.Vb());}}else if(1 === this.version)for((ua=this.M.MBc(this.Du),this.M.offset+=4,this.xf=this.M.ora(this.Du,10,!1),this.M.offset-=8,this.DZ=H.from(Uint16Array,{length:this.Du},function(){var Ka;Ka=Math.floor((this.M.Vb() + 1) * xa) / Ca;this.M.offset+=6;return Ka;},this),ya=oa=0);oa <= wa;++oa){for(;ya < ua.length && ua[ya] < oa;)++ya;this.TY[oa]=ya;}this.Pl={TY:this.TY,DZ:this.DZ,xf:this.xf};return !0;};m.jd=!0;m.prototype=Object.create(d.prototype);m.prototype.constructor=m;p.jd=!0;p.prototype=Object.create(d.prototype);p.prototype.constructor=p;p.prototype.YE=function(){var oa;oa=this.Sr("tfhd");oa && (this.Cy=oa.Yhb?oa.Cy:this.parent.startOffset);return !0;};q.jd=!1;q.prototype=new E();q.prototype.constructor=q;q.prototype.parse=function(){var oa,Oa;oa=this.M.offset;this.Eh();if(1 === this.version){this.M.offset+=2;for(var wa=this.M.offset,ya=this.M.md(),ua=this.M.md(),xa=this.M.md(),Ca=this.M.md(),Ja=this.M.Uf(),Ka=[],La=0;La < Ja;++La)Ka=this.M.md();La=(ya & 240) >>> 4;Oa=(ya & 14) >>> 1;ya&=1;xa=16 === xa?1:0;ua != Ca && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + ua + " and matrixCoefficients " + Ca + " should be the same value!");Ca=2;switch(ua){case 1:Ca=2;break;case 6:Ca=1;break;case 9:Ca=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + ua + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.pc.th(this.version,oa);this.pc.th(La << 4 | Ca,wa++);this.pc.th(Oa << 4 | xa << 1 | ya,wa++);Ja+=2;Ka.push(0,0);this.pc.qS(Ja,!1);wa+=2;Ka.forEach(function(Na){this.pc.th(Na,wa++);});}return !0;};u.jd=!1;u.prototype=new E();u.prototype.constructor=u;u.ce="tfhd";Object.defineProperties(u.prototype,{Yhb:{get:function(){return this.flags & 1;}},REc:{get:function(){return this.flags & 2;}},dac:{get:function(){return this.flags & 8;}},eac:{get:function(){return this.flags & 16;}},$lb:{get:function(){return this.flags & 32;}}});u.prototype.parse=function(oa){this.Eh();this.B_=this.M.Vb();this.Cy=this.Yhb?this.M.ol():void 0;this.$Eb=this.REc?this.M.Vb():void 0;this.qB=this.dac?this.M.Vb():void 0;this.rB=this.eac?this.M.Vb():void 0;this.JE=this.$lb?this.M.Vb():void 0;oa && oa.Na && (oa.Na.B_=this.B_,oa.Na.Cy=this.Cy,oa.Na.$Eb=this.$Eb,oa.Na.qB=this.qB,oa.Na.rB=this.rB,oa.Na.JE=this.$lb?this.JE:void 0);return !0;};v.jd=!1;v.prototype=new E();v.prototype.constructor=v;v.prototype.parse=function(oa){this.Eh();this.pE=1 === this.version?this.M.ol():this.M.Vb();oa && oa.Na && (oa.Na.pE=this.pE);return !0;};v.prototype.ma=function(oa){var wa;wa=this.startOffset + 12;this.pE+=oa;1 === this.version?this.pc.WLb(this.pE,wa):this.pc.Gm(this.pE,wa);};w.jd=!1;w.prototype=Object.create(E.prototype);w.prototype.constructor=w;Object.defineProperties(w.prototype,{vN:{get:function(){return this.flags & 1;}}});w.prototype.parse=function(oa){this.Eh();this.vN && this.M.Xz();this.vN && this.M.Vb();this.RJa=this.M.md();this.yd=this.M.Vb();0 === this.RJa && this.M.OQ(this.yd);oa && oa.Na && (oa.Na.MEc=this.yd);return !0;};w.prototype.ma=function(oa,wa){if(oa){oa=wa?this.yd - oa:oa;this.pc.offset=this.startOffset + 13 + (this.vN?8:0);this.yd-=oa;this.pc.Gm(this.yd);if(0 !== this.RJa){this.Tra=wa?0:this.RJa * oa;return;}this.Tra=0;if(wa)this.pc.offset+=this.yd;else {for(wa=0;wa < oa;++wa)this.Tra+=this.pc.md();this.pc.offset-=oa;}this.Ip(oa,this.M.offset);}return !0;};x.jd=!1;x.prototype=Object.create(E.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{vN:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(oa){var wa,ya,La,Oa;this.Eh();this.vN && this.M.Xz();this.vN && this.M.Vb();this.Du=this.M.Vb();D(1 === this.Du,"Expected a single entry in Sample Auxiliary Information Offsets box");this.vk=0 === this.version?this.M.gaa():this.M.gDb();this.M.offset=this.vk;if(oa && oa.Na && oa.wf){wa=oa.wf.cac;ya=oa.Na.MEc;D(0 < wa || void 0 !== oa.wf.bac,"Expected per sample or constant IV");D(0 < ya,"Expected saix box parsing to find sample count");oa.Na.hR=[];for(var ua=0;ua < ya;ua++){for(var xa=wa?this.M.dZ(wa):void 0,Ca=[],Ja=this.M.Uf(),Ka=0;Ka < Ja;Ka++){La=this.M.Uf();Oa=this.M.Vb();Ca.push({c3b:La,d3b:Oa});}oa.Na.hR.push({fYa:Ca,Oxa:xa});}}return !0;};x.prototype.ma=function(oa,wa){this.vk+=oa;this.pc.offset=this.startOffset + 16 + (this.vN?8:0) + (0 === this.version?0:4);this.pc.j_a(wa,this.vk);return !0;};y.jd=!1;y.prototype=Object.create(E.prototype);y.prototype.constructor=y;A.jd=!1;A.prototype=Object.create(y.prototype);A.prototype.constructor=A;Object.defineProperties(y.prototype,{nTa:{get:function(){return !1;}},XKb:{get:function(){return this.flags & 2;}}});Object.defineProperties(A.prototype,{nTa:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(oa){var wa,Ja,Ka;this.Eh();wa=0;this.nTa && (wa=this.Hpc=this.M.Vb() & 255,this.kid=this.M.OQ(16));if(oa && oa.Na){if(oa.Na.hR)return !0;oa.Na.Hk || (oa.Na.Hk=[]);}if(0 !== wa && 8 !== wa && 16 !== wa)return !0;this.yd=this.M.Vb();if(oa && oa.Na)for(var ya=0;ya < this.yd;ya++)if((oa.Na.Hk[ya].Oxa=0 < wa?this.M.dZ(wa):void 0,this.XKb)){for(var ua=[],xa=this.M.Uf(),Ca=0;Ca < xa;Ca++){Ja=this.M.Uf();Ka=this.M.Vb();ua.push({c3b:Ja,d3b:Ka});}oa.Na.Hk[ya].fYa=ua;}return !0;};A.prototype.ma=function(oa,wa){return y.prototype.ma.call(this,oa,wa,28 + (this.nTa?20:0));};y.prototype.ma=function(oa,wa,ya){var ua;oa=wa?this.yd - oa:oa;this.pc.offset=this.startOffset + (ya || 12);this.yd-=oa;this.pc.Gm(this.yd);ya=this.pc.offset;if(this.XKb)for(oa=wa?this.yd:oa;0 < oa;--oa){this.pc.offset+=8;ua=this.pc.Uf();this.pc.offset+=6 * ua;}else this.pc.offset+=8 * (wa?this.yd:oa);wa?this.Ip(this.length - (this.M.offset - this.startOffset),this.M.offset):this.Ip(this.M.offset - ya,ya);};z.jd=!1;z.prototype=Object.create(E.prototype);z.prototype.constructor=z;z.prototype.parse=function(oa){this.Eh();if(oa && oa.Na){void 0 === oa.Na.Hk && (oa.Na.Hk=[]);for(var wa=0;wa < this.length - 12;wa++)oa.Na.Hk[wa].f3c=this.M.md();}return !0;};z.prototype.ma=function(oa,wa,ya){if(this.length - 12 !== wa)return !0;ya?this.Ip(wa - oa,this.startOffset + 12 + oa):this.Ip(oa,this.startOffset + 12);return !0;};B.jd=!1;B.prototype=Object.create(E.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Eh();this.M.Xz();1 === this.version && this.M.Vb();this.Du=this.M.Vb();this.Qaa=[];for(var oa=0;oa < this.Du;++oa)for(var wa=this.M.Vb(),ya=this.M.Vb(),ua=0;ua < wa;++ua)this.Qaa.push(ya);return !0;};B.prototype.ma=function(oa,wa){this.Qaa=wa?this.Qaa.slice(0,oa):this.Qaa.slice(oa);oa=this.Qaa.reduce(function(ya,ua){0 !== ya.length && ya[ya.length - 1].group === ua || ya.push({group:ua,count:0});++ya[ya.length - 1].count;return ya;},[]);this.pc.offset=this.startOffset + 16 + (1 === this.version?4:0);this.pc.Gm(oa.length);oa.forEach((function(ya){this.pc.Gm(ya.count);this.pc.Gm(ya.group);}).bind(this));this.Du > oa.length && this.Ip(8 * (this.Du - oa.length));this.Du=oa.length;return !0;};U={Ae:{moov:n,trak:d,mdia:d,mdhd:c,minf:d,encv:U,schi:d,sidx:g,sinf:d,senc:y,stbl:d,tenc:h,mvex:d,moof:m,traf:p,tfhd:u,trun:pa,sbgp:B,sdtp:z,saiz:w,saio:x,tfdt:v,mdat:Ha,vmaf:f,edts:d},lLc:{vpcC:q,SmDm:r("smdm"),CoLL:r("coll")},CJb:{schm:ma},$Va:{}};C([R,M,O,a,na,J,qa,Q,ba,ha,ca,V,la,G,I,W,ea,L,P,K,N,ka,pa],U.Ae);C([S,X,Z,aa,da,fa,Y,T,ta,ra,Aa],U.$Va);C([R,ma],U.CJb);U.Ae[b.Z8a]=h;U.Ae[b.Rea]=l;U.Ae[b.Qea]=k;U.Ae[b.Y8a]=A;U.$Va[b.Pza]=ja;U.kf=E;t.exports={gY:U};},66789:function(t,b,a){var n,c,g,f,e,h;function d(l){return "number" === typeof l[0] || void 0 === l[0]?{Gk:l[0],P:l[1],nE:l[2],OVa:l[3],eR:l[4]}:l[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.Wx=void 0;b.MX=function(l){var k,m;k=new ArrayBuffer(8);m=new DataView(k);m.setUint32(0,l + 8);m.setUint32(4,(0,g.cEa)("mdat"));return k;};n=a(22970);c=a(75589);t=a(87349);g=a(32296);f=a(93334);e=a(72905);h=a(16530);a=(function(l){function k(m,p,r){return l.call(this,m,p,r) || this;}n.__extends(k,l);k.prototype.KDb=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return this.ma(n.__assign(n.__assign({},d(m)),{rVa:!1}));};k.prototype.TDb=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return this.ma(n.__assign(n.__assign({},d(m)),{rVa:!0}));};k.prototype.ma=function(m){var r,q,u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I,L,O,J,Q;function p(S){z=A[S];B=z.Sr("traf");if(void 0 === B || void 0 === B.Cy)return !1;H=B.Sr("tfdt");if(void 0 === H)return !1;C=B.Sr("trun");return void 0 === C?!1:!0;}r=m.Gk;q=m.P;u=m.rVa;v=m.nE;w=m.OVa;w=void 0 === w?!1:w;x=m.eR;x=void 0 === x?!1:x;y=m.SP;m=m.$ja;m=void 0 === m?!1:m;if(!this.parse().done)return !1;A=this.Ae.moof;if(!A || 0 === A.length)return !1;if(void 0 !== r){D=r;for(r=0;r < A.length;++r){if(!p(r,this.Ce.console.trace))return !1;(0,f.assert)(z && B && H && C && void 0 !== C.yd);if(C.yd > D || u && C.yd === D)break;D-=C.yd;}(0,f.assert)(z && B && H && C);}else if((r=u?A.length - 1:0,!p(r,this.Ce.console.trace)))return !1;(0,f.assert)(z && B && H && C);if(u && r < A.length - 1){F=A[r + 1];this.Ce.Ip(this.view.byteOffset - F.startOffset,F.startOffset);}else !u && 0 < r && this.Ce.Ip(z.startOffset,0);F=B.Sr("tfhd");if(void 0 === F)return !1;H=B.Sr("tfdt");E=C.yd;G=B.Sr("saiz");K=B.Sr("saio");N=B.Sr(c.Y8a) || B.Sr("senc");I=B.Sr("sbgp");if(!(!G && !K || G && K))return !1;L=B.Sr("sdtp");O=e.kf.ZE(this,"mdat");if(O && r < O.length)J=O[r];else {if(r !== A.length - 1)return !1;if(this.Ce.offset <= this.view.byteLength - 8){O=this.Ce.offset;Q=this.Ce.Vb();"mdat" === this.Ce.Xz() && (J=new h.default(this.Ce,"mdat",O,Q));}}void 0 === D && (D=u?C.yd:0);if("number" === typeof v && 0 < v){O=u?D:C.yd - D;Q=Array(O);for(var P=0;P < O;++P)Q[P]=u?P >= O - v?-Infinity:0:P < v?-Infinity:0;v=Q;}if(C.ma(B,F,m?void 0:J || this.Ce,q,D,B.Cy,u))C.lka && ((0,f.assert)(void 0 !== C.iHb),(0,f.assert)(void 0 !== C.TZ),!u && H && H.ma(C.iHb),G && K && (G.ma(C.TZ,u),K.ma(N?0:G.Tra,B.Cy)),N && N.ma(C.TZ,u),L && L.ma(C.TZ,E,u),I && I.ma(C.TZ,u));else if(!u){if(r === A.length - 1)return !1;this.Ce.Ip(A[r + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === C.TZ)return !1;Array.isArray(v) && J && this.stream.profile && void 0 !== w && !m && C.huc(B,F,J,v,this.stream.profile,w,x,y);u=this.Ce.ma();q=u.Na;u=u.JI;v=q.reduce(function(S,Y){return S + Y.byteLength;},0);return {Na:q,length:v,nQ:this.Ce.view.byteLength,JI:u};};return k;})((function(l){function k(m,p,r){return l.call(this,m,p,r) || this;}n.__extends(k,l);return k;})(t.Vx));b.Wx=a;},72978:function(t,b,a){var n,c,g,f,e,h,l;function d(k){var r;for(var m={},p=k.length - 1;0 <= p;p--){r=k[p];r=("").concat(r.ZF,"-").concat(r.id);m[r]?k.splice(p,1):m[r]=!0;}}Object.defineProperties(b,{__esModule:{value:!0}});b.j2=void 0;c=a(22970);g=a(98776);f=a(29770);e=a(25564);t=a(87349);h=a(43607);l=a(48014);a=(function(k){function m(p,r,q){q=k.call(this,p,r,q) || this;q.console=p;q.stream=r;return q;}c.__extends(m,k);m.prototype.parse=function(p){var r,q,u,v,w,x,y,A,z;r=this;q=(null === p || void 0 === p?void 0:p.Na) || ({});u=k.prototype.parse.call(this,p?c.__assign(c.__assign({},p),{Na:q}):{Na:q});if(!u.done || !q.Hk || void 0 === q.vk)return u;v=h.Dl.path(this,["moof"]);if(!v)return c.__assign(c.__assign({},u),{done:!1});w=(null === p || void 0 === p?void 0:p.events) || [];x=v.byteOffset + q.vk;y=q.pE || 0;q.Hk.forEach(function(B){var C,D;C=new DataView(r.view.buffer,r.view.byteOffset + x,B.lG);C=r.Zxc(C);D=y + (B.QEc || 0);null !== A && void 0 !== A?A:A=D;z=D + B.EZ;C && C.emib && C.emib.forEach(function(F){w.push({ZF:D + F.qAc,eW:F.eW,id:F.id,HK:F.HK,value:F.value,MF:F.MF});});x+=B.lG;y+=B.EZ;});p && p.VIb && (p.VIb.hYc=A,p.VIb.o0c=z);d(w);return u;};m.prototype.Zxc=function(p){var r;r=new l.Tda(p.byteLength);p=new e.l0(m.Ae,r,p,this.console,{mqa:!0});return p.parse().done?p.Ae:void 0;};m.Ae=(n={},n[g.default.ce]=g.default,n[f.default.ce]=f.default,n);return m;})(t.Vx);b.j2=a;},35982:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fH=void 0;d=a(32296);n={stsd:16};b.fH=(function(){function c(){}c.path=function(g,f){var m,p;for(var e=0,h=g.byteLength,l,k=0;k < f.length;k++){m=f[k];for(l && (e+=n[l] || 8);e < h;){p=g.getUint32(e);l=(0,d.vH)(g.getUint32(e + 4));if(l === m){h=e + p;break;}if(0 === p)return {};e+=p;}}return e < h?{offset:e,end:h}:{};};c.$nb=function(g){var f,e,h,l,k;f=this.path(g,["moof","traf"]).offset;if(void 0 !== f){g=new DataView(g.buffer,g.byteOffset + f + 8);e=this.path(g,["tfdt"]).offset;if(void 0 !== e){1 === g.getUint8(e + 8)?(f=g.getUint32(e + 12),e=g.getUint32(e + 16),f=4294967296 * f + e):f=g.getUint32(e + 12);h=this.path(g,["trun"]).offset;if(void 0 === h)return {A_:f};l=g.getUint8(h + 8);k=g.getUint32(h + 8) & 16777215;e=g.getUint32(h + 12);k & 2048?(h=h + 16 + ((k & 1) << 2) + (k & 4) + (((k & 256) >> 6) + ((k & 512) >> 7) + ((k & 1024) >> 8)),g=1 === l?g.getInt32(h):g.getUint32(h)):g=0;return {A_:f,Cw:g,kG:e};}}};return c;})();},87349:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Vx=void 0;d=a(25564);n=a(98516);c=a(48014);t=(function(){function g(f,e,h){this.console=f;this.stream=e;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}g.prototype.parse=function(f){var e;e=new c.Tda(this.view.byteLength);this.Ce=new d.l0(n.gY.Ae,e,this.view,this.console,{mqa:!0});f=this.Ce.parse(f);this.Ae=this.Ce.Ae;return f;};return g;})();b.Vx=t;},43607:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Dl=void 0;d=a(22970);n=a(3265);c=a(89931);g=a(93334);f=a(49420);e=a(72905);t=a(91056);h=a(64280);l=a(25564);k=a(2050);m=a(98516);p=a(75589);r=a(48014);q=a(35202);d.__exportStar(a(56122),b);a=(function(){function u(v,w,x,y,A,z){this.console=v;this.stream=w;this.Yz=y;this.O_b=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=z || ({});this.$lc=(0,k.rhc)();}u.path=function(v,w){return w.reduce(function(x,y){return x && x.Ae[y] && x.Ae[y][0];},v);};u.Qic=function(v){return v && v.yIa && -1 !== v.yIa.indexOf("mcl0")?"mcl0":void 0;};u.Oec=function(v,w){var x,y;(0,g.assert)("mcl0" === v,"Unsupported McClearen brand");x=w.La;v=x.fg;w=new f.I(120,1).Rc(x.P).ia;y=0;for(x=x.xt;y < v.length && x < w;)x+=v[y++];return y;};u.prototype.parse=function(v){var w;w=this.ZEc();if(!w.done){if(w.Iyb)return {Kz:!1,Nha:w.Iyb};this.console.error("Scan error: " + w.error);return {Kz:!1,parseError:w.error || "unknown mp4 scan error"};}v && (v.mediaType=this.stream.mediaType,v.oxc=v.Ea);this.view=new DataView(this.view.buffer,this.view.byteOffset,w.offset);v=this.Xxc(v);return v.done?this.y6b():(this.console.error("Parse error: " + v.error),{Kz:!1,parseError:v.error || "unknown mp4 parse error"});};u.prototype.ZE=function(v){return e.kf.ZE(this,v);};u.prototype.am=function(v){return e.kf.am(this,v);};u.prototype.ZEc=function(){var v,w;v=new r.Q4a(this.Yz,this.O_b?[p.Rea,p.Qea]:[],this.config && this.config.g4c || ["moof",p.e8a],this.config && this.config.BTa);w=d.__assign(d.__assign({},this.config),{mqa:!1});return new l.l0(u.dWa,v,this.view,this.console,w).parse();};u.prototype.Xxc=function(v){var w,x,y;w=new r.Tda(this.view.byteLength);x=Object.create(m.gY.Ae);this.config && ((this.config.YAb || this.config.BJb || this.config.Isa) && n(m.gY.$Va,x),this.config.XYa && n(m.gY.lLc,x),this.config.BJb && n(m.gY.CJb,x));y=d.__assign(d.__assign({},this.config),{mqa:!0});this.Ce=new l.l0(x,w,this.view,this.console,y);v=this.Ce.parse(v);v.done && (this.Ae=this.Ce.Ae);return v;};u.prototype.y6b=function(){var v,w,x,y,A,z,B,C;w={Kz:!0};x=u.path(this,["moov"]);y=null === x || void 0 === x?void 0:x.ZE("trak");if(1 === (null === y || void 0 === y?void 0:y.length)){A=y[0].Sr("tkhd");A && (w.trackId=A.Hc.trackId);}A=u.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.YAb)if(A)(w.Ea=A.Ea,w.e3c=A.Ae);else return {Kz:!1,parseError:"Missing sample descriptions"};z=u.path(A,["encv","sinf","schi"]);z && (z=u.path(z,["tenc"]) || u.path(z,[p.Z8a])) && (w.Ycc={hXc:z.pz,lQa:z.lQa,h0c:!1});if(z=u.path(x,["trak","mdia","mdhd"]))w.P=z.P;if(z=u.path(x,["mvex","trex"]))w.Kja=z && z.Hc.Kja;w.Kja && w.P && (w.Ea=new f.I(w.Kja,w.P));(z=u.path(x,["trak","edts","elst"])) && (null === (v=z.Y5) || void 0 === v?0:v.length) && w.P && (w.NV=new f.I(z.Y5[0].utc,w.P));if(v=u.path(this,["sidx"])){z=(z=u.path(this,[p.Rea])) && z.ltc;B=u.path(this,[p.Qea]);B=B && B.Pl;w.La=v.La;w.fY=z;w.Pl=B;}if(z=this.Ae.vmaf && this.Ae.vmaf[0])w.YC=z.YC;if(this.config.wVa && (z=u.path(x,["mvex"])) && y && y.length){C=y.reduce(function(D,F){return F.byteOffset > D.byteOffset?F:D;});C.byteOffset > z.byteOffset && (y=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),B=(0,q.MJb)(y,Uint8Array,z.byteOffset,z.byteOffset + z.byteLength),C=(0,q.MJb)(y,Uint8Array,z.byteOffset + z.byteLength,C.byteOffset + C.byteLength),y.set(C,z.byteOffset),y.set(B,z.byteOffset + C.byteLength));}if(this.config.wEc)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.Isa && A && 1 < A.qO && v && (w.pj=this.Isa(A,v)),void 0 === w.pj && (x=this.Ce.lka?(0,c.concat)(this.Ce.ma().Na):this.view.buffer,w.pj=[{ef:0,data:x}]));else return {Kz:!1,parseError:"Missing movie box"};w.Kz=!0;w.nqa=this.Ce.offset;return w;};u.prototype.trim=function(v){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.Ce.trim(v);this.view=new DataView(w);};u.prototype.Isa=function(v,w){var x,y,A;x=Object.keys(v.Ae);y=x.filter(function(z){return "encv" !== z;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);A=u.Qic(x);if(A)return (x=[],this.Ce.BBc(),v.QDb("encv"),x.push({ef:0,Ny:!1,data:(0,c.concat)(this.Ce.ma().Na)}),this.Ce.Bzc(),v.QDb(y[0]),v=u.Oec(A,w),x.push({ef:v,Ny:!0,data:(0,c.concat)(this.Ce.ma().Na)}),x);}};u.dWa={};return u;})();b.Dl=a;a.dWa[p.Qza]=t.default;a.dWa[p.Rza]=h.default;},32296:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.vH=function(n){(0,d.assert)("number" === typeof n);return String.fromCharCode(n >>> 24 & 255) + String.fromCharCode(n >>> 16 & 255) + String.fromCharCode(n >>> 8 & 255) + String.fromCharCode(n & 255);};b.cEa=function(n){return n.charCodeAt(3) + (n.charCodeAt(2) << 8) + (n.charCodeAt(1) << 16) + (n.charCodeAt(0) << 24);};b.BVc=function(n,c){return Math.floor(1E3 * n / c);};d=a(93334);},75589:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qza="6674654e-696c-5078-6966-665374726d21";b.Rza="6674654e-696c-4878-6165-6465722e7632";b.e8a="6674654e-696c-5078-6966-66496e646578";b.Rea="6674654e-696c-4d78-6f6f-6653697a6573";b.Qea="6674654e-696c-5378-6565-6b506f696e74";b.Z8a="cedb7489-e77b-514c-84f9-7148f9882554";b.Y8a="524f39a2-9b5a-144f-a244-6c427c648df4";b.Pza="6674654e-696c-4678-7261-6d6552617465";},11526:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.pT=void 0;d=a(25337);t=(function(){function n(c,g,f){this.view=c;this.sI=g;this.console=f;this.M=new d.gga(c,f);}n.prototype.parse=function(){var c,g,f;c=this.M.Uf();try{g=this.sI(this.M.OQ(c));f=JSON.parse(g);}catch(e){this.console.error("Invalid event header:",e);return;}c=this.M.OQ(this.view.byteLength - this.M.offset);return {header:f,body:c};};n.HK="urn:netflix:media_event:v1";return n;})();b.pT=t;},42328:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.DT=void 0;d=a(25337);n={16:"programstart",17:"programend",19:"programbreakaway",34:"breakstart",35:"breakend",50:"breakstart",51:"breakend",52:"breakstart",53:"breakend",54:"breakstart",55:"breakend",60:"breakstart",61:"breakend",62:"breakstart",63:"breakend",66:"breakstart",67:"breakend",68:"breakstart",69:"breakend",70:"breakstart",71:"breakend"};t=(function(){function c(g,f){this.view=g;this.console=f;this.M=new d.gga(g,f);}c.prototype.parse=function(){var g,f,e,h,l,k,m,p;this.M.offset+=13;g=this.M.md();switch(g){case 0:break;case 5:(f=this.tyc(),e=f.wxc);g=f.tIc;f=f.D2b;return void 0 === e || void 0 === g?void 0:e?{event:"breakstart",ZF:g,duration:f}:{event:"breakend",ZF:g};case 6:e=this.ZAb();break;case 4:case 7:case 255:return;default:throw Error(("Unknown splice_command_type: ").concat(g));}if(void 0 !== e)for((g=this.M.Uf(),g=this.M.offset + g);this.M.offset < g;){f=this.M.md();h=this.M.md();if(2 === f){f=this.syc(h);h=f.bba;l=f.cba;k=f.JZ;m=f.xFb;p=f.zFc;if(void 0 !== h)return {event:c.wWa[h],bba:h,cba:l,JZ:k,ZF:e,id:m,duration:p};if(f.wFb)return {event:"cancel",ZF:e,id:m};}else this.M.offset+=h;}};c.prototype.tyc=function(){var g,f,e,h,l,k;this.M.offset+=4;if(!(this.M.md() >> 7)){g=void 0;f=void 0;e=this.M.Wa(1);h=this.M.Wa(1);if(!h)throw Error("Component splice mode is deprecated");l=this.M.Wa(1);k=this.M.Wa(1);this.M.Wa(4);h && !k && (g=this.ZAb());l && (f=this.Yxc());return {wxc:e,tIc:g,D2b:f};}return {};};c.prototype.ZAb=function(){var g;if(this.M.Wa(1)){this.M.Wa(6);g=this.M.Wa(33);}else this.M.Wa(7);return g;};c.prototype.Yxc=function(){this.M.Wa(1);this.M.Wa(6);return this.M.Wa(33);};c.prototype.syc=function(g){var f,e,h,l,k,m,p;e=this.M.offset;this.M.Vb();h=this.M.Vb();l=this.M.Wa(1);this.M.Wa(7);if(0 === l){k=this.M.Wa(1);m=this.M.Wa(1);this.M.Wa(1);this.M.Wa(5);if(!k)throw Error("Component splice mode is deprecated");m && (f=this.M.Wa(40));k=this.M.md();m=this.M.md();m=0 < m?this.M.dZ(m):void 0;p=this.M.md();this.M.offset=e + g;return {bba:p,cba:k,JZ:m,xFb:h,wFb:l,zFc:f};}this.M.offset=e + g;return {xFb:h,wFb:l};};c.HK="urn:scte:scte35:2013:bin";c.wWa=n;return c;})();b.DT=t;},48014:function(t,b,a){var n;function d(c,g){c=g.indexOf(c);-1 !== c && g.splice(c,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Q4a=b.Tda=void 0;n=a(75589);t=(function(){function c(g){this.endOffset=g;this.done=!1;}c.prototype.kpb=function(){return this.done;};c.prototype.Fmb=function(g,f,e){return this.done=f + e >= this.endOffset;};return c;})();b.Tda=t;t=(function(){function c(g,f,e,h){void 0 === f && (f=[]);void 0 === e && (e=[]);void 0 === h && (h=!1);this.Yz=g;this.Tja=f;this.DIb=e;this.BTa=h;this.done=!1;this.vo={};}c.prototype.kpb=function(g,f,e){-1 !== c.nmc.indexOf(g) && (this.vo[g]={offset:f,size:e});if(-1 !== this.DIb.indexOf(g)){if((this.vo[g]={offset:f,size:e},this.BTa))this.endOffset=f + e;else return (this.endOffset=f,this.done=!0);}else this.Yz && -1 !== this.Yz.indexOf(g)?(g=1 < this.Yz.length?4096:0,this.endOffset=Math.max(f + e + g,this.endOffset || 0)):-1 !== this.Tja.indexOf(g) && (g=this.Yz?4096:0,this.endOffset=Math.max(f + e + g,this.endOffset || 0));return this.done;};c.prototype.Fmb=function(g,f,e,h){var l;l=this;if(-1 !== this.DIb.indexOf(g))return this.done=!0;g === n.Qza && this.tGb(h.vo);g === n.Rza && this.tGb(h.vo);this.Yz && d(g,this.Yz);d(g,this.Tja);return this.Yz && 0 === this.Yz.length && !this.Tja.some(function(k){return l.vo[k];})?this.done=!0:this.done;};c.prototype.tGb=function(g){var f;f=this;this.vo=g;this.endOffset=(this.Yz || []).concat(this.Tja).reduce(function(e,h){return f.vo[h]?(h=f.vo[h],Math.max(h.offset + (h.size || 4096),e)):e;},this.endOffset || 0);};c.nmc=["moov","sidx"];return c;})();b.Q4a=t;},80735:function(t,b){function a(d){var n,f,e;n=d.length;if(!(0 <= n))throw Error("bad string");for(var c=0,g=n;g--;){f=d.charCodeAt(g);128 > f?c++:c=2048 > f?c + 2:c + 3;}c=new Uint8Array(c);e=0;for(g=0;g < n;g++)(f=d.charCodeAt(g),128 > f?c[e++]=f:(2048 > f?c[e++]=192 | f >>> 6:(c[e++]=224 | f >>> 12,c[e++]=128 | f >>> 6 & 63),c[e++]=128 | f & 63));return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.Wea=void 0;t=(function(){function d(n,c,g){this.header=n;this.body=c;this.wka=g;}d.prototype.encode=function(n){var c;c=(this.wka || a)(JSON.stringify(this.header));n.qS(c.length);n.i_a(c);n.i_a(this.body);};return d;})();b.Wea=t;},51061:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Qfa=void 0;d=a(93334);t=(function(){function n(c){this.message=c;}n.prototype.encode=function(c){var g,f,e,h,l;c.th(252);c.qS(12288);g=c.offset;c.th(0);c.th(0);c.Gm(0);c.th(0);c.qS(65520);c.th(0);c.th(6);f=c.offset;this.wOc(c);e=c.offset;c.qS(0);c.th(2);c.th(0);this.vOc(c);h=c.offset;l=e - f;(0,d.assert)(256 > l);c.Qha(f - 2);c.th(l & 255);f=h - e - 4;l=h - e - 2;c.Qha(e);c.qS(l);c.X_b();c.th(f);e=h - g + 4;(0,d.assert)(256 > e);c.Qha(g - 1);c.th(e & 255);c.Qha(h);c.Gm(0);};n.prototype.wOc=function(c){var g;g=(this.message.ZF - (this.message.ZF & 4294967295)) / 4294967296;(0,d.assert)(2 > g);c.th(254 + g);c.Gm(this.message.ZF & 4294967295);};n.prototype.vOc=function(c){var g,f;c.Gm(0);c.Gm(this.message.id || 0);c.th("cancel" === this.message.event?255:127);if("cancel" !== this.message.event){f=null !== (g=this.message.bba) && void 0 !== g?g:n.wWa[this.message.event];c.th(this.message.duration?255:191);this.message.duration && (g=this.message.duration & 4294967295,c.th((this.message.duration - g) / 4294967296),c.Gm(g));c.th(void 0 !== this.message.cba?this.message.cba:0);(g=this.message.JZ) && 0 < g.byteLength?(c.th(g.byteLength),c.i_a(new Uint8Array(g))):c.th(0);c.th(f);c.th(1);c.th(1);if(48 === f || 50 === f || 52 === f || 54 === f || 56 === f || 58 === f || 68 === f || 70 === f)(c.th(0),c.th(0));}};n.wWa={programstart:16,programend:17,programbreakaway:19,breakstart:52,breakend:53};return n;})();b.Qfa=t;},24500:function(t){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,d,n){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(d.buffer,d.byteOffset,d.byteLength),n * a.byteLength / a.length);}:function(a,d,n){a.set(d,n);};t.exports={from:function(a,d,n,c){a=new a(d.length);for(var g="function" === typeof n,f=0;f < d.length;++f)a[f]=g?n.call(c,d[f],f,d):d[f];return a;},set:b};},35202:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MJb=function(a,d,n,c){var g,f;if(null !== a && void 0 !== a && a.slice)return a.slice(n,c);g=Math.min(a.length,c);f=Math.min(a.length,n);for(d=new d(Math.max(c - n,0));f < g;f++)d[f - n]=a[f];return d;};},93334:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(c,g){if(!c)throw new n(g || "Assertion failed");};d=a(22970);n=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);return g;})(Error);},89931:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=function(){var n;for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];a=Array.prototype.concat.apply([],a);d=a.reduce(function(c,g){return c + g.byteLength;},0);n=new Uint8Array(d);a.reduce(function(c,g){n.set(new Uint8Array(g),c);return c + g.byteLength;},0);return n.buffer;};},3265:function(t){t.exports=function n(a,d){var c;a.__proto__ && a.__proto__ !== Object.prototype && n(a.__proto__,d);Object.getOwnPropertyNames(a).forEach(function(g){c=Object.getOwnPropertyDescriptor(a,g);void 0 !== c && Object.defineProperty(d,g,c);});};},49420:function(t,b){function a(n,c){return "number" !== typeof n || "number" !== typeof c?!1:n && c?Math.abs(n * c / d(n,c)):0;}function d(n,c){var g;n=Math.abs(n);for(c=Math.abs(c);c;){g=c;c=n % c;n=g;}return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.I=void 0;t=(function(){function n(c,g){"object" === typeof c?(this.Jc=c.ia,this.Ab=c.P):(this.Jc=c,this.Ab=g);}n.Ca=function(c){return new n(c,1E3);};n.NYa=function(c,g){return Math.floor(1E3 * c / g);};n.Ayb=function(c,g){return Math.floor(c * g / 1E3);};n.max=function(){for(var c=[],g=0;g < arguments.length;g++)c[g]=arguments[g];return c.reduce(function(f,e){return f.greaterThan(e)?f:e;});};n.min=function(){for(var c=[],g=0;g < arguments.length;g++)c[g]=arguments[g];return c.reduce(function(f,e){return f.lessThan(e)?f:e;});};n.KO=function(c,g){var f;if(c.P === g.P)return new n(d(c.ia,g.ia),c.P);f=a(c.P,g.P);return n.KO(c.Rc(f),g.Rc(f));};Object.defineProperties(n.prototype,{ia:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{G:{get:function(){return 1E3 * this.Jc / this.Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ci:{get:function(){return this.Jc / this.Ab;},enumerable:!1,configurable:!0}});n.prototype.Rc=function(c){c/=this.P;return new n(Math.floor(this.ia * c),Math.floor(this.P * c));};n.prototype.add=function(c){var g;if(this.P === c.P)return new n(this.ia + c.ia,this.P);g=a(this.P,c.P);return this.Rc(g).add(c.Rc(g));};n.prototype.ca=function(c){return this.add(new n(-c.ia,c.P));};n.prototype.Jg=function(c){return new n(this.ia * c,this.P);};n.prototype.bf=function(c){var g;if(this.P === c.P)return this.ia / c.ia;g=a(this.P,c.P);return this.Rc(g).bf(c.Rc(g));};n.prototype.bsb=function(c){return a(this.P,c);};n.prototype.hVa=function(){return new n(this.P,this.ia);};n.prototype.compare=function(c,g){var f;if(this.P === g.P)return c(this.ia,g.ia);f=a(this.P,g.P);return c(this.Rc(f).ia,g.Rc(f).ia);};n.prototype.equal=function(c){return this.compare(function(g,f){return g === f;},c);};n.prototype.h$=function(c){return this.compare(function(g,f){return g !== f;},c);};n.prototype.lessThan=function(c){return this.compare(function(g,f){return g < f;},c);};n.prototype.greaterThan=function(c){return this.compare(function(g,f){return g > f;},c);};n.prototype.gn=function(c){return this.compare(function(g,f){return g <= f;},c);};n.prototype.pf=function(c){return this.compare(function(g,f){return g >= f;},c);};n.prototype.toJSON=function(){return {ticks:this.ia,timescale:this.P};};n.prototype.toString=function(){return ("").concat(this.ia,"/").concat(this.P);};n.fa=new n(0,1);n.kx=new n(1,1E3);return n;})();b.I=t;},56445:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Xcb=void 0;d=a(22970);n=a(93334);c=a(89931);g=a(32296);t=a(25337);f=(function(){function e(h){h?(this.Kr=h.Kr.slice(),this.Nx=h.Nx.slice(),this.xf=h.xf.slice(),this.trim=h.trim):(this.Kr=[],this.Nx=[],this.xf=[]);}Object.defineProperties(e.prototype,{empty:{get:function(){return 0 === this.Kr.length && 0 === this.Nx.length && 0 === this.xf.length;},enumerable:!1,configurable:!0}});return e;})();t=(function(e){function h(l,k,m){l=e.call(this,l,k,m) || this;l.Zmb=[];l.cf=new f();return l;}d.__extends(h,e);h.N0b=function(l,k){if(k.offset + k.size <= l.byteLength)switch(k.size){case 1:l.setUint8(k.offset,k.value);break;case 2:k.vba?l.setInt16(k.offset,k.value):l.setUint16(k.offset,k.value);break;case 4:k.vba?l.setInt32(k.offset,k.value):l.setUint32(k.offset,k.value);break;case 8:(0,n.assert)(!k.vba);l.setUint32(k.offset,Math.floor(k.value / 4294967296));l.setUint32(k.offset + 4,k.value & 4294967295);break;default:(0,n.assert)(!1);}};Object.defineProperties(h.prototype,{lka:{get:function(){return !this.cf.empty;},enumerable:!1,configurable:!0}});h.prototype.th=function(l,k){this.cf.Nx.push({offset:void 0 !== k?k:this.offset,value:l,size:1});void 0 === k && (this.offset+=1);};h.prototype.qS=function(l,k){this.cf.Nx.push({offset:void 0 !== k?k:this.offset,value:l,size:2,vba:!1});void 0 === k && (this.offset+=2);};h.prototype.Gm=function(l,k){this.cf.Nx.push({offset:void 0 !== k?k:this.offset,value:l,size:4,vba:!1});void 0 === k && (this.offset+=4);};h.prototype.WLb=function(l,k){this.cf.Nx.push({offset:void 0 !== k?k:this.offset,value:l,size:8,vba:!1});void 0 === k && (this.offset+=8);};h.prototype.g_a=function(l){this.Gm((0,g.cEa)(l));};h.prototype.j_a=function(l,k){this.cf.xf.push({offset:this.offset,Jq:l,value:k});this.offset+=4;};h.prototype.Ip=function(l,k,m){this.cf.Kr.push({offset:k,remove:l,Hb:m});};h.prototype.Bra=function(l,k,m,p){this.cf.Kr.push({offset:m,remove:l,replace:k,Hb:p});};h.prototype.trim=function(l){this.cf.trim=l;};h.prototype.BBc=function(){this.Zmb.push(new f(this.cf));};h.prototype.Bzc=function(){this.cf=this.Zmb.pop() || new f();};h.prototype.ma=function(){var l,k,m,p,r,q,u;l=this;if(0 === this.cf.Kr.length && 0 === this.cf.Nx.length && 0 === this.cf.xf.length)return {Na:[void 0 === this.cf.trim?this.view.buffer:this.view.buffer.slice(0,this.cf.trim)]};this.cf.Kr.sort(function(v,w){return v.offset - w.offset;});this.cf.Nx.sort(function(v,w){return v.offset - w.offset;});this.fEc();k=this.Fec();m=this.view.buffer.slice(0,k);p=k?new DataView(m):this.view;this.cf.Nx.forEach(h.N0b.bind(void 0,p));this.kMc(p);this.jMc(p);r=[];q=void 0 !== this.cf.trim?Math.min(this.cf.trim,this.view.byteLength):this.view.byteLength;u=0;this.cf.Kr.filter(function(v){return v.offset <= q;}).forEach(function(v){v.offset > u && (r.push(p.buffer.slice(u,v.offset)),v.offset > p.byteLength && p !== l.view && (p=l.view,r.push(p.buffer.slice(k,v.offset))));v.replace && r.push(v.replace);u=v.offset + v.remove;});u < k && r.push(m.slice(u));u < q && (m=Math.max(m.byteLength,u),m < q && r.push(this.view.buffer.slice(m,q)));m=this.cf.Kr.filter(function(v){return v.offset + v.remove > q;}).map(function(v){var w;w=v.offset;v=v.remove;return w < q?{offset:q,remove:v - (q - w)}:{offset:w,remove:v};});return {Na:r,JI:m};};h.prototype.Fec=function(){var l,k,m;l=[];k=this.cf.Nx[this.cf.Nx.length - 1];m=this.cf.xf[this.cf.xf.length - 1];k && l.push(k.offset + k.size);m && l.push(m.offset + 4);this.cf.Kr.filter(function(p){return p.Hb;}).forEach(function(p){return l.push(p.Hb.byteOffset + 4);});if(0 === l.length)return 0;k=Math.max.apply(void 0,l);return void 0 !== this.cf.trim?Math.min(k,this.cf.trim):k;};h.prototype.fEc=function(){this.cf.Kr=this.cf.Kr.reduce(function(l,k){var m,p;if(0 === l.length)return (l.push(k),l);m=l[l.length - 1];p=m.offset + m.remove;k.offset >= p?l.push(k):k.offset + k.remove > p && ((0,n.assert)(m.Hb === k.Hb),m.remove+=k.offset + k.remove - p,k.replace && (m.replace=m.replace?(0,c.concat)(m.replace,k.replace):k.replace));return l;},[]);};h.prototype.kMc=function(l){var k;k=this;this.cf.xf.forEach(function(m){var p,r,q,u;p=l;r=m.offset;k.cf.Kr.some(function(v){return v.offset <= m.offset && v.replace && v.offset + v.replace.byteLength >= m.offset + 4?(p=new DataView(v.replace),r=m.offset - v.offset,!0):!1;});q=m.Jq + (void 0 !== m.value?m.value:p.getInt32(r));u=k.cf.Kr.reduce(function(v,w){return w.offset > m.Jq && w.offset < q?v + (w.remove - (w.replace?w.replace.byteLength:0)):v;},0);p.setInt32(r,q - m.Jq - u);});};h.prototype.jMc=function(l){this.cf.Kr.forEach(function(k){var m;m=(k.remove || 0) - (k.replace?k.replace.byteLength:0);if(0 !== m)for(k=k.Hb;k;)(l.setUint32(k.byteOffset,l.getUint32(k.byteOffset) - m),k=k.parent);});};return h;})(t.gga);b.Xcb=t;},25337:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gga=void 0;d=a(2050);a(2050);n=a(32296);t=(function(){function c(g,f,e){void 0 === e && (e={});this.view=g;this.console=f;this.config=e;this.view=g;this.console=f;this.Yd=this.hw=this.offset=0;}c.prototype.bqb=function(g){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,g);};c.prototype.Wa=function(g){if(24 < g)return 16777216 * this.Wa(g - 24) + this.Wa(24);for(;this.Yd < g;)(this.hw=(this.hw << 8) + this.md(),this.Yd+=8);this.Yd-=g;return this.hw >>> this.Yd & (1 << g) - 1;};c.prototype.md=function(){var g;g=this.view.getUint8(this.offset);this.offset+=1;return g;};c.prototype.Uf=function(g){g=this.view.getUint16(this.offset,g);this.offset+=2;return g;};c.prototype.Vb=function(g){g=this.view.getUint32(this.offset,g);this.offset+=4;return g;};c.prototype.gaa=function(){var g;g=this.view.getInt32(this.offset,void 0);this.offset+=4;return g;};c.prototype.Gyc=function(g,f){var e;e=this.view.getUint32(this.offset + (g?4:0),g);g=this.view.getUint32(this.offset + (g?0:4),g);f || 0 === (e & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * e + g;};c.prototype.ol=function(g,f){g=this.Gyc(g,f);this.offset+=8;return g;};c.prototype.Hyc=function(){var g,f;g=this.view.getInt32(this.offset + 0,void 0);f=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + f;};c.prototype.gDb=function(){var g;g=this.Hyc();this.offset+=8;return g;};c.prototype.Xz=function(){return (0,n.vH)(this.Vb());};c.prototype.qra=function(){var f,e,h,l,k,m;function g(p,r){return ("000000" + p.toString(16)).slice(2 * -r);}f=this.Vb(!0);e=this.Uf(!0);h=this.Uf(!0);l=this.Uf();k=this.Uf();m=this.Vb();return [g(f,4),g(e,2),g(h,2),g(l,2),g(k,2) + g(m,4)].join("-");};c.prototype.dZ=function(g){var f;f=this.view.byteOffset + this.offset;f=this.view.buffer.slice(f,f + g);this.offset+=g;return f;};c.prototype.bVa=function(g){var f;f=[];if(0 === g)return "";g=g || Number.MAX_SAFE_INTEGER;for(var e=this.md();0 !== e && 0 <= --g;)(f.push(e),e=this.md());return String.fromCharCode.apply(null,f);};c.prototype.OQ=function(g){var f,e;void 0 === f && (f=1);void 0 === e && (e=!0);return this.pm(this.config.I_ && d.Ykc || d.XW,1,g,f,e);};c.prototype.MBc=function(g){var f,e,h;f=10;e=!1;void 0 === f && (f=2);void 0 === e && (e=!0);void 0 === h && (h=!1);return this.pm(this.config.I_ && d.Wkc || d.hma,2,g,f,e,h);};c.prototype.ora=function(g,f,e){var h;void 0 === f && (f=4);void 0 === e && (e=!0);void 0 === h && (h=!1);return this.pm(this.config.I_ && d.Xkc || d.D7,4,g,f,e,h);};c.prototype.PBc=function(){for(var g=this.md(),f=g & 127;g & 128;)(g=this.md(),f=f << 7 | g & 127);return f;};c.prototype.pm=function(g,f,e,h,l,k){void 0 === l && (l=!0);void 0 === k && (k=!1);g=g(this.view,this.offset,e,h,k);this.offset=l || !h || h === f?this.offset + e * (h || f):this.offset + f;return g;};return c;})();b.gga=t;},44248:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.hga=void 0;d=a(32296);t=(function(){function n(c){void 0 === c && (c=1);this.Nb=new ArrayBuffer(c);this.view=new DataView(this.Nb);this.Yd=this.hw=this.Sc=0;}Object.defineProperties(n.prototype,{offset:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{buffer:{get:function(){return this.Nb.slice(0,this.offset);},enumerable:!1,configurable:!0}});n.prototype.pO=function(c){var g,f;c=this.offset + c + 1;if(c > this.Nb.byteLength){c=new ArrayBuffer(Math.max(2 * this.Nb.byteLength,c));g=new Uint8Array(c);f=new Uint8Array(this.Nb);g.set(f);this.Nb=c;this.view=new DataView(this.Nb);}};n.prototype.Qha=function(c){this.pO(c - this.offset);this.Sc=c;};n.prototype.X_b=function(){this.pO(1);this.Sc+=1;};n.prototype.th=function(c){this.pO(1);this.view.setUint8(this.offset,c);this.Sc+=1;};n.prototype.qS=function(c,g){this.pO(2);this.view.setUint16(this.offset,c,g);this.Sc+=2;};n.prototype.Gm=function(c,g){this.pO(4);this.view.setUint32(this.offset,c,g);this.Sc+=4;};n.prototype.WLb=function(c,g){var f;f=Math.floor(c / 4294967296);c-=4294967296 * f;this.pO(8);this.view.setUint32(this.offset + (g?4:0),f,g);this.view.setUint32(this.offset + (g?0:4),c,g);this.Sc+=8;};n.prototype.g_a=function(c){this.Gm((0,d.cEa)(c));};n.prototype.i_a=function(c){this.pO(c.length);new Uint8Array(this.Nb).set(c,this.offset);this.Sc+=c.length;};return n;})();b.hga=t;},17972:function(t,b,a){var n,c,g,f;function d(e,h,l){void 0 === l && (l=0);return e.displayTime - l <= h && h < e.displayTime + e.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.zNb=b.B0a=void 0;n=a(22970);c=a(91176);g=a(90745);t=(function(e){function h(l,k,m,p,r,q,u,v){var w,x,y;y=e.call(this) || this;y.ZWb=l;y.h3=k;y.cXb=m;y.ta=p;y.y8=r;y.rNa=q;y.Aqa=u;y.options=v;y.Ml=[];y.Sk=[];y.Jn=[];y.STa=new g.lf();y.jWa=new g.lf();y.bja=new g.lf();y.tH=new f(function(){return k(l());},y.ta,(null === (w=y.options) || void 0 === w?void 0:w.xa) || !1);y.tH.events.on("bufferingcomplete",function(){var A;y.ta.trace("AseTimer:Received buffering complete from watcher");null === (A=y.Cq) || void 0 === A?void 0:A.Uc();y.GSa();});y.tH.gUa();y.KGb();y.STa.on(y.Aqa,"segmentPresenting",function(){y.dAb();});y.STa.on(y.Aqa,"taskSchedulerChanged",function(){y.KGb();});null === (x=y.Cq) || void 0 === x?void 0:x.Ja();return y;}n.__extends(h,e);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.tH.N4;},enumerable:!1,configurable:!0});h.prototype.IJc=function(){var l,k,m,p,r,q,u,v,w,x,y,A,z,B;B=this;return n.__generator(this,function(C){switch(C.label){case 0:this.ta.trace("AseTimer:Starting subtitle worker");if(this.y8())return (this.ta.trace("Paused: exiting"),[2]);l=function(){return B.Tc.Ia.currentTime.G;};k=this.ZWb;this.Jn=this.Sk.concat(this.Ml);this.CCb(k(),!0);C.label=1;case 1:if(!this.Jn.length)return [3,3];p=m=k();this.ijb(m);try{for((r=(A=void 0,n.__values(this.Jn)),q=r.next());!q.done;q=r.next())(u=q.value,this.ta.trace(("AseTimer:Checking subtitle ").concat(u.id)),m >= u.displayTime + u.duration || (d(u,m,this.options.NIc)?(this.ta.trace(("AseTimer:Showing subtitle ").concat(u.id)),this.jAc(u),p=Math.max(m,u.displayTime)):(this.ta.trace(("AseTimer:Staging subtitle ").concat(u.id)),this.JXa(u))));}catch(D){A={error:D};}finally{try{q && !q.done && (z=r.return) && z.call(r);}finally{if(A)throw A.error;}}v=this.n3b(p);if(!isFinite(v))return (this.tH.gUa(),[3,3]);w=l();x=this.cXb(v,m);if(void 0 === x)return [3,3];y=Math.max(x,10) + w;this.ta.trace(("AseTimer:Sleeping till PlayerTime ").concat(y));return [4,c.Ud.Fm(c.I.Ca(y))];case 2:return (C.S(),this.CCb(k()),[3,1]);case 3:return (this.ta.trace(("AseTimer:Checking removed subtitles one more time ").concat(k())),this.ijb(k()),this.ta.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.CCb=function(l,k){var m,p,r,q,u;p=this;void 0 === k && (k=!1);r=k || !this.Ml.length;r || (r=this.Jn[this.Jn.length - 1].displayTime > l);if(r){this.ta.trace(("AseTimer:Getting subtitles for ").concat(l),{tXc:this.Tc.Ia.currentTime});q=this.h3(l);if(q){this.ta.trace(("AseTimer:Received ").concat(q.length," subtitles"));r=function(y){(0,c.oc)(u.Jn,function(A){return A.id === y.id;}) || l >= y.displayTime + y.duration || (u.ta.trace(("AseTimer:adding ").concat(y.id),{start:y.startTime,VXc:y.displayTime,end:y.endTime,fYc:y.duration}),u.Jn.push(y));};u=this;try{for(var v=n.__values(q),w=v.next();!w.done;w=v.next())r(w.value);}catch(y){var x;x={error:y};}finally{try{w && !w.done && (m=v.return) && m.call(v);}finally{if(x)throw x.error;}}k && this.Jn.filter(function(y){return !(0,c.oc)(q,function(A){return A.id === y.id;});}).forEach(function(y){return p.q$(y);});this.Jn.length || this.tH.gUa();}else this.Dk();}};h.prototype.stop=function(){var l;this.ta.trace("AseTimer:Stop");null === (l=this.Cq) || void 0 === l?void 0:l.Ja();this.tH.reset();this.wra();this.STa.clear();this.jWa.clear();this.bja.clear();};h.prototype.wra=function(){var l,k,m,p;this.ta.trace("AseTimer:Removing all",this.Sk.length);p=this.Sk;try{for(var r=n.__values(p),q=r.next();!q.done;q=r.next())this.q$(q.value);}catch(v){var u;u={error:v};}finally{try{q && !q.done && (l=r.return) && l.call(r);}finally{if(u)throw u.error;}}this.Sk=[];if(null === (k=this.Cq) || void 0 === k?0:k.dn)null === (m=this.Cq) || void 0 === m?void 0:m.Ja();};h.prototype.pause=function(){var l;null === (l=this.Cq) || void 0 === l?void 0:l.Ja();};h.prototype.KG=function(){var l,k,m,p;(null === (l=this.Cq) || void 0 === l?void 0:l.state) !== c.Hl.complete && (null === (k=this.Cq) || void 0 === k?void 0:k.state) !== c.Hl.UN || this.y8() || (null === (m=this.Cq) || void 0 === m?void 0:m.Uc());this.Jl && this.tH.check();this.y8() && (null === (p=this.Cq) || void 0 === p?void 0:p.Ja());};h.prototype.KGb=function(){var l;l=this;this.ta.trace("Setting up new task scheduler");(this.Tc=this.rNa())?(this.jWa.clear(),this.jWa.on(this.Tc,"clockChanged",function(){return l.Nzb();}),this.Cq=this.Tc.Pq(function(){return l.IJc();},"subtitleWorker"),this.Nzb()):this.ta.warn("AseTimer: no player task scheduler");};h.prototype.n3b=function(l){var k;return null !== (k=this.Jn.map(function(m){return [m.displayTime,m.displayTime + m.duration + 1];}).reduce(function(m,p){return m.concat(p);},[]).filter(function(m){return m > l;}).sort(function(m,p){return m - p;})[0]) && void 0 !== k?k:Infinity;};h.prototype.Nzb=function(){var l,k,m;l=this;this.bja.clear();(null === (k=this.Tc) || void 0 === k?0:k.Ia)?(this.ta.trace("onClockChanged: clock listeners registered"),this.bja.on(this.Tc.Ia,"clockAdjusted",function(p){p.reason === c.Hv.VK && l.dAb();}),this.bja.on(this.Tc.Ia,"stopStart",function(){var p;l.Tc.hr || (null === (p=l.Cq) || void 0 === p?void 0:p.Uc());})):this.ta.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (m=this.Cq) || void 0 === m?void 0:m.Uc();};h.prototype.dAb=function(){var l,k;this.ta.trace("Timeline changed");this.wra();this.y8()?null === (k=this.Cq) || void 0 === k?void 0:k.Ja():null === (l=this.Cq) || void 0 === l?void 0:l.Uc();};h.prototype.JXa=function(l){-1 === this.Ml.indexOf(l) && this.Wwc(l);};h.prototype.ijb=function(l){var k,m,q;m=this.Sk.concat(this.Ml);try{for(var p=n.__values(m),r=p.next();!r.done;r=p.next()){q=r.value;l >= q.displayTime + q.duration && this.q$(q);}}catch(v){var u;u={error:v};}finally{try{r && !r.done && (k=p.return) && k.call(p);}finally{if(u)throw u.error;}}};h.prototype.jAc=function(l){-1 === this.Sk.indexOf(l) && (this.Sk.push(l),-1 !== this.Ml.indexOf(l) && (this.Ml=this.Ml.filter(function(k){return k !== l;})),this.XSa(l));};h.prototype.XSa=function(l){this.ta.trace("AseTimer:Showing",l.id);this.emit("showsubtitle",l);};h.prototype.Wwc=function(l){this.ta.trace("AseTimer:Staging",l.id);this.Ml.push(l);this.emit("stagesubtitle",l);};h.prototype.Dk=function(){this.ta.trace("AseTimer:onUnderflow",this.Jl);this.Jl || (this.emit("underflow"),this.tH.Dk());};h.prototype.q$=function(l){this.ta.trace("AseTimer:Removing",l.id);-1 !== this.Ml.indexOf(l) && (this.Ml=this.Ml.filter(function(k){return k !== l;}));-1 !== this.Sk.indexOf(l) && (this.emit("removesubtitle",l),this.Sk=this.Sk.filter(function(k){return k !== l;}));this.Jn=this.Jn.filter(function(k){return k !== l;});};h.prototype.GSa=function(){var l;this.Jn.length && (this.emit("bufferingComplete"),this.y8() || (null === (l=this.Cq) || void 0 === l?void 0:l.Uc()));};return h;})(g.EventEmitter);b.B0a=t;f=(function(){function e(h,l,k){void 0 === k && (k=!1);this.h3=h;this.ta=l;this.zEa=k;this.events=new g.EventEmitter();this.Jl=!1;}Object.defineProperty(e.prototype,"buffering",{get:function(){return this.Jl;},enumerable:!1,configurable:!0});e.prototype.gUa=function(){var h;h=this;this.ta.trace("AseTimer:Buffering watcher restart");this.Jl=!0;this.dFa && clearInterval(this.dFa);this.dFa=this.zEa?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};e.prototype.Dk=function(){this.ta.trace("AseTimer:Buffering watcher underflow");this.Jl=!0;this.mjb(1);};e.prototype.reset=function(){this.ta.trace("AseTimer:Buffering watcher reset");clearInterval(this.dFa);clearTimeout(this.ZYb);this.Jl=!1;};e.prototype.mjb=function(h){var l;l=250 * (1 << h);2E3 < l && (l=2E3);this.check();this.Jl && (this.ZYb=setTimeout(this.mjb.bind(this,h + 1),l));};e.prototype.check=function(){var h;h=this.h3();this.ta.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",aL:h}));};return e;})();b.zNb=f;},18797:function(t,b,a){var q,u,v,w,x,y,A,z,B;function d(C,D){var F,H;F=this;H=C.styles || ({});return {startTime:D.startTime,id:D.id,endTime:D.endTime,displayTime:D.displayTime,duration:D.duration,blocks:D.blocks.map(function(E){var G;G=x.B9b(C,E);return {textNodes:E.textNodes.map(r.bind(F,H)),region:G,id:E.id};})};}function n(C){if(!Array.isArray(C))throw Error("last called on non-array: " + C);return C[C.length - 1];}function c(C,D){var F,H,E,G,K,N;F=v.Ce(!0);H={};E=[];G=null;K=[];N={};F.onerror=function(I){D(I,null);};F.onend=function(){D(null,H);};F.onclosetag=function(){E.pop();};F.onopentag=function(I){var L,O,J,Q;L=I.attributes;O=I.name;J=H.regions;Q=H.styles;E.push(I);if("tt" === O)H=k(L);else if("body" === O)"undefined" !== typeof L.style && (H.defaultStyle=L.style,K.push(L.style));else if("initial" === O && p(E,"styling"))(N=m(L,y),H.initialStyle=N);else if("style" === O && p(E,"styling")){J=L["xml:id"];I=N;L=m(L,y);if(Object.keys(I).length)for(var P in I)"undefined" === typeof L[P] && (L[P]=I[P]);Q[J]=L;}else "style" === O && p(E,"region")?(Q=Object.keys(L)[0],"string" === typeof Q && (J[G][Q.slice(4)]=L[Q])):"region" === O && p(E,"layout") && (G=L["xml:id"],J[G]=m(L,z));};setTimeout(function(){var I;for(F.write(C);0 < E.length && !F.error;){I=n(E).name;F.write("</" + I + ">");}F.close();},10);}function g(C,D){var F;F=C.filter(function(H){return H.startTime <= D && D <= H.endTime;});C=C.filter(function(H){return H.startTime > D;});return 0 < C.length?F.concat([C[0]]):F;}function f(){}function e(C){var D,F;D=C.re;F=C.ta;if(!C.xml && !C.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.Oh=this.Kga=null;this.Uk="number" === typeof D?C.re:0;this.iN=C.xml || "";this.va="object" === typeof F?C.ta:B;this.bN=C.request;this.ug=C.url;this.Nb=[];this.Om=this.Uk;this.Ze=null;this.wq=this.kk=!1;this.AM=C.daa || 0;this.hN=C.dYa;}function h(){var C,D,F;C=this;D=C.iN.indexOf("<p");if(-1 < D){F=C.iN.slice(0,D);c(F,function(H,E){null !== H?(H.Usb=F,C.emit("error",H)):(C.Kga=E,C.Oh=new w(C.iN,E.tickRate),l.call(C,C.Uk));});}else C.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function l(C){var D,F,H,E,G,K,N,I,L;D=this;F=D.Kga;H=0;E=[];G=F.defaultStyle?[F.defaultStyle]:[];K=F.lang?[F.lang]:[];N=D.Oh.BEa;D.va.info("parsing the next 5 entries...");I=D.Oh.djc(C);D.va.debug(I);L=v.Ce(!0);L.onerror=function(O){O.xml=I;D.emit("error",O);};L.onend=function(){var O;O=D.Nb.reduce(function(J,Q){Q=Q.blocks.reduce(function(P,S){return P.concat([S.id]);},[]);return J.concat(Q);},[]);E.forEach(function(J){var Q;if(-1 === O.indexOf(J.id)){Q=J && J.blocks && J.blocks.filter(function(P){return 0 < P.textNodes.length;});Q && 0 < Q.length && (J.blocks=Q,D.Nb.push(J));}});D.wq=!1;D.kk || (D.kk=!0,D.emit("ready"));};L.ontext=function(O){var J,Q,P,S;if("" !== O.trim() || O.match(/ +/)){J=n(n(E).blocks).textNodes;Q=J.push;O=O.match(/ +/) || n(K) && "ja" === n(K).slice(0,2)?O:O.trim();P=n(G);S=n(K);Q.call(J,{text:O,style:P,lang:S && 0 === S.indexOf("ja")?"ja":S,lineBreaks:H});}H=0;};L.onclosetag=function(){var O;O=L.tag;"undefined" !== typeof O.attributes.style && G.pop();"undefined" !== typeof O.attributes["xml:lang"] && K.pop();};L.onopentag=function(O){var J,Q,P,S,Y;J=O.attributes;Q=O.name;O=F.tickRate;if("p" === Q){H=0;Q=J["xml:id"];J.style && G.push(J.style);J["xml:lang"] && K.push(J["xml:lang"]);P=N?Math.floor(parseInt(J.begin) / O * 1E3):Math.floor(q(J.begin));if(0 === E.length || n(E).displayTime !== P){P=E.push;S={};if(N){Y=parseInt(J.begin) / O * 1E3;O=parseInt(J.end) / O * 1E3;}else (Y=q(J.begin),O=q(J.end));S.id=Q;S.startTime=Math.floor(Y);S.endTime=Math.floor(O);S.style=J.style;S.region=J.region;S.displayTime=S.startTime;S.duration=S.endTime - S.startTime;S.extent=J["tts:extent"] || null;S.origin=J["tts:origin"] || null;S.latestEndSoFar=0 > S.endTime?0:S.endTime;S.blocks=[{textNodes:[],region:S.region,id:Q,extent:S.extent,origin:S.origin}];P.call(E,S);}else n(E).blocks.push({textNodes:[],region:J.region,id:Q,extent:J["tts:extent"] || null,origin:J["tts:origin"] || null});}else "span" === Q?(G.push(J.style),J["xml:lang"] && K.push(J["xml:lang"]),O=F.styles[J.style],J.style && O && O.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(O.ruby) && n(n(E).blocks).textNodes.push({text:"",style:n(G),lang:n(K),lineBreaks:0})):"br" === Q && H++;};L.write("<entries>").write(I).write("</entries>").close();}function k(C){var D;C=m(C,A);if("string" === typeof C.extent){D=C.extent.split(" ").map(function(F){return parseInt(F,10);});C.width=D[0];C.height=D[1];}else (C.width=1280,C.height=720);C.aspectRatio=C.width / C.height;"string" === typeof C.cellResolution?(D=C.cellResolution.split(" ").map(function(F){return parseInt(F,10);}),C.cellResolution={},C.cellResolution.x=D[0],C.cellResolution.y=D[1]):C.cellResolution={x:52,y:19};return C;}function m(C,D){var F;F={};D.forEach(function(H){"undefined" !== typeof C["tts:" + H]?F[H]=C["tts:" + H]:"undefined" !== typeof C["ttp:" + H]?F[H]=C["ttp:" + H]:"undefined" !== typeof C["ebutts:" + H]?F[H]=C["ebutts:" + H]:"undefined" !== typeof C["xml:" + H] && (F[H]=C["xml:" + H]);});F.styles={};F.regions={};return F;}function p(C,D){var F;for(F=C.length - 1;0 <= F;F--)if(C[F].name === D)return !0;return !1;}function r(C,D){return {lineBreaks:D.lineBreaks,text:D.text,lang:D.lang,style:this.hN.J9b(C[D.style] || ({}),this.Kga),id:D.id};}q=a(4574).mI;u=a(22699).EventEmitter;v=a(60514);w=a(96379);x=a(81668);a(81824);a(81824);y=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear lineHeight").split(" ");A=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");z=("backgroundColor displayAlign extent origin position writingMode multiRowAlign textAlign direction").split(" ");B={info:f,debug:f};b=Object.create(u.prototype);e.prototype=b;b.start=function(){var C;C=this;C.va.info("incremental text stream created, starting at pts " + C.Uk);C.iN?h.call(C):C.bN({url:C.ug},function(D,F){C.iN=F;h.call(C);});};b.OI=function(C){var D,F,H;D=this;C < D.Om - D.AM && (D.Nb=[]);F=D.Nb;H=F.length?Math.max(F[F.length - 1].startTime,C):C;D.Om=C;for(!D.Ze && 5 > D.Nb.length && !D.wq && (D.va.info("buffer size: " + D.Nb.length + "; minimum: 5"),D.wq=!0,D.Ze=setTimeout(function(){D.Ze=null;l.call(D,H + 1);},10));0 < F.length && F[0].endTime < C;)F.shift();F=g(F,C).map(d.bind(D,D.Kga));C < D.Oh.xob() && 0 === F.length && (F=null);return F;};b.pp=function(C,D){return this.Oh?this.Oh.pp(C,D):0;};b.close=function(){};t.exports={Rxa:e,OAb:c,xd:n,Fla:g,Sja:d};},60514:function(t){var u,v,w,x,y,A,z,B,C,D,F,H,E,G,K,N,I;function b(){}function a(L,O){if(!(this instanceof a))return new a(L,O);for(var J=0,Q=v.length;J < Q;J++)this[v[J]]="";this.q=this.c=this.ip=this.textNode="";this.LU=u.fM;this.hf=O || ({});this.hf.Jwb=this.hf.Jwb || this.hf.y0c;this.hRa=this.hf.Jwb?"toLowerCase":"toUpperCase";this.ck=[];this.closed=this.fV=this.iR=!1;this.tag=this.error=null;this.Rp=!!L;this.izb=!(!L && !this.hf.izb);this.state=I.xS;this.kD=(this.cIb=this.hf.cIb)?Object.create(u.OVb):Object.create(u.kD);this.ZH=[];this.hf.dda && (this.lm=Object.create(G));if(this.xta=!1 !== this.hf.position)this.position=this.line=this.DE=0;this.onready && this.onready(void 0);}function d(L,O){var J;if(!(this instanceof d))return new d(L,O);b.apply(this);this.xe=new a(L,O);this.readable=this.writable=!0;J=this;this.xe.onend=function(){J.emit("end");};this.xe.onerror=function(Q){J.emit("error",Q);J.xe.error=null;};w.forEach(function(Q){Object.defineProperty(J,"on" + Q,{get:function(){return J.xe["on" + Q];},set:function(P){if(!P)return (J.removeAllListeners(Q),J.xe["on" + Q]=P);J.on(Q,P);},enumerable:!0,configurable:!1});});}function n(L){return L.split("").reduce(function(O,J){O[J]=!0;return O;},{});}function c(L,O){return "[object RegExp]" === Object.prototype.toString.call(L)?!!O.match(L):L[O];}function g(L,O,J){L.textNode && f(L);L[O] && L[O](J);}function f(L){L.textNode=e(L.hf,L.textNode);L.textNode && L.ontext && L.ontext(L.textNode);L.textNode="";}function e(L,O){L.trim && (O=O.trim());L.normalize && (O=O.replace(/\s+/g," "));return O;}function h(L,O){f(L);L.xta && (O+="\nLine: " + L.line + "\nColumn: " + L.DE + "\nChar: " + L.c);O=Error(O);L.error=O;L.onerror && L.onerror(O);return L;}function l(L){L.iR && !L.fV && k(L,"Unclosed root tag");L.state !== I.xS && L.state !== I.lva && L.state !== I.Aa && h(L,"Unexpected end");f(L);L.c="";L.closed=!0;L.onend && L.onend(void 0);a.call(L,L.Rp,L.hf);return L;}function k(L,O){if("object" !== typeof L || !(L instanceof a))throw Error("bad call to strictFail");L.Rp && h(L,O);}function m(L,O){var J,Q;J=0 > L.indexOf(":")?["",L]:L.split(":");Q=J[0];J=J[1];O && "xmlns" === L && (Q="xmlns",J="");return {prefix:Q,local:J};}function p(L){var O,J,Q;L.Rp || (L.Wk=L.Wk[L.hRa]());if(-1 !== L.ZH.indexOf(L.Wk) || L.tag.attributes.hasOwnProperty(L.Wk))return L.Wk=L.Xk="";if(L.hf.dda){O=m(L.Wk,!0);J=O.local;if("xmlns" === O.prefix)if("xml" === J && L.Xk !== H)k(L,"xml: prefix must be bound to " + H + "\nActual: " + L.Xk);else if("xmlns" === J && L.Xk !== E)k(L,"xmlns: prefix must be bound to " + E + "\nActual: " + L.Xk);else {O=L.tag;Q=L.ck[L.ck.length - 1] || L;O.lm === Q.lm && (O.lm=Object.create(Q.lm));O.lm[J]=L.Xk;}L.ZH.push([L.Wk,L.Xk]);}else (L.tag.attributes[L.Wk]=L.Xk,g(L,"onattribute",{name:L.Wk,value:L.Xk}));L.Wk=L.Xk="";}function r(L,O){var J,Q,S,Y,X,T,U;if(L.hf.dda){J=L.tag;Q=m(L.tagName);J.prefix=Q.prefix;J.local=Q.local;J.uri=J.lm[Q.prefix] || "";J.prefix && !J.uri && (k(L,"Unbound namespace prefix: " + JSON.stringify(L.tagName)),J.uri=Q.prefix);Q=L.ck[L.ck.length - 1] || L;J.lm && Q.lm !== J.lm && Object.keys(J.lm).forEach(function(Z){g(L,"onopennamespace",{prefix:Z,uri:J.lm[Z]});});Q=0;for(var P=L.ZH.length;Q < P;Q++){S=L.ZH[Q];Y=S[0];X=S[1];T=m(Y,!0);S=T.prefix;U="" == S?"":J.lm[S] || "";X={name:Y,value:X,prefix:S,local:T.local,uri:U};S && "xmlns" != S && !U && (k(L,"Unbound namespace prefix: " + JSON.stringify(S)),X.uri=S);L.tag.attributes[Y]=X;g(L,"onattribute",X);}L.ZH.length=0;}L.tag.U_c=!!O;L.iR=!0;L.ck.push(L.tag);g(L,"onopentag",L.tag);O || (L.state=L.izb || "script" !== L.tagName.toLowerCase()?I.Aa:I.BT,L.tag=null,L.tagName="");L.Wk=L.Xk="";L.ZH.length=0;}function q(L){var O,J,P;if(L.tagName){if(L.wm){if("script" !== L.tagName){L.wm+="</" + L.tagName + ">";L.tagName="";L.state=I.BT;return;}g(L,"onscript",L.wm);L.wm="";}O=L.ck.length;J=L.tagName;L.Rp || (J=J[L.hRa]());for(var Q=J;O--;)if(L.ck[O].name !== Q)k(L,"Unexpected close tag");else break;if(0 > O)(k(L,"Unmatched closing tag: " + L.tagName),L.textNode+="</" + L.tagName + ">");else {L.tagName=J;for(J=L.ck.length;J-- > O;){P=L.tag=L.ck.pop();L.tagName=L.tag.name;g(L,"onclosetag",L.tagName);for(var S in P.lm);Q=L.ck[L.ck.length - 1] || L;L.hf.dda && P.lm !== Q.lm && Object.keys(P.lm).forEach(function(Y){g(L,"onclosenamespace",{prefix:Y,uri:P.lm[Y]});});}0 === O && (L.fV=!0);L.tagName=L.Xk=L.Wk="";L.ZH.length=0;}}else (k(L,"Weird empty close tag."),L.textNode+="</>");L.state=I.Aa;}u={Ce:function(L,O){return new a(L,O);}};u.aUc=a;u.bUc=d;u.oJa=function(L){return new d(L,void 0);};u.fM=65536;v=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");u.Al=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(L){function O(){this.__proto__=L;}O.prototype=L;return new O();});Object.getPrototypeOf || (Object.getPrototypeOf=function(L){return L.__proto__;});Object.keys || (Object.keys=function(L){var O,J;O=[];for(J in L)L.hasOwnProperty(J) && O.push(J);return O;});a.prototype={end:function(){l(this);},write:function(L){var P,S,Y,X,T,U;if(this.closed)return h(this,"Cannot write after close. Assign an onready handler.");if(null === L)return l(this);if(this.error)throw this.error;for(var O=0,J;this.c=J=L.charAt(O++);)switch((this.xta && (this.position++,"\n" === J?(this.line++,this.DE=0):this.DE++),this.state)){case I.xS:if((this.state=I.lva,"\ufeff" === J))continue;case I.lva:"<" === J?(this.state=I.cAa,this.PXa=this.position):c(x,J) || (k(this,"Non-whitespace before first tag."),this.textNode=J,this.state=I.Aa);continue;case I.Aa:if(this.iR && !this.fV){for(var Q=O - 1;J && "<" !== J && "&" !== J;)(J=L.charAt(O++)) && this.xta && (this.position++,"\n" === J?(this.line++,this.DE=0):this.DE++);this.textNode+=L.substring(Q,O - 1);}"<" !== J || this.iR && this.fV && !this.Rp?(c(x,J) || this.iR && !this.fV || k(this,"Text data outside of root node."),"&" === J?this.state=I.VCa:this.textNode+=J):(this.state=I.cAa,this.PXa=this.position);continue;case I.BT:"<" === J?this.state=I.Aab:this.wm+=J;continue;case I.Aab:"/" === J?this.state=I.Dva:(this.wm+="<" + J,this.state=I.BT);continue;case I.cAa:"!" === J?(this.state=I.iCa,this.Bx=""):c(x,J) || (c(K,J)?(this.state=I.H8a,this.tagName=J):"/" === J?(this.state=I.Dva,this.tagName=""):"?" === J?(this.state=I.j9a,this.dra=this.LQ=""):(k(this,"Unencoded <"),this.PXa + 1 < this.position && (J=Array(this.position - this.PXa).join(" ") + J),this.textNode+="<" + J,this.state=I.Aa));continue;case I.iCa:(this.Bx + J).toUpperCase() === D?(g(this,"onopencdata"),this.state=I.Ada,this.ep=this.Bx=""):"--" === this.Bx + J?(this.state=I.Fda,this.Bx=this.gp=""):(this.Bx + J).toUpperCase() === F?(this.state=I.Kda,(this.doctype || this.iR) && k(this,"Inappropriately located doctype declaration"),this.Bx=this.doctype=""):">" === J?(g(this,"onsgmldeclaration",this.Bx),this.Bx="",this.state=I.Aa):(c(z,J) && (this.state=I.Eab),this.Bx+=J);continue;case I.Eab:J === this.q && (this.state=I.iCa,this.q="");this.Bx+=J;continue;case I.Kda:">" === J?(this.state=I.Aa,g(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=J,"[" === J?this.state=I.$va:c(z,J) && (this.state=I.x2a,this.q=J));continue;case I.x2a:this.doctype+=J;J === this.q && (this.q="",this.state=I.Kda);continue;case I.$va:this.doctype+=J;"]" === J?this.state=I.Kda:c(z,J) && (this.state=I.w2a,this.q=J);continue;case I.w2a:this.doctype+=J;J === this.q && (this.state=I.$va,this.q="");continue;case I.Fda:"-" === J?this.state=I.G1a:this.gp+=J;continue;case I.G1a:"-" === J?(this.state=I.F1a,(this.gp=e(this.hf,this.gp)) && g(this,"oncomment",this.gp),this.gp=""):(this.gp+="-" + J,this.state=I.Fda);continue;case I.F1a:">" !== J?(k(this,"Malformed comment"),this.gp+="--" + J,this.state=I.Fda):this.state=I.Aa;continue;case I.Ada:"]" === J?this.state=I.v1a:this.ep+=J;continue;case I.v1a:"]" === J?this.state=I.w1a:(this.ep+="]" + J,this.state=I.Ada);continue;case I.w1a:">" === J?(this.ep && g(this,"oncdata",this.ep),g(this,"onclosecdata"),this.ep="",this.state=I.Aa):"]" === J?this.ep+="]":(this.ep+="]]" + J,this.state=I.Ada);continue;case I.j9a:"?" === J?this.state=I.sAa:c(x,J)?this.state=I.rAa:this.dra+=J;continue;case I.rAa:if(!this.LQ && c(x,J))continue;else "?" === J?this.state=I.sAa:this.LQ+=J;continue;case I.sAa:">" === J?(g(this,"onprocessinginstruction",{name:this.dra,body:this.LQ}),this.dra=this.LQ="",this.state=I.Aa):(this.LQ+="?" + J,this.state=I.rAa);continue;case I.H8a:if(c(N,J))this.tagName+=J;else {this.Rp || (this.tagName=this.tagName[this.hRa]());Q=this.ck[this.ck.length - 1] || this;P=this.tag={name:this.tagName,attributes:{}};this.hf.dda && (P.lm=Q.lm);this.ZH.length=0;">" === J?r(this):"/" === J?this.state=I.$ea:(!c(x,J) && k(this,"Invalid character in tag name"),this.state=I.uS);}continue;case I.$ea:">" === J?(r(this,!0),q(this)):(k(this,"Forward-slash in opening tag not followed by >"),this.state=I.uS);continue;case I.uS:if(c(x,J))continue;else ">" === J?r(this):"/" === J?this.state=I.$ea:c(K,J)?(this.Wk=J,this.Xk="",this.state=I.hda):k(this,"Invalid attribute name");continue;case I.hda:"=" === J?this.state=I.uua:">" === J?(k(this,"Attribute without value"),this.Xk=this.Wk,p(this),r(this)):c(x,J)?this.state=I.s_a:c(N,J)?this.Wk+=J:k(this,"Invalid attribute name");continue;case I.s_a:if("=" === J)this.state=I.uua;else if(c(x,J))continue;else (k(this,"Attribute without value"),this.Xk=this.tag.attributes[this.Wk]="",g(this,"onattribute",{name:this.Wk,value:""}),this.Wk="",">" === J?r(this):c(K,J)?(this.Wk=J,this.state=I.hda):(k(this,"Invalid attribute name"),this.state=I.uS));continue;case I.uua:if(c(x,J))continue;else c(z,J)?(this.q=J,this.state=I.xua):(k(this,"Unquoted attribute value"),this.state=I.yua,this.Xk=J);continue;case I.xua:if(J !== this.q){"&" === J?this.state=I.vua:this.Xk+=J;continue;}p(this);this.q="";this.state=I.t_a;continue;case I.t_a:c(x,J)?this.state=I.uS:">" === J?r(this):"/" === J?this.state=I.$ea:c(K,J)?(k(this,"No whitespace between attributes"),this.Wk=J,this.Xk="",this.state=I.hda):k(this,"Invalid attribute name");continue;case I.yua:if(!c(C,J)){"&" === J?this.state=I.wua:this.Xk+=J;continue;}p(this);">" === J?r(this):this.state=I.uS;continue;case I.Dva:if(this.tagName)">" === J?q(this):c(N,J)?this.tagName+=J:this.wm?(this.wm+="</" + this.tagName,this.tagName="",this.state=I.BT):(!c(x,J) && k(this,"Invalid tagname in closing tag"),this.state=I.D1a);else if(c(x,J))continue;else c(K,J)?this.tagName=J:this.wm?(this.wm+="</" + J,this.state=I.BT):k(this,"Invalid tagname in closing tag.");continue;case I.D1a:if(c(x,J))continue;">" === J?q(this):k(this,"Invalid characters in closing tag");continue;case I.VCa:case I.vua:case I.wua:switch(this.state){case I.VCa:(S=I.Aa,Y="textNode");break;case I.vua:S=I.xua;Y="attribValue";break;case I.wua:(S=I.yua,Y="attribValue");}if(";" === J){J=Y;Q=this[J];P=this.ip;X=P.toLowerCase();T="";if(this.kD[P])P=this.kD[P];else if(this.kD[X])P=this.kD[X];else {P=X;if("#" === P.charAt(0))if("x" === P.charAt(1)){P=P.slice(2);U=parseInt(P,16);T=U.toString(16);}else (P=P.slice(1),U=parseInt(P,10),T=U.toString(10));P=P.replace(/^0+/,"");P=T.toLowerCase() !== P?(k(this,"Invalid character entity"),"&" + this.ip + ";"):String.fromCodePoint(U);}this[J]=Q + P;this.ip="";this.state=S;}else c(B,J)?this.ip+=J:(k(this,"Invalid character entity"),this[Y]+="&" + this.ip + J,this.ip="",this.state=S);continue;default:throw Error(this,"Unknown state: " + this.state);}if(this.position >= this.LU){L=Math.max(u.fM,10);J=O=0;for(S=v.length;J < S;J++){Y=this[v[J]].length;if(Y > L)switch(v[J]){case "textNode":f(this);break;case "cdata":g(this,"oncdata",this.ep);this.ep="";break;case "script":g(this,"onscript",this.wm);this.wm="";break;default:h(this,"Max buffer length exceeded: " + v[J]);}O=Math.max(O,Y);}this.LU=u.fM - O + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){f(this);"" !== this.ep && (g(this,"oncdata",this.ep),this.ep="");"" !== this.wm && (g(this,"onscript",this.wm),this.wm="");}};w=u.Al.filter(function(L){return "error" !== L && "end" !== L;});d.prototype=Object.create(b.prototype,{constructor:{value:d}});d.prototype.write=function(L){this.xe.write(L.toString());this.emit("data",L);return !0;};d.prototype.end=function(L){L && L.length && this.write(L);this.xe.end();return !0;};d.prototype.on=function(L,O){var J;J=this;J.xe["on" + L] || -1 === w.indexOf(L) || (J.xe["on" + L]=function(){var Q;Q=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,L);J.emit.apply(J,Q);});return b.prototype.on.call(J,L,O);};x="\r\n\t ";y="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";z="'\"";B=y + A + "#";C=x + ">";D="[CDATA[";F="DOCTYPE";H="http://www.w3.org/XML/1998/namespace";E="http://www.w3.org/2000/xmlns/";G={xml:H,dda:E};x=n(x);y=n(y);A=n(A);K=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;z=n(z);B=n(B);C=n(C);I=0;u.pq={xS:I++,lva:I++,Aa:I++,VCa:I++,cAa:I++,iCa:I++,Eab:I++,Kda:I++,x2a:I++,$va:I++,w2a:I++,ZPc:I++,Fda:I++,G1a:I++,F1a:I++,Ada:I++,v1a:I++,w1a:I++,j9a:I++,rAa:I++,sAa:I++,H8a:I++,$ea:I++,uS:I++,hda:I++,s_a:I++,uua:I++,xua:I++,t_a:I++,yua:I++,vua:I++,wua:I++,Dva:I++,D1a:I++,BT:I++,Aab:I++};u.OVb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};u.kD={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(u.kD).forEach(function(L){var O;O=u.kD[L];O="number" === typeof O?String.fromCharCode(O):O;u.kD[L]=O;});for(I in u.pq)u.pq[u.pq[I]]=I;I=u.pq;String.fromCodePoint || (function(){var O,J;function L(){var Q,P,S,X,T;Q=[];P=-1;S=arguments.length;if(!S)return "";for(var Y="";++P < S;){X=Number(arguments[P]);if(!isFinite(X) || 0 > X || 1114111 < X || J(X) != X)throw RangeError("Invalid code point: " + X);if(65535 >= X)Q.push(X);else {X-=65536;T=(X >> 10) + 55296;X=X % 1024 + 56320;Q.push(T,X);}if(P + 1 == S || 16384 < Q.length)(Y+=O.apply(null,Q),Q.length=0);}return Y;}O=String.fromCharCode;J=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L;})();t.exports=u;},11946:function(t){t.exports=function(){var b;for(b=0;b < arguments.length;b++)if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];return null;};},81668:function(t,b,a){var g,f,e,h,l,k,m,p;function d(r){return "string" !== typeof r?null:f[r];}function n(r){return "string" !== typeof r?null:l[r];}function c(r,q){var u;u=r.split(" ");r=u[0];u=u[1];-1 < r.indexOf("px")?(r=parseFloat(r) / q.width,u=parseFloat(u) / q.height):(r=.01 * parseFloat(r),u=.01 * parseFloat(u));return [r,u];}g=a(11946);t.exports={B9b:function(r,q){var u,v,w,x,y,A,H;u=q.textNodes[0] || ({});v=r.regions;w=r.styles;x=r.aspectRatio;y=r.initialStyle || ({});v=v && v[q.region]?v[q.region]:{};w=w && w[u.style]?w[u.style]:{};u=u.lang;A=c(g(q.extent,v.extent,"80% 80%"),r);if(v.position){for(var z=v.position.split(" "),B=[.5,.5],C=["left","top"],D=0,F=0;F < z.length;F++){H=z[F];(H in m)?(C[D]=H,F + 1 >= z.length && (B[D++]=0)):"center" === H?B[D++]=.5:B[D++]=.01 * parseFloat(H);}-1 < ["top","bottom"].indexOf(C[0]) || -1 < ["left","right"].indexOf(C[1])?(D="bottom" === C[0]?1 - B[0]:B[0],z="right" === C[1]?1 - B[1]:B[1]):(z="right" === C[0]?1 - B[0]:B[0],D="bottom" === C[1]?1 - B[1]:B[1]);B=[(1 - A[0]) * z,(1 - A[1]) * D];}else B=null;q=B?B:c(g(B,q.origin,v.origin,"10% 10%"),r);r=Object;x/=1280 / 720;B=(1 - x) / 2;C=q[0];q=q[1];A=r.create.call(r,{marginLeft:C * x + B,marginTop:q,marginRight:(1 - (C + A[0])) * x + B,marginBottom:1 - (q + A[1])});x=v.writingMode?v.writingMode:"lrtb";A.writingMode="string" !== typeof x?null:k[x];1 < Object.keys(v).length?(x=g(w.displayAlign,v.displayAlign,"before"),"tblr" === v.writingMode || "tbrl" === v.writingMode?(A.horizontalAlignment="string" !== typeof x?null:"tblr" === v.writingMode?e[x]:h[x],A.verticalAlignment=d(g(w.textAlign,v.textAlign,"start"))):A.verticalAlignment=d(x)):A.verticalAlignment=d(g(w.displayAlign,"after"));"horizontal-tb" === A.writingMode && (A.horizontalAlignment=n(g(w.textAlign,v.textAlign,y.textAlign,"center")));A.multiRowAlignment=n(g(w.multiRowAlign,v.multiRowAlign,w.textAlign,v.textAlign,y.textAlign,u && "ja" === u.slice(0,2)?"start":"center"));y=g(v.direction,v.writingMode);A.direction="string" !== typeof y?null:p[y];return A;}};f={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};e={before:"left",center:"center",after:"right"};h={before:"right",center:"center",after:"left"};l={left:"left",start:"start",center:"center",right:"right",end:"end"};k={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};m={top:"top",bottom:"bottom",left:"left",right:"right"};p={ltr:"ltr",rtl:"rtl",lrtb:"ltr",rltb:"rtl"};},81824:function(t,b){var a,d,n,c;Object.defineProperty(b,"__esModule",{value:!0});t={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};d={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};n={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};c={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};b.zJc={Yib:n,Vjb:a,bpb:d,jAb:t,sizeScaleMap:{MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}},TYa:c};b.qrc={Yib:n,Vjb:a,bpb:d,jAb:t,sizeScaleMap:{},TYa:c};},7376:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.Ibb=void 0;d=a(22970);n=d.__importDefault(a(11946));c=("start center end spaceAround spaceBetween withBase").split(" ");g=["before","after","both","outside"];f=["before","after","outside"];e=["filled","open"];h=["circle","dot","sesame"];l=["none","auto"];k=["before","after","outside"];m=("container base baseContainer text textContainer delimiter").split(" ");p=["characterStyle","characterSize"];t=(function(){function r(q,u,v,w){this.xb=q;this.Vt=u;this.jXb=w;this.Zt=this.elc(v);}r.prototype.J9b=function(q,u){var v,w,x;v=(0,n.default)(this.Zt.characterSize,this.Vt.characterSize,"MEDIUM");w=(0,n.default)(this.Zt.characterStyle,this.ifc(q.fontFamily),this.Vt.characterStyle,"PROPORTIONAL_SANS_SERIF");x=this.$xc(q.fontSize);return {characterUnderline:"underline" === q.textDecoration,characterItalic:"italic" === q.fontStyle,characterStyle:w,windowOpacity:this.gTa((0,n.default)(this.Zt.windowOpacity,this.Vt.windowOpacity,"OPAQUE")),characterOpacity:this.gTa((0,n.default)(this.Zt.characterOpacity,this.Vt.characterOpacity,"OPAQUE")),backgroundOpacity:this.gTa((0,n.default)(this.Zt.backgroundOpacity,q.opacity,this.Vt.backgroundOpacity,"OPAQUE")),characterColor:this.a5((0,n.default)(this.Zt.characterColor,q.color,this.Vt.characterColor,"#ffffff")),backgroundColor:this.a5((0,n.default)(this.Zt.backgroundColor,q.backgroundColor,this.Vt.backgroundColor,null)),windowColor:this.a5((0,n.default)(this.Zt.windowColor,q.windowColor,this.Vt.windowColor,null)),characterEdgeAttributes:(0,n.default)(this.Zt.characterEdgeAttributes,this.Vt.characterEdgeAttributes,null),characterSize:this.z4b(v,w,x),characterTracking:this.A4b(v,w),characterEdgeWidth:(0,n.default)(this.u3b(q.textOutline),0),characterEdgeBlur:(0,n.default)(this.s3b(q.textOutline),0),characterEdgeColor:this.a5((0,n.default)(this.Zt.characterEdgeColor,this.t3b(q.textOutline),this.Vt.characterEdgeColor,"#000000")),direction:(0,n.default)(this.Zt.direction,q.direction,this.Vt.direction,"ltr"),ruby:(0,n.default)(this.kqa(q.ruby,m),null),rubyAlign:(0,n.default)(this.kqa(q.rubyAlign,c),null),rubyPosition:(0,n.default)(this.kqa(q.rubyPosition,f),null),rubyReserve:(0,n.default)(this.kqa(q.rubyReserve,g),null),textEmphasis:this.vyc(q.textEmphasis),shear:q.shear?.01 * parseFloat(q.shear):null,textCombine:q.textCombine?q.textCombine:null,lineHeight:q.lineHeight?this.eyc(q.lineHeight,u):null};};r.prototype.eyc=function(q,u){var v;v=q.match(/^([\d\.]+)([a-z%]*)$/i);if(!v)return null;q=parseFloat(v[1]);switch(v[2]){case "rh":(null === u || void 0 === u?0:u.height)?(q*=u.height,u="px"):u=v[2];break;case "rw":(null === u || void 0 === u?0:u.width)?(q*=u.width,u="px"):u=v[2];break;default:u=v[2];}return {value:q,rh:u};};r.prototype.gTa=function(q){return this.xb.jAb[q];};r.prototype.a5=function(q){return "string" !== typeof q || "#" === q[0] && 7 === q.length?q:"#" === q[0] && 4 === q.length?"#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3]:this.xb.Vjb[q.toLowerCase()];};r.prototype.ifc=function(q){return "string" !== typeof q?null:this.xb.bpb[q];};r.prototype.z4b=function(q,u,v){var w;v*=this.xb.Yib[q] || 1;w=1;this.xb.sizeScaleMap[q] && (w=this.xb.sizeScaleMap[q][u] || 1);return 1 / 19 * v * w;};r.prototype.A4b=function(q,u){var v;v=0;this.xb.TYa[q] && (v=this.xb.TYa[q][u] || 0);return v;};r.prototype.u3b=function(q){return "string" !== typeof q?null:this.CTa(q).width;};r.prototype.s3b=function(q){return "string" !== typeof q?null:this.CTa(q).blur;};r.prototype.t3b=function(q){return "string" !== typeof q?null:this.CTa(q).color;};r.prototype.CTa=function(q){var u,v,w;q=(q || "").split(" ");u=(/^[0-9]/).test(q[0]);v=u?0:1;w=parseInt(q[v]);v=parseInt(q[v + 1]);return {color:u?"#000000":this.a5(q[0]),width:0 < w?w:0,blur:0 < v?v:0};};r.prototype.$xc=function(q){q=(q || "").split(" ")[0] || "";return -1 < q.indexOf("%")?parseInt(q,10) / 100:-1 < q.indexOf("em")?parseFloat(q):1;};r.prototype.kqa=function(q,u){if(-1 < u.indexOf(q))return q;};r.prototype.vyc=function(q){var u,v;if(!q)return null;q=q.split(" ");if(0 === q.length)return null;u=this.ula(q,k);u=u.length?u[0]:"outside";v=this.ula(q,l);if(v.length)return this.eXa(v[0],"",u);v=this.ula(q,e);q=this.ula(q,h);return q.length || v.length?this.eXa(q.length?q[0]:"circle",v.length?v[0]:"filled",u):this.eXa("auto","",u);};r.prototype.ula=function(q,u){return q.filter(function(v){return -1 !== u.indexOf(v);});};r.prototype.eXa=function(q,u,v){return {textEmphasisShape:q,textEmphasisFill:u,textEmphasisPosition:v};};r.prototype.elc=function(q){var u,v,y;if(this.jXb){v={};try{for(var w=d.__values(p),x=w.next();!x.done;x=w.next()){y=x.value;void 0 !== q[y] && (v[y]=q[y]);}}catch(z){var A;A={error:z};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(A)throw A.error;}}return v;}return q;};return r;})();b.Ibb=t;},96379:function(t,b,a){var n;function d(c,g){var f,e,h,l,k,m,p,r;this.BEa=!0;f=c.indexOf("<p");e=[];h=f;l=-1;do {k={};k.mIc=h;m=c.indexOf("begin=",h) + 7;p=c.indexOf("end=",h) + 5;r=c.substr(m,12);h === f && -1 !== r.indexOf(":") && (this.BEa=!1);this.BEa?(m=Math.floor(parseInt(c.substr(m,25),10) / g * 1E3),p=Math.floor(parseInt(c.substr(p,25),10) / g * 1E3)):(m=n(c.substr(m,12)),p=n(c.substr(p,12)));l=p > l?p:l;k.startTime=m;k.endTime=p;k.latestEndSoFar=l;k.Enb=c.indexOf("/p>",h) + 3;h=k.Enb;e.push(k);h=c.indexOf("<p",h);}while(-1 !== h);this.Wt=e;this.iN=c;}n=a(4574).mI;d.prototype.xob=function(){return this.Wt[this.Wt.length - 1].endTime;};d.prototype.pp=function(c,g){return this.Wt.filter(function(f){return f.startTime <= g && f.endTime >= c;}).length;};d.prototype.djc=function(c){for(var g="",f=this.Wt.filter(function(h){return h.startTime <= c && c < h.endTime || h.startTime >= c;}),e=4;e + 1 < f.length && f[e + 1].startTime === f[4].startTime;)e++;f=f.slice(0,e + 1);0 < f.length && (g=this.iN.slice(f[0].mIc,f[f.length - 1].Enb));return g;};t.exports=d;},23309:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Fea=b.H6a=b.b2=void 0;d=a(91176);b.b2=1E4;t=(function(){function c(g){this.Rg=[];this.s3=0;this.va=g;}Object.defineProperty(c.prototype,"endOfStreamSegment",{get:function(){return this.KWb;},enumerable:!1,configurable:!0});c.prototype.aP=function(g){return (0,d.oc)(this.Rg,function(f){return g >= f.Db && g < f.xg;});};c.prototype.jGa=function(g,f){var h;for(var e=this.Rg;0 < e.length && 300 <= g.L - e[0].L;)this.Yaa();for(;0 < e.length && 300 <= e[e.length - 1].L - g.L;)this.pWa();h=new n(g,f);g=e.length;if(0 === g || e[g - 1].L < h.L)this.qWa(h);else {g=(0,d.oc)(e,function(l){return l.L >= h.L;});if((null === g || void 0 === g?void 0:g.L) === h.L)return;this.rWa(e.indexOf(g),h);}h.endOfStream && (this.va.trace("EOS segment added to segment manager"),this.KWb=h);this.s3=e[e.length - 1].L;};c.prototype.wca=function(g){var f;if("undefined" === typeof g)this.va.warn("Current segment is undefined.");else for((this.Qo=g,this.va.trace(("Current segment id is ").concat(g.L)));(null === (f=this.Rg[0]) || void 0 === f?void 0:f.xg) < g.xg - b.b2;)this.Yaa();};c.prototype.kNa=function(){if(this.Xt){if(this.s3 !== this.Xt.L)return this.Rg[this.Rg.indexOf(this.Xt) + 1];}else return this.Rg[0];};c.prototype.pA=function(g){this.Xt=this.vB(g);};c.prototype.vB=function(g){var f;f=(0,d.oc)(this.Rg,function(e){return e.L === g;});"undefined" === typeof f && this.va.error("Segment with segmentId " + g + " is not in segmentArray");return f;};c.prototype.g7=function(){var g;return (null === (g=this.Xt) || void 0 === g?void 0:g.L) || -1;};c.prototype.wZa=function(g,f){g=this.vB(g);"undefined" !== typeof g && (this.Rg[this.Rg.indexOf(g)].header=f);};c.prototype.Irb=function(g){return this.vB(g);};c.prototype.HMa=function(g){g=this.vB(g);return (null === g || void 0 === g?void 0:g.header) || ({});};c.prototype.Yaa=function(){this.Rg.shift();};c.prototype.qWa=function(g){this.Rg.push(g);};c.prototype.rWa=function(g,f){this.Rg.splice(g,0,f);};c.prototype.pWa=function(){this.Rg.pop();};return c;})();b.H6a=t;n=(function(){return function(c,g){this.L=c.L;this.xml=c.xml;this.Db=c.Db;this.xg=c.xg;this.hP=g;this.size=c.size;this.qx=c.qx;this.endOfStream=c.endOfStream;};})();b.Fea=n;},51665:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.J6a=void 0;d=a(22970);t=(function(n){function c(g,f){f=n.call(this,g,f) || this;f.xml=g.xml;f.size=g.size;return f;}d.__extends(c,n);return c;})(a(23309).Fea);b.J6a=t;},37494:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.K6a=void 0;d=a(22970);t=a(22699);n=a(18797);c=a(60514);g=a(23309);f=a(4574);e=a(4574);h=t.EventEmitter;a=(function(l){function k(m){var p,r,q;p=l.call(this) || this;r=m.re;q=m.ta;h.call(p);p.gE=new f.Aya(q);p.Uk="number" === typeof r?m.re:0;p.va="object" === typeof q?m.ta:console;p.Nb=[];p.ik=0;p.Om=p.Uk;p.Ze=null;p.kk=!1;p.wq=!1;p.AM=m.daa || 0;p.we=new g.H6a(p.va);p.hN=m.dYa;p.va.trace("LiveTextStream created with options",m);return p;}d.__extends(k,l);k.prototype.start=function(){this.va.info(("Incremental live text stream created, starting at pts ").concat(this.Uk));"undefined" !== typeof this.we.aP(this.Uk) && this.rQ.call(this,this.Uk);};k.prototype.SUa=function(m){var p,r,q,u;p=this;r=m.xml;q=r.indexOf("<p");this.va.trace("pushNextSegment",m);this.we.jGa(m,-1 !== q?q:0);if(!this.kk){u=this.we.Rg[0];this.we.wca(u);this.Uk=u.Db;}-1 < q?(this.gE.pgb(r,m.L,m.qx),this.va.trace(("Live segment ").concat(m.L," is pushed to segment manager"),{Db:m.Db,xg:m.xg,Xac:m.qx}),!this.kk && 3 > this.ik && (r=0 < this.Nb.length?this.Nb[this.Nb.length - 1].startTime + 1:this.Uk,this.va.trace("parseNextSegment is called from push new live Segment at " + r),this.rQ.call(this,r))):(this.va.trace(("Live segment ").concat(m.L," is pushed to segment manager, it is an empty segment")),this.kk || setTimeout(function(){p.pA(m.L);},10));};k.prototype.OI=function(m){var p,r,q,u,v,w;p=this;u=this;u.va.trace(("LiveTextStream:get subtitles at pts ").concat(m));v=u.we.aP(m);if("undefined" === typeof v)return (u.va.debug(("LiveTextStream: get subtitle at pts ").concat(m," returns empty result with segment not available at this pts")),[]);u.we.wca(v);m < u.Om - u.AM?(u.va.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(m),(", _lastPts: ").concat(u.Om,", _backupTolerance: ").concat(u.AM)),u.Nb=[],u.ik=0):(u.ik=0 < u.Nb.length?Math.max(u.we.g7() - v.L + 1,0):0,0 === u.ik && (u.Nb=[]));v=u.Nb;u.va.trace(("LiveTextStream: lastBufferedPts calculation ").concat(m),(", buffer.length: ").concat(v.length,", result: ").concat(0 < v.length?null === (r=v[v.length - 1]) || void 0 === r?void 0:r.startTime:m));r=this.we.Xt;w=0 < v.length && void 0 !== r?r.Db:m;u.Om=m;u.va.info("LiveTextStream: timer is " + u.Ze + " bufffered segment number is " + u.ik + " is parsing entry : " + this.wq + " maxBufferedStartPts " + (null === (q=this.we.Xt) || void 0 === q?void 0:q.Db));for(!u.Ze && 3 > u.ik && !u.wq && (u.va.info("LiveTextStream: buffer size: " + u.ik + "; minimum: 3"),u.wq=!0,u.Ze=setTimeout(function(){u.Ze=null;p.va.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (w + 1));p.rQ.call(u,w + 1);},10));0 < v.length && v[0].endTime < m;)v.shift();return (0,n.Fla)(v,m).map(function(x){var y;y=u.we.HMa(x.segId);return n.Sja.call(u,y,x);});};k.prototype.pp=function(m,p){return this.gE?this.gE.pp(m,p):0;};k.prototype.close=function(){};k.prototype.rQ=function(m){var p;p=this.hNa.call(this,m);"undefined" !== typeof p?(this.va.trace("Next segment to parse at pts " + m + " is segment " + p.L),0 === p.hP?(this.va.trace("This is an empty segment"),this.pA(p.L)):(this.ATa.call(this,p),this.va.trace("parseNextSegEntries buffer length: " + this.Nb.length))):(this.va.debug("Next segment is undefined at pts " + m),this.wq=!1);};k.prototype.hNa=function(m){var p,r;r=this.gE.$qb(m);this.va.trace(("Most recent entry at current pts ").concat(m," is segment id  ").concat(r));-1 === r && (r=(null === (p=this.we.aP(m)) || void 0 === p?void 0:p.L) || -1);return r === this.we.g7()?this.we.kNa():this.we.vB(r);};k.prototype.ATa=function(m){var p,r,q,u,v;p=this;r=this;q=m.xml.slice(0,m.hP);u=m.xml.slice(m.hP,m.xml.lastIndexOf("/p>") + 3);(0,n.OAb)(q,function(w,x){null !== w?(w.Usb=q,w.L=m.L,r.emit("error",w)):(v=x,r.we.wZa(m.L,v),p.wTa.call(r,u,v,m));});};k.prototype.wTa=function(m,p,r){var q,u,v,w,x,y,A;q=this;u=this;v=0;w=[];x=p.defaultStyle?[p.defaultStyle]:[];y=p.lang?[p.lang]:[];u.va.debug(m);A=c.Ce(!0);A.onerror=function(z){z.xml=m;u.emit("error",z);};A.onend=function(){var z;z=u.Nb.reduce(function(B,C){C=C.blocks.reduce(function(D,F){return D.concat([F.id]);},[]);return B.concat(C);},[]);w.forEach(function(B){var C;if(-1 === z.indexOf(B.id)){C=B && B.blocks && B.blocks.filter(function(D){return 0 < D.textNodes.length;});C && 0 < C.length && (B.blocks=C,u.Nb.push(B));}});q.pA(r.L);};A.ontext=function(z){("" !== z.trim() || z.match(/ +/)) && (0,n.xd)((0,n.xd)(w).blocks).textNodes.push({text:z.match(/ +/)?z:z.trim(),style:(0,n.xd)(x),lang:(0,n.xd)(y),lineBreaks:v});v=0;};A.onclosetag=function(){var z;z=A.tag;"undefined" !== typeof z.attributes.style && x.pop();"undefined" !== typeof z.attributes["xml:lang"] && y.pop();};A.onopentag=function(z){var B,C;B=z.attributes;z=z.name;if("p" === z){v=0;z=r.L.toString() + "_" + B["xml:id"];B.style && x.push(B.style);B["xml:lang"] && y.push(B["xml:lang"]);C=(0,e.mI)(B.begin);0 === w.length || (0,n.xd)(w).displayTime !== C?(B=q.bJa(z,0,B,r.qx),B.segId=r.L,w.push(B)):(0,n.xd)(w).blocks.push({textNodes:[],region:B.region,id:z,extent:B["tts:extent"] || null,origin:B["tts:origin"] || null});}else "span" === z?(x.push(B.style),B["xml:lang"] && y.push(B["xml:lang"]),z=p.styles[B.style],B.style && z && z.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(z.ruby) && (0,n.xd)((0,n.xd)(w).blocks).textNodes.push({text:"",style:(0,n.xd)(x),lang:(0,n.xd)(y),lineBreaks:0})):"br" === z && v++;};A.write("<entries>").write(m).write("</entries>").close();};k.prototype.bJa=function(m,p,r,q){var u;u={};u.id=m;u.startTime=(0,e.mI)(r.begin || "") - q;u.endTime=(0,e.mI)(r.end || "") - q;u.style=r.style;u.region=r.region;u.displayTime=u.startTime;u.duration=u.endTime - u.startTime;u.extent=r["tts:extent"] || null;u.origin=r["tts:origin"] || null;u.latestEndSoFar=p > u.endTime?p:u.endTime;u.blocks=[{textNodes:[],region:u.region,id:m,extent:u.extent || null,origin:u.origin || null}];return u;};k.prototype.pA=function(m){this.we.pA(m);this.ik+=1;this.wq=!1;this.va.trace("updateMaxParsedSegment " + m);if(!this.kk && 3 <= this.ik || this.we.PKa && this.we.Irb(m) === this.we.PKa)(this.we.PKa && this.we.Irb(m) === this.we.PKa && this.va.trace("Marking stream ready due to EOS"),this.kk=!0,this.emit("ready"));};return k;})(h);b.K6a=a;},4574:function(t,b,a){var n,c;function d(g){var f;g=g.split(".");f=g[0].split(":").map(function(e){return parseInt(e,0);});return (3600 * f[0] + 60 * f[1] + f[2]) * c + parseInt(g[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.Aya=void 0;b.mI=d;n=a(91176);c=1E3;t=(function(){function g(f){this.Wt=[];this.va=f;}g.prototype.pgb=function(f,e,h){var l,k,m,p,r,q;void 0 === h && (h=0);l=this.Wt;k=f.indexOf("<p");m=-1;do {p={};p.L=e;p.kHb=k;r=f.indexOf("begin=",k) + 7;q=f.indexOf("end=",k) + 5;r=d(f.substring(r,r + 12)) - h;q=d(f.substring(q,q + 12)) - h;m=q > m?q:m;p.startTime=r;p.endTime=q;p.latestEndSoFar=m;p.qdc=f.indexOf("/p>",k) + 3;k=p.qdc;if(0 === l.length || p.startTime > l[l.length - 1].startTime)(l.push(p),this.va.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,edc:p.endTime}));else if((q=(0,n.oc)(l,function(u){return u.startTime >= p.startTime;}),q.startTime !== p.startTime || q.kHb !== p.kHb))(q=l.indexOf(q),l.splice(q,0,p),this.va.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(q),{startTime:p.startTime,edc:p.endTime}));k=f.indexOf("<p",k);}while(-1 !== k);};g.prototype.pp=function(f,e){return this.Wt.filter(function(h){return h.startTime <= e && h.endTime >= f;}).length;};g.prototype.LUa=function(f){this.Wt=this.Wt.filter(function(e){return e.startTime >= f;});};g.prototype.$qb=function(f){var e;e=(0,n.oc)(this.Wt,function(h){return h.startTime <= f && f < h.endTime || h.startTime >= f;});return (null === e || void 0 === e?void 0:e.L) || -1;};g.prototype.xob=function(){return 0 < this.Wt.length?this.Wt[this.Wt.length - 1].endTime:0;};return g;})();b.Aya=t;},97115:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Fea=b.t8a=b.b2=void 0;d=a(91176);b.b2=1E4;t=(function(){function n(c){this.Rg=[];this.s3=0;this.va=c;}n.prototype.aP=function(c){var g;g=(0,d.oc)(this.Rg,function(f){return c >= f.Db && c < f.xg;});"undefined" === typeof g && this.va.warn("Get Segment at pts " + c + " is undefined");return g;};n.prototype.jGa=function(c){var f;for(var g=this.Rg;0 < g.length && 300 <= c.L - g[0].L;)this.Yaa();for(;0 < g.length && 300 <= g[g.length - 1].L - c.L;)this.pWa();f=g.length;if(0 === f || g[f - 1].L < c.L)this.qWa(c);else {f=(0,d.oc)(g,function(e){return e.L >= c.L;});if((null === f || void 0 === f?void 0:f.L) === c.L)return;this.rWa(g.indexOf(f),c);}this.s3=g[g.length - 1].L;};n.prototype.wca=function(c){var g;if("undefined" === typeof c)this.va.warn("Current segment is undefined.");else for((this.Qo=c,this.va.trace(("Current segment id is ").concat(c.L)));(null === (g=this.Rg[0]) || void 0 === g?void 0:g.xg) < c.xg - b.b2;)this.Yaa();};n.prototype.kNa=function(){if(this.Xt){if(this.s3 !== this.Xt.L)return this.Rg[this.Rg.indexOf(this.Xt) + 1];}else return this.Rg[0];};n.prototype.pA=function(c){this.Xt=this.vB(c);};n.prototype.vB=function(c){var g;g=(0,d.oc)(this.Rg,function(f){return f.L === c;});"undefined" === typeof g && this.va.error("Segment with segmentId " + c + " is not in segmentArray");return g;};n.prototype.g7=function(){var c;return (null === (c=this.Xt) || void 0 === c?void 0:c.L) || -1;};n.prototype.wZa=function(c,g){c=this.vB(c);"undefined" !== typeof c && (this.Rg[this.Rg.indexOf(c)].header=g);};n.prototype.HMa=function(c){c=this.vB(c);return (null === c || void 0 === c?void 0:c.header) || ({});};n.prototype.Yaa=function(){this.Rg.shift();};n.prototype.qWa=function(c){this.Rg.push(c);};n.prototype.rWa=function(c,g){this.Rg.splice(c,0,g);};n.prototype.pWa=function(){this.Rg.pop();};return n;})();b.t8a=t;b.Fea=(function(){return function(n,c){this.L=n.L;this.xml=n.xml;this.Db=n.Db;this.xg=n.xg;this.hP=c;this.qx=n.qx;};})();},76851:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.u8a=void 0;d=a(22970);t=a(22699);n=a(18797);c=a(76495);g=a(51665);f=a(4574);e=a(97115);h=a(74528);l=t.EventEmitter;a=(function(k){function m(p,r){var q,u,v;void 0 === r && (r=c.V1.Aa);q=k.call(this) || this;u=p.re;v=p.ta;l.call(q);q.gE=new f.Aya(v);q.Uk="number" === typeof u?p.re:0;q.va="object" === typeof v?p.ta:console;q.Nb=[];q.ik=0;q.Om=q.Uk;q.Ze=null;q.kk=!1;q.wq=!1;q.AM=p.daa || 0;q.we=new e.t8a(q.va);q.hN=p.dYa;q.hfb=r;if(r === c.V1.Aa)q.sFa=new h.abb(q.va,q.hN);else throw Error("Not implemented yet");q.va.trace("LiveTextStream created with options",p);return q;}d.__extends(m,k);m.prototype.start=function(){this.va.info(("Incremental live text stream created, starting at pts ").concat(this.Uk));"undefined" !== typeof this.we.aP(this.Uk) && this.rQ.call(this,this.Uk);};m.prototype.SUa=function(p){var r,q,u,v;r=this;q=p.xml;u=q.indexOf("<p");if(this.hfb === c.V1.Aa)v=new g.J6a(p,-1 !== u?u:0);else throw Error("Not yet implemented");this.we.jGa(v);this.kk || (p=this.we.Rg[0],this.we.wca(p),this.Uk=p.Db);-1 < u?(this.gE.pgb(q,v.L,v.qx),this.va.trace(("Live segment ").concat(v.L," is pushed to segment manager"),{Db:v.Db,xg:v.xg,Xac:v.qx}),!this.kk && 4 > this.ik && (q=0 < this.Nb.length?this.Nb[this.Nb.length - 1].startTime + 1:this.Uk,this.va.trace("parseNextSegment is called from push new live Segment at " + q),this.rQ.call(this,q))):(this.va.trace(("Live segment ").concat(v.L," is pushed to segment manager, it is an empty segment")),this.kk || setTimeout(function(){r.pA(v.L);},10));};m.prototype.OI=function(p){var r,q,u,v,w,x;r=this;v=this;v.va.trace(("LiveTextStream:get subtitles at pts ").concat(p));w=v.we.aP(p);if("undefined" === typeof w)return (v.va.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);v.we.wca(w);p < v.Om - v.AM?(v.va.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(v.Om,", _backupTolerance: ").concat(v.AM)),v.Nb=[],v.ik=0):(v.ik=0 < v.Nb.length?Math.max(v.we.g7() - w.L + 1,0):0,0 === v.ik && (v.Nb=[]));w=v.Nb;v.va.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(w.length,", result: ").concat(0 < w.length?null === (q=w[w.length - 1]) || void 0 === q?void 0:q.startTime:p));q=this.we.Xt;x=0 < w.length && void 0 !== q?q.Db:p;v.Om=p;v.va.info("LiveTextStream: timer is " + v.Ze + " bufffered segment number is " + v.ik + " is parsing entry : " + this.wq + " maxBufferedStartPts " + (null === (u=this.we.Xt) || void 0 === u?void 0:u.Db));for(!v.Ze && 4 > v.ik && !v.wq && (v.va.info("LiveTextStream: buffer size: " + v.ik + "; minimum: 4"),v.wq=!0,v.Ze=setTimeout(function(){v.Ze=null;r.va.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));r.rQ.call(v,x + 1);},10));0 < w.length && w[0].endTime < p;)w.shift();return this.sFa.Fla(w,p).map(function(y){var A;A=v.we.HMa(y.segId);return r.sFa.Sja(A,y);});};m.prototype.pp=function(p,r){return this.gE?this.gE.pp(p,r):0;};m.prototype.close=function(){};m.prototype.rQ=function(p){d.__awaiter(this,void 0,void 0,function(){var r,q;return d.__generator(this,function(u){switch(u.label){case 0:r=this;q=this.hNa.call(r,p);if("undefined" === typeof q)return [3,4];r.va.trace("Next segment to parse at pts " + p + " is segment " + q.L);if(0 !== q.hP)return [3,1];r.va.trace("This is an empty segment");this.pA(q.L);return [3,3];case 1:return [4,this.ATa.call(r,q)];case 2:(u.S(),r.va.trace("parseNextSegEntries buffer length: " + r.Nb.length),u.label=3);case 3:return [3,5];case 4:return (r.va.debug("Next segment is undefined at pts " + p),this.wq=!1,[2]);case 5:return [2];}});});};m.prototype.hNa=function(p){var r,q;q=this.gE.$qb(p);this.va.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(q));-1 === q && (q=(null === (r=this.we.aP(p)) || void 0 === r?void 0:r.L) || -1);return q === this.we.g7()?this.we.kNa():this.we.vB(q);};m.prototype.ATa=function(p){return d.__awaiter(this,void 0,void 0,function(){var r,q,u,v,w,x,y,A,z;return d.__generator(this,function(B){switch(B.label){case 0:(r=this,q=p.xml.slice(0,p.hP),B.label=1);case 1:return (B.qc.push([1,3,,4]),[4,this.byc(q)]);case 2:return (u=B.S(),[3,4]);case 3:return (v=B.S(),this.zKa(v),[3,4]);case 4:if(!u)return (w=Error("Parsing header text returned undefined"),this.zKa(w),[2]);if(u.error)return (x=u.error,x.Usb=q,x.L=p.L,this.zKa(x),[2]);A=u.head;this.we.wZa(p.L,A);return this.hfb !== c.V1.Aa?[3,6]:[4,this.sFa.wTa(p,A)];case 5:return (y=B.S(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (z=r.Nb.reduce(function(C,D){D=D.blocks.reduce(function(F,H){return F.concat([H.id]);},[]);return C.concat(D);},[]),y && (y.forEach(function(C){var D;if(-1 === z.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(F){return 0 < F.textNodes.length;});D && 0 < D.length && (C.blocks=D,r.Nb.push(C));}}),this.pA(p.L)),[2]);}});});};m.prototype.zKa=function(p){this.va.error(p);this.emit("error",p);};m.prototype.pA=function(p){this.we.pA(p);this.ik+=1;this.wq=!1;!this.kk && 4 <= this.ik && (this.kk=!0,this.emit("ready"));};m.prototype.byc=function(p){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return [2,new Promise(function(r){(0,n.OAb)(p,function(q,u){q?r({error:q}):r({head:u});});})];});});};return m;})(l);b.u8a=a;},74528:function(t,b,a){var d,n,c,g;Object.defineProperty(b,"__esModule",{value:!0});b.abb=void 0;d=a(22970);n=a(18797);c=a(60514);g=a(4574);t=(function(){function f(e,h){this.va=e;this.hN=h;}f.prototype.wTa=function(e,h){return d.__awaiter(this,void 0,void 0,function(){var l,k,m,p,r,q,u,v,w;w=this;return d.__generator(this,function(){l=this;k=0;m=[];p=h.defaultStyle?[h.defaultStyle]:[];r=h.lang?[h.lang]:[];q=e.xml.lastIndexOf("/p>") + 3;u=e.xml.slice(e.hP,q);l.va.debug(u);v=c.Ce(!0);return [2,new Promise(function(x,y){v.onerror=function(A){A.xml=u;y(A);};v.onend=function(){x(m);};v.ontext=function(A){("" !== A.trim() || A.match(/ +/)) && (0,n.xd)((0,n.xd)(m).blocks).textNodes.push({text:A.match(/ +/)?A:A.trim(),style:(0,n.xd)(p),lang:(0,n.xd)(r),lineBreaks:k});k=0;};v.onclosetag=function(){var A;A=v.tag;"undefined" !== typeof A.attributes.style && p.pop();"undefined" !== typeof A.attributes["xml:lang"] && r.pop();};v.onopentag=function(A){var z,B;z=A.attributes;A=A.name;if("p" === A){k=0;A=e.L.toString() + "_" + z["xml:id"];z.style && p.push(z.style);z["xml:lang"] && r.push(z["xml:lang"]);B=(0,g.mI)(z.begin);0 === m.length || (0,n.xd)(m).displayTime !== B?(z=w.bJa(A,0,z,e.qx),z.segId=e.L,m.push(z)):(0,n.xd)(m).blocks.push({textNodes:[],region:z.region,id:A,extent:z["tts:extent"] || null,origin:z["tts:origin"] || null});}else "span" === A?(p.push(z.style),z["xml:lang"] && r.push(z["xml:lang"]),A=h.styles[z.style],z.style && A && A.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(A.ruby) && (0,n.xd)((0,n.xd)(m).blocks).textNodes.push({text:"",style:(0,n.xd)(p),lang:(0,n.xd)(r),lineBreaks:0})):"br" === A && k++;};v.write("<entries>").write(u).write("</entries>").close();})];});});};f.prototype.Fla=function(e,h){return n.Fla.call(this,e,h);};f.prototype.Sja=function(e,h){return n.Sja.call(this,e,h);};f.prototype.bJa=function(e,h,l,k){var m;m={};m.id=e;m.startTime=(0,g.mI)(l.begin || "") - k;m.endTime=(0,g.mI)(l.end || "") - k;m.style=l.style;m.region=l.region;m.displayTime=m.startTime;m.duration=m.endTime - m.startTime;m.extent=l["tts:extent"] || null;m.origin=l["tts:origin"] || null;m.latestEndSoFar=h > m.endTime?h:m.endTime;m.blocks=[{textNodes:[],region:m.region,id:e,extent:m.extent || null,origin:m.origin || null}];return m;};return f;})();b.abb=t;},92020:function(t,b,a){var n,c,g,f,e,h,l,k,m,p;function d(r){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(r);}Object.defineProperty(b,"__esModule",{value:!0});b.eVb=void 0;n=a(22970);t=a(22699);c=a(18797);g=a(81824);f=a(7376);e=a(37494);h=a(76851);l=a(76495);k=a(66827);m=a(3992);p=a(31496);t=(function(r){function q(u,v){var w,x,y,A,z,B,C,D,F;C=r.call(this) || this;C.Va="paused";C.k3=[];C.Om=0;C.Web=!0;D=u.LB || !1;C.va=u.ta || console;C.bN=u.request;C.NA=u.Qjc;C.Iga=u.SZc || (function(H,E){return H - (null !== E && void 0 !== E?E:C.NA());});C.Va="paused";C.k3=[];C.A3=v.profile;C.ug=v.url;C.$M=v.re;C.Om=C.$M || 0;C.Web=null !== (w=v.L2c) && void 0 !== w?w:!0;C.ST=null !== (x=v.nYc) && void 0 !== x?x:!1;w={url:C.ug,request:C.bN,re:null !== (y=C.$M) && void 0 !== y?y:0,ta:C.va,LB:D,bufferSize:v.bufferSize,daa:v.daa || 0,qib:v.qib,xa:null !== (A=v.xa) && void 0 !== A?A:!1};C.ST && (C.mha=new k.owa(),C.Lga=new k.owa());if("nflx-cmisc" === v.profile){F=n.__assign(n.__assign({},w),{offset:v.RRa,size:v.Yxb,Az:v.Az,isa:v.isa,hnb:v.hnb});C.Pe=new m(F);}else if((C.Zt=v.preferences,C.Vt=v.Qf,y=null !== (B=null !== (z=v.ZVc) && void 0 !== z?z:v.xa) && void 0 !== B && B?g.qrc:g.zJc,(z=null !== (F=v.LOa) && void 0 !== F?F:!1) && C.va.debug("ignoreUserTextPreferences was true, ignoring preferences"),C.hN=new f.Ibb(y,C.Vt || ({}),C.Zt || ({}),z),F=n.__assign(n.__assign({},w),{profile:v.profile,xml:v.xml,dYa:C.hN}),v.xa && d(C.A3) && void 0 === F.xml))C.Pe=v.W4c?new h.u8a(F,l.V1.Aa):new e.K6a(F);else if(d(C.A3) && "function" === typeof c.Rxa)C.Pe=new c.Rxa(F);else throw Error("SubtitleManager: " + C.A3 + " is an unsupported profile");C.Pe.on("ready",function(){var E,G,K;function H(){return "paused" === C.Va || "stopped" === C.Va;}E=!!v.Khb;C.va.info("ready event fired by subtitle stream");C.emit("ready");G=C.Pe.OI.bind(C.Pe);if(u.rNa && u.Aqa){K=a(17972).B0a;C.Ze=new K(C.NA,G,C.Iga,C.va,H,u.rNa,u.Aqa,v);}else C.Ze=new p(C.NA,G,C.Iga,H,C.va,v);if("dfxp-ls-sdh" === C.A3 && "function" === typeof c.Rxa)C.Ze.on("stagesubtitle",C.JXa.bind(C));C.Ze.on("showsubtitle",C.wXa.bind(C));C.Ze.on("removesubtitle",C.qVa.bind(C));C.Ze.on("underflow",C.Zp.bind(C));C.Ze.on("bufferingComplete",C.Sl.bind(C));E && (C.va.info("autostarting subtitles"),setTimeout(function(){"stopped" !== C.Va && C.KG(C.NA());},10));});C.Pe.on("error",C.emit.bind(C,"error"));return C;}n.__extends(q,r);q.prototype.start=function(){this.Pe.start();};q.prototype.NCb=function(){"running" === this.Va && (this.Va="paused",this.unb(this.Om));};q.prototype.KG=function(u){"stopped" === this.Va?this.va.debug("updatePts called when stopped"):(this.Web && "running" === this.Va && 1E4 < Math.abs(u - this.Om) && (this.va.warn("Detected an unexpected pts jump larger than",1E4,"at",u,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.NCb()),this.Om=u,"paused" === this.Va && (this.Va="running",this.CIc(u)),this.Ze && (this.qMc(u),this.Ze.KG(0)));};q.prototype.stop=function(u){var v,w,x;this.va.info("stop called");"running" === this.Va && this.pause(u);this.Pe.removeAllListeners(["ready"]);null === (v=this.Ze) || void 0 === v?void 0:v.stop();u=this.X6();this.ST && u && (u.PHc=null === (w=this.mha) || void 0 === w?void 0:w.Qla(),u.smc=null === (x=this.Lga) || void 0 === x?void 0:x.Qla());w=this.k3.reduce(function(y,A){y.YGb+=A.rba;y.Jka+=A.Kka || 0;y.er.push(A);return y;},{YGb:0,Jka:0,er:[]});"object" === typeof this.Pe && this.Pe.close();this.va.debug("metrics: " + JSON.stringify(w));this.Va="stopped";return w;};q.prototype.pause=function(u){var v;u=void 0 !== u?u:this.NA();"paused" === this.Va || "stopped" === this.Va?this.va.warn("pause called on subtitle manager, but it was already paused/stopped!"):(this.va.info("pause called at " + u),this.Va="paused",this.unb(u));null === (v=this.Ze) || void 0 === v?void 0:v.pause();};q.prototype.ama=function(u,v){return "function" === typeof this.Pe.ama?this.Pe.ama(u,v):[];};q.prototype.pp=function(u,v){return this.Pe.pp(u,v);};q.prototype.OI=function(u){return this.Pe.OI(u);};q.prototype.RK=function(u){var w;function v(){w.va.info("bufferingComplete from setStreamStartPosition");w.emit("bufferingComplete");}w=this;"function" === typeof this.Pe.RK?this.Pe.RK(u,v):v();};q.prototype.ym=function(u,v){"function" === typeof this.Pe.ym && this.Pe.ym(u,v);};q.prototype.Kk=function(u,v){"function" === typeof this.Pe.Kk && this.Pe.Kk(u,v);};q.prototype.RUa=function(u){"function" === typeof this.Pe.SUa && this.Pe.SUa(u);};q.prototype.X6=function(){return this.k3[this.k3.length - 1];};q.prototype.wXa=function(u){var v,w,x,y,B;x=0;this.va.info("show subtitle called at undefined for displayTime " + u.displayTime);this.emit("showsubtitle",u);y=this.X6();y.cA || (y.cA={});if(d(this.A3))try{for(var A=n.__values(u.blocks),z=A.next();!z.done;z=A.next()){B=z.value;y.cA.hasOwnProperty(B.id) || x++;y.cA[B.id]=u.endTime;}}catch(D){var C;C={error:D};}finally{try{z && !z.done && (v=A.return) && v.call(A);}finally{if(C)throw C.error;}}else (y.cA.hasOwnProperty(u.id) || x++,y.cA[u.id]=u.endTime);this.Y5b();y.rba+=x;this.ST && (null === (w=this.mha) || void 0 === w?void 0:w.ggb(u.startTime,this.NA()));};q.prototype.Y5b=function(){var u,v,w;u=this.X6();if(null === u || void 0 === u?0:u.cA){v=u.cA;w=Object.keys(u.cA);30 < w.length && (w=w.sort(function(x,y){return v[y] - v[x];}),w.splice(19,Math.max(w.length - 20,0)),u.cA={},w.forEach(function(x){u.cA[x]=v[x];}));}};q.prototype.qVa=function(u){var v;this.va.info("remove subtitle called at undefined for remove time " + (u.displayTime + u.duration));this.emit("removesubtitle",u);this.ST && (null === (v=this.Lga) || void 0 === v?void 0:v.ggb(u.endTime,this.NA()));};q.prototype.JXa=function(u){this.va.info("stage subtitle called at " + this.NA() + " for displayTime " + u.displayTime);this.emit("stagesubtitle",u);};q.prototype.Zp=function(){this.va.info("underflow fired by the subtitle timer");this.emit("underflow");};q.prototype.Sl=function(){this.va.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};q.prototype.CIc=function(u){var v,w;this.va.debug("creating a new subtitle interval at " + u);this.ST && (null === (v=this.mha) || void 0 === v?void 0:v.reset(u),null === (w=this.Lga) || void 0 === w?void 0:w.reset(u));this.k3.push({Db:u,rba:0});};q.prototype.qMc=function(u){var v;v=this.X6();v && (v.vQa=u);};q.prototype.unb=function(u){var v,w,x;this.va.debug("ending subtitle interval at " + u);x=this.X6();x && (x.xg=u,this.ST && (x.PHc=null === (v=this.mha) || void 0 === v?void 0:v.Qla(),x.smc=null === (w=this.Lga) || void 0 === w?void 0:w.Qla()),x.xg < x.Db && (this.va.warn("correcting for interval where endPts is smaller than startPts"),x.Db=0 < x.xg?x.xg - 1:0),x.Kka=this.Pe.pp(x.Db,x.xg),delete x.cA,x.Kka > x.rba && x.vQa && 500 > x.xg - x.vQa && (x.Kka=this.Pe.pp(x.Db,x.vQa)),this.va.debug("showed " + x.rba + " during this interval"),this.va.debug("expected " + x.Kka + " for this interval"));};return q;})(t.EventEmitter);b.eVb=t;b["default"]=t;},66827:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.owa=void 0;a={0:"early",1:"late"};t=(function(){function d(n){void 0 === n && (n=4E3);this.yXb=n;this.reset(0);}d.prototype.ggb=function(n,c){var g;n=Math.max(n,this.Uk);c-=n;if(!(0 > c)){g=this.NEa[+(n - this.Uk > this.yXb)];g.count++;g.LC+=c;c > g.max && (g.max=c,g.re=n);}};d.prototype.Qla=function(){var g;for(var n={},c=0;c < this.NEa.length;c++){g=this.NEa[c];g.count && (n[a[c]]={J2c:g.re,Z0c:g.max,oWc:Math.round(g.LC / g.count)});}return n;};d.prototype.reset=function(n){this.NEa=[{LC:0,max:0,re:0,count:0},{LC:0,max:0,re:0,count:0}];this.Uk=n;};return d;})();b.owa=t;},76495:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.V1={};t[t.TEXT=0]="TEXT";t[t.IMAGE=1]="IMAGE";},76290:function(t,b,a){var h,l;function d(k,m,p){var r;r=p.displayTime <= k && k <= p.displayTime + p.duration;return k <= p.displayTime && p.displayTime <= m || r;}function n(k,m,p){return m && (!m.entries.length && k > m.wC || k > m.endTime) && p.entries.length && k < p.endTime;}function c(k,m,p){this.dN=this.MA=0;this.FXb=k.bufferSize || 4194304;this.Ut=new e();this.ZM;this.KM=k.LB;this.va=k.ta;this.Xv=m;this.lk=p;this.fs=new h(k);this.lN=new f(this.lk.length,k.hnb);this.C3=new g(k.qib);}function g(k){this.f3=0 !== k;this.on=!1;this.e3=k || 3E3;this.Ze;}function f(k,m){if(this.enabled=m)this.Ir=Array.apply(null,Array(k)).map(function(){return "-";});}function e(k,m){this.tn=k;this.index=m;}h=a(93778);l=a(32699);e.prototype.reset=function(){this.index=this.tn=void 0;};f.prototype.la=function(k){this.enabled && k < this.Ir.length && (this.Ir[k]="x");};f.prototype.rAb=function(k){this.enabled && k < this.Ir.length && (this.Ir[k]="-");};f.prototype.toString=function(){return this.enabled && "|" + this.Ir.join("") + "|";};g.prototype.start=function(){var k;if(this.f3){k=this;this.on=!0;this.Ze=setTimeout(function(){k.on=!1;k.Ze=void 0;},this.e3);}};g.prototype.stop=function(){this.on=!1;clearTimeout(this.Ze);this.Ze=void 0;};Object.defineProperties(c.prototype,{AJa:{get:function(){return this.Ut;}},$3b:{get:function(){return !this.C3.on;}}});c.prototype.r3=function(){this.lN.enabled && this.va.debug("Buffer: " + this.lN.toString());};c.prototype.GYb=function(k){this.dN+=k;this.va.debug("Reserved buffer size is",this.MA + this.dN,"after reserving",k);};c.prototype.aZb=function(k){this.dN-=k;this.va.debug("Reserved buffer size is",this.MA + this.dN,"after unreserving",k);};c.prototype.mWb=function(k){this.MA+=k;this.va.debug("Buffer size is",this.MA,"after claiming",k);};c.prototype.afb=function(k){this.MA-=k;this.va.debug("Buffer size is",this.MA,"after clearing",k);};c.prototype.UCc=function(k,m){var p;this.afb(k);p=this;m && this.lN.enabled && (m.forEach(function(r){p.lN.rAb(r.index);}),this.r3());};c.prototype.qXa=function(k){var m;m=this.VWb(k);return l.jtb(m) && l.JJc(k,m);};c.prototype.mGc=function(k){var m;m=this.heb(k);(!m || m.index) !== (!this.Ut || this.Ut.index) && (this.ZM=this.Ut.tn,m?(this.KM && this.va.debug("Current sidx is index",m.index),this.Ut=m):(this.KM && this.va.debug("Current sidx is out of range"),this.Ut.reset()));this.ZM && "number" === typeof this.ZM.index && (k < this.ZM.wC - 35E3 || k > this.ZM.mv + 35E3) && (this.YDa(this.ZM.index),this.ZM=void 0,this.r3());};c.prototype.RK=function(k,m){var p,r;p=this.lk && this.lk.length;for(m;m < p;m++)(r=this.lk[m]) && ((r.endTime || r.mv) >= k - 1E4 && (r.endTime || r.mv) < k + 3E5 || this.YDa(m));this.C3.stop();this.r3();};c.prototype.d0b=function(){var k,m;this.va.debug("executing aggressive cleanup");k=this.lk && this.lk.length;for(m=0;m < k;m++)(m === this.Ut.index && (m+=2),this.YDa(m));this.C3.stop();this.r3();};c.prototype.pkc=function(k){var m,p,r,q;m=[];p=this.heb(k);if(!p)return (this.Ut.reset(),m);this.Ut=p;r=k + 1E4;p=p.index;q=this.lk[p];p;for(q;p < this.lk.length && r > q.wC;(p++,q=this.lk[p]))l.jtb(q) && l.KJc(k,r,q) && m.push(q);return m;};c.prototype.Mmb=function(k,m){var p,r,q,u,v,w;if(!k || !k.length)return (m && m(null),!0);this.fs.w3 && 2 <= Object.keys(this.fs.w3).length && !this.C3.on && (this.va.debug("Enabling buffering quiet period"),this.C3.start());p=this;r=k[0];q=k[k.length - 1];if(0 < r.entries.length)(u=r.entries[0].jP,v=r.entries[r.entries.length - 1]);0 < q.entries.length && (l.$c(u) || (u=q.entries[0].jP),v=q.entries[q.entries.length - 1]);if(u)w=v.jP + v.MOa - u;else return (m && m(null),!0);r=l.wMa(u,w);if(this.fs.w3[r])(this.va.debug("The request for",r,"is already pending. Not requesting again"),m && m());else if(this.eXb(l.GNa(k)))(this.va.debug("Reserving",w,"bytes for subtitle request",k[0].wC,k[k.length - 1].mv),this.GYb(w),this.fs.kbc(k,u,w,function(x,y){p.va.debug("Claiming reserved space.  Expected",w,"received",y);p.lN.enabled && (k.forEach(function(A){p.lN.la(A.index);}),p.r3());p.aZb(w);p.mWb(y);m && m(x);}));else return (this.va.debug("Not enough space in buffer to download all of the imaages in the list"),m && m(),!1);return !0;};c.prototype.KNa=function(k,m){var p,r,q;p=this.Xv;r=this.geb(k,m,this.lk);if(!r || 0 === r.length)return [];q=[];m=d.bind(null,k,m);for(var u=0;u < r.length;u++)(k=r[u],q=q.concat(k.entries.filter(m)));q=q.map(function(v){return l.pJa(v,null,p);});return l.mkb(q);};c.prototype.qkc=function(k,m,p){return this.geb(k,m.endTime,m.Ir,p,!0);};c.prototype.geb=function(k,m,p,r,q){var u,v,w,x;if(m && k > m || 0 > k)this.va.error("invalid range startPts: " + k + ", endPts: " + m);else {u=p && p.length || 0;v=[];if(p && 0 !== u){w=p[0].duration;x=p[0].wC;if(l.$c(w) && 0 < w)w=Math.floor((k - x) / w);else for((this.KM && this.va.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),w=0);w < u && (x=p[w],!l.ebc(x,k));w++);for(;w < u && (!r || v.length < r);){x=p[w];if(!q || !x.images.length && x.endTime > k)v.push(x);else if(v.length)break;if(m && m <= x.mv)break;w++;}return v;}}};c.prototype.VWb=function(k){var m,p,q;m=this.lk;if(m && 0 !== m.length){p=m[Math.floor(k / 6E4)];if(p && (p.wC > k || k > p.mv))a:{this.NWb || (this.NWb=!0,p=l.vic(this.Xv.language),this.va.error("bruteforce search for ",{movieId:this.Xv.R,packageId:this.Xv.ur,lang:p}));p=m.length;for(var r=0;r < p;r++){q=m[r];if(q.wC <= k && k <= q.mv){p=q;break a;}}p=void 0;}return p;}};c.prototype.heb=function(k){var m,p,r,q,u,v,w,x;m=this.Ut;p=m.tn;r=m.index;q=this.lk;this.fEa(l.$c(k));if(p)if(p.entries.length){if(0 === r && k <= p.startTime || k >= p.startTime && k <= p.endTime)(u=!0,v=m);else {if(0 < r){w=q[r - 1];n(k,w,p) && (u=!0,v=m);}}}else {w=q[r - 1];x=q[r + 1];n(k,w,p)?(u=!0,v=m):x && x.endTime && k <= x.endTime && (k >= p.endTime || k >= p.mv) && (u=!0,v=new e(x,r + 1));}if(!u)for((m=q.length,p=0);p < m;p++)if((r=q[p],r.entries.length && k <= r.endTime)){v=new e(r,p);break;}return v;};c.prototype.eXb=function(k){return this.MA + this.dN + k <= this.FXb;};c.prototype.YDa=function(k){var m,p,r;m=this.lk[k];p=m && m.images && m.images.length || 0;if(0 < p){r=l.GNa([m]);m.images=[];this.lN.rAb(k);this.afb(r);this.KM && this.va.debug("cleaning up space from sidx",{index:k,start:m.startTime,size:r,images:p,P1c:this.MA});}};c.prototype.fEa=function(k){this.KM && l.assert(k,this.va);};t.exports=c;},3992:function(t,b,a){var n,c,g,f,e,h;function d(l){n.call(this);this.ug=l.url;this.bN=l.request;this.$M=l.re || 0;this.va=l.ta;this.lk=this.Xv=null;l.Az?this.Xv=l.Az:(this.Sc=l.offset,this.HH=l.size);this.Vo;this.XEa=l;}n=a(22699).EventEmitter;c=a(72577);g=a(92435);f=a(78192);e=a(32699);h=d.events={wRb:"midxready",JUb:"sidxready",iUb:"ready",Ho:"error"};d.prototype=Object.create(n.prototype);d.prototype.constructor=d;Object.defineProperties(d.prototype,{Ut:{get:function(){return this.Vo && this.Vo.AJa;}}});d.prototype.start=function(){this.Xv?(this.va.warn("midx was prefectched and provided"),this.Ydb(this.Xv)):this.FWb(this.Sc,this.HH,this.wYb.bind(this));};d.prototype.close=function(){};d.prototype.ama=function(l,k){return this.Vo && this.Vo.KNa(l,k);};d.prototype.pp=function(l,k){return (l=this.ama(l,k))?l.length:l;};d.prototype.RK=function(l,k){this.va.debug("setStreamStartPosition: buffering subtitles at pts " + l);this.$M=l;this.Vo?this.Vo.RK(l,k):k && k();};d.prototype.OI=function(l){var k,m,p;if(!this.Vo || l > e.Ohc(this.Xv))return [];this.Vo && this.Vo.pKa(l);k=this.Ut.tn;m=this.Ut.index;p=[];m=e.$c(m) && this.lk[m + 1];if(!(m && m.entries.length || k && !(l > k.endTime)))return [];k && k.images.length && (p=this.eeb(k,l,[]));2 > p.length && m && m.images.length && (k=this.eeb(m,l,p),p.push.apply(p,k));return this.Vo.qXa(l)?null:e.mkb(p);};d.prototype.Kk=function(l,k){this.Vo && this.Vo.Kk(l,k);};d.prototype.ym=function(l,k){this.Vo && this.Vo.ym(l,k);};d.prototype.FWb=function(l,k,m){this.va.debug("downloading midx...");this.jeb(l,k,"binary",m);};d.prototype.GWb=function(l,k,m){this.va.debug("downloading sidx...");this.jeb(l,k,void 0,m);};d.prototype.jeb=function(l,k,m,p){this.bN({url:this.ug,offset:l,size:k,responseType:m},p);};d.prototype.wYb=function(l,k){if(l)this.emit(h.Ho,e.a7(l,"midxdownloaderror"));else try{this.Xv=new c(k);this.Ydb(this.Xv);}catch(m){this.emit(h.Ho,e.a7(m,"midxparseerror"));}};d.prototype.Ydb=function(l){var k;k=l.entries.reduce(function(m,p){return m + p.size;},0);k?(this.emit(h.wRb,l),this.GWb(l.startOffset,k,this.zYb.bind(this,l))):this.emit(h.Ho,e.a7({},"nosidxfoundinmidx"));};d.prototype.zYb=function(l,k,m){var p,r,q,u;p=this;if(k)p.emit(h.Ho,e.a7(k,"sidxdownloaderror"));else {r=0;q=0;p.lk=[];try{u=0;l.entries.forEach(function(v){var w;w=new g(m,r,l.fPa,p.va,q,q + v.duration,u);p.lk.push(w);v.SHc=w;q=w.mv;r+=v.size;u++;});}catch(v){p.emit(h.Ho,e.a7(v,"sidxparseerror"));return;}p.emit(h.JUb,p.lk);this.Vo=new f(p.XEa,l,p.lk);k=p.$M;p.XEa && p.XEa.isa || (k=Math.max(p.$M - 1E4,0));this.Vo.pKa(k,function(v){v && p.va.error("initial sidx download failed");p.emit(h.iUb);});}};d.prototype.eeb=function(l,k,m){var x;for(var p=l.entries,r=0,q=p.length,u=[],v,w=this.Xv;r < q;){v=p[r];if(v.displayTime <= k)v.displayTime + v.duration >= k && u.push(e.pJa(v,l.images[r].data,w));else {x=u.length && u[u.length - 1] || m.length && m[m.length - 1];if(x && x.displayTime > k && x.displayTime !== v.displayTime)break;x.jP !== v.jP && u.push(e.pJa(v,l.images[r].data,w));}r++;}return u;};t.exports=d;},72577:function(t,b,a){var n,c;function d(g,f){this.duration=g;this.size=f;this.SHc=void 0;}n=a(62082);c=a(32699);t.exports=function(g){var l;g=new n(g);this.identifier=g.cVa(4);c.assert("midx" === this.identifier);this.version=g.ov(4);c.assert(0 === this.version);this.fPa=g.pm(36);this.creationTime=g.fZ();this.ur=g.fZ();this.R=g.fZ();this.AEc=g.Wi();this.BEc=g.Wi();this.language=g.pm(16);g.pm(16);this.startOffset=g.fZ();this.qO=g.Wi();for(var f=[],e=0,h=0;h < this.qO;h++){l=new d(g.ov(4),g.Wi());f.push(l);e+=l.duration;}this.entries=f;this.endTime=e;};},93778:function(t,b,a){var n,c;function d(g){this.ug=g.url;this.bN=g.request;this.$M=g.re || 0;this.KM=g.LB;this.va=g.ta;this.w3={};}n=a(62082);c=a(32699);d.prototype.kbc=function(g,f,e,h){this.w3[c.wMa(f,e)]=!0;g && g.forEach(function(l){l.zaa=!0;});this.bN({url:this.ug,offset:f,size:e},this.dYb.bind(this,g,f,e,h));};d.prototype.dYb=function(g,f,e,h,l,k){var m,p,r,q;m=this;p=c.wMa(f,e);setTimeout(function(){delete m.w3[p];},1E3);if(l)(h && h(l,0),g && g.forEach(function(u){delete u.zaa;}));else {r=new n(k);q=0;g && g.forEach(function(u){delete u.zaa;u.entries.forEach(function(v,w){r.position=v.jP - f;v={data:r.pm(v.MOa)};u.images[w]=v;c.qNc(u.images[w].data,m.fEa.bind(m));q+=u.images[w].data.length;});});h && h(null,q);}};d.prototype.fEa=function(g){this.KM && c.assert(g,this.va);};t.exports=d;},67725:function(t){function b(a,d,n,c){this.va=c;this.id=a;this.startTime=d && d.cb || 0;this.endTime=d && d.ib;this.Zyb=d && d.next || [];this.FFb;this.d$=[];this.mX=!1;a=this.startTime;d=this.endTime;for(var g=[],f=0;f < n.length;f++)(c=n[f]) && (!d || d > c.wC) && a < c.mv && (c.inc(),g.push(c));this.Ir=g;}b.prototype.xjb=function(){this.va.debug("Cleaning up segment",this.id);for(var a,d=0,n,c=[],g=0;g < this.Ir.length;g++)(a=this.Ir[g],(n=a.L$b()) && c.push(a),a && (d+=n));this.Ir=[];return {size:d,Ir:c};};t.exports=b;},78192:function(t,b,a){var g,f;function d(e,h){var k;e=e || 0;if(h)for(var l in h.$){k=h.$[l];if(e >= (k.cb || 0) && (!k.ib || e < k.ib))return l;}}function n(e,h){return e && h && h.$[e];}function c(e,h,l){var k;this.va=e.ta;this.lk=l;this.GH=this.oWb(e.isa);this.UA=[];k=l && l[l.length - 1];this.Om=k && (k.endTime || k.mv);this.St=new g(e,h,l);e=d(e.re || 0,this.GH);this.Qo=this.b3(e);}g=a(76290);f=a(67725);Object.defineProperties(c.prototype,{AJa:{get:function(){return this.St.AJa;}}});c.prototype.KNa=function(e,h){return this.St && this.St.KNa(e,h);};c.prototype.pKa=function(e,h){this.St.mGc(e);this.Bfb(e);if(!this.GH && this.Om && e > this.Om)h && h();else if((e=this.Udb(e,this.Qo,2,h),this.GH && 0 < this.Qo.Zyb.length))h && h();else if(this.GH && this.Qo.mX && e){2 > this.UA.length && this.vWb(this.Qo);h=Math.ceil(2 / (this.UA.length - 1));for(var l=0;l < this.UA.length && e && 3 > l;l++)(e=this.UA[l],e=this.Udb(e.startTime,e,h));}};c.prototype.qXa=function(e){return this.St.qXa(e)?(this.St.d0b(),this.pKa(e),this.Qo.mX=!1,!0):!1;};c.prototype.RK=function(e,h){var l;this.Bfb(e);this.UA.forEach(function(k){k.mX=!1;});l=this.Qo.Ir && this.Qo.Ir[0];this.St.RK(e,l && l.index);(e=this.St.pkc(e)) && e.length?this.St.Mmb(e,h):h && h();};c.prototype.ym=function(e,h){var l;this.va.debug("Set next segment to",h,"for segment",e);e=this.$db(e) || this.b3(e);e.FFb=h;l=this;e.d$=e.d$.filter(function(k){if(k.id === h)return !0;l.hEa(k);return !1;});};c.prototype.Kk=function(e,h){var l;l=n(e,this.GH);Object.keys(l.next).forEach(function(k){l.next[k].weight=h[k] || 0;});};c.prototype.oWb=function(e){var h,k;h={};if(e=(e || ({})).$){h.$={};for(var l in e){k=e[l] || ({});h.$[l]={cb:k.cb,ib:k.ib,Ac:k.Ac,next:this.nWb(k.next)};}}return h;};c.prototype.nWb=function(e){var h,l;h={};for(l in e)h[l]={weight:(e[l] || ({})).weight};return h;};c.prototype.Bfb=function(e){var h,l;if(this.GH && this.Qo.startTime > e || this.Qo.endTime && this.Qo.endTime < e){h=this.Qo;l=d(e,this.GH);l?(this.va.debug("Switching segments from",this.Qo.id,"to",l,"at pts",e),this.Qo=this.$db(l) || this.b3(l),this.hEa(h)):this.va.debug("The pts is outside of the current segment but not in a new one yet");}};c.prototype.b3=function(e){this.va.debug("SegmentManager: creating segment",e);e=new f(e,n(e,this.GH),this.lk,this.va);this.UA.push(e);this.va.debug("SegmentManager: segment contains",e.Ir.length,"sidxes");return e;};c.prototype.hEa=function(e){var h;if(e && e !== this.Qo){this.va.debug("SegmentManager: deleting segment",e.id);e.d$.forEach(this.hEa.bind(this));this.UA=this.UA.filter(function(l){return l !== e;});h=e.xjb();this.St.UCc(h && h.size || 0,h && h.Ir);}};c.prototype.$db=function(e){var l;for(var h=0;e && h < this.UA.length;h++){l=this.UA[h];if(e === l.id)return l;}};c.prototype.vWb=function(e){var h,k;h=e.FFb;if(h && "" !== h)e.d$.push(this.b3(h));else {h=e.Zyb;for(var l in h){k=h[l];if(!k || !k.weight)break;e.d$.push(this.b3(l));}}};c.prototype.Udb=function(e,h,l,k){if(!h || h.mX)return (this.va.debug("Done driving segment",h && h.id),!0);if(!this.St.$3b)return (this.va.debug("Throttling buffering in quiet period"),!1);this.va.debug("Drive streaming of segment",h.id,"from pts",e);l=(e=this.St.qkc(e,h,l)) && e.length || 0;if(0 === l)return (this.va.debug("Segment is fully downloaded",h && h.id),h.mX=!0,k && k(),!0);this.va.debug("Downloading",l,"sidxes in segment",h.id);return this.St.Mmb(e,function(m,p){m && (h.mX=!1);k && k(m,p);});};t.exports=c;},92435:function(t,b,a){var c,g;function d(f,e,h,l,k,m,p,r){this.displayTime=f;this.duration=e;this.ixc=h;this.jxc=l;this.ZHc=k;this.$Hc=m;this.jP=p;this.MOa=r;}function n(f,e,h,l,k,m,p){var r;f=new c(f);r=0;f.position=e;this.va=l;this.identifier=f.cVa(4);g.assert("sidx" === this.identifier,l);this.fPa=f.pm(36);g.$5b(this.fPa,h,l);this.duration=f.ov(4);this.qO=f.Wi();this.wC=k;this.mv=m;this.index=p || 0;this.entries=[];this.images=[];for(this.rFa=0;r < this.qO;)(e=new d(f.ov(4),f.ov(4),f.Wi(),f.Wi(),f.Wi(),f.Wi(),f.fZ(),f.ov(4)),r++,this.entries.push(e));this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}c=a(62082);g=a(32699);n.prototype.inc=function(){this.rFa++;};n.prototype.L$b=function(){var f;f=0;this.rFa--;1 > this.rFa?this.images && 0 < this.images.length && (f+=g.GNa([this]),this.images=[]):this.va.debug("Not cleaning up shared sidx with range",this.wC,"-",this.mv);return f;};t.exports=n;},32699:function(t){function b(g,f){return g.some(function(e){return e.id === f;});}function a(g,f){return g.filter(d.bind(null,f)).map(n).reduce(c,0);}function d(g,f){return g.id === f.id && g.displayTime + g.duration === f.displayTime;}function n(g){return g.duration;}function c(g,f){return g + f;}t.exports={$5b:function(g,f,e){for(var h=0;h < g.length;h++)if(g[h] !== f[h])return (e.error("indexId mismatch in sidx",{sIndexId:g,mIndexId:f}),!1);return !0;},pJa:function(g,f,e){var h;h={};h.displayTime=g.displayTime;h.duration=g.duration;h.originX=g.ixc;h.originY=g.jxc;h.sizeX=g.ZHc;h.sizeY=g.$Hc;h.imageData=f;h.id=g.jP;h.rootContainerExtentX=e.AEc;h.rootContainerExtentY=e.BEc;return h;},wMa:function(g,f){return "o_" + g + "s_" + f;},qNc:function(g,f){f("P" === String.fromCharCode(g[1]));f("N" === String.fromCharCode(g[2]));f("G" === String.fromCharCode(g[3]));},$c:function(g){return "undefined" !== typeof g;},n3c:b,gYc:a,a7:function(g,f){var e,h;e=Object.create({});for(h in g)e[h]=g[h];g instanceof Error && (e.message=g.message,e.stack=g.stack);e.errorString=f;return e;},assert:function(g,f){if(!g)throw (f && f.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},jtb:function(g){return g && 0 < g.entries.length && 0 === g.images.length;},JJc:function(g,f){for(var e=f.entries.length,h,l=0;l < e;l++)if((h=f.entries[l],h.displayTime <= g && h.displayTime + h.duration >= g))return !0;return !1;},KJc:function(g,f,e){for(var h=e.entries.length,l,k,m=0;m < h;m++){l=e.entries[m];k=l.displayTime;l=k + l.duration;if(f < k)break;if(k <= g && l >= g || k > g && k <= f)return !0;}return !1;},mkb:function(g){return g.map(function(f,e){f.duration+=a(g.slice(e + 1),f);return f;}).reduce(function(f,e){b(f,e.id) || f.push(e);return f;},[]);},GNa:function(g){return g.reduce(function(f,e){return f + e.entries.reduce(function(h,l){return l.MOa + h;},0);},0);},ebc:function(g,f){return g && g.wC <= f && g.mv >= f;},Ohc:function(g){if(g)return g.endTime;},vic:function(g){try{return String.fromCharCode.apply(String,g);}catch(f){}return "";}};},31496:function(t,b,a){var d;d=a(22699).EventEmitter;b=function k(c,g,f,e,h,l){if(!(this instanceof k))return new k(c,g,f,e,h,l);d.call(this);this.NA=c;this.h3=g;this.Iga=f;this.rXb=e;this.Sk={};this.Ml={};this.va=h || console;this.Jl=!1;this.zEa=l.xa;this.BYb=l && l.daa || 0;this.UYb=l && l.NIc || 0;};b.prototype=Object.create(d.prototype);b.prototype.stop=function(){clearTimeout(this.Ze);this.Ze=void 0;this.wra();};b.prototype.wra=function(){var c;c=this;Object.keys(c.Sk).forEach(function(g){c.emit("removesubtitle",c.Sk[g]);});c.Sk={};c.Ml={};};b.prototype.pause=function(){this.Jl || (clearTimeout(this.Ze),this.Ze=void 0);};b.prototype.KG=function(c){var g,f,e;g=this;f=g.NA();e=g.h3(f);null !== e && g.Jl && (g.Jl=!1,this.va.debug("bufferingComplete"),g.emit("bufferingComplete"),this.rXb())?this.va.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(c="number" === typeof c?c:0,Object.keys(g.Sk).forEach(function(h){h=g.Sk[h];h.displayTime - g.BYb <= f && f < h.displayTime + h.duration || (delete g.Sk[h.id],g.emit("removesubtitle",h));}),Object.keys(g.Ml).forEach(function(h){h=g.Ml[h];f >= h.displayTime + h.duration && delete g.Ml[h.id];}),null !== e && 0 < e.length?(c=e.length,g.va.debug("found " + c + " entries for pts " + f),e.forEach(function(h){h.displayTime - g.UYb <= f && f < h.displayTime + h.duration && !g.Sk[h.id] && (g.emit("showsubtitle",h),g.Sk[h.id]=h,delete g.Ml[h.id]);}),c=e[e.length - 1],g.Sk[c.id] || g.Ml[c.id] || (g.emit("stagesubtitle",c),g.Ml[c.id]=c),e=g.XYb(f,e),"number" === typeof e && Infinity > e?g.K3(e):g.K3(2E4)):null === e?(e=250 * Math.pow(2,c),2E3 < e && (e=2E3),g.va.warn("checking buffer again in " + e + "ms"),g.Jl || (g.Jl=!0,g.emit("underflow")),g.K3(e,c + 1)):g.zEa?(e=500,g.va.trace("Live : No entries for " + f + "checking buffer again in " + e + "ms"),g.K3(e)):g.K3(2E4));};b.prototype.K3=function(c,g){var f;f=this;f.va.debug("Scheduling pts check.",{timeout:c,NC:f.Ze});clearTimeout(f.Ze);f.Ze=setTimeout(function(){f.KG(g);},c);};b.prototype.XYb=function(c,g){g=g.reduce(this.SXb.bind(this,c),Infinity);return Infinity > g?this.Iga(g,c):g;};b.prototype.SXb=function(c,g,f){var e;e=f.displayTime;f=f.displayTime + f.duration;this.va.debug("next events: start",e,"end",f,"now",c);return e < g && c < e?e:f < g && c < f?f:g;};t.exports=b;},4645:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},86398:function(t,b,a){var c,g,f,e;function d(h,l,k){var m;if(!k)return !1;k=k[l];h=h[l];l=!(null === (m=h.jc) || void 0 === m || !m.length);"embedded" === h.type && (l || (l=h.duration.greaterThan(c.I.fa)));return "boolean" === typeof k?!0 === k:!l;}function n(h,l,k){var m;m="dynamic" === h.type && void 0 !== h.nt;return "embedded" === h.type || m || k || !h.jc && "embedded" !== h.type?{yHb:0,vnb:0,cob:!m && !k && "embedded" !== h.type}:{yHb:l,vnb:l,cob:!0};}Object.defineProperties(b,{__esModule:{value:!0}});b.mq=void 0;b.q8b=function(h,l,k,m,p,r){function q(y){var A,z,B,C,D,F,H,E;A=l[y];z=d(l,y,m);B=!!A.jc || "embedded" === A.type;C=n(A,p,z);D=C.yHb;F=C.vnb;C=C.cob;H=0 === A.Uu;A.Ua.G > v && u.Lf(("").concat(h,"-").concat(y),{J:h,cb:v,ib:A.Ua.G,type:f.Fd.content,Wq:w,jp:C});B || u.I_b(C);!D || H && !r || u.Lf(("padstart-").concat(y),{J:b.mq,cb:0,ib:D,type:f.Fd.padding});v=A.Ua.G;if(!z)if("embedded" === A.type && A.duration.greaterThan(c.I.fa))(z=A.Ua.add(A.duration).G,u.Lf(("ad-").concat(y,"-").concat(0),{J:h,cb:A.Ua.G,ib:z,type:f.Fd.Qa}));else if(A.jc){E=null === m || void 0 === m?void 0:m[y];A.jc.forEach(function(G,K){var N;N=!1;Array.isArray(E) && (N=-1 < E.indexOf(K));N || (N=G.id === h,void 0 === N && (N=!1),K=A.fb?("q-[").concat(A.fb,"]-").concat(K).concat(N?"-F":""):("ad-").concat(y,"-").concat(K),u.Lf(K,{J:G.id,cb:G.cb,ib:G.ib,type:f.Fd.Nc}));});F && u.Lf(("padend-").concat(y),{J:b.mq,cb:0,ib:F,type:f.Fd.padding});}v=A.Ua.add("embedded" === A.type?A.duration:A.nt || c.I.fa).G;w=C;}void 0 === p && (p=0);void 0 === r && (r=!1);for(var u=new e(),v=0,w=!1,x=0;x < l.length;++x)q(x);u.Lf(("").concat(h,"-").concat(l.length),{J:h,cb:v,ib:null,type:f.Fd.content,Wq:w});k.forEach(function(y){var A,z,B;A=y[0];z=("").concat(h,"-").concat(l.length);if(A && A.jc && A.fb){B=("[").concat(A.fb,"]");A.jc.forEach(function(C,D){u.Lf(("q-").concat(B,"-").concat(D),{J:C.id,cb:C.cb,ib:C.ib,type:f.Fd.Nc},z);z=("q-[").concat(A.fb,"]-").concat(D);});}});return u.build();};c=a(91176);g=a(48456);f=a(58304);b.mq=-1;e=(function(){function h(){this.eb=new g.Nv();}h.prototype.Lf=function(l,k,m){this.CO || (this.CO=l);(m=m && this.eb.gmc(m)?m:this.U$) && this.eb.RGc(l,m);this.eb.Lf(l,k);this.U$=l;};h.prototype.I_b=function(l){var k;if(this.U$){k=this.eb.Ks(this.U$);k && k.type === f.Fd.content && (k.jp=l,this.eb.Lf(this.U$,k));}};h.prototype.build=function(){this.U$=void 0;this.CO && this.eb.qG(this.CO);return this.eb.build();};return h;})();},40071:function(t,b,a){var e;function d(h){return Object.keys(h.segments).some(function(l){return void 0 !== f(h.segments[l]);});}function n(h){return "delayedSeamless" === h?"lazy":h;}function c(h){return Object.keys(h).reduce(function(l,k){var m,p;m=h[k];p=m.weight;m=m.transitionType || m.transitionHint;k=l[k]={};void 0 !== p && (k.weight=p);m && (k.Ld=n(m));return l;},{});}function g(h){var l,k;l=Object.keys(h);k=l.length;return k?l.reduce(function(m,p){return m + (h[p].weight || 0);},0) / k:void 0;}function f(h){var l;if(h.ui){l=h.ui.interactionZones;if((null === l || void 0 === l?0:l.length) && l[0].length)return l[0][0] - h.startTimeMs;h=h.ui.interactionZonesV2;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0];}else if(void 0 !== h.earliestSkipRequestOffset)return h.earliestSkipRequestOffset;}Object.defineProperties(b,{__esModule:{value:!0}});b.fIa=function(h,l){var k,m,p,r,q,u;k=void 0 === l?{}:l;l=k.jh;m=k.ff;p=k.$;k=k.config;r=!(!k || -1 === k.E6.indexOf(h.viewableId));q=d(h)?0:(null === k || void 0 === k?void 0:k.D6) || 0;k=new e.Nv();u=p || h.segments;k.qG(null !== m && void 0 !== m?m:h.initialSegment).TWa(l || h.mediaTypes).xsa(r?"immediate":n(h.transitionType)).aXa(Object.keys(u).reduce(function(v,w){var x,y,A,z,B,C;x=u[w];if(null === (y=x.weight) || void 0 === y){y=x.next && (r || (null === (z=x.exitZones) || void 0 === z?0:z.length))?g(x.next):void 0;}z=y;if(y=x.exitZones)B=void 0;else a:{if(r && x.endTimeMs){B=x.endTimeMs - x.startTimeMs;C=f(x);if(C && C < B){B=[[C,B]];break a;}if(q && B > q){B=[[B - q,B]];break a;}}B=void 0;}C=r?B?void 0:x.transitionHint || "lazy":x.transitionHint;z={J:h.viewableId,cb:x.startTimeMs,ib:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,Ld:n(C),cl:y || B,weight:z};x.defaultNext && (z.Ac=x.defaultNext);x.next && (z.next=c(x.next));v[w]=z;return v;},{}));return k.build();};e=a(48456);},31021:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.oXc=function(n){var c,g,f,e,h,l;c=n.t2c;g=n.Yg;n=n.uba;f=new d.Nv();e=n.split(" ");h=/\d+/;l=new Map();g.forEach(function(k){l.set(k,0);});e.forEach(function(k,m){var p,r,q,u,v,w,x,y;w=Number(k.split(".")[0].match(h)[0]);x=Number(k.split(".")[1].match(h)[0]);w=g[w];k=l.get(w);y=("").concat(w,"-").concat(k);l.set(w,k + 1);x={J:w,cb:null !== (q=null === (r=c.get(w)) || void 0 === r?void 0:r[x]) && void 0 !== q?q:0,ib:null !== (v=null === (u=c.get(w)) || void 0 === u?void 0:u[x + 1]) && void 0 !== v?v:void 0};e.length > m + 1 && (r=Number(e[m + 1].split(".")[0].match(h)[0]),r=g[r],q=l.get(r),r=("").concat(r,"-").concat(q),x.Ac=r,x.next=(p={},p[r]={},p),l.set(w,k + 1));0 === m && f.qG(y);f.Lf(y,x);});return f.build();};d=a(48456);},79048:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(58304),b);t.__exportStar(a(48456),b);t.__exportStar(a(42405),b);t.__exportStar(a(40071),b);t.__exportStar(a(14999),b);t.__exportStar(a(43813),b);t.__exportStar(a(5293),b);t.__exportStar(a(86398),b);t.__exportStar(a(31021),b);t.__exportStar(a(7314),b);t.__exportStar(a(4152),b);t.__exportStar(a(22332),b);},4152:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JQb=b.Bfa=void 0;b.HPa=function(a){return "immediate" === a;};t=(function(){function a(d,n,c){this.region=d;this.sa=n;this.za=c;}a.prototype.toJSON=function(){return {region:this.region,Db:this.sa.lC,xg:this.za.lC};};return a;})();b.Bfa=t;b.JQb={MI:"forwards",eHa:"backwards",KC:"successors",FQ:"predecessors",ww:"distance"};},22332:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(4645),b);},5293:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.OYc=function(n,c){var g;return Object.keys(n.$).some(function(f){var e;return null === (e=(g=n.$[f]).next) || void 0 === e?void 0:e[c];})?g:void 0;};b.PYc=function(n,c){return (0,d.oc)(Object.keys(n.$),function(g){var f;return null === (f=n.$[g].next) || void 0 === f?void 0:f[c];});};b.MYc=function(n,c){return Object.keys(n.$).filter(function(g){var f;return null === (f=n.$[g].next) || void 0 === f?void 0:f[c];});};d=a(91176);},58304:function(t,b,a){var n,c;function d(g){return g.map(function(f){return [f[0],f[1]];});}Object.defineProperties(b,{__esModule:{value:!0}});b.Fd=b.kfa=void 0;b.XIa=function(g){var f,e,h,l,k,m,p,u,v,w,x,B;e=g.J;h=g.cb;l=g.Ac;if(g.next){k=g.next;p={};try{for(var r=n.__values(Object.keys(k)),q=r.next();!q.done;q=r.next()){u=q.value;v=u;w=k[u];x={};void 0 !== w.weight && (x.weight=w.weight);void 0 !== w.Ld && (x.Ld=w.Ld);p[v]=x;}}catch(D){var y;y={error:D};}finally{try{q && !q.done && (m=r.return) && m.call(r);}finally{if(y)throw y.error;}}k=p;}else k=g.next;e={J:e,cb:h,Ac:l,next:k};try{for(var A=n.__values(c),z=A.next();!z.done;z=A.next()){B=z.value;void 0 !== g[B] && (e[B]=g[B]);}}catch(D){var C;C={error:D};}finally{try{z && !z.done && (f=A.return) && f.call(A);}finally{if(C)throw C.error;}}g.cl && (e.cl=d(g.cl));return e;};n=a(22970);b.kfa={video:"video",audio:"audio",text:"text"};b.Fd={Nc:"ad",Qa:"adBreak",content:"content",padding:"padding"};c=Object.keys({ib:void 0,playbackRate:void 0,weight:void 0,Ld:void 0,RZa:void 0,type:void 0,Wq:void 0,jp:void 0});},48456:function(t,b,a){var n,c,g;function d(f,e){return Object.keys(f).reduce(function(h,l){return (h[e[l] || l]=f[l],h);},{});}Object.defineProperties(b,{__esModule:{value:!0}});b.Nv=void 0;n=a(22970);c=a(91176);g=a(58304);t=(function(){function f(e){e && (this.qG(e.ff),this.xsa(e.Ld),this.aXa(e.$));}f.prototype.qG=function(e){this.ff=e;return this;};f.prototype.xsa=function(e){this.Ld=e;return this;};f.prototype.TWa=function(e){this.jh=e;return this;};f.prototype.Ks=function(e){var h;return null === (h=this.$) || void 0 === h?void 0:h[e];};f.prototype.Lf=function(e,h,l){this.$ || (this.$={});this.$[e]=(0,g.XIa)(h);if(l){e=this.$[e];if(h=e.next)e.next=d(h,l);e.Ac && l[e.Ac] && (e.Ac=l[e.Ac]);}return this;};f.prototype.iuc=function(e,h){var l,k;k=null === (l=this.$) || void 0 === l?void 0:l[e];(0,c.assert)(k,("Segment for modification ").concat(e," is not part of segments"));h(k);};f.prototype.aXa=function(e,h,l){void 0 === h && (h=function(){return !0;});this.$={};return this.A_b(e,h,l);};f.prototype.A_b=function(e,h,l){var k;k=this;void 0 === h && (h=function(){return !0;});Object.keys(e).filter(function(m){return h(e[m],m);}).forEach(function(m){k.Lf(m,e[m],l);});return this;};f.prototype.gmc=function(e){var h;return !(null === (h=this.$) || void 0 === h || !h[e]);};f.prototype.RGc=function(e,h){this.iuc(h,function(l){var k,m;l.Ac=e;l.next=l.next?n.__assign(n.__assign({},l.next),(k={},k[e]={},k)):(m={},m[e]={},m);});};f.prototype.build=function(){var e;if(!this.$)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ff)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.$[this.ff])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");e={ff:this.ff,$:this.$};this.Ld && (e.Ld=this.Ld);this.jh && (e.jh=this.jh);return e;};return f;})();b.Nv=t;},42405:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xBa=void 0;b.xBa=(function(){function a(){}a.decode=function(d){return Object.assign({initialSegment:d.ff,segments:a.F$b(d.$)},void 0 !== d.Ld?{transitionType:d.Ld}:{});};a.encode=function(d){return Object.assign({ff:d.initialSegment,$:a.Ucc(d.segments)},void 0 !== d.transitionType?{Ld:d.transitionType}:{});};a.Ucc=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.Tcc(d[c]);return n;},{});};a.Tcc=function(d){return Object.assign({J:d.viewableId,cb:d.startTimeMs},d.endTimeMs?{ib:d.endTimeMs}:{},d.defaultNext?{Ac:d.defaultNext}:{},d.weight?{weight:d.weight}:{},d.transitionType?{Ld:d.transitionType}:{},d.next?{next:a.Rcc(d.next)}:{},d.exitZones?{cl:d.exitZones}:{},d.playbackRate?{playbackRate:d.playbackRate}:{},d.uxSegment?{RZa:d.uxSegment}:{},d.type?{type:d.type}:{},void 0 !== d.fadeIn?{Wq:d.fadeIn}:{},void 0 !== d.fadeOut?{jp:d.fadeOut}:{},void 0 !== d.main?{jo:d.main}:{});};a.Rcc=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.Scc(d[c]);return n;},{});};a.Scc=function(d){return Object.assign({},void 0 !== d.weight?{weight:d.weight}:{},d.transitionType?{Ld:d.transitionType}:{});};a.F$b=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.E$b(d[c]);return n;},{});};a.E$b=function(d){return Object.assign({viewableId:d.J,startTimeMs:d.cb},d.ib?{endTimeMs:d.ib}:{},d.Ac?{defaultNext:d.Ac}:{},d.weight?{weight:d.weight}:{},d.Ld?{transitionType:d.Ld}:{},d.next?{next:a.C$b(d.next)}:{},d.cl?{exitZones:d.cl}:{},d.playbackRate?{playbackRate:d.playbackRate}:{},d.RZa?{uxSegment:d.RZa}:{},d.type?{type:d.type}:{},void 0 !== d.Wq?{fadeIn:d.Wq}:{},void 0 !== d.jp?{fadeOut:d.jp}:{},void 0 !== d.jo?{main:d.jo}:{});};a.C$b=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.D$b(d[c]);return n;},{});};a.D$b=function(d){return Object.assign({},void 0 !== d.weight?{weight:d.weight}:{},d.Ld?{transitionType:d.Ld}:{});};return a;})();},14999:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.CXa=function(n,c,g){var f;f=new d.Nv();f.qG(c).xsa("lazy").TWa(g).Lf(c,{J:n,cb:0,ib:Infinity});return f.build();};d=a(48456);},43813:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.G3c=function(n,c,g){var f;f=new d.Nv();f.qG("s0").xsa("immediate").TWa(g).Lf("s0",{J:n,cb:0,ib:1E3 * c,weight:.5,next:{s1:{weight:.5}}}).Lf("s1",{J:n,cb:1E3 * c,ib:Infinity});return f.build();};d=a(48456);},43341:function(t,b,a){var c,g;function d(f,e){var h,l,p;l=g.I.fa;try{for(var k=c.__values(f),m=k.next();!m.done;m=k.next()){p=m.value;if(p.J === e)return {K:p,ww:l};l=l.add(p.Rb);}}catch(q){var r;r={error:q};}finally{try{m && !m.done && (h=k.return) && h.call(k);}finally{if(r)throw r.error;}}return {K:void 0,ww:g.I.fa};}function n(f,e){var h,l,k;return c.__generator(this,function(m){switch(m.label){case 0:(h=f,l=function(){var p;return c.__generator(this,function(r){switch(r.label){case 0:return [4,h];case 1:return (r.S(),h=(p=null !== (k=h.Ac) && void 0 !== k?k:void 0)?(0,g.oc)(e,function(q){return q.id === p;}):void 0,[2]);}});},m.label=1);case 1:return h?[5,l()]:[3,3];case 2:return (m.S(),[3,1]);case 3:return [2];}});}Object.defineProperties(b,{__esModule:{value:!0}});b.CBa=void 0;c=a(22970);g=a(91176);t=(function(){function f(e,h,l){void 0 === l && (l={});this.upper=e;this.lower=h;this.FZa=l;}f.prototype.HG=function(e){return this.FZa[e];};f.prototype.YN=function(e){var h;h=this;return Object.keys(this.FZa).filter(function(l){return h.FZa[l] === e;});};f.prototype.yFc=function(e){return (e=this.HG(e.id))?this.upper.get(e):void 0;};f.prototype.qFc=function(e){var h;h=this;return this.YN(e.id).map(function(l){return h.lower.get(l);});};f.prototype.Fzc=function(e){var h,l,k,m,p,r;h=this;l=this.lower.get(e.L);(0,g.assert)(l && l.A6b(e.offset));k=this.yFc(l);if(k){if(k.J === l.J)return (e=k.MUa(l.Gzb(e.offset)),{L:k.id,offset:e});if(e.offset.equal(g.I.fa) && 0 === c.__spreadArray([],c.__read(this.lower.vF.FQ(e.L)),!1).filter(function(q){return h.HG(q.id) === k.id;}).length)return {L:k.id,offset:g.I.fa};if(0 === c.__spreadArray([],c.__read(this.lower.vF.KC(e.L)),!1).filter(function(q){return h.HG(q.id) === k.id;}).length)return {L:k.id,offset:k.Rb};(0,g.assert)(l.Ub.isFinite());l=d(this.lower.vF.MI(e.L),k.J);m=l.K;l=l.ww;p=d(this.lower.vF.eHa(e.L),k.J);r=p.K;p=p.ww;m=m?m.lb:k.Ub;(0,g.assert)(m);r=r?r.Ub:k.lb;(0,g.assert)(r);l=p.add(l);e=e.offset.add(p).bf(l);e=r.add(m.ca(r).Jg(e));e=k.MUa(e);return {L:k.id,offset:e};}};f.prototype.Ezc=function(e){var h,l,k,m,p,r,q,u,v,w,x,y,A,z,D,E,G,K,N,I;r=this.upper.get(e.L);(0,g.assert)(r);q=r.J;u=r.tjb(e.offset);v=r.Gzb(u);(0,g.assert)(v);w=this.qFc(r);x=w.filter(function(J){return J.J === q;}).filter(function(J){return J.rJc(v);});if(x.length){y=x[0];return {L:y.id,offset:y.MUa(v)};}if(u.equal(g.I.fa) && !this.upper.emc(e.L))return {L:w[0].id,offset:g.I.fa};if(u.equal(r.Rb) && !this.upper.jmc(e.L)){A=w[w.length - 1];return {L:A.id,offset:A.Rb};}z=new Set(w.map(function(J){return J.Ac;}).filter(function(J){return !!J;}));e=w.filter(function(J){return !z.has(J.id);});w=w.filter(function(J){return z.has(J.id);});try{for(var B=c.__values(e),C=B.next();!C.done;C=B.next()){D=c.__spreadArray([],c.__read(n(C.value,w)),!1);e=[];y=u=void 0;try{for(var F=(l=void 0,c.__values(D)),H=F.next();!H.done;H=F.next())(y=H.value,u && e.push({yv:u,K:y,r8:!1}),u=void 0,y.J === q?(e.push({yv:y.lb,K:y,r8:!1}),u=y.Ub):0 === e.length && e.push({yv:r.lb,K:y,r8:!1}));}catch(J){l={error:J};}finally{try{H && !H.done && (k=F.return) && k.call(F);}finally{if(l)throw l.error;}}y && (u?e.push({yv:u,K:y,r8:!0}):e.push({yv:r.Ub,K:y,r8:!0}));E=(0,g.LGa)(e,function(J){return J.yv.gn(v);});G=(0,g.oc)(e,function(J){return J.yv.pf(v);});if(E && G && E.yv.gn(v) && G.yv.pf(v)){if(E.K.id === G.K.id)return {L:E.K.id,offset:g.I.fa};if(E.yv.G === G.yv.G)return {L:G.K.id,offset:g.I.fa};K=v.ca(E.yv).bf(G.yv.ca(E.yv));N=D.slice(D.indexOf(E.K),D.indexOf(G.K) + (G.r8?1:0));I=N.reduce(function(J,Q){return J.add(Q.Rb);},g.I.fa).Jg(K);try{for(var L=(m=void 0,c.__values(N)),O=L.next();!O.done && (y=O.value,!I.lessThan(y.Rb));O=L.next())I=I.ca(y.Rb);}catch(J){m={error:J};}finally{try{O && !O.done && (p=L.return) && p.call(L);}finally{if(m)throw m.error;}}if(y && I.lessThan(null === y || void 0 === y?void 0:y.Rb))return {L:y.id,offset:I};}}}catch(J){A={error:J};}finally{try{C && !C.done && (h=B.return) && h.call(B);}finally{if(A)throw A.error;}}(0,g.assert)(!1,"Upper playgraph position should always map to something in lower playgraph");};return f;})();b.CBa=t;},26162:function(t,b,a){var n,c,g,f,e,h,l;function d(k){k=n.__spreadArray([],n.__read(k.vF.MI(k.initial.id)),!1);(0,c.assert)(k.every(function(m){return 1 >= m.KC;}),"Must be linear playgraph");return k;}Object.defineProperties(b,{__esModule:{value:!0}});b.Atc=function(k,m){var p,r,q,u,v,w,x,y,A,z,B,C,D,F,G,K,N,I,J,Q,P,S;w={};x={};y={};A=d(m);z=k.NG;B=m.NG;z=(0,c.phb)(z,B);(0,c.assert)(1 === z.length,"Playgraphs to be merged should have exactly one shared viewable");C=z[0];if(A.length){D=A[A.length - 1];D.J === C && Infinity !== D.ib && (A[A.length - 1]=D.extend(c.I.zg));}F={};try{for(var H=n.__values(k.filter(function(Z){return Z.J === C;})),E=H.next();!E.done;E=H.next()){G=E.value;K=G.lb;N=G.Ub;I=K.equal(c.I.fa)?1:0;z=[];try{for(var L=(r=void 0,n.__values(A)),O=L.next();!O.done;O=L.next()){J=O.value;Q=B=void 0;J.J === C?0 === I?J.n5(K) && (Q=(0,l.hIb)(J,K,N),J.n5(N)?(B=("").concat(G.id),I=2):(B=("").concat(G.id,":").concat(J.id),I=1)):(B=("").concat(G.id,":").concat(J.id),J.n5(N)?(J.lb.lessThan(N) && (Q=(0,l.hIb)(J,K,N)),I=2):Q=J):1 === I && (B=("").concat(G.id,":").concat(J.id),Q=J);if(B && Q && (w[B]=G.id,x[B]=J.id,z.length || (y[G.id]=B),z.push({id:B,Lba:Q}),1 < z.length)){P=n.__read(z.slice(-2),2);S=P[0];D=P[1];S.Lba=n.__assign(n.__assign({},(0,g.XIa)(S.Lba)),{Ac:D.id,next:(u={},u[D.id]={},u)});}if(2 === I){z.length && (D=z[z.length - 1],D.Lba=n.__assign(n.__assign({},(0,g.XIa)(D.Lba)),{Ac:G.Ac,next:G.next}));break;}}}catch(Z){r={error:Z};}finally{try{O && !O.done && (q=L.return) && q.call(L);}finally{if(r)throw r.error;}}z.forEach(function(Z){return F[Z.id]=Z.Lba;});}}catch(Z){var Y;Y={error:Z};}finally{try{E && !E.done && (p=H.return) && p.call(H);}finally{if(Y)throw Y.error;}}try{for(var X=n.__values(k.filter(function(Z){return Z.J !== C;})),T=X.next();!T.done;T=X.next())(G=T.value,F[G.id]=G,w[G.id]=G.id);}catch(Z){var U;U={error:Z};}finally{try{T && !T.done && (v=X.return) && v.call(X);}finally{if(U)throw U.error;}}Y=h.OD.create(new f.Nv().aXa(F,function(){return !0;},y).qG(y[k.initial.id] || k.initial.id).build());k=new e.CBa(k,Y,w);m=new e.CBa(m,Y,x);return {J9:Y,xqc:k,zEc:m};};n=a(22970);c=a(91176);g=a(58304);f=a(48456);e=a(43341);h=a(7314);l=a(48781);},7314:function(t,b,a){var n,c,g,f,e,h,l;function d(k,m){var p,r,q;if(k=k.get(m)){if(k.Ac && 0 !== (null === (r=null === (p=k.next) || void 0 === p?void 0:p[k.Ac]) || void 0 === r?void 0:r.aG))return k.Ac;if(k.next){q=k.next;p=Object.keys(q);return (r=p.reduce(function(u,v){var w;w=n.__read(u,2);u=w[0];w=w[1];return q[v].aG > w?[v,q[v].aG]:[u,w];},[void 0,0])[0])?r:p[0];}}}Object.defineProperties(b,{__esModule:{value:!0}});b.OD=void 0;n=a(22970);c=a(91176);g=a(66164);f=a(48781);e=a(26162);t=(function(){function k(m){this.Z=m;}k.create=function(m){return new l(m);};k.update=function(m,p){return new l(p).i4(m);};k.hn=function(m,p){var r,q;r=(0,e.Atc)(m,p);p=r.J9;q=r.xqc;r=r.zEc;m.AGc(p,q);p.KGc(m,q);return {J9:p,mapping:r};};return k;})();b.OD=t;h=0;l=(function(k){function m(p){var r,q;r=k.call(this,p) || this;r.jua=new WeakMap();r.g$=new Map();r.nb=new g.platform.Console("WORKINGPLAYGRAPH");(0,c.assert)(p.ff,"Playgraph must have an initial segment");q=r.get(p.ff);(0,c.assert)(q,("Could not find initial segment ").concat(p.ff," in playgraph"));r.initial=q;r.vF={KC:r.evb.bind(r),FQ:r.hQa.bind(r),MI:r.dvb.bind(r),eHa:r.cvb.bind(r),ww:r.Epc.bind(r)};r.i5c={KC:r.nS.bind(r),FQ:r.TNc.bind(r),MI:r.SNc.bind(r),eHa:r.QNc.bind(r),ww:r.RNc.bind(r)};r.j3=h++;r.ksb=new c.Q2a(function(u){return Object.keys(u.next || ({})).map(function(v){return {wNc:r.get(v),weight:u.Rb.G};});});return r;}n.__extends(m,k);Object.defineProperties(m.prototype,{NG:{get:function(){return this.jZb || (this.jZb=this.llc());},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xlc:{get:function(){return !!this.gX;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gsb:{get:function(){return !!this.t$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vma:{get:function(){var p;return null === (p=this.gX) || void 0 === p?void 0:p.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aqa:{get:function(){var p;return null === (p=this.t$) || void 0 === p?void 0:p.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{eK:{get:function(){var p;return (null === (p=this.aqa) || void 0 === p?void 0:p.eK) || this;},enumerable:!1,configurable:!0}});m.prototype.i4=function(p){var r,q,w,x;q=this.Z.$;try{for(var u=n.__values(Object.keys(q)),v=u.next();!v.done;v=u.next()){w=v.value;if(p.Osb(w)){x=q[w];this.Wwb(w,x,p.get(w));p.g$.has(x.J) && this.normalize(x.J,p.g$.get(x.J));}}}catch(A){var y;y={error:A};}finally{try{v && !v.done && (r=u.return) && r.call(u);}finally{if(y)throw y.error;}}return this;};m.prototype.has=function(p){return !!this.Z.$[p];};m.prototype.get=function(p){var r;r=this.Z.$[p];if(r)return this.jua.get(r) || this.Wwb(p,r);};m.prototype.entries=function(){var p,r,q,u,v,w;return n.__generator(this,function(x){switch(x.label){case 0:(x.qc.push([0,5,6,7]),p=n.__values(Object.keys(this.Z.$)),r=p.next(),x.label=1);case 1:if(r.done)return [3,4];q=r.value;return [4,[q,this.get(q)]];case 2:(x.S(),x.label=3);case 3:return (r=p.next(),[3,1]);case 4:return [3,7];case 5:return (u=x.S(),v={error:u},[3,7]);case 6:try{r && !r.done && (w=p.return) && w.call(p);}finally{if(v)throw v.error;}return [7];case 7:return [2];}});};m.prototype.forEach=function(p){var r;r=this;Object.keys(this.Z.$).forEach(function(q){var u;u=r.get(q);p(u,q,r);});};m.prototype.keys=function(){return Object.keys(this.Z.$).values();};m.prototype.values=function(){var p,r,q,u,v,w;return n.__generator(this,function(x){switch(x.label){case 0:(x.qc.push([0,5,6,7]),p=n.__values(Object.keys(this.Z.$)),r=p.next(),x.label=1);case 1:if(r.done)return [3,4];q=r.value;return [4,this.get(q)];case 2:(x.S(),x.label=3);case 3:return (r=p.next(),[3,1]);case 4:return [3,7];case 5:return (u=x.S(),v={error:u},[3,7]);case 6:try{r && !r.done && (w=p.return) && w.call(p);}finally{if(v)throw v.error;}return [7];case 7:return [2];}});};m.prototype.normalize=function(p,r){var q,u;q=this;this.g$.set(p,r);this.kfc(function(v){v.J === p && q.hzb(v);});this.Gsb && (null === (u=this.aqa) || void 0 === u?void 0:u.normalize(p,r));};m.prototype.npa=function(p,r,q){this.Osb(p) && this.get(p).normalize(r,q);};m.prototype.filter=function(p){var r,q,u,v,w,x;return n.__generator(this,function(y){switch(y.label){case 0:(y.qc.push([0,5,6,7]),r=n.__values(Object.keys(this.Z.$)),q=r.next(),y.label=1);case 1:if(q.done)return [3,4];u=q.value;return p(this.Z.$[u])?[4,this.get(u)]:[3,3];case 2:(y.S(),y.label=3);case 3:return (q=r.next(),[3,1]);case 4:return [3,7];case 5:return (v=y.S(),w={error:v},[3,7]);case 6:try{q && !q.done && (x=r.return) && x.call(r);}finally{if(w)throw w.error;}return [7];case 7:return [2];}});};m.prototype.Kk=function(p,r){var q,u,v,w;p=this.get(p);q=null === p || void 0 === p?void 0:p.next;if(q){Object.keys(r).forEach(function(x){var y;y=q[x];y && (y.weight=r[x]);});u=(0,f.C3b)(q);v=u.zzb;w=u.nIb;Object.keys(q).forEach(function(x){if(x=q[x])x.aG=(0,f.B3b)(x.weight,v,w);});}null === p || void 0 === p?void 0:p.Kk(r);};m.prototype.fvb=function(p,r){var q,u;return n.__generator(this,function(v){switch(v.label){case 0:(q=r,v.label=1);case 1:return q?(u=this.get(q))?[4,u]:[3,3]:[3,3];case 2:return (v.S(),q=p(this,q),[3,1]);case 3:return [2];}});};m.prototype.jmc=function(p){p=this.Z.$[p];return !!(p && p.next && Object.keys(p.next).length);};m.prototype.emc=function(p){p=this.get(p);return !(!p || !this.rrb(p).length);};m.prototype.AGc=function(p,r){this.gX={Z:p,mapping:r};};Object.defineProperties(m.prototype,{id:{get:function(){return this.j3;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{identifier:{get:function(){var p,r,q,u,v;return ("").concat(null !== (r=null === (p=this.t$) || void 0 === p?void 0:p.Z.id) && void 0 !== r?r:"N"," -> (").concat(this.id,") -> ").concat(null !== (v=null === (u=null === (q=this.gX) || void 0 === q?void 0:q.Z) || void 0 === u?void 0:u.id) && void 0 !== v?v:"N");},enumerable:!1,configurable:!0}});m.prototype.KGc=function(p,r){this.t$={Z:p,mapping:r};};m.prototype.FF=function(p){var r;return null === (r=this.t$) || void 0 === r?void 0:r.mapping.HG(p);};m.prototype.LJ=function(p){return this.Gsb?(p=this.FF(p)) && this.aqa.LJ(p):p;};m.prototype.ixb=function(p){if(!this.Xlc)return p;p=this.Vma.ixb(p);if(void 0 !== p)return this.Vma.FF(p);};m.prototype.fxb=function(p){var r;return null === (r=this.t$) || void 0 === r?void 0:r.mapping.Fzc(p);};m.prototype.usc=function(p){var r;return null === (r=this.gX) || void 0 === r?void 0:r.mapping.Ezc(p);};m.prototype.Osb=function(p){return (p=this.Z.$[p]) && this.jua.has(p);};m.prototype.evb=function(p){var r,q,u,v,w,x,y;return n.__generator(this,function(A){switch(A.label){case 0:r=this.Z.$[p];if(!r || !r.next)return [3,8];A.label=1;case 1:(A.qc.push([1,6,7,8]),q=n.__values(Object.keys(r.next)),u=q.next(),A.label=2);case 2:if(u.done)return [3,5];v=u.value;return [4,this.get(v)];case 3:(A.S(),A.label=4);case 4:return (u=q.next(),[3,2]);case 5:return [3,8];case 6:return (w=A.S(),x={error:w},[3,8]);case 7:try{u && !u.done && (y=q.return) && y.call(q);}finally{if(x)throw x.error;}return [7];case 8:return [2];}});};m.prototype.nS=function(p,r,q){this.bua(this.evb(p),r,q);};m.prototype.hQa=function(p){var r,q,u,v,w,x,y;return n.__generator(this,function(A){switch(A.label){case 0:r=this.get(p);if(!r)return [3,8];A.label=1;case 1:(A.qc.push([1,6,7,8]),q=n.__values(this.rrb(r)),u=q.next(),A.label=2);case 2:if(u.done)return [3,5];v=u.value;return [4,this.get(v)];case 3:(A.S(),A.label=4);case 4:return (u=q.next(),[3,2]);case 5:return [3,8];case 6:return (w=A.S(),x={error:w},[3,8]);case 7:try{u && !u.done && (y=q.return) && y.call(q);}finally{if(x)throw x.error;}return [7];case 8:return [2];}});};m.prototype.TNc=function(p,r,q){this.bua(this.hQa(p),r,q);};m.prototype.bua=function(p,r,q){var u,v,y,A,z;v=!0;try{for(var w=n.__values(p),x=w.next();!x.done;x=w.next()){y=x.value;A=r(y,z,this,q);v=A.nS;q=A.state;if(!v)break;z=y;}}catch(C){var B;B={error:C};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(B)throw B.error;}}};m.prototype.dvb=function(p){return this.fvb(d,p);};m.prototype.SNc=function(p,r,q){this.bua(this.dvb(p),r,q);};m.prototype.cvb=function(p){var r,q;return n.__generator(this,function(u){switch(u.label){case 0:(r=this.get(p),u.label=1);case 1:if(!r)return [3,3];q=n.__spreadArray([],n.__read(this.hQa(r.id)),!1);if(0 === q.length)return [3,3];r=1 === q.length?q[0]:(0,c.oc)(q,function(v){return v.Ac === p;}) || q[0];return [4,r];case 2:return (u.S(),[3,1]);case 3:return [2];}});};m.prototype.QNc=function(p,r,q){this.bua(this.cvb(p),r,q);};m.prototype.Epc=function(){(0,c.assert)(!1,"Not implemented");};m.prototype.RNc=function(p,r,q){var u;u=this;p=this.get(p);(0,c.assert)(p,"Segment not found in playgraph");this.ksb.wLb(p,function(v,w,x,y){return r(v,x,u,y);},q);};m.prototype.Wwb=function(p,r,q){p=new f.odb(p,r,this.Z.Ld || "lazy",this.identifier,q);!p.km && this.g$.has(r.J) && this.hzb(p);this.jua.set(r,p);return p;};m.prototype.kfc=function(p){var r;r=this;Object.keys(this.Z.$).forEach(function(q){var u;u=r.jua.get(r.Z.$[q]);u && p(u,q);});};m.prototype.hzb=function(p){var r;r=this.g$.get(p.J);r && p.normalize(r(p.cb),r(p.ib));};m.prototype.llc=function(){var p;p=this;return (0,c.nhb)(Object.keys(this.Z.$).map(function(r){return p.Z.$[r].J;}));};m.prototype.rrb=function(p){var q;if(!p.FQ){p.FQ=[];for(var r in this.Z.$){q=this.Z.$[r].next;q && (p.id in q) && p.FQ.push(r);}}return p.FQ;};return m;})(t);},48781:function(t,b,a){var e,h,l,k,m;function d(p,r,q){var u,v,w,x;if(p.next){u=(null === q || void 0 === q?0:q.next)?c(p.next,q.next):p.next;p=g(u);v=p.nIb;w=p.zzb;x={};p.Fz.forEach(function(y){x[y]=new m(u[y],w,v,r);});return x;}}function n(p,r){if("immediate" !== p)return 1;p=r.next?Object.keys(r.next):[];if(p.some(function(q){return void 0 !== r.next[q].weight;})){if(void 0 === r.weight)return 0;p=r.weight + p.reduce(function(q,u){return q + (r.next[u].weight || 0);},0);return r.weight / p;}return 1 / (p.length + 1);}function c(p,r){var q,u,x;u={};try{for(var v=e.__values(Object.keys(p)),w=v.next();!w.done;w=v.next()){x=w.value;u[x]=r[x] || p[x];}}catch(A){var y;y={error:A};}finally{try{w && !w.done && (q=v.return) && q.call(v);}finally{if(y)throw y.error;}}return u;}function g(p){var r,q,u;r=Object.keys(p);q=r.every(function(v){return void 0 === p[v].weight;})?void 0:r.reduce(function(v,w){return v + (p[w].weight || 0);},0);u=void 0 === q?r.length:r.reduce(function(v,w){return v + (p[w].weight?1:0);},0);return {Fz:r,zzb:u,nIb:q};}function f(p,r,q){return void 0 === q?1 / r:0 === q?void 0 === p?1 / r:0:void 0 === p?0:p / q;}Object.defineProperties(b,{__esModule:{value:!0}});b.MVb=b.odb=void 0;b.hIb=function(p,r,q){return e.__assign(e.__assign({},p.K),{cb:h.I.max(r,p.lb).G,ib:h.I.min(q,p.Ub).G});};b.H0c=d;b.IWc=n;b.m1c=c;b.C3b=g;b.B3b=f;e=a(22970);h=a(91176);l=a(4152);k=a(58304);t=(function(){function p(r,q,u,v,w){var x,y;x=this;this.id=r;this.K=q;this.b$b=v;this.km=!1;this.ZD={};this.fma=function(A){var z,B,C,D;return (null === (z=x.sx) || void 0 === z?0:z.length)?"immediate":null !== (D=null === (C=null === (B=x.next) || void 0 === B?void 0:B[A]) || void 0 === C?void 0:C.Ld) && void 0 !== D?D:x.Ld;};this.CFa=null !== (y=q.Ld) && void 0 !== y?y:u;this.weight=w?w.weight:q.weight;this.Ac=null !== q.Ac?q.Ac:void 0;this.next=q.next?d(q,this.CFa,w):void 0;this.aG=n(this.CFa,this);this.lb=(this.km=r=w?w.km && w.ib === q.ib:!1)?w.lb:h.I.Ca(q.cb);this.Ub=r?w.Ub:h.I.Ca(q.ib || Infinity);this.sx=w && r?w.sx:void 0;this.Kk();}Object.defineProperties(p.prototype,{J:{get:function(){return this.K.J;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{type:{get:function(){return this.K.type || k.Fd.content;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{cb:{get:function(){return this.K.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ib:{get:function(){return this.K.ib || Infinity;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wq:{get:function(){return this.K.Wq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jp:{get:function(){return this.K.jp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{cl:{get:function(){return this.K.cl;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jo:{get:function(){return this.K.jo;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Rb:{get:function(){var r;return (null === (r=this.Ub) || void 0 === r?void 0:r.ca(this.lb)) || h.I.zg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{KC:{get:function(){return this.next?Object.keys(this.next).length:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{n_:{get:function(){return this.Fz.length?!this.Ac && 0 === this.lY.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Loc:{get:function(){return !this.type || this.type === k.Fd.content;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Fz:{get:function(){return Object.keys(this.next || ({}));},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Zuc:{get:function(){return this.ZD;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lY:{get:function(){var r;r=this;return this.Fz.filter(function(q){return !!r.ZD[q];});},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{hYa:{get:function(){var r;return null !== (r=this.pfb) && void 0 !== r?r:this.pfb=this.R3b();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fta:{get:function(){var r;return null !== (r=this.qfb) && void 0 !== r?r:this.qfb=this.S3b();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sv:{get:function(){return this.weight?this.weight / (this.weight + this.fta):1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ld:{get:function(){var r;return (null === (r=this.sx) || void 0 === r?0:r.length)?"immediate":this.CFa;},enumerable:!1,configurable:!0}});p.prototype.tjb=function(r){return h.I.min(h.I.max(h.I.fa,r),this.Rb);};p.prototype.Gzb=function(r){return this.lb.add(r);};p.prototype.MUa=function(r){return r.ca(this.lb);};p.prototype.rJc=function(r){return r.greaterThan(this.lb) && r.lessThan(this.Ub);};p.prototype.n5=function(r){return r.pf(this.lb) && r.gn(this.Ub);};p.prototype.A6b=function(r){return r.pf(h.I.fa) && r.gn(this.Rb);};p.prototype.normalize=function(r,q){var u;if(r && q){u=Math.max(r.P,q.P);this.lb=r.Rc(u);this.Ub=q.Rc(u);this.K.cb=this.lb.G;this.K.ib=this.Ub.G;this.km=!0;}};p.prototype.AZa=function(r){this.weight=r;this.aG=n(this.Ld,this);};p.prototype.extend=function(r){this.Ub=r;return this;};p.prototype.amc=function(r){return !!(this.next && -1 < Object.keys(this.next).indexOf(r));};p.prototype.dqb=function(){var r;return this.lY.length?null !== (r=this.lY.map(this.fma).reduce(function(q,u){return q === u?u:void 0;})) && void 0 !== r?r:this.Ld:this.Ld;};p.prototype.A3b=function(r){var q,u;if(this.hYa){q=(this.ZD[r] || 0) / this.hYa;if(void 0 === this.weight || 0 === this.fta)return {jg:q};u=this.sv;return 1 !== u && (0,l.HPa)(this.fma(r)) && this.ZD[r]?{jg:u * q,cJ:this.ZD[r] / this.fta * (1 - u)}:{jg:u * q};}return {jg:(null === (q=this.next) || void 0 === q?0:q[r])?1 / this.KC:0};};p.prototype.vGb=function(r){this.sx=r;this.LLb();};p.prototype.Kk=function(r){var q;if(this.next){q=this.next;this.ZD=Object.keys(this.next).reduce(function(u,v){var w;w=r?r[v] || 0:q[v].weight;void 0 !== w && null !== w && 0 <= w && (u[v]=w);return u;},{});}else this.ZD={};this.LLb();};p.prototype.R3b=function(){var r;r=this;return this.lY.reduce(function(q,u){return q + r.ZD[u];},0);};p.prototype.S3b=function(){var r;r=this;return this.lY.filter(function(q){return (0,l.HPa)(r.fma(q));}).reduce(function(q,u){return q + r.ZD[u];},0);};p.prototype.LLb=function(){this.qfb=this.pfb=void 0;};p.prototype.toString=function(){var r;r=new h.N2(this.lb,this.Ub);return ("WSeg[").concat(this.b$b,"](").concat(this.id,") ") + ("").concat(r.toString(h.pH.G),"v:").concat(this.J);};return p;})();b.odb=t;m=(function(){return function(p,r,q,u){this.aG=0;this.Ld=p.Ld || u;this.weight=p.weight;this.aG=f(p.weight,r,q);};})();b.MVb=m;},35621:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.C_a=void 0;d=a(22970);n=a(28020);t=(function(){function c(g){this.events=[];this.total=0;this.options=d.__assign({},g);}c.prototype.clear=function(){this.events=[];this.filled=void 0;this.total=0;};Object.defineProperties(c.prototype,{tpb:{get:function(){if(this.filled){if((0,n.na)() - this.filled.na < this.filled.reset)return !0;this.filled=void 0;}return !1;},enumerable:!1,configurable:!0}});c.prototype.push=function(g){var f,e,h,l,k;if(!this.tpb){f=(0,n.na)();e=this.options.pQ;h=f - e;this.events=this.events.filter(function(m){return m.na > h;});g=this.events.push({na:f,event:g});l=this.events;k=this.options;if(g >= k.count)return (this.total++,k=k.reset,"function" === typeof k && (k=k()),this.filled={na:f,reset:k},this.events=[],{na:f,total:this.total,count:g,pQ:e,reset:k,events:l});}};return c;})();b.C_a=t;},42050:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$_a=void 0;d=a(22970);n=a(91072);c=a(28951);g=a(62411);b.$_a=(function(){function f(){}f.open=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,l,k,m,p,r,q,u,v,w,x,y,A;return d.__generator(this,function(z){switch(z.label){case 0:return (h=e.timing || new n.bDa(),[4,e.Bw(h)]);case 1:(l=z.S(),k=e.trace.extend("ale-auth"),m=e.IB,z.label=2);case 2:return (z.qc.push([2,7,,8]),p=new c.Aza(l),k("Waiting for nonce and creating ALE session"),r=null !== (A=e.timeout) && void 0 !== A?A:this.timeout,[4,Promise.all([h.bia(["network","nonce"],function(){return p.ZZa(r,m.nonce.bind(m));}),h.bia(["session","ale"],function(){return e.xU.jdc();})])]);case 3:return (q=z.S()[0],k("Created ALE session"),k("Nonce is",q),[4,h.bia(["encrypt","ale"],function(){return e.xU.encrypt(q);})]);case 4:u=z.S();v=u.token;w=u.AE;l.send(m.response(v,w));if(!m.validate)return [3,6];x=m.validate.bind(m);return [4,h.bia(["network","response"],function(){return p.ZZa(r,x);})];case 5:(z.S(),z.label=6);case 6:return [2,l];case 7:throw (y=z.S(),k("ALE authentication failed with",y),l.close(),(0,g.QMb)("ale-encrypted-nonce",y));case 8:return [2];}});});};f.timeout=8E3;return f;})();},61222:function(t,b,a){var n,c,g,f;function d(e,h,l){return n.__awaiter(this,void 0,void 0,function(){var k,m,p,r,q,u;return n.__generator(this,function(v){switch(v.label){case 0:return (v.qc.push([0,2,,3]),[4,h()]);case 1:return [2,v.S()];case 2:return (k=v.S(),m=l.token,p=l.sn,r=l.vt,q=l.Kd,u={type:"ale-failure",step:e,Ec:(0,f.hL)(k),now:new Date().toISOString(),na:(0,g.na)(),token:null !== m && void 0 !== m?m:null === p || void 0 === p?void 0:p.token,vt:(null === q || void 0 === q?void 0:q.Aj) || r,Vl:null === q || void 0 === q?void 0:q.a$b.toISOString(),expiration:null === p || void 0 === p?void 0:p.Tj().toISOString(),wU:q?(0,g.na)() - q.Z9b:void 0,taa:null === p || void 0 === p?void 0:p.pba()},[2,Promise.reject(u)]);case 3:return [2];}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.a0a=void 0;n=a(22970);c=a(73608);g=a(28020);f=a(62411);t=(function(){function e(h,l){var k,m;this.vt=1;this.options=n.__assign({},h);this.Yl=h.Yl;this.options.NVa=null !== (k=h.NVa) && void 0 !== k?k:!0;this.options.ktb=null !== (m=h.ktb) && void 0 !== m?m:!0;this.trace=h.trace.extend(l.nkb,"ale-client");this.config=l;}e.Q$b=function(h){h=h.Yl;return {nkb:"SOCKETROUTER",scheme:c.AleScheme.A128CBC_HS256,keyx:c.AleKeyxScheme.CLEAR,crypto:h.crypto,Yf:h.Yf,Li:h.Li};};e.lfc=function(h){return new e(h,this.Q$b(h));};e.prototype.okc=function(){this.msa || (this.msa=new c.f0a(this.config));return this.msa;};e.prototype.Krb=function(){return n.__awaiter(this,void 0,void 0,function(){var h,l,k,m,p,r;r=this;return n.__generator(this,function(q){switch(q.label){case 0:if(this.sn && !this.sn.pba())return [3,5];this.Kd=void 0;h=this.vt++;return [4,d("create-service",function(){return r.okc();},{vt:h})];case 1:return (l=q.S(),[4,d("get-request",function(){return l.Pjc();},{vt:h})]);case 2:return (k=q.S(),this.trace("Provision request",k),[4,d("provision",function(){return r.Yl.vBc(k);},{vt:h})]);case 3:return (m=q.S(),this.trace("Provision response",m),p=this,[4,d("create-session",function(){return l.createSession(m);},{vt:h})]);case 4:return (p.sn=q.S(),this.Kd={Aj:h,Z9b:(0,g.na)(),a$b:new Date()},this.trace("Created session with expiration",this.sn.Tj().toISOString()),[3,6]);case 5:(this.trace("Reusing session with expiration",this.sn.Tj().toISOString()),q.label=6);case 6:return [2,this.sn];}});});};e.prototype.vqb=function(h){return n.__awaiter(this,void 0,void 0,function(){var l,k,m,p;return n.__generator(this,function(r){switch(r.label){case 0:if(this.options.ktb)return [3,2];l=this;k=l.sn;m=l.vt;p=l.Kd;return [4,d(h,function(){if(!k)throw (0,f.w0)("No session has been created");if(k.pba())throw (0,f.w0)("Session is due for renewal");},{sn:k,vt:m,Kd:p})];case 1:(r.S(),r.label=2);case 2:return [2,this.Krb()];}});});};e.prototype.jdc=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(h){switch(h.label){case 0:return [4,this.Krb()];case 1:return (h.S(),[2]);}});});};Object.defineProperties(e.prototype,{pba:{get:function(){var h,l;return null !== (l=null === (h=this.sn) || void 0 === h?void 0:h.pba()) && void 0 !== l?l:!0;},enumerable:!1,configurable:!0}});e.prototype.reset=function(){this.sn && (this.trace("Dropping session"),this.sn=void 0);};e.prototype.encrypt=function(h){return n.__awaiter(this,void 0,void 0,function(){var l,k,m,p,r,q;return n.__generator(this,function(u){switch(u.label){case 0:return (u.qc.push([0,3,,4]),l="encrypt",[4,this.vqb(l)]);case 1:return (k=u.S(),m=k.token,[4,d(l,function(){return k.Vcc(h);},{sn:k,token:m,Kd:this.Kd})]);case 2:return (p=u.S(),r={token:m,AE:p},this.trace("Encrypted : ",h,r),[2,r]);case 3:throw (q=u.S(),this.trace("Encrypt failed :",q),this.options.NVa && this.reset(),q);case 4:return [2];}});});};e.prototype.decrypt=function(h){return n.__awaiter(this,void 0,void 0,function(){var l,k,m,p;return n.__generator(this,function(r){switch(r.label){case 0:return (r.qc.push([0,3,,4]),l="decrypt",[4,this.vqb(l)]);case 1:return (k=r.S(),[4,d(l,function(){return k.M$b(h);},{sn:k,Kd:this.Kd})]);case 2:return (m=r.S(),this.trace("Decrypted : ",h,m),[2,m]);case 3:throw (p=r.S(),this.trace("Decrypt failed :",p),this.options.NVa && this.reset(),p);case 4:return [2];}});});};return e;})();b.a0a=t;},64743:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Tva=void 0;d=a(22970);t=(function(n){function c(g,f){var e;e=n.call(this,g,f) || this;e.closed.then(function(){return e.clear();});return e;}d.__extends(c,n);c.prototype.clear=function(){var g;g=this.Ad;if(g)return (this.Ad=void 0,g.open && (this.trace("Closing",g.id),g.close()),this.emit("disconnected",{Ad:g}),g);};c.prototype.set=function(g){var f,e;f=this;if(this.open && this.Ad !== g){e=this.clear();g.open && (this.Ad=g,g.closed.then(function(){f.iS(g) && f.clear();}),g.on("message",function(h){h=h.message;f.iS(g) && f.emit("message",{Ad:g,message:h});}),g.on("failure",function(h){var l;l=h.te;h=h.error;f.iS(g) && f.emit("failure",{te:l,error:h,Ad:g});}),this.trace("Connected to",g.id),this.emit("connected",{Ad:g}));return e;}};c.prototype.isConnected=function(){var g;return this.open && (null === (g=this.Ad) || void 0 === g?void 0:g.open);};c.prototype.iS=function(g){return this.open && g === this.Ad;};Object.defineProperties(c.prototype,{connected:{get:function(){return this.isConnected();},enumerable:!1,configurable:!0}});c.prototype.send=function(g){var f;if(this.open && (null === (f=this.Ad) || void 0 === f?0:f.open))return this.Ad.send(g);};return c;})(a(9568).H2);b.Tva=t;},94933:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.e2a=void 0;d=a(22970);n=a(91072);c=a(28020);g=a(62411);t=(function(f){function e(h){var l;l=f.call(this,"CON",h.trace) || this;l.Cx=(0,c.na)();l.timing=new n.bDa();l.attempt=0;l.options=d.__assign({},h);return l;}d.__extends(e,f);e.open=function(h){return d.__awaiter(this,void 0,void 0,function(){var l;return d.__generator(this,function(k){switch(k.label){case 0:(l=new e(h),k.label=1);case 1:return (k.qc.push([1,3,,4]),[4,l.connect()]);case 2:return (k.S(),[3,4]);case 3:return (k.S(),l.close(),[3,4]);case 4:return (l.Ff && !l.failure && (l.failure={type:"connection-failed",types:g.kob(l.AO),Oy:l.AO}),[2,l]);}});});};e.prototype.finish=function(h,l){var k;k=this;l.open?(h.end(),this.set(l),l.closed.then(function(){return k.close();})):(l=g.K5a("Factory returned a closed socket"),this.failure={type:"connection-failed",types:g.kob(l),Oy:[l]},h.end(this.failure),this.close());};e.prototype.bjb=function(h,l){l=g.hL(l);if("connection-disabled" === l.type)throw (h.end(l),this.failure=l,l);};e.prototype.connect=function(){return d.__awaiter(this,void 0,void 0,function(){var h,l,k,m,p,r,q,u,v,w;return d.__generator(this,function(x){switch(x.label){case 0:(h=this.options,l=h.Bw,k=h.retry,m=this.timing.Tsa("connect"),x.label=1);case 1:return (x.qc.push([1,3,,8]),this.attempt++,p=this.finish,r=[m],[4,l(m.details())]);case 2:return [2,p.apply(this,r.concat([x.S()]))];case 3:q=x.S();this.bjb(m,q);m.end(null !== q && void 0 !== q?q:g.K5a("Factory failed with no error"));if(!k)throw q;u=this.timing.Tsa("retry");x.label=4;case 4:return (x.qc.push([4,6,,7]),[4,k(this.attempt,this.AO)]);case 5:if(v=x.S())return [2,this.finish(u,v)];u.end();return [2,this.connect()];case 6:throw (w=x.S(),this.bjb(u,w),u.end(null !== w && void 0 !== w?w:g.Gfa(this.attempt)),w);case 7:return [3,8];case 8:return [2];}});});};Object.defineProperties(e.prototype,{Ff:{get:function(){return !this.connected;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{duration:{get:function(){return this.timing.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{SIb:{get:function(){return (0,c.na)() - this.Cx;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{UVa:{get:function(){return this.timing.er.reduce(function(h,l){var k;k=l.error;return "retry" !== l.type || k?h:h + 1;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{JKc:{get:function(){return (0,c.na)() - this.timing.end;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{AO:{get:function(){return this.timing.er.filter(function(h){return h.error;}).map(function(h){return g.hL(h.error);});},enumerable:!1,configurable:!0}});return e;})(a(64743).Tva);b.e2a=t;},94450:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Counter=void 0;t=(function(){function a(d,n,c){this.total=0;this.counter=d.counter(n,c);}a.prototype.hz=function(d){void 0 === d && (d=1);this.total+=d;this.counter.hz(d);};return a;})();b.Counter=t;},70402:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.EventEmitter=void 0;d=a(22970);t=a(90745);n=(function(c){function g(f,e,h){var l;l=c.call(this) || this;h?l.resolve():l.listener=f.listener(e,function(){l.clear();l.resolve();});return l;}d.__extends(g,c);g.prototype.clear=function(){this.listener && (this.listener.clear(),this.listener=void 0);};return g;})(a(91176).An);a=(function(c){function g(){return null !== c && c.apply(this,arguments) || this;}d.__extends(g,c);g.prototype.listener=function(f,e){var h;h=this;this.on(f,e);return {clear:function(){return h.mm(f,e);}};};g.prototype.jwb=function(f,e){return new n(this,f,e);};return g;})(t.EventEmitter);b.EventEmitter=a;},4343:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.dxa=void 0;d=a(22970);t=a(70402);n=a(35621);c={count:Infinity,pQ:-Infinity,reset:-Infinity};a=(function(g){function f(e){var h,l;void 0 === e && (e=c);h=g.call(this) || this;l=e.reset;h.kU=new n.C_a({count:e.count,pQ:e.pQ,reset:function(){return "number" === typeof l?l:l(h.kU.total,h.kU.events.map(function(k){return k.event.error;}));}});return h;}d.__extends(f,g);f.prototype.reset=function(){this.kU.clear();};Object.defineProperties(f.prototype,{KBc:{get:function(){return this.kU.tpb;},enumerable:!1,configurable:!0}});f.prototype.failure=function(e,h,l){var k,m,p,r,q,u;k=this;if(e=this.kU.push({te:e,Ad:h.id,error:l})){m=e.total;p=e.count;r=e.pQ;q=e.reset;u=e.events.map(function(v){return d.__assign({na:v.na},v.event);});Promise.resolve().then(function(){k.emit("failed",{Ad:h,error:{type:"accumulated-failures",message:("Received ").concat(p," failure(s) over ").concat(r," ms"),total:m,reset:q,Oy:u}});});}return this.kU.events.length;};return f;})(t.EventEmitter);b.dxa=a;},62411:function(t,b,a){var f;function d(e){var h;h=typeof e;if(e && "object" === h){if(e instanceof Error)return {type:"jse",name:e.name,message:e.message,stack:e.stack};if(e.type)return "jse" !== e.type && e.stack?f.__assign(f.__assign({},e),{line:void 0,sourceURL:void 0,stack:void 0}):e;}return {type:"unknown",H4c:h,value:e};}function n(e){if(e && "object" === typeof e && "string" === typeof e.type)return e;}function c(e){var k,m;function h(p){var q;if(l(p)){k.push(p);if(Array.isArray(p))return p.forEach(function(u){return h(u);});for(var r in p){q=p[r];l(q) && h(q);}(p=n(p)) && m.push(p);}}function l(p){return p && "object" === typeof p && 0 > k.indexOf(p);}k=[];m=[];h(e);return m;}function g(e){return c(e).reduce(function(h,l){var k;l=l.type;h[l]=(null !== (k=h[l]) && void 0 !== k?k:0) + 1;return h;},{});}Object.defineProperties(b,{__esModule:{value:!0}});b.K5a=function(e){try{throw Error(e);}catch(h){return d(h);}};b.w0=function(e,h){return {type:"cause",message:e,Oy:(null === h || void 0 === h?0:h.length)?h:void 0};};b.Gfa=function(e){return {type:"retries-exceeded",attempt:e};};b.iVb=function(e,h){return {type:"timed-out",G:e,message:h};};b.Yxa=function(e){return {type:"interrupted",message:e};};b.A2=function(e,h,l,k){return {type:"request-failed",request:e,id:h,reason:l,Ec:d(k)};};b.QMb=function(e,h){return {type:"authn-failure",QJ:e,Ec:d(h)};};b.D3a=function(e){return {type:"error-response",response:e};};b.IQb=function(e){return {type:"invalid-response",response:e};};b.Gcb=function(e){return {type:"unauthorized",response:e};};b.hL=d;b.tub=n;b.soc=function(e,h){e=n(e);if((null === e || void 0 === e?void 0:e.type) === h)return e;};b.flatten=c;b.cec=g;b.kob=function(e){return Object.keys(g(e)).sort();};b.mQc=function(e,h){return {type:"connection-disabled",reason:e,message:h};};f=a(22970);},47348:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Kmc=function(d){var n,c;c=null !== (n=a[d]) && void 0 !== n?n:1;a[d]=c + 1;return ("").concat(d,":").concat(c);};a={};},58655:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.kdb=void 0;d=a(22970);n=a(62411);t=(function(){function c(g){this.options=g;this.visible=g.Yl.visible;}Object.defineProperties(c.prototype,{context:{get:function(){return {visible:("").concat(this.visible.T_)};},enumerable:!1,configurable:!0}});c.prototype.sia=function(g){var f;g="string" === typeof g?{message:g}:g;f=this.options.sia;return f?d.__assign(d.__assign({},g || ({})),f()):g;};c.prototype.send=function(g,f,e,h){f={te:f,context:this.context,sf:this.options.sf.values,error:h?(0,n.hL)(h):void 0,ck:this.sia(e)};this.options.Yl.PP(g,f);this.options.trace(g,f);};c.prototype.error=function(g,f,e){this.send("error",g,e,f);};c.prototype.warn=function(g,f){this.send("warn",g,f);};c.prototype.nY=function(g,f){this.send("info",g,f);};c.prototype.J1b=function(g){var f;f=this.options.sia;this.options.sia=f?function(){return d.__assign(d.__assign({},f()),g());}:g;return this;};return c;})();b.kdb=t;},28951:function(t,b,a){var d,n,c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Aza=void 0;d=a(22970);n=a(91176);c=a(97936);g=a(62411);t=(function(f){function e(h,l){var k,m;k=f.call(this) || this;k.Ad=h;if(h.open){m=l?l.reduce(function(p,r){p[r]=!0;return p;},{}):void 0;h.closed.then(function(){return k.removeAllListeners();});h.on("message",function(p){var r,q;r=p.Ad;p=p.message;if(m && m[p])return k.emit("ignored",{Ad:r,message:p});try{q=JSON.parse(p);if(q && "object" === typeof q)return k.emit("message",{Ad:r,message:q});throw Error("Not an object");}catch(u){k.emit("invalid",{Ad:r,message:p,error:u});}});}return k;}d.__extends(e,f);e.prototype.ZZa=function(h,l,k){return d.__awaiter(this,void 0,void 0,function(){var m,p,r,q;return d.__generator(this,function(u){switch(u.label){case 0:(m=new n.An(),null === k || void 0 === k?void 0:k.then(void 0,function(v){return m.reject(v);}),p=new c.JD(function(){return m.reject((0,g.iVb)(h,"Timed out waiting for message"));},h),r=this.Ad.closed,r.then(function(){return m.reject((0,g.Yxa)("Socket closed while waiting for a message"));}),q=this.listener("message",function(v){var w;v=v.message;try{w=l(v);w && m.resolve(w);}catch(x){m.reject((0,g.hL)(x));}}),u.label=1);case 1:return (u.qc.push([1,,3,4]),[4,m]);case 2:return [2,u.S()];case 3:return (r.clear(),p.clear(),q.clear(),[7]);case 4:return [2];}});});};return e;})(a(70402).EventEmitter);b.Aza=t;},71385:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.gT=(a={},a.CLOSE="_CLOSE_",a.WS_ECHO="ECHO ping",a);},59143:function(t,b,a){var d,n,c,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.N9a=void 0;d=a(22970);n=a(94933);c=a(49781);t=a(64743);g=a(4343);f=a(62411);a=(function(e){function h(l){var k;k=e.call(this,"PS",l.trace) || this;k.JIa=new c.aab(k);k.XN=!1;k.options=d.__assign({},l);k.IIa=new g.dxa(l.connect).on("failed",function(m){k.emit("failure",{te:"max-connect-failures",Ad:m.Ad,error:m.error});});k.Vac=new g.dxa(l.disconnect).on("failed",function(m){var p;p=m.Ad;m=m.error;k.emit("failure",{te:"disconnect-failure",Ad:p,error:m});k.disconnect();k.IIa.failure("disconnect-failure",p,m);});k.trace("Opening initial connection");k.connect();return k;}d.__extends(h,e);h.prototype.Ffb=function(){return !this.open || 1 < this.JIa.length || this.XN || this.Ff;};h.prototype.connect=function(){var l;l=this;this.XN=!1;return this.JIa.push("connect",function(){return d.__awaiter(l,void 0,void 0,function(){var k,m,p;p=this;return d.__generator(this,function(r){switch(r.label){case 0:if(this.Ffb())return [2];this.trace("Connecting...");return [4,n.e2a.open(d.__assign(d.__assign({},this.options),{trace:this.trace}))];case 1:k=r.S();if(this.Ffb())return (k.close(),[2]);if(k.Ff)return (m=(0,f.hL)(k.failure),this.disconnect(),this.emit("failure",{te:"connect-failed",Ad:k,error:m}),"connection-disabled" !== m.type && this.IIa.failure("connect-failed",k,m),[2]);this.trace("Connected",("").concat(k.id),k.timing.duration,"ms",k.timing.summary());k.closed.then(function(){var q,u,v;p.iS(k) && p.open && !p.XN && !p.Ff && (null !== (v=null === (u=(q=p.options).cG) || void 0 === u?void 0:u.call(q)) && void 0 !== v?v:1) && p.connect();});k.on("failure",function(q){return p.Vac.failure(q.te,k,q.error);});this.set(k);return [2];}});});});};h.prototype.isConnected=function(){return e.prototype.isConnected.call(this) && !this.XN;};Object.defineProperties(h.prototype,{KIa:{get:function(){return this.open && !this.XN && 0 < this.JIa.length;},enumerable:!1,configurable:!0}});h.prototype.refresh=function(){if(this.open && !this.Ff)return this.connect();};h.prototype.cG=function(){if(this.open && !this.Ff)return (this.clear(),this.connect());};h.prototype.disconnect=function(){if(this.open && !this.XN)return (this.XN=!0,this.clear(),!0);};Object.defineProperties(h.prototype,{Ff:{get:function(){return this.IIa.KBc;},enumerable:!1,configurable:!0}});return h;})(t.Tva);b.N9a=a;},33993:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.O9a=b.NTb=void 0;d=a(22970);t=a(70402);n=a(71385);b.NTb=(function(){return function(){};})();a=(function(c){function g(f){var e;e=c.call(this) || this;e.trace=f.trace.extend("ping");e.start(f);return e;}d.__extends(g,c);g.prototype.start=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,h,l,k;k=this;return d.__generator(this,function(m){switch(m.label){case 0:return [4,f.interval];case 1:e=m.S();if(0 === e)return (this.trace("Disabled"),[2]);this.trace("Pinging every",e,"ms");h=f.client;l=!0;h.on("ping",function(){l=!0;k.trace("Received response");}).on("disconnected",function(){l=!0;});setInterval(function(){if(h.connected){if(!l)return (k.trace("Timed out, restarting"),k.emit("timeout"),h.cG());k.trace("Sending");h.send(n.gT.WS_ECHO) && (l=!1);}},e);return [2];}});});};return g;})(t.EventEmitter);b.O9a=a;},49781:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.aab=void 0;d=a(22970);t=a(90745);n=a(62411);a=(function(c){function g(f){var e;e=c.call(this) || this;e.Tf=Promise.resolve();e.count=0;e.Ad=f;return e;}d.__extends(g,c);Object.defineProperties(g.prototype,{length:{get:function(){return this.count;},enumerable:!1,configurable:!0}});g.prototype.push=function(f,e){var h,l;h=this;l=this.Ad;l.open && (this.count++,this.Tf=this.Tf.then(function(){return d.__awaiter(h,void 0,void 0,function(){var k;return d.__generator(this,function(m){switch(m.label){case 0:if(!l.open)return [3,5];m.label=1;case 1:return (m.qc.push([1,3,4,5]),[4,e(this)]);case 2:return (m.S(),[3,5]);case 3:return (k=m.S(),l.emit("failure",{te:f,Ad:l,error:(0,n.hL)(k)}),[3,5]);case 4:return (--this.count || this.emit("empty"),[7]);case 5:return [2];}});});}));return this.Tf;};return g;})(t.EventEmitter);b.aab=a;},9568:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.H2=void 0;d=a(22970);t=a(70402);n=a(47348);a=(function(c){function g(f,e){var h;h=c.call(this) || this;h.id=(0,n.Kmc)(f);h.trace=e.extend(h.id);h.YE=function(){h.YE=void 0;h.emit("closed");h.removeAllListeners();return !0;};return h;}d.__extends(g,c);Object.defineProperties(g.prototype,{open:{get:function(){return !!this.YE;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{closed:{get:function(){return this.jwb("closed",!this.open);},enumerable:!1,configurable:!0}});g.prototype.close=function(){var f;return null === (f=this.YE) || void 0 === f?void 0:f.call(this);};g.prototype.send=function(){return this.open;};g.prototype.toJSON=function(){return this.id;};return g;})(t.EventEmitter);b.H2=a;},78710:function(t,b,a){var n,c;function d(g){var f;g=n.__assign({},g);g.retry || (g.retry=function(e,h){if(5 < e)throw c.Gfa(e);h=c.cec(h);if(h.unauthorized)throw c.Gfa(e);if(1 === e && h["ale-failure"])throw c.Gfa(e);return new Promise(function(l){return setTimeout(l,500 * Math.pow(2,e - 1));});});g.connect || (g.connect=b.p2a);g.disconnect || (g.disconnect=b.q2a);if(!g.cG){f=0;g.cG=function(){if(4 <= f)return (f=0,!1);f++;return !0;};}return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.q2a=b.p2a=void 0;b.aOb=function(g){return d(g);};n=a(22970);c=a(62411);b.p2a={count:3,pQ:12E4,reset:6E5};b.q2a={count:3,pQ:3E4,reset:6E4};},33351:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.I2a=void 0;d=a(90745);n=a(12746);t=(function(){function c(g){void 0 === g && (g={});this.source=g;this.events=g.events || new d.EventEmitter();this.visible=g.visible || new n.hva().set(!0);}Object.defineProperties(c.prototype,{info:{get:function(){var g;g=this.source.info;if(g)return g;throw Error("WebSocketClientDepencies.info must be implemented");},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{gQ:{get:function(){return this.source.gQ;},enumerable:!1,configurable:!0}});c.prototype.PP=function(g,f){var e,h;null === (h=(e=this.source).PP) || void 0 === h?void 0:h.call(e,g,f);};c.prototype.counter=function(g,f){var e,h;return (null === (h=(e=this.source).counter) || void 0 === h?void 0:h.call(e,g,f)) || ({hz:function(){void 0;}});};Object.defineProperties(c.prototype,{xU:{get:function(){var g;g=this.source.xU;if(g)return g;throw Error("WebSocketClientDepencies.ale must be implemented");},enumerable:!1,configurable:!0}});return c;})();b.I2a=t;},14678:function(t,b,a){var d,n,c,g,f,e,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jdb=void 0;d=a(22970);n=a(59143);t=a(70402);c=a(28951);g=a(71385);f=a(33993);e=a(62411);h=a(58655);l=a(78710);a=(function(k){function m(p){var r,q,u;r=k.call(this) || this;r.trace=p.trace.extend("common");q=r.trace;r.sf=p.sf;r.ta=new h.kdb({sf:p.sf,trace:p.trace,Yl:p.Yl});u=new n.N9a((0,l.aOb)(p));r.Ad=u;u.on("connected",function(v){r.emit("connected",v);r.ta.nY("connected",{r4c:v.Ad.duration,fR:v.Ad.UVa});});u.on("disconnected",function(v){r.emit("disconnected",v);r.ta.nY("disconnected",{p4c:v.Ad.SIb,o4c:v.Ad.JKc,fR:v.Ad.UVa});});u.on("failure",function(v){var w,x;w=v.Ad;x=v.te;v=v.error;if("connection-disabled" === v.type)return (q.console.warn("Connection disabled",v.reason),r.emit("disabled",v));q.console.warn(v);r.emit("failure",{te:x,Ad:w,error:e.hL(v)});r.ta.error(x,v,{q4c:w.SIb,fR:w.UVa});});r.Ce=new c.Aza(u,[g.gT.CLOSE,g.gT.WS_ECHO]).on("ignored",function(v){v=v.message;v === g.gT.CLOSE?(q("Restarting after server",g.gT.CLOSE,"message"),u.refresh(),r.emit("serverClose")):v === g.gT.WS_ECHO && (r.emit("ping"),q("Metrics",r.sf.values));}).on("message",function(v){r.emit("message",{message:v.message});});new f.O9a({trace:q,interval:p.OY,client:r}).on("timeout",function(){return r.emit("pingTimeout");});if(p=p.Yl.events)(p.on("cookies-changed",function(){q("Cookies changed, reconnecting");r.cG();}),p.on("cookies-refreshed",function(){q("Cookies refreshed");r.refresh();}));return r;}d.__extends(m,k);Object.defineProperties(m.prototype,{connected:{get:function(){return this.Ad.connected;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{KIa:{get:function(){return this.Ad.KIa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ff:{get:function(){return this.Ad.Ff;},enumerable:!1,configurable:!0}});m.prototype.send=function(p){return this.Ad.send(p);};m.prototype.refresh=function(){this.Ad.refresh();};m.prototype.cG=function(){this.Ad.cG();};m.prototype.disconnect=function(){this.Ad.disconnect();};m.prototype.request=function(p){return d.__awaiter(this,void 0,void 0,function(){var r,q;return d.__generator(this,function(u){switch(u.label){case 0:if(!this.send(p.body))throw e.Yxa("Socket.send returned false");r=this.Ad.jwb("disconnected");q=r.then(function(){throw e.Yxa("Socket disconnected while waiting for a response");});u.label=1;case 1:return (u.qc.push([1,,3,4]),[4,this.Ce.ZZa(p.timeout,p.filter,q)]);case 2:return [2,u.S()];case 3:return (r.clear(),[7]);case 4:return [2];}});});};return m;})(t.EventEmitter);b.jdb=a;},46876:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ldb=void 0;d=a(91072);n=a(28020);c=a(94450);t=(function(){function g(f,e){this.Vl=(0,n.na)();this.open=0;this.timeline=new d.gcb();this.client=f;f={client:f};this.kAb=new c.Counter(e,"ws.opening",f);this.lAb=new c.Counter(e,"ws.onopen",f);this.Kjb=new c.Counter(e,"ws.close",f);this.Ljb=new c.Counter(e,"ws.onclose",f);this.NFb=new c.Counter(e,"ws.send",f);this.DWa=new c.Counter(e,"ws.send.bytes",f);this.pDb=new c.Counter(e,"ws.onmessage",f);this.iaa=new c.Counter(e,"ws.onmessage.bytes",f);this.WKa=new c.Counter(e,"ws.onerror",f);}Object.defineProperties(g.prototype,{KKb:{get:function(){return (0,n.na)() - this.Vl;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ohb:{get:function(){var f;f=this.timeline.total;return 0 === f?0:this.timeline.cLc() / f * 100;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pHb:{get:function(){return "open" === this.timeline.type?this.timeline.duration:0;},enumerable:!1,configurable:!0}});g.prototype.gxc=function(){this.kAb.hz();this.timeline.type || this.timeline.pYa("closed");};g.prototype.EY=function(){this.lAb.hz();this.timeline.pYa("open");this.open++;};g.prototype.closed=function(){this.Kjb.hz();0 < this.open && 0 === --this.open && this.timeline.pYa("closed");};g.prototype.K5b=function(){this.Ljb.hz();};g.prototype.S=function(f){this.NFb.hz();this.DWa.hz(f);};g.prototype.oDb=function(f){this.pDb.hz();this.iaa.hz(f);};g.prototype.error=function(){this.WKa.hz();};Object.defineProperties(g.prototype,{values:{get:function(){return {client:this.client,na:(0,n.na)(),KKb:this.KKb,Ohb:this.Ohb,pHb:this.pHb,Y1c:this.kAb.total,open:this.lAb.total,close:this.Kjb.total,YWc:this.Ljb.total,S:this.NFb.total,DWa:this.DWa.total,oDb:this.pDb.total,iaa:this.iaa.total,Oy:this.WKa.total};},enumerable:!1,configurable:!0}});return g;})();b.ldb=t;},1409:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.pbb=void 0;d=a(62411);t=(function(){function n(c){this.gm=c;}n.prototype.nonce=function(c){var g;g=this.gm.Wmc(c);switch(g.type){case "nonce":return g.nonce;case "unauthorized":throw (0,d.Gcb)(c);}};n.prototype.response=function(c,g){return JSON.stringify(this.gm.K1b({encryptedNonce:g,aleToken:c}));};n.prototype.validate=function(c){var g;g=c.payload;if(!c.socketRouterError && "AUTHENTICATED" === (null === g || void 0 === g?void 0:g.aleResponseState))return !0;throw (0,d.D3a)(c);};return n;})();b.pbb=t;},41066:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(33884),b);t.__exportStar(a(74041),b);t.__exportStar(a(25987),b);},65646:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.U6a=void 0;d=a(22970);t=(function(){function n(c){var g,f;g=this;this.kIb={logblob:0,events:0,manifest:0,license:0,ntlBatch:0,ntlSendImmediate:0};this.Ff={logblob:0,events:0,manifest:0,license:0,ntlBatch:0,ntlSendImmediate:0};this.options=d.__assign({},c);f=this.options.client.ta.J1b(function(){return {connection:g.options.gm.connection};});c.Tf.on("sending",function(e){var h,l;h=e.request;l=h.id;h=h.type;e=e.size;f.nY("sending-request",{message:("Sending ").concat(h," of size ").concat(e),type:h,correlationId:l,size:e});}).on("succeeded",function(e){return g.kIb[e.request.type]++;}).on("failed",function(e){var h;h=e.error;g.Ff[e.request.type]++;f.error("sending-request",h);});c.Yl.visible.on("yes",function(){f.nY("stats",{stats:g.stats()});}).on("no",function(){c.LE && f.nY("disable-on-suspend","Stopping on suspend");});c.Yl.events.on("application-shutdown",function(){f.nY("stats",{stats:g.stats()});});}n.jia=function(c){d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(g){switch(g.label){case 0:return [4,c.Yl.visible.omb];case 1:return (g.S(),new n(c),[2]);}});});};n.prototype.stats=function(){return {success:this.kIb,failure:this.Ff,correlationId:this.options.gm.correlationId};};return n;})();b.U6a=t;},14152:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.B2=void 0;d=a(22970);t=a(70402);n=a(62411);a=(function(c){function g(f){var e;e=c.call(this) || this;e.map={};e.options=d.__assign({},f);return e;}d.__extends(g,c);g.prototype.jEc=function(f){return function(e){var h,l;l=String((null === (h=e.routingContext) || void 0 === h?void 0:h.correlationId) || "");if(l === f.id){if(e.socketRouterError)throw (0,n.A2)(f.type,l,"error-response",(0,n.D3a)(e));e=e.payload;if(!e)throw (0,n.A2)(f.type,l,"malformed",(0,n.w0)('Response missing "payload"'));return e;}};};g.prototype.send=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,h,l,k,m,p,r,q,u,v,w,x,y,A,z,B,C,D;return d.__generator(this,function(F){switch(F.label){case 0:(e=f.type,h=f.payload,l=f.options,k=this.options.gm.request(e,1,h),m=k.routingContext.correlationId,p=this.options.trace.extend(e,m),p("Preparing"),r=d.__assign(d.__assign({},f),{id:m,attempt:1}),F.label=1);case 1:F.qc.push([1,6,,7]);if(q=null === l || void 0 === l?void 0:l.maxInQueue)if((u=this.Bkb(e),u >= q))throw (0,n.A2)(e,m,"queue-full",(0,n.w0)(("Queue has ").concat(u)));v=JSON.stringify(k);if(w=null === l || void 0 === l?void 0:l.maxLengthBytes)if((x=v.length,x > w))throw (0,n.A2)(e,m,"too-large",(0,n.w0)(("Body is ").concat(v.length," bytes")));this.map[m]=r;F.label=2;case 2:return (F.qc.push([2,,4,5]),p("Sending..."),this.emit("sending",{request:r,size:v.length}),y=this.options,A=y.client,z=y.timeout,[4,A.request({body:v,timeout:z,filter:this.jEc(r)})]);case 3:return (B=F.S(),p("Succeeded"),this.emit("succeeded",{request:r}),[2,B]);case 4:return (delete this.map[m],[7]);case 5:return [3,7];case 6:throw (C=F.S(),D=(0,n.soc)(C,"request-failed") || (0,n.A2)(r.type,m,"cause",C),p("Failed with",D),this.emit("failed",{request:r,error:D}),D);case 7:return [2];}});});};g.prototype.Bkb=function(f){var e,h;e=0;for(h in this.map)this.map[h].type === f && e++;return e;};return g;})(t.EventEmitter);b.B2=a;},74041:function(t,b,a){var d,n,c,g,f,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.obb=void 0;d=a(22970);n=a(72163);t=a(70402);c=a(46876);g=a(14678);f=a(14152);e=a(65646);h=a(25987);a=(function(l){function k(m,p){var r,q,u;r=l.call(this) || this;r.trace=(0,n.Za)("SOCKET_ROUTER");r.options=m;q=p.visible;r.sf=new c.ldb("sr",p);r.gm=new h.DCa({VUa:m.VUa,Yl:p});u=m.Bw({trace:r.trace,sf:r.sf,LE:m.LE,Mgb:m.Mgb,url:m.url,visible:q,timeout:m.Xpa,gm:r.gm,Yl:p});r.client=new g.jdb({trace:r.trace,sf:r.sf,Bw:u,retry:void 0,cG:void 0,OY:m.OY,connect:void 0,disconnect:void 0,Yl:p});r.client.on("connected",function(v){r.emit("connected",v);r.emit("open");}).on("disconnected",function(){return r.gm.hnc();}).on("serverClose",function(){return r.emit("reconnect");}).on("ping",function(){return r.emit("ping");});r.jEb=new f.B2({trace:r.trace,timeout:m.Gra,client:r.client,gm:r.gm});m.LE && q.omb.then(function(){q.on("no",function(){r.trace("Disconnecting on suspend...");r.client.disconnect();});q.on("yes",function(){r.trace("Resumed, calling start...");r.start();});});e.U6a.jia({client:r.client,Yl:p,LE:m.LE,Tf:r.jEb,gm:r.gm});return r;}d.__extends(k,l);Object.defineProperties(k.prototype,{connected:{get:function(){return !!this.client.connected;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{QPa:{get:function(){return this.connected;},enumerable:!1,configurable:!0}});k.prototype.request=function(m){return this.jEb.send(m).then(function(p){return {body:p,headers:[]};});};k.prototype.send=function(m,p){m=JSON.stringify(this.gm.ggc(m,p));return this.client.send(m);};k.prototype.start=function(){this.connected || this.client.KIa || this.client.Ff || (this.trace('Reconnecting because "start" was called'),this.client.cG());};return k;})(t.EventEmitter);b.obb=a;},33884:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},25987:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.DCa=void 0;d=a(22970);n=a(62411);c={logblob:"pbo-logblob",events:"pbo-event",manifest:"pbo-manifest",license:"pbo-license",ntlBatch:"ntl-log",ntlSendImmediate:"ntl-event"};t=(function(){function g(f){this.LIa=this.NRa=1;this.options=f;}g.prototype.kRa=function(f,e,h){var l,k;k=this.correlationId;this.NRa++;return {routingContext:{messageType:f,correlationId:k,attempt:e,foreground:null !== (l=this.options.Yl.visible.T_) && void 0 !== l?l:!1},payload:h};};Object.defineProperties(g.prototype,{correlationId:{get:function(){return ("").concat(this.LIa,"-").concat(this.NRa);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{connection:{get:function(){return this.LIa;},enumerable:!1,configurable:!0}});g.prototype.hnc=function(){this.LIa++;this.NRa=1;};g.prototype.K1b=function(f){var e;e=this.options.Yl.info;f=d.__assign(d.__assign({},f),{clientInfo:{build:e.Mca.build,platform:e.Mca.platform,applicationVersion:e.Mca.Oa,uiPlatform:e.gZa,uiVersion:e.Mca.gZa,player:e.Mca.player},groupName:e.groupName});return d.__assign(d.__assign({},this.kRa("authentication",void 0,f)),{requiresPushySupport:this.options.VUa});};g.prototype.request=function(f,e,h){return this.kRa(c[f],e,h);};g.prototype.ggc=function(f,e){return this.kRa(f,1,e);};g.prototype.Wmc=function(f){var e,h,l;l=null === (e=f.routingContext) || void 0 === e?void 0:e.messageType;switch(l){case "nonce":if((e=null === (h=f.payload) || void 0 === h?void 0:h.nonceToken) && "string" === typeof e)return {type:l,nonce:e};throw (0,n.IQb)(f);case "unauthorized":return {type:l};}return {type:"unknown"};};g.hFc=2;return g;})();b.DCa=t;},12746:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hva=void 0;d=a(22970);n=a(91176);t=(function(c){function g(f){var e;e=c.call(this) || this;e.first=new n.An();e.omb=e.first.promise;null === f || void 0 === f?void 0:f.then(function(h){return e.set(h);});return e;}d.__extends(g,c);g.prototype.set=function(f){f !== this.value && (void 0 === this.value && this.first.resolve(this),this.value=f,this.emit(f?"yes":"no"));return this;};Object.defineProperties(g.prototype,{T_:{get:function(){return this.value;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lSa:{get:function(){if(void 0 !== this.value)return !this.value;},enumerable:!1,configurable:!0}});g.prototype.toString=function(){return String(this.value);};return g;})(a(90745).EventEmitter);b.hva=t;},28020:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.na=function(){return d.platform.time.na();};d=a(66164);},97936:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JD=void 0;t=(function(){function a(d,n){var c;c=this;this.timeout=setTimeout(function(){c.timeout=void 0;d();},n);}Object.defineProperties(a.prototype,{CZ:{get:function(){if(this.timeout)return !0;},enumerable:!1,configurable:!0}});a.prototype.clear=function(){if(this.timeout)return (clearTimeout(this.timeout),this.timeout=void 0,!0);};return a;})();b.JD=t;},91072:function(t,b,a){var n,c,g,f;function d(e){return e.filter(function(h){return h.start !== h.end;}).map(function(h){var l,k,m,p,r;l=h.hmb;k=h.start;m=h.end;p=h.error;r=h.details;h=("").concat(h.type).concat(l?(" (").concat(l,"):"):":"," ").concat(m - k," ms").concat(p?" (failed)":"");return r?[h,d(r)]:h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.gcb=b.bDa=b.bVb=void 0;n=a(22970);c=a(28020);g=(function(){function e(h,l){h="string" === typeof h?[h,void 0]:h;this.interval={type:h[0],hmb:h[1],start:(0,c.na)(),end:NaN};this.ended=l;}e.prototype.end=function(h){isNaN(this.interval.end) && (this.interval.end=(0,c.na)(),this.interval.error=h,this.ended(this.interval));};Object.defineProperties(e.prototype,{type:{get:function(){return this.interval.type;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{CZ:{get:function(){return isNaN(this.interval.end);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{duration:{get:function(){var h,l;h=this.interval;l=h.start;h=h.end;return (isNaN(h)?(0,c.na)():h) - l;},enumerable:!1,configurable:!0}});e.prototype.details=function(){return new f(this.interval);};return e;})();b.bVb=g;f=(function(){function e(h){this.er=[];(null === h || void 0 === h?0:h.details)?this.er=h.details:h && (h.details=this.er);}e.prototype.push=function(h,l,k,m){h="string" === typeof h?[h,void 0]:h;this.er.push({type:h[0],hmb:h[1],start:l,end:k,error:m});};e.prototype.Tsa=function(h){var l;l=this;return new g(h,function(k){l.er.push(k);});};e.prototype.bia=function(h,l){return n.__awaiter(this,void 0,void 0,function(){var k,m,p;return n.__generator(this,function(r){switch(r.label){case 0:(k=this.Tsa(h),r.label=1);case 1:return (r.qc.push([1,3,,4]),[4,l(k)]);case 2:return (m=r.S(),k.end(),[2,m]);case 3:throw (p=r.S(),k.end(p),p);case 4:return [2];}});});};Object.defineProperties(e.prototype,{duration:{get:function(){return this.end - this.start;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{first:{get:function(){return this.er[0];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{xd:{get:function(){return this.er[this.er.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{start:{get:function(){var h,l;return null !== (l=null === (h=this.first) || void 0 === h?void 0:h.start) && void 0 !== l?l:NaN;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{end:{get:function(){var h,l;return null !== (l=null === (h=this.xd) || void 0 === h?void 0:h.end) && void 0 !== l?l:NaN;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{count:{get:function(){return this.er.length;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{WKa:{get:function(){return this.er.reduce(function(h,l){return l.error?h + 1:h;},0);},enumerable:!1,configurable:!0}});e.prototype.Bkb=function(h){return this.er.reduce(function(l,k){return k.type === h?l + 1:l;},0);};e.prototype.summary=function(){return d(this.er);};return e;})();b.bDa=f;t=(function(){function e(){this.nca={};}e.prototype.pYa=function(h){var l,k,m;l=this;(null === (k=this.k_) || void 0 === k?void 0:k.type) !== h && (null === (m=this.k_) || void 0 === m?void 0:m.end(),this.k_=new g(h,function(p){l.nca[h]=(l.nca[h] || 0) + p.end - p.start;}));};Object.defineProperties(e.prototype,{type:{get:function(){var h;return null === (h=this.k_) || void 0 === h?void 0:h.type;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{duration:{get:function(){var h,l;return null !== (l=null === (h=this.k_) || void 0 === h?void 0:h.duration) && void 0 !== l?l:0;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{total:{get:function(){var h;h=this;return Object.keys(this.nca).reduce(function(l,k){return l + h.nca[k];},this.duration);},enumerable:!1,configurable:!0}});e.prototype.cLc=function(){var h;return (this.nca.open || 0) + ("open" === (null === (h=this.k_) || void 0 === h?void 0:h.type)?this.k_.duration:0);};return e;})();b.gcb=t;},72163:function(t,b,a){var n,c;function d(g){var l,k;function f(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return k?l.trace.apply(l,n.__spreadArray([k],m,!1)):l.trace.apply(l,m);}for(var e=[],h=1;h < arguments.length;h++)e[h - 1]=arguments[h];l="string" === typeof g?new c.platform.Console(g):g;k=e.filter(function(m){return m;}).map(function(m){return ("").concat(m);}).join(":");f.console=l;f.extend=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return d.apply(void 0,n.__spreadArray([l],n.__spreadArray([k],m,!0),!1));};f.error=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return l.error.apply(l,n.__spreadArray([k],m,!1));};return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.Za=d;n=a(22970);c=a(66164);},75177:function(){},794:function(t,b,a){var d,n,c,g,f,e,h,l,k,m;d=a(67286)("%TypeError%");n=a(57017);c=a(32249);g=a(70126);f=a(38476);e=a(38733);h=a(80907);l=a(4);k=a(83891);m=a(18132);t.exports=function(p,r,q){if("Object" !== m(p))throw new d("Assertion failed: Type(O) is not Object");if(!h(r))throw new d("Assertion failed: IsPropertyKey(P) is not true");q=n({tcb:m,I5a:e,H5a:f},q)?q:k(q);if(!n({tcb:m,I5a:e,H5a:f},q))throw new d("Assertion failed: Desc is not a valid Property Descriptor");return c(e,l,g,p,r,q);};},70126:function(t,b,a){var d,n,c;d=a(10487);n=a(84902);c=a(18132);t.exports=function(g){"undefined" !== typeof g && d(c,"Property Descriptor","Desc",g);return n(g);};},38476:function(t,b,a){var d,n,c;d=a(23198);n=a(18132);c=a(10487);t.exports=function(g){if("undefined" === typeof g)return !1;c(n,"Property Descriptor","Desc",g);return d(g,"[[Get]]") || d(g,"[[Set]]")?!0:!1;};},83317:function(t,b,a){t.exports=a(9680);},20451:function(t,b,a){var d,n,c;d=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(g){b=null;}if(b && d){n={};c={};b(c,"length",{"[[Get]]":function(){throw n;},"[[Enumerable]]":!0});t.exports=function(g){try{d(g,c);}catch(f){return f === n;}};}else t.exports=function(g){return "function" === typeof g && !!g.prototype;};},38733:function(t,b,a){var d,n,c;d=a(23198);n=a(18132);c=a(10487);t.exports=function(g){if("undefined" === typeof g)return !1;c(n,"Property Descriptor","Desc",g);return d(g,"[[Value]]") || d(g,"[[Writable]]")?!0:!1;};},80907:function(t){t.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},77850:function(t,b,a){t.exports=a(94566);},4:function(t,b,a){var d;d=a(97911);t.exports=function(n,c){return n === c?0 === n?1 / n === 1 / c:!0:d(n) && d(c);};},99939:function(t,b,a){var d;d=a(97911);t.exports=function(n,c){return n === c || d(n) && d(c);};},88251:function(t,b,a){var d,n,c,g;b=a(67286);d=b("%Symbol.species%",!0);n=b("%TypeError%");c=a(20451);g=a(18132);t.exports=function(f,e){if("Object" !== g(f))throw new n("Assertion failed: Type(O) is not Object");f=f.constructor;if("undefined" === typeof f)return e;if("Object" !== g(f))throw new n("O.constructor is not an Object");f=d?f[d]:void 0;if(null == f)return e;if(c(f))return f;throw new n("no constructor found");};},14463:function(t){t.exports=function(b){return !!b;};},76113:function(t,b,a){var d,n,c,g,f,e;d=a(46382);n=a(26827);c=a(84583);g=a(97911);f=a(51832);e=a(79747);t.exports=function(h){var l;h=c(h);if(g(h) || 0 === h)return 0;if(!f(h))return h;l=n(d(h));return 0 === l?0:e(h) * l;};},69808:function(t,b,a){var d,n;d=a(74339);n=a(76113);t.exports=function(c){c=n(c);return 0 >= c?0:c > d?d:c;};},84583:function(t,b,a){var d,n,c,g,f,e,h,l,k,m,p,r,q;d=a(67286);n=d("%TypeError%");c=d("%Number%");b=d("%RegExp%");g=d("%parseInt%");f=a(62680);d=a(63671);e=a(45819);h=f("String.prototype.slice");l=d(/^0b[01]+$/i);k=d(/^0o[0-7]+$/i);m=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");p=d(b);r=a(11341);q=a(99197);t.exports=function w(v){var x;v=e(v)?v:q(v,c);if("symbol" === typeof v)throw new n("Cannot convert a Symbol value to a number");if("bigint" === typeof v)throw new n("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof v){if(l(v))return w(g(h(v,2),2));if(k(v))return w(g(h(v,2),8));if(p(v) || m(v))return NaN;x=r(v);if(x !== v)return w(x);}return c(v);};},48668:function(t,b,a){var d,n;d=a(67286)("%Object%");n=a(77850);t.exports=function(c){n(c);return d(c);};},99197:function(t,b,a){var d;d=a(5885);t.exports=function(n){return 1 < arguments.length?d(n,arguments[1]):d(n);};},83891:function(t,b,a){var d,n,c,g,f;d=a(23198);n=a(67286)("%TypeError%");c=a(18132);g=a(14463);f=a(83317);t.exports=function(e){var h,l;if("Object" !== c(e))throw new n("ToPropertyDescriptor requires an object");h={};d(e,"enumerable") && (h["[[Enumerable]]"]=g(e.enumerable));d(e,"configurable") && (h["[[Configurable]]"]=g(e.configurable));d(e,"value") && (h["[[Value]]"]=e.value);d(e,"writable") && (h["[[Writable]]"]=g(e.writable));if(d(e,"get")){l=e.get;if("undefined" !== typeof l && !f(l))throw new n("getter must be a function");h["[[Get]]"]=l;}if(d(e,"set")){e=e.set;if("undefined" !== typeof e && !f(e))throw new n("setter must be a function");h["[[Set]]"]=e;}if((d(h,"[[Get]]") || d(h,"[[Set]]")) && (d(h,"[[Value]]") || d(h,"[[Writable]]")))throw new n("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return h;};},18132:function(t,b,a){var d;d=a(96222);t.exports=function(n){return "symbol" === typeof n?"Symbol":"bigint" === typeof n?"BigInt":d(n);};},46382:function(t,b,a){var d;d=a(67286)("%Math.abs%");t.exports=function(n){return d(n);};},26827:function(t,b,a){var d,n;d=a(18132);n=Math.floor;t.exports=function(c){return "BigInt" === d(c)?c:n(c);};},80633:function(t,b,a){t.exports=a(94566);},24158:function(t,b,a){var d,n;b=a(67286);d=b("%String%");n=b("%TypeError%");t.exports=function(c){if("symbol" === typeof c)throw new n("Cannot convert a Symbol value to a string");return d(c);};},94566:function(t,b,a){var d;d=a(67286)("%TypeError%");t.exports=function(n,c){if(null == n)throw new d(c || "Cannot call method on " + n);return n;};},96222:function(t){t.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},90982:function(t,b,a){t.exports=a(67286);},32249:function(t,b,a){var d,n,c,g,f;b=a(81181);d=a(67286);n=b() && d("%Object.defineProperty%",!0);c=b.Rlc();g=c && a(27595);f=a(62680)("Object.prototype.propertyIsEnumerable");t.exports=function(e,h,l,k,m,p){if(!n){if(!e(p) || !p["[[Configurable]]"] || !p["[[Writable]]"] || (m in k) && f(k,m) !== !!p["[[Enumerable]]"])return !1;e=p["[[Value]]"];k[m]=e;return h(k[m],e);}if(c && "length" === m && ("[[Value]]" in p) && g(k) && k.length !== p["[[Value]]"])return (k.length=p["[[Value]]"],k.length === p["[[Value]]"]);n(k,m,l(p));return !0;};},27595:function(t,b,a){var d;b=a(67286)("%Array%");d=!b.isArray && a(62680)("Object.prototype.toString");t.exports=b.isArray || (function(n){return "[object Array]" === d(n);});},10487:function(t,b,a){var d,n,c,g,f;b=a(67286);d=b("%TypeError%");n=b("%SyntaxError%");c=a(23198);g=a(90748);f={"Property Descriptor":function(e){var h;h={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!e)return !1;for(var l in e)if(c(e,l) && !h[l])return !1;h=c(e,"[[Value]]");e=c(e,"[[Get]]") || c(e,"[[Set]]");if(h && e)throw new d("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(40508),"Iterator Record":function(e){return c(e,"[[Iterator]]") && c(e,"[[NextMethod]]") && c(e,"[[Done]]");},"PromiseCapability Record":function(e){return !!e && c(e,"[[Resolve]]") && "function" === typeof e["[[Resolve]]"] && c(e,"[[Reject]]") && "function" === typeof e["[[Reject]]"] && c(e,"[[Promise]]") && e["[[Promise]]"] && "function" === typeof e["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(e){return !!e && c(e,"[[Completion]]") && c(e,"[[Capability]]") && f["PromiseCapability Record"](e["[[Capability]]"]);},"RegExp Record":function(e){return e && c(e,"[[IgnoreCase]]") && "boolean" === typeof e["[[IgnoreCase]]"] && c(e,"[[Multiline]]") && "boolean" === typeof e["[[Multiline]]"] && c(e,"[[DotAll]]") && "boolean" === typeof e["[[DotAll]]"] && c(e,"[[Unicode]]") && "boolean" === typeof e["[[Unicode]]"] && c(e,"[[CapturingGroupsCount]]") && "number" === typeof e["[[CapturingGroupsCount]]"] && g(e["[[CapturingGroupsCount]]"]) && 0 <= e["[[CapturingGroupsCount]]"];}};t.exports=function(e,h,l,k){var m;m=f[h];if("function" !== typeof m)throw new n("unknown record type: " + h);if("Object" !== e(k) || !m(k))throw new d(l + " must be a " + h);};},84902:function(t){t.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(t,b,a){var d;d=a(97911);t.exports=function(n){return ("number" === typeof n || "bigint" === typeof n) && !d(n) && Infinity !== n && -Infinity !== n;};},90748:function(t,b,a){var d,n,c,g;b=a(67286);d=b("%Math.abs%");n=b("%Math.floor%");c=a(97911);g=a(51832);t.exports=function(f){if("number" !== typeof f || c(f) || !g(f))return !1;f=d(f);return n(f) === f;};},40508:function(t,b,a){var d;d=a(23198);t.exports=function(n){return d(n,"[[StartIndex]]") && d(n,"[[EndIndex]]") && 0 <= n["[[StartIndex]]"] && n["[[EndIndex]]"] >= n["[[StartIndex]]"] && String(parseInt(n["[[StartIndex]]"],10)) === String(n["[[StartIndex]]"]) && String(parseInt(n["[[EndIndex]]"],10)) === String(n["[[EndIndex]]"]);};},97911:function(t){t.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(t){t.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},57017:function(t,b,a){var d,n;b=a(67286);d=a(23198);n=b("%TypeError%");t.exports=function(c,g){var f,e;if("Object" !== c.tcb(g))return !1;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(e in g)if(d(g,e) && !f[e])return !1;if(c.I5a(g) && c.H5a(g))throw new n("Property Descriptors may not be both accessor and data descriptors");return !0;};},74339:function(t){t.exports=Number.MAX_SAFE_INTEGER || 9007199254740991;},79747:function(t){t.exports=function(b){return 0 <= b?1:-1;};},22970:function(t,b,a){var Q,P,S,Y;function d(X){d=Object.getOwnPropertyNames || (function(T){var U,Z;U=[];for(Z in T)Object.prototype.hasOwnProperty.call(T,Z) && (U[U.length]=Z);return U;});return d(X);}function n(){n=Object.assign || (function(X){for(var T,U=1,Z=arguments.length;U < Z;U++){T=arguments[U];for(var aa in T)Object.prototype.hasOwnProperty.call(T,aa) && (X[aa]=T[aa]);}return X;});return n.apply(this,arguments);}function c(X,T){c=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(U,Z){U.__proto__=Z;}) || (function(U,Z){for(var aa in Z)Object.prototype.hasOwnProperty.call(Z,aa) && (U[aa]=Z[aa]);});return c(X,T);}function g(X,T){function U(){this.constructor=X;}if("function" !== typeof T && null !== T)throw new TypeError("Class extends value " + String(T) + " is not a constructor or null");c(X,T);X.prototype=null === T?Object.create(T):(U.prototype=T.prototype,new U());}function f(X,T){var U,Z,aa;U={};for(Z in X)Object.prototype.hasOwnProperty.call(X,Z) && 0 > T.indexOf(Z) && (U[Z]=X[Z]);if(null != X && "function" === typeof Object.getOwnPropertySymbols){aa=0;for(Z=Object.getOwnPropertySymbols(X);aa < Z.length;aa++)0 > T.indexOf(Z[aa]) && Object.prototype.propertyIsEnumerable.call(X,Z[aa]) && (U[Z[aa]]=X[Z[aa]]);}return U;}function e(X,T,U,Z){var aa,da,fa;aa=arguments.length;da=3 > aa?T:null === Z?Z=Object.getOwnPropertyDescriptor(T,U):Z;if("object" === typeof Reflect && "function" === typeof Reflect.tI)da=Reflect.tI(X,T,U,Z);else for(var ma=X.length - 1;0 <= ma;ma--)if(fa=X[ma])da=(3 > aa?fa(da):3 < aa?fa(T,U,da):fa(T,U)) || da;return (3 < aa && da && Object.defineProperty(T,U,da),da);}function h(X,T){return function(U,Z){T(U,Z,X);};}function l(X,T,U,Z,aa,da){var ma,R,ca;function fa(la){if(void 0 !== la && "function" !== typeof la)throw new TypeError("Function expected");return la;}ma=Z.kind;R="getter" === ma?"get":"setter" === ma?"set":"value";X=!T && X?Z["static"]?X:X.prototype:null;T=T || (X?Object.getOwnPropertyDescriptor(X,Z.name):{});for(var M,V=!1,ba=U.length - 1;0 <= ba;ba--){M={};for(var ha in Z)M[ha]="access" === ha?{}:Z[ha];for(ha in Z.Jfb)M.Jfb[ha]=Z.Jfb[ha];M.PVc=function(la){if(V)throw new TypeError("Cannot add initializers after decoration has completed");da.push(fa(la || null));};ca=(0,U[ba])("accessor" === ma?{get:T.get,set:T.set}:T[R],M);if("accessor" === ma){if(void 0 !== ca){if(null === ca || "object" !== typeof ca)throw new TypeError("Object expected");if(M=fa(ca.get))T.get=M;if(M=fa(ca.set))T.set=M;(M=fa(ca.Sb)) && aa.unshift(M);}}else if(M=fa(ca))"field" === ma?aa.unshift(M):T[R]=M;}X && Object.defineProperty(X,Z.name,T);V=!0;}function k(X,T,U){for(var Z=2 < arguments.length,aa=0;aa < T.length;aa++)U=Z?T[aa].call(X,U):T[aa].call(X);return Z?U:void 0;}function m(X){return "symbol" === typeof X?X:("").concat(X);}function p(X,T,U){"symbol" === typeof T && (T=T.description?("[").concat(T.description,"]"):"");return Object.defineProperty(X,"name",{configurable:!0,value:U?("").concat(U," ",T):T});}function r(X,T){if("object" === typeof Reflect && "function" === typeof Reflect.Kd)return Reflect.Kd(X,T);}function q(X,T,U,Z){function aa(da){return da instanceof U?da:new U(function(fa){fa(da);});}return new (U || (U=Promise))(function(da,fa){function ma(V){try{M(Z.next(V));}catch(ba){fa(ba);}}function R(V){try{M(Z["throw"](V));}catch(ba){fa(ba);}}function M(V){V.done?da(V.value):aa(V.value).then(ma,R);}M((Z=Z.apply(X,T || [])).next());});}function u(X,T){var aa,da,fa,ma,R;function U(M){return function(V){return Z([M,V]);};}function Z(M){if(da)throw new TypeError("Generator is already executing.");for(;(R && (R=0,M[0] && (aa=0)),aa);)try{if((da=1,fa && (ma=M[0] & 2?fa["return"]:M[0]?fa["throw"] || ((ma=fa["return"]) && ma.call(fa),0):fa.next) && !(ma=ma.call(fa,M[1])).done))return ma;if((fa=0,ma))M=[M[0] & 2,ma.value];switch(M[0]){case 0:case 1:ma=M;break;case 4:return (aa.label++,{value:M[1],done:!1});case 5:aa.label++;fa=M[1];M=[0];continue;case 7:M=aa.mQ.pop();aa.qc.pop();continue;default:if(!(ma=aa.qc,ma=0 < ma.length && ma[ma.length - 1]) && (6 === M[0] || 2 === M[0])){aa=0;continue;}if(3 === M[0] && (!ma || M[1] > ma[0] && M[1] < ma[3]))aa.label=M[1];else if(6 === M[0] && aa.label < ma[1])(aa.label=ma[1],ma=M);else if(ma && aa.label < ma[2])(aa.label=ma[2],aa.mQ.push(M));else {ma[2] && aa.mQ.pop();aa.qc.pop();continue;}}M=T.call(X,aa);}catch(V){M=[6,V];fa=0;}finally{da=ma=0;}if(M[0] & 5)throw M[1];return {value:M[0]?M[1]:void 0,done:!0};}aa={label:0,S:function(){if(ma[0] & 1)throw ma[1];return ma[1];},qc:[],mQ:[]};R=Object.create(("function" === typeof Iterator?Iterator:Object).prototype);return (R.next=U(0),R["throw"]=U(1),R["return"]=U(2),"function" === typeof Symbol && (R[Symbol.iterator]=function(){return this;}),R);}function v(X,T){for(var U in X)"default" === U || Object.prototype.hasOwnProperty.call(T,U) || Q(T,X,U);}function w(X){var T,U,Z;T="function" === typeof Symbol && Symbol.iterator;U=T && X[T];Z=0;if(U)return U.call(X);if(X && "number" === typeof X.length)return {next:function(){X && Z >= X.length && (X=void 0);return {value:X && X[Z++],done:!X};}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.");}function x(X,T){var U,Z,aa;U="function" === typeof Symbol && X[Symbol.iterator];if(!U)return X;X=U.call(X);aa=[];try{for(;(void 0 === T || 0 < T--) && !(Z=X.next()).done;)aa.push(Z.value);}catch(fa){var da;da={error:fa};}finally{try{Z && !Z.done && (U=X["return"]) && U.call(X);}finally{if(da)throw da.error;}}return aa;}function y(){for(var X=[],T=0;T < arguments.length;T++)X=X.concat(x(arguments[T]));return X;}function A(){var Z;for(var X=0,T=0,U=arguments.length;T < U;T++)X+=arguments[T].length;X=Array(X);Z=0;for(T=0;T < U;T++)for(var aa=arguments[T],da=0,fa=aa.length;da < fa;(da++,Z++))X[Z]=aa[da];return X;}function z(X,T,U){if(U || 2 === arguments.length)for(var Z=0,aa=T.length,da;Z < aa;Z++)!da && (Z in T) || (da || (da=Array.prototype.slice.call(T,0,Z)),da[Z]=T[Z]);return X.concat(da || Array.prototype.slice.call(T));}function B(X){return this instanceof B?(this.Jca=X,this):new B(X);}function C(X,T,U){var R,M,V;function Z(ba,ha){R[ba] && (M[ba]=function(ca){return new Promise(function(la,ra){1 < V.push([ba,ca,la,ra]) || aa(ba,ca);});},ha && (M[ba]=ha(M[ba])));}function aa(ba,ha){var ca;try{ca=R[ba](ha);ca.value instanceof B?Promise.resolve(ca.value.Jca).then(da,fa):ma(V[0][2],ca);}catch(la){ma(V[0][3],la);}}function da(ba){aa("next",ba);}function fa(ba){aa("throw",ba);}function ma(ba,ha){(ba(ha),V.shift(),V.length) && aa(V[0][0],V[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=U.apply(X,T || []);V=[];return (M=Object.create(("function" === typeof AsyncIterator?AsyncIterator:Object).prototype),Z("next"),Z("throw"),Z("return",function(ba){return function(ha){return Promise.resolve(ha).then(ba,fa);};}),M[Symbol.asyncIterator]=function(){return this;},M);}function D(X){var U,Z;function T(aa,da){U[aa]=X[aa]?function(fa){return (Z=!Z)?{value:B(X[aa](fa)),done:!1}:da?da(fa):fa;}:da;}return (U={},T("next"),T("throw",function(aa){throw aa;}),T("return"),U[Symbol.iterator]=function(){return this;},U);}function F(X){var Z,aa;function T(da){aa[da]=X[da] && (function(fa){return new Promise(function(ma,R){fa=X[da](fa);U(ma,R,fa.done,fa.value);});});}function U(da,fa,ma,R){Promise.resolve(R).then(function(M){da({value:M,done:ma});},fa);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Z=X[Symbol.asyncIterator];return Z?Z.call(X):(X="function" === typeof w?w(X):X[Symbol.iterator](),aa={},T("next"),T("throw"),T("return"),aa[Symbol.asyncIterator]=function(){return this;},aa);}function H(X,T){Object.defineProperty?Object.defineProperty(X,"raw",{value:T}):X.raw=T;return X;}function E(X){var T;if(X && X.__esModule)return X;T={};if(null != X)for(var U=d(X),Z=0;Z < U.length;Z++)"default" !== U[Z] && Q(T,X,U[Z]);P(T,X);return T;}function G(X){return X && X.__esModule?X:{default:X};}function K(X,T,U,Z){if("a" === U && !Z)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof T?X !== T || !Z:!T.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === U?Z:"a" === U?Z.call(X):Z?Z.value:T.get(X);}function N(X,T,U,Z,aa){if("m" === Z)throw new TypeError("Private method is not writable");if("a" === Z && !aa)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof T?X !== T || !aa:!T.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === Z?aa.call(X,U):aa?aa.value=U:T.set(X,U),U);}function I(X,T){if(null === T || "object" !== typeof T && "function" !== typeof T)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof X?T === X:X.has(T);}function L(X,T,U){var Z,aa;if(null !== T && void 0 !== T){if("object" !== typeof T && "function" !== typeof T)throw new TypeError("Object expected.");if(U){if(!Symbol.h1b)throw new TypeError("Symbol.asyncDispose is not defined.");aa=T[Symbol.h1b];}if(void 0 === aa){if(!Symbol.Hg)throw new TypeError("Symbol.dispose is not defined.");aa=T[Symbol.Hg];U && (Z=aa);}if("function" !== typeof aa)throw new TypeError("Object not disposable.");Z && (aa=function(){try{Z.call(this);}catch(da){return Promise.reject(da);}});X.stack.push({value:T,Hg:aa,async:U});}else U && X.stack.push({async:!0});return T;}function O(X){var Z,aa;function T(da){X.error=X.pOa?new S(da,X.error,"An error was suppressed during disposal."):da;X.pOa=!0;}function U(){var da;for(;Z=X.stack.pop();)try{if(!Z.async && 1 === aa)return (aa=0,X.stack.push(Z),Promise.resolve().then(U));if(Z.Hg){da=Z.Hg.call(Z.value);if(Z.async)return (aa|=2,Promise.resolve(da).then(U,function(fa){T(fa);return U();}));}else aa|=1;}catch(fa){T(fa);}if(1 === aa)return X.pOa?Promise.reject(X.error):Promise.resolve();if(X.pOa)throw X.error;}aa=0;return U();}function J(X,T){return "string" === typeof X && (/^\.\.?\//).test(X)?X.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(U,Z,aa,da,fa){return Z?T?".jsx":".js":!aa || da && fa?aa + da + "." + fa.toLowerCase() + "js":U;}):X;}a.r(b);a.d(b,{RVb:function(){return L;},__assign:function(){return n;},__asyncDelegator:function(){return D;},__asyncGenerator:function(){return C;},__asyncValues:function(){return F;},__await:function(){return B;},__awaiter:function(){return q;},__classPrivateFieldGet:function(){return K;},__classPrivateFieldIn:function(){return I;},__classPrivateFieldSet:function(){return N;},__createBinding:function(){return Q;},__decorate:function(){return e;},SVb:function(){return O;},TVb:function(){return l;},__exportStar:function(){return v;},__extends:function(){return g;},__generator:function(){return u;},__importDefault:function(){return G;},__importStar:function(){return E;},__makeTemplateObject:function(){return H;},__metadata:function(){return r;},__param:function(){return h;},UVb:function(){return m;},__read:function(){return x;},__rest:function(){return f;},VVb:function(){return J;},WVb:function(){return k;},XVb:function(){return p;},__spread:function(){return y;},__spreadArray:function(){return z;},__spreadArrays:function(){return A;},__values:function(){return w;},"default":function(){return Y;}});Q=Object.create?function(X,T,U,Z){var aa;void 0 === Z && (Z=U);aa=Object.getOwnPropertyDescriptor(T,U);if(!aa || (("get" in aa)?!T.__esModule:aa.writable || aa.configurable))aa={enumerable:!0,get:function(){return T[U];}};Object.defineProperty(X,Z,aa);}:function(X,T,U,Z){void 0 === Z && (Z=U);X[Z]=T[U];};P=Object.create?function(X,T){Object.defineProperty(X,"default",{enumerable:!0,value:T});}:function(X,T){X["default"]=T;};S="function" === typeof SuppressedError?SuppressedError:function(X,T,U){U=Error(U);return (U.name="SuppressedError",U.error=X,U.a4c=T,U);};Y={__extends:g,__assign:n,__rest:f,__decorate:e,__param:h,TVb:l,WVb:k,UVb:m,XVb:p,__metadata:r,__awaiter:q,__generator:u,__createBinding:Q,__exportStar:v,__values:w,__read:x,__spread:y,__spreadArrays:A,__spreadArray:z,__await:B,__asyncGenerator:C,__asyncDelegator:D,__asyncValues:F,__makeTemplateObject:H,__importStar:E,__importDefault:G,__classPrivateFieldGet:K,__classPrivateFieldSet:N,__classPrivateFieldIn:I,RVb:L,SVb:O,VVb:J};}};va={};(function(){ia.d=function(t,b){for(var a in b)ia.Bzb(b,a) && !ia.Bzb(t,a) && Object.defineProperty(t,a,{enumerable:!0,get:b[a]});};})();(function(){ia.wW=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(t){if("object" === typeof Ba)return Ba;}})();})();(function(){ia.Bzb=function(t,b){return Object.prototype.hasOwnProperty.call(t,b);};})();(function(){ia.r=function(t){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0});};})();ia(28660);ia(26860)();ia(65574)();Ba._cad_global={};Ba.DEBUG=!1;ia(33096);ia(22365);ia(32687);ia(3887);ia(52569);ia(8825);ia(87051);ia(22894);ia(32219);ia(24066);ia(45146);ia(94886);ia(37509);ia(2734);ia(77705);ia(31298);ia(37353);ia(981);ia(73100);ia(7953);ia(15531);ia(97154);ia(33579);ia(50350);ia(75876);ia(19630);ia(59416);ia(50040);ia(70);ia(29204);ia(99732);ia(52828);ia(1481);ia(61726);ia(24427);ia(62604);ia(78857);ia(74413);ia(84281);ia(991);ia(46493);ia(24674);ia(93114);ia(36792);ia(74098);ia(86258);ia(18128);ia(45526);ia(90762);ia(73056);ia(67263);ia(53754);ia(20318);ia(70632);ia(59032);ia(45706);ia(3390);ia(2898);ia(76563);ia(39480);ia(13044);ia(62439);ia(6305);ia(42654);ia(78719);ia(59405);ia(58343);ia(59219);ia(61524);ia(13777);ia(41325);ia(42433);ia(30689);ia(66093);ia(99133);})();}).call(Ba);})(window);}).call(window);